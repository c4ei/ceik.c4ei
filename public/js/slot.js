/*!
 * pixi.js - v5.3.12
 * Compiled Wed, 23 Mar 2022 18:34:28 UTC
 *
 * pixi.js is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var PIXI=function(t){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function r(t,e){return t(e={exports:{}},e.exports),e.exports}var i=r(function(t,r){!function(t){var e=t.Promise,i=e&&"resolve"in e&&"reject"in e&&"all"in e&&"race"in e&&function(){var t;return new e(function(e){t=e}),"function"==typeof t}();r?(r.Promise=i?e:T,r.Polyfill=T):i||(t.Promise=T);var n="pending",o="sealed",s="fulfilled",a="rejected",h=function(){};function u(t){return"[object Array]"===Object.prototype.toString.call(t)}var l,c="undefined"!=typeof setImmediate?setImmediate:setTimeout,d=[];function p(){for(var t=0;t<d.length;t++)d[t][0](d[t][1]);d=[],l=!1}function f(t,e){d.push([t,e]),l||(l=!0,c(p,0))}function m(t){var e=t.owner,r=e.state_,i=e.data_,n=t[r],o=t.then;if("function"==typeof n){r=s;try{i=n(i)}catch(t){_(o,t)}}v(o,i)||(r===s&&y(o,i),r===a&&_(o,i))}function v(t,e){var r;try{if(t===e)throw new TypeError("A promises callback cannot return that same promise.");if(e&&("function"==typeof e||"object"==typeof e)){var i=e.then;if("function"==typeof i)return i.call(e,function(i){r||(r=!0,e!==i?y(t,i):g(t,i))},function(e){r||(r=!0,_(t,e))}),!0}}catch(e){return r||_(t,e),!0}return!1}function y(t,e){t!==e&&v(t,e)||g(t,e)}function g(t,e){t.state_===n&&(t.state_=o,t.data_=e,f(b,t))}function _(t,e){t.state_===n&&(t.state_=o,t.data_=e,f(E,t))}function x(t){var e=t.then_;t.then_=void 0;for(var r=0;r<e.length;r++)m(e[r])}function b(t){t.state_=s,x(t)}function E(t){t.state_=a,x(t)}function T(t){if("function"!=typeof t)throw new TypeError("Promise constructor takes a function argument");if(this instanceof T==!1)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[],function(t,e){function r(t){_(e,t)}try{t(function(t){y(e,t)},r)}catch(t){r(t)}}(t,this)}T.prototype={constructor:T,state_:n,then_:null,data_:void 0,then:function(t,e){var r={owner:this,then:new this.constructor(h),fulfilled:t,rejected:e};return this.state_===s||this.state_===a?f(m,r):this.then_.push(r),r.then},catch:function(t){return this.then(null,t)}},T.all=function(t){if(!u(t))throw new TypeError("You must pass an array to Promise.all().");return new this(function(e,r){var i=[],n=0;function o(t){return n++,function(r){i[t]=r,--n||e(i)}}for(var s,a=0;a<t.length;a++)(s=t[a])&&"function"==typeof s.then?s.then(o(a),r):i[a]=s;n||e(i)})},T.race=function(t){if(!u(t))throw new TypeError("You must pass an array to Promise.race().");return new this(function(e,r){for(var i,n=0;n<t.length;n++)(i=t[n])&&"function"==typeof i.then?i.then(e,r):e(i)})},T.resolve=function(t){return t&&"object"==typeof t&&t.constructor===this?t:new this(function(e){e(t)})},T.reject=function(t){return new this(function(e,r){r(t)})}}("undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:e)}),n=(i.Promise,i.Polyfill),o=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;var h=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(t){i[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var r,i,n=arguments,h=function(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),u=1;u<arguments.length;u++){for(var l in r=Object(n[u]))s.call(r,l)&&(h[l]=r[l]);if(o){i=o(r);for(var c=0;c<i.length;c++)a.call(r,i[c])&&(h[i[c]]=r[i[c]])}}return h};window.Promise||(window.Promise=n),Object.assign||(Object.assign=h);if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!window.performance||!window.performance.now){var u=Date.now();window.performance||(window.performance={}),window.performance.now=function(){return Date.now()-u}}for(var l=Date.now(),c=["ms","moz","webkit","o"],d=0;d<c.length&&!window.requestAnimationFrame;++d){var p=c[d];window.requestAnimationFrame=window[p+"RequestAnimationFrame"],window.cancelAnimationFrame=window[p+"CancelAnimationFrame"]||window[p+"CancelRequestAnimationFrame"]}window.requestAnimationFrame||(window.requestAnimationFrame=function(t){if("function"!=typeof t)throw new TypeError(t+"is not a function");var e=Date.now(),r=16+l-e;return r<0&&(r=0),l=e,window.setTimeout(function(){l=Date.now(),t(performance.now())},r)}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){return clearTimeout(t)}),Math.sign||(Math.sign=function(t){return 0===(t=Number(t))||isNaN(t)?t:t>0?1:-1}),Number.isInteger||(Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array),window.Uint8Array||(window.Uint8Array=Array),window.Int32Array||(window.Int32Array=Array);var f=/iPhone/i,m=/iPod/i,v=/iPad/i,y=/\biOS-universal(?:.+)Mac\b/i,g=/\bAndroid(?:.+)Mobile\b/i,_=/Android/i,x=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,b=/Silk/i,E=/Windows Phone/i,T=/\bWindows(?:.+)ARM\b/i,P=/BlackBerry/i,S=/BB10/i,w=/Opera Mini/i,I=/\b(CriOS|Chrome)(?:.+)Mobile/i,A=/Mobile(?:.+)Firefox\b/i,O=function(t){return void 0!==t&&"MacIntel"===t.platform&&"number"==typeof t.maxTouchPoints&&t.maxTouchPoints>1&&"undefined"==typeof MSStream};var M=function(t){var e={userAgent:"",platform:"",maxTouchPoints:0};t||"undefined"==typeof navigator?"string"==typeof t?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0}):e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var r=e.userAgent,i=r.split("[FBAN");void 0!==i[1]&&(r=i[0]),void 0!==(i=r.split("Twitter"))[1]&&(r=i[0]);var n=function(t){return function(e){return e.test(t)}}(r),o={apple:{phone:n(f)&&!n(E),ipod:n(m),tablet:!n(f)&&(n(v)||O(e))&&!n(E),universal:n(y),device:(n(f)||n(m)||n(v)||n(y)||O(e))&&!n(E)},amazon:{phone:n(x),tablet:!n(x)&&n(b),device:n(x)||n(b)},android:{phone:!n(E)&&n(x)||!n(E)&&n(g),tablet:!n(E)&&!n(x)&&!n(g)&&(n(b)||n(_)),device:!n(E)&&(n(x)||n(b)||n(g)||n(_))||n(/\bokhttp\b/i)},windows:{phone:n(E),tablet:n(T),device:n(E)||n(T)},other:{blackberry:n(P),blackberry10:n(S),opera:n(w),firefox:n(A),chrome:n(I),device:n(P)||n(S)||n(w)||n(A)||n(I)},any:!1,phone:!1,tablet:!1};return o.any=o.apple.device||o.android.device||o.windows.device||o.other.device,o.phone=o.apple.phone||o.android.phone||o.windows.phone,o.tablet=o.apple.tablet||o.android.tablet||o.windows.tablet,o}(window.navigator);var C={MIPMAP_TEXTURES:1,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:function(t){var e=!0;if(M.tablet||M.phone){var r;M.apple.device&&(r=navigator.userAgent.match(/OS (\d+)_(\d+)?/))&&parseInt(r[1],10)<11&&(e=!1),M.android.device&&(r=navigator.userAgent.match(/Android\s([0-9.]*)/))&&parseInt(r[1],10)<7&&(e=!1)}return e?t:4}(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:33071,SCALE_MODE:1,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:M.apple.device?"highp":"mediump",CAN_UPLOAD_SAME_BUFFER:!M.apple.device,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},D=r(function(t){var e=Object.prototype.hasOwnProperty,r="~";function i(){}function n(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function o(t,e,i,o,s){if("function"!=typeof i)throw new TypeError("The listener must be a function");var a=new n(i,o||t,s),h=r?r+e:e;return t._events[h]?t._events[h].fn?t._events[h]=[t._events[h],a]:t._events[h].push(a):(t._events[h]=a,t._eventsCount++),t}function s(t,e){0==--t._eventsCount?t._events=new i:delete t._events[e]}function a(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(r=!1)),a.prototype.eventNames=function(){var t,i,n=[];if(0===this._eventsCount)return n;for(i in t=this._events)e.call(t,i)&&n.push(r?i.slice(1):i);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},a.prototype.listeners=function(t){var e=r?r+t:t,i=this._events[e];if(!i)return[];if(i.fn)return[i.fn];for(var n=0,o=i.length,s=new Array(o);n<o;n++)s[n]=i[n].fn;return s},a.prototype.listenerCount=function(t){var e=r?r+t:t,i=this._events[e];return i?i.fn?1:i.length:0},a.prototype.emit=function(t,e,i,n,o,s){var a=arguments,h=r?r+t:t;if(!this._events[h])return!1;var u,l,c=this._events[h],d=arguments.length;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),d){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,i),!0;case 4:return c.fn.call(c.context,e,i,n),!0;case 5:return c.fn.call(c.context,e,i,n,o),!0;case 6:return c.fn.call(c.context,e,i,n,o,s),!0}for(l=1,u=new Array(d-1);l<d;l++)u[l-1]=a[l];c.fn.apply(c.context,u)}else{var p,f=c.length;for(l=0;l<f;l++)switch(c[l].once&&this.removeListener(t,c[l].fn,void 0,!0),d){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,e);break;case 3:c[l].fn.call(c[l].context,e,i);break;case 4:c[l].fn.call(c[l].context,e,i,n);break;default:if(!u)for(p=1,u=new Array(d-1);p<d;p++)u[p-1]=a[p];c[l].fn.apply(c[l].context,u)}}return!0},a.prototype.on=function(t,e,r){return o(this,t,e,r,!1)},a.prototype.once=function(t,e,r){return o(this,t,e,r,!0)},a.prototype.removeListener=function(t,e,i,n){var o=r?r+t:t;if(!this._events[o])return this;if(!e)return s(this,o),this;var a=this._events[o];if(a.fn)a.fn!==e||n&&!a.once||i&&a.context!==i||s(this,o);else{for(var h=0,u=[],l=a.length;h<l;h++)(a[h].fn!==e||n&&!a[h].once||i&&a[h].context!==i)&&u.push(a[h]);u.length?this._events[o]=1===u.length?u[0]:u:s(this,o)}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=r?r+t:t,this._events[e]&&s(this,e)):(this._events=new i,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a}),R=N,L=N;function N(t,e,r){r=r||2;var i,n,o,s,a,h,u,l=e&&e.length,c=l?e[0]*r:t.length,d=F(t,0,c,r,!0),p=[];if(!d||d.next===d.prev)return p;if(l&&(d=function(t,e,r,i){var n,o,s,a,h,u=[];for(n=0,o=e.length;n<o;n++)s=e[n]*i,a=n<o-1?e[n+1]*i:t.length,(h=F(t,s,a,i,!1))===h.next&&(h.steiner=!0),u.push(W(h));for(u.sort(H),n=0;n<u.length;n++)r=B(r=Y(u[n],r),r.next);return r}(t,e,d,r)),t.length>80*r){i=o=t[0],n=s=t[1];for(var f=r;f<c;f+=r)(a=t[f])<i&&(i=a),(h=t[f+1])<n&&(n=h),a>o&&(o=a),h>s&&(s=h);u=0!==(u=Math.max(o-i,s-n))?1/u:0}return U(d,p,r,i,n,u),p}function F(t,e,r,i,n){var o,s;if(n===st(t,e,r,i)>0)for(o=e;o<r;o+=i)s=it(o,t[o],t[o+1],s);else for(o=r-i;o>=e;o-=i)s=it(o,t[o],t[o+1],s);return s&&J(s,s.next)&&(nt(s),s=s.next),s}function B(t,e){if(!t)return t;e||(e=t);var r,i=t;do{if(r=!1,i.steiner||!J(i,i.next)&&0!==Z(i.prev,i,i.next))i=i.next;else{if(nt(i),(i=e=i.prev)===i.next)break;r=!0}}while(r||i!==e);return e}function U(t,e,r,i,n,o,s){if(t){!s&&o&&function(t,e,r,i){var n=t;do{null===n.z&&(n.z=V(n.x,n.y,e,r,i)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next}while(n!==t);n.prevZ.nextZ=null,n.prevZ=null,function(t){var e,r,i,n,o,s,a,h,u=1;do{for(r=t,t=null,o=null,s=0;r;){for(s++,i=r,a=0,e=0;e<u&&(a++,i=i.nextZ);e++);for(h=u;a>0||h>0&&i;)0!==a&&(0===h||!i||r.z<=i.z)?(n=r,r=r.nextZ,a--):(n=i,i=i.nextZ,h--),o?o.nextZ=n:t=n,n.prevZ=o,o=n;r=i}o.nextZ=null,u*=2}while(s>1)}(n)}(t,i,n,o);for(var a,h,u=t;t.prev!==t.next;)if(a=t.prev,h=t.next,o?X(t,i,n,o):k(t))e.push(a.i/r),e.push(t.i/r),e.push(h.i/r),nt(t),t=h.next,u=h.next;else if((t=h)===u){s?1===s?U(t=j(B(t),e,r),e,r,i,n,o,2):2===s&&G(t,e,r,i,n,o):U(B(t),e,r,i,n,o,1);break}}}function k(t){var e=t.prev,r=t,i=t.next;if(Z(e,r,i)>=0)return!1;for(var n=t.next.next;n!==t.prev;){if(q(e.x,e.y,r.x,r.y,i.x,i.y,n.x,n.y)&&Z(n.prev,n,n.next)>=0)return!1;n=n.next}return!0}function X(t,e,r,i){var n=t.prev,o=t,s=t.next;if(Z(n,o,s)>=0)return!1;for(var a=n.x<o.x?n.x<s.x?n.x:s.x:o.x<s.x?o.x:s.x,h=n.y<o.y?n.y<s.y?n.y:s.y:o.y<s.y?o.y:s.y,u=n.x>o.x?n.x>s.x?n.x:s.x:o.x>s.x?o.x:s.x,l=n.y>o.y?n.y>s.y?n.y:s.y:o.y>s.y?o.y:s.y,c=V(a,h,e,r,i),d=V(u,l,e,r,i),p=t.prevZ,f=t.nextZ;p&&p.z>=c&&f&&f.z<=d;){if(p!==t.prev&&p!==t.next&&q(n.x,n.y,o.x,o.y,s.x,s.y,p.x,p.y)&&Z(p.prev,p,p.next)>=0)return!1;if(p=p.prevZ,f!==t.prev&&f!==t.next&&q(n.x,n.y,o.x,o.y,s.x,s.y,f.x,f.y)&&Z(f.prev,f,f.next)>=0)return!1;f=f.nextZ}for(;p&&p.z>=c;){if(p!==t.prev&&p!==t.next&&q(n.x,n.y,o.x,o.y,s.x,s.y,p.x,p.y)&&Z(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;f&&f.z<=d;){if(f!==t.prev&&f!==t.next&&q(n.x,n.y,o.x,o.y,s.x,s.y,f.x,f.y)&&Z(f.prev,f,f.next)>=0)return!1;f=f.nextZ}return!0}function j(t,e,r){var i=t;do{var n=i.prev,o=i.next.next;!J(n,o)&&Q(n,i,i.next,o)&&et(n,o)&&et(o,n)&&(e.push(n.i/r),e.push(i.i/r),e.push(o.i/r),nt(i),nt(i.next),i=t=o),i=i.next}while(i!==t);return B(i)}function G(t,e,r,i,n,o){var s=t;do{for(var a=s.next.next;a!==s.prev;){if(s.i!==a.i&&K(s,a)){var h=rt(s,a);return s=B(s,s.next),h=B(h,h.next),U(s,e,r,i,n,o),void U(h,e,r,i,n,o)}a=a.next}s=s.next}while(s!==t)}function H(t,e){return t.x-e.x}function Y(t,e){var r=function(t,e){var r,i=e,n=t.x,o=t.y,s=-1/0;do{if(o<=i.y&&o>=i.next.y&&i.next.y!==i.y){var a=i.x+(o-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(a<=n&&a>s){if(s=a,a===n){if(o===i.y)return i;if(o===i.next.y)return i.next}r=i.x<i.next.x?i:i.next}}i=i.next}while(i!==e);if(!r)return null;if(n===s)return r;var h,u=r,l=r.x,c=r.y,d=1/0;i=r;do{n>=i.x&&i.x>=l&&n!==i.x&&q(o<c?n:s,o,l,c,o<c?s:n,o,i.x,i.y)&&(h=Math.abs(o-i.y)/(n-i.x),et(i,t)&&(h<d||h===d&&(i.x>r.x||i.x===r.x&&z(r,i)))&&(r=i,d=h)),i=i.next}while(i!==u);return r}(t,e);if(!r)return e;var i=rt(r,t),n=B(r,r.next);return B(i,i.next),e===r?n:e}function z(t,e){return Z(t.prev,t,e.prev)<0&&Z(e.next,t,t.next)<0}function V(t,e,r,i,n){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*n)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-i)*n)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function W(t){var e=t,r=t;do{(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next}while(e!==t);return r}function q(t,e,r,i,n,o,s,a){return(n-s)*(e-a)-(t-s)*(o-a)>=0&&(t-s)*(i-a)-(r-s)*(e-a)>=0&&(r-s)*(o-a)-(n-s)*(i-a)>=0}function K(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&Q(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}(t,e)&&(et(t,e)&&et(e,t)&&function(t,e){var r=t,i=!1,n=(t.x+e.x)/2,o=(t.y+e.y)/2;do{r.y>o!=r.next.y>o&&r.next.y!==r.y&&n<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(i=!i),r=r.next}while(r!==t);return i}(t,e)&&(Z(t.prev,t,e.prev)||Z(t,e.prev,e))||J(t,e)&&Z(t.prev,t,t.next)>0&&Z(e.prev,e,e.next)>0)}function Z(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function J(t,e){return t.x===e.x&&t.y===e.y}function Q(t,e,r,i){var n=tt(Z(t,e,r)),o=tt(Z(t,e,i)),s=tt(Z(r,i,t)),a=tt(Z(r,i,e));return n!==o&&s!==a||(!(0!==n||!$(t,r,e))||(!(0!==o||!$(t,i,e))||(!(0!==s||!$(r,t,i))||!(0!==a||!$(r,e,i)))))}function $(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function tt(t){return t>0?1:t<0?-1:0}function et(t,e){return Z(t.prev,t,t.next)<0?Z(t,e,t.next)>=0&&Z(t,t.prev,e)>=0:Z(t,e,t.prev)<0||Z(t,t.next,e)<0}function rt(t,e){var r=new ot(t.i,t.x,t.y),i=new ot(e.i,e.x,e.y),n=t.next,o=e.prev;return t.next=e,e.prev=t,r.next=n,n.prev=r,i.next=r,r.prev=i,o.next=i,i.prev=o,i}function it(t,e,r,i){var n=new ot(t,e,r);return i?(n.next=i.next,n.prev=i,i.next.prev=n,i.next=n):(n.prev=n,n.next=n),n}function nt(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function ot(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function st(t,e,r,i){for(var n=0,o=e,s=r-i;o<r;o+=i)n+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return n}N.deviation=function(t,e,r,i){var n=e&&e.length,o=n?e[0]*r:t.length,s=Math.abs(st(t,0,o,r));if(n)for(var a=0,h=e.length;a<h;a++){var u=e[a]*r,l=a<h-1?e[a+1]*r:t.length;s-=Math.abs(st(t,u,l,r))}var c=0;for(a=0;a<i.length;a+=3){var d=i[a]*r,p=i[a+1]*r,f=i[a+2]*r;c+=Math.abs((t[d]-t[f])*(t[p+1]-t[d+1])-(t[d]-t[p])*(t[f+1]-t[d+1]))}return 0===s&&0===c?0:Math.abs((c-s)/s)},N.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},i=0,n=0;n<t.length;n++){for(var o=0;o<t[n].length;o++)for(var s=0;s<e;s++)r.vertices.push(t[n][o][s]);n>0&&(i+=t[n-1].length,r.holes.push(i))}return r},R.default=L;var at=r(function(t,r){!function(i){var n=r&&!r.nodeType&&r,o=t&&!t.nodeType&&t,s="object"==typeof e&&e;s.global!==s&&s.window!==s&&s.self!==s||(i=s);var a,h,u=2147483647,l=36,c=1,d=26,p=38,f=700,m=72,v=128,y="-",g=/^xn--/,_=/[^\x20-\x7E]/,x=/[\x2E\u3002\uFF0E\uFF61]/g,b={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},E=l-c,T=Math.floor,P=String.fromCharCode;function S(t){throw RangeError(b[t])}function w(t,e){for(var r=t.length,i=[];r--;)i[r]=e(t[r]);return i}function I(t,e){var r=t.split("@"),i="";return r.length>1&&(i=r[0]+"@",t=r[1]),i+w((t=t.replace(x,".")).split("."),e).join(".")}function A(t){for(var e,r,i=[],n=0,o=t.length;n<o;)(e=t.charCodeAt(n++))>=55296&&e<=56319&&n<o?56320==(64512&(r=t.charCodeAt(n++)))?i.push(((1023&e)<<10)+(1023&r)+65536):(i.push(e),n--):i.push(e);return i}function O(t){return w(t,function(t){var e="";return t>65535&&(e+=P((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=P(t)}).join("")}function M(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function C(t,e,r){var i=0;for(t=r?T(t/f):t>>1,t+=T(t/e);t>E*d>>1;i+=l)t=T(t/E);return T(i+(E+1)*t/(t+p))}function D(t){var e,r,i,n,o,s,a,h,p,f,g,_=[],x=t.length,b=0,E=v,P=m;for((r=t.lastIndexOf(y))<0&&(r=0),i=0;i<r;++i)t.charCodeAt(i)>=128&&S("not-basic"),_.push(t.charCodeAt(i));for(n=r>0?r+1:0;n<x;){for(o=b,s=1,a=l;n>=x&&S("invalid-input"),((h=(g=t.charCodeAt(n++))-48<10?g-22:g-65<26?g-65:g-97<26?g-97:l)>=l||h>T((u-b)/s))&&S("overflow"),b+=h*s,!(h<(p=a<=P?c:a>=P+d?d:a-P));a+=l)s>T(u/(f=l-p))&&S("overflow"),s*=f;P=C(b-o,e=_.length+1,0==o),T(b/e)>u-E&&S("overflow"),E+=T(b/e),b%=e,_.splice(b++,0,E)}return O(_)}function R(t){var e,r,i,n,o,s,a,h,p,f,g,_,x,b,E,w=[];for(_=(t=A(t)).length,e=v,r=0,o=m,s=0;s<_;++s)(g=t[s])<128&&w.push(P(g));for(i=n=w.length,n&&w.push(y);i<_;){for(a=u,s=0;s<_;++s)(g=t[s])>=e&&g<a&&(a=g);for(a-e>T((u-r)/(x=i+1))&&S("overflow"),r+=(a-e)*x,e=a,s=0;s<_;++s)if((g=t[s])<e&&++r>u&&S("overflow"),g==e){for(h=r,p=l;!(h<(f=p<=o?c:p>=o+d?d:p-o));p+=l)E=h-f,b=l-f,w.push(P(M(f+E%b,0))),h=T(E/b);w.push(P(M(h,0))),o=C(r,x,i==n),r=0,++i}++r,++e}return w.join("")}if(a={version:"1.3.2",ucs2:{decode:A,encode:O},decode:D,encode:R,toASCII:function(t){return I(t,function(t){return _.test(t)?"xn--"+R(t):t})},toUnicode:function(t){return I(t,function(t){return g.test(t)?D(t.slice(4).toLowerCase()):t})}},n&&o)if(t.exports==n)o.exports=a;else for(h in a)a.hasOwnProperty(h)&&(n[h]=a[h]);else i.punycode=a}(e)}),ht={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}};ht.isString,ht.isObject,ht.isNull,ht.isNullOrUndefined;function ut(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var lt=function(t,e,r,i){e=e||"&",r=r||"=";var n={};if("string"!=typeof t||0===t.length)return n;var o=/\+/g;t=t.split(e);var s=1e3;i&&"number"==typeof i.maxKeys&&(s=i.maxKeys);var a=t.length;s>0&&a>s&&(a=s);for(var h=0;h<a;++h){var u,l,c,d,p=t[h].replace(o,"%20"),f=p.indexOf(r);f>=0?(u=p.substr(0,f),l=p.substr(f+1)):(u=p,l=""),c=decodeURIComponent(u),d=decodeURIComponent(l),ut(n,c)?Array.isArray(n[c])?n[c].push(d):n[c]=[n[c],d]:n[c]=d}return n},ct=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}},dt=function(t,e,r,i){return e=e||"&",r=r||"=",null===t&&(t=void 0),"object"==typeof t?Object.keys(t).map(function(i){var n=encodeURIComponent(ct(i))+r;return Array.isArray(t[i])?t[i].map(function(t){return n+encodeURIComponent(ct(t))}).join(e):n+encodeURIComponent(ct(t[i]))}).join(e):i?encodeURIComponent(ct(i))+r+encodeURIComponent(ct(t)):""},pt=r(function(t,e){e.decode=e.parse=lt,e.encode=e.stringify=dt}),ft=(pt.decode,pt.parse,pt.encode,pt.stringify,Dt),mt=function(t,e){return Dt(t,!1,!0).resolve(e)},vt=function(t,e){if(!t)return e;return Dt(t,!1,!0).resolveObject(e)},yt=function(t){ht.isString(t)&&(t=Dt(t));if(!(t instanceof _t))return _t.prototype.format.call(t);return t.format()},gt=_t;function _t(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var xt=/^([a-z0-9.+-]+:)/i,bt=/:[0-9]*$/,Et=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Tt=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),Pt=["'"].concat(Tt),St=["%","/","?",";","#"].concat(Pt),wt=["/","?","#"],It=/^[+a-z0-9A-Z_-]{0,63}$/,At=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Ot={javascript:!0,"javascript:":!0},Mt={javascript:!0,"javascript:":!0},Ct={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function Dt(t,e,r){if(t&&ht.isObject(t)&&t instanceof _t)return t;var i=new _t;return i.parse(t,e,r),i}_t.prototype.parse=function(t,e,r){if(!ht.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var i=t.indexOf("?"),n=-1!==i&&i<t.indexOf("#")?"?":"#",o=t.split(n);o[0]=o[0].replace(/\\/g,"/");var s=t=o.join(n);if(s=s.trim(),!r&&1===t.split("#").length){var a=Et.exec(s);if(a)return this.path=s,this.href=s,this.pathname=a[1],a[2]?(this.search=a[2],this.query=e?pt.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var h=xt.exec(s);if(h){var u=(h=h[0]).toLowerCase();this.protocol=u,s=s.substr(h.length)}if(r||h||s.match(/^\/\/[^@\/]+@[^@\/]+/)){var l="//"===s.substr(0,2);!l||h&&Mt[h]||(s=s.substr(2),this.slashes=!0)}if(!Mt[h]&&(l||h&&!Ct[h])){for(var c,d,p=-1,f=0;f<wt.length;f++){-1!==(m=s.indexOf(wt[f]))&&(-1===p||m<p)&&(p=m)}-1!==(d=-1===p?s.lastIndexOf("@"):s.lastIndexOf("@",p))&&(c=s.slice(0,d),s=s.slice(d+1),this.auth=decodeURIComponent(c)),p=-1;for(f=0;f<St.length;f++){var m;-1!==(m=s.indexOf(St[f]))&&(-1===p||m<p)&&(p=m)}-1===p&&(p=s.length),this.host=s.slice(0,p),s=s.slice(p),this.parseHost(),this.hostname=this.hostname||"";var v="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!v)for(var y=this.hostname.split(/\./),g=(f=0,y.length);f<g;f++){var _=y[f];if(_&&!_.match(It)){for(var x="",b=0,E=_.length;b<E;b++)_.charCodeAt(b)>127?x+="x":x+=_[b];if(!x.match(It)){var T=y.slice(0,f),P=y.slice(f+1),S=_.match(At);S&&(T.push(S[1]),P.unshift(S[2])),P.length&&(s="/"+P.join(".")+s),this.hostname=T.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),v||(this.hostname=at.toASCII(this.hostname));var w=this.port?":"+this.port:"",I=this.hostname||"";this.host=I+w,this.href+=this.host,v&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==s[0]&&(s="/"+s))}if(!Ot[u])for(f=0,g=Pt.length;f<g;f++){var A=Pt[f];if(-1!==s.indexOf(A)){var O=encodeURIComponent(A);O===A&&(O=escape(A)),s=s.split(A).join(O)}}var M=s.indexOf("#");-1!==M&&(this.hash=s.substr(M),s=s.slice(0,M));var C=s.indexOf("?");if(-1!==C?(this.search=s.substr(C),this.query=s.substr(C+1),e&&(this.query=pt.parse(this.query)),s=s.slice(0,C)):e&&(this.search="",this.query={}),s&&(this.pathname=s),Ct[u]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){w=this.pathname||"";var D=this.search||"";this.path=w+D}return this.href=this.format(),this},_t.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",i=this.hash||"",n=!1,o="";this.host?n=t+this.host:this.hostname&&(n=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(n+=":"+this.port)),this.query&&ht.isObject(this.query)&&Object.keys(this.query).length&&(o=pt.stringify(this.query));var s=this.search||o&&"?"+o||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||Ct[e])&&!1!==n?(n="//"+(n||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):n||(n=""),i&&"#"!==i.charAt(0)&&(i="#"+i),s&&"?"!==s.charAt(0)&&(s="?"+s),e+n+(r=r.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(s=s.replace("#","%23"))+i},_t.prototype.resolve=function(t){return this.resolveObject(Dt(t,!1,!0)).format()},_t.prototype.resolveObject=function(t){if(ht.isString(t)){var e=new _t;e.parse(t,!1,!0),t=e}for(var r=new _t,i=Object.keys(this),n=0;n<i.length;n++){var o=i[n];r[o]=this[o]}if(r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var s=Object.keys(t),a=0;a<s.length;a++){var h=s[a];"protocol"!==h&&(r[h]=t[h])}return Ct[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!Ct[t.protocol]){for(var u=Object.keys(t),l=0;l<u.length;l++){var c=u[l];r[c]=t[c]}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||Mt[t.protocol])r.pathname=t.pathname;else{for(var d=(t.pathname||"").split("/");d.length&&!(t.host=d.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),r.pathname=d.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var p=r.pathname||"",f=r.search||"";r.path=p+f}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var m=r.pathname&&"/"===r.pathname.charAt(0),v=t.host||t.pathname&&"/"===t.pathname.charAt(0),y=v||m||r.host&&t.pathname,g=y,_=r.pathname&&r.pathname.split("/")||[],x=(d=t.pathname&&t.pathname.split("/")||[],r.protocol&&!Ct[r.protocol]);if(x&&(r.hostname="",r.port=null,r.host&&(""===_[0]?_[0]=r.host:_.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===d[0]?d[0]=t.host:d.unshift(t.host)),t.host=null),y=y&&(""===d[0]||""===_[0])),v)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,_=d;else if(d.length)_||(_=[]),_.pop(),_=_.concat(d),r.search=t.search,r.query=t.query;else if(!ht.isNullOrUndefined(t.search)){if(x)r.hostname=r.host=_.shift(),(S=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=S.shift(),r.host=r.hostname=S.shift());return r.search=t.search,r.query=t.query,ht.isNull(r.pathname)&&ht.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!_.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var b=_.slice(-1)[0],E=(r.host||t.host||_.length>1)&&("."===b||".."===b)||""===b,T=0,P=_.length;P>=0;P--)"."===(b=_[P])?_.splice(P,1):".."===b?(_.splice(P,1),T++):T&&(_.splice(P,1),T--);if(!y&&!g)for(;T--;T)_.unshift("..");!y||""===_[0]||_[0]&&"/"===_[0].charAt(0)||_.unshift(""),E&&"/"!==_.join("/").substr(-1)&&_.push("");var S,w=""===_[0]||_[0]&&"/"===_[0].charAt(0);x&&(r.hostname=r.host=w?"":_.length?_.shift():"",(S=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=S.shift(),r.host=r.hostname=S.shift()));return(y=y||r.host&&_.length)&&!w&&_.unshift(""),_.length?r.pathname=_.join("/"):(r.pathname=null,r.path=null),ht.isNull(r.pathname)&&ht.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},_t.prototype.parseHost=function(){var t=this.host,e=bt.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};var Rt={parse:ft,resolve:mt,resolveObject:vt,format:yt,Url:gt};!function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"}(t.ENV||(t.ENV={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"}(t.RENDERER_TYPE||(t.RENDERER_TYPE={})),function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"}(t.BUFFER_BITS||(t.BUFFER_BITS={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"}(t.BLEND_MODES||(t.BLEND_MODES={})),function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(t.DRAW_MODES||(t.DRAW_MODES={})),function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(t.FORMATS||(t.FORMATS={})),function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(t.TARGETS||(t.TARGETS={})),function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.FLOAT=5126]="FLOAT",t[t.HALF_FLOAT=36193]="HALF_FLOAT"}(t.TYPES||(t.TYPES={})),function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"}(t.SCALE_MODES||(t.SCALE_MODES={})),function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(t.WRAP_MODES||(t.WRAP_MODES={})),function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON"}(t.MIPMAP_MODES||(t.MIPMAP_MODES={})),function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"}(t.ALPHA_MODES||(t.ALPHA_MODES={})),function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"}(t.CLEAR_MODES||(t.CLEAR_MODES={})),function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"}(t.GC_MODES||(t.GC_MODES={})),function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"}(t.PRECISION||(t.PRECISION={})),function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"}(t.MASK_TYPES||(t.MASK_TYPES={})),function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"}(t.MSAA_QUALITY||(t.MSAA_QUALITY={})),C.RETINA_PREFIX=/@([0-9\.]+)x/,C.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!0;var Lt,Nt=!1,Ft="5.3.12";function Bt(t){var e;if(!Nt){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var r=["\n %c %c %c PixiJS "+Ft+" - ✰ "+t+" ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(e=window.console).log.apply(e,r)}else window.console&&window.console.log("PixiJS "+Ft+" - "+t+" - http://www.pixijs.com/");Nt=!0}}function Ut(){return void 0===Lt&&(Lt=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:C.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!window.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),r=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),i=!(!r||!r.getContextAttributes().stencil);if(r){var n=r.getExtension("WEBGL_lose_context");n&&n.loseContext()}return r=null,i}catch(t){return!1}}()),Lt}function kt(t,e){return void 0===e&&(e=[]),e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e}function Xt(t){var e=t.toString(16);return"#"+(e="000000".substr(0,6-e.length)+e)}function jt(t){return"string"==typeof t&&"#"===t[0]&&(t=t.substr(1)),parseInt(t,16)}var Gt=function(){for(var e=[],r=[],i=0;i<32;i++)e[i]=i,r[i]=i;e[t.BLEND_MODES.NORMAL_NPM]=t.BLEND_MODES.NORMAL,e[t.BLEND_MODES.ADD_NPM]=t.BLEND_MODES.ADD,e[t.BLEND_MODES.SCREEN_NPM]=t.BLEND_MODES.SCREEN,r[t.BLEND_MODES.NORMAL]=t.BLEND_MODES.NORMAL_NPM,r[t.BLEND_MODES.ADD]=t.BLEND_MODES.ADD_NPM,r[t.BLEND_MODES.SCREEN]=t.BLEND_MODES.SCREEN_NPM;var n=[];return n.push(r),n.push(e),n}();function Ht(t,e){return Gt[e?1:0][t]}function Yt(t,e,r,i){return r=r||new Float32Array(4),i||void 0===i?(r[0]=t[0]*e,r[1]=t[1]*e,r[2]=t[2]*e):(r[0]=t[0],r[1]=t[1],r[2]=t[2]),r[3]=e,r}function zt(t,e){if(1===e)return(255*e<<24)+t;if(0===e)return 0;var r=t>>16&255,i=t>>8&255,n=255&t;return(255*e<<24)+((r=r*e+.5|0)<<16)+((i=i*e+.5|0)<<8)+(n=n*e+.5|0)}function Vt(t,e,r,i){return(r=r||new Float32Array(4))[0]=(t>>16&255)/255,r[1]=(t>>8&255)/255,r[2]=(255&t)/255,(i||void 0===i)&&(r[0]*=e,r[1]*=e,r[2]*=e),r[3]=e,r}function Wt(t,e){void 0===e&&(e=null);var r=6*t;if((e=e||new Uint16Array(r)).length!==r)throw new Error("Out buffer length is incorrect, got "+e.length+" and expected "+r);for(var i=0,n=0;i<r;i+=6,n+=4)e[i+0]=n+0,e[i+1]=n+1,e[i+2]=n+2,e[i+3]=n+0,e[i+4]=n+2,e[i+5]=n+3;return e}function qt(t){if(4===t.BYTES_PER_ELEMENT)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===t.BYTES_PER_ELEMENT){if(t instanceof Uint16Array)return"Uint16Array"}else if(1===t.BYTES_PER_ELEMENT&&t instanceof Uint8Array)return"Uint8Array";return null}var Kt={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array};function Zt(t){return t+=0===t?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)+1}function Jt(t){return!(t&t-1||!t)}function Qt(t){var e=(t>65535?1:0)<<4,r=((t>>>=e)>255?1:0)<<3;return e|=r,e|=r=((t>>>=r)>15?1:0)<<2,(e|=r=((t>>>=r)>3?1:0)<<1)|(t>>>=r)>>1}function $t(t,e,r){var i,n=t.length;if(!(e>=n||0===r)){var o=n-(r=e+r>n?n-e:r);for(i=e;i<o;++i)t[i]=t[i+r];t.length=o}}function te(t){return 0===t?0:t<0?-1:1}var ee=0;function re(){return++ee}var ie={};function ne(t,e,r){if(void 0===r&&(r=3),!ie[e]){var i=(new Error).stack;void 0===i?console.warn("PixiJS Deprecation Warning: ",e+"\nDeprecated since v"+t):(i=i.split("\n").splice(r).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",e+"\nDeprecated since v"+t),console.warn(i),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",e+"\nDeprecated since v"+t),console.warn(i))),ie[e]=!0}}var oe={},se=Object.create(null),ae=Object.create(null);var he=function(){function t(t,e,r){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=r||C.RESOLUTION,this.resize(t,e)}return t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(t,e){this.canvas.width=t*this.resolution,this.canvas.height=e*this.resolution},t.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.canvas.width},set:function(t){this.canvas.width=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.canvas.height},set:function(t){this.canvas.height=t},enumerable:!1,configurable:!0}),t}();function ue(t){var e,r,i,n=t.width,o=t.height,s=t.getContext("2d"),a=s.getImageData(0,0,n,o).data,h=a.length,u={top:null,left:null,right:null,bottom:null},l=null;for(e=0;e<h;e+=4)0!==a[e+3]&&(r=e/4%n,i=~~(e/4/n),null===u.top&&(u.top=i),null===u.left?u.left=r:r<u.left&&(u.left=r),null===u.right?u.right=r+1:u.right<r&&(u.right=r+1),null===u.bottom?u.bottom=i:u.bottom<i&&(u.bottom=i));return null!==u.top&&(n=u.right-u.left,o=u.bottom-u.top+1,l=s.getImageData(u.left,u.top,n,o)),{height:o,width:n,data:l}}var le,ce=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function de(t,e){if(void 0===e&&(e=window.location),0===t.indexOf("data:"))return"";e=e||window.location,le||(le=document.createElement("a")),le.href=t;var r=ft(le.href),i=!r.port&&""===e.port||r.port===e.port;return r.hostname===e.hostname&&i&&r.protocol===e.protocol?"":"anonymous"}function pe(t,e){var r=C.RETINA_PREFIX.exec(t);return r?parseFloat(r[1]):void 0!==e?e:1}var fe,me={BaseTextureCache:ae,CanvasRenderTarget:he,DATA_URI:ce,ProgramCache:oe,TextureCache:se,clearTextureCache:function(){var t;for(t in se)delete se[t];for(t in ae)delete ae[t]},correctBlendMode:Ht,createIndicesForQuads:Wt,decomposeDataUri:function(t){var e=ce.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,charset:e[3]?e[3].toLowerCase():void 0,encoding:e[4]?e[4].toLowerCase():void 0,data:e[5]}},deprecation:ne,destroyTextureCache:function(){var t;for(t in se)se[t].destroy();for(t in ae)ae[t].destroy()},determineCrossOrigin:de,getBufferType:qt,getResolutionOfUrl:pe,hex2rgb:kt,hex2string:Xt,interleaveTypedArrays:function(t,e){for(var r=0,i=0,n={},o=0;o<t.length;o++)i+=e[o],r+=t[o].length;var s=new ArrayBuffer(4*r),a=null,h=0;for(o=0;o<t.length;o++){var u=e[o],l=t[o],c=qt(l);n[c]||(n[c]=new Kt[c](s)),a=n[c];for(var d=0;d<l.length;d++)a[(d/u|0)*i+h+d%u]=l[d];h+=u}return new Float32Array(s)},isPow2:Jt,isWebGLSupported:Ut,log2:Qt,nextPow2:Zt,premultiplyBlendMode:Gt,premultiplyRgba:Yt,premultiplyTint:zt,premultiplyTintToRgba:Vt,removeItems:$t,rgb2hex:function(t){return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)},sayHello:Bt,sign:te,skipHello:function(){Nt=!0},string2hex:jt,trimCanvas:ue,uid:re,isMobile:M,EventEmitter:D,earcut:R,url:Rt},ve=2*Math.PI,ye=180/Math.PI,ge=Math.PI/180;(fe=t.SHAPES||(t.SHAPES={}))[fe.POLY=0]="POLY",fe[fe.RECT=1]="RECT",fe[fe.CIRC=2]="CIRC",fe[fe.ELIP=3]="ELIP",fe[fe.RREC=4]="RREC";var _e=function(){function e(e,r,i,n){void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=0),void 0===n&&(n=0),this.x=Number(e),this.y=Number(r),this.width=Number(i),this.height=Number(n),this.type=t.SHAPES.RECT}return Object.defineProperty(e.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(e,"EMPTY",{get:function(){return new e(0,0,0,0)},enumerable:!1,configurable:!0}),e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},e.prototype.copyTo=function(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},e.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&(t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height)},e.prototype.pad=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e,this},e.prototype.fit=function(t){var e=Math.max(this.x,t.x),r=Math.min(this.x+this.width,t.x+t.width),i=Math.max(this.y,t.y),n=Math.min(this.y+this.height,t.y+t.height);return this.x=e,this.width=Math.max(r-e,0),this.y=i,this.height=Math.max(n-i,0),this},e.prototype.ceil=function(t,e){void 0===t&&(t=1),void 0===e&&(e=.001);var r=Math.ceil((this.x+this.width-e)*t)/t,i=Math.ceil((this.y+this.height-e)*t)/t;return this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=r-this.x,this.height=i-this.y,this},e.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),r=Math.max(this.x+this.width,t.x+t.width),i=Math.min(this.y,t.y),n=Math.max(this.y+this.height,t.y+t.height);return this.x=e,this.width=r-e,this.y=i,this.height=n-i,this},e}(),xe=function(){function e(e,r,i){void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=0),this.x=e,this.y=r,this.radius=i,this.type=t.SHAPES.CIRC}return e.prototype.clone=function(){return new e(this.x,this.y,this.radius)},e.prototype.contains=function(t,e){if(this.radius<=0)return!1;var r=this.radius*this.radius,i=this.x-t,n=this.y-e;return(i*=i)+(n*=n)<=r},e.prototype.getBounds=function(){return new _e(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},e}(),be=function(){function e(e,r,i,n){void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=0),void 0===n&&(n=0),this.x=e,this.y=r,this.width=i,this.height=n,this.type=t.SHAPES.ELIP}return e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var r=(t-this.x)/this.width,i=(e-this.y)/this.height;return(r*=r)+(i*=i)<=1},e.prototype.getBounds=function(){return new _e(this.x-this.width,this.y-this.height,this.width,this.height)},e}(),Ee=function(){function e(){for(var e=arguments,r=[],i=0;i<arguments.length;i++)r[i]=e[i];var n=Array.isArray(r[0])?r[0]:r;if("number"!=typeof n[0]){for(var o=[],s=0,a=n.length;s<a;s++)o.push(n[s].x,n[s].y);n=o}this.points=n,this.type=t.SHAPES.POLY,this.closeStroke=!0}return e.prototype.clone=function(){var t=new e(this.points.slice());return t.closeStroke=this.closeStroke,t},e.prototype.contains=function(t,e){for(var r=!1,i=this.points.length/2,n=0,o=i-1;n<i;o=n++){var s=this.points[2*n],a=this.points[2*n+1],h=this.points[2*o],u=this.points[2*o+1];a>e!=u>e&&t<(e-a)/(u-a)*(h-s)+s&&(r=!r)}return r},e}(),Te=function(){function e(e,r,i,n,o){void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=0),void 0===n&&(n=0),void 0===o&&(o=20),this.x=e,this.y=r,this.width=i,this.height=n,this.radius=o,this.type=t.SHAPES.RREC}return e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height,this.radius)},e.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){if(e>=this.y+this.radius&&e<=this.y+this.height-this.radius||t>=this.x+this.radius&&t<=this.x+this.width-this.radius)return!0;var r=t-(this.x+this.radius),i=e-(this.y+this.radius),n=this.radius*this.radius;if(r*r+i*i<=n)return!0;if((r=t-(this.x+this.width-this.radius))*r+i*i<=n)return!0;if(r*r+(i=e-(this.y+this.height-this.radius))*i<=n)return!0;if((r=t-(this.x+this.radius))*r+i*i<=n)return!0}return!1},e}(),Pe=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copyFrom=function(t){return this.set(t.x,t.y),this},t.prototype.copyTo=function(t){return t.set(this.x,this.y),t},t.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},t.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x=t,this.y=e,this},t}(),Se=function(){function t(t,e,r,i){void 0===r&&(r=0),void 0===i&&(i=0),this._x=r,this._y=i,this.cb=t,this.scope=e}return t.prototype.clone=function(e,r){return void 0===e&&(e=this.cb),void 0===r&&(r=this.scope),new t(e,r,this._x,this._y)},t.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this._x===t&&this._y===e||(this._x=t,this._y=e,this.cb.call(this.scope)),this},t.prototype.copyFrom=function(t){return this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this},t.prototype.copyTo=function(t){return t.set(this._x,this._y),t},t.prototype.equals=function(t){return t.x===this._x&&t.y===this._y},Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),t}(),we=function(){function t(t,e,r,i,n,o){void 0===t&&(t=1),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=1),void 0===n&&(n=0),void 0===o&&(o=0),this.array=null,this.a=t,this.b=e,this.c=r,this.d=i,this.tx=n,this.ty=o}return t.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},t.prototype.set=function(t,e,r,i,n,o){return this.a=t,this.b=e,this.c=r,this.d=i,this.tx=n,this.ty=o,this},t.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var r=e||this.array;return t?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r},t.prototype.apply=function(t,e){e=e||new Pe;var r=t.x,i=t.y;return e.x=this.a*r+this.c*i+this.tx,e.y=this.b*r+this.d*i+this.ty,e},t.prototype.applyInverse=function(t,e){e=e||new Pe;var r=1/(this.a*this.d+this.c*-this.b),i=t.x,n=t.y;return e.x=this.d*r*i+-this.c*r*n+(this.ty*this.c-this.tx*this.d)*r,e.y=this.a*r*n+-this.b*r*i+(-this.ty*this.a+this.tx*this.b)*r,e},t.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},t.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},t.prototype.rotate=function(t){var e=Math.cos(t),r=Math.sin(t),i=this.a,n=this.c,o=this.tx;return this.a=i*e-this.b*r,this.b=i*r+this.b*e,this.c=n*e-this.d*r,this.d=n*r+this.d*e,this.tx=o*e-this.ty*r,this.ty=o*r+this.ty*e,this},t.prototype.append=function(t){var e=this.a,r=this.b,i=this.c,n=this.d;return this.a=t.a*e+t.b*i,this.b=t.a*r+t.b*n,this.c=t.c*e+t.d*i,this.d=t.c*r+t.d*n,this.tx=t.tx*e+t.ty*i+this.tx,this.ty=t.tx*r+t.ty*n+this.ty,this},t.prototype.setTransform=function(t,e,r,i,n,o,s,a,h){return this.a=Math.cos(s+h)*n,this.b=Math.sin(s+h)*n,this.c=-Math.sin(s-a)*o,this.d=Math.cos(s-a)*o,this.tx=t-(r*this.a+i*this.c),this.ty=e-(r*this.b+i*this.d),this},t.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var r=this.a,i=this.c;this.a=r*t.a+this.b*t.c,this.b=r*t.b+this.b*t.d,this.c=i*t.a+this.d*t.c,this.d=i*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},t.prototype.decompose=function(t){var e=this.a,r=this.b,i=this.c,n=this.d,o=-Math.atan2(-i,n),s=Math.atan2(r,e),a=Math.abs(o+s);return a<1e-5||Math.abs(ve-a)<1e-5?(t.rotation=s,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=o,t.skew.y=s),t.scale.x=Math.sqrt(e*e+r*r),t.scale.y=Math.sqrt(i*i+n*n),t.position.x=this.tx,t.position.y=this.ty,t},t.prototype.invert=function(){var t=this.a,e=this.b,r=this.c,i=this.d,n=this.tx,o=t*i-e*r;return this.a=i/o,this.b=-e/o,this.c=-r/o,this.d=t/o,this.tx=(r*this.ty-i*n)/o,this.ty=-(t*this.ty-e*n)/o,this},t.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},t.prototype.clone=function(){var e=new t;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copyTo=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},t.prototype.copyFrom=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},Object.defineProperty(t,"IDENTITY",{get:function(){return new t},enumerable:!1,configurable:!0}),Object.defineProperty(t,"TEMP_MATRIX",{get:function(){return new t},enumerable:!1,configurable:!0}),t}(),Ie=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Ae=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Oe=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Me=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Ce=[],De=[],Re=Math.sign;!function(){for(var t=0;t<16;t++){var e=[];Ce.push(e);for(var r=0;r<16;r++)for(var i=Re(Ie[t]*Ie[r]+Oe[t]*Ae[r]),n=Re(Ae[t]*Ie[r]+Me[t]*Ae[r]),o=Re(Ie[t]*Oe[r]+Oe[t]*Me[r]),s=Re(Ae[t]*Oe[r]+Me[t]*Me[r]),a=0;a<16;a++)if(Ie[a]===i&&Ae[a]===n&&Oe[a]===o&&Me[a]===s){e.push(a);break}}for(t=0;t<16;t++){var h=new we;h.set(Ie[t],Ae[t],Oe[t],Me[t],0,0),De.push(h)}}();var Le={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(t){return Ie[t]},uY:function(t){return Ae[t]},vX:function(t){return Oe[t]},vY:function(t){return Me[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,e){return Ce[t][e]},sub:function(t,e){return Ce[t][Le.inv(e)]},rotate180:function(t){return 4^t},isVertical:function(t){return 2==(3&t)},byDirection:function(t,e){return 2*Math.abs(t)<=Math.abs(e)?e>=0?Le.S:Le.N:2*Math.abs(e)<=Math.abs(t)?t>0?Le.E:Le.W:e>0?t>0?Le.SE:Le.SW:t>0?Le.NE:Le.NW},matrixAppendRotationInv:function(t,e,r,i){void 0===r&&(r=0),void 0===i&&(i=0);var n=De[Le.inv(e)];n.tx=r,n.ty=i,t.append(n)}},Ne=function(){function t(){this.worldTransform=new we,this.localTransform=new we,this.position=new Se(this.onChange,this,0,0),this.scale=new Se(this.onChange,this,1,1),this.pivot=new Se(this.onChange,this,0,0),this.skew=new Se(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return t.prototype.onChange=function(){this._localID++},t.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},t.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},t.prototype.updateTransform=function(t){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var r=t.worldTransform,i=this.worldTransform;i.a=e.a*r.a+e.b*r.c,i.b=e.a*r.b+e.b*r.d,i.c=e.c*r.a+e.d*r.c,i.d=e.c*r.b+e.d*r.d,i.tx=e.tx*r.a+e.ty*r.c+r.tx,i.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}},t.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())},enumerable:!1,configurable:!0}),t.IDENTITY=new t,t}();C.SORTABLE_CHILDREN=!1;var Fe=function(){function t(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},t.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?_e.EMPTY:((t=t||new _e(0,0,1,1)).x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},t.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},t.prototype.addQuad=function(t){var e=this.minX,r=this.minY,i=this.maxX,n=this.maxY,o=t[0],s=t[1];e=o<e?o:e,r=s<r?s:r,i=o>i?o:i,n=s>n?s:n,e=(o=t[2])<e?o:e,r=(s=t[3])<r?s:r,i=o>i?o:i,n=s>n?s:n,e=(o=t[4])<e?o:e,r=(s=t[5])<r?s:r,i=o>i?o:i,n=s>n?s:n,e=(o=t[6])<e?o:e,r=(s=t[7])<r?s:r,i=o>i?o:i,n=s>n?s:n,this.minX=e,this.minY=r,this.maxX=i,this.maxY=n},t.prototype.addFrame=function(t,e,r,i,n){this.addFrameMatrix(t.worldTransform,e,r,i,n)},t.prototype.addFrameMatrix=function(t,e,r,i,n){var o=t.a,s=t.b,a=t.c,h=t.d,u=t.tx,l=t.ty,c=this.minX,d=this.minY,p=this.maxX,f=this.maxY,m=o*e+a*r+u,v=s*e+h*r+l;c=m<c?m:c,d=v<d?v:d,p=m>p?m:p,f=v>f?v:f,c=(m=o*i+a*r+u)<c?m:c,d=(v=s*i+h*r+l)<d?v:d,p=m>p?m:p,f=v>f?v:f,c=(m=o*e+a*n+u)<c?m:c,d=(v=s*e+h*n+l)<d?v:d,p=m>p?m:p,f=v>f?v:f,c=(m=o*i+a*n+u)<c?m:c,d=(v=s*i+h*n+l)<d?v:d,p=m>p?m:p,f=v>f?v:f,this.minX=c,this.minY=d,this.maxX=p,this.maxY=f},t.prototype.addVertexData=function(t,e,r){for(var i=this.minX,n=this.minY,o=this.maxX,s=this.maxY,a=e;a<r;a+=2){var h=t[a],u=t[a+1];i=h<i?h:i,n=u<n?u:n,o=h>o?h:o,s=u>s?u:s}this.minX=i,this.minY=n,this.maxX=o,this.maxY=s},t.prototype.addVertices=function(t,e,r,i){this.addVerticesMatrix(t.worldTransform,e,r,i)},t.prototype.addVerticesMatrix=function(t,e,r,i,n,o){void 0===n&&(n=0),void 0===o&&(o=n);for(var s=t.a,a=t.b,h=t.c,u=t.d,l=t.tx,c=t.ty,d=this.minX,p=this.minY,f=this.maxX,m=this.maxY,v=r;v<i;v+=2){var y=e[v],g=e[v+1],_=s*y+h*g+l,x=u*g+a*y+c;d=Math.min(d,_-n),f=Math.max(f,_+n),p=Math.min(p,x-o),m=Math.max(m,x+o)}this.minX=d,this.minY=p,this.maxX=f,this.maxY=m},t.prototype.addBounds=function(t){var e=this.minX,r=this.minY,i=this.maxX,n=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<r?t.minY:r,this.maxX=t.maxX>i?t.maxX:i,this.maxY=t.maxY>n?t.maxY:n},t.prototype.addBoundsMask=function(t,e){var r=t.minX>e.minX?t.minX:e.minX,i=t.minY>e.minY?t.minY:e.minY,n=t.maxX<e.maxX?t.maxX:e.maxX,o=t.maxY<e.maxY?t.maxY:e.maxY;if(r<=n&&i<=o){var s=this.minX,a=this.minY,h=this.maxX,u=this.maxY;this.minX=r<s?r:s,this.minY=i<a?i:a,this.maxX=n>h?n:h,this.maxY=o>u?o:u}},t.prototype.addBoundsMatrix=function(t,e){this.addFrameMatrix(e,t.minX,t.minY,t.maxX,t.maxY)},t.prototype.addBoundsArea=function(t,e){var r=t.minX>e.x?t.minX:e.x,i=t.minY>e.y?t.minY:e.y,n=t.maxX<e.x+e.width?t.maxX:e.x+e.width,o=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(r<=n&&i<=o){var s=this.minX,a=this.minY,h=this.maxX,u=this.maxY;this.minX=r<s?r:s,this.minY=i<a?i:a,this.maxX=n>h?n:h,this.maxY=o>u?o:u}},t.prototype.pad=function(t,e){void 0===t&&(t=0),void 0===e&&(e=t),this.isEmpty()||(this.minX-=t,this.maxX+=t,this.minY-=e,this.maxY+=e)},t.prototype.addFramePad=function(t,e,r,i,n,o){t-=n,e-=o,r+=n,i+=o,this.minX=this.minX<t?this.minX:t,this.maxX=this.maxX>r?this.maxX:r,this.minY=this.minY<e?this.minY:e,this.maxY=this.maxY>i?this.maxY:i},t}(),Be=function(t,e){return(Be=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function Ue(t,e){function r(){this.constructor=t}Be(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var ke=function(t){function e(){var e=t.call(this)||this;return e.tempDisplayObjectParent=null,e.transform=new Ne,e.alpha=1,e.visible=!0,e.renderable=!0,e.parent=null,e.worldAlpha=1,e._lastSortedIndex=0,e._zIndex=0,e.filterArea=null,e.filters=null,e._enabledFilters=null,e._bounds=new Fe,e._localBounds=null,e._boundsID=0,e._boundsRect=null,e._localBoundsRect=null,e._mask=null,e._destroyed=!1,e.isSprite=!1,e.isMask=!1,e}return Ue(e,t),e.mixin=function(t){for(var r=Object.keys(t),i=0;i<r.length;++i){var n=r[i];Object.defineProperty(e.prototype,n,Object.getOwnPropertyDescriptor(t,n))}},e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},e.prototype.getBounds=function(t,e){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),e||(this._boundsRect||(this._boundsRect=new _e),e=this._boundsRect),this._bounds.getRectangle(e)},e.prototype.getLocalBounds=function(t){t||(this._localBoundsRect||(this._localBoundsRect=new _e),t=this._localBoundsRect),this._localBounds||(this._localBounds=new Fe);var e=this.transform,r=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var i=this._bounds,n=this._boundsID;this._bounds=this._localBounds;var o=this.getBounds(!1,t);return this.parent=r,this.transform=e,this._bounds=i,this._bounds.updateID+=this._boundsID-n,o},e.prototype.toGlobal=function(t,e,r){return void 0===r&&(r=!1),r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)},e.prototype.toLocal=function(t,e,r,i){return e&&(t=e.toGlobal(t,r,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,r)},e.prototype.setParent=function(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t},e.prototype.setTransform=function(t,e,r,i,n,o,s,a,h){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=1),void 0===i&&(i=1),void 0===n&&(n=0),void 0===o&&(o=0),void 0===s&&(s=0),void 0===a&&(a=0),void 0===h&&(h=0),this.position.x=t,this.position.y=e,this.scale.x=r||1,this.scale.y=i||1,this.rotation=n,this.skew.x=o,this.skew.y=s,this.pivot.x=a,this.pivot.y=h,this},e.prototype.destroy=function(t){this.parent&&this.parent.removeChild(this),this.removeAllListeners(),this.transform=null,this.parent=null,this._bounds=null,this._mask=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},Object.defineProperty(e.prototype,"_tempDisplayObjectParent",{get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new Xe),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),e.prototype.enableTempParent=function(){var t=this.parent;return this.parent=this._tempDisplayObjectParent,t},e.prototype.disableTempParent=function(t){this.parent=t},Object.defineProperty(e.prototype,"x",{get:function(){return this.position.x},set:function(t){this.transform.position.x=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.position.y},set:function(t){this.transform.position.y=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.transform.position},set:function(t){this.transform.position.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return this.transform.scale},set:function(t){this.transform.scale.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(t){this.transform.pivot.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"skew",{get:function(){return this.transform.skew},set:function(t){this.transform.skew.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(t){this.transform.rotation=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.transform.rotation*ye},set:function(t){this.transform.rotation=t*ge},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"zIndex",{get:function(){return this._zIndex},set:function(t){this._zIndex=t,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldVisible",{get:function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._mask},set:function(t){var e;this._mask&&((e=this._mask.maskObject||this._mask).renderable=!0,e.isMask=!1);(this._mask=t,this._mask)&&((e=this._mask.maskObject||this._mask).renderable=!1,e.isMask=!0)},enumerable:!1,configurable:!0}),e}(D),Xe=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sortDirty=null,e}return Ue(e,t),e}(ke);function je(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}ke.prototype.displayObjectUpdateTransform=ke.prototype.updateTransform;var Ge=function(t){function e(){var e=t.call(this)||this;return e.children=[],e.sortableChildren=C.SORTABLE_CHILDREN,e.sortDirty=!1,e}return Ue(e,t),e.prototype.onChildrenChange=function(t){},e.prototype.addChild=function(){for(var t=arguments,e=[],r=0;r<arguments.length;r++)e[r]=t[r];if(e.length>1)for(var i=0;i<e.length;i++)this.addChild(e[i]);else{var n=e[0];n.parent&&n.parent.removeChild(n),n.parent=this,this.sortDirty=!0,n.transform._parentID=-1,this.children.push(n),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",n,this,this.children.length-1),n.emit("added",this)}return e[0]},e.prototype.addChildAt=function(t,e){if(e<0||e>this.children.length)throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t},e.prototype.swapChildren=function(t,e){if(t!==e){var r=this.getChildIndex(t),i=this.getChildIndex(e);this.children[r]=e,this.children[i]=t,this.onChildrenChange(r<i?r:i)}},e.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);if(-1===e)throw new Error("The supplied DisplayObject must be a child of the caller");return e},e.prototype.setChildIndex=function(t,e){if(e<0||e>=this.children.length)throw new Error("The index "+e+" supplied is out of bounds "+this.children.length);var r=this.getChildIndex(t);$t(this.children,r,1),this.children.splice(e,0,t),this.onChildrenChange(e)},e.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Index ("+t+") does not exist.");return this.children[t]},e.prototype.removeChild=function(){for(var t=arguments,e=[],r=0;r<arguments.length;r++)e[r]=t[r];if(e.length>1)for(var i=0;i<e.length;i++)this.removeChild(e[i]);else{var n=e[0],o=this.children.indexOf(n);if(-1===o)return null;n.parent=null,n.transform._parentID=-1,$t(this.children,o,1),this._boundsID++,this.onChildrenChange(o),n.emit("removed",this),this.emit("childRemoved",n,this,o)}return e[0]},e.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,$t(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e},e.prototype.removeChildren=function(t,e){void 0===t&&(t=0),void 0===e&&(e=this.children.length);var r,i=t,n=e-i;if(n>0&&n<=e){r=this.children.splice(i,n);for(var o=0;o<r.length;++o)r[o].parent=null,r[o].transform&&(r[o].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(o=0;o<r.length;++o)r[o].emit("removed",this),this.emit("childRemoved",r[o],this,o);return r}if(0===n&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.sortChildren=function(){for(var t=!1,e=0,r=this.children.length;e<r;++e){var i=this.children[e];i._lastSortedIndex=e,t||0===i.zIndex||(t=!0)}t&&this.children.length>1&&this.children.sort(je),this.sortDirty=!1},e.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var t=0,e=this.children.length;t<e;++t){var r=this.children[t];r.visible&&r.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var t=0;t<this.children.length;t++){var e=this.children[t];if(e.visible&&e.renderable)if(e.calculateBounds(),e._mask){var r=e._mask.maskObject||e._mask;r.calculateBounds(),this._bounds.addBoundsMask(e._bounds,r._bounds)}else e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds)}this._bounds.updateID=this._boundsID},e.prototype.getLocalBounds=function(e,r){void 0===r&&(r=!1);var i=t.prototype.getLocalBounds.call(this,e);if(!r)for(var n=0,o=this.children.length;n<o;++n){var s=this.children[n];s.visible&&s.updateTransform()}return i},e.prototype._calculateBounds=function(){},e.prototype.render=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(t);else{this._render(t);for(var e=0,r=this.children.length;e<r;++e)this.children[e].render(t)}},e.prototype.renderAdvanced=function(t){t.batch.flush();var e=this.filters,r=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var i=0;i<e.length;i++)e[i].enabled&&this._enabledFilters.push(e[i]);this._enabledFilters.length&&t.filter.push(this,this._enabledFilters)}r&&t.mask.push(this,this._mask),this._render(t);i=0;for(var n=this.children.length;i<n;i++)this.children[i].render(t);t.batch.flush(),r&&t.mask.pop(this),e&&this._enabledFilters&&this._enabledFilters.length&&t.filter.pop()},e.prototype._render=function(t){},e.prototype.destroy=function(e){t.prototype.destroy.call(this),this.sortDirty=!1;var r="boolean"==typeof e?e:e&&e.children,i=this.removeChildren(0,this.children.length);if(r)for(var n=0;n<i.length;++n)i[n].destroy(e)},Object.defineProperty(e.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t},enumerable:!1,configurable:!0}),e}(ke);Ge.prototype.containerUpdateTransform=Ge.prototype.updateTransform;var He={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};ke.mixin(He);var Ye,ze=100,Ve=0,We=0,qe=2,Ke=function(){function t(t){this._hookDiv=null,(M.tablet||M.phone)&&this.createTouchHook();var e=document.createElement("div");e.style.width=ze+"px",e.style.height=ze+"px",e.style.position="absolute",e.style.top=Ve+"px",e.style.left=We+"px",e.style.zIndex=qe.toString(),this.div=e,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=t,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._isActive=!1,this._isMobileAccessibility=!1,this.androidUpdateCount=0,this.androidUpdateFrequency=500,window.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(t.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),t.prototype.createTouchHook=function(){var t=this,e=document.createElement("button");e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.style.zIndex=2..toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessability for this content",e.addEventListener("focus",function(){t._isMobileAccessibility=!0,t.activate(),t.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e},t.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},t.prototype.activate=function(){this._isActive||(this._isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},t.prototype.deactivate=function(){this._isActive&&!this._isMobileAccessibility&&(this._isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},t.prototype.updateAccessibleObjects=function(t){if(t.visible&&t.accessibleChildren){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);for(var e=t.children,r=0;r<e.length;r++)this.updateAccessibleObjects(e[r])}},t.prototype.update=function(){var t=performance.now();if(!(M.android.device&&t<this.androidUpdateCount)&&(this.androidUpdateCount=t+this.androidUpdateFrequency,this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var e=this.renderer.view.getBoundingClientRect(),r=this.renderer.resolution,i=e.width/this.renderer.width*r,n=e.height/this.renderer.height*r,o=this.div;o.style.left=e.left+"px",o.style.top=e.top+"px",o.style.width=this.renderer.width+"px",o.style.height=this.renderer.height+"px";for(var s=0;s<this.children.length;s++){var a=this.children[s];if(a.renderId!==this.renderId)a._accessibleActive=!1,$t(this.children,s,1),this.div.removeChild(a._accessibleDiv),this.pool.push(a._accessibleDiv),a._accessibleDiv=null,s--;else{o=a._accessibleDiv;var h=a.hitArea,u=a.worldTransform;a.hitArea?(o.style.left=(u.tx+h.x*u.a)*i+"px",o.style.top=(u.ty+h.y*u.d)*n+"px",o.style.width=h.width*u.a*i+"px",o.style.height=h.height*u.d*n+"px"):(h=a.getBounds(),this.capHitArea(h),o.style.left=h.x*i+"px",o.style.top=h.y*n+"px",o.style.width=h.width*i+"px",o.style.height=h.height*n+"px",o.title!==a.accessibleTitle&&null!==a.accessibleTitle&&(o.title=a.accessibleTitle),o.getAttribute("aria-label")!==a.accessibleHint&&null!==a.accessibleHint&&o.setAttribute("aria-label",a.accessibleHint)),a.accessibleTitle===o.title&&a.tabIndex===o.tabIndex||(o.title=a.accessibleTitle,o.tabIndex=a.tabIndex,this.debug&&this.updateDebugHTML(o))}}this.renderId++}},t.prototype.updateDebugHTML=function(t){t.innerHTML="type: "+t.type+"</br> title : "+t.title+"</br> tabIndex: "+t.tabIndex},t.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0),t.x+t.width>this.renderer.width&&(t.width=this.renderer.width-t.x),t.y+t.height>this.renderer.height&&(t.height=this.renderer.height-t.y)},t.prototype.addChild=function(t){var e=this.pool.pop();e||((e=document.createElement("button")).style.width=ze+"px",e.style.height=ze+"px",e.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=qe.toString(),e.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?e.setAttribute("aria-live","off"):e.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?e.setAttribute("aria-relevant","additions"):e.setAttribute("aria-relevant","text"),e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),e.style.pointerEvents=t.accessiblePointerEvents,e.type=t.accessibleType,t.accessibleTitle&&null!==t.accessibleTitle?e.title=t.accessibleTitle:t.accessibleHint&&null!==t.accessibleHint||(e.title="displayObject "+t.tabIndex),t.accessibleHint&&null!==t.accessibleHint&&e.setAttribute("aria-label",t.accessibleHint),this.debug&&this.updateDebugHTML(e),t._accessibleActive=!0,t._accessibleDiv=e,e.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},t.prototype._onClick=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"click",e.eventData),e.dispatchEvent(t.target.displayObject,"pointertap",e.eventData),e.dispatchEvent(t.target.displayObject,"tap",e.eventData)},t.prototype._onFocus=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","assertive");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseover",e.eventData)},t.prototype._onFocusOut=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","polite");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseout",e.eventData)},t.prototype._onKeyDown=function(t){9===t.keyCode&&this.activate()},t.prototype._onMouseMove=function(t){0===t.movementX&&0===t.movementY||this.deactivate()},t.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},t}();C.TARGET_FPMS=.06,(Ye=t.UPDATE_PRIORITY||(t.UPDATE_PRIORITY={}))[Ye.INTERACTION=50]="INTERACTION",Ye[Ye.HIGH=25]="HIGH",Ye[Ye.NORMAL=0]="NORMAL",Ye[Ye.LOW=-25]="LOW",Ye[Ye.UTILITY=-50]="UTILITY";var Ze=function(){function t(t,e,r,i){void 0===e&&(e=null),void 0===r&&(r=0),void 0===i&&(i=!1),this.fn=t,this.context=e,this.priority=r,this.once=i,this.next=null,this.previous=null,this._destroyed=!1}return t.prototype.match=function(t,e){return void 0===e&&(e=null),this.fn===t&&this.context===e},t.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},t.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},t.prototype.destroy=function(t){void 0===t&&(t=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=t?null:e,this.previous=null,e},t}(),Je=function(){function e(){var t=this;this._head=new Ze(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this.autoStart=!1,this.deltaTime=1,this.deltaMS=1/C.TARGET_FPMS,this.elapsedMS=1/C.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._protected=!1,this._lastFrame=-1,this._tick=function(e){t._requestId=null,t.started&&(t.update(e),t.started&&null===t._requestId&&t._head.next&&(t._requestId=requestAnimationFrame(t._tick)))}}return e.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},e.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},e.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},e.prototype.add=function(e,r,i){return void 0===i&&(i=t.UPDATE_PRIORITY.NORMAL),this._addListener(new Ze(e,r,i))},e.prototype.addOnce=function(e,r,i){return void 0===i&&(i=t.UPDATE_PRIORITY.NORMAL),this._addListener(new Ze(e,r,i,!0))},e.prototype._addListener=function(t){var e=this._head.next,r=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(r);break}r=e,e=e.next}t.previous||t.connect(r)}else t.connect(r);return this._startIfPossible(),this},e.prototype.remove=function(t,e){for(var r=this._head.next;r;)r=r.match(t,e)?r.destroy():r.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(e.prototype,"count",{get:function(){if(!this._head)return 0;for(var t=0,e=this._head;e=e.next;)t++;return t},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},e.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},e.prototype.destroy=function(){if(!this._protected){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}},e.prototype.update=function(t){var e;if(void 0===t&&(t=performance.now()),t>this.lastTime){if((e=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){var r=t-this._lastFrame|0;if(r<this._minElapsedMS)return;this._lastFrame=t-r%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*C.TARGET_FPMS;for(var i=this._head,n=i.next;n;)n=n.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t},Object.defineProperty(e.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(t){var e=Math.min(this.maxFPS,t),r=Math.min(Math.max(0,e)/1e3,C.TARGET_FPMS);this._maxElapsedMS=1/r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(t){if(0===t)this._minElapsedMS=0;else{var e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"shared",{get:function(){if(!e._shared){var t=e._shared=new e;t.autoStart=!0,t._protected=!0}return e._shared},enumerable:!1,configurable:!0}),Object.defineProperty(e,"system",{get:function(){if(!e._system){var t=e._system=new e;t.autoStart=!0,t._protected=!0}return e._system},enumerable:!1,configurable:!0}),e}(),Qe=function(){function e(){}return e.init=function(e){var r=this;e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set:function(e){this._ticker&&this._ticker.remove(this.render,this),this._ticker=e,e&&e.add(this.render,this,t.UPDATE_PRIORITY.LOW)},get:function(){return this._ticker}}),this.stop=function(){r._ticker.stop()},this.start=function(){r._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?Je.shared:new Je,e.autoStart&&this.start()},e.destroy=function(){if(this._ticker){var t=this._ticker;this.ticker=null,t.destroy()}},e}(),$e=function(){function t(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new Pe,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(t.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),t.prototype.getLocalPosition=function(t,e,r){return t.worldTransform.applyInverse(r||this.global,e)},t.prototype.copyEvent=function(t){"isPrimary"in t&&t.isPrimary&&(this.isPrimary=!0),this.button="button"in t&&t.button;var e="buttons"in t&&t.buttons;this.buttons=Number.isInteger(e)?e:"which"in t&&t.which,this.width="width"in t&&t.width,this.height="height"in t&&t.height,this.tiltX="tiltX"in t&&t.tiltX,this.tiltY="tiltY"in t&&t.tiltY,this.pointerType="pointerType"in t&&t.pointerType,this.pressure="pressure"in t&&t.pressure,this.rotationAngle="rotationAngle"in t&&t.rotationAngle,this.twist="twist"in t&&t.twist||0,this.tangentialPressure="tangentialPressure"in t&&t.tangentialPressure||0},t.prototype.reset=function(){this.isPrimary=!1},t}(),tr=function(t,e){return(tr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};var er=function(){function t(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return t.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},t.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},t}(),rr=function(){function t(e){this._pointerId=e,this._flags=t.FLAGS.NONE}return t.prototype._doSet=function(t,e){this._flags=e?this._flags|t:this._flags&~t},Object.defineProperty(t.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flags",{get:function(){return this._flags},set:function(t){this._flags=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"none",{get:function(){return this._flags===t.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"over",{get:function(){return 0!=(this._flags&t.FLAGS.OVER)},set:function(e){this._doSet(t.FLAGS.OVER,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightDown",{get:function(){return 0!=(this._flags&t.FLAGS.RIGHT_DOWN)},set:function(e){this._doSet(t.FLAGS.RIGHT_DOWN,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftDown",{get:function(){return 0!=(this._flags&t.FLAGS.LEFT_DOWN)},set:function(e){this._doSet(t.FLAGS.LEFT_DOWN,e)},enumerable:!1,configurable:!0}),t.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4}),t}(),ir=function(){function t(){this._tempPoint=new Pe}return t.prototype.recursiveFindHit=function(t,e,r,i,n){if(!e||!e.visible)return!1;var o=t.data.global,s=!1,a=n=e.interactive||n,h=!0;if(e.hitArea?(i&&(e.worldTransform.applyInverse(o,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?s=!0:(i=!1,h=!1)),a=!1):e._mask&&i&&(e._mask.containsPoint&&e._mask.containsPoint(o)||(i=!1)),h&&e.interactiveChildren&&e.children)for(var u=e.children,l=u.length-1;l>=0;l--){var c=u[l],d=this.recursiveFindHit(t,c,r,i,a);if(d){if(!c.parent)continue;a=!1,d&&(t.target&&(i=!1),s=!0)}}return n&&(i&&!t.target&&!e.hitArea&&e.containsPoint&&e.containsPoint(o)&&(s=!0),e.interactive&&(s&&!t.target&&(t.target=e),r&&r(t,e,!!s))),s},t.prototype.findHit=function(t,e,r,i){this.recursiveFindHit(t,e,r,i,!1)},t}(),nr={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(t){t?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};ke.mixin(nr);var or=1,sr={target:null,data:{global:null}},ar=function(e){function r(t,r){var i=e.call(this)||this;return r=r||{},i.renderer=t,i.autoPreventDefault=void 0===r.autoPreventDefault||r.autoPreventDefault,i.interactionFrequency=r.interactionFrequency||10,i.mouse=new $e,i.mouse.identifier=or,i.mouse.global.set(-999999),i.activeInteractionData={},i.activeInteractionData[or]=i.mouse,i.interactionDataPool=[],i.eventData=new er,i.interactionDOMElement=null,i.moveWhenInside=!1,i.eventsAdded=!1,i.tickerAdded=!1,i.mouseOverRenderer=!1,i.supportsTouchEvents="ontouchstart"in window,i.supportsPointerEvents=!!window.PointerEvent,i.onPointerUp=i.onPointerUp.bind(i),i.processPointerUp=i.processPointerUp.bind(i),i.onPointerCancel=i.onPointerCancel.bind(i),i.processPointerCancel=i.processPointerCancel.bind(i),i.onPointerDown=i.onPointerDown.bind(i),i.processPointerDown=i.processPointerDown.bind(i),i.onPointerMove=i.onPointerMove.bind(i),i.processPointerMove=i.processPointerMove.bind(i),i.onPointerOut=i.onPointerOut.bind(i),i.processPointerOverOut=i.processPointerOverOut.bind(i),i.onPointerOver=i.onPointerOver.bind(i),i.cursorStyles={default:"inherit",pointer:"pointer"},i.currentCursorMode=null,i.cursor=null,i.resolution=1,i.delayedEvents=[],i.search=new ir,i._tempDisplayObject=new Xe,i._useSystemTicker=void 0===r.useSystemTicker||r.useSystemTicker,i.setTargetElement(i.renderer.view,i.renderer.resolution),i}return function(t,e){function r(){this.constructor=t}tr(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(r,e),Object.defineProperty(r.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(t){this._useSystemTicker=t,t?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),r.prototype.hitTest=function(t,e){return sr.target=null,sr.data.global=t,e||(e=this.lastObjectRendered),this.processInteractive(sr,e,null,!0),sr.target},r.prototype.setTargetElement=function(t,e){void 0===e&&(e=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=t,this.resolution=e,this.addEvents(),this.addTickerListener()},r.prototype.addTickerListener=function(){!this.tickerAdded&&this.interactionDOMElement&&this._useSystemTicker&&(Je.system.add(this.tickerUpdate,this,t.UPDATE_PRIORITY.INTERACTION),this.tickerAdded=!0)},r.prototype.removeTickerListener=function(){this.tickerAdded&&(Je.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},r.prototype.addEvents=function(){if(!this.eventsAdded&&this.interactionDOMElement){var t=this.interactionDOMElement.style;window.navigator.msPointerEnabled?(t.msContentZooming="none",t.msTouchAction="none"):this.supportsPointerEvents&&(t.touchAction="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0}},r.prototype.removeEvents=function(){if(this.eventsAdded&&this.interactionDOMElement){var t=this.interactionDOMElement.style;window.navigator.msPointerEnabled?(t.msContentZooming="",t.msTouchAction=""):this.supportsPointerEvents&&(t.touchAction=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1}},r.prototype.tickerUpdate=function(t){this._deltaTime+=t,this._deltaTime<this.interactionFrequency||(this._deltaTime=0,this.update())},r.prototype.update=function(){if(this.interactionDOMElement)if(this._didMove)this._didMove=!1;else{for(var t in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(t)){var e=this.activeInteractionData[t];if(e.originalEvent&&"touch"!==e.pointerType){var r=this.configureInteractionEventForDOMEvent(this.eventData,e.originalEvent,e);this.processInteractive(r,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},r.prototype.setCursorMode=function(t){if(t=t||"default",this.currentCursorMode!==t){this.currentCursorMode=t;var e=this.cursorStyles[t];if(e)switch(typeof e){case"string":this.interactionDOMElement.style.cursor=e;break;case"function":e(t);break;case"object":Object.assign(this.interactionDOMElement.style,e)}else"string"!=typeof t||Object.prototype.hasOwnProperty.call(this.cursorStyles,t)||(this.interactionDOMElement.style.cursor=t)}},r.prototype.dispatchEvent=function(t,e,r){r.stopPropagationHint&&t!==r.stopsPropagatingAt||(r.currentTarget=t,r.type=e,t.emit(e,r),t[e]&&t[e](r))},r.prototype.delayDispatchEvent=function(t,e,r){this.delayedEvents.push({displayObject:t,eventString:e,eventData:r})},r.prototype.mapPositionToPoint=function(t,e,r){var i;i=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};var n=1/this.resolution;t.x=(e-i.left)*(this.interactionDOMElement.width/i.width)*n,t.y=(r-i.top)*(this.interactionDOMElement.height/i.height)*n},r.prototype.processInteractive=function(t,e,r,i){var n=this.search.findHit(t,e,r,i),o=this.delayedEvents;if(!o.length)return n;t.stopPropagationHint=!1;var s=o.length;this.delayedEvents=[];for(var a=0;a<s;a++){var h=o[a],u=h.displayObject,l=h.eventString,c=h.eventData;c.stopsPropagatingAt===u&&(c.stopPropagationHint=!0),this.dispatchEvent(u,l,c)}return n},r.prototype.onPointerDown=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);if(this.autoPreventDefault&&e[0].isNormalized)(t.cancelable||!("cancelable"in t))&&t.preventDefault();for(var r=e.length,i=0;i<r;i++){var n=e[i],o=this.getInteractionDataForPointerId(n),s=this.configureInteractionEventForDOMEvent(this.eventData,n,o);if(s.data.originalEvent=t,this.processInteractive(s,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",s),"touch"===n.pointerType)this.emit("touchstart",s);else if("mouse"===n.pointerType||"pen"===n.pointerType){var a=2===n.button;this.emit(a?"rightdown":"mousedown",this.eventData)}}}},r.prototype.processPointerDown=function(t,e,r){var i=t.data,n=t.data.identifier;if(r)if(e.trackedPointers[n]||(e.trackedPointers[n]=new rr(n)),this.dispatchEvent(e,"pointerdown",t),"touch"===i.pointerType)this.dispatchEvent(e,"touchstart",t);else if("mouse"===i.pointerType||"pen"===i.pointerType){var o=2===i.button;o?e.trackedPointers[n].rightDown=!0:e.trackedPointers[n].leftDown=!0,this.dispatchEvent(e,o?"rightdown":"mousedown",t)}},r.prototype.onPointerComplete=function(t,e,r){for(var i=this.normalizeToPointerData(t),n=i.length,o=t.target!==this.interactionDOMElement?"outside":"",s=0;s<n;s++){var a=i[s],h=this.getInteractionDataForPointerId(a),u=this.configureInteractionEventForDOMEvent(this.eventData,a,h);if(u.data.originalEvent=t,this.processInteractive(u,this.lastObjectRendered,r,e||!o),this.emit(e?"pointercancel":"pointerup"+o,u),"mouse"===a.pointerType||"pen"===a.pointerType){var l=2===a.button;this.emit(l?"rightup"+o:"mouseup"+o,u)}else"touch"===a.pointerType&&(this.emit(e?"touchcancel":"touchend"+o,u),this.releaseInteractionDataForPointerId(a.pointerId))}},r.prototype.onPointerCancel=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!0,this.processPointerCancel)},r.prototype.processPointerCancel=function(t,e){var r=t.data,i=t.data.identifier;void 0!==e.trackedPointers[i]&&(delete e.trackedPointers[i],this.dispatchEvent(e,"pointercancel",t),"touch"===r.pointerType&&this.dispatchEvent(e,"touchcancel",t))},r.prototype.onPointerUp=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!1,this.processPointerUp)},r.prototype.processPointerUp=function(t,e,r){var i=t.data,n=t.data.identifier,o=e.trackedPointers[n],s="touch"===i.pointerType,a="mouse"===i.pointerType||"pen"===i.pointerType,h=!1;if(a){var u=2===i.button,l=rr.FLAGS,c=u?l.RIGHT_DOWN:l.LEFT_DOWN,d=void 0!==o&&o.flags&c;r?(this.dispatchEvent(e,u?"rightup":"mouseup",t),d&&(this.dispatchEvent(e,u?"rightclick":"click",t),h=!0)):d&&this.dispatchEvent(e,u?"rightupoutside":"mouseupoutside",t),o&&(u?o.rightDown=!1:o.leftDown=!1)}r?(this.dispatchEvent(e,"pointerup",t),s&&this.dispatchEvent(e,"touchend",t),o&&(a&&!h||this.dispatchEvent(e,"pointertap",t),s&&(this.dispatchEvent(e,"tap",t),o.over=!1))):o&&(this.dispatchEvent(e,"pointerupoutside",t),s&&this.dispatchEvent(e,"touchendoutside",t)),o&&o.none&&delete e.trackedPointers[n]},r.prototype.onPointerMove=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);"mouse"!==e[0].pointerType&&"pen"!==e[0].pointerType||(this._didMove=!0,this.cursor=null);for(var r=e.length,i=0;i<r;i++){var n=e[i],o=this.getInteractionDataForPointerId(n),s=this.configureInteractionEventForDOMEvent(this.eventData,n,o);s.data.originalEvent=t,this.processInteractive(s,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",s),"touch"===n.pointerType&&this.emit("touchmove",s),"mouse"!==n.pointerType&&"pen"!==n.pointerType||this.emit("mousemove",s)}"mouse"===e[0].pointerType&&this.setCursorMode(this.cursor)}},r.prototype.processPointerMove=function(t,e,r){var i=t.data,n="touch"===i.pointerType,o="mouse"===i.pointerType||"pen"===i.pointerType;o&&this.processPointerOverOut(t,e,r),this.moveWhenInside&&!r||(this.dispatchEvent(e,"pointermove",t),n&&this.dispatchEvent(e,"touchmove",t),o&&this.dispatchEvent(e,"mousemove",t))},r.prototype.onPointerOut=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t)[0];"mouse"===e.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var r=this.getInteractionDataForPointerId(e),i=this.configureInteractionEventForDOMEvent(this.eventData,e,r);i.data.originalEvent=e,this.processInteractive(i,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",i),"mouse"===e.pointerType||"pen"===e.pointerType?this.emit("mouseout",i):this.releaseInteractionDataForPointerId(r.identifier)}},r.prototype.processPointerOverOut=function(t,e,r){var i=t.data,n=t.data.identifier,o="mouse"===i.pointerType||"pen"===i.pointerType,s=e.trackedPointers[n];r&&!s&&(s=e.trackedPointers[n]=new rr(n)),void 0!==s&&(r&&this.mouseOverRenderer?(s.over||(s.over=!0,this.delayDispatchEvent(e,"pointerover",t),o&&this.delayDispatchEvent(e,"mouseover",t)),o&&null===this.cursor&&(this.cursor=e.cursor)):s.over&&(s.over=!1,this.dispatchEvent(e,"pointerout",this.eventData),o&&this.dispatchEvent(e,"mouseout",t),s.none&&delete e.trackedPointers[n]))},r.prototype.onPointerOver=function(t){var e=this.normalizeToPointerData(t)[0],r=this.getInteractionDataForPointerId(e),i=this.configureInteractionEventForDOMEvent(this.eventData,e,r);i.data.originalEvent=e,"mouse"===e.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",i),"mouse"!==e.pointerType&&"pen"!==e.pointerType||this.emit("mouseover",i)},r.prototype.getInteractionDataForPointerId=function(t){var e,r=t.pointerId;return r===or||"mouse"===t.pointerType?e=this.mouse:this.activeInteractionData[r]?e=this.activeInteractionData[r]:((e=this.interactionDataPool.pop()||new $e).identifier=r,this.activeInteractionData[r]=e),e.copyEvent(t),e},r.prototype.releaseInteractionDataForPointerId=function(t){var e=this.activeInteractionData[t];e&&(delete this.activeInteractionData[t],e.reset(),this.interactionDataPool.push(e))},r.prototype.configureInteractionEventForDOMEvent=function(t,e,r){return t.data=r,this.mapPositionToPoint(r.global,e.clientX,e.clientY),"touch"===e.pointerType&&(e.globalX=r.global.x,e.globalY=r.global.y),r.originalEvent=e,t.reset(),t},r.prototype.normalizeToPointerData=function(t){var e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(var r=0,i=t.changedTouches.length;r<i;r++){var n=t.changedTouches[r];void 0===n.button&&(n.button=t.touches.length?1:0),void 0===n.buttons&&(n.buttons=t.touches.length?1:0),void 0===n.isPrimary&&(n.isPrimary=1===t.touches.length&&"touchstart"===t.type),void 0===n.width&&(n.width=n.radiusX||1),void 0===n.height&&(n.height=n.radiusY||1),void 0===n.tiltX&&(n.tiltX=0),void 0===n.tiltY&&(n.tiltY=0),void 0===n.pointerType&&(n.pointerType="touch"),void 0===n.pointerId&&(n.pointerId=n.identifier||0),void 0===n.pressure&&(n.pressure=n.force||.5),void 0===n.twist&&(n.twist=0),void 0===n.tangentialPressure&&(n.tangentialPressure=0),void 0===n.layerX&&(n.layerX=n.offsetX=n.clientX),void 0===n.layerY&&(n.layerY=n.offsetY=n.clientY),n.isNormalized=!0,e.push(n)}else if(!(t instanceof MouseEvent)||this.supportsPointerEvents&&t instanceof window.PointerEvent)e.push(t);else{var o=t;void 0===o.isPrimary&&(o.isPrimary=!0),void 0===o.width&&(o.width=1),void 0===o.height&&(o.height=1),void 0===o.tiltX&&(o.tiltX=0),void 0===o.tiltY&&(o.tiltY=0),void 0===o.pointerType&&(o.pointerType="mouse"),void 0===o.pointerId&&(o.pointerId=or),void 0===o.pressure&&(o.pressure=.5),void 0===o.twist&&(o.twist=0),void 0===o.tangentialPressure&&(o.tangentialPressure=0),o.isNormalized=!0,e.push(o)}return e},r.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},r}(D),hr=function(){function t(t){this.items=[],this._name=t,this._aliasCount=0}return t.prototype.emit=function(t,e,r,i,n,o,s,a){if(arguments.length>8)throw new Error("max arguments reached");var h=this.name,u=this.items;this._aliasCount++;for(var l=0,c=u.length;l<c;l++)u[l][h](t,e,r,i,n,o,s,a);return u===this.items&&this._aliasCount--,this},t.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},t.prototype.add=function(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this},t.prototype.remove=function(t){var e=this.items.indexOf(t);return-1!==e&&(this.ensureNonAliasedItems(),this.items.splice(e,1)),this},t.prototype.contains=function(t){return-1!==this.items.indexOf(t)},t.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},t.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.items.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),t}();Object.defineProperties(hr.prototype,{dispatch:{value:hr.prototype.emit},run:{value:hr.prototype.emit}}),C.PREFER_ENV=M.any?t.ENV.WEBGL:t.ENV.WEBGL2,C.STRICT_TEXTURE_CACHE=!1;var ur=[];function lr(t,e){if(!t)return null;var r="";if("string"==typeof t){var i=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);i&&(r=i[1].toLowerCase())}for(var n=ur.length-1;n>=0;--n){var o=ur[n];if(o.test&&o.test(t,r))return new o(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}var cr=function(t,e){return(cr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function dr(t,e){function r(){this.constructor=t}cr(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var pr=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this._width=t,this._height=e,this.destroyed=!1,this.internal=!1,this.onResize=new hr("setRealSize"),this.onUpdate=new hr("update"),this.onError=new hr("onError")}return t.prototype.bind=function(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},t.prototype.unbind=function(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)},t.prototype.resize=function(t,e){t===this._width&&e===this._height||(this._width=t,this._height=e,this.onResize.emit(t,e))},Object.defineProperty(t.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),t.prototype.update=function(){this.destroyed||this.onUpdate.emit()},t.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),t.prototype.style=function(t,e,r){return!1},t.prototype.dispose=function(){},t.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},t.test=function(t,e){return!1},t}(),fr=function(e){function r(t,r){var i=this,n=r||{},o=n.width,s=n.height;if(!o||!s)throw new Error("BufferResource width or height invalid");return(i=e.call(this,o,s)||this).data=t,i}return dr(r,e),r.prototype.upload=function(e,r,i){var n=e.gl;return n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===t.ALPHA_MODES.UNPACK),i.width===r.width&&i.height===r.height?n.texSubImage2D(r.target,0,0,0,r.width,r.height,r.format,r.type,this.data):(i.width=r.width,i.height=r.height,n.texImage2D(r.target,0,i.internalFormat,r.width,r.height,0,r.format,i.type,this.data)),!0},r.prototype.dispose=function(){this.data=null},r.test=function(t){return t instanceof Float32Array||t instanceof Uint8Array||t instanceof Uint32Array},r}(pr),mr={scaleMode:t.SCALE_MODES.NEAREST,format:t.FORMATS.RGBA,alphaMode:t.ALPHA_MODES.NPM},vr=function(e){function r(r,i){void 0===r&&(r=null),void 0===i&&(i=null);var n=e.call(this)||this,o=(i=i||{}).alphaMode,s=i.mipmap,a=i.anisotropicLevel,h=i.scaleMode,u=i.width,l=i.height,c=i.wrapMode,d=i.format,p=i.type,f=i.target,m=i.resolution,v=i.resourceOptions;return!r||r instanceof pr||((r=lr(r,v)).internal=!0),n.width=u||0,n.height=l||0,n.resolution=m||C.RESOLUTION,n.mipmap=void 0!==s?s:C.MIPMAP_TEXTURES,n.anisotropicLevel=void 0!==a?a:C.ANISOTROPIC_LEVEL,n.wrapMode=c||C.WRAP_MODE,n.scaleMode=void 0!==h?h:C.SCALE_MODE,n.format=d||t.FORMATS.RGBA,n.type=p||t.TYPES.UNSIGNED_BYTE,n.target=f||t.TARGETS.TEXTURE_2D,n.alphaMode=void 0!==o?o:t.ALPHA_MODES.UNPACK,void 0!==i.premultiplyAlpha&&(n.premultiplyAlpha=i.premultiplyAlpha),n.uid=re(),n.touched=0,n.isPowerOfTwo=!1,n._refreshPOT(),n._glTextures={},n.dirtyId=0,n.dirtyStyleId=0,n.cacheId=null,n.valid=u>0&&l>0,n.textureCacheIds=[],n.destroyed=!1,n.resource=null,n._batchEnabled=0,n._batchLocation=0,n.parentTextureArray=null,n.setResource(r),n}return dr(r,e),Object.defineProperty(r.prototype,"realWidth",{get:function(){return Math.ceil(this.width*this.resolution-1e-4)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"realHeight",{get:function(){return Math.ceil(this.height*this.resolution-1e-4)},enumerable:!1,configurable:!0}),r.prototype.setStyle=function(t,e){var r;return void 0!==t&&t!==this.scaleMode&&(this.scaleMode=t,r=!0),void 0!==e&&e!==this.mipmap&&(this.mipmap=e,r=!0),r&&this.dirtyStyleId++,this},r.prototype.setSize=function(t,e,r){return this.resolution=r||this.resolution,this.width=t,this.height=e,this._refreshPOT(),this.update(),this},r.prototype.setRealSize=function(t,e,r){return this.resolution=r||this.resolution,this.width=t/this.resolution,this.height=e/this.resolution,this._refreshPOT(),this.update(),this},r.prototype._refreshPOT=function(){this.isPowerOfTwo=Jt(this.realWidth)&&Jt(this.realHeight)},r.prototype.setResolution=function(t){var e=this.resolution;return e===t?this:(this.resolution=t,this.valid&&(this.width=this.width*e/t,this.height=this.height*e/t,this.emit("update",this)),this._refreshPOT(),this)},r.prototype.setResource=function(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this},r.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},r.prototype.onError=function(t){this.emit("error",this,t)},r.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete ae[this.cacheId],delete se[this.cacheId],this.cacheId=null),this.dispose(),r.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},r.prototype.dispose=function(){this.emit("dispose",this)},r.prototype.castToBaseTexture=function(){return this},r.from=function(t,e,i){void 0===i&&(i=C.STRICT_TEXTURE_CACHE);var n="string"==typeof t,o=null;n?o=t:(t._pixiId||(t._pixiId="pixiid_"+re()),o=t._pixiId);var s=ae[o];if(n&&i&&!s)throw new Error('The cacheId "'+o+'" does not exist in BaseTextureCache.');return s||((s=new r(t,e)).cacheId=o,r.addToCache(s,o)),s},r.fromBuffer=function(e,i,n,o){e=e||new Float32Array(i*n*4);var s=new fr(e,{width:i,height:n}),a=e instanceof Float32Array?t.TYPES.FLOAT:t.TYPES.UNSIGNED_BYTE;return new r(s,Object.assign(mr,o||{width:i,height:n,type:a}))},r.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),ae[e]&&console.warn("BaseTexture added to the cache with an id ["+e+"] that already had an entry"),ae[e]=t)},r.removeFromCache=function(t){if("string"==typeof t){var e=ae[t];if(e){var r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete ae[t],e}}else if(t&&t.textureCacheIds){for(var i=0;i<t.textureCacheIds.length;++i)delete ae[t.textureCacheIds[i]];return t.textureCacheIds.length=0,t}return null},r._globalBatch=0,r}(D),yr=function(t){function e(e,r){var i=this,n=r||{},o=n.width,s=n.height;(i=t.call(this,o,s)||this).items=[],i.itemDirtyIds=[];for(var a=0;a<e;a++){var h=new vr;i.items.push(h),i.itemDirtyIds.push(-2)}return i.length=e,i._load=null,i.baseTexture=null,i}return dr(e,t),e.prototype.initFromArray=function(t,e){for(var r=0;r<this.length;r++)t[r]&&(t[r].castToBaseTexture?this.addBaseTextureAt(t[r].castToBaseTexture(),r):t[r]instanceof pr?this.addResourceAt(t[r],r):this.addResourceAt(lr(t[r],e),r))},e.prototype.dispose=function(){for(var t=0,e=this.length;t<e;t++)this.items[t].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},e.prototype.addResourceAt=function(t,e){if(!this.items[e])throw new Error("Index "+e+" is out of bounds");return t.valid&&!this.valid&&this.resize(t.width,t.height),this.items[e].setResource(t),this},e.prototype.bind=function(e){if(null!==this.baseTexture)throw new Error("Only one base texture per TextureArray is allowed");t.prototype.bind.call(this,e);for(var r=0;r<this.length;r++)this.items[r].parentTextureArray=e,this.items[r].on("update",e.update,e)},e.prototype.unbind=function(e){t.prototype.unbind.call(this,e);for(var r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",e.update,e)},e.prototype.load=function(){var t=this;if(this._load)return this._load;var e=this.items.map(function(t){return t.resource}).filter(function(t){return t}).map(function(t){return t.load()});return this._load=Promise.all(e).then(function(){var e=t.items[0],r=e.realWidth,i=e.realHeight;return t.resize(r,i),Promise.resolve(t)}),this._load},e}(pr),gr=function(e){function r(t,r){var i,n,o=this,s=r||{},a=s.width,h=s.height;return Array.isArray(t)?(i=t,n=t.length):n=t,o=e.call(this,n,{width:a,height:h})||this,i&&o.initFromArray(i,r),o}return dr(r,e),r.prototype.addBaseTextureAt=function(t,e){if(!t.resource)throw new Error("ArrayResource does not support RenderTexture");return this.addResourceAt(t.resource,e),this},r.prototype.bind=function(r){e.prototype.bind.call(this,r),r.target=t.TARGETS.TEXTURE_2D_ARRAY},r.prototype.upload=function(t,e,r){var i=this.length,n=this.itemDirtyIds,o=this.items,s=t.gl;r.dirtyId<0&&s.texImage3D(s.TEXTURE_2D_ARRAY,0,e.format,this._width,this._height,i,0,e.format,e.type,null);for(var a=0;a<i;a++){var h=o[a];n[a]<h.dirtyId&&(n[a]=h.dirtyId,h.valid&&s.texSubImage3D(s.TEXTURE_2D_ARRAY,0,0,0,a,h.resource.width,h.resource.height,1,e.format,e.type,h.resource.source))}return!0},r}(yr),_r=function(e){function r(t){var r=this,i=t,n=i.naturalWidth||i.videoWidth||i.width,o=i.naturalHeight||i.videoHeight||i.height;return(r=e.call(this,n,o)||this).source=t,r.noSubImage=!1,r}return dr(r,e),r.crossOrigin=function(t,e,r){void 0===r&&0!==e.indexOf("data:")?t.crossOrigin=de(e):!1!==r&&(t.crossOrigin="string"==typeof r?r:"anonymous")},r.prototype.upload=function(e,r,i,n){var o=e.gl,s=r.realWidth,a=r.realHeight;return n=n||this.source,o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===t.ALPHA_MODES.UNPACK),this.noSubImage||r.target!==o.TEXTURE_2D||i.width!==s||i.height!==a?(i.width=s,i.height=a,o.texImage2D(r.target,0,r.format,r.format,r.type,n)):o.texSubImage2D(o.TEXTURE_2D,0,0,0,r.format,r.type,n),!0},r.prototype.update=function(){if(!this.destroyed){var t=this.source,r=t.naturalWidth||t.videoWidth||t.width,i=t.naturalHeight||t.videoHeight||t.height;this.resize(r,i),e.prototype.update.call(this)}},r.prototype.dispose=function(){this.source=null},r}(pr),xr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return dr(e,t),e.test=function(t){var e=window.OffscreenCanvas;return!!(e&&t instanceof e)||t instanceof HTMLCanvasElement},e}(_r),br=function(e){function r(i,n){var o=this,s=n||{},a=s.width,h=s.height,u=s.autoLoad,l=s.linkBaseTexture;if(i&&i.length!==r.SIDES)throw new Error("Invalid length. Got "+i.length+", expected 6");o=e.call(this,6,{width:a,height:h})||this;for(var c=0;c<r.SIDES;c++)o.items[c].target=t.TARGETS.TEXTURE_CUBE_MAP_POSITIVE_X+c;return o.linkBaseTexture=!1!==l,i&&o.initFromArray(i,n),!1!==u&&o.load(),o}return dr(r,e),r.prototype.bind=function(r){e.prototype.bind.call(this,r),r.target=t.TARGETS.TEXTURE_CUBE_MAP},r.prototype.addBaseTextureAt=function(e,r,i){if(void 0===i&&(i=this.linkBaseTexture),!this.items[r])throw new Error("Index "+r+" is out of bounds");if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0){if(!e.resource)throw new Error("CubeResource does not support copying of renderTexture.");this.addResourceAt(e.resource,r)}else e.target=t.TARGETS.TEXTURE_CUBE_MAP_POSITIVE_X+r,e.parentTextureArray=this.baseTexture,this.items[r]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[r]=e,this},r.prototype.upload=function(t,e,i){for(var n=this.itemDirtyIds,o=0;o<r.SIDES;o++){var s=this.items[o];n[o]<s.dirtyId&&(s.valid&&s.resource?(s.resource.upload(t,s,i),n[o]=s.dirtyId):n[o]<-1&&(t.gl.texImage2D(s.target,0,i.internalFormat,e.realWidth,e.realHeight,0,e.format,i.type,null),n[o]=-1))}return!0},r.test=function(t){return Array.isArray(t)&&t.length===r.SIDES},r.SIDES=6,r}(yr),Er=function(e){function r(t,r){var i=this;if(r=r||{},!(t instanceof HTMLImageElement)){var n=new Image;_r.crossOrigin(n,t,r.crossorigin),n.src=t,t=n}return i=e.call(this,t)||this,!t.complete&&i._width&&i._height&&(i._width=0,i._height=0),i.url=t.src,i._process=null,i.preserveBitmap=!1,i.createBitmap=(void 0!==r.createBitmap?r.createBitmap:C.CREATE_IMAGE_BITMAP)&&!!window.createImageBitmap,i.alphaMode="number"==typeof r.alphaMode?r.alphaMode:null,void 0!==r.premultiplyAlpha&&(i.premultiplyAlpha=r.premultiplyAlpha),i.bitmap=null,i._load=null,!1!==r.autoLoad&&i.load(),i}return dr(r,e),r.prototype.load=function(t){var e=this;return this._load?this._load:(void 0!==t&&(this.createBitmap=t),this._load=new Promise(function(t,r){var i=e.source;e.url=i.src;var n=function(){e.destroyed||(i.onload=null,i.onerror=null,e.resize(i.width,i.height),e._load=null,e.createBitmap?t(e.process()):t(e))};i.complete&&i.src?n():(i.onload=n,i.onerror=function(t){r(t),e.onError.emit(t)})}),this._load)},r.prototype.process=function(){var e=this,r=this.source;return null!==this._process?this._process:null===this.bitmap&&window.createImageBitmap?(this._process=window.createImageBitmap(r,0,0,r.width,r.height,{premultiplyAlpha:this.alphaMode===t.ALPHA_MODES.UNPACK?"premultiply":"none"}).then(function(t){return e.destroyed?Promise.reject():(e.bitmap=t,e.update(),e._process=null,Promise.resolve(e))}),this._process):Promise.resolve(this)},r.prototype.upload=function(t,r,i){if("number"==typeof this.alphaMode&&(r.alphaMode=this.alphaMode),!this.createBitmap)return e.prototype.upload.call(this,t,r,i);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(e.prototype.upload.call(this,t,r,i,this.bitmap),!this.preserveBitmap){var n=!0,o=r._glTextures;for(var s in o){var a=o[s];if(a!==i&&a.dirtyId!==r.dirtyId){n=!1;break}}n&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},r.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,e.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},r.test=function(t){return"string"==typeof t||t instanceof HTMLImageElement},r}(_r),Tr=function(t){function e(e,r){var i=this;return r=r||{},(i=t.call(this,document.createElement("canvas"))||this)._width=0,i._height=0,i.svg=e,i.scale=r.scale||1,i._overrideWidth=r.width,i._overrideHeight=r.height,i._resolve=null,i._crossorigin=r.crossorigin,i._load=null,!1!==r.autoLoad&&i.load(),i}return dr(e,t),e.prototype.load=function(){var t=this;return this._load?this._load:(this._load=new Promise(function(e){if(t._resolve=function(){t.resize(t.source.width,t.source.height),e(t)},/^\<svg/.test(t.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");t.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(t.svg)))}t._loadSvg()}),this._load)},e.prototype._loadSvg=function(){var t=this,e=new Image;_r.crossOrigin(e,this.svg,this._crossorigin),e.src=this.svg,e.onerror=function(r){t._resolve&&(e.onerror=null,t.onError.emit(r))},e.onload=function(){if(t._resolve){var r=e.width,i=e.height;if(!r||!i)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var n=r*t.scale,o=i*t.scale;(t._overrideWidth||t._overrideHeight)&&(n=t._overrideWidth||t._overrideHeight/i*r,o=t._overrideHeight||t._overrideWidth/r*i),n=Math.round(n),o=Math.round(o);var s=t.source;s.width=n,s.height=o,s._pixiId="canvas_"+re(),s.getContext("2d").drawImage(e,0,0,r,i,0,0,n,o),t._resolve(),t._resolve=null}}},e.getSize=function(t){var r=e.SVG_SIZE.exec(t),i={};return r&&(i[r[1]]=Math.round(parseFloat(r[3])),i[r[5]]=Math.round(parseFloat(r[7]))),i},e.prototype.dispose=function(){t.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},e.test=function(t,e){return"svg"===e||"string"==typeof t&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(t)||"string"==typeof t&&0===t.indexOf("<svg")},e.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,e}(_r),Pr=function(t){function e(r,i){var n=this;if(i=i||{},!(r instanceof HTMLVideoElement)){var o=document.createElement("video");o.setAttribute("preload","auto"),o.setAttribute("webkit-playsinline",""),o.setAttribute("playsinline",""),"string"==typeof r&&(r=[r]);var s=r[0].src||r[0];_r.crossOrigin(o,s,i.crossorigin);for(var a=0;a<r.length;++a){var h=document.createElement("source"),u=r[a],l=u.src,c=u.mime,d=(l=l||r[a]).split("?").shift().toLowerCase(),p=d.substr(d.lastIndexOf(".")+1);c=c||e.MIME_TYPES[p]||"video/"+p,h.src=l,h.type=c,o.appendChild(h)}r=o}return(n=t.call(this,r)||this).noSubImage=!0,n._autoUpdate=!0,n._isConnectedToTicker=!1,n._updateFPS=i.updateFPS||0,n._msToNextUpdate=0,n.autoPlay=!1!==i.autoPlay,n._load=null,n._resolve=null,n._onCanPlay=n._onCanPlay.bind(n),n._onError=n._onError.bind(n),!1!==i.autoLoad&&n.load(),n}return dr(e,t),e.prototype.update=function(e){if(void 0===e&&(e=0),!this.destroyed){var r=Je.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-r),(!this._updateFPS||this._msToNextUpdate<=0)&&(t.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},e.prototype.load=function(){var t=this;if(this._load)return this._load;var e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart.bind(this)),e.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise(function(r){t.valid?r(t):(t._resolve=r,e.load())}),this._load},e.prototype._onError=function(t){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(t)},e.prototype._isSourcePlaying=function(){var t=this.source;return t.currentTime>0&&!1===t.paused&&!1===t.ended&&t.readyState>2},e.prototype._isSourceReady=function(){var t=this.source;return 3===t.readyState||4===t.readyState},e.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(Je.shared.add(this.update,this),this._isConnectedToTicker=!0)},e.prototype._onPlayStop=function(){this._isConnectedToTicker&&(Je.shared.remove(this.update,this),this._isConnectedToTicker=!1)},e.prototype._onCanPlay=function(){var t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);var e=this.valid;this.resize(t.videoWidth,t.videoHeight),!e&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()},e.prototype.dispose=function(){this._isConnectedToTicker&&Je.shared.remove(this.update,this);var e=this.source;e&&(e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(Je.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(Je.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(t){t!==this._updateFPS&&(this._updateFPS=t)},enumerable:!1,configurable:!0}),e.test=function(t,r){return t instanceof HTMLVideoElement||e.TYPES.indexOf(r)>-1},e.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],e.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},e}(_r),Sr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return dr(e,t),e.test=function(t){return!!window.createImageBitmap&&t instanceof ImageBitmap},e}(_r);ur.push(Er,Sr,xr,Pr,Tr,fr,br,gr);var wr={Resource:pr,BaseImageResource:_r,INSTALLED:ur,autoDetectResource:lr,AbstractMultiResource:yr,ArrayResource:gr,BufferResource:fr,CanvasResource:xr,CubeResource:br,ImageResource:Er,SVGResource:Tr,VideoResource:Pr,ImageBitmapResource:Sr},Ir=function(){function t(t){this.renderer=t}return t.prototype.destroy=function(){this.renderer=null},t}(),Ar=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return dr(r,e),r.prototype.upload=function(e,r,i){var n=e.gl;return n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===t.ALPHA_MODES.UNPACK),i.width===r.width&&i.height===r.height?n.texSubImage2D(r.target,0,0,0,r.width,r.height,r.format,r.type,this.data):(i.width=r.width,i.height=r.height,n.texImage2D(r.target,0,1===e.context.webGLVersion?n.DEPTH_COMPONENT:n.DEPTH_COMPONENT16,r.width,r.height,0,r.format,r.type,this.data)),!0},r}(fr),Or=function(){function e(e,r){this.width=Math.ceil(e||100),this.height=Math.ceil(r||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new hr("disposeFramebuffer"),this.multisample=t.MSAA_QUALITY.NONE}return Object.defineProperty(e.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),e.prototype.addColorTexture=function(e,r){return void 0===e&&(e=0),this.colorTextures[e]=r||new vr(null,{scaleMode:t.SCALE_MODES.NEAREST,resolution:1,mipmap:t.MIPMAP_MODES.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},e.prototype.addDepthTexture=function(e){return this.depthTexture=e||new vr(new Ar(null,{width:this.width,height:this.height}),{scaleMode:t.SCALE_MODES.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:t.MIPMAP_MODES.OFF,format:t.FORMATS.DEPTH_COMPONENT,type:t.TYPES.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},e.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},e.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},e.prototype.resize=function(t,e){if(t=Math.ceil(t),e=Math.ceil(e),t!==this.width||e!==this.height){this.width=t,this.height=e,this.dirtyId++,this.dirtySize++;for(var r=0;r<this.colorTextures.length;r++){var i=this.colorTextures[r],n=i.resolution;i.setSize(t/n,e/n)}if(this.depthTexture){n=this.depthTexture.resolution;this.depthTexture.setSize(t/n,e/n)}}},e.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},e.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},e}(),Mr=function(t){function e(e){var r=this;"number"==typeof e&&(e={width:arguments[0],height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]});r=t.call(this,null,e)||this;var i=e||{},n=i.width,o=i.height;return r.mipmap=0,r.width=Math.ceil(n)||100,r.height=Math.ceil(o)||100,r.valid=!0,r.clearColor=[0,0,0,0],r.framebuffer=new Or(r.width*r.resolution,r.height*r.resolution).addColorTexture(0,r),r.maskStack=[],r.filterStack=[{}],r}return dr(e,t),e.prototype.resize=function(t,e){t=Math.ceil(t),e=Math.ceil(e),this.framebuffer.resize(t*this.resolution,e*this.resolution)},e.prototype.dispose=function(){this.framebuffer.dispose(),t.prototype.dispose.call(this)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},e}(vr),Cr=function(){function t(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return t.prototype.set=function(t,e,r){var i=e.width,n=e.height;if(r){var o=t.width/2/i,s=t.height/2/n,a=t.x/i+o,h=t.y/n+s;r=Le.add(r,Le.NW),this.x0=a+o*Le.uX(r),this.y0=h+s*Le.uY(r),r=Le.add(r,2),this.x1=a+o*Le.uX(r),this.y1=h+s*Le.uY(r),r=Le.add(r,2),this.x2=a+o*Le.uX(r),this.y2=h+s*Le.uY(r),r=Le.add(r,2),this.x3=a+o*Le.uX(r),this.y3=h+s*Le.uY(r)}else this.x0=t.x/i,this.y0=t.y/n,this.x1=(t.x+t.width)/i,this.y1=t.y/n,this.x2=(t.x+t.width)/i,this.y2=(t.y+t.height)/n,this.x3=t.x/i,this.y3=(t.y+t.height)/n;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},t}(),Dr=new Cr,Rr=function(t){function e(r,i,n,o,s,a){var h=t.call(this)||this;if(h.noFrame=!1,i||(h.noFrame=!0,i=new _e(0,0,1,1)),r instanceof e&&(r=r.baseTexture),h.baseTexture=r,h._frame=i,h.trim=o,h.valid=!1,h._uvs=Dr,h.uvMatrix=null,h.orig=n||i,h._rotate=Number(s||0),!0===s)h._rotate=2;else if(h._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return h.defaultAnchor=a?new Pe(a.x,a.y):new Pe(0,0),h._updateID=0,h.textureCacheIds=[],r.valid?h.noFrame?r.valid&&h.onBaseTextureUpdated(r):h.frame=i:r.once("loaded",h.onBaseTextureUpdated,h),h.noFrame&&r.on("update",h.onBaseTextureUpdated,h),h}return dr(e,t),e.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},e.prototype.onBaseTextureUpdated=function(t){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=t.width,this._frame.height=t.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},e.prototype.destroy=function(t){if(this.baseTexture){if(t){var r=this.baseTexture;r&&r.url&&se[r.url]&&e.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function(){return new e(this.baseTexture,this.frame.clone(),this.orig.clone(),this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor)},e.prototype.updateUvs=function(){this._uvs===Dr&&(this._uvs=new Cr),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},e.from=function(t,r,i){void 0===r&&(r={}),void 0===i&&(i=C.STRICT_TEXTURE_CACHE);var n="string"==typeof t,o=null;n?o=t:(t._pixiId||(t._pixiId="pixiid_"+re()),o=t._pixiId);var s=se[o];if(n&&i&&!s)throw new Error('The cacheId "'+o+'" does not exist in TextureCache.');return s||(r.resolution||(r.resolution=pe(t)),(s=new e(new vr(t,r))).baseTexture.cacheId=o,vr.addToCache(s.baseTexture,o),e.addToCache(s,o)),s},e.fromURL=function(t,r){var i=Object.assign({autoLoad:!1},null==r?void 0:r.resourceOptions),n=e.from(t,Object.assign({resourceOptions:i},r),!1),o=n.baseTexture.resource;return n.baseTexture.valid?Promise.resolve(n):o.load().then(function(){return Promise.resolve(n)})},e.fromBuffer=function(t,r,i,n){return new e(vr.fromBuffer(t,r,i,n))},e.fromLoader=function(t,r,i){var n=new Er(t);n.url=r;var o=new e(new vr(n,{scaleMode:C.SCALE_MODE,resolution:pe(r)}));return i||(i=r),vr.addToCache(o.baseTexture,i),e.addToCache(o,i),i!==r&&(vr.addToCache(o.baseTexture,r),e.addToCache(o,r)),o},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),se[e]&&console.warn("Texture added to the cache with an id ["+e+"] that already had an entry"),se[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=se[t];if(e){var r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete se[t],e}}else if(t&&t.textureCacheIds){for(var i=0;i<t.textureCacheIds.length;++i)se[t.textureCacheIds[i]]===t&&delete se[t.textureCacheIds[i]];return t.textureCacheIds.length=0,t}return null},Object.defineProperty(e.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"frame",{get:function(){return this._frame},set:function(t){this._frame=t,this.noFrame=!1;var e=t.x,r=t.y,i=t.width,n=t.height,o=e+i>this.baseTexture.width,s=r+n>this.baseTexture.height;if(o||s){var a=o&&s?"and":"or",h="X: "+e+" + "+i+" = "+(e+i)+" > "+this.baseTexture.width,u="Y: "+r+" + "+n+" = "+(r+n)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+h+" "+a+" "+u)}this.valid=i&&n&&this.baseTexture.valid,this.trim||this.rotate||(this.orig=t),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotate",{get:function(){return this._rotate},set:function(t){this._rotate=t,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),e.prototype.castToBaseTexture=function(){return this.baseTexture},e}(D);function Lr(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}Rr.EMPTY=new Rr(new vr),Lr(Rr.EMPTY),Lr(Rr.EMPTY.baseTexture),Rr.WHITE=function(){var t=document.createElement("canvas");t.width=16,t.height=16;var e=t.getContext("2d");return e.fillStyle="white",e.fillRect(0,0,16,16),new Rr(new vr(new xr(t)))}(),Lr(Rr.WHITE),Lr(Rr.WHITE.baseTexture);var Nr=function(t){function e(e,r){var i=this,n=null;if(!(e instanceof Mr)){var o=arguments[1],s=arguments[2],a=arguments[3],h=arguments[4];console.warn("Please use RenderTexture.create("+o+", "+s+") instead of the ctor directly."),n=arguments[0],r=null,e=new Mr({width:o,height:s,scaleMode:a,resolution:h})}return(i=t.call(this,e,r)||this).legacyRenderer=n,i.valid=!0,i.filterFrame=null,i.filterPoolKey=null,i.updateUvs(),i}return dr(e,t),Object.defineProperty(e.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),e.prototype.resize=function(t,e,r){void 0===r&&(r=!0),t=Math.ceil(t),e=Math.ceil(e),this.valid=t>0&&e>0,this._frame.width=this.orig.width=t,this._frame.height=this.orig.height=e,r&&this.baseTexture.resize(t,e),this.updateUvs()},e.prototype.setResolution=function(t){var e=this.baseTexture;e.resolution!==t&&(e.setResolution(t),this.resize(e.width,e.height,!1))},e.create=function(t){return"number"==typeof t&&(t={width:t,height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}),new e(new Mr(t))},e}(Rr),Fr=function(){function t(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return t.prototype.createTexture=function(t,e){var r=new Mr(Object.assign({width:t,height:e,resolution:1},this.textureOptions));return new Nr(r)},t.prototype.getOptimalTexture=function(e,r,i){void 0===i&&(i=1);var n=t.SCREEN_KEY;e*=i,r*=i,this.enableFullScreen&&e===this._pixelsWidth&&r===this._pixelsHeight||(n=(65535&(e=Zt(e)))<<16|65535&(r=Zt(r))),this.texturePool[n]||(this.texturePool[n]=[]);var o=this.texturePool[n].pop();return o||(o=this.createTexture(e,r)),o.filterPoolKey=n,o.setResolution(i),o},t.prototype.getFilterTexture=function(t,e){var r=this.getOptimalTexture(t.width,t.height,e||t.resolution);return r.filterFrame=t.filterFrame,r},t.prototype.returnTexture=function(t){var e=t.filterPoolKey;t.filterFrame=null,this.texturePool[e].push(t)},t.prototype.returnFilterTexture=function(t){this.returnTexture(t)},t.prototype.clear=function(t){if(t=!1!==t)for(var e in this.texturePool){var r=this.texturePool[e];if(r)for(var i=0;i<r.length;i++)r[i].destroy(!0)}this.texturePool={}},t.prototype.setScreenSize=function(e){if(e.width!==this._pixelsWidth||e.height!==this._pixelsHeight){var r=t.SCREEN_KEY,i=this.texturePool[r];if(this.enableFullScreen=e.width>0&&e.height>0,i)for(var n=0;n<i.length;n++)i[n].destroy(!0);this.texturePool[r]=[],this._pixelsWidth=e.width,this._pixelsHeight=e.height}},t.SCREEN_KEY="screen",t}(),Br=function(){function t(t,e,r,i,n,o,s){void 0===e&&(e=0),void 0===r&&(r=!1),void 0===i&&(i=5126),this.buffer=t,this.size=e,this.normalized=r,this.type=i,this.stride=n,this.start=o,this.instance=s}return t.prototype.destroy=function(){this.buffer=null},t.from=function(e,r,i,n,o){return new t(e,r,i,n,o)},t}(),Ur=0,kr=function(){function t(t,e,r){void 0===e&&(e=!0),void 0===r&&(r=!1),this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=r,this.static=e,this.id=Ur++,this.disposeRunner=new hr("disposeBuffer")}return t.prototype.update=function(t){this.data=t||this.data,this._updateID++},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.data=null},t.from=function(e){return e instanceof Array&&(e=new Float32Array(e)),new t(e)},t}();function Xr(t){if(4===t.BYTES_PER_ELEMENT)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===t.BYTES_PER_ELEMENT){if(t instanceof Uint16Array)return"Uint16Array"}else if(1===t.BYTES_PER_ELEMENT&&t instanceof Uint8Array)return"Uint8Array";return null}var jr={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array};var Gr={5126:4,5123:2,5121:1},Hr=0,Yr={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array},zr=function(){function t(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this.buffers=t,this.indexBuffer=null,this.attributes=e,this.glVertexArrayObjects={},this.id=Hr++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new hr("disposeGeometry"),this.refCount=0}return t.prototype.addAttribute=function(t,e,r,i,n,o,s,a){if(void 0===r&&(r=0),void 0===i&&(i=!1),void 0===a&&(a=!1),!e)throw new Error("You must pass a buffer when creating an attribute");e instanceof kr||(e instanceof Array&&(e=new Float32Array(e)),e=new kr(e));var h=t.split("|");if(h.length>1){for(var u=0;u<h.length;u++)this.addAttribute(h[u],e,r,i,n);return this}var l=this.buffers.indexOf(e);return-1===l&&(this.buffers.push(e),l=this.buffers.length-1),this.attributes[t]=new Br(l,r,i,n,o,s,a),this.instanced=this.instanced||a,this},t.prototype.getAttribute=function(t){return this.attributes[t]},t.prototype.getBuffer=function(t){return this.buffers[this.getAttribute(t).buffer]},t.prototype.addIndex=function(t){return t instanceof kr||(t instanceof Array&&(t=new Uint16Array(t)),t=new kr(t)),t.index=!0,this.indexBuffer=t,-1===this.buffers.indexOf(t)&&this.buffers.push(t),this},t.prototype.getIndex=function(){return this.indexBuffer},t.prototype.interleave=function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var t,e=[],r=[],i=new kr;for(t in this.attributes){var n=this.attributes[t],o=this.buffers[n.buffer];e.push(o.data),r.push(n.size*Gr[n.type]/4),n.buffer=0}for(i.data=function(t,e){for(var r=0,i=0,n={},o=0;o<t.length;o++)i+=e[o],r+=t[o].length;var s=new ArrayBuffer(4*r),a=null,h=0;for(o=0;o<t.length;o++){var u=e[o],l=t[o],c=Xr(l);n[c]||(n[c]=new jr[c](s)),a=n[c];for(var d=0;d<l.length;d++)a[(d/u|0)*i+h+d%u]=l[d];h+=u}return new Float32Array(s)}(e,r),t=0;t<this.buffers.length;t++)this.buffers[t]!==this.indexBuffer&&this.buffers[t].destroy();return this.buffers=[i],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},t.prototype.getSize=function(){for(var t in this.attributes){var e=this.attributes[t];return this.buffers[e.buffer].data.length/(e.stride/4||e.size)}return 0},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},t.prototype.clone=function(){for(var e=new t,r=0;r<this.buffers.length;r++)e.buffers[r]=new kr(this.buffers[r].data.slice(0));for(var r in this.attributes){var i=this.attributes[r];e.attributes[r]=new Br(i.buffer,i.size,i.normalized,i.type,i.stride,i.start,i.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.index=!0),e},t.merge=function(e){for(var r,i=new t,n=[],o=[],s=[],a=0;a<e.length;a++){r=e[a];for(var h=0;h<r.buffers.length;h++)o[h]=o[h]||0,o[h]+=r.buffers[h].data.length,s[h]=0}for(a=0;a<r.buffers.length;a++)n[a]=new(Yr[Xr(r.buffers[a].data)])(o[a]),i.buffers[a]=new kr(n[a]);for(a=0;a<e.length;a++){r=e[a];for(h=0;h<r.buffers.length;h++)n[h].set(r.buffers[h].data,s[h]),s[h]+=r.buffers[h].data.length}if(i.attributes=r.attributes,r.indexBuffer){i.indexBuffer=i.buffers[r.buffers.indexOf(r.indexBuffer)],i.indexBuffer.index=!0;var u=0,l=0,c=0,d=0;for(a=0;a<r.buffers.length;a++)if(r.buffers[a]!==r.indexBuffer){d=a;break}for(var a in r.attributes){var p=r.attributes[a];(0|p.buffer)===d&&(l+=p.size*Gr[p.type]/4)}for(a=0;a<e.length;a++){var f=e[a].indexBuffer.data;for(h=0;h<f.length;h++)i.indexBuffer.data[h+c]+=u;u+=r.buffers[d].data.length/l,c+=f.length}}return i},t}(),Vr=function(t){function e(){var e=t.call(this)||this;return e.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),e}return dr(e,t),e}(zr),Wr=function(t){function e(){var e=t.call(this)||this;return e.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),e.uvs=new Float32Array([0,0,1,0,1,1,0,1]),e.vertexBuffer=new kr(e.vertices),e.uvBuffer=new kr(e.uvs),e.addAttribute("aVertexPosition",e.vertexBuffer).addAttribute("aTextureCoord",e.uvBuffer).addIndex([0,1,2,0,2,3]),e}return dr(e,t),e.prototype.map=function(t,e){var r=0,i=0;return this.uvs[0]=r,this.uvs[1]=i,this.uvs[2]=r+e.width/t.width,this.uvs[3]=i,this.uvs[4]=r+e.width/t.width,this.uvs[5]=i+e.height/t.height,this.uvs[6]=r,this.uvs[7]=i+e.height/t.height,r=e.x,i=e.y,this.vertices[0]=r,this.vertices[1]=i,this.vertices[2]=r+e.width,this.vertices[3]=i,this.vertices[4]=r+e.width,this.vertices[5]=i+e.height,this.vertices[6]=r,this.vertices[7]=i+e.height,this.invalidate(),this},e.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},e}(zr),qr=0,Kr=function(){function t(t,e){this.uniforms=t,this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=qr++,this.static=!!e}return t.prototype.update=function(){this.dirtyId++},t.prototype.add=function(e,r,i){this.uniforms[e]=new t(r,i)},t.from=function(e,r){return new t(e,r)},t}(),Zr=function(){function t(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.sourceFrame=new _e,this.destinationFrame=new _e,this.filters=[]}return t.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},t}(),Jr=function(e){function r(t){var r=e.call(this,t)||this;return r.defaultFilterStack=[{}],r.texturePool=new Fr,r.texturePool.setScreenSize(t.view),r.statePool=[],r.quad=new Vr,r.quadUv=new Wr,r.tempRect=new _e,r.activeState={},r.globalUniforms=new Kr({outputFrame:r.tempRect,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),r.forceClear=!1,r.useMaxPadding=!1,r}return dr(r,e),r.prototype.push=function(t,e){for(var r=this.renderer,i=this.defaultFilterStack,n=this.statePool.pop()||new Zr,o=e[0].resolution,s=e[0].padding,a=e[0].autoFit,h=e[0].legacy,u=1;u<e.length;u++){var l=e[u];o=Math.min(o,l.resolution),s=this.useMaxPadding?Math.max(s,l.padding):s+l.padding,a=a&&l.autoFit,h=h||l.legacy}1===i.length&&(this.defaultFilterStack[0].renderTexture=r.renderTexture.current),i.push(n),n.resolution=o,n.legacy=h,n.target=t,n.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),n.sourceFrame.pad(s),a&&n.sourceFrame.fit(this.renderer.renderTexture.sourceFrame),n.sourceFrame.ceil(o),n.renderTexture=this.getOptimalFilterTexture(n.sourceFrame.width,n.sourceFrame.height,o),n.filters=e,n.destinationFrame.width=n.renderTexture.width,n.destinationFrame.height=n.renderTexture.height;var c=this.tempRect;c.width=n.sourceFrame.width,c.height=n.sourceFrame.height,n.renderTexture.filterFrame=n.sourceFrame,r.renderTexture.bind(n.renderTexture,n.sourceFrame,c),r.renderTexture.clear()},r.prototype.pop=function(){var e=this.defaultFilterStack,r=e.pop(),i=r.filters;this.activeState=r;var n=this.globalUniforms.uniforms;n.outputFrame=r.sourceFrame,n.resolution=r.resolution;var o=n.inputSize,s=n.inputPixel,a=n.inputClamp;if(o[0]=r.destinationFrame.width,o[1]=r.destinationFrame.height,o[2]=1/o[0],o[3]=1/o[1],s[0]=o[0]*r.resolution,s[1]=o[1]*r.resolution,s[2]=1/s[0],s[3]=1/s[1],a[0]=.5*s[2],a[1]=.5*s[3],a[2]=r.sourceFrame.width*o[2]-.5*s[2],a[3]=r.sourceFrame.height*o[3]-.5*s[3],r.legacy){var h=n.filterArea;h[0]=r.destinationFrame.width,h[1]=r.destinationFrame.height,h[2]=r.sourceFrame.x,h[3]=r.sourceFrame.y,n.filterClamp=n.inputClamp}this.globalUniforms.update();var u=e[e.length-1];if(r.renderTexture.framebuffer.multisample>1&&this.renderer.framebuffer.blit(),1===i.length)i[0].apply(this,r.renderTexture,u.renderTexture,t.CLEAR_MODES.BLEND,r),this.returnFilterTexture(r.renderTexture);else{var l=r.renderTexture,c=this.getOptimalFilterTexture(l.width,l.height,r.resolution);c.filterFrame=l.filterFrame;var d=0;for(d=0;d<i.length-1;++d){i[d].apply(this,l,c,t.CLEAR_MODES.CLEAR,r);var p=l;l=c,c=p}i[d].apply(this,l,u.renderTexture,t.CLEAR_MODES.BLEND,r),this.returnFilterTexture(l),this.returnFilterTexture(c)}r.clear(),this.statePool.push(r)},r.prototype.bindAndClear=function(e,r){if(void 0===r&&(r=t.CLEAR_MODES.CLEAR),e&&e.filterFrame){var i=this.tempRect;i.width=e.filterFrame.width,i.height=e.filterFrame.height,this.renderer.renderTexture.bind(e,e.filterFrame,i)}else this.renderer.renderTexture.bind(e);"boolean"==typeof r&&(r=r?t.CLEAR_MODES.CLEAR:t.CLEAR_MODES.BLEND,ne("5.2.1","Use CLEAR_MODES when using clear applyFilter option")),(r===t.CLEAR_MODES.CLEAR||r===t.CLEAR_MODES.BLIT&&this.forceClear)&&this.renderer.renderTexture.clear()},r.prototype.applyFilter=function(e,r,i,n){var o=this.renderer;this.bindAndClear(i,n),e.uniforms.uSampler=r,e.uniforms.filterGlobals=this.globalUniforms,o.state.set(e.state),o.shader.bind(e),e.legacy?(this.quadUv.map(r._frame,r.filterFrame),o.geometry.bind(this.quadUv),o.geometry.draw(t.DRAW_MODES.TRIANGLES)):(o.geometry.bind(this.quad),o.geometry.draw(t.DRAW_MODES.TRIANGLE_STRIP))},r.prototype.calculateSpriteMatrix=function(t,e){var r=this.activeState,i=r.sourceFrame,n=r.destinationFrame,o=e._texture.orig,s=t.set(n.width,0,0,n.height,i.x,i.y),a=e.worldTransform.copyTo(we.TEMP_MATRIX);return a.invert(),s.prepend(a),s.scale(1/o.width,1/o.height),s.translate(e.anchor.x,e.anchor.y),s},r.prototype.destroy=function(){this.texturePool.clear(!1)},r.prototype.getOptimalFilterTexture=function(t,e,r){return void 0===r&&(r=1),this.texturePool.getOptimalTexture(t,e,r)},r.prototype.getFilterTexture=function(t,e){if("number"==typeof t){var r=t;t=e,e=r}t=t||this.activeState.renderTexture;var i=this.texturePool.getOptimalTexture(t.width,t.height,e||t.resolution);return i.filterFrame=t.filterFrame,i},r.prototype.returnFilterTexture=function(t){this.texturePool.returnTexture(t)},r.prototype.emptyPool=function(){this.texturePool.clear(!0)},r.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},r}(Ir),Qr=function(){function t(t){this.renderer=t}return t.prototype.flush=function(){},t.prototype.destroy=function(){this.renderer=null},t.prototype.start=function(){},t.prototype.stop=function(){this.flush()},t.prototype.render=function(t){},t}(),$r=function(t){function e(e){var r=t.call(this,e)||this;return r.emptyRenderer=new Qr(e),r.currentRenderer=r.emptyRenderer,r}return dr(e,t),e.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},e.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.copyBoundTextures=function(t,e){for(var r=this.renderer.texture.boundTextures,i=e-1;i>=0;--i)t[i]=r[i]||null,t[i]&&(t[i]._batchLocation=i)},e.prototype.boundArray=function(t,e,r,i){for(var n=t.elements,o=t.ids,s=t.count,a=0,h=0;h<s;h++){var u=n[h],l=u._batchLocation;if(l>=0&&l<i&&e[l]===u)o[h]=l;else for(;a<i;){var c=e[a];if(!c||c._batchEnabled!==r||c._batchLocation!==a){o[h]=a,u._batchLocation=a,e[a]=u;break}a++}}},e}(Ir),ti=0,ei=function(e){function r(t){var r=e.call(this,t)||this;return r.webGLVersion=1,r.extensions={},r.supports={uint32Indices:!1},r.handleContextLost=r.handleContextLost.bind(r),r.handleContextRestored=r.handleContextRestored.bind(r),t.view.addEventListener("webglcontextlost",r.handleContextLost,!1),t.view.addEventListener("webglcontextrestored",r.handleContextRestored,!1),r}return dr(r,e),Object.defineProperty(r.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),r.prototype.contextChange=function(t){this.gl=t,this.renderer.gl=t,this.renderer.CONTEXT_UID=ti++,t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext()},r.prototype.initFromContext=function(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=ti++,this.renderer.runners.contextChange.emit(t)},r.prototype.initFromOptions=function(t){var e=this.createContext(this.renderer.view,t);this.initFromContext(e)},r.prototype.createContext=function(e,r){var i;if(C.PREFER_ENV>=t.ENV.WEBGL2&&(i=e.getContext("webgl2",r)),i)this.webGLVersion=2;else if(this.webGLVersion=1,!(i=e.getContext("webgl",r)||e.getContext("experimental-webgl",r)))throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=i,this.getExtensions(),this.gl},r.prototype.getExtensions=function(){var t=this.gl;1===this.webGLVersion?Object.assign(this.extensions,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBGL_depth_texture"),loseContext:t.getExtension("WEBGL_lose_context"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,{anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),colorBufferFloat:t.getExtension("EXT_color_buffer_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear")})},r.prototype.handleContextLost=function(t){t.preventDefault()},r.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},r.prototype.destroy=function(){var t=this.renderer.view;t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},r.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},r.prototype.validateContext=function(t){var e=t.getContextAttributes(),r="WebGL2RenderingContext"in window&&t instanceof window.WebGL2RenderingContext;r&&(this.webGLVersion=2),e.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var i=r||!!t.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},r}(Ir),ri=function(){return function(e){this.framebuffer=e,this.stencil=null,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.multisample=t.MSAA_QUALITY.NONE,this.msaaBuffer=null,this.blitFramebuffer=null}}(),ii=new _e,ni=function(e){function r(t){var r=e.call(this,t)||this;return r.managedFramebuffers=[],r.unknownFramebuffer=new Or(10,10),r.msaaSamples=null,r}return dr(r,e),r.prototype.contextChange=function(){var e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new _e,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),1===this.renderer.context.webGLVersion){var r=this.renderer.context.extensions.drawBuffers,i=this.renderer.context.extensions.depthTexture;C.PREFER_ENV===t.ENV.WEBGL_LEGACY&&(r=null,i=null),r?e.drawBuffers=function(t){return r.drawBuffersWEBGL(t)}:(this.hasMRT=!1,e.drawBuffers=function(){}),i||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)},r.prototype.bind=function(t,e){var r=this.gl;if(t){var i=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,r.bindFramebuffer(r.FRAMEBUFFER,i.framebuffer)),i.dirtyId!==t.dirtyId&&(i.dirtyId=t.dirtyId,i.dirtyFormat!==t.dirtyFormat?(i.dirtyFormat=t.dirtyFormat,this.updateFramebuffer(t)):i.dirtySize!==t.dirtySize&&(i.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(var n=0;n<t.colorTextures.length;n++){var o=t.colorTextures[n];this.renderer.texture.unbind(o.parentTextureArray||o)}t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,t.width,t.height)}else this.current&&(this.current=null,r.bindFramebuffer(r.FRAMEBUFFER,null)),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},r.prototype.setViewport=function(t,e,r,i){var n=this.viewport;n.width===r&&n.height===i&&n.x===t&&n.y===e||(n.x=t,n.y=e,n.width=r,n.height=i,this.gl.viewport(t,e,r,i))},Object.defineProperty(r.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),r.prototype.clear=function(e,r,i,n,o){void 0===o&&(o=t.BUFFER_BITS.COLOR|t.BUFFER_BITS.DEPTH);var s=this.gl;s.clearColor(e,r,i,n),s.clear(o)},r.prototype.initFramebuffer=function(t){var e=this.gl,r=new ri(e.createFramebuffer());return r.multisample=this.detectSamples(t.multisample),t.glFramebuffers[this.CONTEXT_UID]=r,this.managedFramebuffers.push(t),t.disposeRunner.add(this),r},r.prototype.resizeFramebuffer=function(t){var e=this.gl,r=t.glFramebuffers[this.CONTEXT_UID];r.stencil&&(e.bindRenderbuffer(e.RENDERBUFFER,r.stencil),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height));for(var i=t.colorTextures,n=0;n<i.length;n++)this.renderer.texture.bind(i[n],0);t.depthTexture&&this.renderer.texture.bind(t.depthTexture,0)},r.prototype.updateFramebuffer=function(t){var e=this.gl,r=t.glFramebuffers[this.CONTEXT_UID],i=t.colorTextures.length;e.drawBuffers||(i=Math.min(i,1)),r.multisample>1&&(r.msaaBuffer=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,r.msaaBuffer),e.renderbufferStorageMultisample(e.RENDERBUFFER,r.multisample,e.RGBA8,t.width,t.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,r.msaaBuffer));for(var n=[],o=0;o<i;o++)if(!(0===o&&r.multisample>1)){var s=t.colorTextures[o],a=s.parentTextureArray||s;this.renderer.texture.bind(a,0),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+o,s.target,a._glTextures[this.CONTEXT_UID].texture,0),n.push(e.COLOR_ATTACHMENT0+o)}if((n.length>1&&e.drawBuffers(n),t.depthTexture)&&this.writeDepthTexture){var h=t.depthTexture;this.renderer.texture.bind(h,0),e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,h._glTextures[this.CONTEXT_UID].texture,0)}r.stencil||!t.stencil&&!t.depth||(r.stencil=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,r.stencil),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height),t.depthTexture||e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,r.stencil))},r.prototype.detectSamples=function(e){var r=this.msaaSamples,i=t.MSAA_QUALITY.NONE;if(e<=1||null===r)return i;for(var n=0;n<r.length;n++)if(r[n]<=e){i=r[n];break}return 1===i&&(i=t.MSAA_QUALITY.NONE),i},r.prototype.blit=function(t,e,r){var i=this.current,n=this.renderer,o=this.gl,s=this.CONTEXT_UID;if(2===n.context.webGLVersion&&i){var a=i.glFramebuffers[s];if(a){if(!t){if(a.multisample<=1)return;a.blitFramebuffer||(a.blitFramebuffer=new Or(i.width,i.height),a.blitFramebuffer.addColorTexture(0,i.colorTextures[0])),(t=a.blitFramebuffer).width=i.width,t.height=i.height}e||((e=ii).width=i.width,e.height=i.height),r||(r=e);var h=e.width===r.width&&e.height===r.height;this.bind(t),o.bindFramebuffer(o.READ_FRAMEBUFFER,a.framebuffer),o.blitFramebuffer(e.x,e.y,e.width,e.height,r.x,r.y,r.width,r.height,o.COLOR_BUFFER_BIT,h?o.NEAREST:o.LINEAR)}}},r.prototype.disposeFramebuffer=function(t,e){var r=t.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(r){delete t.glFramebuffers[this.CONTEXT_UID];var n=this.managedFramebuffers.indexOf(t);n>=0&&this.managedFramebuffers.splice(n,1),t.disposeRunner.remove(this),e||(i.deleteFramebuffer(r.framebuffer),r.stencil&&i.deleteRenderbuffer(r.stencil))}},r.prototype.disposeAll=function(t){var e=this.managedFramebuffers;this.managedFramebuffers=[];for(var r=0;r<e.length;r++)this.disposeFramebuffer(e[r],t)},r.prototype.forceStencil=function(){var t=this.current;if(t){var e=t.glFramebuffers[this.CONTEXT_UID];if(e&&!e.stencil){t.enableStencil();var r=t.width,i=t.height,n=this.gl,o=n.createRenderbuffer();n.bindRenderbuffer(n.RENDERBUFFER,o),n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,r,i),e.stencil=o,n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,o)}}},r.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new _e},r}(Ir),oi=function(){return function(t){this.buffer=t||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}(),si={5126:4,5123:2,5121:1},ai=function(e){function r(t){var r=e.call(this,t)||this;return r._activeGeometry=null,r._activeVao=null,r.hasVao=!0,r.hasInstance=!0,r.canUseUInt32ElementIndex=!1,r.managedGeometries={},r.managedBuffers={},r}return dr(r,e),r.prototype.contextChange=function(){this.disposeAll(!0);var e=this.gl=this.renderer.gl,r=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,2!==r.webGLVersion){var i=this.renderer.context.extensions.vertexArrayObject;C.PREFER_ENV===t.ENV.WEBGL_LEGACY&&(i=null),i?(e.createVertexArray=function(){return i.createVertexArrayOES()},e.bindVertexArray=function(t){return i.bindVertexArrayOES(t)},e.deleteVertexArray=function(t){return i.deleteVertexArrayOES(t)}):(this.hasVao=!1,e.createVertexArray=function(){return null},e.bindVertexArray=function(){return null},e.deleteVertexArray=function(){return null})}if(2!==r.webGLVersion){var n=e.getExtension("ANGLE_instanced_arrays");n?(e.vertexAttribDivisor=function(t,e){return n.vertexAttribDivisorANGLE(t,e)},e.drawElementsInstanced=function(t,e,r,i,o){return n.drawElementsInstancedANGLE(t,e,r,i,o)},e.drawArraysInstanced=function(t,e,r,i){return n.drawArraysInstancedANGLE(t,e,r,i)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===r.webGLVersion||!!r.extensions.uint32ElementIndex},r.prototype.bind=function(t,e){e=e||this.renderer.shader.shader;var r=this.gl,i=t.glVertexArrayObjects[this.CONTEXT_UID],n=!1;i||(this.managedGeometries[t.id]=t,t.disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=i={},n=!0);var o=i[e.program.id]||this.initGeometryVao(t,e.program,n);this._activeGeometry=t,this._activeVao!==o&&(this._activeVao=o,this.hasVao?r.bindVertexArray(o):this.activateVao(t,e.program)),this.updateBuffers()},r.prototype.reset=function(){this.unbind()},r.prototype.updateBuffers=function(){for(var t=this._activeGeometry,e=this.gl,r=0;r<t.buffers.length;r++){var i=t.buffers[r],n=i._glBuffers[this.CONTEXT_UID];if(i._updateID!==n.updateID){n.updateID=i._updateID;var o=i.index?e.ELEMENT_ARRAY_BUFFER:e.ARRAY_BUFFER;if(e.bindBuffer(o,n.buffer),this._boundBuffer=n,n.byteLength>=i.data.byteLength)e.bufferSubData(o,0,i.data);else{var s=i.static?e.STATIC_DRAW:e.DYNAMIC_DRAW;n.byteLength=i.data.byteLength,e.bufferData(o,i.data,s)}}}},r.prototype.checkCompatibility=function(t,e){var r=t.attributes,i=e.attributeData;for(var n in i)if(!r[n])throw new Error('shader and geometry incompatible, geometry missing the "'+n+'" attribute')},r.prototype.getSignature=function(t,e){var r=t.attributes,i=e.attributeData,n=["g",t.id];for(var o in r)i[o]&&n.push(o);return n.join("-")},r.prototype.initGeometryVao=function(t,e,r){void 0===r&&(r=!0),this.checkCompatibility(t,e);var i=this.gl,n=this.CONTEXT_UID,o=this.getSignature(t,e),s=t.glVertexArrayObjects[this.CONTEXT_UID],a=s[o];if(a)return s[e.id]=a,a;var h=t.buffers,u=t.attributes,l={},c={};for(var d in h)l[d]=0,c[d]=0;for(var d in u)!u[d].size&&e.attributeData[d]?u[d].size=e.attributeData[d].size:u[d].size||console.warn("PIXI Geometry attribute '"+d+"' size cannot be determined (likely the bound shader does not have the attribute)"),l[u[d].buffer]+=u[d].size*si[u[d].type];for(var d in u){var p=u[d],f=p.size;void 0===p.stride&&(l[p.buffer]===f*si[p.type]?p.stride=0:p.stride=l[p.buffer]),void 0===p.start&&(p.start=c[p.buffer],c[p.buffer]+=f*si[p.type])}a=i.createVertexArray(),i.bindVertexArray(a);for(var m=0;m<h.length;m++){var v=h[m];v._glBuffers[n]||(v._glBuffers[n]=new oi(i.createBuffer()),this.managedBuffers[v.id]=v,v.disposeRunner.add(this)),r&&v._glBuffers[n].refCount++}return this.activateVao(t,e),this._activeVao=a,s[e.id]=a,s[o]=a,a},r.prototype.disposeBuffer=function(t,e){if(this.managedBuffers[t.id]){delete this.managedBuffers[t.id];var r=t._glBuffers[this.CONTEXT_UID],i=this.gl;t.disposeRunner.remove(this),r&&(e||i.deleteBuffer(r.buffer),delete t._glBuffers[this.CONTEXT_UID])}},r.prototype.disposeGeometry=function(t,e){if(this.managedGeometries[t.id]){delete this.managedGeometries[t.id];var r=t.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,n=t.buffers;if(t.disposeRunner.remove(this),r){for(var o=0;o<n.length;o++){var s=n[o]._glBuffers[this.CONTEXT_UID];s.refCount--,0!==s.refCount||e||this.disposeBuffer(n[o],e)}if(!e)for(var a in r)if("g"===a[0]){var h=r[a];this._activeVao===h&&this.unbind(),i.deleteVertexArray(h)}delete t.glVertexArrayObjects[this.CONTEXT_UID]}}},r.prototype.disposeAll=function(t){for(var e=Object.keys(this.managedGeometries),r=0;r<e.length;r++)this.disposeGeometry(this.managedGeometries[e[r]],t);e=Object.keys(this.managedBuffers);for(r=0;r<e.length;r++)this.disposeBuffer(this.managedBuffers[e[r]],t)},r.prototype.activateVao=function(t,e){var r=this.gl,i=this.CONTEXT_UID,n=t.buffers,o=t.attributes;t.indexBuffer&&r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,t.indexBuffer._glBuffers[i].buffer);var s=null;for(var a in o){var h=o[a],u=n[h.buffer]._glBuffers[i];if(e.attributeData[a]){s!==u&&(r.bindBuffer(r.ARRAY_BUFFER,u.buffer),s=u);var l=e.attributeData[a].location;if(r.enableVertexAttribArray(l),r.vertexAttribPointer(l,h.size,h.type||r.FLOAT,h.normalized,h.stride,h.start),h.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");r.vertexAttribDivisor(l,1)}}}},r.prototype.draw=function(t,e,r,i){var n=this.gl,o=this._activeGeometry;if(o.indexBuffer){var s=o.indexBuffer.data.BYTES_PER_ELEMENT,a=2===s?n.UNSIGNED_SHORT:n.UNSIGNED_INT;2===s||4===s&&this.canUseUInt32ElementIndex?o.instanced?n.drawElementsInstanced(t,e||o.indexBuffer.data.length,a,(r||0)*s,i||1):n.drawElements(t,e||o.indexBuffer.data.length,a,(r||0)*s):console.warn("unsupported index buffer type: uint32")}else o.instanced?n.drawArraysInstanced(t,r,e||o.getSize(),i||1):n.drawArrays(t,r,e||o.getSize());return this},r.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},r}(Ir),hi=function(){function e(e){void 0===e&&(e=null),this.type=t.MASK_TYPES.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._target=null}return e.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=t.MASK_TYPES.NONE,this.autoDetect=!0),this._target=null},e.prototype.copyCountersOrReset=function(t){t?(this._stencilCounter=t._stencilCounter,this._scissorCounter=t._scissorCounter,this._scissorRect=t._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},e}();function ui(t,e,r){var i=t.createShader(e);return t.shaderSource(i,r),t.compileShader(i),i}function li(t,e,r,i){var n=ui(t,t.VERTEX_SHADER,e),o=ui(t,t.FRAGMENT_SHADER,r),s=t.createProgram();if(t.attachShader(s,n),t.attachShader(s,o),i)for(var a in i)t.bindAttribLocation(s,i[a],a);return t.linkProgram(s),t.getProgramParameter(s,t.LINK_STATUS)||(t.getShaderParameter(n,t.COMPILE_STATUS)||(console.warn(e),console.error(t.getShaderInfoLog(n))),t.getShaderParameter(o,t.COMPILE_STATUS)||(console.warn(r),console.error(t.getShaderInfoLog(o))),console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",t.getProgramParameter(s,t.VALIDATE_STATUS)),console.error("gl.getError()",t.getError()),""!==t.getProgramInfoLog(s)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(s)),t.deleteProgram(s),s=null),t.deleteShader(n),t.deleteShader(o),s}function ci(t){for(var e=new Array(t),r=0;r<e.length;r++)e[r]=!1;return e}function di(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"bool":return!1;case"bvec2":return ci(2*e);case"bvec3":return ci(3*e);case"bvec4":return ci(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var pi,fi={},mi=fi;function vi(){if(mi===fi||mi&&mi.isContextLost()){var e=document.createElement("canvas"),r=void 0;C.PREFER_ENV>=t.ENV.WEBGL2&&(r=e.getContext("webgl2",{})),r||((r=e.getContext("webgl",{})||e.getContext("experimental-webgl",{}))?r.getExtension("WEBGL_draw_buffers"):r=null),mi=r}return mi}function yi(e,r,i){if("precision"!==e.substring(0,9)){var n=r;return r===t.PRECISION.HIGH&&i!==t.PRECISION.HIGH&&(n=t.PRECISION.MEDIUM),"precision "+n+" float;\n"+e}return i!==t.PRECISION.HIGH&&"precision highp"===e.substring(0,15)?e.replace("precision highp","precision mediump"):e}var gi={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function _i(t){return gi[t]}var xi=null,bi={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function Ei(t,e){if(!xi){var r=Object.keys(bi);xi={};for(var i=0;i<r.length;++i){var n=r[i];xi[t[n]]=bi[n]}}return xi[e]}var Ti=[{test:function(t){return"float"===t.type&&1===t.size},code:function(t){return'\n            if(uv["'+t+'"] !== ud["'+t+'"].value)\n            {\n                ud["'+t+'"].value = uv["'+t+'"]\n                gl.uniform1f(ud["'+t+'"].location, uv["'+t+'"])\n            }\n            '}},{test:function(t){return("sampler2D"===t.type||"samplerCube"===t.type||"sampler2DArray"===t.type)&&1===t.size&&!t.isArray},code:function(t){return't = syncData.textureCount++;\n\n            renderer.texture.bind(uv["'+t+'"], t);\n\n            if(ud["'+t+'"].value !== t)\n            {\n                ud["'+t+'"].value = t;\n                gl.uniform1i(ud["'+t+'"].location, t);\n; // eslint-disable-line max-len\n            }'}},{test:function(t,e){return"mat3"===t.type&&1===t.size&&void 0!==e.a},code:function(t){return'\n            gl.uniformMatrix3fv(ud["'+t+'"].location, false, uv["'+t+'"].toArray(true));\n            '}},{test:function(t,e){return"vec2"===t.type&&1===t.size&&void 0!==e.x},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["'+t+'"].location, v.x, v.y);\n                }'}},{test:function(t){return"vec2"===t.type&&1===t.size},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["'+t+'"].location, v[0], v[1]);\n                }\n            '}},{test:function(t,e){return"vec4"===t.type&&1===t.size&&void 0!==e.width},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["'+t+'"].location, v.x, v.y, v.width, v.height)\n                }'}},{test:function(t){return"vec4"===t.type&&1===t.size},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["'+t+'"].location, v[0], v[1], v[2], v[3])\n                }'}}],Pi={float:"\n    if(cv !== v)\n    {\n        cv.v = v;\n        gl.uniform1f(location, v)\n    }",vec2:"\n    if(cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"gl.uniform4f(location, v[0], v[1], v[2], v[3])",int:"gl.uniform1i(location, v)",ivec2:"gl.uniform2i(location, v[0], v[1])",ivec3:"gl.uniform3i(location, v[0], v[1], v[2])",ivec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",bool:"gl.uniform1i(location, v)",bvec2:"gl.uniform2i(location, v[0], v[1])",bvec3:"gl.uniform3i(location, v[0], v[1], v[2])",bvec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},Si={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};var wi,Ii=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function Ai(t){for(var e="",r=0;r<t;++r)r>0&&(e+="\nelse "),r<t-1&&(e+="if(test == "+r+".0){}");return e}function Oi(t,e){if(0===t)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var r=e.createShader(e.FRAGMENT_SHADER);;){var i=Ii.replace(/%forloop%/gi,Ai(t));if(e.shaderSource(r,i),e.compileShader(r),e.getShaderParameter(r,e.COMPILE_STATUS))break;t=t/2|0}return t}var Mi=0,Ci={},Di=function(){function e(r,i,n){void 0===n&&(n="pixi-shader"),this.id=Mi++,this.vertexSrc=r||e.defaultVertexSrc,this.fragmentSrc=i||e.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),"#version"!==this.vertexSrc.substring(0,8)&&(n=n.replace(/\s+/g,"-"),Ci[n]?(Ci[n]++,n+="-"+Ci[n]):Ci[n]=1,this.vertexSrc="#define SHADER_NAME "+n+"\n"+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+n+"\n"+this.fragmentSrc,this.vertexSrc=yi(this.vertexSrc,C.PRECISION_VERTEX,t.PRECISION.HIGH),this.fragmentSrc=yi(this.fragmentSrc,C.PRECISION_FRAGMENT,function(){if(!pi){pi=t.PRECISION.MEDIUM;var e=vi();if(e&&e.getShaderPrecisionFormat){var r=e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT);pi=r.precision?t.PRECISION.HIGH:t.PRECISION.MEDIUM}}return pi}())),this.extractData(this.vertexSrc,this.fragmentSrc),this.glPrograms={},this.syncUniforms=null}return e.prototype.extractData=function(t,e){var r=vi();if(r){var i=li(r,t,e);this.attributeData=this.getAttributeData(i,r),this.uniformData=this.getUniformData(i,r),r.deleteProgram(i)}else this.uniformData={},this.attributeData={}},e.prototype.getAttributeData=function(t,e){for(var r={},i=[],n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),o=0;o<n;o++){var s=e.getActiveAttrib(t,o),a=Ei(e,s.type),h={type:a,name:s.name,size:_i(a),location:0};r[s.name]=h,i.push(h)}i.sort(function(t,e){return t.name>e.name?1:-1});for(o=0;o<i.length;o++)i[o].location=o;return r},e.prototype.getUniformData=function(t,e){for(var r={},i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),n=0;n<i;n++){var o=e.getActiveUniform(t,n),s=o.name.replace(/\[.*?\]$/,""),a=o.name.match(/\[.*?\]$/),h=Ei(e,o.type);r[s]={type:h,size:o.size,isArray:a,value:di(h,o.size)}}return r},Object.defineProperty(e,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"},enumerable:!1,configurable:!0}),e.from=function(t,r,i){var n=t+r,o=oe[n];return o||(oe[n]=o=new e(t,r,i)),o},e}(),Ri=function(){function t(t,e){for(var r in this.program=t,this.uniformGroup=e?e instanceof Kr?e:new Kr(e):new Kr({}),t.uniformData)this.uniformGroup.uniforms[r]instanceof Array&&(this.uniformGroup.uniforms[r]=new Float32Array(this.uniformGroup.uniforms[r]))}return t.prototype.checkUniformExists=function(t,e){if(e.uniforms[t])return!0;for(var r in e.uniforms){var i=e.uniforms[r];if(i.group&&this.checkUniformExists(t,i))return!0}return!1},t.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(t.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),t.from=function(e,r,i){return new t(Di.from(e,r),i)},t}(),Li=function(){function e(){this.data=0,this.blendMode=t.BLEND_MODES.NORMAL,this.polygonOffset=0,this.blend=!0}return Object.defineProperty(e.prototype,"blend",{get:function(){return!!(1&this.data)},set:function(t){!!(1&this.data)!==t&&(this.data^=1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offsets",{get:function(){return!!(2&this.data)},set:function(t){!!(2&this.data)!==t&&(this.data^=2)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"culling",{get:function(){return!!(4&this.data)},set:function(t){!!(4&this.data)!==t&&(this.data^=4)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"depthTest",{get:function(){return!!(8&this.data)},set:function(t){!!(8&this.data)!==t&&(this.data^=8)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"clockwiseFrontFace",{get:function(){return!!(16&this.data)},set:function(t){!!(16&this.data)!==t&&(this.data^=16)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this._blendMode},set:function(e){this.blend=e!==t.BLEND_MODES.NONE,this._blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(t){this.offsets=!!t,this._polygonOffset=t},enumerable:!1,configurable:!0}),e.for2d=function(){var t=new e;return t.depthTest=!1,t.blend=!0,t},e}(),Ni=function(t){function e(r,i,n){var o=this,s=Di.from(r||e.defaultVertexSrc,i||e.defaultFragmentSrc);return(o=t.call(this,s,n)||this).padding=0,o.resolution=C.FILTER_RESOLUTION,o.enabled=!0,o.autoFit=!0,o.legacy=!!o.program.attributeData.aTextureCoord,o.state=new Li,o}return dr(e,t),e.prototype.apply=function(t,e,r,i,n){t.applyFilter(this,e,r,i)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"},enumerable:!1,configurable:!0}),e}(Ri),Fi="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n",Bi="varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n",Ui=new we,ki=function(){function t(t,e){this._texture=t,this.mapCoord=new we,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=void 0===e?.5:e,this.isSimple=!1}return Object.defineProperty(t.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture=t,this._textureID=-1},enumerable:!1,configurable:!0}),t.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var r=this.mapCoord,i=0;i<t.length;i+=2){var n=t[i],o=t[i+1];e[i]=n*r.a+o*r.c+r.tx,e[i+1]=n*r.b+o*r.d+r.ty}return e},t.prototype.update=function(t){var e=this._texture;if(!e||!e.valid)return!1;if(!t&&this._textureID===e._updateID)return!1;this._textureID=e._updateID,this._updateID++;var r=e._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);var i=e.orig,n=e.trim;n&&(Ui.set(i.width/n.width,0,0,i.height/n.height,-n.x/n.width,-n.y/n.height),this.mapCoord.append(Ui));var o=e.baseTexture,s=this.uClampFrame,a=this.clampMargin/o.resolution,h=this.clampOffset;return s[0]=(e._frame.x+a+h)/o.width,s[1]=(e._frame.y+a+h)/o.height,s[2]=(e._frame.x+e._frame.width-a+h)/o.width,s[3]=(e._frame.y+e._frame.height-a+h)/o.height,this.uClampOffset[0]=h/o.realWidth,this.uClampOffset[1]=h/o.realHeight,this.isSimple=e._frame.width===o.width&&e._frame.height===o.height&&0===e.rotate,!0},t}(),Xi=function(t){function e(e){var r=this,i=new we;return r=t.call(this,Fi,Bi)||this,e.renderable=!1,r.maskSprite=e,r.maskMatrix=i,r}return dr(e,t),e.prototype.apply=function(t,e,r,i){var n=this.maskSprite,o=n._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new ki(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,n).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=n.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,t.applyFilter(this,e,r,i))},e}(Ni),ji=function(e){function r(t){var r=e.call(this,t)||this;return r.enableScissor=!1,r.alphaMaskPool=[],r.maskDataPool=[],r.maskStack=[],r.alphaMaskIndex=0,r}return dr(r,e),r.prototype.setMaskStack=function(t){this.maskStack=t,this.renderer.scissor.setMaskStack(t),this.renderer.stencil.setMaskStack(t)},r.prototype.push=function(e,r){var i=r;if(!i.isMaskData){var n=this.maskDataPool.pop()||new hi;n.pooled=!0,n.maskObject=r,i=n}switch(i.autoDetect&&this.detect(i),i.copyCountersOrReset(this.maskStack[this.maskStack.length-1]),i._target=e,i.type){case t.MASK_TYPES.SCISSOR:this.maskStack.push(i),this.renderer.scissor.push(i);break;case t.MASK_TYPES.STENCIL:this.maskStack.push(i),this.renderer.stencil.push(i);break;case t.MASK_TYPES.SPRITE:i.copyCountersOrReset(null),this.pushSpriteMask(i),this.maskStack.push(i)}},r.prototype.pop=function(e){var r=this.maskStack.pop();if(r&&r._target===e){switch(r.type){case t.MASK_TYPES.SCISSOR:this.renderer.scissor.pop();break;case t.MASK_TYPES.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case t.MASK_TYPES.SPRITE:this.popSpriteMask()}r.reset(),r.pooled&&this.maskDataPool.push(r)}},r.prototype.detect=function(e){var r=e.maskObject;if(r.isSprite)e.type=t.MASK_TYPES.SPRITE;else if(e.type=t.MASK_TYPES.STENCIL,this.enableScissor&&r.isFastRect&&r.isFastRect()){var i=r.worldTransform,n=Math.atan2(i.b,i.a),o=Math.atan2(i.d,i.c);n=Math.round(n*(180/Math.PI)*100),o=((o=Math.round(o*(180/Math.PI)*100)-n)%18e3+18e3)%18e3,0===(n=(n%9e3+9e3)%9e3)&&9e3===o&&(e.type=t.MASK_TYPES.SCISSOR)}},r.prototype.pushSpriteMask=function(t){var e=t.maskObject,r=t._target,i=this.alphaMaskPool[this.alphaMaskIndex];i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new Xi(e)]),i[0].resolution=this.renderer.resolution,i[0].maskSprite=e;var n=r.filterArea;r.filterArea=e.getBounds(!0),this.renderer.filter.push(r,i),r.filterArea=n,this.alphaMaskIndex++},r.prototype.popSpriteMask=function(){this.renderer.filter.pop(),this.alphaMaskIndex--},r}(Ir),Gi=function(t){function e(e){var r=t.call(this,e)||this;return r.maskStack=[],r.glConst=0,r}return dr(e,t),e.prototype.getStackLength=function(){return this.maskStack.length},e.prototype.setMaskStack=function(t){var e=this.renderer.gl,r=this.getStackLength();this.maskStack=t;var i=this.getStackLength();i!==r&&(0===i?e.disable(this.glConst):(e.enable(this.glConst),this._useCurrent()))},e.prototype._useCurrent=function(){},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.maskStack=null},e}(Ir),Hi=function(t){function e(e){var r=t.call(this,e)||this;return r.glConst=WebGLRenderingContext.SCISSOR_TEST,r}return dr(e,t),e.prototype.getStackLength=function(){var t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0},e.prototype.push=function(t){var e=t.maskObject;e.renderable=!0;var r=t._scissorRect,i=e.getBounds(!0),n=this.renderer.gl;e.renderable=!1,r?i.fit(r):n.enable(n.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=i,this._useCurrent()},e.prototype.pop=function(){var t=this.renderer.gl;this.getStackLength()>0?this._useCurrent():t.disable(t.SCISSOR_TEST)},e.prototype._useCurrent=function(){var t=this.maskStack[this.maskStack.length-1]._scissorRect,e=this.renderer.renderTexture.current,r=this.renderer.projection,i=r.transform,n=r.sourceFrame,o=r.destinationFrame,s=e?e.resolution:this.renderer.resolution,a=(t.x-n.x)*s+o.x,h=(t.y-n.y)*s+o.y,u=t.width*s,l=t.height*s;i&&(a+=i.tx*s,h+=i.ty*s),e||(h=this.renderer.height-l-h),this.renderer.gl.scissor(a,h,u,l)},e}(Gi),Yi=function(t){function e(e){var r=t.call(this,e)||this;return r.glConst=WebGLRenderingContext.STENCIL_TEST,r}return dr(e,t),e.prototype.getStackLength=function(){var t=this.maskStack[this.maskStack.length-1];return t?t._stencilCounter:0},e.prototype.push=function(t){var e=t.maskObject,r=this.renderer.gl,i=t._stencilCounter;0===i&&(this.renderer.framebuffer.forceStencil(),r.enable(r.STENCIL_TEST)),t._stencilCounter++,r.colorMask(!1,!1,!1,!1),r.stencilFunc(r.EQUAL,i,this._getBitwiseMask()),r.stencilOp(r.KEEP,r.KEEP,r.INCR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,this._useCurrent()},e.prototype.pop=function(t){var e=this.renderer.gl;0===this.getStackLength()?(e.disable(e.STENCIL_TEST),e.clear(e.STENCIL_BUFFER_BIT),e.clearStencil(0)):(e.colorMask(!1,!1,!1,!1),e.stencilOp(e.KEEP,e.KEEP,e.DECR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,this._useCurrent())},e.prototype._useCurrent=function(){var t=this.renderer.gl;t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.EQUAL,this.getStackLength(),this._getBitwiseMask()),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)},e.prototype._getBitwiseMask=function(){return(1<<this.getStackLength())-1},e}(Gi),zi=function(t){function e(e){var r=t.call(this,e)||this;return r.destinationFrame=null,r.sourceFrame=null,r.defaultFrame=null,r.projectionMatrix=new we,r.transform=null,r}return dr(e,t),e.prototype.update=function(t,e,r,i){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,r,i),this.transform&&this.projectionMatrix.append(this.transform);var n=this.renderer;n.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,n.globalUniforms.update(),n.shader.shader&&n.shader.syncUniformGroup(n.shader.shader.uniforms.globals)},e.prototype.calculateProjection=function(t,e,r,i){var n=this.projectionMatrix,o=i?-1:1;n.identity(),n.a=1/e.width*2,n.d=o*(1/e.height*2),n.tx=-1-e.x*n.a,n.ty=-o-e.y*n.d},e.prototype.setTransform=function(t){},e}(Ir),Vi=new _e,Wi=new _e,qi=new _e,Ki=function(t){function e(e){var r=t.call(this,e)||this;return r.clearColor=e._backgroundColorRgba,r.defaultMaskStack=[],r.current=null,r.sourceFrame=new _e,r.destinationFrame=new _e,r}return dr(e,t),e.prototype.bind=function(t,e,r){void 0===t&&(t=null);var i,n,o,s=this.renderer;this.current=t,t?(o=(i=t.baseTexture).resolution,e||(Vi.width=t.frame.width,Vi.height=t.frame.height,e=Vi),r||(Wi.x=t.frame.x,Wi.y=t.frame.y,Wi.width=e.width,Wi.height=e.height,r=Wi),n=i.framebuffer):(o=s.resolution,e||(Vi.width=s.screen.width,Vi.height=s.screen.height,e=Vi),r||((r=Vi).width=e.width,r.height=e.height)),qi.x=r.x*o,qi.y=r.y*o,qi.width=r.width*o,qi.height=r.height*o,this.renderer.framebuffer.bind(n,qi),this.renderer.projection.update(r,e,o,!n),t?this.renderer.mask.setMaskStack(i.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(e),this.destinationFrame.copyFrom(r)},e.prototype.clear=function(t,e){t=this.current?t||this.current.baseTexture.clearColor:t||this.clearColor,this.renderer.framebuffer.clear(t[0],t[1],t[2],t[3],e)},e.prototype.resize=function(){this.bind(null)},e.prototype.reset=function(){this.bind(null)},e}(Ir),Zi=function(){return function(){}}(),Ji=function(){function t(t,e){this.program=t,this.uniformData=e,this.uniformGroups={}}return t.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.program=null},t}(),Qi=0,$i={textureCount:0},tn=function(t){function e(e){var r=t.call(this,e)||this;return r.destroyed=!1,r.systemCheck(),r.gl=null,r.shader=null,r.program=null,r.cache={},r.id=Qi++,r}return dr(e,t),e.prototype.systemCheck=function(){if(!function(){if("boolean"==typeof wi)return wi;try{var t=new Function("param1","param2","param3","return param1[param2] === param3;");wi=!0===t({a:"b"},"a","b")}catch(t){wi=!1}return wi}())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},e.prototype.contextChange=function(t){this.gl=t,this.reset()},e.prototype.bind=function(t,e){t.uniforms.globals=this.renderer.globalUniforms;var r=t.program,i=r.glPrograms[this.renderer.CONTEXT_UID]||this.generateShader(t);return this.shader=t,this.program!==r&&(this.program=r,this.gl.useProgram(i.program)),e||($i.textureCount=0,this.syncUniformGroup(t.uniformGroup,$i)),i},e.prototype.setUniforms=function(t){var e=this.shader.program,r=e.glPrograms[this.renderer.CONTEXT_UID];e.syncUniforms(r.uniformData,t,this.renderer)},e.prototype.syncUniformGroup=function(t,e){var r=this.getglProgram();t.static&&t.dirtyId===r.uniformGroups[t.id]||(r.uniformGroups[t.id]=t.dirtyId,this.syncUniforms(t,r,e))},e.prototype.syncUniforms=function(t,e,r){(t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t))(e.uniformData,t.uniforms,this.renderer,r)},e.prototype.createSyncGroups=function(t){var e=this.getSignature(t,this.shader.program.uniformData);return this.cache[e]||(this.cache[e]=function(t,e){var r=["\n        var v = null;\n        var cv = null\n        var t = 0;\n        var gl = renderer.gl\n    "];for(var i in t.uniforms){var n=e[i];if(n){for(var o=t.uniforms[i],s=!1,a=0;a<Ti.length;a++)if(Ti[a].test(n,o)){r.push(Ti[a].code(i,o)),s=!0;break}if(!s){var h=(1===n.size?Pi:Si)[n.type].replace("location",'ud["'+i+'"].location');r.push('\n            cv = ud["'+i+'"].value;\n            v = uv["'+i+'"];\n            '+h+";")}}else t.uniforms[i].group&&r.push('\n                    renderer.shader.syncUniformGroup(uv["'+i+'"], syncData);\n                ')}return new Function("ud","uv","renderer","syncData",r.join("\n"))}(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[e],t.syncUniforms[this.shader.program.id]},e.prototype.getSignature=function(t,e){var r=t.uniforms,i=[];for(var n in r)i.push(n),e[n]&&i.push(e[n].type);return i.join("-")},e.prototype.getglProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},e.prototype.generateShader=function(t){var e=this.gl,r=t.program,i={};for(var n in r.attributeData)i[n]=r.attributeData[n].location;var o=li(e,r.vertexSrc,r.fragmentSrc,i),s={};for(var n in r.uniformData){var a=r.uniformData[n];s[n]={location:e.getUniformLocation(o,n),value:di(a.type,a.size)}}var h=new Ji(o,s);return r.glPrograms[this.renderer.CONTEXT_UID]=h,h},e.prototype.reset=function(){this.program=null,this.shader=null},e.prototype.destroy=function(){this.destroyed=!0},e}(Ir);var en=0,rn=1,nn=2,on=3,sn=4,an=function(e){function r(r){var i=e.call(this,r)||this;return i.gl=null,i.stateId=0,i.polygonOffset=0,i.blendMode=t.BLEND_MODES.NONE,i._blendEq=!1,i.map=[],i.map[en]=i.setBlend,i.map[rn]=i.setOffset,i.map[nn]=i.setCullFace,i.map[on]=i.setDepthTest,i.map[sn]=i.setFrontFace,i.checks=[],i.defaultState=new Li,i.defaultState.blend=!0,i}return dr(r,e),r.prototype.contextChange=function(e){this.gl=e,this.blendModes=function(e,r){return void 0===r&&(r=[]),r[t.BLEND_MODES.NORMAL]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],r[t.BLEND_MODES.ADD]=[e.ONE,e.ONE],r[t.BLEND_MODES.MULTIPLY]=[e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],r[t.BLEND_MODES.SCREEN]=[e.ONE,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],r[t.BLEND_MODES.OVERLAY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],r[t.BLEND_MODES.DARKEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],r[t.BLEND_MODES.LIGHTEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],r[t.BLEND_MODES.COLOR_DODGE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],r[t.BLEND_MODES.COLOR_BURN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],r[t.BLEND_MODES.HARD_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],r[t.BLEND_MODES.SOFT_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],r[t.BLEND_MODES.DIFFERENCE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],r[t.BLEND_MODES.EXCLUSION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],r[t.BLEND_MODES.HUE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],r[t.BLEND_MODES.SATURATION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],r[t.BLEND_MODES.COLOR]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],r[t.BLEND_MODES.LUMINOSITY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],r[t.BLEND_MODES.NONE]=[0,0],r[t.BLEND_MODES.NORMAL_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],r[t.BLEND_MODES.ADD_NPM]=[e.SRC_ALPHA,e.ONE,e.ONE,e.ONE],r[t.BLEND_MODES.SCREEN_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],r[t.BLEND_MODES.SRC_IN]=[e.DST_ALPHA,e.ZERO],r[t.BLEND_MODES.SRC_OUT]=[e.ONE_MINUS_DST_ALPHA,e.ZERO],r[t.BLEND_MODES.SRC_ATOP]=[e.DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],r[t.BLEND_MODES.DST_OVER]=[e.ONE_MINUS_DST_ALPHA,e.ONE],r[t.BLEND_MODES.DST_IN]=[e.ZERO,e.SRC_ALPHA],r[t.BLEND_MODES.DST_OUT]=[e.ZERO,e.ONE_MINUS_SRC_ALPHA],r[t.BLEND_MODES.DST_ATOP]=[e.ONE_MINUS_DST_ALPHA,e.SRC_ALPHA],r[t.BLEND_MODES.XOR]=[e.ONE_MINUS_DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],r[t.BLEND_MODES.SUBTRACT]=[e.ONE,e.ONE,e.ONE,e.ONE,e.FUNC_REVERSE_SUBTRACT,e.FUNC_ADD],r}(e),this.set(this.defaultState),this.reset()},r.prototype.set=function(t){if(t=t||this.defaultState,this.stateId!==t.data){for(var e=this.stateId^t.data,r=0;e;)1&e&&this.map[r].call(this,!!(t.data&1<<r)),e>>=1,r++;this.stateId=t.data}for(r=0;r<this.checks.length;r++)this.checks[r](this,t)},r.prototype.forceState=function(t){t=t||this.defaultState;for(var e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data},r.prototype.setBlend=function(t){this.updateCheck(r.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)},r.prototype.setOffset=function(t){this.updateCheck(r.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},r.prototype.setDepthTest=function(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)},r.prototype.setCullFace=function(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)},r.prototype.setFrontFace=function(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])},r.prototype.setBlendMode=function(t){if(t!==this.blendMode){this.blendMode=t;var e=this.blendModes[t],r=this.gl;2===e.length?r.blendFunc(e[0],e[1]):r.blendFuncSeparate(e[0],e[1],e[2],e[3]),6===e.length?(this._blendEq=!0,r.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD))}},r.prototype.setPolygonOffset=function(t,e){this.gl.polygonOffset(t,e)},r.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},r.prototype.updateCheck=function(t,e){var r=this.checks.indexOf(t);e&&-1===r?this.checks.push(t):e||-1===r||this.checks.splice(r,1)},r.checkBlendMode=function(t,e){t.setBlendMode(e.blendMode)},r.checkPolygonOffset=function(t,e){t.setPolygonOffset(1,e.polygonOffset)},r}(Ir),hn=function(e){function r(t){var r=e.call(this,t)||this;return r.count=0,r.checkCount=0,r.maxIdle=C.GC_MAX_IDLE,r.checkCountMax=C.GC_MAX_CHECK_COUNT,r.mode=C.GC_MODE,r}return dr(r,e),r.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==t.GC_MODES.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},r.prototype.run=function(){for(var t=this.renderer.texture,e=t.managedTextures,r=!1,i=0;i<e.length;i++){var n=e[i];!n.framebuffer&&this.count-n.touched>this.maxIdle&&(t.destroyTexture(n,!0),e[i]=null,r=!0)}if(r){var o=0;for(i=0;i<e.length;i++)null!==e[i]&&(e[o++]=e[i]);e.length=o}},r.prototype.unload=function(t){var e=this.renderer.texture,r=t._texture;r&&!r.framebuffer&&e.destroyTexture(r);for(var i=t.children.length-1;i>=0;i--)this.unload(t.children[i])},r}(Ir),un=function(){return function(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=6408,this.internalFormat=5121}}(),ln=function(e){function r(t){var r=e.call(this,t)||this;return r.boundTextures=[],r.currentLocation=-1,r.managedTextures=[],r._unknownBoundTextures=!1,r.unknownTexture=new vr,r}return dr(r,e),r.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion;var e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=e;for(var r=0;r<e;r++)this.boundTextures[r]=null;this.emptyTextures={};var i=new un(t.createTexture());t.bindTexture(t.TEXTURE_2D,i.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[t.TEXTURE_2D]=i,this.emptyTextures[t.TEXTURE_CUBE_MAP]=new un(t.createTexture()),t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture);for(r=0;r<6;r++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+r,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null);t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR);for(r=0;r<this.boundTextures.length;r++)this.bind(null,r)},r.prototype.bind=function(t,e){void 0===e&&(e=0);var r=this.gl;if(t){if((t=t.castToBaseTexture()).parentTextureArray)return;if(t.valid){t.touched=this.renderer.textureGC.count;var i=t._glTextures[this.CONTEXT_UID]||this.initTexture(t);this.boundTextures[e]!==t&&(this.currentLocation!==e&&(this.currentLocation=e,r.activeTexture(r.TEXTURE0+e)),r.bindTexture(t.target,i.texture)),i.dirtyId!==t.dirtyId&&(this.currentLocation!==e&&(this.currentLocation=e,r.activeTexture(r.TEXTURE0+e)),this.updateTexture(t)),this.boundTextures[e]=t}}else this.currentLocation!==e&&(this.currentLocation=e,r.activeTexture(r.TEXTURE0+e)),r.bindTexture(r.TEXTURE_2D,this.emptyTextures[r.TEXTURE_2D].texture),this.boundTextures[e]=null},r.prototype.reset=function(){this._unknownBoundTextures=!0,this.currentLocation=-1;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture},r.prototype.unbind=function(t){var e=this.gl,r=this.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var i=0;i<r.length;i++)r[i]===this.unknownTexture&&this.bind(null,i)}for(i=0;i<r.length;i++)r[i]===t&&(this.currentLocation!==i&&(e.activeTexture(e.TEXTURE0+i),this.currentLocation=i),e.bindTexture(t.target,this.emptyTextures[t.target].texture),r[i]=null)},r.prototype.initTexture=function(t){var e=new un(this.gl.createTexture());return e.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=e,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),e},r.prototype.initTextureType=function(e,r){if(r.internalFormat=e.format,r.type=e.type,2===this.webGLVersion){var i=this.renderer.gl;e.type===i.FLOAT&&e.format===i.RGBA&&(r.internalFormat=i.RGBA32F),e.type===t.TYPES.HALF_FLOAT&&(r.type=i.HALF_FLOAT),r.type===i.HALF_FLOAT&&e.format===i.RGBA&&(r.internalFormat=i.RGBA16F)}},r.prototype.updateTexture=function(t){var e=t._glTextures[this.CONTEXT_UID];if(e){var r=this.renderer;if(this.initTextureType(t,e),t.resource&&t.resource.upload(r,t,e));else{var i=t.realWidth,n=t.realHeight,o=r.gl;(e.width!==i||e.height!==n||e.dirtyId<0)&&(e.width=i,e.height=n,o.texImage2D(t.target,0,e.internalFormat,i,n,0,t.format,e.type,null))}t.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(t),e.dirtyId=t.dirtyId}},r.prototype.destroyTexture=function(t,e){var r=this.gl;if((t=t.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(t),r.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],!e)){var i=this.managedTextures.indexOf(t);-1!==i&&$t(this.managedTextures,i,1)}},r.prototype.updateTextureStyle=function(e){var r=e._glTextures[this.CONTEXT_UID];r&&(e.mipmap!==t.MIPMAP_MODES.POW2&&2===this.webGLVersion||e.isPowerOfTwo?r.mipmap=e.mipmap>=1:r.mipmap=!1,2===this.webGLVersion||e.isPowerOfTwo?r.wrapMode=e.wrapMode:r.wrapMode=t.WRAP_MODES.CLAMP,e.resource&&e.resource.style(this.renderer,e,r)||this.setStyle(e,r),r.dirtyStyleId=e.dirtyStyleId)},r.prototype.setStyle=function(e,r){var i=this.gl;if(r.mipmap&&i.generateMipmap(e.target),i.texParameteri(e.target,i.TEXTURE_WRAP_S,r.wrapMode),i.texParameteri(e.target,i.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){i.texParameteri(e.target,i.TEXTURE_MIN_FILTER,e.scaleMode===t.SCALE_MODES.LINEAR?i.LINEAR_MIPMAP_LINEAR:i.NEAREST_MIPMAP_NEAREST);var n=this.renderer.context.extensions.anisotropicFiltering;if(n&&e.anisotropicLevel>0&&e.scaleMode===t.SCALE_MODES.LINEAR){var o=Math.min(e.anisotropicLevel,i.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT));i.texParameterf(e.target,n.TEXTURE_MAX_ANISOTROPY_EXT,o)}}else i.texParameteri(e.target,i.TEXTURE_MIN_FILTER,e.scaleMode===t.SCALE_MODES.LINEAR?i.LINEAR:i.NEAREST);i.texParameteri(e.target,i.TEXTURE_MAG_FILTER,e.scaleMode===t.SCALE_MODES.LINEAR?i.LINEAR:i.NEAREST)},r}(Ir),cn={FilterSystem:Jr,BatchSystem:$r,ContextSystem:ei,FramebufferSystem:ni,GeometrySystem:ai,MaskSystem:ji,ScissorSystem:Hi,StencilSystem:Yi,ProjectionSystem:zi,RenderTextureSystem:Ki,ShaderSystem:tn,StateSystem:an,TextureGCSystem:hn,TextureSystem:ln},dn=new we,pn=function(e){function r(r,i){void 0===r&&(r=t.RENDERER_TYPE.UNKNOWN);var n=e.call(this)||this;return(i=Object.assign({},C.RENDER_OPTIONS,i)).roundPixels&&(C.ROUND_PIXELS=i.roundPixels,ne("5.0.0","Renderer roundPixels option is deprecated, please use PIXI.settings.ROUND_PIXELS",2)),n.options=i,n.type=r,n.screen=new _e(0,0,i.width,i.height),n.view=i.view||document.createElement("canvas"),n.resolution=i.resolution||C.RESOLUTION,n.transparent=i.transparent,n.autoDensity=i.autoDensity||i.autoResize||!1,n.preserveDrawingBuffer=i.preserveDrawingBuffer,n.clearBeforeRender=i.clearBeforeRender,n._backgroundColor=0,n._backgroundColorRgba=[0,0,0,0],n._backgroundColorString="#000000",n.backgroundColor=i.backgroundColor||n._backgroundColor,n._lastObjectRendered=null,n.plugins={},n}return dr(r,e),r.prototype.initPlugins=function(t){for(var e in t)this.plugins[e]=new t[e](this)},Object.defineProperty(r.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),r.prototype.resize=function(t,e){this.screen.width=t,this.screen.height=e,this.view.width=t*this.resolution,this.view.height=e*this.resolution,this.autoDensity&&(this.view.style.width=t+"px",this.view.style.height=e+"px"),this.emit("resize",t,e)},r.prototype.generateTexture=function(t,e,r,i){0===(i=i||t.getLocalBounds(null,!0)).width&&(i.width=1),0===i.height&&(i.height=1);var n=Nr.create({width:0|i.width,height:0|i.height,scaleMode:e,resolution:r});return dn.tx=-i.x,dn.ty=-i.y,this.render(t,n,!1,dn,!!t.parent),n},r.prototype.destroy=function(e){for(var r in this.plugins)this.plugins[r].destroy(),this.plugins[r]=null;e&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);this.plugins=null,this.type=t.RENDERER_TYPE.UNKNOWN,this.view=null,this.screen=null,this._tempDisplayObjectParent=null,this.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(r.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(t){this._backgroundColor=t,this._backgroundColorString=Xt(t),kt(t,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),r}(D),fn=function(e){function r(i){var n=e.call(this,t.RENDERER_TYPE.WEBGL,i)||this;return i=n.options,n.gl=null,n.CONTEXT_UID=0,n.runners={destroy:new hr("destroy"),contextChange:new hr("contextChange"),reset:new hr("reset"),update:new hr("update"),postrender:new hr("postrender"),prerender:new hr("prerender"),resize:new hr("resize")},n.globalUniforms=new Kr({projectionMatrix:new we},!0),n.addSystem(ji,"mask").addSystem(ei,"context").addSystem(an,"state").addSystem(tn,"shader").addSystem(ln,"texture").addSystem(ai,"geometry").addSystem(ni,"framebuffer").addSystem(Hi,"scissor").addSystem(Yi,"stencil").addSystem(zi,"projection").addSystem(hn,"textureGC").addSystem(Jr,"filter").addSystem(Ki,"renderTexture").addSystem($r,"batch"),n.initPlugins(r.__plugins),i.context?n.context.initFromContext(i.context):n.context.initFromOptions({alpha:!!n.transparent,antialias:i.antialias,premultipliedAlpha:n.transparent&&"notMultiplied"!==n.transparent,stencil:!0,preserveDrawingBuffer:i.preserveDrawingBuffer,powerPreference:n.options.powerPreference}),n.renderingToScreen=!0,Bt(2===n.context.webGLVersion?"WebGL 2":"WebGL 1"),n.resize(n.options.width,n.options.height),n}return dr(r,e),r.create=function(t){if(Ut())return new r(t);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},r.prototype.addSystem=function(t,e){e||(e=t.name);var r=new t(this);if(this[e])throw new Error('Whoops! The name "'+e+'" is already in use');for(var i in this[e]=r,this.runners)this.runners[i].add(r);return this},r.prototype.render=function(t,e,r,i,n){if(this.renderingToScreen=!e,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=i,!this.context.isLost){if(e||(this._lastObjectRendered=t),!n){var o=t.enableTempParent();t.updateTransform(),t.disableTempParent(o)}this.renderTexture.bind(e),this.batch.currentRenderer.start(),(void 0!==r?r:this.clearBeforeRender)&&this.renderTexture.clear(),t.render(this),this.batch.currentRenderer.flush(),e&&e.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},r.prototype.resize=function(t,r){e.prototype.resize.call(this,t,r),this.runners.resize.emit(t,r)},r.prototype.reset=function(){return this.runners.reset.emit(),this},r.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},r.prototype.destroy=function(t){for(var r in this.runners.destroy.emit(),this.runners)this.runners[r].destroy();e.prototype.destroy.call(this,t),this.gl=null},r.registerPlugin=function(t,e){r.__plugins=r.__plugins||{},r.__plugins[t]=e},r}(pn);function mn(t){return fn.create(t)}var vn="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",yn="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n",gn=function(){return function(){this.texArray=null,this.blend=0,this.type=t.DRAW_MODES.TRIANGLES,this.start=0,this.size=0,this.data=null}}(),_n=function(){function t(){this.elements=[],this.ids=[],this.count=0}return t.prototype.clear=function(){for(var t=0;t<this.count;t++)this.elements[t]=null;this.count=0},t}(),xn=function(){function t(t){this.rawBinaryData=new ArrayBuffer(t),this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(t.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),t.prototype.view=function(t){return this[t+"View"]},t.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},t.sizeOf=function(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(t+" isn't a valid view type")}},t}(),bn=function(e){function r(t){var r=e.call(this,t)||this;return r.shaderGenerator=null,r.geometryClass=null,r.vertexSize=null,r.state=Li.for2d(),r.size=4*C.SPRITE_BATCH_SIZE,r._vertexCount=0,r._indexCount=0,r._bufferedElements=[],r._bufferedTextures=[],r._bufferSize=0,r._shader=null,r._packedGeometries=[],r._packedGeometryPoolSize=2,r._flushId=0,r._aBuffers={},r._iBuffers={},r.MAX_TEXTURES=1,r.renderer.on("prerender",r.onPrerender,r),t.runners.contextChange.add(r),r._dcIndex=0,r._aIndex=0,r._iIndex=0,r._attributeBuffer=null,r._indexBuffer=null,r._tempBoundTextures=[],r}return dr(r,e),r.prototype.contextChange=function(){var e=this.renderer.gl;C.PREFER_ENV===t.ENV.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),C.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=Oi(this.MAX_TEXTURES,e)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var r=0;r<this._packedGeometryPoolSize;r++)this._packedGeometries[r]=new this.geometryClass;this.initFlushBuffers()},r.prototype.initFlushBuffers=function(){for(var t=r._drawCallPool,e=r._textureArrayPool,i=this.size/4,n=Math.floor(i/this.MAX_TEXTURES)+1;t.length<i;)t.push(new gn);for(;e.length<n;)e.push(new _n);for(var o=0;o<this.MAX_TEXTURES;o++)this._tempBoundTextures[o]=null},r.prototype.onPrerender=function(){this._flushId=0},r.prototype.render=function(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)},r.prototype.buildTexturesAndDrawCalls=function(){var t=this._bufferedTextures,e=this.MAX_TEXTURES,i=r._textureArrayPool,n=this.renderer.batch,o=this._tempBoundTextures,s=this.renderer.textureGC.count,a=++vr._globalBatch,h=0,u=i[0],l=0;n.copyBoundTextures(o,e);for(var c=0;c<this._bufferSize;++c){var d=t[c];t[c]=null,d._batchEnabled!==a&&(u.count>=e&&(n.boundArray(u,o,a,e),this.buildDrawCalls(u,l,c),l=c,u=i[++h],++a),d._batchEnabled=a,d.touched=s,u.elements[u.count++]=d)}u.count>0&&(n.boundArray(u,o,a,e),this.buildDrawCalls(u,l,this._bufferSize),++h,++a);for(c=0;c<o.length;c++)o[c]=null;vr._globalBatch=a},r.prototype.buildDrawCalls=function(t,e,i){var n=this._bufferedElements,o=this._attributeBuffer,s=this._indexBuffer,a=this.vertexSize,h=r._drawCallPool,u=this._dcIndex,l=this._aIndex,c=this._iIndex,d=h[u];d.start=this._iIndex,d.texArray=t;for(var p=e;p<i;++p){var f=n[p],m=f._texture.baseTexture,v=Gt[m.alphaMode?1:0][f.blendMode];n[p]=null,e<p&&d.blend!==v&&(d.size=c-d.start,e=p,(d=h[++u]).texArray=t,d.start=c),this.packInterleavedGeometry(f,o,s,l,c),l+=f.vertexData.length/2*a,c+=f.indices.length,d.blend=v}e<i&&(d.size=c-d.start,++u),this._dcIndex=u,this._aIndex=l,this._iIndex=c},r.prototype.bindAndClearTexArray=function(t){for(var e=this.renderer.texture,r=0;r<t.count;r++)e.bind(t.elements[r],t.ids[r]),t.elements[r]=null;t.count=0},r.prototype.updateGeometry=function(){var t=this._packedGeometries,e=this._attributeBuffer,r=this._indexBuffer;C.CAN_UPLOAD_SAME_BUFFER?(t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(r),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(r),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},r.prototype.drawBatches=function(){for(var t=this._dcIndex,e=this.renderer,i=e.gl,n=e.state,o=r._drawCallPool,s=null,a=0;a<t;a++){var h=o[a],u=h.texArray,l=h.type,c=h.size,d=h.start,p=h.blend;s!==u&&(s=u,this.bindAndClearTexArray(u)),this.state.blendMode=p,n.set(this.state),i.drawElements(l,c,i.UNSIGNED_SHORT,2*d)}},r.prototype.flush=function(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},r.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.shader.bind(this._shader),C.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},r.prototype.stop=function(){this.flush()},r.prototype.destroy=function(){for(var t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]&&this._packedGeometries[t].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),e.prototype.destroy.call(this)},r.prototype.getAttributeBuffer=function(t){var e=Zt(Math.ceil(t/8)),r=Qt(e),i=8*e;this._aBuffers.length<=r&&(this._iBuffers.length=r+1);var n=this._aBuffers[i];return n||(this._aBuffers[i]=n=new xn(i*this.vertexSize*4)),n},r.prototype.getIndexBuffer=function(t){var e=Zt(Math.ceil(t/12)),r=Qt(e),i=12*e;this._iBuffers.length<=r&&(this._iBuffers.length=r+1);var n=this._iBuffers[r];return n||(this._iBuffers[r]=n=new Uint16Array(i)),n},r.prototype.packInterleavedGeometry=function(t,e,r,i,n){for(var o=e.uint32View,s=e.float32View,a=i/this.vertexSize,h=t.uvs,u=t.indices,l=t.vertexData,c=t._texture.baseTexture._batchLocation,d=Math.min(t.worldAlpha,1),p=d<1&&t._texture.baseTexture.alphaMode?zt(t._tintRGB,d):t._tintRGB+(255*d<<24),f=0;f<l.length;f+=2)s[i++]=l[f],s[i++]=l[f+1],s[i++]=h[f],s[i++]=h[f+1],o[i++]=p,s[i++]=c;for(f=0;f<u.length;f++)r[n++]=a+u[f]},r._drawCallPool=[],r._textureArrayPool=[],r}(Qr),En=function(){function t(t,e){if(this.vertexSrc=t,this.fragTemplate=e,this.programCache={},this.defaultGroupCache={},e.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(e.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return t.prototype.generateShader=function(t){if(!this.programCache[t]){for(var e=new Int32Array(t),r=0;r<t;r++)e[r]=r;this.defaultGroupCache[t]=Kr.from({uSamplers:e},!0);var i=this.fragTemplate;i=(i=i.replace(/%count%/gi,""+t)).replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new Di(this.vertexSrc,i)}var n={tint:new Float32Array([1,1,1,1]),translationMatrix:new we,default:this.defaultGroupCache[t]};return new Ri(this.programCache[t],n)},t.prototype.generateSampleSrc=function(t){var e="";e+="\n",e+="\n";for(var r=0;r<t;r++)r>0&&(e+="\nelse "),r<t-1&&(e+="if(vTextureId < "+r+".5)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+r+"], vTextureCoord);",e+="\n}";return e+="\n",e+="\n"},t}(),Tn=function(e){function r(r){void 0===r&&(r=!1);var i=e.call(this)||this;return i._buffer=new kr(null,r,!1),i._indexBuffer=new kr(null,r,!0),i.addAttribute("aVertexPosition",i._buffer,2,!1,t.TYPES.FLOAT).addAttribute("aTextureCoord",i._buffer,2,!1,t.TYPES.FLOAT).addAttribute("aColor",i._buffer,4,!0,t.TYPES.UNSIGNED_BYTE).addAttribute("aTextureId",i._buffer,1,!0,t.TYPES.FLOAT).addIndex(i._indexBuffer),i}return dr(r,e),r}(zr),Pn="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n",Sn="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n",wn=function(){function t(){}return t.create=function(t){var e=Object.assign({vertex:Pn,fragment:Sn,geometryClass:Tn,vertexSize:6},t),r=e.vertex,i=e.fragment,n=e.vertexSize,o=e.geometryClass;return function(t){function e(e){var s=t.call(this,e)||this;return s.shaderGenerator=new En(r,i),s.geometryClass=o,s.vertexSize=n,s}return dr(e,t),e}(bn)},Object.defineProperty(t,"defaultVertexSrc",{get:function(){return Pn},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentTemplate",{get:function(){return Sn},enumerable:!1,configurable:!0}),t}(),In=wn.create(),An=function(){function t(e){var r=this;e=Object.assign({forceCanvas:!1},e),this.renderer=mn(e),this.stage=new Ge,t._plugins.forEach(function(t){t.init.call(r,e)})}return t.registerPlugin=function(e){t._plugins.push(e)},t.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(t.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),t.prototype.destroy=function(e,r){var i=this,n=t._plugins.slice(0);n.reverse(),n.forEach(function(t){t.destroy.call(i)}),this.stage.destroy(r),this.stage=null,this.renderer.destroy(e),this.renderer=null},t}();An._plugins=[];var On=function(){function t(){}return t.init=function(t){var e=this;Object.defineProperty(this,"resizeTo",{set:function(t){window.removeEventListener("resize",this.queueResize),this._resizeTo=t,t&&(window.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){e._resizeTo&&(e.cancelResize(),e._resizeId=requestAnimationFrame(function(){return e.resize()}))},this.cancelResize=function(){e._resizeId&&(cancelAnimationFrame(e._resizeId),e._resizeId=null)},this.resize=function(){if(e._resizeTo){var t,r;if(e.cancelResize(),e._resizeTo===window)t=window.innerWidth,r=window.innerHeight;else{var i=e._resizeTo;t=i.clientWidth,r=i.clientHeight}e.renderer.resize(t,r)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=t.resizeTo||null},t.destroy=function(){window.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},t}();An.registerPlugin(On);var Mn=new _e,Cn=function(){function t(t){this.renderer=t,t.extract=this}return t.prototype.image=function(t,e,r){var i=new Image;return i.src=this.base64(t,e,r),i},t.prototype.base64=function(t,e,r){return this.canvas(t).toDataURL(e,r)},t.prototype.canvas=function(e){var r,i,n,o=this.renderer,s=!1,a=!1;e&&(e instanceof Nr?n=e:(n=this.renderer.generateTexture(e),a=!0)),n?(r=n.baseTexture.resolution,i=n.frame,s=!1,o.renderTexture.bind(n)):(r=this.renderer.resolution,s=!0,(i=Mn).width=this.renderer.width,i.height=this.renderer.height,o.renderTexture.bind(null));var h=Math.floor(i.width*r+1e-4),u=Math.floor(i.height*r+1e-4),l=new he(h,u,1),c=new Uint8Array(4*h*u),d=o.gl;d.readPixels(i.x*r,i.y*r,h,u,d.RGBA,d.UNSIGNED_BYTE,c);var p=l.context.getImageData(0,0,h,u);if(t.arrayPostDivide(c,p.data),l.context.putImageData(p,0,0),s){var f=new he(l.width,l.height,1);f.context.scale(1,-1),f.context.drawImage(l.canvas,0,-u),l.destroy(),l=f}return a&&n.destroy(!0),l.canvas},t.prototype.pixels=function(e){var r,i,n,o=this.renderer,s=!1;e&&(e instanceof Nr?n=e:(n=this.renderer.generateTexture(e),s=!0)),n?(r=n.baseTexture.resolution,i=n.frame,o.renderTexture.bind(n)):(r=o.resolution,(i=Mn).width=o.width,i.height=o.height,o.renderTexture.bind(null));var a=i.width*r,h=i.height*r,u=new Uint8Array(4*a*h),l=o.gl;return l.readPixels(i.x*r,i.y*r,a,h,l.RGBA,l.UNSIGNED_BYTE,u),s&&n.destroy(!0),t.arrayPostDivide(u,u),u},t.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},t.arrayPostDivide=function(t,e){for(var r=0;r<t.length;r+=4){var i=e[r+3]=t[r+3];0!==i?(e[r]=Math.round(Math.min(255*t[r]/i,255)),e[r+1]=Math.round(Math.min(255*t[r+1]/i,255)),e[r+2]=Math.round(Math.min(255*t[r+2]/i,255))):(e[r]=t[r],e[r+1]=t[r+1],e[r+2]=t[r+2])}},t}(),Dn=function(t,e){if(void 0===e&&(e={}),t){for(var r={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},i=r.parser[e.strictMode?"strict":"loose"].exec(t),n={},o=14;o--;)n[r.key[o]]=i[o]||"";return n[r.q.name]={},n[r.key[12]].replace(r.q.parser,function(t,e,i){e&&(n[r.q.name][e]=i)}),n}},Rn=function(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}(r(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}();function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var n=function(){function t(e,r,n){void 0===r&&(r=!1),i(this,t),this._fn=e,this._once=r,this._thisArg=n,this._next=this._prev=this._owner=null}return r(t,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),t}();function o(t,e){return t._head?(t._tail._next=e,e._prev=t._tail,t._tail=e):(t._head=e,t._tail=e),e._owner=t,e}var s=function(){function t(){i(this,t),this._head=this._tail=void 0}return r(t,[{key:"handlers",value:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],e=this._head;if(t)return!!e;for(var r=[];e;)r.push(e),e=e._next;return r}},{key:"has",value:function(t){if(!(t instanceof n))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return t._owner===this}},{key:"dispatch",value:function(){var t=arguments,e=this._head;if(!e)return!1;for(;e;)e._once&&this.detach(e),e._fn.apply(e._thisArg,t),e=e._next;return!0}},{key:"add",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#add(): First arg must be a Function.");return o(this,new n(t,!1,e))}},{key:"once",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#once(): First arg must be a Function.");return o(this,new n(t,!0,e))}},{key:"detach",value:function(t){if(!(t instanceof n))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return t._owner!==this?this:(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,null===t._next&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null,this)}},{key:"detachAll",value:function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this}}]),t}();s.MiniSignalBinding=n,e.default=s,t.exports=e.default}));function Ln(){}function Nn(t,e,r,i){var n=0,o=t.length;!function s(a){a||n===o?r&&r(a):i?setTimeout(function(){e(t[n++],s)},1):e(t[n++],s)}()}function Fn(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}}function Bn(t,e){if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var r=0,i={_tasks:[],concurrency:e,saturated:Ln,unsaturated:Ln,buffer:e/4,empty:Ln,drain:Ln,error:Ln,started:!1,paused:!1,push:function(t,e){n(t,!1,e)},kill:function(){r=0,i.drain=Ln,i.started=!1,i._tasks=[]},unshift:function(t,e){n(t,!0,e)},process:function(){for(;!i.paused&&r<i.concurrency&&i._tasks.length;){var e=i._tasks.shift();0===i._tasks.length&&i.empty(),(r+=1)===i.concurrency&&i.saturated(),t(e.data,Fn(o(e)))}},length:function(){return i._tasks.length},running:function(){return r},idle:function(){return i._tasks.length+r===0},pause:function(){!0!==i.paused&&(i.paused=!0)},resume:function(){if(!1!==i.paused){i.paused=!1;for(var t=1;t<=i.concurrency;t++)i.process()}}};function n(t,e,r){if(null!=r&&"function"!=typeof r)throw new Error("task callback must be a function");if(i.started=!0,null==t&&i.idle())setTimeout(function(){return i.drain()},1);else{var n={data:t,callback:"function"==typeof r?r:Ln};e?i._tasks.unshift(n):i._tasks.push(n),setTimeout(function(){return i.process()},1)}}function o(t){return function(){r-=1,t.callback.apply(t,arguments),null!=arguments[0]&&i.error(arguments[0],t.data),r<=i.concurrency-i.buffer&&i.unsaturated(),i.idle()&&i.drain(),i.process()}}return i}var Un={};function kn(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Xn(t,e,r){return e&&kn(t.prototype,e),r&&kn(t,r),t}var jn=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),Gn=null;function Hn(){}var Yn=function(){function t(e,r,i){if("string"!=typeof e||"string"!=typeof r)throw new Error("Both name and url are required for constructing a resource.");i=i||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,0===r.indexOf("data:")),this.name=e,this.url=r,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===i.crossOrigin?"anonymous":i.crossOrigin,this.timeout=i.timeout||0,this.loadType=i.loadType||this._determineLoadType(),this.xhrType=i.xhrType,this.metadata=i.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=Hn,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new Rn,this.onProgress=new Rn,this.onComplete=new Rn,this.onAfterMiddleware=new Rn}t.setExtensionLoadType=function(e,r){zn(t._loadTypeMap,e,r)},t.setExtensionXhrType=function(e,r){zn(t._xhrTypeMap,e,r)};var e=t.prototype;return e.complete=function(){this._clearEvents(),this._finish()},e.abort=function(e){if(!this.error){if(this.error=new Error(e),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},e.load=function(e){var r=this;if(!this.isLoading)if(this.isComplete)e&&setTimeout(function(){return e(r)},1);else switch(e&&this.onComplete.once(e),this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:jn&&this.crossOrigin?this._loadXdr():this._loadXhr()}},e._hasFlag=function(t){return 0!=(this._flags&t)},e._setFlag=function(t,e){this._flags=e?this._flags|t:this._flags&~t},e._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},e._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},e._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===t&&void 0!==window.Image?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},e._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===t&&void 0!==window.Audio?this.data=new Audio:this.data=document.createElement(t),null!==this.data){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=this.metadata.mimeType,r=0;r<this.url.length;++r)this.data.appendChild(this._createSource(t,this.url[r],Array.isArray(e)?e[r]:e));else{var i=this.metadata.mimeType;this.data.appendChild(this._createSource(t,this.url,Array.isArray(i)?i[0]:i))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort("Unsupported element: "+t)},e._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;e.open("GET",this.url,!0),e.timeout=this.timeout,this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=t.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("timeout",this._boundXhrOnTimeout,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},e._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XDomainRequest;t.timeout=this.timeout||5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXhrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout(function(){return t.send()},1)},e._createSource=function(t,e,r){r||(r=t+"/"+this._getExtension(e));var i=document.createElement("source");return i.src=e,i.type=r,i},e._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},e._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},e._onTimeout=function(){this.abort("Load timed out.")},e._xhrOnError=function(){var t=this.xhr;this.abort(Vn(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},e._xhrOnTimeout=function(){var t=this.xhr;this.abort(Vn(t)+" Request timed out.")},e._xhrOnAbort=function(){var t=this.xhr;this.abort(Vn(t)+" Request was aborted by the user.")},e._xhrOnLoad=function(){var e=this.xhr,r="",i=void 0===e.status?200:e.status;if(""!==e.responseType&&"text"!==e.responseType&&void 0!==e.responseType||(r=e.responseText),0===i&&(r.length>0||e.responseType===t.XHR_RESPONSE_TYPE.BUFFER)?i=200:1223===i&&(i=204),2===(i/100|0)){if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=r,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(r),this.type=t.TYPE.JSON}catch(t){return void this.abort("Error trying to parse loaded json: "+t)}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var n=new DOMParser;this.data=n.parseFromString(r,"text/xml")}else{var o=document.createElement("div");o.innerHTML=r,this.data=o}this.type=t.TYPE.XML}catch(t){return void this.abort("Error trying to parse loaded xml: "+t)}else this.data=e.response||r;this.complete()}else this.abort("["+e.status+"] "+e.statusText+": "+e.responseURL)},e._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";if(window.origin!==window.location.origin)return"anonymous";e=e||window.location,Gn||(Gn=document.createElement("a")),Gn.href=t;var r=!(t=Dn(Gn.href,{strictMode:!0})).port&&""===e.port||t.port===e.port,i=t.protocol?t.protocol+":":"";return t.host===e.hostname&&r&&i===e.protocol?"":"anonymous"},e._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},e._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},e._getExtension=function(){var t=this.url,e="";if(this.isDataUrl){var r=t.indexOf("/");e=t.substring(r+1,t.indexOf(";",r))}else{var i=t.indexOf("?"),n=t.indexOf("#"),o=Math.min(i>-1?i:t.length,n>-1?n:t.length);e=(t=t.substring(0,o)).substring(t.lastIndexOf(".")+1)}return e.toLowerCase()},e._getMimeFromXhrType=function(e){switch(e){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},Xn(t,[{key:"isDataUrl",get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)}}]),t}();function zn(t,e,r){e&&0===e.indexOf(".")&&(e=e.substring(1)),e&&(t[e]=r)}function Vn(t){return t.toString().replace("object ","")}Yn.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},Yn.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},Yn.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},Yn.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},Yn._loadTypeMap={gif:Yn.LOAD_TYPE.IMAGE,png:Yn.LOAD_TYPE.IMAGE,bmp:Yn.LOAD_TYPE.IMAGE,jpg:Yn.LOAD_TYPE.IMAGE,jpeg:Yn.LOAD_TYPE.IMAGE,tif:Yn.LOAD_TYPE.IMAGE,tiff:Yn.LOAD_TYPE.IMAGE,webp:Yn.LOAD_TYPE.IMAGE,tga:Yn.LOAD_TYPE.IMAGE,svg:Yn.LOAD_TYPE.IMAGE,"svg+xml":Yn.LOAD_TYPE.IMAGE,mp3:Yn.LOAD_TYPE.AUDIO,ogg:Yn.LOAD_TYPE.AUDIO,wav:Yn.LOAD_TYPE.AUDIO,mp4:Yn.LOAD_TYPE.VIDEO,webm:Yn.LOAD_TYPE.VIDEO},Yn._xhrTypeMap={xhtml:Yn.XHR_RESPONSE_TYPE.DOCUMENT,html:Yn.XHR_RESPONSE_TYPE.DOCUMENT,htm:Yn.XHR_RESPONSE_TYPE.DOCUMENT,xml:Yn.XHR_RESPONSE_TYPE.DOCUMENT,tmx:Yn.XHR_RESPONSE_TYPE.DOCUMENT,svg:Yn.XHR_RESPONSE_TYPE.DOCUMENT,tsx:Yn.XHR_RESPONSE_TYPE.DOCUMENT,gif:Yn.XHR_RESPONSE_TYPE.BLOB,png:Yn.XHR_RESPONSE_TYPE.BLOB,bmp:Yn.XHR_RESPONSE_TYPE.BLOB,jpg:Yn.XHR_RESPONSE_TYPE.BLOB,jpeg:Yn.XHR_RESPONSE_TYPE.BLOB,tif:Yn.XHR_RESPONSE_TYPE.BLOB,tiff:Yn.XHR_RESPONSE_TYPE.BLOB,webp:Yn.XHR_RESPONSE_TYPE.BLOB,tga:Yn.XHR_RESPONSE_TYPE.BLOB,json:Yn.XHR_RESPONSE_TYPE.JSON,text:Yn.XHR_RESPONSE_TYPE.TEXT,txt:Yn.XHR_RESPONSE_TYPE.TEXT,ttf:Yn.XHR_RESPONSE_TYPE.BUFFER,otf:Yn.XHR_RESPONSE_TYPE.BUFFER},Yn.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";var Wn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var qn=window.URL||window.webkitURL;var Kn={caching:function(t,e){var r=this;Un[t.url]?(t.data=Un[t.url],t.complete()):t.onComplete.once(function(){return Un[r.url]=r.data}),e()},parsing:function(t,e){if(t.data){if(t.xhr&&t.xhrType===Yn.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof t.data){if(0===t.data.type.indexOf("image")){var r=qn.createObjectURL(t.data);return t.blob=t.data,t.data=new Image,t.data.src=r,t.type=Yn.TYPE.IMAGE,void(t.data.onload=function(){qn.revokeObjectURL(r),t.data.onload=null,e()})}}else{var i=t.xhr.getResponseHeader("content-type");if(i&&0===i.indexOf("image"))return t.data=new Image,t.data.src="data:"+i+";base64,"+function(t){for(var e="",r=0;r<t.length;){for(var i=[0,0,0],n=[0,0,0,0],o=0;o<i.length;++o)r<t.length?i[o]=255&t.charCodeAt(r++):i[o]=0;switch(n[0]=i[0]>>2,n[1]=(3&i[0])<<4|i[1]>>4,n[2]=(15&i[1])<<2|i[2]>>6,n[3]=63&i[2],r-(t.length-1)){case 2:n[3]=64,n[2]=64;break;case 1:n[3]=64}for(var s=0;s<n.length;++s)e+=Wn.charAt(n[s])}return e}(t.xhr.responseText),t.type=Yn.TYPE.IMAGE,void(t.data.onload=function(){t.data.onload=null,e()})}e()}else e()}},Zn=/(#[\w-]+)?$/,Jn=function(){function t(e,r){var i=this;void 0===e&&(e=""),void 0===r&&(r=10),this.baseUrl=e,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(t,e){return i._loadResource(t,e)},this._queue=Bn(this._boundLoadResource,r),this._queue.pause(),this.resources={},this.onProgress=new Rn,this.onError=new Rn,this.onLoad=new Rn,this.onStart=new Rn,this.onComplete=new Rn;for(var n=0;n<t._defaultBeforeMiddleware.length;++n)this.pre(t._defaultBeforeMiddleware[n]);for(var o=0;o<t._defaultAfterMiddleware.length;++o)this.use(t._defaultAfterMiddleware[o])}var e=t.prototype;return e.add=function(t,e,r,i){if(Array.isArray(t)){for(var n=0;n<t.length;++n)this.add(t[n]);return this}if("object"==typeof t&&(i=e||t.callback||t.onComplete,r=t,e=t.url,t=t.name||t.key||t.url),"string"!=typeof e&&(i=r,r=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");if("function"==typeof r&&(i=r,r=null),this.loading&&(!r||!r.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[t])throw new Error('Resource named "'+t+'" already exists.');if(e=this._prepareUrl(e),this.resources[t]=new Yn(t,e,r),"function"==typeof i&&this.resources[t].onAfterMiddleware.once(i),this.loading){for(var o=r.parentResource,s=[],a=0;a<o.children.length;++a)o.children[a].isComplete||s.push(o.children[a]);var h=o.progressChunk*(s.length+1)/(s.length+2);o.children.push(this.resources[t]),o.progressChunk=h;for(var u=0;u<s.length;++u)s[u].progressChunk=h;this.resources[t].progressChunk=h}return this._queue.push(this.resources[t]),this},e.pre=function(t){return this._beforeMiddleware.push(t),this},e.use=function(t){return this._afterMiddleware.push(t),this},e.reset=function(){for(var t in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var e=this.resources[t];e._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort()}return this.resources={},this},e.load=function(t){if("function"==typeof t&&this.onComplete.once(t),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var e=100/this._queue._tasks.length,r=0;r<this._queue._tasks.length;++r)this._queue._tasks[r].data.progressChunk=e;this._onStart(),this._queue.resume()}return this},e._prepareUrl=function(t){var e,r=Dn(t,{strictMode:!0});if(e=r.protocol||!r.path||0===t.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==t.charAt(0)?this.baseUrl+"/"+t:this.baseUrl+t,this.defaultQueryString){var i=Zn.exec(e)[0];-1!==(e=e.substr(0,e.length-i.length)).indexOf("?")?e+="&"+this.defaultQueryString:e+="?"+this.defaultQueryString,e+=i}return e},e._loadResource=function(t,e){var r=this;t._dequeue=e,Nn(this._beforeMiddleware,function(e,i){e.call(r,t,function(){i(t.isComplete?{}:null)})},function(){t.isComplete?r._onLoad(t):(t._onLoadBinding=t.onComplete.once(r._onLoad,r),t.load())},!0)},e._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},e._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},e._onLoad=function(t){var e=this;t._onLoadBinding=null,this._resourcesParsing.push(t),t._dequeue(),Nn(this._afterMiddleware,function(r,i){r.call(e,t,i)},function(){t.onAfterMiddleware.dispatch(t),e.progress=Math.min(100,e.progress+t.progressChunk),e.onProgress.dispatch(e,t),t.error?e.onError.dispatch(t.error,e,t):e.onLoad.dispatch(e,t),e._resourcesParsing.splice(e._resourcesParsing.indexOf(t),1),e._queue.idle()&&0===e._resourcesParsing.length&&e._onComplete()},!0)},Xn(t,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(t){this._queue.concurrency=t}}]),t}();Jn._defaultBeforeMiddleware=[],Jn._defaultAfterMiddleware=[],Jn.pre=function(t){return Jn._defaultBeforeMiddleware.push(t),Jn},Jn.use=function(t){return Jn._defaultAfterMiddleware.push(t),Jn};var Qn=Yn,$n=function(t,e){return($n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};var to=function(){function t(){}return t.use=function(t,e){t.data&&t.type===Yn.TYPE.IMAGE&&(t.texture=Rr.fromLoader(t.data,t.url,t.name)),e()},t}(),eo=function(t){function e(r,i){for(var n=t.call(this,r,i)||this,o=0;o<e._plugins.length;++o){var s=e._plugins[o],a=s.pre,h=s.use;a&&n.pre(a),h&&n.use(h)}return n._protected=!1,n}return function(t,e){function r(){this.constructor=t}$n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(e,"shared",{get:function(){var t=e._shared;return t||((t=new e)._protected=!0,e._shared=t),t},enumerable:!1,configurable:!0}),e.registerPlugin=function(t){return e._plugins.push(t),t.add&&t.add(),e},e._plugins=[],e}(Jn);eo.registerPlugin({use:Kn.parsing}),eo.registerPlugin(to);var ro=function(){function t(){}return t.init=function(t){t=Object.assign({sharedLoader:!1},t),this.loader=t.sharedLoader?eo.shared:new eo},t.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},t}(),io=function(t,e){return(io=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function no(t,e){function r(){this.constructor=t}io(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var oo,so,ao=function(e){function r(r,i,n,o){void 0===r&&(r=1500),void 0===n&&(n=16384),void 0===o&&(o=!1);var s=e.call(this)||this;return n>16384&&(n=16384),s._properties=[!1,!0,!1,!1,!1],s._maxSize=r,s._batchSize=n,s._buffers=null,s._bufferUpdateIDs=[],s._updateID=0,s.interactiveChildren=!1,s.blendMode=t.BLEND_MODES.NORMAL,s.autoResize=o,s.roundPixels=!0,s.baseTexture=null,s.setProperties(i),s._tint=0,s.tintRgb=new Float32Array(4),s.tint=16777215,s}return no(r,e),r.prototype.setProperties=function(t){t&&(this._properties[0]="vertices"in t||"scale"in t?!!t.vertices||!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="tint"in t||"alpha"in t?!!t.tint||!!t.alpha:this._properties[4])},r.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(r.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t,kt(t,this.tintRgb)},enumerable:!1,configurable:!0}),r.prototype.render=function(t){var e=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",function(){return e.onChildrenChange(0)})),t.batch.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},r.prototype.onChildrenChange=function(t){for(var e=Math.floor(t/this._batchSize);this._bufferUpdateIDs.length<e;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[e]=++this._updateID},r.prototype.dispose=function(){if(this._buffers){for(var t=0;t<this._buffers.length;++t)this._buffers[t].destroy();this._buffers=null}},r.prototype.destroy=function(t){e.prototype.destroy.call(this,t),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},r}(Ge),ho=function(){function e(e,r,i){this.geometry=new zr,this.indexBuffer=null,this.size=i,this.dynamicProperties=[],this.staticProperties=[];for(var n=0;n<e.length;++n){var o=e[n];o={attributeName:o.attributeName,size:o.size,uploadFunction:o.uploadFunction,type:o.type||t.TYPES.FLOAT,offset:o.offset},r[n]?this.dynamicProperties.push(o):this.staticProperties.push(o)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return e.prototype.initBuffers=function(){var e=this.geometry,r=0;this.indexBuffer=new kr(Wt(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(var i=0;i<this.dynamicProperties.length;++i){(a=this.dynamicProperties[i]).offset=r,r+=a.size,this.dynamicStride+=a.size}var n=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=new kr(this.dynamicData,!1,!1);var o=0;this.staticStride=0;for(i=0;i<this.staticProperties.length;++i){(a=this.staticProperties[i]).offset=o,o+=a.size,this.staticStride+=a.size}var s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new kr(this.staticData,!0,!1);for(i=0;i<this.dynamicProperties.length;++i){var a=this.dynamicProperties[i];e.addAttribute(a.attributeName,this.dynamicBuffer,0,a.type===t.TYPES.UNSIGNED_BYTE,a.type,4*this.dynamicStride,4*a.offset)}for(i=0;i<this.staticProperties.length;++i){a=this.staticProperties[i];e.addAttribute(a.attributeName,this.staticBuffer,0,a.type===t.TYPES.UNSIGNED_BYTE,a.type,4*this.staticStride,4*a.offset)}},e.prototype.uploadDynamic=function(e,r,i){for(var n=0;n<this.dynamicProperties.length;n++){var o=this.dynamicProperties[n];o.uploadFunction(e,r,i,o.type===t.TYPES.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,o.offset)}this.dynamicBuffer._updateID++},e.prototype.uploadStatic=function(e,r,i){for(var n=0;n<this.staticProperties.length;n++){var o=this.staticProperties[n];o.uploadFunction(e,r,i,o.type===t.TYPES.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,o.offset)}this.staticBuffer._updateID++},e.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},e}(),uo="varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",lo="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n",co=function(e){function r(r){var i=e.call(this,r)||this;return i.shader=null,i.properties=null,i.tempMatrix=new we,i.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:i.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:i.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:i.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:i.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:t.TYPES.UNSIGNED_BYTE,uploadFunction:i.uploadTint,offset:0}],i.shader=Ri.from(lo,uo,{}),i.state=Li.for2d(),i}return no(r,e),r.prototype.render=function(t){var e=t.children,r=t._maxSize,i=t._batchSize,n=this.renderer,o=e.length;if(0!==o){o>r&&!t.autoResize&&(o=r);var s=t._buffers;s||(s=t._buffers=this.generateBuffers(t));var a=e[0]._texture.baseTexture;this.state.blendMode=Ht(t.blendMode,a.alphaMode),n.state.set(this.state);var h=n.gl,u=t.worldTransform.copyTo(this.tempMatrix);u.prepend(n.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=u.toArray(!0),this.shader.uniforms.uColor=Yt(t.tintRgb,t.worldAlpha,this.shader.uniforms.uColor,a.alphaMode),this.shader.uniforms.uSampler=a,this.renderer.shader.bind(this.shader);for(var l=!1,c=0,d=0;c<o;c+=i,d+=1){var p=o-c;p>i&&(p=i),d>=s.length&&s.push(this._generateOneMoreBuffer(t));var f=s[d];f.uploadDynamic(e,c,p);var m=t._bufferUpdateIDs[d]||0;(l=l||f._updateID<m)&&(f._updateID=t._updateID,f.uploadStatic(e,c,p)),n.geometry.bind(f.geometry),h.drawElements(h.TRIANGLES,6*p,h.UNSIGNED_SHORT,0)}}},r.prototype.generateBuffers=function(t){for(var e=[],r=t._maxSize,i=t._batchSize,n=t._properties,o=0;o<r;o+=i)e.push(new ho(this.properties,n,i));return e},r.prototype._generateOneMoreBuffer=function(t){var e=t._batchSize,r=t._properties;return new ho(this.properties,r,e)},r.prototype.uploadVertices=function(t,e,r,i,n,o){for(var s=0,a=0,h=0,u=0,l=0;l<r;++l){var c=t[e+l],d=c._texture,p=c.scale.x,f=c.scale.y,m=d.trim,v=d.orig;m?(s=(a=m.x-c.anchor.x*v.width)+m.width,h=(u=m.y-c.anchor.y*v.height)+m.height):(s=v.width*(1-c.anchor.x),a=v.width*-c.anchor.x,h=v.height*(1-c.anchor.y),u=v.height*-c.anchor.y),i[o]=a*p,i[o+1]=u*f,i[o+n]=s*p,i[o+n+1]=u*f,i[o+2*n]=s*p,i[o+2*n+1]=h*f,i[o+3*n]=a*p,i[o+3*n+1]=h*f,o+=4*n}},r.prototype.uploadPosition=function(t,e,r,i,n,o){for(var s=0;s<r;s++){var a=t[e+s].position;i[o]=a.x,i[o+1]=a.y,i[o+n]=a.x,i[o+n+1]=a.y,i[o+2*n]=a.x,i[o+2*n+1]=a.y,i[o+3*n]=a.x,i[o+3*n+1]=a.y,o+=4*n}},r.prototype.uploadRotation=function(t,e,r,i,n,o){for(var s=0;s<r;s++){var a=t[e+s].rotation;i[o]=a,i[o+n]=a,i[o+2*n]=a,i[o+3*n]=a,o+=4*n}},r.prototype.uploadUvs=function(t,e,r,i,n,o){for(var s=0;s<r;++s){var a=t[e+s]._texture._uvs;a?(i[o]=a.x0,i[o+1]=a.y0,i[o+n]=a.x1,i[o+n+1]=a.y1,i[o+2*n]=a.x2,i[o+2*n+1]=a.y2,i[o+3*n]=a.x3,i[o+3*n+1]=a.y3,o+=4*n):(i[o]=0,i[o+1]=0,i[o+n]=0,i[o+n+1]=0,i[o+2*n]=0,i[o+2*n+1]=0,i[o+3*n]=0,i[o+3*n+1]=0,o+=4*n)}},r.prototype.uploadTint=function(t,e,r,i,n,o){for(var s=0;s<r;++s){var a=t[e+s],h=a._texture.baseTexture.alphaMode>0,u=a.alpha,l=u<1&&h?zt(a._tintRGB,u):a._tintRGB+(255*u<<24);i[o]=l,i[o+n]=l,i[o+2*n]=l,i[o+3*n]=l,o+=4*n}},r.prototype.destroy=function(){e.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},r}(Qr);(oo=t.LINE_JOIN||(t.LINE_JOIN={})).MITER="miter",oo.BEVEL="bevel",oo.ROUND="round",(so=t.LINE_CAP||(t.LINE_CAP={})).BUTT="butt",so.ROUND="round",so.SQUARE="square";var po={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(t,e){if(void 0===e&&(e=20),!this.adaptive||!t||isNaN(t))return e;var r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}},fo=function(){function t(){this.color=16777215,this.alpha=1,this.texture=Rr.WHITE,this.matrix=null,this.visible=!1,this.reset()}return t.prototype.clone=function(){var e=new t;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e},t.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=Rr.WHITE,this.matrix=null,this.visible=!1},t.prototype.destroy=function(){this.texture=null,this.matrix=null},t}(),mo=function(t,e){return(mo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function vo(t,e){function r(){this.constructor=t}mo(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var yo={build:function(t){t.points=t.shape.points.slice()},triangulate:function(t,e){var r=t.points,i=t.holes,n=e.points,o=e.indices;if(r.length>=6){for(var s=[],a=0;a<i.length;a++){var h=i[a];s.push(r.length/2),r=r.concat(h.points)}var u=R(r,s,2);if(!u)return;var l=n.length/2;for(a=0;a<u.length;a+=3)o.push(u[a]+l),o.push(u[a+1]+l),o.push(u[a+2]+l);for(a=0;a<r.length;a++)n.push(r[a])}}},go={build:function(e){var r,i,n=e.shape,o=e.points,s=n.x,a=n.y;if(o.length=0,e.type===t.SHAPES.CIRC)r=n.radius,i=n.radius;else{var h=e.shape;r=h.width,i=h.height}if(0!==r&&0!==i){var u=Math.floor(30*Math.sqrt(n.radius))||Math.floor(15*Math.sqrt(r+i));u/=2.3;for(var l=2*Math.PI/u,c=0;c<u-.5;c++)o.push(s+Math.sin(-l*c)*r,a+Math.cos(-l*c)*i);o.push(o[0],o[1])}},triangulate:function(t,e){var r=t.points,i=e.points,n=e.indices,o=i.length/2,s=o,a=t.shape,h=t.matrix,u=a.x,l=a.y;i.push(t.matrix?h.a*u+h.c*l+h.tx:u,t.matrix?h.b*u+h.d*l+h.ty:l);for(var c=0;c<r.length;c+=2)i.push(r[c],r[c+1]),n.push(o++,s,o)}},_o={build:function(t){var e=t.shape,r=e.x,i=e.y,n=e.width,o=e.height,s=t.points;s.length=0,s.push(r,i,r+n,i,r+n,i+o,r,i+o)},triangulate:function(t,e){var r=t.points,i=e.points,n=i.length/2;i.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(n,n+1,n+2,n+1,n+2,n+3)}};function xo(t,e,r){return t+(e-t)*r}function bo(t,e,r,i,n,o,s){void 0===s&&(s=[]);for(var a=s,h=0,u=0,l=0,c=0,d=0,p=0,f=0,m=0;f<=20;++f)h=xo(t,r,m=f/20),u=xo(e,i,m),l=xo(r,n,m),c=xo(i,o,m),d=xo(h,l,m),p=xo(u,c,m),a.push(d,p);return a}var Eo={build:function(t){var e=t.shape,r=t.points,i=e.x,n=e.y,o=e.width,s=e.height,a=Math.max(0,Math.min(e.radius,Math.min(o,s)/2));r.length=0,a?(bo(i,n+a,i,n,i+a,n,r),bo(i+o-a,n,i+o,n,i+o,n+a,r),bo(i+o,n+s-a,i+o,n+s,i+o-a,n+s,r),bo(i+a,n+s,i,n+s,i,n+s-a,r)):r.push(i,n,i+o,n,i+o,n+s,i,n+s)},triangulate:function(t,e){for(var r=t.points,i=e.points,n=e.indices,o=i.length/2,s=R(r,null,2),a=0,h=s.length;a<h;a+=3)n.push(s[a]+o),n.push(s[a+1]+o),n.push(s[a+2]+o);for(a=0,h=r.length;a<h;a++)i.push(r[a],r[++a])}};function To(t,e,r,i,n,o,s,a){var h,u;s?(h=i,u=-r):(h=-i,u=r);var l=t-r*n+h,c=e-i*n+u,d=t+r*o+h,p=e+i*o+u;return a.push(l,c),a.push(d,p),2}function Po(t,e,r,i,n,o,s,a){var h=r-t,u=i-e,l=Math.atan2(h,u),c=Math.atan2(n-t,o-e);a&&l<c?l+=2*Math.PI:!a&&l>c&&(c+=2*Math.PI);var d=l,p=c-l,f=Math.abs(p),m=Math.sqrt(h*h+u*u),v=1+(15*f*Math.sqrt(m)/Math.PI>>0),y=p/v;if(d+=y,a){s.push(t,e),s.push(r,i);for(var g=1,_=d;g<v;g++,_+=y)s.push(t,e),s.push(t+Math.sin(_)*m,e+Math.cos(_)*m);s.push(t,e),s.push(n,o)}else{s.push(r,i),s.push(t,e);for(g=1,_=d;g<v;g++,_+=y)s.push(t+Math.sin(_)*m,e+Math.cos(_)*m),s.push(t,e);s.push(n,o),s.push(t,e)}return 2*v}function So(e,r){e.lineStyle.native?function(e,r){var i=0,n=e.shape,o=e.points||n.points,s=n.type!==t.SHAPES.POLY||n.closeStroke;if(0!==o.length){var a=r.points,h=r.indices,u=o.length/2,l=a.length/2,c=l;for(a.push(o[0],o[1]),i=1;i<u;i++)a.push(o[2*i],o[2*i+1]),h.push(c,c+1),c++;s&&h.push(c,l)}}(e,r):function(e,r){var i=e.shape,n=e.points||i.points.slice(),o=r.closePointEps;if(0!==n.length){var s=e.lineStyle,a=new Pe(n[0],n[1]),h=new Pe(n[n.length-2],n[n.length-1]),u=i.type!==t.SHAPES.POLY||i.closeStroke,l=Math.abs(a.x-h.x)<o&&Math.abs(a.y-h.y)<o;if(u){n=n.slice(),l&&(n.pop(),n.pop(),h.set(n[n.length-2],n[n.length-1]));var c=.5*(a.x+h.x),d=.5*(h.y+a.y);n.unshift(c,d),n.push(c,d)}var p=r.points,f=n.length/2,m=n.length,v=p.length/2,y=s.width/2,g=y*y,_=s.miterLimit*s.miterLimit,x=n[0],b=n[1],E=n[2],T=n[3],P=0,S=0,w=-(b-T),I=x-E,A=0,O=0,M=Math.sqrt(w*w+I*I);w/=M,I/=M,w*=y,I*=y;var C=s.alignment,D=2*(1-C),R=2*C;u||(s.cap===t.LINE_CAP.ROUND?m+=Po(x-w*(D-R)*.5,b-I*(D-R)*.5,x-w*D,b-I*D,x+w*R,b+I*R,p,!0)+2:s.cap===t.LINE_CAP.SQUARE&&(m+=To(x,b,w,I,D,R,!0,p))),p.push(x-w*D,b-I*D),p.push(x+w*R,b+I*R);for(var L=1;L<f-1;++L){x=n[2*(L-1)],b=n[2*(L-1)+1],E=n[2*L],T=n[2*L+1],P=n[2*(L+1)],S=n[2*(L+1)+1],w=-(b-T),I=x-E,w/=M=Math.sqrt(w*w+I*I),I/=M,w*=y,I*=y,A=-(T-S),O=E-P,A/=M=Math.sqrt(A*A+O*O),O/=M,A*=y,O*=y;var N=E-x,F=b-T,B=E-P,U=S-T,k=F*B-U*N,X=k<0;if(Math.abs(k)<.1)p.push(E-w*D,T-I*D),p.push(E+w*R,T+I*R);else{var j=(-w+x)*(-I+T)-(-w+E)*(-I+b),G=(-A+P)*(-O+T)-(-A+E)*(-O+S),H=(N*G-B*j)/k,Y=(U*j-F*G)/k,z=(H-E)*(H-E)+(Y-T)*(Y-T),V=E+(H-E)*D,W=T+(Y-T)*D,q=E-(H-E)*R,K=T-(Y-T)*R,Z=X?D:R;z<=Math.min(N*N+F*F,B*B+U*U)+Z*Z*g?s.join===t.LINE_JOIN.BEVEL||z/g>_?(X?(p.push(V,W),p.push(E+w*R,T+I*R),p.push(V,W),p.push(E+A*R,T+O*R)):(p.push(E-w*D,T-I*D),p.push(q,K),p.push(E-A*D,T-O*D),p.push(q,K)),m+=2):s.join===t.LINE_JOIN.ROUND?X?(p.push(V,W),p.push(E+w*R,T+I*R),m+=Po(E,T,E+w*R,T+I*R,E+A*R,T+O*R,p,!0)+4,p.push(V,W),p.push(E+A*R,T+O*R)):(p.push(E-w*D,T-I*D),p.push(q,K),m+=Po(E,T,E-w*D,T-I*D,E-A*D,T-O*D,p,!1)+4,p.push(E-A*D,T-O*D),p.push(q,K)):(p.push(V,W),p.push(q,K)):(p.push(E-w*D,T-I*D),p.push(E+w*R,T+I*R),s.join===t.LINE_JOIN.BEVEL||z/g>_||(s.join===t.LINE_JOIN.ROUND?m+=X?Po(E,T,E+w*R,T+I*R,E+A*R,T+O*R,p,!0)+2:Po(E,T,E-w*D,T-I*D,E-A*D,T-O*D,p,!1)+2:(X?(p.push(q,K),p.push(q,K)):(p.push(V,W),p.push(V,W)),m+=2)),p.push(E-A*D,T-O*D),p.push(E+A*R,T+O*R),m+=2)}}x=n[2*(f-2)],b=n[2*(f-2)+1],E=n[2*(f-1)],w=-(b-(T=n[2*(f-1)+1])),I=x-E,w/=M=Math.sqrt(w*w+I*I),I/=M,w*=y,I*=y,p.push(E-w*D,T-I*D),p.push(E+w*R,T+I*R),u||(s.cap===t.LINE_CAP.ROUND?m+=Po(E-w*(D-R)*.5,T-I*(D-R)*.5,E-w*D,T-I*D,E+w*R,T+I*R,p,!1)+2:s.cap===t.LINE_CAP.SQUARE&&(m+=To(E,T,w,I,D,R,!1,p)));var J=r.indices,Q=po.epsilon*po.epsilon;for(L=v;L<m+v-2;++L)x=p[2*L],b=p[2*L+1],E=p[2*(L+1)],T=p[2*(L+1)+1],P=p[2*(L+2)],S=p[2*(L+2)+1],Math.abs(x*(T-S)+E*(S-b)+P*(b-T))<Q||J.push(L,L+1,L+2)}}(e,r)}var wo,Io=function(t){function e(e,r,i,n,o,s){void 0===s&&(s=0);o=o||n/2;for(var a=-1*Math.PI/2+s,h=2*i,u=ve/h,l=[],c=0;c<h;c++){var d=c%2?o:n,p=c*u+a;l.push(e+d*Math.cos(p),r+d*Math.sin(p))}return t.call(this,l)||this}return vo(e,t),e}(Ee),Ao=function(){function t(){}return t.curveTo=function(t,e,r,i,n,o){var s=o[o.length-2],a=o[o.length-1]-e,h=s-t,u=i-e,l=r-t,c=Math.abs(a*l-h*u);if(c<1e-8||0===n)return o[o.length-2]===t&&o[o.length-1]===e||o.push(t,e),null;var d=a*a+h*h,p=u*u+l*l,f=a*u+h*l,m=n*Math.sqrt(d)/c,v=n*Math.sqrt(p)/c,y=m*f/d,g=v*f/p,_=m*l+v*h,x=m*u+v*a,b=h*(v+y),E=a*(v+y),T=l*(m+g),P=u*(m+g);return{cx:_+t,cy:x+e,radius:n,startAngle:Math.atan2(E-x,b-_),endAngle:Math.atan2(P-x,T-_),anticlockwise:h*u>l*a}},t.arc=function(t,e,r,i,n,o,s,a,h){for(var u=s-o,l=po._segmentsCount(Math.abs(u)*n,40*Math.ceil(Math.abs(u)/ve)),c=u/(2*l),d=2*c,p=Math.cos(c),f=Math.sin(c),m=l-1,v=m%1/m,y=0;y<=m;++y){var g=c+o+d*(y+v*y),_=Math.cos(g),x=-Math.sin(g);h.push((p*_+f*x)*n+r,(p*-x+f*_)*n+i)}},t}(),Oo=function(){function t(){}return t.curveLength=function(t,e,r,i,n,o,s,a){for(var h=0,u=0,l=0,c=0,d=0,p=0,f=0,m=0,v=0,y=0,g=0,_=t,x=e,b=1;b<=10;++b)y=_-(m=(f=(p=(d=1-(u=b/10))*d)*d)*t+3*p*u*r+3*d*(l=u*u)*n+(c=l*u)*s),g=x-(v=f*e+3*p*u*i+3*d*l*o+c*a),_=m,x=v,h+=Math.sqrt(y*y+g*g);return h},t.curveTo=function(e,r,i,n,o,s,a){var h=a[a.length-2],u=a[a.length-1];a.length-=2;var l=po._segmentsCount(t.curveLength(h,u,e,r,i,n,o,s)),c=0,d=0,p=0,f=0,m=0;a.push(h,u);for(var v=1,y=0;v<=l;++v)p=(d=(c=1-(y=v/l))*c)*c,m=(f=y*y)*y,a.push(p*h+3*d*y*e+3*c*f*i+m*o,p*u+3*d*y*r+3*c*f*n+m*s)},t}(),Mo=function(){function t(){}return t.curveLength=function(t,e,r,i,n,o){var s=t-2*r+n,a=e-2*i+o,h=2*r-2*t,u=2*i-2*e,l=4*(s*s+a*a),c=4*(s*h+a*u),d=h*h+u*u,p=2*Math.sqrt(l+c+d),f=Math.sqrt(l),m=2*l*f,v=2*Math.sqrt(d),y=c/f;return(m*p+f*c*(p-v)+(4*d*l-c*c)*Math.log((2*f+y+p)/(y+v)))/(4*m)},t.curveTo=function(e,r,i,n,o){for(var s=o[o.length-2],a=o[o.length-1],h=po._segmentsCount(t.curveLength(s,a,e,r,i,n)),u=0,l=0,c=1;c<=h;++c){var d=c/h;u=s+(e-s)*d,l=a+(r-a)*d,o.push(u+(e+(i-e)*d-u)*d,l+(r+(n-r)*d-l)*d)}},t}(),Co=function(){function t(){this.reset()}return t.prototype.begin=function(t,e,r){this.reset(),this.style=t,this.start=e,this.attribStart=r},t.prototype.end=function(t,e){this.attribSize=e-this.attribStart,this.size=t-this.start},t.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},t}(),Do=((wo={})[t.SHAPES.POLY]=yo,wo[t.SHAPES.CIRC]=go,wo[t.SHAPES.ELIP]=go,wo[t.SHAPES.RECT]=_o,wo[t.SHAPES.RREC]=Eo,wo),Ro=[],Lo=[],No={buildPoly:yo,buildCircle:go,buildRectangle:_o,buildRoundedRectangle:Eo,FILL_COMMANDS:Do,BATCH_POOL:Ro,DRAW_CALL_POOL:Lo,buildLine:So,Star:Io,ArcUtils:Ao,BezierUtils:Oo,QuadraticUtils:Mo,BatchPart:Co},Fo=function(){function t(t,e,r,i){void 0===e&&(e=null),void 0===r&&(r=null),void 0===i&&(i=null),this.shape=t,this.lineStyle=r,this.fillStyle=e,this.matrix=i,this.type=t.type,this.points=[],this.holes=[]}return t.prototype.clone=function(){return new t(this.shape,this.fillStyle,this.lineStyle,this.matrix)},t.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},t}(),Bo=new Pe,Uo=new Fe,ko=function(e){function r(){var t=e.call(this)||this;return t.uvsFloat32=null,t.indicesUint16=null,t.points=[],t.colors=[],t.uvs=[],t.indices=[],t.textureIds=[],t.graphicsData=[],t.dirty=0,t.batchDirty=-1,t.cacheDirty=-1,t.clearDirty=0,t.drawCalls=[],t.batches=[],t.shapeIndex=0,t._bounds=new Fe,t.boundsDirty=-1,t.boundsPadding=0,t.batchable=!1,t.indicesUint16=null,t.uvsFloat32=null,t.closePointEps=1e-4,t}return vo(r,e),Object.defineProperty(r.prototype,"bounds",{get:function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),r.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),Lo.push(this.drawCalls[t]);this.drawCalls.length=0;for(t=0;t<this.batches.length;t++){var e=this.batches[t];e.reset(),Ro.push(e)}this.batches.length=0},r.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},r.prototype.drawShape=function(t,e,r,i){void 0===e&&(e=null),void 0===r&&(r=null),void 0===i&&(i=null);var n=new Fo(t,e,r,i);return this.graphicsData.push(n),this.dirty++,this},r.prototype.drawHole=function(t,e){if(void 0===e&&(e=null),!this.graphicsData.length)return null;var r=new Fo(t,null,null,e),i=this.graphicsData[this.graphicsData.length-1];return r.lineStyle=i.lineStyle,i.holes.push(r),this.dirty++,this},r.prototype.destroy=function(){e.prototype.destroy.call(this);for(var t=0;t<this.graphicsData.length;++t)this.graphicsData[t].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},r.prototype.containsPoint=function(t){for(var e=this.graphicsData,r=0;r<e.length;++r){var i=e[r];if(i.fillStyle.visible&&(i.shape&&(i.matrix?i.matrix.applyInverse(t,Bo):Bo.copyFrom(t),i.shape.contains(Bo.x,Bo.y)))){var n=!1;if(i.holes)for(var o=0;o<i.holes.length;o++){if(i.holes[o].shape.contains(Bo.x,Bo.y)){n=!0;break}}if(!n)return!0}}return!1},r.prototype.updateBatches=function(e){if(this.graphicsData.length){if(this.validateBatching()){this.cacheDirty=this.dirty;var r=this.uvs,i=this.graphicsData,n=null,o=null;this.batches.length>0&&(o=(n=this.batches[this.batches.length-1]).style);for(var s=this.shapeIndex;s<i.length;s++){this.shapeIndex++;var a=i[s],h=a.fillStyle,u=a.lineStyle;Do[a.type].build(a),a.matrix&&this.transformPoints(a.points,a.matrix);for(var l=0;l<2;l++){var c=0===l?h:u;if(c.visible){var d=c.texture.baseTexture,p=this.indices.length,f=this.points.length/2;d.wrapMode=t.WRAP_MODES.REPEAT,0===l?this.processFill(a):this.processLine(a);var m=this.points.length/2-f;0!==m&&(n&&!this._compareStyles(o,c)&&(n.end(p,f),n=null),n||((n=Ro.pop()||new Co).begin(c,p,f),this.batches.push(n),o=c),this.addUvs(this.points,r,c.texture,f,m,c.matrix))}}}var v=this.indices.length,y=this.points.length/2;if(n&&n.end(v,y),0!==this.batches.length){if(this.indicesUint16&&this.indices.length===this.indicesUint16.length)this.indicesUint16.set(this.indices);else{var g=y>65535&&e;this.indicesUint16=g?new Uint32Array(this.indices):new Uint16Array(this.indices)}this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}else this.batchable=!0}}else this.batchable=!0},r.prototype._compareStyles=function(t,e){return!(!t||!e)&&(t.texture.baseTexture===e.texture.baseTexture&&(t.color+t.alpha===e.color+e.alpha&&!!t.native==!!e.native))},r.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var t=0,e=this.graphicsData.length;t<e;t++){var r=this.graphicsData[t],i=r.fillStyle,n=r.lineStyle;if(i&&!i.texture.baseTexture.valid)return!1;if(n&&!n.texture.baseTexture.valid)return!1}return!0},r.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var t=this.batches,e=0,r=t.length;e<r;e++)for(var i=t[e],n=0;n<i.size;n++){var o=i.start+n;this.indicesUint16[o]=this.indicesUint16[o]-i.attribStart}},r.prototype.isBatchable=function(){if(this.points.length>131070)return!1;for(var t=this.batches,e=0;e<t.length;e++)if(t[e].style.native)return!1;return this.points.length<2*r.BATCHABLE_SIZE},r.prototype.buildDrawCalls=function(){for(var e=++vr._globalBatch,r=0;r<this.drawCalls.length;r++)this.drawCalls[r].texArray.clear(),Lo.push(this.drawCalls[r]);this.drawCalls.length=0;var i=this.colors,n=this.textureIds,o=Lo.pop();o||((o=new gn).texArray=new _n),o.texArray.count=0,o.start=0,o.size=0,o.type=t.DRAW_MODES.TRIANGLES;var s=0,a=null,h=0,u=!1,l=t.DRAW_MODES.TRIANGLES,c=0;this.drawCalls.push(o);for(r=0;r<this.batches.length;r++){var d=this.batches[r],p=d.style,f=p.texture.baseTexture;u!==!!p.native&&(l=(u=!!p.native)?t.DRAW_MODES.LINES:t.DRAW_MODES.TRIANGLES,a=null,s=8,e++),a!==f&&(a=f,f._batchEnabled!==e&&(8===s&&(e++,s=0,o.size>0&&((o=Lo.pop())||((o=new gn).texArray=new _n),this.drawCalls.push(o)),o.start=c,o.size=0,o.texArray.count=0,o.type=l),f.touched=1,f._batchEnabled=e,f._batchLocation=s,f.wrapMode=10497,o.texArray.elements[o.texArray.count++]=f,s++)),o.size+=d.size,c+=d.size,h=f._batchLocation,this.addColors(i,p.color,p.alpha,d.attribSize,d.attribStart),this.addTextureIds(n,h,d.attribSize,d.attribStart)}vr._globalBatch=e,this.packAttributes()},r.prototype.packAttributes=function(){for(var t=this.points,e=this.uvs,r=this.colors,i=this.textureIds,n=new ArrayBuffer(3*t.length*4),o=new Float32Array(n),s=new Uint32Array(n),a=0,h=0;h<t.length/2;h++)o[a++]=t[2*h],o[a++]=t[2*h+1],o[a++]=e[2*h],o[a++]=e[2*h+1],s[a++]=r[h],o[a++]=i[h];this._buffer.update(n),this._indexBuffer.update(this.indicesUint16)},r.prototype.processFill=function(t){t.holes.length?(this.processHoles(t.holes),yo.triangulate(t,this)):Do[t.type].triangulate(t,this)},r.prototype.processLine=function(t){So(t,this);for(var e=0;e<t.holes.length;e++)So(t.holes[e],this)},r.prototype.processHoles=function(t){for(var e=0;e<t.length;e++){var r=t[e];Do[r.type].build(r),r.matrix&&this.transformPoints(r.points,r.matrix)}},r.prototype.calculateBounds=function(){var e=this._bounds,r=Uo,i=we.IDENTITY;this._bounds.clear(),r.clear();for(var n=0;n<this.graphicsData.length;n++){var o=this.graphicsData[n],s=o.shape,a=o.type,h=o.lineStyle,u=o.matrix||we.IDENTITY,l=0;if(h&&h.visible){var c=h.alignment;l=h.width,a===t.SHAPES.POLY?l*=.5+Math.abs(.5-c):l*=Math.max(0,c)}if(i!==u&&(r.isEmpty()||(e.addBoundsMatrix(r,i),r.clear()),i=u),a===t.SHAPES.RECT||a===t.SHAPES.RREC){var d=s;r.addFramePad(d.x,d.y,d.x+d.width,d.y+d.height,l,l)}else if(a===t.SHAPES.CIRC){var p=s;r.addFramePad(p.x,p.y,p.x,p.y,p.radius+l,p.radius+l)}else if(a===t.SHAPES.ELIP){var f=s;r.addFramePad(f.x,f.y,f.x,f.y,f.width+l,f.height+l)}else{var m=s;e.addVerticesMatrix(i,m.points,0,m.points.length,l,l)}}r.isEmpty()||e.addBoundsMatrix(r,i),e.pad(this.boundsPadding,this.boundsPadding)},r.prototype.transformPoints=function(t,e){for(var r=0;r<t.length/2;r++){var i=t[2*r],n=t[2*r+1];t[2*r]=e.a*i+e.c*n+e.tx,t[2*r+1]=e.b*i+e.d*n+e.ty}},r.prototype.addColors=function(t,e,r,i,n){void 0===n&&(n=0);var o=zt((e>>16)+(65280&e)+((255&e)<<16),r);t.length=Math.max(t.length,n+i);for(var s=0;s<i;s++)t[n+s]=o},r.prototype.addTextureIds=function(t,e,r,i){void 0===i&&(i=0),t.length=Math.max(t.length,i+r);for(var n=0;n<r;n++)t[i+n]=e},r.prototype.addUvs=function(t,e,r,i,n,o){void 0===o&&(o=null);for(var s=0,a=e.length,h=r.frame;s<n;){var u=t[2*(i+s)],l=t[2*(i+s)+1];if(o){var c=o.a*u+o.c*l+o.tx;l=o.b*u+o.d*l+o.ty,u=c}s++,e.push(u/h.width,l/h.height)}var d=r.baseTexture;(h.width<d.width||h.height<d.height)&&this.adjustUvs(e,r,a,n)},r.prototype.adjustUvs=function(t,e,r,i){for(var n=e.baseTexture,o=r+2*i,s=e.frame,a=s.width/n.width,h=s.height/n.height,u=s.x/s.width,l=s.y/s.height,c=Math.floor(t[r]+1e-6),d=Math.floor(t[r+1]+1e-6),p=r+2;p<o;p+=2)c=Math.min(c,Math.floor(t[p]+1e-6)),d=Math.min(d,Math.floor(t[p+1]+1e-6));u-=c,l-=d;for(p=r;p<o;p+=2)t[p]=(t[p]+u)*a,t[p+1]=(t[p+1]+l)*h},r.BATCHABLE_SIZE=100,r}(Tn),Xo=function(e){function r(){var r=null!==e&&e.apply(this,arguments)||this;return r.width=0,r.alignment=.5,r.native=!1,r.cap=t.LINE_CAP.BUTT,r.join=t.LINE_JOIN.MITER,r.miterLimit=10,r}return vo(r,e),r.prototype.clone=function(){var t=new r;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t.width=this.width,t.alignment=this.alignment,t.native=this.native,t.cap=this.cap,t.join=this.join,t.miterLimit=this.miterLimit,t},r.prototype.reset=function(){e.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},r}(fo),jo=new Float32Array(3),Go={},Ho=function(e){function r(r){void 0===r&&(r=null);var i=e.call(this)||this;return i._geometry=r||new ko,i._geometry.refCount++,i.shader=null,i.state=Li.for2d(),i._fillStyle=new fo,i._lineStyle=new Xo,i._matrix=null,i._holeMode=!1,i.currentPath=null,i.batches=[],i.batchTint=-1,i.batchDirty=-1,i.vertexData=null,i.pluginName="batch",i._transformID=-1,i.tint=16777215,i.blendMode=t.BLEND_MODES.NORMAL,i}return vo(r,e),Object.defineProperty(r.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),r.prototype.clone=function(){return this.finishPoly(),new r(this._geometry)},Object.defineProperty(r.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),r.prototype.lineStyle=function(t){if(void 0===t&&(t=null),"number"==typeof t){var e=arguments;t={width:e[0]||0,color:e[1]||0,alpha:void 0!==e[2]?e[2]:1,alignment:void 0!==e[3]?e[3]:.5,native:!!e[4]}}return this.lineTextureStyle(t)},r.prototype.lineTextureStyle=function(e){if("number"==typeof e){ne("v5.2.0","Please use object-based options for Graphics#lineTextureStyle");var r=arguments,i=r[0],n=r[1],o=r[2],s=r[3],a=r[4],h=r[5],u=r[6];e={width:i,texture:n,color:o,alpha:s,matrix:a,alignment:h,native:u},Object.keys(e).forEach(function(t){return void 0===e[t]&&delete e[t]})}e=Object.assign({width:0,texture:Rr.WHITE,color:e&&e.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:t.LINE_CAP.BUTT,join:t.LINE_JOIN.MITER,miterLimit:10},e),this.currentPath&&this.startPoly();var l=e.width>0&&e.alpha>0;return l?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:l},e)):this._lineStyle.reset(),this},r.prototype.startPoly=function(){if(this.currentPath){var t=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new Ee,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))}else this.currentPath=new Ee,this.currentPath.closeStroke=!1},r.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},r.prototype.moveTo=function(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this},r.prototype.lineTo=function(t,e){this.currentPath||this.moveTo(0,0);var r=this.currentPath.points,i=r[r.length-2],n=r[r.length-1];return i===t&&n===e||r.push(t,e),this},r.prototype._initCurve=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[t,e]):this.moveTo(t,e)},r.prototype.quadraticCurveTo=function(t,e,r,i){this._initCurve();var n=this.currentPath.points;return 0===n.length&&this.moveTo(0,0),Mo.curveTo(t,e,r,i,n),this},r.prototype.bezierCurveTo=function(t,e,r,i,n,o){return this._initCurve(),Oo.curveTo(t,e,r,i,n,o,this.currentPath.points),this},r.prototype.arcTo=function(t,e,r,i,n){this._initCurve(t,e);var o=this.currentPath.points,s=Ao.curveTo(t,e,r,i,n,o);if(s){var a=s.cx,h=s.cy,u=s.radius,l=s.startAngle,c=s.endAngle,d=s.anticlockwise;this.arc(a,h,u,l,c,d)}return this},r.prototype.arc=function(t,e,r,i,n,o){if(void 0===o&&(o=!1),i===n)return this;if(!o&&n<=i?n+=ve:o&&i<=n&&(i+=ve),0===n-i)return this;var s=t+Math.cos(i)*r,a=e+Math.sin(i)*r,h=this._geometry.closePointEps,u=this.currentPath?this.currentPath.points:null;if(u){var l=Math.abs(u[u.length-2]-s),c=Math.abs(u[u.length-1]-a);l<h&&c<h||u.push(s,a)}else this.moveTo(s,a),u=this.currentPath.points;return Ao.arc(s,a,t,e,r,i,n,o,u),this},r.prototype.beginFill=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=1),this.beginTextureFill({texture:Rr.WHITE,color:t,alpha:e})},r.prototype.beginTextureFill=function(t){if(t instanceof Rr){ne("v5.2.0","Please use object-based options for Graphics#beginTextureFill");var e=arguments,r=e[0],i=e[1],n=e[2],o=e[3];t={texture:r,color:i,alpha:n,matrix:o},Object.keys(t).forEach(function(e){return void 0===t[e]&&delete t[e]})}t=Object.assign({texture:Rr.WHITE,color:16777215,alpha:1,matrix:null},t),this.currentPath&&this.startPoly();var s=t.alpha>0;return s?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:s},t)):this._fillStyle.reset(),this},r.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},r.prototype.drawRect=function(t,e,r,i){return this.drawShape(new _e(t,e,r,i))},r.prototype.drawRoundedRect=function(t,e,r,i,n){return this.drawShape(new Te(t,e,r,i,n))},r.prototype.drawCircle=function(t,e,r){return this.drawShape(new xe(t,e,r))},r.prototype.drawEllipse=function(t,e,r,i){return this.drawShape(new be(t,e,r,i))},r.prototype.drawPolygon=function(){for(var t,e=arguments,r=[],i=0;i<arguments.length;i++)r[i]=e[i];var n=!0,o=r[0];o.points?(n=o.closeStroke,t=o.points):t=Array.isArray(r[0])?r[0]:r;var s=new Ee(t);return s.closeStroke=n,this.drawShape(s),this},r.prototype.drawShape=function(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},r.prototype.drawStar=function(t,e,r,i,n,o){return void 0===o&&(o=0),this.drawPolygon(new Io(t,e,r,i,n,o))},r.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},r.prototype.isFastRect=function(){var e=this._geometry.graphicsData;return 1===e.length&&e[0].shape.type===t.SHAPES.RECT&&!(e[0].lineStyle.visible&&e[0].lineStyle.width)},r.prototype._render=function(t){this.finishPoly();var e=this._geometry,r=t.context.supports.uint32Indices;e.updateBatches(r),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))},r.prototype._populateBatches=function(){var t=this._geometry,e=this.blendMode,r=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=r,this.vertexData=new Float32Array(t.points);for(var i=0;i<r;i++){var n=t.batches[i],o=n.style.color,s=new Float32Array(this.vertexData.buffer,4*n.attribStart*2,2*n.attribSize),a=new Float32Array(t.uvsFloat32.buffer,4*n.attribStart*2,2*n.attribSize),h={vertexData:s,blendMode:e,indices:new Uint16Array(t.indicesUint16.buffer,2*n.start,n.size),uvs:a,_batchRGB:kt(o),_tintRGB:o,_texture:n.style.texture,alpha:n.style.alpha,worldAlpha:1};this.batches[i]=h}},r.prototype._renderBatched=function(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var e=0,r=this.batches.length;e<r;e++){var i=this.batches[e];i.worldAlpha=this.worldAlpha*i.alpha,t.plugins[this.pluginName].render(i)}}},r.prototype._renderDirect=function(t){var e=this._resolveDirectShader(t),r=this._geometry,i=this.tint,n=this.worldAlpha,o=e.uniforms,s=r.drawCalls;o.translationMatrix=this.transform.worldTransform,o.tint[0]=(i>>16&255)/255*n,o.tint[1]=(i>>8&255)/255*n,o.tint[2]=(255&i)/255*n,o.tint[3]=n,t.shader.bind(e),t.geometry.bind(r,e),t.state.set(this.state);for(var a=0,h=s.length;a<h;a++)this._renderDrawCallDirect(t,r.drawCalls[a])},r.prototype._renderDrawCallDirect=function(t,e){for(var r=e.texArray,i=e.type,n=e.size,o=e.start,s=r.count,a=0;a<s;a++)t.texture.bind(r.elements[a],a);t.geometry.draw(i,n,o)},r.prototype._resolveDirectShader=function(t){var e=this.shader,r=this.pluginName;if(!e){if(!Go[r]){for(var i=t.plugins.batch.MAX_TEXTURES,n=new Int32Array(i),o=0;o<i;o++)n[o]=o;var s={tint:new Float32Array([1,1,1,1]),translationMatrix:new we,default:Kr.from({uSamplers:n},!0)},a=t.plugins[r]._shader.program;Go[r]=new Ri(a,s)}e=Go[r]}return e},r.prototype._calculateBounds=function(){this.finishPoly();var t=this._geometry;if(t.graphicsData.length){var e=t.bounds,r=e.minX,i=e.minY,n=e.maxX,o=e.maxY;this._bounds.addFrame(this.transform,r,i,n,o)}},r.prototype.containsPoint=function(t){return this.worldTransform.applyInverse(t,r._TEMP_POINT),this._geometry.containsPoint(r._TEMP_POINT)},r.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var t=kt(this.tint,jo),e=0;e<this.batches.length;e++){var r=this.batches[e],i=r._batchRGB,n=(t[0]*i[0]*255<<16)+(t[1]*i[1]*255<<8)+(0|t[2]*i[2]*255);r._tintRGB=(n>>16)+(65280&n)+((255&n)<<16)}}},r.prototype.calculateVertices=function(){var t=this.transform._worldID;if(this._transformID!==t){this._transformID=t;for(var e=this.transform.worldTransform,r=e.a,i=e.b,n=e.c,o=e.d,s=e.tx,a=e.ty,h=this._geometry.points,u=this.vertexData,l=0,c=0;c<h.length;c+=2){var d=h[c],p=h[c+1];u[l++]=r*d+n*p+s,u[l++]=o*p+i*d+a}}},r.prototype.closePath=function(){var t=this.currentPath;return t&&(t.closeStroke=!0),this},r.prototype.setMatrix=function(t){return this._matrix=t,this},r.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},r.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},r.prototype.destroy=function(t){this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,e.prototype.destroy.call(this,t)},r._TEMP_POINT=new Pe,r}(Ge),Yo=function(t,e){return(Yo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};var zo,Vo=new Pe,Wo=new Uint16Array([0,1,2,0,2,3]),qo=function(e){function r(r){var i=e.call(this)||this;return i._anchor=new Se(i._onAnchorUpdate,i,r?r.defaultAnchor.x:0,r?r.defaultAnchor.y:0),i._texture=null,i._width=0,i._height=0,i._tint=null,i._tintRGB=null,i.tint=16777215,i.blendMode=t.BLEND_MODES.NORMAL,i._cachedTint=16777215,i.uvs=null,i.texture=r||Rr.EMPTY,i.vertexData=new Float32Array(8),i.vertexTrimmedData=null,i._transformID=-1,i._textureID=-1,i._transformTrimmedID=-1,i._textureTrimmedID=-1,i.indices=Wo,i.pluginName="batch",i.isSprite=!0,i._roundPixels=C.ROUND_PIXELS,i}return function(t,e){function r(){this.constructor=t}Yo(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(r,e),r.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=te(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=te(this.scale.y)*this._height/this._texture.orig.height)},r.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},r.prototype.calculateVertices=function(){var t=this._texture;if(this._transformID!==this.transform._worldID||this._textureID!==t._updateID){this._textureID!==t._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=t._updateID;var e=this.transform.worldTransform,r=e.a,i=e.b,n=e.c,o=e.d,s=e.tx,a=e.ty,h=this.vertexData,u=t.trim,l=t.orig,c=this._anchor,d=0,p=0,f=0,m=0;if(u?(d=(p=u.x-c._x*l.width)+u.width,f=(m=u.y-c._y*l.height)+u.height):(d=(p=-c._x*l.width)+l.width,f=(m=-c._y*l.height)+l.height),h[0]=r*p+n*m+s,h[1]=o*m+i*p+a,h[2]=r*d+n*m+s,h[3]=o*m+i*d+a,h[4]=r*d+n*f+s,h[5]=o*f+i*d+a,h[6]=r*p+n*f+s,h[7]=o*f+i*p+a,this._roundPixels)for(var v=C.RESOLUTION,y=0;y<h.length;++y)h[y]=Math.round((h[y]*v|0)/v)}},r.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var t=this._texture,e=this.vertexTrimmedData,r=t.orig,i=this._anchor,n=this.transform.worldTransform,o=n.a,s=n.b,a=n.c,h=n.d,u=n.tx,l=n.ty,c=-i._x*r.width,d=c+r.width,p=-i._y*r.height,f=p+r.height;e[0]=o*c+a*p+u,e[1]=h*p+s*c+l,e[2]=o*d+a*p+u,e[3]=h*p+s*d+l,e[4]=o*d+a*f+u,e[5]=h*f+s*d+l,e[6]=o*c+a*f+u,e[7]=h*f+s*c+l},r.prototype._render=function(t){this.calculateVertices(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},r.prototype._calculateBounds=function(){var t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},r.prototype.getLocalBounds=function(t){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new _e),t=this._localBoundsRect),this._bounds.getRectangle(t)):e.prototype.getLocalBounds.call(this,t)},r.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,Vo);var e=this._texture.orig.width,r=this._texture.orig.height,i=-e*this.anchor.x,n=0;return Vo.x>=i&&Vo.x<i+e&&(n=-r*this.anchor.y,Vo.y>=n&&Vo.y<n+r)},r.prototype.destroy=function(t){if(e.prototype.destroy.call(this,t),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,"boolean"==typeof t?t:t&&t.texture){var r="boolean"==typeof t?t:t&&t.baseTexture;this._texture.destroy(!!r)}this._texture=null},r.from=function(t,e){return new r(t instanceof Rr?t:Rr.from(t,e))},Object.defineProperty(r.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){var e=te(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){var e=te(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"anchor",{get:function(){return this._anchor},set:function(t){this._anchor.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=t||Rr.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.valid?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),r}(Ge),Ko=function(t,e){return(Ko=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};(zo=t.TEXT_GRADIENT||(t.TEXT_GRADIENT={}))[zo.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",zo[zo.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL";var Zo={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:t.TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},Jo=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Qo=function(){function t(t){this.styleID=0,this.reset(),es(this,t,t)}return t.prototype.clone=function(){var e={};return es(e,this,Zo),new t(e)},t.prototype.reset=function(){es(this,Zo,Zo)},Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"breakWords",{get:function(){return this._breakWords},set:function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(t){var e=ts(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(t){var e=ts(t);this._fill!==e&&(this._fill=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(t){(function(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(var r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0})(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leading",{get:function(){return this._leading},set:function(t){this._leading!==t&&(this._leading=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"padding",{get:function(){return this._padding},set:function(t){this._padding!==t&&(this._padding=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this._stroke},set:function(t){var e=ts(t);this._stroke!==e&&(this._stroke=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trim",{get:function(){return this._trim},set:function(t){this._trim!==t&&(this._trim=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)},enumerable:!1,configurable:!0}),t.prototype.toFontString=function(){var t="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(var r=e.length-1;r>=0;r--){var i=e[r].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&Jo.indexOf(i)<0&&(i='"'+i+'"'),e[r]=i}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+e.join(",")},t}();function $o(t){return"number"==typeof t?Xt(t):("string"==typeof t&&0===t.indexOf("0x")&&(t=t.replace("0x","#")),t)}function ts(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=$o(t[e]);return t}return $o(t)}function es(t,e,r){for(var i in r)Array.isArray(e[i])?t[i]=e[i].slice():t[i]=e[i]}var rs=function(){function t(t,e,r,i,n,o,s,a,h){this.text=t,this.style=e,this.width=r,this.height=i,this.lines=n,this.lineWidths=o,this.lineHeight=s,this.maxLineWidth=a,this.fontProperties=h}return t.measureText=function(e,r,i,n){void 0===n&&(n=t._canvas),i=null==i?r.wordWrap:i;var o=r.toFontString(),s=t.measureFont(o);0===s.fontSize&&(s.fontSize=r.fontSize,s.ascent=r.fontSize);var a=n.getContext("2d");a.font=o;for(var h=(i?t.wordWrap(e,r,n):e).split(/(?:\r\n|\r|\n)/),u=new Array(h.length),l=0,c=0;c<h.length;c++){var d=a.measureText(h[c]).width+(h[c].length-1)*r.letterSpacing;u[c]=d,l=Math.max(l,d)}var p=l+r.strokeThickness;r.dropShadow&&(p+=r.dropShadowDistance);var f=r.lineHeight||s.fontSize+r.strokeThickness,m=Math.max(f,s.fontSize+r.strokeThickness)+(h.length-1)*(f+r.leading);return r.dropShadow&&(m+=r.dropShadowDistance),new t(e,r,p,m,h,u,f+r.leading,l,s)},t.wordWrap=function(e,r,i){void 0===i&&(i=t._canvas);for(var n=i.getContext("2d"),o=0,s="",a="",h=Object.create(null),u=r.letterSpacing,l=r.whiteSpace,c=t.collapseSpaces(l),d=t.collapseNewlines(l),p=!c,f=r.wordWrapWidth+u,m=t.tokenize(e),v=0;v<m.length;v++){var y=m[v];if(t.isNewline(y)){if(!d){a+=t.addLine(s),p=!c,s="",o=0;continue}y=" "}if(c){var g=t.isBreakingSpace(y),_=t.isBreakingSpace(s[s.length-1]);if(g&&_)continue}var x=t.getFromCache(y,u,h,n);if(x>f)if(""!==s&&(a+=t.addLine(s),s="",o=0),t.canBreakWords(y,r.breakWords))for(var b=t.wordWrapSplit(y),E=0;E<b.length;E++){for(var T=b[E],P=1;b[E+P];){var S=b[E+P],w=T[T.length-1];if(t.canBreakChars(w,S,y,E,r.breakWords))break;T+=S,P++}E+=T.length-1;var I=t.getFromCache(T,u,h,n);I+o>f&&(a+=t.addLine(s),p=!1,s="",o=0),s+=T,o+=I}else{s.length>0&&(a+=t.addLine(s),s="",o=0);var A=v===m.length-1;a+=t.addLine(y,!A),p=!1,s="",o=0}else x+o>f&&(p=!1,a+=t.addLine(s),s="",o=0),(s.length>0||!t.isBreakingSpace(y)||p)&&(s+=y,o+=x)}return a+=t.addLine(s,!1)},t.addLine=function(e,r){return void 0===r&&(r=!0),e=t.trimRight(e),e=r?e+"\n":e},t.getFromCache=function(t,e,r,i){var n=r[t];if("number"!=typeof n){var o=t.length*e;n=i.measureText(t).width+o,r[t]=n}return n},t.collapseSpaces=function(t){return"normal"===t||"pre-line"===t},t.collapseNewlines=function(t){return"normal"===t},t.trimRight=function(e){if("string"!=typeof e)return"";for(var r=e.length-1;r>=0;r--){var i=e[r];if(!t.isBreakingSpace(i))break;e=e.slice(0,-1)}return e},t.isNewline=function(e){return"string"==typeof e&&t._newlines.indexOf(e.charCodeAt(0))>=0},t.isBreakingSpace=function(e){return"string"==typeof e&&t._breakingSpaces.indexOf(e.charCodeAt(0))>=0},t.tokenize=function(e){var r=[],i="";if("string"!=typeof e)return r;for(var n=0;n<e.length;n++){var o=e[n];t.isBreakingSpace(o)||t.isNewline(o)?(""!==i&&(r.push(i),i=""),r.push(o)):i+=o}return""!==i&&r.push(i),r},t.canBreakWords=function(t,e){return e},t.canBreakChars=function(t,e,r,i,n){return!0},t.wordWrapSplit=function(t){return t.split("")},t.measureFont=function(e){if(t._fonts[e])return t._fonts[e];var r={ascent:0,descent:0,fontSize:0},i=t._canvas,n=t._context;n.font=e;var o=t.METRICS_STRING+t.BASELINE_SYMBOL,s=Math.ceil(n.measureText(o).width),a=Math.ceil(n.measureText(t.BASELINE_SYMBOL).width),h=2*a;a=a*t.BASELINE_MULTIPLIER|0,i.width=s,i.height=h,n.fillStyle="#f00",n.fillRect(0,0,s,h),n.font=e,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText(o,0,a);var u=n.getImageData(0,0,s,h).data,l=u.length,c=4*s,d=0,p=0,f=!1;for(d=0;d<a;++d){for(var m=0;m<c;m+=4)if(255!==u[p+m]){f=!0;break}if(f)break;p+=c}for(r.ascent=a-d,p=l-c,f=!1,d=h;d>a;--d){for(m=0;m<c;m+=4)if(255!==u[p+m]){f=!0;break}if(f)break;p-=c}return r.descent=d-a,r.fontSize=r.ascent+r.descent,t._fonts[e]=r,r},t.clearMetrics=function(e){void 0===e&&(e=""),e?delete t._fonts[e]:t._fonts={}},t}(),is=function(){try{var t=new OffscreenCanvas(0,0),e=t.getContext("2d");return e&&e.measureText?t:document.createElement("canvas")}catch(t){return document.createElement("canvas")}}();is.width=is.height=10,rs._canvas=is,rs._context=is.getContext("2d"),rs._fonts={},rs.METRICS_STRING="|ÉqÅ",rs.BASELINE_SYMBOL="M",rs.BASELINE_MULTIPLIER=1.4,rs._newlines=[10,13],rs._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var ns={texture:!0,children:!1,baseTexture:!0},os=function(e){function r(t,r,i){var n=this,o=!1;i||(i=document.createElement("canvas"),o=!0),i.width=3,i.height=3;var s=Rr.from(i);return s.orig=new _e,s.trim=new _e,(n=e.call(this,s)||this)._ownCanvas=o,n.canvas=i,n.context=n.canvas.getContext("2d"),n._resolution=C.RESOLUTION,n._autoResolution=!0,n._text=null,n._style=null,n._styleListener=null,n._font="",n.text=t,n.style=r,n.localStyleID=-1,n}return function(t,e){function r(){this.constructor=t}Ko(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(r,e),r.prototype.updateText=function(t){var e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),this.dirty||!t){this._font=this._style.toFontString();var r,i,n=this.context,o=rs.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),s=o.width,a=o.height,h=o.lines,u=o.lineHeight,l=o.lineWidths,c=o.maxLineWidth,d=o.fontProperties;this.canvas.width=Math.ceil((Math.max(1,s)+2*e.padding)*this._resolution),this.canvas.height=Math.ceil((Math.max(1,a)+2*e.padding)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=e.strokeThickness,n.textBaseline=e.textBaseline,n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit;for(var p=e.dropShadow?2:1,f=0;f<p;++f){var m=e.dropShadow&&0===f,v=m?Math.ceil(Math.max(1,a)+2*e.padding):0,y=v*this._resolution;if(m){n.fillStyle="black",n.strokeStyle="black";var g=e.dropShadowColor,_=kt("number"==typeof g?g:jt(g)),x=e.dropShadowBlur*this._resolution,b=e.dropShadowDistance*this._resolution;n.shadowColor="rgba("+255*_[0]+","+255*_[1]+","+255*_[2]+","+e.dropShadowAlpha+")",n.shadowBlur=x,n.shadowOffsetX=Math.cos(e.dropShadowAngle)*b,n.shadowOffsetY=Math.sin(e.dropShadowAngle)*b+y}else n.fillStyle=this._generateFillStyle(e,h,o),n.strokeStyle=e.stroke,n.shadowColor="black",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0;for(var E=0;E<h.length;E++)r=e.strokeThickness/2,i=e.strokeThickness/2+E*u+d.ascent,"right"===e.align?r+=c-l[E]:"center"===e.align&&(r+=(c-l[E])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(h[E],r+e.padding,i+e.padding-v,!0),e.fill&&this.drawLetterSpacing(h[E],r+e.padding,i+e.padding-v)}this.updateTexture()}},r.prototype.drawLetterSpacing=function(t,e,r,i){void 0===i&&(i=!1);var n=this._style.letterSpacing;if(0!==n)for(var o=e,s=Array.from?Array.from(t):t.split(""),a=this.context.measureText(t).width,h=0,u=0;u<s.length;++u){var l=s[u];i?this.context.strokeText(l,o,r):this.context.fillText(l,o,r),o+=a-(h=this.context.measureText(t.substring(u+1)).width)+n,a=h}else i?this.context.strokeText(t,e,r):this.context.fillText(t,e,r)},r.prototype.updateTexture=function(){var t=this.canvas;if(this._style.trim){var e=ue(t);e.data&&(t.width=e.width,t.height=e.height,this.context.putImageData(e.data,0,0))}var r=this._texture,i=this._style,n=i.trim?0:i.padding,o=r.baseTexture;r.trim.width=r._frame.width=Math.ceil(t.width/this._resolution),r.trim.height=r._frame.height=Math.ceil(t.height/this._resolution),r.trim.x=-n,r.trim.y=-n,r.orig.width=r._frame.width-2*n,r.orig.height=r._frame.height-2*n,this._onTextureUpdate(),o.setRealSize(t.width,t.height,this._resolution),this._recursivePostUpdateTransform(),this.dirty=!1},r.prototype._render=function(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),e.prototype._render.call(this,t)},r.prototype.getLocalBounds=function(t){return this.updateText(!0),e.prototype.getLocalBounds.call(this,t)},r.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},r.prototype._generateFillStyle=function(e,r,i){var n,o=e.fill;if(!Array.isArray(o))return o;if(1===o.length)return o[0];var s=e.dropShadow?e.dropShadowDistance:0,a=e.padding||0,h=Math.ceil(this.canvas.width/this._resolution)-s-2*a,u=Math.ceil(this.canvas.height/this._resolution)-s-2*a,l=o.slice(),c=e.fillGradientStops.slice();if(!c.length)for(var d=l.length+1,p=1;p<d;++p)c.push(p/d);if(l.unshift(o[0]),c.unshift(0),l.push(o[o.length-1]),c.push(1),e.fillGradientType===t.TEXT_GRADIENT.LINEAR_VERTICAL){n=this.context.createLinearGradient(h/2,a,h/2,u+a);var f=0,m=(i.fontProperties.fontSize+e.strokeThickness)/u;for(p=0;p<r.length;p++)for(var v=i.lineHeight*p,y=0;y<l.length;y++){var g=v/u+("number"==typeof c[y]?c[y]:y/l.length)*m,_=Math.max(f,g);_=Math.min(_,1),n.addColorStop(_,l[y]),f=_}}else{n=this.context.createLinearGradient(a,u/2,h+a,u/2);var x=l.length+1,b=1;for(p=0;p<l.length;p++){var E=void 0;E="number"==typeof c[p]?c[p]:b/x,n.addColorStop(E,l[p]),b++}}return n},r.prototype.destroy=function(t){"boolean"==typeof t&&(t={children:t}),t=Object.assign({},ns,t),e.prototype.destroy.call(this,t),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(r.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){this.updateText(!0);var e=te(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){this.updateText(!0);var e=te(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"style",{get:function(){return this._style},set:function(t){t=t||{},this._style=t instanceof Qo?t:new Qo(t),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"text",{get:function(){return this._text},set:function(t){t=String(null==t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"resolution",{get:function(){return this._resolution},set:function(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)},enumerable:!1,configurable:!0}),r}(qo);C.UPLOADS_PER_FRAME=4;var ss=function(t,e){return(ss=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};var as=function(){function t(t){this.maxItemsPerFrame=t,this.itemsLeft=0}return t.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},t.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},t}();function hs(t,e){var r=!1;if(t&&t._textures&&t._textures.length)for(var i=0;i<t._textures.length;i++)if(t._textures[i]instanceof Rr){var n=t._textures[i].baseTexture;-1===e.indexOf(n)&&(e.push(n),r=!0)}return r}function us(t,e){if(t.baseTexture instanceof vr){var r=t.baseTexture;return-1===e.indexOf(r)&&e.push(r),!0}return!1}function ls(t,e){if(t._texture&&t._texture instanceof Rr){var r=t._texture.baseTexture;return-1===e.indexOf(r)&&e.push(r),!0}return!1}function cs(t,e){return e instanceof os&&(e.updateText(!0),!0)}function ds(t,e){if(e instanceof Qo){var r=e.toFontString();return rs.measureFont(r),!0}return!1}function ps(t,e){if(t instanceof os){-1===e.indexOf(t.style)&&e.push(t.style),-1===e.indexOf(t)&&e.push(t);var r=t._texture.baseTexture;return-1===e.indexOf(r)&&e.push(r),!0}return!1}function fs(t,e){return t instanceof Qo&&(-1===e.indexOf(t)&&e.push(t),!0)}var ms=function(){function e(t){var e=this;this.limiter=new as(C.UPLOADS_PER_FRAME),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){e.queue&&e.prepareItems()},this.registerFindHook(ps),this.registerFindHook(fs),this.registerFindHook(hs),this.registerFindHook(us),this.registerFindHook(ls),this.registerUploadHook(cs),this.registerUploadHook(ds)}return e.prototype.upload=function(e,r){"function"==typeof e&&(r=e,e=null),e&&this.add(e),this.queue.length?(r&&this.completes.push(r),this.ticking||(this.ticking=!0,Je.system.addOnce(this.tick,this,t.UPDATE_PRIORITY.UTILITY))):r&&r()},e.prototype.tick=function(){setTimeout(this.delayedTick,0)},e.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var e=this.queue[0],r=!1;if(e&&!e._destroyed)for(var i=0,n=this.uploadHooks.length;i<n;i++)if(this.uploadHooks[i](this.uploadHookHelper,e)){this.queue.shift(),r=!0;break}r||this.queue.shift()}if(this.queue.length)Je.system.addOnce(this.tick,this,t.UPDATE_PRIORITY.UTILITY);else{this.ticking=!1;var o=this.completes.slice(0);this.completes.length=0;for(i=0,n=o.length;i<n;i++)o[i]()}},e.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},e.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},e.prototype.add=function(t){for(var e=0,r=this.addHooks.length;e<r&&!this.addHooks[e](t,this.queue);e++);if(t instanceof Ge)for(e=t.children.length-1;e>=0;e--)this.add(t.children[e]);return this},e.prototype.destroy=function(){this.ticking&&Je.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},e}();function vs(t,e){return e instanceof vr&&(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0)}function ys(t,e){if(!(e instanceof Ho))return!1;var r=e.geometry;e.finishPoly(),r.updateBatches();for(var i=r.batches,n=0;n<i.length;n++){var o=i[n].style.texture;o&&vs(t,o.baseTexture)}return r.batchable||t.geometry.bind(r,e._resolveDirectShader(t)),!0}function gs(t,e){return t instanceof Ho&&(e.push(t),!0)}var _s=function(t){function e(e){var r=t.call(this,e)||this;return r.uploadHookHelper=r.renderer,r.registerFindHook(gs),r.registerUploadHook(vs),r.registerUploadHook(ys),r}return function(t,e){function r(){this.constructor=t}ss(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e}(ms),xs=function(){function t(t){this.maxMilliseconds=t,this.frameStart=0}return t.prototype.beginFrame=function(){this.frameStart=Date.now()},t.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},t}(),bs=function(){function t(t,e,r){void 0===r&&(r=null),this._texture=t instanceof Rr?t:null,this.baseTexture=t instanceof vr?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;var i=this.baseTexture.resource;this.resolution=this._updateResolution(r||(i?i.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return t.prototype._updateResolution=function(t){void 0===t&&(t=null);var e=this.data.meta.scale,r=pe(t,null);return null===r&&(r=void 0!==e?parseFloat(e):1),1!==r&&this.baseTexture.setResolution(r),r},t.prototype.parse=function(e){this._batchIndex=0,this._callback=e,this._frameKeys.length<=t.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},t.prototype._processFrames=function(e){for(var r=e,i=t.BATCH_SIZE;r-e<i&&r<this._frameKeys.length;){var n=this._frameKeys[r],o=this._frames[n],s=o.frame;if(s){var a=null,h=null,u=!1!==o.trimmed&&o.sourceSize?o.sourceSize:o.frame,l=new _e(0,0,Math.floor(u.w)/this.resolution,Math.floor(u.h)/this.resolution);a=o.rotated?new _e(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.h)/this.resolution,Math.floor(s.w)/this.resolution):new _e(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution),!1!==o.trimmed&&o.spriteSourceSize&&(h=new _e(Math.floor(o.spriteSourceSize.x)/this.resolution,Math.floor(o.spriteSourceSize.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution)),this.textures[n]=new Rr(this.baseTexture,a,l,h,o.rotated?2:0,o.anchor),Rr.addToCache(this.textures[n],n)}r++}},t.prototype._processAnimations=function(){var t=this.data.animations||{};for(var e in t){this.animations[e]=[];for(var r=0;r<t[e].length;r++){var i=t[e][r];this.animations[e].push(this.textures[i])}}},t.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},t.prototype._nextBatch=function(){var e=this;this._processFrames(this._batchIndex*t.BATCH_SIZE),this._batchIndex++,setTimeout(function(){e._batchIndex*t.BATCH_SIZE<e._frameKeys.length?e._nextBatch():(e._processAnimations(),e._parseComplete())},0)},t.prototype.destroy=function(t){var e;for(var r in void 0===t&&(t=!1),this.textures)this.textures[r].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&(null===(e=this._texture)||void 0===e||e.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},t.BATCH_SIZE=1e3,t}(),Es=function(){function t(){}return t.use=function(e,r){var i=e.name+"_image";if(e.data&&e.type===Qn.TYPE.JSON&&e.data.frames&&!this.resources[i]){var n={crossOrigin:e.crossOrigin,metadata:e.metadata.imageMetadata,parentResource:e},o=t.getResourcePath(e,this.baseUrl);this.add(i,o,n,function(t){if(t.error)r(t.error);else{var i=new bs(t.texture,e.data,e.url);i.parse(function(){e.spritesheet=i,e.textures=i.textures,r()})}})}else r()},t.getResourcePath=function(t,e){return t.isDataUrl?t.data.meta.image:Rt.resolve(t.url.replace(e,""),t.data.meta.image)},t}(),Ts=function(t,e){return(Ts=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function Ps(t,e){function r(){this.constructor=t}Ts(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var Ss=new Pe,ws=function(t){function e(e,r,i){void 0===r&&(r=100),void 0===i&&(i=100);var n=t.call(this,e)||this;return n.tileTransform=new Ne,n._width=r,n._height=i,n.uvMatrix=n.texture.uvMatrix||new ki(e),n.pluginName="tilingSprite",n.uvRespectAnchor=!1,n}return Ps(e,t),Object.defineProperty(e.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(t){this.uvMatrix.clampMargin=t,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(t){this.tileTransform.scale.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(t){this.tileTransform.position.copyFrom(t)},enumerable:!1,configurable:!0}),e.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},e.prototype._render=function(t){var e=this._texture;e&&e.valid&&(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this))},e.prototype._calculateBounds=function(){var t=this._width*-this._anchor._x,e=this._height*-this._anchor._y,r=this._width*(1-this._anchor._x),i=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,e,r,i)},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new _e),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,Ss);var e=this._width,r=this._height,i=-e*this.anchor._x;if(Ss.x>=i&&Ss.x<i+e){var n=-r*this.anchor._y;if(Ss.y>=n&&Ss.y<n+r)return!0}return!1},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.tileTransform=null,this.uvMatrix=null},e.from=function(t,r){return"number"==typeof r&&(ne("5.3.0","TilingSprite.from use options instead of width and height args"),r={width:r,height:arguments[2]}),new e(Rr.from(t,r),r.width,r.height)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t},enumerable:!1,configurable:!0}),e}(qo),Is="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",As="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture2D(uSampler, coord);\n    gl_FragColor = texSample * uColor;\n}\n",Os="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 texSample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = texSample * uColor;\n}\n",Ms=new we,Cs=function(e){function r(t){var r=e.call(this,t)||this,i={globals:r.renderer.globalUniforms};return r.shader=Ri.from(Is,As,i),r.simpleShader=Ri.from(Is,Os,i),r.quad=new Wr,r.state=Li.for2d(),r}return Ps(r,e),r.prototype.render=function(e){var r=this.renderer,i=this.quad,n=i.vertices;n[0]=n[6]=e._width*-e.anchor.x,n[1]=n[3]=e._height*-e.anchor.y,n[2]=n[4]=e._width*(1-e.anchor.x),n[5]=n[7]=e._height*(1-e.anchor.y),e.uvRespectAnchor&&((n=i.uvs)[0]=n[6]=-e.anchor.x,n[1]=n[3]=-e.anchor.y,n[2]=n[4]=1-e.anchor.x,n[5]=n[7]=1-e.anchor.y),i.invalidate();var o=e._texture,s=o.baseTexture,a=e.tileTransform.localTransform,h=e.uvMatrix,u=s.isPowerOfTwo&&o.frame.width===s.width&&o.frame.height===s.height;u&&(s._glTextures[r.CONTEXT_UID]?u=s.wrapMode!==t.WRAP_MODES.CLAMP:s.wrapMode===t.WRAP_MODES.CLAMP&&(s.wrapMode=t.WRAP_MODES.REPEAT));var l=u?this.simpleShader:this.shader,c=o.width,d=o.height,p=e._width,f=e._height;Ms.set(a.a*c/p,a.b*c/f,a.c*d/p,a.d*d/f,a.tx/p,a.ty/f),Ms.invert(),u?Ms.prepend(h.mapCoord):(l.uniforms.uMapCoord=h.mapCoord.toArray(!0),l.uniforms.uClampFrame=h.uClampFrame,l.uniforms.uClampOffset=h.uClampOffset),l.uniforms.uTransform=Ms.toArray(!0),l.uniforms.uColor=Vt(e.tint,e.worldAlpha,l.uniforms.uColor,s.alphaMode),l.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),l.uniforms.uSampler=o,r.shader.bind(l),r.geometry.bind(i),this.state.blendMode=Ht(e.blendMode,s.alphaMode),r.state.set(this.state),r.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},r}(Qr),Ds=function(t,e){return(Ds=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function Rs(t,e){function r(){this.constructor=t}Ds(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var Ls=function(){function t(t,e){this.uvBuffer=t,this.uvMatrix=e,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return t.prototype.update=function(t){if(t||this._bufferUpdateId!==this.uvBuffer._updateID||this._textureUpdateId!==this.uvMatrix._updateID){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var e=this.uvBuffer.data;this.data&&this.data.length===e.length||(this.data=new Float32Array(e.length)),this.uvMatrix.multiplyUvs(e,this.data),this._updateID++}},t}(),Ns=new Pe,Fs=new Ee,Bs=function(e){function r(r,i,n,o){void 0===o&&(o=t.DRAW_MODES.TRIANGLES);var s=e.call(this)||this;return s.geometry=r,r.refCount++,s.shader=i,s.state=n||Li.for2d(),s.drawMode=o,s.start=0,s.size=0,s.uvs=null,s.indices=null,s.vertexData=new Float32Array(1),s.vertexDirty=0,s._transformID=-1,s._roundPixels=C.ROUND_PIXELS,s.batchUvs=null,s}return Rs(r,e),Object.defineProperty(r.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"material",{get:function(){return this.shader},set:function(t){this.shader=t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tint",{get:function(){return this.shader.tint},set:function(t){this.shader.tint=t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"texture",{get:function(){return this.shader.texture},set:function(t){this.shader.texture=t},enumerable:!1,configurable:!0}),r.prototype._render=function(e){var i=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===t.DRAW_MODES.TRIANGLES&&i.length<2*r.BATCHABLE_SIZE?this._renderToBatch(e):this._renderDefault(e)},r.prototype._renderDefault=function(t){var e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.program.uniformData.translationMatrix&&(e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0)),t.shader.bind(e),t.state.set(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},r.prototype._renderToBatch=function(t){var e=this.geometry;this.shader.uvMatrix&&(this.shader.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=this.shader._tintRGB,this._texture=this.shader.texture;var r=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[r]),t.plugins[r].render(this)},r.prototype.calculateVertices=function(){var t=this.geometry,e=t.buffers[0].data;if(t.vertexDirtyId!==this.vertexDirty||this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID,this.vertexData.length!==e.length&&(this.vertexData=new Float32Array(e.length));for(var r=this.transform.worldTransform,i=r.a,n=r.b,o=r.c,s=r.d,a=r.tx,h=r.ty,u=this.vertexData,l=0;l<u.length/2;l++){var c=e[2*l],d=e[2*l+1];u[2*l]=i*c+o*d+a,u[2*l+1]=n*c+s*d+h}if(this._roundPixels){var p=C.RESOLUTION;for(l=0;l<u.length;++l)u[l]=Math.round((u[l]*p|0)/p)}this.vertexDirty=t.vertexDirtyId}},r.prototype.calculateUvs=function(){var t=this.geometry.buffers[1];this.shader.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new Ls(t,this.shader.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},r.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},r.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,Ns);for(var e=this.geometry.getBuffer("aVertexPosition").data,r=Fs.points,i=this.geometry.getIndex().data,n=i.length,o=4===this.drawMode?3:1,s=0;s+2<n;s+=o){var a=2*i[s],h=2*i[s+1],u=2*i[s+2];if(r[0]=e[a],r[1]=e[a+1],r[2]=e[h],r[3]=e[h+1],r[4]=e[u],r[5]=e[u+1],Fs.contains(Ns.x,Ns.y))return!0}return!1},r.prototype.destroy=function(t){e.prototype.destroy.call(this,t),this.geometry.refCount--,0===this.geometry.refCount&&this.geometry.dispose(),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},r.BATCHABLE_SIZE=100,r}(Ge),Us="varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n",ks="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n",Xs=function(t){function e(e,r){var i=this,n={uSampler:e,alpha:1,uTextureMatrix:we.IDENTITY,uColor:new Float32Array([1,1,1,1])};return(r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r)).uniforms&&Object.assign(n,r.uniforms),(i=t.call(this,r.program||Di.from(ks,Us),n)||this)._colorDirty=!1,i.uvMatrix=new ki(e),i.batchable=void 0===r.program,i.pluginName=r.pluginName,i.tint=r.tint,i.alpha=r.alpha,i}return Rs(e,t),Object.defineProperty(e.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(t){this.uniforms.uSampler!==t&&(this.uniforms.uSampler=t,this.uvMatrix.texture=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this._alpha},set:function(t){t!==this._alpha&&(this._alpha=t,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){t!==this._tint&&(this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),e.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var t=this.texture.baseTexture;Vt(this._tint,this._alpha,this.uniforms.uColor,t.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},e}(Ri),js=function(e){function r(r,i,n){var o=e.call(this)||this,s=new kr(r),a=new kr(i,!0),h=new kr(n,!0,!0);return o.addAttribute("aVertexPosition",s,2,!1,t.TYPES.FLOAT).addAttribute("aTextureCoord",a,2,!1,t.TYPES.FLOAT).addIndex(h),o._updateId=-1,o}return Rs(r,e),Object.defineProperty(r.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),r}(zr),Gs=function(t,e){return(Gs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};var Hs=function(){return function(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[]}}(),Ys=function(){function t(){}return t.test=function(t){return"string"==typeof t&&0===t.indexOf("info face=")},t.parse=function(t){var e=t.match(/^[a-z]+\s+.+$/gm),r={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[]};for(var i in e){var n=e[i].match(/^[a-z]+/gm)[0],o=e[i].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),s={};for(var a in o){var h=o[a].split("="),u=h[0],l=h[1].replace(/"/gm,""),c=parseFloat(l),d=isNaN(c)?l:c;s[u]=d}r[n].push(s)}var p=new Hs;return r.info.forEach(function(t){return p.info.push({face:t.face,size:parseInt(t.size,10)})}),r.common.forEach(function(t){return p.common.push({lineHeight:parseInt(t.lineHeight,10)})}),r.page.forEach(function(t){return p.page.push({id:parseInt(t.id,10),file:t.file})}),r.char.forEach(function(t){return p.char.push({id:parseInt(t.id,10),page:parseInt(t.page,10),x:parseInt(t.x,10),y:parseInt(t.y,10),width:parseInt(t.width,10),height:parseInt(t.height,10),xoffset:parseInt(t.xoffset,10),yoffset:parseInt(t.yoffset,10),xadvance:parseInt(t.xadvance,10)})}),r.kerning.forEach(function(t){return p.kerning.push({first:parseInt(t.first,10),second:parseInt(t.second,10),amount:parseInt(t.amount,10)})}),p},t}(),zs=function(){function t(){}return t.test=function(t){return t instanceof XMLDocument&&t.getElementsByTagName("page").length&&null!==t.getElementsByTagName("info")[0].getAttribute("face")},t.parse=function(t){for(var e=new Hs,r=t.getElementsByTagName("info"),i=t.getElementsByTagName("common"),n=t.getElementsByTagName("page"),o=t.getElementsByTagName("char"),s=t.getElementsByTagName("kerning"),a=0;a<r.length;a++)e.info.push({face:r[a].getAttribute("face"),size:parseInt(r[a].getAttribute("size"),10)});for(a=0;a<i.length;a++)e.common.push({lineHeight:parseInt(i[a].getAttribute("lineHeight"),10)});for(a=0;a<n.length;a++)e.page.push({id:parseInt(n[a].getAttribute("id"),10)||0,file:n[a].getAttribute("file")});for(a=0;a<o.length;a++){var h=o[a];e.char.push({id:parseInt(h.getAttribute("id"),10),page:parseInt(h.getAttribute("page"),10)||0,x:parseInt(h.getAttribute("x"),10),y:parseInt(h.getAttribute("y"),10),width:parseInt(h.getAttribute("width"),10),height:parseInt(h.getAttribute("height"),10),xoffset:parseInt(h.getAttribute("xoffset"),10),yoffset:parseInt(h.getAttribute("yoffset"),10),xadvance:parseInt(h.getAttribute("xadvance"),10)})}for(a=0;a<s.length;a++)e.kerning.push({first:parseInt(s[a].getAttribute("first"),10),second:parseInt(s[a].getAttribute("second"),10),amount:parseInt(s[a].getAttribute("amount"),10)});return e},t}(),Vs=function(){function t(){}return t.test=function(t){if("string"==typeof t&&t.indexOf("<font>")>-1){var e=(new self.DOMParser).parseFromString(t,"text/xml");return zs.test(e)}return!1},t.parse=function(t){var e=(new window.DOMParser).parseFromString(t,"text/xml");return zs.parse(e)},t}(),Ws=[Ys,zs,Vs];function qs(t){for(var e=0;e<Ws.length;e++)if(Ws[e].test(t))return Ws[e];return null}function Ks(e,r,i,n,o,s,a){var h=i.text,u=i.fontProperties;r.translate(n,o),r.scale(s,s);var l=a.strokeThickness/2,c=-a.strokeThickness/2;if(r.font=a.toFontString(),r.lineWidth=a.strokeThickness,r.textBaseline=a.textBaseline,r.lineJoin=a.lineJoin,r.miterLimit=a.miterLimit,r.fillStyle=function(e,r,i,n,o,s){var a,h=i.fill;if(!Array.isArray(h))return h;if(1===h.length)return h[0];var u=i.dropShadow?i.dropShadowDistance:0,l=i.padding||0,c=Math.ceil(e.width/n)-u-2*l,d=Math.ceil(e.height/n)-u-2*l,p=h.slice(),f=i.fillGradientStops.slice();if(!f.length)for(var m=p.length+1,v=1;v<m;++v)f.push(v/m);if(p.unshift(h[0]),f.unshift(0),p.push(h[h.length-1]),f.push(1),i.fillGradientType===t.TEXT_GRADIENT.LINEAR_VERTICAL){a=r.createLinearGradient(c/2,l,c/2,d+l);var y=0,g=(s.fontProperties.fontSize+i.strokeThickness)/d;for(v=0;v<o.length;v++)for(var _=s.lineHeight*v,x=0;x<p.length;x++){var b=_/d+("number"==typeof f[x]?f[x]:x/p.length)*g,E=Math.max(y,b);E=Math.min(E,1),a.addColorStop(E,p[x]),y=E}}else{a=r.createLinearGradient(l,d/2,c+l,d/2);var T=p.length+1,P=1;for(v=0;v<p.length;v++){var S=void 0;S="number"==typeof f[v]?f[v]:P/T,a.addColorStop(S,p[v]),P++}}return a}(e,r,a,s,[h],i),r.strokeStyle=a.stroke,a.dropShadow){var d=a.dropShadowColor,p=kt("number"==typeof d?d:jt(d)),f=a.dropShadowBlur*s,m=a.dropShadowDistance*s;r.shadowColor="rgba("+255*p[0]+","+255*p[1]+","+255*p[2]+","+a.dropShadowAlpha+")",r.shadowBlur=f,r.shadowOffsetX=Math.cos(a.dropShadowAngle)*m,r.shadowOffsetY=Math.sin(a.dropShadowAngle)*m}else r.shadowColor="black",r.shadowBlur=0,r.shadowOffsetX=0,r.shadowOffsetY=0;a.stroke&&a.strokeThickness&&r.strokeText(h,l,c+i.lineHeight-u.descent),a.fill&&r.fillText(h,l,c+i.lineHeight-u.descent),r.setTransform(1,0,0,1,0,0),r.fillStyle="rgba(0, 0, 0, 0)"}var Zs=function(){function t(t,e,r){var i=t.info[0],n=t.common[0],o=pe(t.page[0].file),s={};this._ownsTextures=r,this.font=i.face,this.size=i.size,this.lineHeight=n.lineHeight/o,this.chars={},this.pageTextures=s;for(var a=0;a<t.page.length;a++){var h=t.page[a],u=h.id,l=h.file;s[u]=e instanceof Array?e[a]:e[l]}for(a=0;a<t.char.length;a++){var c=t.char[a],d=(u=c.id,c.page),p=t.char[a],f=p.x,m=p.y,v=p.width,y=p.height,g=p.xoffset,_=p.yoffset,x=p.xadvance;m/=o,v/=o,y/=o,g/=o,_/=o,x/=o;var b=new _e((f/=o)+s[d].frame.x/o,m+s[d].frame.y/o,v,y);this.chars[u]={xOffset:g,yOffset:_,xAdvance:x,kerning:{},texture:new Rr(s[d].baseTexture,b),page:d}}for(a=0;a<t.kerning.length;a++){var E=t.kerning[a],T=E.first,P=E.second,S=E.amount;T/=o,P/=o,S/=o,this.chars[P]&&(this.chars[P].kerning[T]=S)}}return t.prototype.destroy=function(){for(var t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(var t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null},t.install=function(e,r,i){var n;if(e instanceof Hs)n=e;else{var o=qs(e);if(!o)throw new Error("Unrecognized data format for font.");n=o.parse(e)}r instanceof Rr&&(r=[r]);var s=new t(n,r,i);return t.available[s.font]=s,s},t.uninstall=function(e){var r=t.available[e];if(!r)throw new Error("No font found named '"+e+"'");r.destroy(),delete t.available[e]},t.from=function(e,r,i){if(!e)throw new Error("[BitmapFont] Property `name` is required.");var n=Object.assign({},t.defaultOptions,i),o=n.chars,s=n.padding,a=n.resolution,h=n.textureWidth,u=n.textureHeight,l=function(t){"string"==typeof t&&(t=[t]);for(var e=[],r=0,i=t.length;r<i;r++){var n=t[r];if(Array.isArray(n)){if(2!==n.length)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+n.length+".");var o=n[0].charCodeAt(0),s=n[1].charCodeAt(0);if(s<o)throw new Error("[BitmapFont]: Invalid character range.");for(var a=o,h=s;a<=h;a++)e.push(String.fromCharCode(a))}else e.push.apply(e,n.split(""))}if(0===e.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}(o),c=r instanceof Qo?r:new Qo(r),d=h,p=new Hs;p.info[0]={face:c.fontFamily,size:c.fontSize},p.common[0]={lineHeight:c.fontSize};for(var f,m,v,y=0,g=0,_=0,x=[],b=0;b<l.length;b++){f||((f=document.createElement("canvas")).width=h,f.height=u,m=f.getContext("2d"),v=new vr(f,{resolution:a}),x.push(new Rr(v)),p.page.push({id:x.length-1,file:""}));var E=rs.measureText(l[b],c,!1,f),T=E.width,P=Math.ceil(E.height),S=Math.ceil(("italic"===c.fontStyle?2:1)*T);if(g>=u-P*a){if(0===g)throw new Error("[BitmapFont] textureHeight "+u+"px is too small for "+c.fontSize+"px fonts");--b,f=null,m=null,v=null,g=0,y=0,_=0}else if(_=Math.max(P+E.fontProperties.descent,_),S*a+y>=d)--b,g+=_*a,g=Math.ceil(g),y=0,_=0;else{Ks(f,m,E,y,g,a,c);var w=E.text.charCodeAt(0);p.char.push({id:w,page:x.length-1,x:y/a,y:g/a,width:S,height:P,xoffset:0,yoffset:0,xadvance:Math.ceil(T-(c.dropShadow?c.dropShadowDistance:0)-(c.stroke?c.strokeThickness:0))}),y+=(S+2*s)*a,y=Math.ceil(y)}}var I=new t(p,x,!0);return void 0!==t.available[e]&&t.uninstall(e),t.available[e]=I,I},t.ALPHA=[["a","z"],["A","Z"]," "],t.NUMERIC=[["0","9"]],t.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],t.ASCII=[[" ","~"]],t.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:t.ALPHANUMERIC},t.available={},t}(),Js=[],Qs=[],$s=function(t){function e(r,i){void 0===i&&(i={});var n=t.call(this)||this;n._tint=16777215,i.font&&(ne("5.3.0","PIXI.BitmapText constructor style.font property is deprecated."),n._upgradeStyle(i));var o=Object.assign({},e.styleDefaults,i),s=o.align,a=o.tint,h=o.maxWidth,u=o.letterSpacing,l=o.fontName,c=o.fontSize;if(!Zs.available[l])throw new Error('Missing BitmapFont "'+l+'"');return n._activePagesMeshData=[],n._textWidth=0,n._textHeight=0,n._align=s,n._tint=a,n._fontName=l,n._fontSize=c||Zs.available[l].size,n._text=r,n._maxWidth=h,n._maxLineHeight=0,n._letterSpacing=u,n._anchor=new Se(function(){n.dirty=!0},n,0,0),n._roundPixels=C.ROUND_PIXELS,n.dirty=!0,n._textureCache={},n}return function(t,e){function r(){this.constructor=t}Gs(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e.prototype.updateText=function(){for(var t,e=Zs.available[this._fontName],r=this._fontSize/e.size,i=new Pe,n=[],o=[],s=this._text.replace(/(?:\r\n|\r)/g,"\n")||" ",a=s.length,h=this._maxWidth*e.size/this._fontSize,u=null,l=0,c=0,d=0,p=-1,f=0,m=0,v=0,y=0;y<a;y++){var g=s.charCodeAt(y),_=s.charAt(y);if(/(?:\s)/.test(_)&&(p=y,f=l),"\r"!==_&&"\n"!==_){var x=e.chars[g];if(x){u&&x.kerning[u]&&(i.x+=x.kerning[u]);var b=Qs.pop()||{texture:Rr.EMPTY,line:0,charCode:0,position:new Pe};b.texture=x.texture,b.line=d,b.charCode=g,b.position.x=i.x+x.xOffset+this._letterSpacing/2,b.position.y=i.y+x.yOffset,n.push(b),i.x+=x.xAdvance+this._letterSpacing,l=i.x,v=Math.max(v,x.yOffset+x.texture.height),u=g,-1!==p&&h>0&&i.x>h&&($t(n,1+p-++m,1+y-p),y=p,p=-1,o.push(f),c=Math.max(c,f),d++,i.x=0,i.y+=e.lineHeight,u=null)}}else o.push(l),c=Math.max(c,l),++d,++m,i.x=0,i.y+=e.lineHeight,u=null}var E=s.charAt(s.length-1);"\r"!==E&&"\n"!==E&&(/(?:\s)/.test(E)&&(l=f),o.push(l),c=Math.max(c,l));var T=[];for(y=0;y<=d;y++){var P=0;"right"===this._align?P=c-o[y]:"center"===this._align&&(P=(c-o[y])/2),T.push(P)}var S=n.length,w={},I=[],A=this._activePagesMeshData;for(y=0;y<A.length;y++)Js.push(A[y]);for(y=0;y<S;y++){var O=(U=n[y].texture).baseTexture.uid;if(!w[O]){if(!(z=Js.pop())){var M=new js,C=new Xs(Rr.EMPTY);z={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:new Bs(M,C),vertices:null,uvs:null,indices:null}}z.index=0,z.indexCount=0,z.vertexCount=0,z.uvsCount=0,z.total=0;var D=this._textureCache;D[O]=D[O]||new Rr(U.baseTexture),z.mesh.texture=D[O],z.mesh.tint=this._tint,I.push(z),w[O]=z}w[O].total++}for(y=0;y<A.length;y++)-1===I.indexOf(A[y])&&this.removeChild(A[y].mesh);for(y=0;y<I.length;y++)I[y].mesh.parent!==this&&this.addChild(I[y].mesh);for(var y in this._activePagesMeshData=I,w){var R=(z=w[y]).total;if(!((null===(t=z.indices)||void 0===t?void 0:t.length)>6*R)||z.vertices.length<2*Bs.BATCHABLE_SIZE)z.vertices=new Float32Array(8*R),z.uvs=new Float32Array(8*R),z.indices=new Uint16Array(6*R);else for(var L=z.total,N=z.vertices,F=4*L*2;F<N.length;F++)N[F]=0;z.mesh.size=6*R}for(y=0;y<S;y++){var B=(_=n[y]).position.x+T[_.line];this._roundPixels&&(B=Math.round(B));var U,k=B*r,X=_.position.y*r,j=w[(U=_.texture).baseTexture.uid],G=U.frame,H=U._uvs,Y=j.index++;j.indices[6*Y+0]=0+4*Y,j.indices[6*Y+1]=1+4*Y,j.indices[6*Y+2]=2+4*Y,j.indices[6*Y+3]=0+4*Y,j.indices[6*Y+4]=2+4*Y,j.indices[6*Y+5]=3+4*Y,j.vertices[8*Y+0]=k,j.vertices[8*Y+1]=X,j.vertices[8*Y+2]=k+G.width*r,j.vertices[8*Y+3]=X,j.vertices[8*Y+4]=k+G.width*r,j.vertices[8*Y+5]=X+G.height*r,j.vertices[8*Y+6]=k,j.vertices[8*Y+7]=X+G.height*r,j.uvs[8*Y+0]=H.x0,j.uvs[8*Y+1]=H.y0,j.uvs[8*Y+2]=H.x1,j.uvs[8*Y+3]=H.y1,j.uvs[8*Y+4]=H.x2,j.uvs[8*Y+5]=H.y2,j.uvs[8*Y+6]=H.x3,j.uvs[8*Y+7]=H.y3}for(var y in this._textWidth=c*r,this._textHeight=(i.y+e.lineHeight)*r,w){var z=w[y];if(0!==this.anchor.x||0!==this.anchor.y)for(var V=0,W=this._textWidth*this.anchor.x,q=this._textHeight*this.anchor.y,K=0;K<z.total;K++)z.vertices[V++]-=W,z.vertices[V++]-=q,z.vertices[V++]-=W,z.vertices[V++]-=q,z.vertices[V++]-=W,z.vertices[V++]-=q,z.vertices[V++]-=W,z.vertices[V++]-=q;this._maxLineHeight=v*r;var Z=z.mesh.geometry.getBuffer("aVertexPosition"),J=z.mesh.geometry.getBuffer("aTextureCoord"),Q=z.mesh.geometry.getIndex();Z.data=z.vertices,J.data=z.uvs,Q.data=z.indices,Z.update(),J.update(),Q.update()}for(y=0;y<n.length;y++)Qs.push(n[y])},e.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},e.prototype.getLocalBounds=function(){return this.validate(),t.prototype.getLocalBounds.call(this)},e.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){if(this._tint!==t){this._tint=t;for(var e=0;e<this._activePagesMeshData.length;e++)this._activePagesMeshData[e].mesh.tint=t}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontName",{get:function(){return this._fontName},set:function(t){if(!Zs.available[t])throw new Error('Missing BitmapFont "'+t+'"');this._fontName!==t&&(this._fontName=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(t){"number"==typeof t?this._anchor.set(t):this._anchor.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(t){t=String(null==t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){t!==this._roundPixels&&(this._roundPixels=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),e.prototype._upgradeStyle=function(t){if("string"==typeof t.font){var e=t.font.split(" ");t.fontName=1===e.length?e[0]:e.slice(1).join(" "),e.length>=2&&(t.fontSize=parseInt(e[0],10))}else t.fontName=t.font.name,t.fontSize="number"==typeof t.font.size?t.font.size:parseInt(t.font.size,10)},e.prototype.destroy=function(e){var r=this._textureCache;for(var i in r){r[i].destroy(),delete r[i]}this._textureCache=null,t.prototype.destroy.call(this,e)},e.registerFont=function(t,e){return ne("5.3.0","PIXI.BitmapText.registerFont is deprecated, use PIXI.BitmapFont.install"),Zs.install(t,e)},Object.defineProperty(e,"fonts",{get:function(){return ne("5.3.0","PIXI.BitmapText.fonts is deprecated, use PIXI.BitmapFont.available"),Zs.available},enumerable:!1,configurable:!0}),e.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},e}(Ge),ta=function(){function t(){}return t.add=function(){Qn.setExtensionXhrType("fnt",Qn.XHR_RESPONSE_TYPE.TEXT)},t.use=function(e,r){var i=qs(e.data);if(i)for(var n=t.getBaseUrl(this,e),o=i.parse(e.data),s={},a=function(t){s[t.metadata.pageFile]=t.texture,Object.keys(s).length===o.page.length&&(e.bitmapFont=Zs.install(o,s,!0),r())},h=0;h<o.page.length;++h){var u=o.page[h].file,l=n+u,c=!1;for(var d in this.resources){var p=this.resources[d];if(p.url===l){p.metadata.pageFile=u,p.texture?a(p):p.onAfterMiddleware.add(a),c=!0;break}}if(!c){var f={crossOrigin:e.crossOrigin,loadType:Qn.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:u},e.metadata.imageMetadata),parentResource:e};this.add(l,f,a)}}else r()},t.getBaseUrl=function(e,r){var i=r.isDataUrl?"":t.dirname(r.url);return r.isDataUrl&&("."===i&&(i=""),e.baseUrl&&i&&"/"===e.baseUrl.charAt(e.baseUrl.length-1)&&(i+="/")),(i=i.replace(e.baseUrl,""))&&"/"!==i.charAt(i.length-1)&&(i+="/"),i},t.dirname=function(t){var e=t.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return e===t?".":""===e?"/":e},t}(),ea=function(t,e){return(ea=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};var ra="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n",ia=function(t){function e(e){void 0===e&&(e=1);var r=t.call(this,vn,ra,{uAlpha:1})||this;return r.alpha=e,r}return function(t,e){function r(){this.constructor=t}ea(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t},enumerable:!1,configurable:!0}),e}(Ni),na=function(t,e){return(na=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function oa(t,e){function r(){this.constructor=t}na(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var sa="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }";var aa,ha,ua,la,ca,da,pa,fa,ma,va,ya,ga,_a,xa,ba,Ea,Ta,Pa={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},Sa=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");!function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"}(aa||(aa={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"}(ha||(ha={})),function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"}(ua||(ua={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"}(la||(la={})),function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(ca||(ca={})),function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(da||(da={})),function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(pa||(pa={})),function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.FLOAT=5126]="FLOAT",t[t.HALF_FLOAT=36193]="HALF_FLOAT"}(fa||(fa={})),function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"}(ma||(ma={})),function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(va||(va={})),function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON"}(ya||(ya={})),function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"}(ga||(ga={})),function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"}(_a||(_a={})),function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"}(xa||(xa={})),function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"}(ba||(ba={})),function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"}(Ea||(Ea={})),function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"}(Ta||(Ta={}));var wa=function(t){function e(e,r,i,n,o){void 0===r&&(r=8),void 0===i&&(i=4),void 0===n&&(n=C.FILTER_RESOLUTION),void 0===o&&(o=5);var s=this,a=function(t,e){var r,i=Math.ceil(t/2),n=sa,o="";r=e?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var s=0;s<t;s++){var a=r.replace("%index%",s.toString());o+=a=a.replace("%sampleIndex%",s-(i-1)+".0"),o+="\n"}return n=(n=n.replace("%blur%",o)).replace("%size%",t.toString())}(o,e),h=function(t){for(var e,r=Pa[t],i=r.length,n=Sa,o="",s=0;s<t;s++){var a="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",s.toString());e=s,s>=i&&(e=t-s-1),o+=a=a.replace("%value%",r[e].toString()),o+="\n"}return n=(n=n.replace("%blur%",o)).replace("%size%",t.toString())}(o);return(s=t.call(this,a,h)||this).horizontal=e,s.resolution=n,s._quality=0,s.quality=i,s.blur=r,s}return oa(e,t),e.prototype.apply=function(t,e,r,i){if(r?this.horizontal?this.uniforms.strength=1/r.width*(r.width/e.width):this.uniforms.strength=1/r.height*(r.height/e.height):this.horizontal?this.uniforms.strength=1/t.renderer.width*(t.renderer.width/e.width):this.uniforms.strength=1/t.renderer.height*(t.renderer.height/e.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,r,i);else{var n=t.getFilterTexture(),o=t.renderer,s=e,a=n;this.state.blend=!1,t.applyFilter(this,s,a,_a.CLEAR);for(var h=1;h<this.passes-1;h++){t.bindAndClear(s,_a.BLIT),this.uniforms.uSampler=a;var u=a;a=s,s=u,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,t.applyFilter(this,a,r,i),t.returnFilterTexture(n)}},Object.defineProperty(e.prototype,"blur",{get:function(){return this.strength},set:function(t){this.padding=1+2*Math.abs(t),this.strength=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t},enumerable:!1,configurable:!0}),e}(Ni),Ia=function(t){function e(e,r,i,n){void 0===e&&(e=8),void 0===r&&(r=4),void 0===i&&(i=C.FILTER_RESOLUTION),void 0===n&&(n=5);var o=t.call(this)||this;return o.blurXFilter=new wa(!0,e,r,i,n),o.blurYFilter=new wa(!1,e,r,i,n),o.resolution=i,o.quality=r,o.blur=e,o.repeatEdgePixels=!1,o}return oa(e,t),e.prototype.apply=function(t,e,r,i){var n=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(n&&o){var s=t.getFilterTexture();this.blurXFilter.apply(t,e,s,_a.CLEAR),this.blurYFilter.apply(t,s,r,i),t.returnFilterTexture(s)}else o?this.blurYFilter.apply(t,e,r,i):this.blurXFilter.apply(t,e,r,i)},e.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))},Object.defineProperty(e.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(t){this.blurXFilter.quality=this.blurYFilter.quality=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(t){this.blurYFilter.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(t){this._repeatEdgePixels=t,this.updatePadding()},enumerable:!1,configurable:!0}),e}(Ni),Aa=function(t,e){return(Aa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};var Oa="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",Ma=function(t){function e(){var e=this,r={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return(e=t.call(this,yn,Oa,r)||this).alpha=1,e}return function(t,e){function r(){this.constructor=t}Aa(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e.prototype._loadMatrix=function(t,e){void 0===e&&(e=!1);var r=t;e&&(this._multiply(r,this.uniforms.m,t),r=this._colorMatrix(r)),this.uniforms.m=r},e.prototype._multiply=function(t,e,r){return t[0]=e[0]*r[0]+e[1]*r[5]+e[2]*r[10]+e[3]*r[15],t[1]=e[0]*r[1]+e[1]*r[6]+e[2]*r[11]+e[3]*r[16],t[2]=e[0]*r[2]+e[1]*r[7]+e[2]*r[12]+e[3]*r[17],t[3]=e[0]*r[3]+e[1]*r[8]+e[2]*r[13]+e[3]*r[18],t[4]=e[0]*r[4]+e[1]*r[9]+e[2]*r[14]+e[3]*r[19]+e[4],t[5]=e[5]*r[0]+e[6]*r[5]+e[7]*r[10]+e[8]*r[15],t[6]=e[5]*r[1]+e[6]*r[6]+e[7]*r[11]+e[8]*r[16],t[7]=e[5]*r[2]+e[6]*r[7]+e[7]*r[12]+e[8]*r[17],t[8]=e[5]*r[3]+e[6]*r[8]+e[7]*r[13]+e[8]*r[18],t[9]=e[5]*r[4]+e[6]*r[9]+e[7]*r[14]+e[8]*r[19]+e[9],t[10]=e[10]*r[0]+e[11]*r[5]+e[12]*r[10]+e[13]*r[15],t[11]=e[10]*r[1]+e[11]*r[6]+e[12]*r[11]+e[13]*r[16],t[12]=e[10]*r[2]+e[11]*r[7]+e[12]*r[12]+e[13]*r[17],t[13]=e[10]*r[3]+e[11]*r[8]+e[12]*r[13]+e[13]*r[18],t[14]=e[10]*r[4]+e[11]*r[9]+e[12]*r[14]+e[13]*r[19]+e[14],t[15]=e[15]*r[0]+e[16]*r[5]+e[17]*r[10]+e[18]*r[15],t[16]=e[15]*r[1]+e[16]*r[6]+e[17]*r[11]+e[18]*r[16],t[17]=e[15]*r[2]+e[16]*r[7]+e[17]*r[12]+e[18]*r[17],t[18]=e[15]*r[3]+e[16]*r[8]+e[17]*r[13]+e[18]*r[18],t[19]=e[15]*r[4]+e[16]*r[9]+e[17]*r[14]+e[18]*r[19]+e[19],t},e.prototype._colorMatrix=function(t){var e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e},e.prototype.brightness=function(t,e){var r=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.greyscale=function(t,e){var r=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.blackAndWhite=function(t){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],t)},e.prototype.hue=function(t,e){t=(t||0)/180*Math.PI;var r=Math.cos(t),i=Math.sin(t),n=1/3,o=(0,Math.sqrt)(n),s=[r+(1-r)*n,n*(1-r)-o*i,n*(1-r)+o*i,0,0,n*(1-r)+o*i,r+n*(1-r),n*(1-r)-o*i,0,0,n*(1-r)-o*i,n*(1-r)+o*i,r+n*(1-r),0,0,0,0,0,1,0];this._loadMatrix(s,e)},e.prototype.contrast=function(t,e){var r=(t||0)+1,i=-.5*(r-1),n=[r,0,0,0,i,0,r,0,0,i,0,0,r,0,i,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.saturate=function(t,e){void 0===t&&(t=0);var r=2*t/3+1,i=-.5*(r-1),n=[r,i,i,0,0,i,r,i,0,0,i,i,r,0,0,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(t){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],t)},e.prototype.sepia=function(t){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],t)},e.prototype.technicolor=function(t){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],t)},e.prototype.polaroid=function(t){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],t)},e.prototype.toBGR=function(t){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],t)},e.prototype.kodachrome=function(t){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],t)},e.prototype.browni=function(t){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],t)},e.prototype.vintage=function(t){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],t)},e.prototype.colorTone=function(t,e,r,i,n){var o=((r=r||16770432)>>16&255)/255,s=(r>>8&255)/255,a=(255&r)/255,h=((i=i||3375104)>>16&255)/255,u=(i>>8&255)/255,l=(255&i)/255,c=[.3,.59,.11,0,0,o,s,a,t=t||.2,0,h,u,l,e=e||.15,0,o-h,s-u,a-l,0,0];this._loadMatrix(c,n)},e.prototype.night=function(t,e){var r=[-2*(t=t||.1),-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.predator=function(t,e){var r=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.lsd=function(t){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],t)},e.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},Object.defineProperty(e.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(t){this.uniforms.m=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t},enumerable:!1,configurable:!0}),e}(Ni);Ma.prototype.grayscale=Ma.prototype.greyscale;var Ca=function(t,e){return(Ca=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};var Da="varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",Ra="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n",La=function(t){function e(e,r){var i=this,n=new we;return e.renderable=!1,(i=t.call(this,Ra,Da,{mapSampler:e._texture,filterMatrix:n,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this).maskSprite=e,i.maskMatrix=n,null==r&&(r=20),i.scale=new Pe(r,r),i}return function(t,e){function r(){this.constructor=t}Ca(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e.prototype.apply=function(t,e,r,i){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var n=this.maskSprite.worldTransform,o=Math.sqrt(n.a*n.a+n.b*n.b),s=Math.sqrt(n.c*n.c+n.d*n.d);0!==o&&0!==s&&(this.uniforms.rotation[0]=n.a/o,this.uniforms.rotation[1]=n.b/o,this.uniforms.rotation[2]=n.c/s,this.uniforms.rotation[3]=n.d/s),t.applyFilter(this,e,r,i)},Object.defineProperty(e.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(t){this.uniforms.mapSampler=t},enumerable:!1,configurable:!0}),e}(Ni),Na=function(t,e){return(Na=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};var Fa="\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputPixel;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",Ba='varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputPixel;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n',Ua=function(t){function e(){return t.call(this,Fa,Ba)||this}return function(t,e){function r(){this.constructor=t}Na(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e}(Ni),ka=function(t,e){return(ka=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};var Xa="precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n",ja=function(t){function e(e,r){void 0===e&&(e=.5),void 0===r&&(r=Math.random());var i=t.call(this,yn,Xa,{uNoise:0,uSeed:0})||this;return i.noise=e,i.seed=r,i}return function(t,e){function r(){this.constructor=t}ka(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),Object.defineProperty(e.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(t){this.uniforms.uNoise=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(t){this.uniforms.uSeed=t},enumerable:!1,configurable:!0}),e}(Ni),Ga=new we;ke.prototype._cacheAsBitmap=!1,ke.prototype._cacheData=null;var Ha=function(){return function(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}();Object.defineProperties(ke.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){var e;this._cacheAsBitmap!==t&&(this._cacheAsBitmap=t,t?(this._cacheData||(this._cacheData=new Ha),(e=this._cacheData).originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((e=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea))}}}),ke.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))},ke.prototype._initCachedDisplayObject=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.alpha;this.alpha=1,t.batch.flush();var r=this.getLocalBounds(null,!0).clone();if(this.filters){var i=this.filters[0].padding;r.pad(i)}r.ceil(C.RESOLUTION);var n=t.renderTexture.current,o=t.renderTexture.sourceFrame.clone(),s=t.renderTexture.destinationFrame.clone(),a=t.projection.transform,h=Nr.create({width:r.width,height:r.height}),u="cacheAsBitmap_"+re();this._cacheData.textureCacheId=u,vr.addToCache(h.baseTexture,u),Rr.addToCache(h,u);var l=this.transform.localTransform.copyTo(Ga).invert().translate(-r.x,-r.y);this.render=this._cacheData.originalRender,t.render(this,h,!0,l,!1),t.projection.transform=a,t.renderTexture.bind(n,o,s),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var c=new qo(h);c.transform.worldTransform=this.transform.worldTransform,c.anchor.x=-r.x/r.width,c.anchor.y=-r.y/r.height,c.alpha=e,c._bounds=this._bounds,this._cacheData.sprite=c,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=c.containsPoint.bind(c)}},ke.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))},ke.prototype._initCachedDisplayObjectCanvas=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.getLocalBounds(null,!0),r=this.alpha;this.alpha=1;var i=t.context,n=t._projTransform;e.ceil(C.RESOLUTION);var o=Nr.create({width:e.width,height:e.height}),s="cacheAsBitmap_"+re();this._cacheData.textureCacheId=s,vr.addToCache(o.baseTexture,s),Rr.addToCache(o,s);var a=Ga;this.transform.localTransform.copyTo(a),a.invert(),a.tx-=e.x,a.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,o,!0,a,!1),t.context=i,t._projTransform=n,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var h=new qo(o);h.transform.worldTransform=this.transform.worldTransform,h.anchor.x=-e.x/e.width,h.anchor.y=-e.y/e.height,h.alpha=r,h._bounds=this._bounds,this._cacheData.sprite=h,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=h.containsPoint.bind(h)}},ke.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},ke.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)},ke.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,vr.removeFromCache(this._cacheData.textureCacheId),Rr.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},ke.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)},ke.prototype.name=null,Ge.prototype.getChildByName=function(t,e){for(var r=0,i=this.children.length;r<i;r++)if(this.children[r].name===t)return this.children[r];if(e)for(r=0,i=this.children.length;r<i;r++){if(this.children[r].getChildByName){var n=this.children[r].getChildByName(t,!0);if(n)return n}}return null},ke.prototype.getGlobalPosition=function(t,e){return void 0===t&&(t=new Pe),void 0===e&&(e=!1),this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t};var Ya=function(t,e){return(Ya=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function za(t,e){function r(){this.constructor=t}Ya(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var Va="5.0.0";var Wa=function(t,e){return(Wa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function qa(t,e){function r(){this.constructor=t}Wa(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var Ka=function(t){function e(e,r,i,n){void 0===e&&(e=100),void 0===r&&(r=100),void 0===i&&(i=10),void 0===n&&(n=10);var o=t.call(this)||this;return o.segWidth=i,o.segHeight=n,o.width=e,o.height=r,o.build(),o}return qa(e,t),e.prototype.build=function(){for(var t=this.segWidth*this.segHeight,e=[],r=[],i=[],n=this.segWidth-1,o=this.segHeight-1,s=this.width/n,a=this.height/o,h=0;h<t;h++){var u=h%this.segWidth,l=h/this.segWidth|0;e.push(u*s,l*a),r.push(u/n,l/o)}var c=n*o;for(h=0;h<c;h++){var d=h%n,p=h/n|0,f=p*this.segWidth+d,m=p*this.segWidth+d+1,v=(p+1)*this.segWidth+d,y=(p+1)*this.segWidth+d+1;i.push(f,m,v,m,y,v)}this.buffers[0].data=new Float32Array(e),this.buffers[1].data=new Float32Array(r),this.indexBuffer.data=new Uint16Array(i),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},e}(js),Za=function(t){function e(e,r,i){void 0===e&&(e=200),void 0===i&&(i=0);var n=t.call(this,new Float32Array(4*r.length),new Float32Array(4*r.length),new Uint16Array(6*(r.length-1)))||this;return n.points=r,n._width=e,n.textureScale=i,n.build(),n}return qa(e,t),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),e.prototype.build=function(){var t=this.points;if(t){var e=this.getBuffer("aVertexPosition"),r=this.getBuffer("aTextureCoord"),i=this.getIndex();if(!(t.length<1)){e.data.length/4!==t.length&&(e.data=new Float32Array(4*t.length),r.data=new Float32Array(4*t.length),i.data=new Uint16Array(6*(t.length-1)));var n=r.data,o=i.data;n[0]=0,n[1]=0,n[2]=0,n[3]=1;for(var s=0,a=t[0],h=this._width*this.textureScale,u=t.length,l=0;l<u;l++){var c=4*l;if(this.textureScale>0){var d=a.x-t[l].x,p=a.y-t[l].y,f=Math.sqrt(d*d+p*p);a=t[l],s+=f/h}else s=l/(u-1);n[c]=s,n[c+1]=0,n[c+2]=s,n[c+3]=1}var m=0;for(l=0;l<u-1;l++){c=2*l;o[m++]=c,o[m++]=c+1,o[m++]=c+2,o[m++]=c+2,o[m++]=c+1,o[m++]=c+3}r.update(),i.update(),this.updateVertices()}}},e.prototype.updateVertices=function(){var t=this.points;if(!(t.length<1)){for(var e,r=t[0],i=0,n=0,o=this.buffers[0].data,s=t.length,a=0;a<s;a++){var h=t[a],u=4*a;n=-((e=a<t.length-1?t[a+1]:h).x-r.x),i=e.y-r.y;var l=Math.sqrt(i*i+n*n),c=this.textureScale>0?this.textureScale*this._width/2:this._width/2;i/=l,n/=l,i*=c,n*=c,o[u]=h.x+i,o[u+1]=h.y+n,o[u+2]=h.x-i,o[u+3]=h.y-n,r=h}this.buffers[0].update()}},e.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},e}(js),Ja=function(e){function r(r,i,n){void 0===n&&(n=0);var o=this,s=new Za(r.height,i,n),a=new Xs(r);return n>0&&(r.baseTexture.wrapMode=t.WRAP_MODES.REPEAT),(o=e.call(this,s,a)||this).autoUpdate=!0,o}return qa(r,e),r.prototype._render=function(t){var r=this.geometry;(this.autoUpdate||r._width!==this.shader.texture.height)&&(r._width=this.shader.texture.height,r.update()),e.prototype._render.call(this,t)},r}(Bs),Qa=function(t){function e(e,r,i){var n=this,o=new Ka(e.width,e.height,r,i),s=new Xs(Rr.WHITE);return(n=t.call(this,o,s)||this).texture=e,n}return qa(e,t),e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var t=this.geometry;t.width=this.shader.texture.width,t.height=this.shader.texture.height,t.build()},Object.defineProperty(e.prototype,"texture",{get:function(){return this.shader.texture},set:function(t){this.shader.texture!==t&&(this.shader.texture=t,this._textureID=-1,t.baseTexture.valid?this.textureUpdated():t.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),e.prototype._render=function(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),t.prototype._render.call(this,e)},e.prototype.destroy=function(e){this.shader.texture.off("update",this.textureUpdated,this),t.prototype.destroy.call(this,e)},e}(Bs),$a=function(t){function e(e,r,i,n,o){void 0===e&&(e=Rr.EMPTY);var s=this,a=new js(r,i,n);a.getBuffer("aVertexPosition").static=!1;var h=new Xs(e);return(s=t.call(this,a,h,null,o)||this).autoUpdate=!0,s}return qa(e,t),Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(t){this.geometry.getBuffer("aVertexPosition").data=t},enumerable:!1,configurable:!0}),e.prototype._render=function(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),t.prototype._render.call(this,e)},e}(Bs),th=10,eh=function(t){function e(e,r,i,n,o){void 0===r&&(r=th),void 0===i&&(i=th),void 0===n&&(n=th),void 0===o&&(o=th);var s=t.call(this,Rr.WHITE,4,4)||this;return s._origWidth=e.orig.width,s._origHeight=e.orig.height,s._width=s._origWidth,s._height=s._origHeight,s._leftWidth=r,s._rightWidth=n,s._topHeight=i,s._bottomHeight=o,s.texture=e,s}return qa(e,t),e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(t){this.geometry.getBuffer("aVertexPosition").data=t},enumerable:!1,configurable:!0}),e.prototype.updateHorizontalVertices=function(){var t=this.vertices,e=this._getMinScale();t[9]=t[11]=t[13]=t[15]=this._topHeight*e,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight*e,t[25]=t[27]=t[29]=t[31]=this._height},e.prototype.updateVerticalVertices=function(){var t=this.vertices,e=this._getMinScale();t[2]=t[10]=t[18]=t[26]=this._leftWidth*e,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth*e,t[6]=t[14]=t[22]=t[30]=this._width},e.prototype._getMinScale=function(){var t=this._leftWidth+this._rightWidth,e=this._width>t?1:this._width/t,r=this._topHeight+this._bottomHeight,i=this._height>r?1:this._height/r;return Math.min(e,i)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(t){this._leftWidth=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(t){this._rightWidth=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"topHeight",{get:function(){return this._topHeight},set:function(t){this._topHeight=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(t){this._bottomHeight=t,this._refresh()},enumerable:!1,configurable:!0}),e.prototype._refresh=function(){var t=this.texture,e=this.geometry.buffers[1].data;this._origWidth=t.orig.width,this._origHeight=t.orig.height;var r=1/this._origWidth,i=1/this._origHeight;e[0]=e[8]=e[16]=e[24]=0,e[1]=e[3]=e[5]=e[7]=0,e[6]=e[14]=e[22]=e[30]=1,e[25]=e[27]=e[29]=e[31]=1,e[2]=e[10]=e[18]=e[26]=r*this._leftWidth,e[4]=e[12]=e[20]=e[28]=1-r*this._rightWidth,e[9]=e[11]=e[13]=e[15]=i*this._topHeight,e[17]=e[19]=e[21]=e[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},e}(Qa),rh=function(t,e){return(rh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};var ih=function(e){function r(t,r){void 0===r&&(r=!0);var i=e.call(this,t[0]instanceof Rr?t[0]:t[0].texture)||this;return i._textures=null,i._durations=null,i._autoUpdate=r,i._isConnectedToTicker=!1,i.animationSpeed=1,i.loop=!0,i.updateAnchor=!1,i.onComplete=null,i.onFrameChange=null,i.onLoop=null,i._currentTime=0,i._playing=!1,i._previousFrame=null,i.textures=t,i}return function(t,e){function r(){this.constructor=t}rh(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(r,e),r.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Je.shared.remove(this.update,this),this._isConnectedToTicker=!1))},r.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Je.shared.add(this.update,this,t.UPDATE_PRIORITY.HIGH),this._isConnectedToTicker=!0))},r.prototype.gotoAndStop=function(t){this.stop();var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture()},r.prototype.gotoAndPlay=function(t){var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture(),this.play()},r.prototype.update=function(t){if(this._playing){var e=this.animationSpeed*t,r=this.currentFrame;if(null!==this._durations){var i=this._currentTime%1*this._durations[this.currentFrame];for(i+=e/60*1e3;i<0;)this._currentTime--,i+=this._durations[this.currentFrame];var n=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*n,this._currentTime+=n;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=e;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<r?this.onLoop():this.animationSpeed<0&&this.currentFrame>r&&this.onLoop()),this.updateTexture())}},r.prototype.updateTexture=function(){var t=this.currentFrame;this._previousFrame!==t&&(this._previousFrame=t,this._texture=this._textures[t],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},r.prototype.destroy=function(t){this.stop(),e.prototype.destroy.call(this,t),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},r.fromFrames=function(t){for(var e=[],i=0;i<t.length;++i)e.push(Rr.from(t[i]));return new r(e)},r.fromImages=function(t){for(var e=[],i=0;i<t.length;++i)e.push(Rr.from(t[i]));return new r(e)},Object.defineProperty(r.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"textures",{get:function(){return this._textures},set:function(t){if(t[0]instanceof Rr)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(var e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"currentFrame",{get:function(){var t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(Je.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Je.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),r}(qo);fn.registerPlugin("accessibility",Ke),fn.registerPlugin("extract",Cn),fn.registerPlugin("interaction",ar),fn.registerPlugin("particle",co),fn.registerPlugin("prepare",_s),fn.registerPlugin("batch",In),fn.registerPlugin("tilingSprite",Cs),eo.registerPlugin(ta),eo.registerPlugin(Es),An.registerPlugin(Qe),An.registerPlugin(ro);var nh={AlphaFilter:ia,BlurFilter:Ia,BlurFilterPass:wa,ColorMatrixFilter:Ma,DisplacementFilter:La,FXAAFilter:Ua,NoiseFilter:ja};return t.AbstractBatchRenderer=bn,t.AbstractRenderer=pn,t.AccessibilityManager=Ke,t.AnimatedSprite=ih,t.AppLoaderPlugin=ro,t.Application=An,t.Attribute=Br,t.BasePrepare=ms,t.BaseRenderTexture=Mr,t.BaseTexture=vr,t.BatchDrawCall=gn,t.BatchGeometry=Tn,t.BatchPluginFactory=wn,t.BatchRenderer=In,t.BatchShaderGenerator=En,t.BatchTextureArray=_n,t.BitmapFont=Zs,t.BitmapFontData=Hs,t.BitmapFontLoader=ta,t.BitmapText=$s,t.Bounds=Fe,t.Buffer=kr,t.Circle=xe,t.Container=Ge,t.CountLimiter=as,t.DEG_TO_RAD=ge,t.DisplayObject=ke,t.Ellipse=be,t.Extract=Cn,t.FillStyle=fo,t.Filter=Ni,t.FilterState=Zr,t.Framebuffer=Or,t.GLFramebuffer=ri,t.GLProgram=Ji,t.GLTexture=un,t.GRAPHICS_CURVES=po,t.Geometry=zr,t.Graphics=Ho,t.GraphicsData=Fo,t.GraphicsGeometry=ko,t.IGLUniformData=Zi,t.InteractionData=$e,t.InteractionEvent=er,t.InteractionManager=ar,t.InteractionTrackingData=rr,t.LineStyle=Xo,t.Loader=eo,t.LoaderResource=Qn,t.MaskData=hi,t.Matrix=we,t.Mesh=Bs,t.MeshBatchUvs=Ls,t.MeshGeometry=js,t.MeshMaterial=Xs,t.NineSlicePlane=eh,t.ObjectRenderer=Qr,t.ObservablePoint=Se,t.PI_2=ve,t.ParticleContainer=ao,t.ParticleRenderer=co,t.PlaneGeometry=Ka,t.Point=Pe,t.Polygon=Ee,t.Prepare=_s,t.Program=Di,t.Quad=Vr,t.QuadUv=Wr,t.RAD_TO_DEG=ye,t.Rectangle=_e,t.RenderTexture=Nr,t.RenderTexturePool=Fr,t.Renderer=fn,t.RopeGeometry=Za,t.RoundedRectangle=Te,t.Runner=hr,t.Shader=Ri,t.SimpleMesh=$a,t.SimplePlane=Qa,t.SimpleRope=Ja,t.Sprite=qo,t.SpriteMaskFilter=Xi,t.Spritesheet=bs,t.SpritesheetLoader=Es,t.State=Li,t.System=Ir,t.TemporaryDisplayObject=Xe,t.Text=os,t.TextMetrics=rs,t.TextStyle=Qo,t.Texture=Rr,t.TextureLoader=to,t.TextureMatrix=ki,t.TextureUvs=Cr,t.Ticker=Je,t.TickerPlugin=Qe,t.TilingSprite=ws,t.TilingSpriteRenderer=Cs,t.TimeLimiter=xs,t.Transform=Ne,t.UniformGroup=Kr,t.VERSION="5.3.12",t.ViewableBuffer=xn,t.accessibleTarget=He,t.autoDetectRenderer=mn,t.checkMaxIfStatementsInShader=Oi,t.defaultFilterVertex=yn,t.defaultVertex=vn,t.filters=nh,t.graphicsUtils=No,t.groupD8=Le,t.interactiveTarget=nr,t.isMobile=M,t.resources=wr,t.settings=C,t.systems=cn,t.uniformParsers=Ti,t.useDeprecated=function(){var t=this;Object.defineProperties(t,{SVG_SIZE:{get:function(){return ne(Va,"PIXI.utils.SVG_SIZE property has moved to PIXI.resources.SVGResource.SVG_SIZE"),t.SVGResource.SVG_SIZE}},TransformStatic:{get:function(){return ne(Va,"PIXI.TransformStatic class has been removed, use PIXI.Transform"),t.Transform}},TransformBase:{get:function(){return ne(Va,"PIXI.TransformBase class has been removed, use PIXI.Transform"),t.Transform}},TRANSFORM_MODE:{get:function(){return ne(Va,"PIXI.TRANSFORM_MODE property has been removed"),{STATIC:0,DYNAMIC:1}}},WebGLRenderer:{get:function(){return ne(Va,"PIXI.WebGLRenderer class has moved to PIXI.Renderer"),t.Renderer}},CanvasRenderTarget:{get:function(){return ne(Va,"PIXI.CanvasRenderTarget class has moved to PIXI.utils.CanvasRenderTarget"),t.utils.CanvasRenderTarget}},loader:{get:function(){return ne(Va,"PIXI.loader instance has moved to PIXI.Loader.shared"),t.Loader.shared}},FilterManager:{get:function(){return ne(Va,"PIXI.FilterManager class has moved to PIXI.systems.FilterSystem"),t.systems.FilterSystem}},CanvasTinter:{get:function(){return ne("5.2.0","PIXI.CanvasTinter namespace has moved to PIXI.canvasUtils"),t.canvasUtils}},GroupD8:{get:function(){return ne("5.2.0","PIXI.GroupD8 namespace has moved to PIXI.groupD8"),t.groupD8}}}),t.accessibility={},Object.defineProperties(t.accessibility,{AccessibilityManager:{get:function(){return ne("5.3.0","PIXI.accessibility.AccessibilityManager moved to PIXI.AccessibilityManager"),t.AccessibilityManager}}}),t.interaction={},Object.defineProperties(t.interaction,{InteractionManager:{get:function(){return ne("5.3.0","PIXI.interaction.InteractionManager moved to PIXI.InteractionManager"),t.InteractionManager}},InteractionData:{get:function(){return ne("5.3.0","PIXI.interaction.InteractionData moved to PIXI.InteractionData"),t.InteractionData}},InteractionEvent:{get:function(){return ne("5.3.0","PIXI.interaction.InteractionEvent moved to PIXI.InteractionEvent"),t.InteractionEvent}}}),t.prepare={},Object.defineProperties(t.prepare,{BasePrepare:{get:function(){return ne("5.2.1","PIXI.prepare.BasePrepare moved to PIXI.BasePrepare"),t.BasePrepare}},Prepare:{get:function(){return ne("5.2.1","PIXI.prepare.Prepare moved to PIXI.Prepare"),t.Prepare}},CanvasPrepare:{get:function(){return ne("5.2.1","PIXI.prepare.CanvasPrepare moved to PIXI.CanvasPrepare"),t.CanvasPrepare}}}),t.extract={},Object.defineProperties(t.extract,{Extract:{get:function(){return ne("5.2.1","PIXI.extract.Extract moved to PIXI.Extract"),t.Extract}},CanvasExtract:{get:function(){return ne("5.2.1","PIXI.extract.CanvasExtract moved to PIXI.CanvasExtract"),t.CanvasExtract}}}),t.extras={},Object.defineProperties(t.extras,{TilingSprite:{get:function(){return ne(Va,"PIXI.extras.TilingSprite class has moved to PIXI.TilingSprite"),t.TilingSprite}},TilingSpriteRenderer:{get:function(){return ne(Va,"PIXI.extras.TilingSpriteRenderer class has moved to PIXI.TilingSpriteRenderer"),t.TilingSpriteRenderer}},AnimatedSprite:{get:function(){return ne(Va,"PIXI.extras.AnimatedSprite class has moved to PIXI.AnimatedSprite"),t.AnimatedSprite}},BitmapText:{get:function(){return ne(Va,"PIXI.extras.BitmapText class has moved to PIXI.BitmapText"),t.BitmapText}}}),t.TilingSprite.fromFrame=function(e,r,i){return ne("5.3.0","TilingSprite.fromFrame is deprecated, use TilingSprite.from"),t.TilingSprite.from(e,{width:r,height:i})},t.TilingSprite.fromImage=function(e,r,i,n){return void 0===n&&(n={}),ne("5.3.0","TilingSprite.fromImage is deprecated, use TilingSprite.from"),n&&"object"!=typeof n&&(n={scaleMode:arguments[4],resourceOptions:{crossorigin:arguments[3]}}),n.width=r,n.height=i,t.TilingSprite.from(e,n)},Object.defineProperties(t.utils,{getSvgSize:{get:function(){return ne(Va,"PIXI.utils.getSvgSize function has moved to PIXI.resources.SVGResource.getSize"),t.resources.SVGResource.getSize}}}),t.mesh={},Object.defineProperties(t.mesh,{Mesh:{get:function(){return ne(Va,"PIXI.mesh.Mesh class has moved to PIXI.SimpleMesh"),t.SimpleMesh}},NineSlicePlane:{get:function(){return ne(Va,"PIXI.mesh.NineSlicePlane class has moved to PIXI.NineSlicePlane"),t.NineSlicePlane}},Plane:{get:function(){return ne(Va,"PIXI.mesh.Plane class has moved to PIXI.SimplePlane"),t.SimplePlane}},Rope:{get:function(){return ne(Va,"PIXI.mesh.Rope class has moved to PIXI.SimpleRope"),t.SimpleRope}},RawMesh:{get:function(){return ne(Va,"PIXI.mesh.RawMesh class has moved to PIXI.Mesh"),t.Mesh}},CanvasMeshRenderer:{get:function(){return ne(Va,"PIXI.mesh.CanvasMeshRenderer class has moved to PIXI.CanvasMeshRenderer"),t.CanvasMeshRenderer}},MeshRenderer:{get:function(){return ne(Va,"PIXI.mesh.MeshRenderer class has moved to PIXI.MeshRenderer"),t.MeshRenderer}}}),t.particles={},Object.defineProperties(t.particles,{ParticleContainer:{get:function(){return ne(Va,"PIXI.particles.ParticleContainer class has moved to PIXI.ParticleContainer"),t.ParticleContainer}},ParticleRenderer:{get:function(){return ne(Va,"PIXI.particles.ParticleRenderer class has moved to PIXI.ParticleRenderer"),t.ParticleRenderer}}}),t.ticker={},Object.defineProperties(t.ticker,{Ticker:{get:function(){return ne(Va,"PIXI.ticker.Ticker class has moved to PIXI.Ticker"),t.Ticker}},shared:{get:function(){return ne(Va,"PIXI.ticker.shared instance has moved to PIXI.Ticker.shared"),t.Ticker.shared}}}),t.loaders={},Object.defineProperties(t.loaders,{Loader:{get:function(){return ne(Va,"PIXI.loaders.Loader class has moved to PIXI.Loader"),t.Loader}},Resource:{get:function(){return ne(Va,"PIXI.loaders.Resource class has moved to PIXI.LoaderResource"),t.LoaderResource}},bitmapFontParser:{get:function(){return ne(Va,"PIXI.loaders.bitmapFontParser function has moved to PIXI.BitmapFontLoader.use"),t.BitmapFontLoader.use}},parseBitmapFontData:{get:function(){ne(Va,"PIXI.loaders.parseBitmapFontData function has removed")}},spritesheetParser:{get:function(){return ne(Va,"PIXI.loaders.spritesheetParser function has moved to PIXI.SpritesheetLoader.use"),t.SpritesheetLoader.use}},getResourcePath:{get:function(){return ne(Va,"PIXI.loaders.getResourcePath property has moved to PIXI.SpritesheetLoader.getResourcePath"),t.SpritesheetLoader.getResourcePath}}}),t.Loader.addPixiMiddleware=function(e){return ne(Va,"PIXI.loaders.Loader.addPixiMiddleware function is deprecated, use PIXI.loaders.Loader.registerPlugin"),t.loaders.Loader.registerPlugin({use:e()})};var e=function(t){return"on"+t.charAt(0).toUpperCase()+t.slice(1)};Object.assign(t.Loader.prototype,{on:function(t){var r=e(t);ne(Va,"PIXI.Loader#on is completely deprecated, use PIXI.Loader#"+r+".add")},once:function(t){var r=e(t);ne(Va,"PIXI.Loader#once is completely deprecated, use PIXI.Loader#"+r+".once")},off:function(t){var r=e(t);ne(Va,"PIXI.Loader#off is completely deprecated, use PIXI.Loader#"+r+".detach")}}),Object.defineProperty(t.extract,"WebGLExtract",{get:function(){return ne(Va,"PIXI.extract.WebGLExtract method has moved to PIXI.Extract"),t.Extract}}),Object.defineProperty(t.prepare,"WebGLPrepare",{get:function(){return ne(Va,"PIXI.prepare.WebGLPrepare class has moved to PIXI.Prepare"),t.Prepare}}),t.Container.prototype._renderWebGL=function(t){ne(Va,"PIXI.Container._renderWebGL method has moved to PIXI.Container._render"),this._render(t)},t.Container.prototype.renderWebGL=function(t){ne(Va,"PIXI.Container.renderWebGL method has moved to PIXI.Container.render"),this.render(t)},t.DisplayObject.prototype.renderWebGL=function(t){ne(Va,"PIXI.DisplayObject.renderWebGL method has moved to PIXI.DisplayObject.render"),this.render(t)},t.Container.prototype.renderAdvancedWebGL=function(t){ne(Va,"PIXI.Container.renderAdvancedWebGL method has moved to PIXI.Container.renderAdvanced"),this.renderAdvanced(t)},Object.defineProperties(t.settings,{TRANSFORM_MODE:{get:function(){return ne(Va,"PIXI.settings.TRANSFORM_MODE property has been removed"),0},set:function(){ne(Va,"PIXI.settings.TRANSFORM_MODE property has been removed")}}});var r=t.BaseTexture;r.prototype.loadSource=function(e){ne(Va,"PIXI.BaseTexture.loadSource method has been deprecated");var r=t.resources.autoDetectResource(e);r.internal=!0,this.setResource(r),this.update()};var i=!1;Object.defineProperties(r.prototype,{hasLoaded:{get:function(){return ne(Va,"PIXI.BaseTexture.hasLoaded property has been removed, use PIXI.BaseTexture.valid"),this.valid}},imageUrl:{get:function(){var t;return ne(Va,"PIXI.BaseTexture.imageUrl property has been removed, use PIXI.BaseTexture.resource.url"),null===(t=this.resource)||void 0===t?void 0:t.url},set:function(t){ne(Va,"PIXI.BaseTexture.imageUrl property has been removed, use PIXI.BaseTexture.resource.url"),this.resource&&(this.resource.url=t)}},source:{get:function(){return ne(Va,"PIXI.BaseTexture.source property has been moved, use `PIXI.BaseTexture.resource.source`"),this.resource.source},set:function(t){ne(Va,"PIXI.BaseTexture.source property has been moved, use `PIXI.BaseTexture.resource.source` if you want to set HTMLCanvasElement. Otherwise, create new BaseTexture."),this.resource&&(this.resource.source=t)}},premultiplyAlpha:{get:function(){return ne("5.2.0","PIXI.BaseTexture.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),0!==this.alphaMode},set:function(t){ne("5.2.0","PIXI.BaseTexture.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),this.alphaMode=Number(t)}},_id:{get:function(){return i||(ne("5.2.0","PIXI.BaseTexture._id batch local field has been changed to `_batchLocation`"),i=!0),this._batchLocation},set:function(t){this._batchLocation=t}}}),r.fromImage=function(t,e,i,n){ne(Va,"PIXI.BaseTexture.fromImage method has been replaced with PIXI.BaseTexture.from");var o={scale:n,crossorigin:e};return r.from(t,{scaleMode:i,resourceOptions:o})},r.fromCanvas=function(t,e){return ne(Va,"PIXI.BaseTexture.fromCanvas method has been replaced with PIXI.BaseTexture.from"),r.from(t,{scaleMode:e})},r.fromSVG=function(t,e,i,n){ne(Va,"PIXI.BaseTexture.fromSVG method has been replaced with PIXI.BaseTexture.from");var o={scale:n,crossorigin:e};return r.from(t,{scaleMode:i,resourceOptions:o})},Object.defineProperties(t.resources.ImageResource.prototype,{premultiplyAlpha:{get:function(){return ne("5.2.0","PIXI.resources.ImageResource.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),0!==this.alphaMode},set:function(t){ne("5.2.0","PIXI.resources.ImageResource.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),this.alphaMode=Number(t)}}}),t.Point.prototype.copy=function(t){return ne(Va,"PIXI.Point.copy method has been replaced with PIXI.Point.copyFrom"),this.copyFrom(t)},t.ObservablePoint.prototype.copy=function(t){return ne(Va,"PIXI.ObservablePoint.copy method has been replaced with PIXI.ObservablePoint.copyFrom"),this.copyFrom(t)},t.Rectangle.prototype.copy=function(t){return ne(Va,"PIXI.Rectangle.copy method has been replaced with PIXI.Rectangle.copyFrom"),this.copyFrom(t)},t.Matrix.prototype.copy=function(t){return ne(Va,"PIXI.Matrix.copy method has been replaced with PIXI.Matrix.copyTo"),this.copyTo(t)},t.systems.StateSystem.prototype.setState=function(t){return ne("v5.1.0","StateSystem.setState has been renamed to StateSystem.set"),this.set(t)},Object.assign(t.systems.FilterSystem.prototype,{getRenderTarget:function(t,e){return ne(Va,"PIXI.FilterManager.getRenderTarget method has been replaced with PIXI.systems.FilterSystem#getFilterTexture"),this.getFilterTexture(null,e)},returnRenderTarget:function(t){ne(Va,"PIXI.FilterManager.returnRenderTarget method has been replaced with PIXI.systems.FilterSystem.returnFilterTexture"),this.returnFilterTexture(t)},calculateScreenSpaceMatrix:function(t){ne(Va,"PIXI.systems.FilterSystem.calculateScreenSpaceMatrix method is removed, use `(vTextureCoord * inputSize.xy) + outputFrame.xy` instead");var e=t.identity(),r=this.activeState,i=r.sourceFrame,n=r.destinationFrame;return e.translate(i.x/n.width,i.y/n.height),e.scale(n.width,n.height),e},calculateNormalizedScreenSpaceMatrix:function(t){ne(Va,"PIXI.systems.FilterManager.calculateNormalizedScreenSpaceMatrix method is removed, use `((vTextureCoord * inputSize.xy) + outputFrame.xy) / outputFrame.zw` instead.");var e=this.activeState,r=e.sourceFrame,i=e.destinationFrame,n=t.identity();n.translate(r.x/i.width,r.y/i.height);var o=i.width/r.width,s=i.height/r.height;return n.scale(o,s),n}}),Object.defineProperties(t.RenderTexture.prototype,{sourceFrame:{get:function(){return ne(Va,"PIXI.RenderTexture.sourceFrame property has been removed"),this.filterFrame}},size:{get:function(){return ne(Va,"PIXI.RenderTexture.size property has been removed"),this._frame}}});var n=function(t){function e(e,r,i,n){return ne(Va,"PIXI.filters.BlurXFilter class is deprecated, use PIXI.filters.BlurFilterPass"),t.call(this,!0,e,r,i,n)||this}return za(e,t),e}(t.filters.BlurFilterPass),o=function(t){function e(e,r,i,n){return ne(Va,"PIXI.filters.BlurYFilter class is deprecated, use PIXI.filters.BlurFilterPass"),t.call(this,!1,e,r,i,n)||this}return za(e,t),e}(t.filters.BlurFilterPass);Object.assign(t.filters,{BlurXFilter:n,BlurYFilter:o});var s=t.Sprite,a=t.Texture,h=t.Graphics;function u(t,e,r,i){return ne(Va,"PIXI.Sprite."+t+" method is deprecated, use PIXI.Sprite.from"),s.from(e,{resourceOptions:{scale:i,crossorigin:r}})}function l(t,e,r,i){return ne(Va,"PIXI.Texture."+t+" method is deprecated, use PIXI.Texture.from"),a.from(e,{resourceOptions:{scale:i,crossorigin:r}})}h.prototype.generateCanvasTexture||(h.prototype.generateCanvasTexture=function(){ne(Va,'PIXI.Graphics.generateCanvasTexture method is only available in "pixi.js-legacy"')}),Object.defineProperty(h.prototype,"graphicsData",{get:function(){return ne(Va,"PIXI.Graphics.graphicsData property is deprecated, use PIXI.Graphics.geometry.graphicsData"),this.geometry.graphicsData}}),s.fromImage=u.bind(null,"fromImage"),s.fromSVG=u.bind(null,"fromSVG"),s.fromCanvas=u.bind(null,"fromCanvas"),s.fromVideo=u.bind(null,"fromVideo"),s.fromFrame=u.bind(null,"fromFrame"),a.fromImage=l.bind(null,"fromImage"),a.fromSVG=l.bind(null,"fromSVG"),a.fromCanvas=l.bind(null,"fromCanvas"),a.fromVideo=l.bind(null,"fromVideo"),a.fromFrame=l.bind(null,"fromFrame"),Object.defineProperty(t.AbstractRenderer.prototype,"autoResize",{get:function(){return ne(Va,"PIXI.AbstractRenderer.autoResize property is deprecated, use PIXI.AbstractRenderer.autoDensity"),this.autoDensity},set:function(t){ne(Va,"PIXI.AbstractRenderer.autoResize property is deprecated, use PIXI.AbstractRenderer.autoDensity"),this.autoDensity=t}}),Object.defineProperty(t.Renderer.prototype,"textureManager",{get:function(){return ne(Va,"PIXI.Renderer.textureManager property is deprecated, use PIXI.Renderer.texture"),this.texture}}),t.utils.mixins={mixin:function(){ne(Va,"PIXI.utils.mixins.mixin function is no longer available")},delayMixin:function(){ne(Va,"PIXI.utils.mixins.delayMixin function is no longer available")},performMixins:function(){ne(Va,"PIXI.utils.mixins.performMixins function is no longer available")}},Object.defineProperty(t.BitmapText.prototype,"font",{get:function(){return ne("5.3.0","PIXI.BitmapText.font property is deprecated, use fontName, fontSize, tint or align properties"),{name:this._fontName,size:this._fontSize,tint:this._tint,align:this._align}},set:function(e){if(ne("5.3.0","PIXI.BitmapText.font property is deprecated, use fontName, fontSize, tint or align properties"),e){var r={font:e};this._upgradeStyle(r),r.fontSize=r.fontSize||t.BitmapFont.available[r.fontName].size,this._fontName=r.fontName,this._fontSize=r.fontSize,this.dirty=!0}}})},t.utils=me,t}({});PIXI.useDeprecated();


/*
 * anime.js v3.2.2
 * (c) 2023 Julian Garnier
 * Released under the MIT license
 * animejs.com
 */

!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):n.anime=e()}(this,function(){"use strict";var i={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},M={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},j=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],l={CSS:{},springs:{}};function C(n,e,t){return Math.min(Math.max(n,e),t)}function u(n,e){return-1<n.indexOf(e)}function o(n,e){return n.apply(null,e)}var w={arr:function(n){return Array.isArray(n)},obj:function(n){return u(Object.prototype.toString.call(n),"Object")},pth:function(n){return w.obj(n)&&n.hasOwnProperty("totalLength")},svg:function(n){return n instanceof SVGElement},inp:function(n){return n instanceof HTMLInputElement},dom:function(n){return n.nodeType||w.svg(n)},str:function(n){return"string"==typeof n},fnc:function(n){return"function"==typeof n},und:function(n){return void 0===n},nil:function(n){return w.und(n)||null===n},hex:function(n){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(n)},rgb:function(n){return/^rgb/.test(n)},hsl:function(n){return/^hsl/.test(n)},col:function(n){return w.hex(n)||w.rgb(n)||w.hsl(n)},key:function(n){return!i.hasOwnProperty(n)&&!M.hasOwnProperty(n)&&"targets"!==n&&"keyframes"!==n}};function d(n){n=/\(([^)]+)\)/.exec(n);return n?n[1].split(",").map(function(n){return parseFloat(n)}):[]}function c(r,t){var n=d(r),e=C(w.und(n[0])?1:n[0],.1,100),a=C(w.und(n[1])?100:n[1],.1,100),o=C(w.und(n[2])?10:n[2],.1,100),n=C(w.und(n[3])?0:n[3],.1,100),u=Math.sqrt(a/e),i=o/(2*Math.sqrt(a*e)),c=i<1?u*Math.sqrt(1-i*i):0,s=i<1?(i*u-n)/c:-n+u;function f(n){var e=t?t*n/1e3:n,e=i<1?Math.exp(-e*i*u)*(+Math.cos(c*e)+s*Math.sin(c*e)):(1+s*e)*Math.exp(-e*u);return 0===n||1===n?n:1-e}return t?f:function(){var n=l.springs[r];if(n)return n;for(var e=0,t=0;;)if(1===f(e+=1/6)){if(16<=++t)break}else t=0;return n=e*(1/6)*1e3,l.springs[r]=n}}function q(e){return void 0===e&&(e=10),function(n){return Math.ceil(C(n,1e-6,1)*e)*(1/e)}}var H=function(b,e,M,t){if(0<=b&&b<=1&&0<=M&&M<=1){var x=new Float32Array(11);if(b!==e||M!==t)for(var n=0;n<11;++n)x[n]=k(.1*n,b,M);return function(n){return b===e&&M===t||0===n||1===n?n:k(r(n),e,t)}}function r(n){for(var e=0,t=1;10!==t&&x[t]<=n;++t)e+=.1;var r=e+.1*((n-x[--t])/(x[t+1]-x[t])),a=O(r,b,M);if(.001<=a){for(var o=n,u=r,i=b,c=M,s=0;s<4;++s){var f=O(u,i,c);if(0===f)return u;u-=(k(u,i,c)-o)/f}return u}if(0===a)return r;for(var l,d,p=n,h=e,g=e+.1,m=b,v=M,y=0;0<(l=k(d=h+(g-h)/2,m,v)-p)?g=d:h=d,1e-7<Math.abs(l)&&++y<10;);return d}};function r(n,e){return 1-3*e+3*n}function k(n,e,t){return((r(e,t)*n+(3*t-6*e))*n+3*e)*n}function O(n,e,t){return 3*r(e,t)*n*n+2*(3*t-6*e)*n+3*e}e={linear:function(){return function(n){return n}}},t={Sine:function(){return function(n){return 1-Math.cos(n*Math.PI/2)}},Expo:function(){return function(n){return n?Math.pow(2,10*n-10):0}},Circ:function(){return function(n){return 1-Math.sqrt(1-n*n)}},Back:function(){return function(n){return n*n*(3*n-2)}},Bounce:function(){return function(n){for(var e,t=4;n<((e=Math.pow(2,--t))-1)/11;);return 1/Math.pow(4,3-t)-7.5625*Math.pow((3*e-2)/22-n,2)}},Elastic:function(n,e){void 0===e&&(e=.5);var t=C(n=void 0===n?1:n,1,10),r=C(e,.1,2);return function(n){return 0===n||1===n?n:-t*Math.pow(2,10*(n-1))*Math.sin((n-1-r/(2*Math.PI)*Math.asin(1/t))*(2*Math.PI)/r)}}},["Quad","Cubic","Quart","Quint"].forEach(function(n,e){t[n]=function(){return function(n){return Math.pow(n,e+2)}}}),Object.keys(t).forEach(function(n){var r=t[n];e["easeIn"+n]=r,e["easeOut"+n]=function(e,t){return function(n){return 1-r(e,t)(1-n)}},e["easeInOut"+n]=function(e,t){return function(n){return n<.5?r(e,t)(2*n)/2:1-r(e,t)(-2*n+2)/2}},e["easeOutIn"+n]=function(e,t){return function(n){return n<.5?(1-r(e,t)(1-2*n))/2:(r(e,t)(2*n-1)+1)/2}}});var e,t,s=e;function P(n,e){if(w.fnc(n))return n;var t=n.split("(")[0],r=s[t],a=d(n);switch(t){case"spring":return c(n,e);case"cubicBezier":return o(H,a);case"steps":return o(q,a);default:return o(r,a)}}function a(n){try{return document.querySelectorAll(n)}catch(n){}}function I(n,e){for(var t,r=n.length,a=2<=arguments.length?e:void 0,o=[],u=0;u<r;u++)u in n&&(t=n[u],e.call(a,t,u,n))&&o.push(t);return o}function f(n){return n.reduce(function(n,e){return n.concat(w.arr(e)?f(e):e)},[])}function p(n){return w.arr(n)?n:(n=w.str(n)?a(n)||n:n)instanceof NodeList||n instanceof HTMLCollection?[].slice.call(n):[n]}function h(n,e){return n.some(function(n){return n===e})}function g(n){var e,t={};for(e in n)t[e]=n[e];return t}function x(n,e){var t,r=g(n);for(t in n)r[t]=(e.hasOwnProperty(t)?e:n)[t];return r}function D(n,e){var t,r=g(n);for(t in e)r[t]=(w.und(n[t])?e:n)[t];return r}function V(n){var e,t,r,a,o,u,i;return w.rgb(n)?(e=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(t=n))?"rgba("+e[1]+",1)":t:w.hex(n)?(e=(e=n).replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(n,e,t,r){return e+e+t+t+r+r}),e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e),"rgba("+parseInt(e[1],16)+","+parseInt(e[2],16)+","+parseInt(e[3],16)+",1)"):w.hsl(n)?(t=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t=n)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(t),n=parseInt(t[1],10)/360,u=parseInt(t[2],10)/100,i=parseInt(t[3],10)/100,t=t[4]||1,0==u?r=a=o=i:(r=c(u=2*i-(i=i<.5?i*(1+u):i+u-i*u),i,n+1/3),a=c(u,i,n),o=c(u,i,n-1/3)),"rgba("+255*r+","+255*a+","+255*o+","+t+")"):void 0;function c(n,e,t){return t<0&&(t+=1),1<t&&--t,t<1/6?n+6*(e-n)*t:t<.5?e:t<2/3?n+(e-n)*(2/3-t)*6:n}}function B(n){n=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(n);if(n)return n[1]}function m(n,e){return w.fnc(n)?n(e.target,e.id,e.total):n}function v(n,e){return n.getAttribute(e)}function y(n,e,t){var r,a,o;return h([t,"deg","rad","turn"],B(e))?e:(r=l.CSS[e+t],w.und(r)?(a=document.createElement(n.tagName),(n=n.parentNode&&n.parentNode!==document?n.parentNode:document.body).appendChild(a),a.style.position="absolute",a.style.width=100+t,o=100/a.offsetWidth,n.removeChild(a),n=o*parseFloat(e),l.CSS[e+t]=n):r)}function $(n,e,t){var r;if(e in n.style)return r=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e=n.style[e]||getComputedStyle(n).getPropertyValue(r)||"0",t?y(n,e,t):e}function b(n,e){return w.dom(n)&&!w.inp(n)&&(!w.nil(v(n,e))||w.svg(n)&&n[e])?"attribute":w.dom(n)&&h(j,e)?"transform":w.dom(n)&&"transform"!==e&&$(n,e)?"css":null!=n[e]?"object":void 0}function W(n){if(w.dom(n)){for(var e,t=n.style.transform||"",r=/(\w+)\(([^)]*)\)/g,a=new Map;e=r.exec(t);)a.set(e[1],e[2]);return a}}function X(n,e,t,r){var a=u(e,"scale")?1:0+(u(a=e,"translate")||"perspective"===a?"px":u(a,"rotate")||u(a,"skew")?"deg":void 0),o=W(n).get(e)||a;return t&&(t.transforms.list.set(e,o),t.transforms.last=e),r?y(n,o,r):o}function T(n,e,t,r){switch(b(n,e)){case"transform":return X(n,e,r,t);case"css":return $(n,e,t);case"attribute":return v(n,e);default:return n[e]||0}}function E(n,e){var t=/^(\*=|\+=|-=)/.exec(n);if(!t)return n;var r=B(n)||0,a=parseFloat(e),o=parseFloat(n.replace(t[0],""));switch(t[0][0]){case"+":return a+o+r;case"-":return a-o+r;case"*":return a*o+r}}function Y(n,e){var t;return w.col(n)?V(n):/\s/g.test(n)?n:(t=(t=B(n))?n.substr(0,n.length-t.length):n,e?t+e:t)}function F(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function Z(n){for(var e,t=n.points,r=0,a=0;a<t.numberOfItems;a++){var o=t.getItem(a);0<a&&(r+=F(e,o)),e=o}return r}function G(n){if(n.getTotalLength)return n.getTotalLength();switch(n.tagName.toLowerCase()){case"circle":return 2*Math.PI*v(n,"r");case"rect":return 2*v(t=n,"width")+2*v(t,"height");case"line":return F({x:v(t=n,"x1"),y:v(t,"y1")},{x:v(t,"x2"),y:v(t,"y2")});case"polyline":return Z(n);case"polygon":return e=n.points,Z(n)+F(e.getItem(e.numberOfItems-1),e.getItem(0))}var e,t}function Q(n,e){var e=e||{},n=e.el||function(n){for(var e=n.parentNode;w.svg(e)&&w.svg(e.parentNode);)e=e.parentNode;return e}(n),t=n.getBoundingClientRect(),r=v(n,"viewBox"),a=t.width,t=t.height,e=e.viewBox||(r?r.split(" "):[0,0,a,t]);return{el:n,viewBox:e,x:+e[0],y:+e[1],w:a,h:t,vW:e[2],vH:e[3]}}function z(n,e){var t=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,r=Y(w.pth(n)?n.totalLength:n,e)+"";return{original:r,numbers:r.match(t)?r.match(t).map(Number):[0],strings:w.str(n)||e?r.split(t):[]}}function A(n){return I(n?f(w.arr(n)?n.map(p):p(n)):[],function(n,e,t){return t.indexOf(n)===e})}function _(n){var t=A(n);return t.map(function(n,e){return{target:n,id:e,total:t.length,transforms:{list:W(n)}}})}function R(e){for(var t=I(f(e.map(function(n){return Object.keys(n)})),function(n){return w.key(n)}).reduce(function(n,e){return n.indexOf(e)<0&&n.push(e),n},[]),a={},n=0;n<t.length;n++)!function(n){var r=t[n];a[r]=e.map(function(n){var e,t={};for(e in n)w.key(e)?e==r&&(t.value=n[e]):t[e]=n[e];return t})}(n);return a}function J(n,e){var t,r=[],a=e.keyframes;for(t in e=a?D(R(a),e):e)w.key(t)&&r.push({name:t,tweens:function(n,t){var e,r=g(t),a=(/^spring/.test(r.easing)&&(r.duration=c(r.easing)),w.arr(n)&&(2===(e=n.length)&&!w.obj(n[0])?n={value:n}:w.fnc(t.duration)||(r.duration=t.duration/e)),w.arr(n)?n:[n]);return a.map(function(n,e){n=w.obj(n)&&!w.pth(n)?n:{value:n};return w.und(n.delay)&&(n.delay=e?0:t.delay),w.und(n.endDelay)&&(n.endDelay=e===a.length-1?t.endDelay:0),n}).map(function(n){return D(n,r)})}(e[t],n)});return r}function K(i,c){var s;return i.tweens.map(function(n){var n=function(n,e){var t,r={};for(t in n){var a=m(n[t],e);w.arr(a)&&1===(a=a.map(function(n){return m(n,e)})).length&&(a=a[0]),r[t]=a}return r.duration=parseFloat(r.duration),r.delay=parseFloat(r.delay),r}(n,c),e=n.value,t=w.arr(e)?e[1]:e,r=B(t),a=T(c.target,i.name,r,c),o=s?s.to.original:a,u=w.arr(e)?e[0]:o,a=B(u)||B(a),r=r||a;return w.und(t)&&(t=o),n.from=z(u,r),n.to=z(E(t,u),r),n.start=s?s.end:0,n.end=n.start+n.delay+n.duration+n.endDelay,n.easing=P(n.easing,n.duration),n.isPath=w.pth(e),n.isPathTargetInsideSVG=n.isPath&&w.svg(c.target),n.isColor=w.col(n.from.original),n.isColor&&(n.round=1),s=n})}var U={css:function(n,e,t){return n.style[e]=t},attribute:function(n,e,t){return n.setAttribute(e,t)},object:function(n,e,t){return n[e]=t},transform:function(n,e,t,r,a){var o;r.list.set(e,t),e!==r.last&&!a||(o="",r.list.forEach(function(n,e){o+=e+"("+n+") "}),n.style.transform=o)}};function nn(n,u){_(n).forEach(function(n){for(var e in u){var t=m(u[e],n),r=n.target,a=B(t),o=T(r,e,a,n),t=E(Y(t,a||B(o)),o),a=b(r,e);U[a](r,e,t,n.transforms,!0)}})}function en(n,e){return I(f(n.map(function(o){return e.map(function(n){var e,t,r=o,a=b(r.target,n.name);if(a)return t=(e=K(n,r))[e.length-1],{type:a,property:n.name,animatable:r,tweens:e,duration:t.end,delay:e[0].delay,endDelay:t.endDelay}})})),function(n){return!w.und(n)})}function tn(n,e){function t(n){return n.timelineOffset||0}var r=n.length,a={};return a.duration=r?Math.max.apply(Math,n.map(function(n){return t(n)+n.duration})):e.duration,a.delay=r?Math.min.apply(Math,n.map(function(n){return t(n)+n.delay})):e.delay,a.endDelay=r?a.duration-Math.max.apply(Math,n.map(function(n){return t(n)+n.duration-n.endDelay})):e.endDelay,a}var rn=0;var N,S=[],an=("undefined"!=typeof document&&document.addEventListener("visibilitychange",function(){L.suspendWhenDocumentHidden&&(n()?N=cancelAnimationFrame(N):(S.forEach(function(n){return n._onDocumentVisibility()}),an()))}),function(){!(N||n()&&L.suspendWhenDocumentHidden)&&0<S.length&&(N=requestAnimationFrame(on))});function on(n){for(var e=S.length,t=0;t<e;){var r=S[t];r.paused?(S.splice(t,1),e--):(r.tick(n),t++)}N=0<t?requestAnimationFrame(on):void 0}function n(){return document&&document.hidden}function L(n){var c,s=0,f=0,l=0,d=0,p=null;function h(n){var e=window.Promise&&new Promise(function(n){return p=n});return n.finished=e}e=x(i,n=n=void 0===n?{}:n),t=J(r=x(M,n),n),n=_(n.targets),r=tn(t=en(n,t),r),a=rn,rn++;var e,t,r,a,k=D(e,{id:a,children:[],animatables:n,animations:t,duration:r.duration,delay:r.delay,endDelay:r.endDelay});h(k);function g(){var n=k.direction;"alternate"!==n&&(k.direction="normal"!==n?"normal":"reverse"),k.reversed=!k.reversed,c.forEach(function(n){return n.reversed=k.reversed})}function m(n){return k.reversed?k.duration-n:n}function o(){s=0,f=m(k.currentTime)*(1/L.speed)}function v(n,e){e&&e.seek(n-e.timelineOffset)}function y(e){for(var n=0,t=k.animations,r=t.length;n<r;){for(var a=t[n],o=a.animatable,u=a.tweens,i=u.length-1,c=u[i],i=(i&&(c=I(u,function(n){return e<n.end})[0]||c),C(e-c.start-c.delay,0,c.duration)/c.duration),s=isNaN(i)?1:c.easing(i),f=c.to.strings,l=c.round,d=[],p=c.to.numbers.length,h=void 0,g=0;g<p;g++){var m=void 0,v=c.to.numbers[g],y=c.from.numbers[g]||0,m=c.isPath?function(e,t,n){function r(n){return e.el.getPointAtLength(1<=t+(n=void 0===n?0:n)?t+n:0)}var a=Q(e.el,e.svg),o=r(),u=r(-1),i=r(1),c=n?1:a.w/a.vW,s=n?1:a.h/a.vH;switch(e.property){case"x":return(o.x-a.x)*c;case"y":return(o.y-a.y)*s;case"angle":return 180*Math.atan2(i.y-u.y,i.x-u.x)/Math.PI}}(c.value,s*v,c.isPathTargetInsideSVG):y+s*(v-y);!l||c.isColor&&2<g||(m=Math.round(m*l)/l),d.push(m)}var b=f.length;if(b)for(var h=f[0],M=0;M<b;M++){f[M];var x=f[M+1],w=d[M];isNaN(w)||(h+=x?w+x:w+" ")}else h=d[0];U[a.type](o.target,a.property,h,o.transforms),a.currentValue=h,n++}}function b(n){k[n]&&!k.passThrough&&k[n](k)}function u(n){var e=k.duration,t=k.delay,r=e-k.endDelay,a=m(n);if(k.progress=C(a/e*100,0,100),k.reversePlayback=a<k.currentTime,c){var o=a;if(k.reversePlayback)for(var u=d;u--;)v(o,c[u]);else for(var i=0;i<d;i++)v(o,c[i])}!k.began&&0<k.currentTime&&(k.began=!0,b("begin")),!k.loopBegan&&0<k.currentTime&&(k.loopBegan=!0,b("loopBegin")),a<=t&&0!==k.currentTime&&y(0),(r<=a&&k.currentTime!==e||!e)&&y(e),t<a&&a<r?(k.changeBegan||(k.changeBegan=!0,k.changeCompleted=!1,b("changeBegin")),b("change"),y(a)):k.changeBegan&&(k.changeCompleted=!0,k.changeBegan=!1,b("changeComplete")),k.currentTime=C(a,0,e),k.began&&b("update"),e<=n&&(f=0,k.remaining&&!0!==k.remaining&&k.remaining--,k.remaining?(s=l,b("loopComplete"),k.loopBegan=!1,"alternate"===k.direction&&g()):(k.paused=!0,k.completed||(k.completed=!0,b("loopComplete"),b("complete"),!k.passThrough&&"Promise"in window&&(p(),h(k)))))}return k.reset=function(){var n=k.direction;k.passThrough=!1,k.currentTime=0,k.progress=0,k.paused=!0,k.began=!1,k.loopBegan=!1,k.changeBegan=!1,k.completed=!1,k.changeCompleted=!1,k.reversePlayback=!1,k.reversed="reverse"===n,k.remaining=k.loop,c=k.children;for(var e=d=c.length;e--;)k.children[e].reset();(k.reversed&&!0!==k.loop||"alternate"===n&&1===k.loop)&&k.remaining++,y(k.reversed?k.duration:0)},k._onDocumentVisibility=o,k.set=function(n,e){return nn(n,e),k},k.tick=function(n){u(((l=n)+(f-(s=s||l)))*L.speed)},k.seek=function(n){u(m(n))},k.pause=function(){k.paused=!0,o()},k.play=function(){k.paused&&(k.completed&&k.reset(),k.paused=!1,S.push(k),o(),an())},k.reverse=function(){g(),k.completed=!k.reversed,o()},k.restart=function(){k.reset(),k.play()},k.remove=function(n){cn(A(n),k)},k.reset(),k.autoplay&&k.play(),k}function un(n,e){for(var t=e.length;t--;)h(n,e[t].animatable.target)&&e.splice(t,1)}function cn(n,e){var t=e.animations,r=e.children;un(n,t);for(var a=r.length;a--;){var o=r[a],u=o.animations;un(n,u),u.length||o.children.length||r.splice(a,1)}t.length||r.length||e.pause()}return L.version="3.2.1",L.speed=1,L.suspendWhenDocumentHidden=!0,L.running=S,L.remove=function(n){for(var e=A(n),t=S.length;t--;)cn(e,S[t])},L.get=T,L.set=nn,L.convertPx=y,L.path=function(n,e){var t=w.str(n)?a(n)[0]:n,r=e||100;return function(n){return{property:n,el:t,svg:Q(t),totalLength:G(t)*(r/100)}}},L.setDashoffset=function(n){var e=G(n);return n.setAttribute("stroke-dasharray",e),e},L.stagger=function(n,e){var i=(e=void 0===e?{}:e).direction||"normal",c=e.easing?P(e.easing):null,s=e.grid,f=e.axis,l=e.from||0,d="first"===l,p="center"===l,h="last"===l,g=w.arr(n),m=g?parseFloat(n[0]):parseFloat(n),v=g?parseFloat(n[1]):0,y=B(g?n[1]:n)||0,b=e.start||0+(g?m:0),M=[],x=0;return function(n,e,t){if(d&&(l=0),p&&(l=(t-1)/2),h&&(l=t-1),!M.length){for(var r,a,o,u=0;u<t;u++)s?(r=p?(s[0]-1)/2:l%s[0],a=p?(s[1]-1)/2:Math.floor(l/s[0]),r=r-u%s[0],a=a-Math.floor(u/s[0]),o=Math.sqrt(r*r+a*a),"x"===f&&(o=-r),M.push(o="y"===f?-a:o)):M.push(Math.abs(l-u)),x=Math.max.apply(Math,M);c&&(M=M.map(function(n){return c(n/x)*x})),"reverse"===i&&(M=M.map(function(n){return f?n<0?-1*n:-n:Math.abs(x-n)}))}return b+(g?(v-m)/x:m)*(Math.round(100*M[e])/100)+y}},L.timeline=function(u){var i=L(u=void 0===u?{}:u);return i.duration=0,i.add=function(n,e){var t=S.indexOf(i),r=i.children;function a(n){n.passThrough=!0}-1<t&&S.splice(t,1);for(var o=0;o<r.length;o++)a(r[o]);t=D(n,x(M,u)),t.targets=t.targets||u.targets,n=i.duration,t.autoplay=!1,t.direction=i.direction,t.timelineOffset=w.und(e)?n:E(e,n),a(i),i.seek(t.timelineOffset),e=L(t),a(e),r.push(e),n=tn(r,u);return i.delay=n.delay,i.endDelay=n.endDelay,i.duration=n.duration,i.seek(0),i.reset(),i.autoplay&&i.play(),i},i},L.easing=P,L.penner=s,L.random=function(n,e){return Math.floor(Math.random()*(e-n+1))+n},L});
/**
 * Represents a Slot Machine game.
 * @constructor
 * @param {Object} params - The parameters required to create a game, such as resources, settings, etc.
 * @param {number} gameWidth - The width of the game.
 * @param {number} gameHeight - The height of the game.
 * @example
 * let game = new Slot({
 *  container: '.game-container',
 * }, 100, 100);
 */
var Slot = function(params, gameWidth, gameHeight) {
  this.VERSION = '0.1';
  this.engine = new Slot.Game(gameWidth, gameHeight);
  this.engine.game = this;
  this.reels = new Slot.ReelsController(this);
  this.events = {
    start: [],
    stop: [],
  };
  this.settings = {
    speed: 0.2,
    spinTime: 450,
    spinTimeBetweenReels: 120,
    reelBounceDuration: 300,
    network: false,
  };
  this.waitForResult = false;
  this.forceStopPending = false;

  this.reels.onStart(function() {
    if (this.settings.network) {
      this.waitForResult = true;
    }
    this.events.start.forEach(function(fn) {
      fn();
    });
  }.bind(this));

  this.reels.onStop(function() {
    this.events.stop.forEach(function(fn) {
      fn();
    });
  }.bind(this));

  params = params || {};
  if (params.container) {
    var containerEl = document.querySelector(params.container);
    if (containerEl) {
      containerEl.appendChild(this.engine.renderer.view);
    } else {
      console.error("Invalid container");
    }
  } else {
    document.body.appendChild(this.engine.renderer.view);
  }
  
  function onResize() {
    var ratio = gameWidth / gameHeight;
    var view = this.engine.renderer.view;
    var width = view.parentNode.offsetWidth;
    var height = width / ratio;
    if (height > view.parentNode.offsetHeight) {
      height = view.parentNode.offsetHeight;
      width = ratio * height;
    }
    this.engine.renderer.resize(width, height);
  }
  onResize.bind(this)();
  window.addEventListener('resize', onResize.bind(this));

  var _this = this;
  
  if ('resources' in params) {
    params.resources.forEach(function(resource) {
      if (resource.length) {
        PIXI.Loader.shared.add(resource[0], resource[1]);
      } else {
        PIXI.Loader.shared.add(resource.key, resource.value);
      }
    });
  }

  if ('init' in params) {
    PIXI.Loader.shared.load(function() {
      params.init.bind(_this)(_this);
    });
  }

  if ('settings' in params) {
    for (var key in params.settings) {
      this.settings[key] = params.settings[key];
    }
    this.reels.spinTime = this.settings.spinTime;
    this.reels.spinTimeBetweenReels = this.settings.spinTimeBetweenReels;
  }
};

/**
 * This is the load resources method used to add resources to the game.
 * @param {Array} config - Array with resources key and source path.
 * @param {function} onComplete - Complete method which runs after loading is finished.
 */
Slot.prototype.load = function(config, onComplete) {
  config.forEach(function(resource) {
    if (resource.length) {
      PIXI.Loader.shared.add(resource[0], resource[1]);
    } else {
      PIXI.Loader.shared.add(resource.key, resource.value);
    }
  });
  PIXI.Loader.shared.load(onComplete);
};
/**
 * The main play method used to start or stop the reels.
 */
Slot.prototype.play = function() {
  if (!this.waitForResult) {
    if (!this.reels.rolling) {
      this.reels.start();
    } else {
      this.reels.stop();
    }
  }
  if (this.reels.rolling) {
    this.forceStopPending = true;
  }
};
/**
 * The result method is used to set a result and stop the reels.
 * @param {Array} result - The array containing the result for each reel.
 */
Slot.prototype.result = function(result) {
  this.reels.reels.forEach(function(reel, reelIndex) {
    reel.stopValues = result[reelIndex];
  });
  if (this.forceStopPending) {
    this.reels.stop();
    this.forceStopPending = false;
  }
  this.waitForResult = false;
};
/**
 * The method to attach event handlers on game.
 * @param {string} eventName - The name of the event.
 * @param {function} fn - The event callback.
 */
Slot.prototype.on = function(eventName, fn) {
  if (eventName in this.events) {
    this.events[eventName].push(fn);
  }
};
/**
 * The method to add a sprite in the game.
 * @param {string} resourceKey - The name of the resource, which must have been set on loading's configuration.
 */
Slot.prototype.sprite = function(resourceKey) {
  var sprite = new Slot.Sprite(resourceKey, this.engine);
  return sprite;
};
/**
 * Describes game actions. Can be attached to sprites.
 * @example
 * let buttonPlay = game.sprite('btn-play');
 * buttonPlay.action = Slot.ACTION.PLAY;
 */
Slot.ACTION = {
  NO_ACTION: 0,
  PLAY: 1,
};
Slot.Game = function(width, height) {
  this.width = width;
  this.height = height;
  PIXI.utils.skipHello();
  this.renderer = new PIXI.autoDetectRenderer({
    width: 800,
    height: 600,
    transparent: false,
  });
  this.stage = new PIXI.Container();

  var _this = this;

  PIXI.Ticker.shared.add(function() {
    _this.renderer.render(_this.stage);
  }, PIXI.UPDATE_PRIORITY.NORMAL);
};
Slot.ReelsController = function(game) {
  this.reels = [];
  this.engine = game.engine;
  this.game = game;
  this.x = 0;
  this.y = 0;
  this.events = {
    onStart: [],
    onStop: [],
  };
  this.rolling = false;

  var _this = this;
  function resizeAndPosition() {
    _this.reels.forEach(function(reel, reelIndex) {
      reel.container.x = (reel.x * game.engine.renderer.view.width) / game.engine.width;
      reel.container.y = (reel.y * game.engine.renderer.view.height) / game.engine.height;
      reel.symbols.forEach(function(symbol) {
        symbol.scale.x = game.engine.renderer.view.width / game.engine.width;
        symbol.scale.y = game.engine.renderer.view.height / game.engine.height;
      });
    });
  }
  resizeAndPosition();
  var rollingTime = 0;
  PIXI.Ticker.shared.add(function(delta) {
    var active = false;
    _this.reels.forEach(function(reel, reelIndex) {
      resizeAndPosition();
      
      reel.render(game.settings.speed, game.settings.reelBounceDuration, reelIndex);

      for (var i = 0; i < reel.symbols.length; i++) {
        var symbol = reel.symbols[i];
        symbol.y = (symbol.height * (i - 1)) + (0 + reel.offset);
        if (reel.values[i]) {
          if ('symbol-' + reel.values[i] in PIXI.Loader.shared.resources) {
            symbol.texture = PIXI.Loader.shared.resources['symbol-' + reel.values[i]].texture;
          } else {
            symbol.texture = PIXI.Texture.EMPTY;
          }
        } else {
          symbol.texture = PIXI.Texture.EMPTY;
        }
      }
      
      var m = reel.mask;
      m.x = reel.container.x;
      m.y = reel.container.y;
      m.clear();
      m.beginFill(0x000000);
      m.drawRect(0, 0, reel.symbols[0].width, reel.symbols[0].height * reel.positions);
      m.endFill();

      active = reel.rolling == true || !isNaN(parseInt(reel.stopping));

      if (active) {
        var reelStopTime = game.settings.spinTime + (reelIndex * game.settings.spinTimeBetweenReels);
        if (rollingTime > reelStopTime) {
          reel.stop(); // FIXME: don't call stop multiple times
        }
      }
    });

    if (!_this.rolling && active) {
      _this.rolling = true;
      _this.events.onStart.forEach(function(fn) {
        fn();
      }); 
    } else if (_this.rolling && !active) {
      _this.rolling = false;
      rollingTime = 0;
      _this.events.onStop.forEach(function(fn) {
        fn();
      });
    }

    if (active && !game.waitForResult) {
      rollingTime += delta * 16.667;
    }
  }, PIXI.UPDATE_PRIORITY.HIGH);
};

Slot.ReelsController.prototype.add = function(positions, symbolCount, symbolWidth, symbolHeight) {
  var reel = new Slot.Reel(positions, symbolCount, symbolWidth, symbolHeight);
  this.engine.stage.addChild(reel.container);
  this.engine.stage.addChild(reel.mask);
  this.reels.push(reel);
  return reel;
};

Slot.ReelsController.prototype.get = function(index) {
  return this.reels[index];
};

Slot.ReelsController.prototype.start = function() {
  this.reels.forEach(function(reel) {
    reel.roll();
  });
};

Slot.ReelsController.prototype.stop = function() {
  this.reels.forEach(function(reel) {
    reel.stop();
  });
};

Slot.ReelsController.prototype.onStart = function(fn) {
  this.events.onStart.push(fn);
};

Slot.ReelsController.prototype.onStop = function(fn) {
  this.events.onStop.push(fn);
};
/**
 * Represents a reel in the game.
 * @constructor
 * @param {number} positions - Number of reel positions.
 */
Slot.Reel = function(positions) {
  this.positions = positions;
  this.values = [];
  this.spinValues = [];
  this.stopValues = [];
  this.symbols = [];
  this.container = new PIXI.Container();
  this.mask = new PIXI.Graphics();
  this.offset = 0;
  this.rolling = false;
  this.stopping = false;

  this.container.mask = this.mask;

  for (var i = 0; i < positions + 1; i++) {
    var symbol = new PIXI.Sprite(PIXI.Texture.EMPTY);
    this.container.addChild(symbol);
    this.symbols.push(symbol);
  }
};

Slot.Reel.prototype.render = function(speed, bounceDuration, reelIndex) {
  var _this = this;

  if (this.rolling) {
    this.offset += this.symbols[0].height * speed;
    
    if (this.offset >= this.symbols[0].height) {
      this.offset = 0;
      if (!isNaN(parseInt(this.stopping))) {
        if (!this.stopValues.length) {
          console.error('No stop values have been set for reel: ' + reelIndex);
        }
        this.values.unshift(this.stopValues.pop());
        this.stopping++;
      } else {
        this.values.unshift(this.spinValues.pop());
      }
      this.values.splice(-1, 1);
    }

    if (this.stopping == this.positions + 1) {
      this.rolling = false;
      this.stopping++;
      var o = {
        offset: _this.symbols[0].height * speed,
      };
      this.offset = o.offset;
      anime({
        targets: o,
        offset: 0,
        round: 1,
        duration: bounceDuration,
        easing: 'easeOutQuint',
        update: function() {
          _this.offset = o.offset;
        },
        complete: function() {
          _this.stopping = false;
        },
      });
    }
  }
};
/**
 * Starts reel spinning.
 */
Slot.Reel.prototype.roll = function() {
  if (!this.rolling && this.stopping === false) {
    this.rolling = true;
  }
};
/**
 * Stops reel from spinning.
 */
Slot.Reel.prototype.stop = function() {
  if (this.rolling && this.stopping === false) {
    this.stopping = 0;
  }
};

Slot.Sprite = function(resourceKey, engine) {
  this.instance = new PIXI.Sprite(PIXI.Loader.shared.resources[resourceKey].texture);
  this.x = 0;
  this.y = 0;
  
  Object.defineProperties(this, {
    action: {
      set: function(value) {
        this.instance.interactive = false;
        this.instance.off('pointerdown');
        switch (value) {
          case Slot.ACTION.PLAY:
            this.instance.interactive = true;
            this.instance.on('pointerdown', function() {
              engine.game.play();
            });
            break;
        };
      },
    },
    visible: {
      set: function(value) {
        this.instance.visible = value;
      },
      get: function() {
        return this.instance.visible;
      },
    },
  });

  var _this = this;
  function resizeAndPosition() {
    var pixiSprite = _this.instance;
    pixiSprite.scale.x = engine.renderer.view.width / engine.width;
    pixiSprite.scale.y = engine.renderer.view.height / engine.height;
    pixiSprite.x = (_this.x * engine.renderer.view.width) / engine.width;
    pixiSprite.y = (_this.y * engine.renderer.view.height) / engine.height;
  }
  resizeAndPosition();
  PIXI.Ticker.shared.add(function() {
    resizeAndPosition();
  }, PIXI.UPDATE_PRIORITY.HIGH);

  engine.stage.addChild(this.instance);
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9lczYtcHJvbWlzZS1wb2x5ZmlsbC9wcm9taXNlLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29iamVjdC1hc3NpZ24vaW5kZXguanMiLCIuLi8uLi8uLi9wYWNrYWdlcy9wb2x5ZmlsbC9zcmMvUHJvbWlzZS50cyIsIi4uLy4uLy4uL3BhY2thZ2VzL3BvbHlmaWxsL3NyYy9PYmplY3QuYXNzaWduLnRzIiwiLi4vLi4vLi4vcGFja2FnZXMvcG9seWZpbGwvc3JjL3JlcXVlc3RBbmltYXRpb25GcmFtZS50cyIsIi4uLy4uLy4uL3BhY2thZ2VzL3BvbHlmaWxsL3NyYy9NYXRoLnNpZ24udHMiLCIuLi8uLi8uLi9wYWNrYWdlcy9wb2x5ZmlsbC9zcmMvTnVtYmVyLmlzSW50ZWdlci50cyIsIi4uLy4uLy4uL3BhY2thZ2VzL3BvbHlmaWxsL3NyYy9pbmRleC50cyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9pc21vYmlsZWpzL3NyYy9pc01vYmlsZS50cyIsIi4uLy4uLy4uL3BhY2thZ2VzL3NldHRpbmdzL3NyYy91dGlscy9pc01vYmlsZS50cyIsIi4uLy4uLy4uL3BhY2thZ2VzL3NldHRpbmdzL3NyYy9zZXR0aW5ncy50cyIsIi4uLy4uLy4uL3BhY2thZ2VzL3NldHRpbmdzL3NyYy91dGlscy9tYXhSZWNvbW1lbmRlZFRleHR1cmVzLnRzIiwiLi4vLi4vLi4vcGFja2FnZXMvc2V0dGluZ3Mvc3JjL3V0aWxzL2NhblVwbG9hZFNhbWVCdWZmZXIudHMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZXZlbnRlbWl0dGVyMy9pbmRleC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9lYXJjdXQvc3JjL2VhcmN1dC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy91cmwvbm9kZV9tb2R1bGVzL3B1bnljb2RlL3B1bnljb2RlLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3VybC91dGlsLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3F1ZXJ5c3RyaW5nL2RlY29kZS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9xdWVyeXN0cmluZy9lbmNvZGUuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvcXVlcnlzdHJpbmcvaW5kZXguanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvdXJsL3VybC5qcyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvbnN0YW50cy9zcmMvaW5kZXgudHMiLCIuLi8uLi8uLi9wYWNrYWdlcy91dGlscy9zcmMvc2V0dGluZ3MudHMiLCIuLi8uLi8uLi9wYWNrYWdlcy91dGlscy9zcmMvYnJvd3Nlci9oZWxsby50cyIsIi4uLy4uLy4uL3BhY2thZ2VzL3V0aWxzL3NyYy9icm93c2VyL2lzV2ViR0xTdXBwb3J0ZWQudHMiLCIuLi8uLi8uLi9wYWNrYWdlcy91dGlscy9zcmMvY29sb3IvaGV4LnRzIiwiLi4vLi4vLi4vcGFja2FnZXMvdXRpbHMvc3JjL2NvbG9yL3ByZW11bHRpcGx5LnRzIiwiLi4vLi4vLi4vcGFja2FnZXMvdXRpbHMvc3JjL2RhdGEvY3JlYXRlSW5kaWNlc0ZvclF1YWRzLnRzIiwiLi4vLi4vLi4vcGFja2FnZXMvdXRpbHMvc3JjL2RhdGEvZ2V0QnVmZmVyVHlwZS50cyIsIi4uLy4uLy4uL3BhY2thZ2VzL3V0aWxzL3NyYy9kYXRhL2ludGVybGVhdmVUeXBlZEFycmF5cy50cyIsIi4uLy4uLy4uL3BhY2thZ2VzL3V0aWxzL3NyYy9kYXRhL3BvdzIudHMiLCIuLi8uLi8uLi9wYWNrYWdlcy91dGlscy9zcmMvZGF0YS9yZW1vdmVJdGVtcy50cyIsIi4uLy4uLy4uL3BhY2thZ2VzL3V0aWxzL3NyYy9kYXRhL3NpZ24udHMiLCIuLi8uLi8uLi9wYWNrYWdlcy91dGlscy9zcmMvZGF0YS91aWQudHMiLCIuLi8uLi8uLi9wYWNrYWdlcy91dGlscy9zcmMvbG9nZ2luZy9kZXByZWNhdGlvbi50cyIsIi4uLy4uLy4uL3BhY2thZ2VzL3V0aWxzL3NyYy9tZWRpYS9jYWNoZXMudHMiLCIuLi8uLi8uLi9wYWNrYWdlcy91dGlscy9zcmMvbWVkaWEvQ2FudmFzUmVuZGVyVGFyZ2V0LnRzIiwiLi4vLi4vLi4vcGFja2FnZXMvdXRpbHMvc3JjL21lZGlhL3RyaW1DYW52YXMudHMiLCIuLi8uLi8uLi9wYWNrYWdlcy91dGlscy9zcmMvY29uc3QudHMiLCIuLi8uLi8uLi9wYWNrYWdlcy91dGlscy9zcmMvbmV0d29yay9kZXRlcm1pbmVDcm9zc09yaWdpbi50cyIsIi4uLy4uLy4uL3BhY2thZ2VzL3V0aWxzL3NyYy9uZXR3b3JrL2dldFJlc29sdXRpb25PZlVybC50cyIsIi4uLy4uLy4uL3BhY2thZ2VzL21hdGgvc3JjL2NvbnN0LnRzIiwiLi4vLi4vLi4vcGFja2FnZXMvdXRpbHMvc3JjL25ldHdvcmsvZGVjb21wb3NlRGF0YVVyaS50cyIsIi4uLy4uLy4uL3BhY2thZ2VzL21hdGgvc3JjL3NoYXBlcy9SZWN0YW5nbGUudHMiLCIuLi8uLi8uLi9wYWNrYWdlcy9tYXRoL3NyYy9zaGFwZXMvQ2lyY2xlLnRzIiwiLi4vLi4vLi4vcGFja2FnZXMvbWF0aC9zcmMvc2hhcGVzL0VsbGlwc2UudHMiLCIuLi8uLi8uLi9wYWNrYWdlcy9tYXRoL3NyYy9zaGFwZXMvUG9seWdvbi50cyIsIi4uLy4uLy4uL3BhY2thZ2VzL21hdGgvc3JjL3NoYXBlcy9Sb3VuZGVkUmVjdGFuZ2xlLnRzIiwiLi4vLi4vLi4vcGFja2FnZXMvbWF0aC9zcmMvUG9pbnQudHMiLCIuLi8uLi8uLi9wYWNrYWdlcy9tYXRoL3NyYy9PYnNlcnZhYmxlUG9pbnQudHMiLCIuLi8uLi8uLi9wYWNrYWdlcy9tYXRoL3NyYy9NYXRyaXgudHMiLCIuLi8uLi8uLi9wYWNrYWdlcy9tYXRoL3NyYy9ncm91cEQ4LnRzIiwiLi4vLi4vLi4vcGFja2FnZXMvbWF0aC9zcmMvVHJhbnNmb3JtLnRzIiwiLi4vLi4vLi4vcGFja2FnZXMvZGlzcGxheS9zcmMvc2V0dGluZ3MudHMiLCIuLi8uLi8uLi9wYWNrYWdlcy9kaXNwbGF5L3NyYy9Cb3VuZHMudHMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvdHNsaWIvdHNsaWIuZXM2LmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvZGlzcGxheS9zcmMvRGlzcGxheU9iamVjdC50cyIsIi4uLy4uLy4uL3BhY2thZ2VzL2Rpc3BsYXkvc3JjL0NvbnRhaW5lci50cyIsIi4uLy4uLy4uL3BhY2thZ2VzL2FjY2Vzc2liaWxpdHkvc3JjL2FjY2Vzc2libGVUYXJnZXQudHMiLCIuLi8uLi8uLi9wYWNrYWdlcy9hY2Nlc3NpYmlsaXR5L3NyYy9BY2Nlc3NpYmlsaXR5TWFuYWdlci50cyIsIi4uLy4uLy4uL3BhY2thZ2VzL3RpY2tlci9zcmMvY29uc3QudHMiLCIuLi8uLi8uLi9wYWNrYWdlcy90aWNrZXIvc3JjL3NldHRpbmdzLnRzIiwiLi4vLi4vLi4vcGFja2FnZXMvdGlja2VyL3NyYy9UaWNrZXJMaXN0ZW5lci50cyIsIi4uLy4uLy4uL3BhY2thZ2VzL3RpY2tlci9zcmMvVGlja2VyLnRzIiwiLi4vLi4vLi4vcGFja2FnZXMvdGlja2VyL3NyYy9UaWNrZXJQbHVnaW4udHMiLCIuLi8uLi8uLi9wYWNrYWdlcy9pbnRlcmFjdGlvbi9zcmMvSW50ZXJhY3Rpb25EYXRhLnRzIiwiLi4vLi4vLi4vcGFja2FnZXMvaW50ZXJhY3Rpb24vc3JjL0ludGVyYWN0aW9uRXZlbnQudHMiLCIuLi8uLi8uLi9wYWNrYWdlcy9pbnRlcmFjdGlvbi9zcmMvSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEudHMiLCIuLi8uLi8uLi9wYWNrYWdlcy9pbnRlcmFjdGlvbi9zcmMvVHJlZVNlYXJjaC50cyIsIi4uLy4uLy4uL3BhY2thZ2VzL2ludGVyYWN0aW9uL3NyYy9pbnRlcmFjdGl2ZVRhcmdldC50cyIsIi4uLy4uLy4uL3BhY2thZ2VzL2ludGVyYWN0aW9uL3NyYy9JbnRlcmFjdGlvbk1hbmFnZXIudHMiLCIuLi8uLi8uLi9wYWNrYWdlcy9ydW5uZXIvc3JjL1J1bm5lci50cyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL3NldHRpbmdzLnRzIiwiLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvdGV4dHVyZXMvcmVzb3VyY2VzL2F1dG9EZXRlY3RSZXNvdXJjZS50cyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL3RleHR1cmVzL3Jlc291cmNlcy9SZXNvdXJjZS50cyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL3RleHR1cmVzL3Jlc291cmNlcy9CdWZmZXJSZXNvdXJjZS50cyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL3RleHR1cmVzL0Jhc2VUZXh0dXJlLnRzIiwiLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvdGV4dHVyZXMvcmVzb3VyY2VzL0Fic3RyYWN0TXVsdGlSZXNvdXJjZS50cyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL3RleHR1cmVzL3Jlc291cmNlcy9BcnJheVJlc291cmNlLnRzIiwiLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvdGV4dHVyZXMvcmVzb3VyY2VzL0Jhc2VJbWFnZVJlc291cmNlLnRzIiwiLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvdGV4dHVyZXMvcmVzb3VyY2VzL0NhbnZhc1Jlc291cmNlLnRzIiwiLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvdGV4dHVyZXMvcmVzb3VyY2VzL0N1YmVSZXNvdXJjZS50cyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL3RleHR1cmVzL3Jlc291cmNlcy9JbWFnZVJlc291cmNlLnRzIiwiLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvdGV4dHVyZXMvcmVzb3VyY2VzL1NWR1Jlc291cmNlLnRzIiwiLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvdGV4dHVyZXMvcmVzb3VyY2VzL1ZpZGVvUmVzb3VyY2UudHMiLCIuLi8uLi8uLi9wYWNrYWdlcy9jb3JlL3NyYy90ZXh0dXJlcy9yZXNvdXJjZXMvSW1hZ2VCaXRtYXBSZXNvdXJjZS50cyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL3RleHR1cmVzL3Jlc291cmNlcy9pbmRleC50cyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL1N5c3RlbS50cyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL3RleHR1cmVzL3Jlc291cmNlcy9EZXB0aFJlc291cmNlLnRzIiwiLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvZnJhbWVidWZmZXIvRnJhbWVidWZmZXIudHMiLCIuLi8uLi8uLi9wYWNrYWdlcy9jb3JlL3NyYy9yZW5kZXJUZXh0dXJlL0Jhc2VSZW5kZXJUZXh0dXJlLnRzIiwiLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvdGV4dHVyZXMvVGV4dHVyZVV2cy50cyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL3RleHR1cmVzL1RleHR1cmUudHMiLCIuLi8uLi8uLi9wYWNrYWdlcy9jb3JlL3NyYy9yZW5kZXJUZXh0dXJlL1JlbmRlclRleHR1cmUudHMiLCIuLi8uLi8uLi9wYWNrYWdlcy9jb3JlL3NyYy9yZW5kZXJUZXh0dXJlL1JlbmRlclRleHR1cmVQb29sLnRzIiwiLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvZ2VvbWV0cnkvQXR0cmlidXRlLnRzIiwiLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvZ2VvbWV0cnkvQnVmZmVyLnRzIiwiLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvZ2VvbWV0cnkvdXRpbHMvZ2V0QnVmZmVyVHlwZS50cyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL2dlb21ldHJ5L3V0aWxzL2ludGVybGVhdmVUeXBlZEFycmF5cy50cyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL2dlb21ldHJ5L0dlb21ldHJ5LnRzIiwiLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvdXRpbHMvUXVhZC50cyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL3V0aWxzL1F1YWRVdi50cyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL3NoYWRlci9Vbmlmb3JtR3JvdXAudHMiLCIuLi8uLi8uLi9wYWNrYWdlcy9jb3JlL3NyYy9maWx0ZXJzL0ZpbHRlclN0YXRlLnRzIiwiLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvZmlsdGVycy9GaWx0ZXJTeXN0ZW0udHMiLCIuLi8uLi8uLi9wYWNrYWdlcy9jb3JlL3NyYy9iYXRjaC9PYmplY3RSZW5kZXJlci50cyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL2JhdGNoL0JhdGNoU3lzdGVtLnRzIiwiLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvY29udGV4dC9Db250ZXh0U3lzdGVtLnRzIiwiLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvZnJhbWVidWZmZXIvR0xGcmFtZWJ1ZmZlci50cyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL2ZyYW1lYnVmZmVyL0ZyYW1lYnVmZmVyU3lzdGVtLnRzIiwiLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvZ2VvbWV0cnkvR0xCdWZmZXIudHMiLCIuLi8uLi8uLi9wYWNrYWdlcy9jb3JlL3NyYy9nZW9tZXRyeS9HZW9tZXRyeVN5c3RlbS50cyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL21hc2svTWFza0RhdGEudHMiLCIuLi8uLi8uLi9wYWNrYWdlcy9jb3JlL3NyYy9zaGFkZXIvdXRpbHMvY29tcGlsZVByb2dyYW0udHMiLCIuLi8uLi8uLi9wYWNrYWdlcy9jb3JlL3NyYy9zaGFkZXIvdXRpbHMvZGVmYXVsdFZhbHVlLnRzIiwiLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvc2hhZGVyL3V0aWxzL2dldFRlc3RDb250ZXh0LnRzIiwiLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvc2hhZGVyL3V0aWxzL2dldE1heEZyYWdtZW50UHJlY2lzaW9uLnRzIiwiLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvc2hhZGVyL3V0aWxzL3NldFByZWNpc2lvbi50cyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL3NoYWRlci91dGlscy9tYXBTaXplLnRzIiwiLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvc2hhZGVyL3V0aWxzL21hcFR5cGUudHMiLCIuLi8uLi8uLi9wYWNrYWdlcy9jb3JlL3NyYy9zaGFkZXIvdXRpbHMvdW5pZm9ybVBhcnNlcnMudHMiLCIuLi8uLi8uLi9wYWNrYWdlcy9jb3JlL3NyYy9zaGFkZXIvdXRpbHMvZ2VuZXJhdGVVbmlmb3Jtc1N5bmMudHMiLCIuLi8uLi8uLi9wYWNrYWdlcy9jb3JlL3NyYy9zaGFkZXIvdXRpbHMvY2hlY2tNYXhJZlN0YXRlbWVudHNJblNoYWRlci50cyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL3NoYWRlci91dGlscy91bnNhZmVFdmFsU3VwcG9ydGVkLnRzIiwiLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvc2hhZGVyL1Byb2dyYW0udHMiLCIuLi8uLi8uLi9wYWNrYWdlcy9jb3JlL3NyYy9zaGFkZXIvU2hhZGVyLnRzIiwiLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvc3RhdGUvU3RhdGUudHMiLCIuLi8uLi8uLi9wYWNrYWdlcy9jb3JlL3NyYy9maWx0ZXJzL0ZpbHRlci50cyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL3RleHR1cmVzL1RleHR1cmVNYXRyaXgudHMiLCIuLi8uLi8uLi9wYWNrYWdlcy9jb3JlL3NyYy9maWx0ZXJzL3Nwcml0ZU1hc2svU3ByaXRlTWFza0ZpbHRlci50cyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL21hc2svTWFza1N5c3RlbS50cyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL21hc2svQWJzdHJhY3RNYXNrU3lzdGVtLnRzIiwiLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvbWFzay9TY2lzc29yU3lzdGVtLnRzIiwiLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvbWFzay9TdGVuY2lsU3lzdGVtLnRzIiwiLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvcHJvamVjdGlvbi9Qcm9qZWN0aW9uU3lzdGVtLnRzIiwiLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvcmVuZGVyVGV4dHVyZS9SZW5kZXJUZXh0dXJlU3lzdGVtLnRzIiwiLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvc2hhZGVyL0dMUHJvZ3JhbS50cyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL3NoYWRlci9TaGFkZXJTeXN0ZW0udHMiLCIuLi8uLi8uLi9wYWNrYWdlcy9jb3JlL3NyYy9zdGF0ZS9TdGF0ZVN5c3RlbS50cyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL3N0YXRlL3V0aWxzL21hcFdlYkdMQmxlbmRNb2Rlc1RvUGl4aS50cyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL3RleHR1cmVzL1RleHR1cmVHQ1N5c3RlbS50cyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL3RleHR1cmVzL0dMVGV4dHVyZS50cyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL3RleHR1cmVzL1RleHR1cmVTeXN0ZW0udHMiLCIuLi8uLi8uLi9wYWNrYWdlcy9jb3JlL3NyYy9BYnN0cmFjdFJlbmRlcmVyLnRzIiwiLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvUmVuZGVyZXIudHMiLCIuLi8uLi8uLi9wYWNrYWdlcy9jb3JlL3NyYy9hdXRvRGV0ZWN0UmVuZGVyZXIudHMiLCIuLi8uLi8uLi9wYWNrYWdlcy9jb3JlL3NyYy9iYXRjaC9CYXRjaERyYXdDYWxsLnRzIiwiLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvYmF0Y2gvQmF0Y2hUZXh0dXJlQXJyYXkudHMiLCIuLi8uLi8uLi9wYWNrYWdlcy9jb3JlL3NyYy9nZW9tZXRyeS9WaWV3YWJsZUJ1ZmZlci50cyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL2JhdGNoL0Fic3RyYWN0QmF0Y2hSZW5kZXJlci50cyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL2JhdGNoL0JhdGNoU2hhZGVyR2VuZXJhdG9yLnRzIiwiLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvYmF0Y2gvQmF0Y2hHZW9tZXRyeS50cyIsIi4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL2JhdGNoL0JhdGNoUGx1Z2luRmFjdG9yeS50cyIsIi4uLy4uLy4uL3BhY2thZ2VzL2FwcC9zcmMvQXBwbGljYXRpb24udHMiLCIuLi8uLi8uLi9wYWNrYWdlcy9hcHAvc3JjL1Jlc2l6ZVBsdWdpbi50cyIsIi4uLy4uLy4uL3BhY2thZ2VzL2FwcC9zcmMvaW5kZXgudHMiLCIuLi8uLi8uLi9wYWNrYWdlcy9leHRyYWN0L3NyYy9FeHRyYWN0LnRzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3BhcnNlLXVyaS9zcmMvaW5kZXguanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWluaS1zaWduYWxzL2xpYi9taW5pLXNpZ25hbHMuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvcmVzb3VyY2UtbG9hZGVyL3NyYy9hc3luYy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9yZXNvdXJjZS1sb2FkZXIvc3JjL21pZGRsZXdhcmUvY2FjaGluZy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9yZXNvdXJjZS1sb2FkZXIvc3JjL1Jlc291cmNlLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Jlc291cmNlLWxvYWRlci9zcmMvZW5jb2RlQmluYXJ5LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Jlc291cmNlLWxvYWRlci9zcmMvbWlkZGxld2FyZS9wYXJzaW5nLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Jlc291cmNlLWxvYWRlci9zcmMvTG9hZGVyLmpzIiwiLi4vLi4vLi4vcGFja2FnZXMvbG9hZGVycy9zcmMvTG9hZGVyUmVzb3VyY2UudHMiLCIuLi8uLi8uLi9wYWNrYWdlcy9sb2FkZXJzL3NyYy9UZXh0dXJlTG9hZGVyLnRzIiwiLi4vLi4vLi4vcGFja2FnZXMvbG9hZGVycy9zcmMvTG9hZGVyLnRzIiwiLi4vLi4vLi4vcGFja2FnZXMvbG9hZGVycy9zcmMvQXBwTG9hZGVyUGx1Z2luLnRzIiwiLi4vLi4vLi4vcGFja2FnZXMvZ3JhcGhpY3Mvc3JjL2NvbnN0LnRzIiwiLi4vLi4vLi4vcGFja2FnZXMvcGFydGljbGVzL3NyYy9QYXJ0aWNsZUNvbnRhaW5lci50cyIsIi4uLy4uLy4uL3BhY2thZ2VzL3BhcnRpY2xlcy9zcmMvUGFydGljbGVCdWZmZXIudHMiLCIuLi8uLi8uLi9wYWNrYWdlcy9wYXJ0aWNsZXMvc3JjL1BhcnRpY2xlUmVuZGVyZXIudHMiLCIuLi8uLi8uLi9wYWNrYWdlcy9ncmFwaGljcy9zcmMvc3R5bGVzL0ZpbGxTdHlsZS50cyIsIi4uLy4uLy4uL3BhY2thZ2VzL2dyYXBoaWNzL3NyYy91dGlscy9idWlsZFBvbHkudHMiLCIuLi8uLi8uLi9wYWNrYWdlcy9ncmFwaGljcy9zcmMvdXRpbHMvYnVpbGRDaXJjbGUudHMiLCIuLi8uLi8uLi9wYWNrYWdlcy9ncmFwaGljcy9zcmMvdXRpbHMvYnVpbGRSZWN0YW5nbGUudHMiLCIuLi8uLi8uLi9wYWNrYWdlcy9ncmFwaGljcy9zcmMvdXRpbHMvYnVpbGRSb3VuZGVkUmVjdGFuZ2xlLnRzIiwiLi4vLi4vLi4vcGFja2FnZXMvZ3JhcGhpY3Mvc3JjL3V0aWxzL2J1aWxkTGluZS50cyIsIi4uLy4uLy4uL3BhY2thZ2VzL2dyYXBoaWNzL3NyYy91dGlscy9TdGFyLnRzIiwiLi4vLi4vLi4vcGFja2FnZXMvZ3JhcGhpY3Mvc3JjL3V0aWxzL0FyY1V0aWxzLnRzIiwiLi4vLi4vLi4vcGFja2FnZXMvZ3JhcGhpY3Mvc3JjL3V0aWxzL0JlemllclV0aWxzLnRzIiwiLi4vLi4vLi4vcGFja2FnZXMvZ3JhcGhpY3Mvc3JjL3V0aWxzL1F1YWRyYXRpY1V0aWxzLnRzIiwiLi4vLi4vLi4vcGFja2FnZXMvZ3JhcGhpY3Mvc3JjL3V0aWxzL0JhdGNoUGFydC50cyIsIi4uLy4uLy4uL3BhY2thZ2VzL2dyYXBoaWNzL3NyYy91dGlscy9pbmRleC50cyIsIi4uLy4uLy4uL3BhY2thZ2VzL2dyYXBoaWNzL3NyYy9HcmFwaGljc0RhdGEudHMiLCIuLi8uLi8uLi9wYWNrYWdlcy9ncmFwaGljcy9zcmMvR3JhcGhpY3NHZW9tZXRyeS50cyIsIi4uLy4uLy4uL3BhY2thZ2VzL2dyYXBoaWNzL3NyYy9zdHlsZXMvTGluZVN0eWxlLnRzIiwiLi4vLi4vLi4vcGFja2FnZXMvZ3JhcGhpY3Mvc3JjL0dyYXBoaWNzLnRzIiwiLi4vLi4vLi4vcGFja2FnZXMvc3ByaXRlL3NyYy9TcHJpdGUudHMiLCIuLi8uLi8uLi9wYWNrYWdlcy90ZXh0L3NyYy9jb25zdC50cyIsIi4uLy4uLy4uL3BhY2thZ2VzL3RleHQvc3JjL1RleHRTdHlsZS50cyIsIi4uLy4uLy4uL3BhY2thZ2VzL3RleHQvc3JjL1RleHRNZXRyaWNzLnRzIiwiLi4vLi4vLi4vcGFja2FnZXMvdGV4dC9zcmMvVGV4dC50cyIsIi4uLy4uLy4uL3BhY2thZ2VzL3ByZXBhcmUvc3JjL3NldHRpbmdzLnRzIiwiLi4vLi4vLi4vcGFja2FnZXMvcHJlcGFyZS9zcmMvQ291bnRMaW1pdGVyLnRzIiwiLi4vLi4vLi4vcGFja2FnZXMvcHJlcGFyZS9zcmMvQmFzZVByZXBhcmUudHMiLCIuLi8uLi8uLi9wYWNrYWdlcy9wcmVwYXJlL3NyYy9QcmVwYXJlLnRzIiwiLi4vLi4vLi4vcGFja2FnZXMvcHJlcGFyZS9zcmMvVGltZUxpbWl0ZXIudHMiLCIuLi8uLi8uLi9wYWNrYWdlcy9zcHJpdGVzaGVldC9zcmMvU3ByaXRlc2hlZXQudHMiLCIuLi8uLi8uLi9wYWNrYWdlcy9zcHJpdGVzaGVldC9zcmMvU3ByaXRlc2hlZXRMb2FkZXIudHMiLCIuLi8uLi8uLi9wYWNrYWdlcy9zcHJpdGUtdGlsaW5nL3NyYy9UaWxpbmdTcHJpdGUudHMiLCIuLi8uLi8uLi9wYWNrYWdlcy9zcHJpdGUtdGlsaW5nL3NyYy9UaWxpbmdTcHJpdGVSZW5kZXJlci50cyIsIi4uLy4uLy4uL3BhY2thZ2VzL21lc2gvc3JjL01lc2hCYXRjaFV2cy50cyIsIi4uLy4uLy4uL3BhY2thZ2VzL21lc2gvc3JjL01lc2gudHMiLCIuLi8uLi8uLi9wYWNrYWdlcy9tZXNoL3NyYy9NZXNoTWF0ZXJpYWwudHMiLCIuLi8uLi8uLi9wYWNrYWdlcy9tZXNoL3NyYy9NZXNoR2VvbWV0cnkudHMiLCIuLi8uLi8uLi9wYWNrYWdlcy90ZXh0LWJpdG1hcC9zcmMvQml0bWFwRm9udERhdGEudHMiLCIuLi8uLi8uLi9wYWNrYWdlcy90ZXh0LWJpdG1hcC9zcmMvZm9ybWF0cy9UZXh0Rm9ybWF0LnRzIiwiLi4vLi4vLi4vcGFja2FnZXMvdGV4dC1iaXRtYXAvc3JjL2Zvcm1hdHMvWE1MRm9ybWF0LnRzIiwiLi4vLi4vLi4vcGFja2FnZXMvdGV4dC1iaXRtYXAvc3JjL2Zvcm1hdHMvWE1MU3RyaW5nRm9ybWF0LnRzIiwiLi4vLi4vLi4vcGFja2FnZXMvdGV4dC1iaXRtYXAvc3JjL2Zvcm1hdHMvaW5kZXgudHMiLCIuLi8uLi8uLi9wYWNrYWdlcy90ZXh0LWJpdG1hcC9zcmMvdXRpbHMvZHJhd0dseXBoLnRzIiwiLi4vLi4vLi4vcGFja2FnZXMvdGV4dC1iaXRtYXAvc3JjL3V0aWxzL2dlbmVyYXRlRmlsbFN0eWxlLnRzIiwiLi4vLi4vLi4vcGFja2FnZXMvdGV4dC1iaXRtYXAvc3JjL0JpdG1hcEZvbnQudHMiLCIuLi8uLi8uLi9wYWNrYWdlcy90ZXh0LWJpdG1hcC9zcmMvdXRpbHMvcmVzb2x2ZUNoYXJhY3RlcnMudHMiLCIuLi8uLi8uLi9wYWNrYWdlcy90ZXh0LWJpdG1hcC9zcmMvQml0bWFwVGV4dC50cyIsIi4uLy4uLy4uL3BhY2thZ2VzL3RleHQtYml0bWFwL3NyYy9CaXRtYXBGb250TG9hZGVyLnRzIiwiLi4vLi4vLi4vcGFja2FnZXMvZmlsdGVycy9maWx0ZXItYWxwaGEvc3JjL0FscGhhRmlsdGVyLnRzIiwiLi4vLi4vLi4vcGFja2FnZXMvZmlsdGVycy9maWx0ZXItYmx1ci9zcmMvZ2VuZXJhdGVCbHVyVmVydFNvdXJjZS50cyIsIi4uLy4uLy4uL3BhY2thZ2VzL2ZpbHRlcnMvZmlsdGVyLWJsdXIvc3JjL2dlbmVyYXRlQmx1ckZyYWdTb3VyY2UudHMiLCIuLi8uLi8uLi9wYWNrYWdlcy9maWx0ZXJzL2ZpbHRlci1ibHVyL3NyYy9CbHVyRmlsdGVyUGFzcy50cyIsIi4uLy4uLy4uL3BhY2thZ2VzL2ZpbHRlcnMvZmlsdGVyLWJsdXIvc3JjL0JsdXJGaWx0ZXIudHMiLCIuLi8uLi8uLi9wYWNrYWdlcy9maWx0ZXJzL2ZpbHRlci1jb2xvci1tYXRyaXgvc3JjL0NvbG9yTWF0cml4RmlsdGVyLnRzIiwiLi4vLi4vLi4vcGFja2FnZXMvZmlsdGVycy9maWx0ZXItZGlzcGxhY2VtZW50L3NyYy9EaXNwbGFjZW1lbnRGaWx0ZXIudHMiLCIuLi8uLi8uLi9wYWNrYWdlcy9maWx0ZXJzL2ZpbHRlci1meGFhL3NyYy9GWEFBRmlsdGVyLnRzIiwiLi4vLi4vLi4vcGFja2FnZXMvZmlsdGVycy9maWx0ZXItbm9pc2Uvc3JjL05vaXNlRmlsdGVyLnRzIiwiLi4vLi4vLi4vcGFja2FnZXMvbWl4aW4tY2FjaGUtYXMtYml0bWFwL3NyYy9pbmRleC50cyIsIi4uLy4uLy4uL3BhY2thZ2VzL21peGluLWdldC1jaGlsZC1ieS1uYW1lL3NyYy9pbmRleC50cyIsIi4uLy4uLy4uL3BhY2thZ2VzL21peGluLWdldC1nbG9iYWwtcG9zaXRpb24vc3JjL2luZGV4LnRzIiwiLi4vc3JjL3VzZURlcHJlY2F0ZWQudHMiLCIuLi8uLi8uLi9wYWNrYWdlcy9tZXNoLWV4dHJhcy9zcmMvZ2VvbWV0cnkvUGxhbmVHZW9tZXRyeS50cyIsIi4uLy4uLy4uL3BhY2thZ2VzL21lc2gtZXh0cmFzL3NyYy9nZW9tZXRyeS9Sb3BlR2VvbWV0cnkudHMiLCIuLi8uLi8uLi9wYWNrYWdlcy9tZXNoLWV4dHJhcy9zcmMvU2ltcGxlUm9wZS50cyIsIi4uLy4uLy4uL3BhY2thZ2VzL21lc2gtZXh0cmFzL3NyYy9TaW1wbGVQbGFuZS50cyIsIi4uLy4uLy4uL3BhY2thZ2VzL21lc2gtZXh0cmFzL3NyYy9TaW1wbGVNZXNoLnRzIiwiLi4vLi4vLi4vcGFja2FnZXMvbWVzaC1leHRyYXMvc3JjL05pbmVTbGljZVBsYW5lLnRzIiwiLi4vLi4vLi4vcGFja2FnZXMvc3ByaXRlLWFuaW1hdGVkL3NyYy9BbmltYXRlZFNwcml0ZS50cyIsIi4uL3NyYy9pbmRleC50cyIsImFuaW1lLm1pbi5qcyIsInNsb3QuanMiLCJnYW1lLmpzIiwicmVlbHMtY29udHJvbGxlci5qcyIsInJlZWwuanMiLCJzcHJpdGUuanMiXSwibmFtZXMiOlsiZ2xvYmFsIiwiTmF0aXZlUHJvbWlzZSIsIm5hdGl2ZVByb21pc2VTdXBwb3J0ZWQiLCJyZXNvbHZlIiwiciIsImV4cG9ydHMiLCJQcm9taXNlIiwiUEVORElORyIsIlNFQUxFRCIsIkZVTEZJTExFRCIsIlJFSkVDVEVEIiwiTk9PUCIsImlzQXJyYXkiLCJ2YWx1ZSIsIk9iamVjdCIsInByb3RvdHlwZSIsInRvU3RyaW5nIiwiY2FsbCIsImFzeW5jVGltZXIiLCJhc3luY1NldFRpbWVyIiwic2V0SW1tZWRpYXRlIiwic2V0VGltZW91dCIsImFzeW5jUXVldWUiLCJhc3luY0ZsdXNoIiwiaSIsImxlbmd0aCIsImFzeW5jQ2FsbCIsImNhbGxiYWNrIiwiYXJnIiwicHVzaCIsImludm9rZUNhbGxiYWNrIiwic3Vic2NyaWJlciIsIm93bmVyIiwic2V0dGxlZCIsInN0YXRlXyIsImRhdGFfIiwicHJvbWlzZSIsInRoZW4iLCJlIiwicmVqZWN0IiwiaGFuZGxlVGhlbmFibGUiLCJyZXNvbHZlZCIsIlR5cGVFcnJvciIsInZhbCIsImZ1bGZpbGwiLCJyZWFzb24iLCJwdWJsaXNoRnVsZmlsbG1lbnQiLCJwdWJsaXNoUmVqZWN0aW9uIiwicHVibGlzaCIsImNhbGxiYWNrcyIsInRoZW5fIiwidW5kZWZpbmVkIiwicmVzb2x2ZXIiLCJ0aGlzIiwicmVqZWN0UHJvbWlzZSIsImludm9rZVJlc29sdmVyIiwiY29uc3RydWN0b3IiLCJvbkZ1bGZpbGxtZW50Iiwib25SZWplY3Rpb24iLCJmdWxmaWxsZWQiLCJyZWplY3RlZCIsImNhdGNoIiwiYWxsIiwicHJvbWlzZXMiLCJyZXN1bHRzIiwicmVtYWluaW5nIiwiaW5kZXgiLCJyYWNlIiwid2luZG93Iiwic2VsZiIsImdldE93blByb3BlcnR5U3ltYm9scyIsImhhc093blByb3BlcnR5IiwicHJvcElzRW51bWVyYWJsZSIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwiYXNzaWduIiwidGVzdDEiLCJTdHJpbmciLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwidGVzdDIiLCJmcm9tQ2hhckNvZGUiLCJtYXAiLCJuIiwiam9pbiIsInRlc3QzIiwic3BsaXQiLCJmb3JFYWNoIiwibGV0dGVyIiwia2V5cyIsImVyciIsInNob3VsZFVzZU5hdGl2ZSIsInRhcmdldCIsInNvdXJjZSIsImZyb20iLCJzeW1ib2xzIiwidG8iLCJ0b09iamVjdCIsInMiLCJhcmd1bWVudHMiLCJrZXkiLCJQb2x5ZmlsbCIsIm9iamVjdEFzc2lnbiIsIkRhdGUiLCJub3ciLCJnZXRUaW1lIiwicGVyZm9ybWFuY2UiLCJzdGFydFRpbWVfMSIsImxhc3RUaW1lIiwidmVuZG9ycyIsIngiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJwIiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJjdXJyZW50VGltZSIsImRlbGF5IiwiaWQiLCJjbGVhclRpbWVvdXQiLCJNYXRoIiwic2lnbiIsIk51bWJlciIsImlzTmFOIiwiaXNJbnRlZ2VyIiwiaXNGaW5pdGUiLCJmbG9vciIsIkFycmF5QnVmZmVyIiwiQXJyYXkiLCJGbG9hdDMyQXJyYXkiLCJVaW50MzJBcnJheSIsIlVpbnQxNkFycmF5IiwiVWludDhBcnJheSIsIkludDMyQXJyYXkiLCJhcHBsZUlwaG9uZSIsImFwcGxlSXBvZCIsImFwcGxlVGFibGV0IiwiYXBwbGVVbml2ZXJzYWwiLCJhbmRyb2lkUGhvbmUiLCJhbmRyb2lkVGFibGV0IiwiYW1hem9uUGhvbmUiLCJhbWF6b25UYWJsZXQiLCJ3aW5kb3dzUGhvbmUiLCJ3aW5kb3dzVGFibGV0Iiwib3RoZXJCbGFja0JlcnJ5Iiwib3RoZXJCbGFja0JlcnJ5MTAiLCJvdGhlck9wZXJhIiwib3RoZXJDaHJvbWUiLCJvdGhlckZpcmVmb3giLCJpc0FwcGxlVGFibGV0T25Jb3MxMyIsIm5hdmlnYXRvciIsInBsYXRmb3JtIiwibWF4VG91Y2hQb2ludHMiLCJNU1N0cmVhbSIsImlzTW9iaWxlIiwicGFyYW0iLCJuYXYiLCJ1c2VyQWdlbnQiLCJ0bXAiLCJtYXRjaCIsInJlZ2V4IiwidGVzdCIsImNyZWF0ZU1hdGNoIiwicmVzdWx0IiwiYXBwbGUiLCJwaG9uZSIsImlwb2QiLCJ0YWJsZXQiLCJ1bml2ZXJzYWwiLCJkZXZpY2UiLCJhbWF6b24iLCJhbmRyb2lkIiwid2luZG93cyIsIm90aGVyIiwiYmxhY2tiZXJyeSIsImJsYWNrYmVycnkxMCIsIm9wZXJhIiwiZmlyZWZveCIsImNocm9tZSIsImFueSIsImlzTW9iaWxlQ2FsbCIsInNldHRpbmdzIiwiTUlQTUFQX1RFWFRVUkVTIiwiQU5JU09UUk9QSUNfTEVWRUwiLCJSRVNPTFVUSU9OIiwiRklMVEVSX1JFU09MVVRJT04iLCJTUFJJVEVfTUFYX1RFWFRVUkVTIiwibWF4IiwiYWxsb3dNYXgiLCJwYXJzZUludCIsIm1heFJlY29tbWVuZGVkVGV4dHVyZXMiLCJTUFJJVEVfQkFUQ0hfU0laRSIsIlJFTkRFUl9PUFRJT05TIiwidmlldyIsImFudGlhbGlhcyIsImF1dG9EZW5zaXR5IiwidHJhbnNwYXJlbnQiLCJiYWNrZ3JvdW5kQ29sb3IiLCJjbGVhckJlZm9yZVJlbmRlciIsInByZXNlcnZlRHJhd2luZ0J1ZmZlciIsIndpZHRoIiwiaGVpZ2h0IiwibGVnYWN5IiwiR0NfTU9ERSIsIkdDX01BWF9JRExFIiwiR0NfTUFYX0NIRUNLX0NPVU5UIiwiV1JBUF9NT0RFIiwiU0NBTEVfTU9ERSIsIlBSRUNJU0lPTl9WRVJURVgiLCJQUkVDSVNJT05fRlJBR01FTlQiLCJDQU5fVVBMT0FEX1NBTUVfQlVGRkVSIiwiQ1JFQVRFX0lNQUdFX0JJVE1BUCIsIlJPVU5EX1BJWEVMUyIsImhhcyIsInByZWZpeCIsIkV2ZW50cyIsIkVFIiwiZm4iLCJjb250ZXh0Iiwib25jZSIsImFkZExpc3RlbmVyIiwiZW1pdHRlciIsImV2ZW50IiwibGlzdGVuZXIiLCJldnQiLCJfZXZlbnRzIiwiX2V2ZW50c0NvdW50IiwiY2xlYXJFdmVudCIsIkV2ZW50RW1pdHRlciIsImNyZWF0ZSIsIl9fcHJvdG9fXyIsImV2ZW50TmFtZXMiLCJldmVudHMiLCJuYW1lIiwibmFtZXMiLCJzbGljZSIsImNvbmNhdCIsImxpc3RlbmVycyIsImhhbmRsZXJzIiwibCIsImVlIiwibGlzdGVuZXJDb3VudCIsImVtaXQiLCJhMSIsImEyIiwiYTMiLCJhNCIsImE1IiwiYXJncyIsImxlbiIsInJlbW92ZUxpc3RlbmVyIiwiYXBwbHkiLCJqIiwib24iLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJvZmYiLCJwcmVmaXhlZCIsIm1vZHVsZSIsImVhcmN1dCIsImRhdGEiLCJob2xlSW5kaWNlcyIsImRpbSIsIm1pblgiLCJtaW5ZIiwibWF4WCIsIm1heFkiLCJ5IiwiaW52U2l6ZSIsImhhc0hvbGVzIiwib3V0ZXJMZW4iLCJvdXRlck5vZGUiLCJsaW5rZWRMaXN0IiwidHJpYW5nbGVzIiwibmV4dCIsInByZXYiLCJzdGFydCIsImVuZCIsImxpc3QiLCJxdWV1ZSIsInN0ZWluZXIiLCJnZXRMZWZ0bW9zdCIsInNvcnQiLCJjb21wYXJlWCIsImZpbHRlclBvaW50cyIsImVsaW1pbmF0ZUhvbGUiLCJlbGltaW5hdGVIb2xlcyIsImVhcmN1dExpbmtlZCIsImNsb2Nrd2lzZSIsImxhc3QiLCJzaWduZWRBcmVhIiwiaW5zZXJ0Tm9kZSIsImVxdWFscyIsInJlbW92ZU5vZGUiLCJhZ2FpbiIsImFyZWEiLCJlYXIiLCJwYXNzIiwieiIsInpPcmRlciIsInByZXZaIiwibmV4dFoiLCJxIiwidGFpbCIsIm51bU1lcmdlcyIsInBTaXplIiwicVNpemUiLCJpblNpemUiLCJzb3J0TGlua2VkIiwiaW5kZXhDdXJ2ZSIsInN0b3AiLCJpc0Vhckhhc2hlZCIsImlzRWFyIiwiY3VyZUxvY2FsSW50ZXJzZWN0aW9ucyIsInNwbGl0RWFyY3V0IiwiYSIsImIiLCJjIiwicG9pbnRJblRyaWFuZ2xlIiwibWluVFgiLCJtaW5UWSIsIm1heFRYIiwibWF4VFkiLCJtaW5aIiwibWF4WiIsImludGVyc2VjdHMiLCJsb2NhbGx5SW5zaWRlIiwiaXNWYWxpZERpYWdvbmFsIiwic3BsaXRQb2x5Z29uIiwiaG9sZSIsImJyaWRnZSIsIm0iLCJoeCIsImh5IiwicXgiLCJJbmZpbml0eSIsInRhbiIsIm14IiwibXkiLCJ0YW5NaW4iLCJhYnMiLCJzZWN0b3JDb250YWluc1NlY3RvciIsImZpbmRIb2xlQnJpZGdlIiwiYnJpZGdlUmV2ZXJzZSIsImZpbHRlcmVkQnJpZGdlIiwibGVmdG1vc3QiLCJheCIsImF5IiwiYngiLCJieSIsImN4IiwiY3kiLCJweCIsInB5IiwiaW50ZXJzZWN0c1BvbHlnb24iLCJpbnNpZGUiLCJtaWRkbGVJbnNpZGUiLCJwMSIsInAyIiwicTEiLCJxMiIsIm8xIiwibzIiLCJvMyIsIm80Iiwib25TZWdtZW50IiwibWluIiwibnVtIiwiTm9kZSIsImIyIiwiYW4iLCJicCIsInN1bSIsImRldmlhdGlvbiIsInBvbHlnb25BcmVhIiwidHJpYW5nbGVzQXJlYSIsImZsYXR0ZW4iLCJ2ZXJ0aWNlcyIsImhvbGVzIiwiZGltZW5zaW9ucyIsImhvbGVJbmRleCIsImQiLCJyb290IiwiZnJlZUV4cG9ydHMiLCJub2RlVHlwZSIsImZyZWVNb2R1bGUiLCJmcmVlR2xvYmFsIiwicHVueWNvZGUiLCJtYXhJbnQiLCJiYXNlIiwidE1pbiIsInRNYXgiLCJza2V3IiwiZGFtcCIsImluaXRpYWxCaWFzIiwiaW5pdGlhbE4iLCJkZWxpbWl0ZXIiLCJyZWdleFB1bnljb2RlIiwicmVnZXhOb25BU0NJSSIsInJlZ2V4U2VwYXJhdG9ycyIsImVycm9ycyIsIm92ZXJmbG93Iiwibm90LWJhc2ljIiwiaW52YWxpZC1pbnB1dCIsImJhc2VNaW51c1RNaW4iLCJzdHJpbmdGcm9tQ2hhckNvZGUiLCJlcnJvciIsInR5cGUiLCJSYW5nZUVycm9yIiwiYXJyYXkiLCJtYXBEb21haW4iLCJzdHJpbmciLCJwYXJ0cyIsInJlcGxhY2UiLCJ1Y3MyZGVjb2RlIiwiZXh0cmEiLCJvdXRwdXQiLCJjb3VudGVyIiwiY2hhckNvZGVBdCIsInVjczJlbmNvZGUiLCJkaWdpdFRvQmFzaWMiLCJkaWdpdCIsImZsYWciLCJhZGFwdCIsImRlbHRhIiwibnVtUG9pbnRzIiwiZmlyc3RUaW1lIiwiayIsImRlY29kZSIsImlucHV0Iiwib3V0IiwiYmFzaWMiLCJvbGRpIiwidyIsInQiLCJiYXNlTWludXNUIiwiY29kZVBvaW50IiwiaW5wdXRMZW5ndGgiLCJiaWFzIiwibGFzdEluZGV4T2YiLCJzcGxpY2UiLCJlbmNvZGUiLCJoYW5kbGVkQ1BDb3VudCIsImJhc2ljTGVuZ3RoIiwiY3VycmVudFZhbHVlIiwiaGFuZGxlZENQQ291bnRQbHVzT25lIiwicU1pbnVzVCIsInZlcnNpb24iLCJ1Y3MyIiwidG9BU0NJSSIsInRvVW5pY29kZSIsInRvTG93ZXJDYXNlIiwiaXNTdHJpbmciLCJpc09iamVjdCIsImlzTnVsbCIsImlzTnVsbE9yVW5kZWZpbmVkIiwib2JqIiwicHJvcCIsInFzIiwic2VwIiwiZXEiLCJvcHRpb25zIiwicmVnZXhwIiwibWF4S2V5cyIsImtzdHIiLCJ2c3RyIiwidiIsImlkeCIsImluZGV4T2YiLCJzdWJzdHIiLCJkZWNvZGVVUklDb21wb25lbnQiLCJzdHJpbmdpZnlQcmltaXRpdmUiLCJrcyIsImVuY29kZVVSSUNvbXBvbmVudCIsInJlcXVpcmUkJDAiLCJyZXF1aXJlJCQxIiwidXJsUGFyc2UiLCJyZWxhdGl2ZSIsInJlc29sdmVPYmplY3QiLCJ1dGlsIiwiVXJsIiwiZm9ybWF0IiwicHJvdG9jb2wiLCJzbGFzaGVzIiwiYXV0aCIsImhvc3QiLCJwb3J0IiwiaG9zdG5hbWUiLCJoYXNoIiwic2VhcmNoIiwicXVlcnkiLCJwYXRobmFtZSIsInBhdGgiLCJocmVmIiwicHJvdG9jb2xQYXR0ZXJuIiwicG9ydFBhdHRlcm4iLCJzaW1wbGVQYXRoUGF0dGVybiIsInVud2lzZSIsImF1dG9Fc2NhcGUiLCJub25Ib3N0Q2hhcnMiLCJob3N0RW5kaW5nQ2hhcnMiLCJob3N0bmFtZVBhcnRQYXR0ZXJuIiwiaG9zdG5hbWVQYXJ0U3RhcnQiLCJ1bnNhZmVQcm90b2NvbCIsImphdmFzY3JpcHQiLCJqYXZhc2NyaXB0OiIsImhvc3RsZXNzUHJvdG9jb2wiLCJzbGFzaGVkUHJvdG9jb2wiLCJodHRwIiwiaHR0cHMiLCJmdHAiLCJnb3BoZXIiLCJmaWxlIiwiaHR0cDoiLCJodHRwczoiLCJmdHA6IiwiZ29waGVyOiIsImZpbGU6IiwidXJsIiwicGFyc2VRdWVyeVN0cmluZyIsInNsYXNoZXNEZW5vdGVIb3N0IiwidSIsInBhcnNlIiwicXVlcnlJbmRleCIsInNwbGl0dGVyIiwidVNwbGl0IiwicmVzdCIsInRyaW0iLCJzaW1wbGVQYXRoIiwiZXhlYyIsInF1ZXJ5c3RyaW5nIiwicHJvdG8iLCJsb3dlclByb3RvIiwiYXRTaWduIiwiaG9zdEVuZCIsImhlYyIsInBhcnNlSG9zdCIsImlwdjZIb3N0bmFtZSIsImhvc3RwYXJ0cyIsInBhcnQiLCJuZXdwYXJ0IiwidmFsaWRQYXJ0cyIsIm5vdEhvc3QiLCJiaXQiLCJ1bnNoaWZ0IiwiaCIsImFlIiwiZXNjIiwiZXNjYXBlIiwicW0iLCJzdHJpbmdpZnkiLCJjaGFyQXQiLCJyZWwiLCJ0a2V5cyIsInRrIiwidGtleSIsInJrZXlzIiwicmsiLCJya2V5IiwicmVsUGF0aCIsInNoaWZ0IiwiaXNTb3VyY2VBYnMiLCJpc1JlbEFicyIsIm11c3RFbmRBYnMiLCJyZW1vdmVBbGxEb3RzIiwic3JjUGF0aCIsInBzeWNob3RpYyIsInBvcCIsImF1dGhJbkhvc3QiLCJoYXNUcmFpbGluZ1NsYXNoIiwidXAiLCJpc0Fic29sdXRlIiwiRU5WIiwiUkVOREVSRVJfVFlQRSIsIkJVRkZFUl9CSVRTIiwiQkxFTkRfTU9ERVMiLCJEUkFXX01PREVTIiwiRk9STUFUUyIsIlRBUkdFVFMiLCJUWVBFUyIsIlNDQUxFX01PREVTIiwiV1JBUF9NT0RFUyIsIk1JUE1BUF9NT0RFUyIsIkFMUEhBX01PREVTIiwiQ0xFQVJfTU9ERVMiLCJHQ19NT0RFUyIsIlBSRUNJU0lPTiIsIk1BU0tfVFlQRVMiLCJNU0FBX1FVQUxJVFkiLCJSRVRJTkFfUFJFRklYIiwiRkFJTF9JRl9NQUpPUl9QRVJGT1JNQU5DRV9DQVZFQVQiLCJzdXBwb3J0ZWQiLCJzYWlkSGVsbG8iLCJWRVJTSU9OIiwic2F5SGVsbG8iLCJfYSIsImNvbnNvbGUiLCJsb2ciLCJpc1dlYkdMU3VwcG9ydGVkIiwiY29udGV4dE9wdGlvbnMiLCJzdGVuY2lsIiwiZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdCIsIldlYkdMUmVuZGVyaW5nQ29udGV4dCIsImNhbnZhcyIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImdsIiwiZ2V0Q29udGV4dCIsInN1Y2Nlc3MiLCJnZXRDb250ZXh0QXR0cmlidXRlcyIsImxvc2VDb250ZXh0IiwiZ2V0RXh0ZW5zaW9uIiwiaGV4MnJnYiIsImhleCIsImhleDJzdHJpbmciLCJoZXhTdHJpbmciLCJzdHJpbmcyaGV4IiwicHJlbXVsdGlwbHlCbGVuZE1vZGUiLCJwbSIsIm5wbSIsIk5PUk1BTF9OUE0iLCJOT1JNQUwiLCJBRERfTlBNIiwiQUREIiwiU0NSRUVOX05QTSIsIlNDUkVFTiIsIm1hcFByZW11bHRpcGxpZWRCbGVuZE1vZGVzIiwiY29ycmVjdEJsZW5kTW9kZSIsImJsZW5kTW9kZSIsInByZW11bHRpcGxpZWQiLCJwcmVtdWx0aXBseVJnYmEiLCJyZ2IiLCJhbHBoYSIsInByZW11bHRpcGx5IiwicHJlbXVsdGlwbHlUaW50IiwidGludCIsIlIiLCJHIiwiQiIsInByZW11bHRpcGx5VGludFRvUmdiYSIsImNyZWF0ZUluZGljZXNGb3JRdWFkcyIsInNpemUiLCJvdXRCdWZmZXIiLCJ0b3RhbEluZGljZXMiLCJFcnJvciIsImdldEJ1ZmZlclR5cGUiLCJCWVRFU19QRVJfRUxFTUVOVCIsIm5leHRQb3cyIiwiaXNQb3cyIiwibG9nMiIsInJlbW92ZUl0ZW1zIiwiYXJyIiwic3RhcnRJZHgiLCJyZW1vdmVDb3VudCIsIm5leHRVaWQiLCJ1aWQiLCJ3YXJuaW5ncyIsImRlcHJlY2F0aW9uIiwibWVzc2FnZSIsImlnbm9yZURlcHRoIiwic3RhY2siLCJ3YXJuIiwiZ3JvdXBDb2xsYXBzZWQiLCJncm91cEVuZCIsIlByb2dyYW1DYWNoZSIsIlRleHR1cmVDYWNoZSIsIkJhc2VUZXh0dXJlQ2FjaGUiLCJyZXNvbHV0aW9uIiwicmVzaXplIiwiQ2FudmFzUmVuZGVyVGFyZ2V0Iiwic2V0VHJhbnNmb3JtIiwiY2xlYXJSZWN0IiwidHJpbUNhbnZhcyIsInBpeGVscyIsImdldEltYWdlRGF0YSIsImJvdW5kIiwidG9wIiwibGVmdCIsInJpZ2h0IiwiYm90dG9tIiwidGVtcEFuY2hvciIsIkRBVEFfVVJJIiwiZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4iLCJsb2MiLCJsb2NhdGlvbiIsInBhcnNlZFVybCIsIl91cmwucGFyc2UiLCJzYW1lUG9ydCIsImdldFJlc29sdXRpb25PZlVybCIsImRlZmF1bHRWYWx1ZSIsInBhcnNlRmxvYXQiLCJTSEFQRVMiLCJkYXRhVXJpIiwiZGF0YVVyaU1hdGNoIiwibWVkaWFUeXBlIiwic3ViVHlwZSIsImNoYXJzZXQiLCJlbmNvZGluZyIsImRlc3Ryb3kiLCJhcnJheXMiLCJzaXplcyIsIm91dFNpemUiLCJzdHJpZGUiLCJ2aWV3cyIsImJ1ZmZlciIsImxpdHRsZU9mZnNldCIsIlBJXzIiLCJQSSIsIlJBRF9UT19ERUciLCJERUdfVE9fUkFEIiwiUkVDVCIsIlJlY3RhbmdsZSIsInJlY3RhbmdsZSIsInBhZGRpbmdYIiwicGFkZGluZ1kiLCJ4MSIsIngyIiwieTEiLCJ5MiIsImVwcyIsImNlaWwiLCJyYWRpdXMiLCJDSVJDIiwiQ2lyY2xlIiwicjIiLCJkeCIsImR5IiwiaGFsZldpZHRoIiwiaGFsZkhlaWdodCIsIkVMSVAiLCJFbGxpcHNlIiwibm9ybXgiLCJub3JteSIsIl9pIiwicG9pbnRzIiwiZmxhdCIsImlsIiwiUE9MWSIsImNsb3NlU3Ryb2tlIiwiUG9seWdvbiIsInBvbHlnb24iLCJ4aSIsInlpIiwieGoiLCJ5aiIsIlJSRUMiLCJSb3VuZGVkUmVjdGFuZ2xlIiwicmFkaXVzMiIsIlBvaW50Iiwic2V0IiwiY2IiLCJzY29wZSIsIl94IiwiX3kiLCJPYnNlcnZhYmxlUG9pbnQiLCJ0eCIsInR5IiwiTWF0cml4IiwidHJhbnNwb3NlIiwicG9zIiwibmV3UG9zIiwiYW5nbGUiLCJjb3MiLCJzaW4iLCJjMSIsInR4MSIsIm1hdHJpeCIsImIxIiwiZDEiLCJwaXZvdFgiLCJwaXZvdFkiLCJzY2FsZVgiLCJzY2FsZVkiLCJyb3RhdGlvbiIsInNrZXdYIiwic2tld1kiLCJ0cmFuc2Zvcm0iLCJhdGFuMiIsInNjYWxlIiwic3FydCIsInBvc2l0aW9uIiwidXgiLCJ1eSIsInZ4IiwidnkiLCJyb3RhdGlvbkNheWxleSIsInJvdGF0aW9uTWF0cmljZXMiLCJzaWdudW0iLCJyb3ciLCJfdXgiLCJfdXkiLCJfdngiLCJfdnkiLCJtYXQiLCJpbml0IiwiZ3JvdXBEOCIsIkUiLCJTRSIsIlMiLCJTVyIsIlciLCJOVyIsIk4iLCJORSIsIk1JUlJPUl9WRVJUSUNBTCIsIk1BSU5fRElBR09OQUwiLCJNSVJST1JfSE9SSVpPTlRBTCIsIlJFVkVSU0VfRElBR09OQUwiLCJ1WCIsImluZCIsInVZIiwidlgiLCJ2WSIsImludiIsImFkZCIsInJvdGF0aW9uU2Vjb25kIiwicm90YXRpb25GaXJzdCIsInN1YiIsInJvdGF0ZTE4MCIsImlzVmVydGljYWwiLCJieURpcmVjdGlvbiIsIm1hdHJpeEFwcGVuZFJvdGF0aW9uSW52IiwiYXBwZW5kIiwid29ybGRUcmFuc2Zvcm0iLCJsb2NhbFRyYW5zZm9ybSIsIm9uQ2hhbmdlIiwicGl2b3QiLCJ1cGRhdGVTa2V3IiwiX3JvdGF0aW9uIiwiX2N4IiwiX3N4IiwiX2N5IiwiX3N5IiwiX2xvY2FsSUQiLCJfY3VycmVudExvY2FsSUQiLCJfd29ybGRJRCIsIl9wYXJlbnRJRCIsIlRyYW5zZm9ybSIsImx0IiwicGFyZW50VHJhbnNmb3JtIiwicHQiLCJ3dCIsImRlY29tcG9zZSIsIlNPUlRBQkxFX0NISUxEUkVOIiwicmVjdCIsInVwZGF0ZUlEIiwiQm91bmRzIiwiRU1QVFkiLCJwb2ludCIsIngwIiwieTAiLCJhZGRGcmFtZU1hdHJpeCIsInZlcnRleERhdGEiLCJiZWdpbk9mZnNldCIsImVuZE9mZnNldCIsImFkZFZlcnRpY2VzTWF0cml4IiwicGFkWCIsInBhZFkiLCJyYXdYIiwicmF3WSIsImJvdW5kcyIsIm1hc2siLCJfbWluWCIsIl9taW5ZIiwiX21heFgiLCJfbWF4WSIsImlzRW1wdHkiLCJleHRlbmRTdGF0aWNzIiwic2V0UHJvdG90eXBlT2YiLCJfX2V4dGVuZHMiLCJfXyIsIl9zdXBlciIsIl90aGlzIiwidGVtcERpc3BsYXlPYmplY3RQYXJlbnQiLCJ2aXNpYmxlIiwicmVuZGVyYWJsZSIsInBhcmVudCIsIndvcmxkQWxwaGEiLCJfbGFzdFNvcnRlZEluZGV4IiwiX3pJbmRleCIsImZpbHRlckFyZWEiLCJmaWx0ZXJzIiwiX2VuYWJsZWRGaWx0ZXJzIiwiX2JvdW5kcyIsIl9sb2NhbEJvdW5kcyIsIl9ib3VuZHNJRCIsIl9ib3VuZHNSZWN0IiwiX2xvY2FsQm91bmRzUmVjdCIsIl9tYXNrIiwiX2Rlc3Ryb3llZCIsImlzU3ByaXRlIiwiaXNNYXNrIiwiRGlzcGxheU9iamVjdCIsInByb3BlcnR5TmFtZSIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiX3JlY3Vyc2l2ZVBvc3RVcGRhdGVUcmFuc2Zvcm0iLCJ1cGRhdGVUcmFuc2Zvcm0iLCJfdGVtcERpc3BsYXlPYmplY3RQYXJlbnQiLCJza2lwVXBkYXRlIiwiY2FsY3VsYXRlQm91bmRzIiwiZ2V0UmVjdGFuZ2xlIiwidHJhbnNmb3JtUmVmIiwicGFyZW50UmVmIiwid29ybGRCb3VuZHMiLCJ3b3JsZEJvdW5kc0lEIiwiZ2V0Qm91bmRzIiwiZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSIsInRvR2xvYmFsIiwiYXBwbHlJbnZlcnNlIiwiY29udGFpbmVyIiwiYWRkQ2hpbGQiLCJfb3B0aW9ucyIsInJlbW92ZUNoaWxkIiwiaGl0QXJlYSIsImludGVyYWN0aXZlIiwiaW50ZXJhY3RpdmVDaGlsZHJlbiIsIlRlbXBvcmFyeURpc3BsYXlPYmplY3QiLCJteVBhcmVudCIsImNhY2hlUGFyZW50IiwiY29weUZyb20iLCJzb3J0RGlydHkiLCJpdGVtIiwibWFza09iamVjdCIsInNvcnRDaGlsZHJlbiIsInpJbmRleCIsImNoaWxkcmVuIiwic29ydGFibGVDaGlsZHJlbiIsIkNvbnRhaW5lciIsIl9sZW5ndGgiLCJjaGlsZCIsIm9uQ2hpbGRyZW5DaGFuZ2UiLCJjaGlsZDIiLCJpbmRleDEiLCJnZXRDaGlsZEluZGV4IiwiaW5kZXgyIiwiY3VycmVudEluZGV4IiwiZ2V0Q2hpbGRBdCIsImJlZ2luSW5kZXgiLCJlbmRJbmRleCIsInJlbW92ZWQiLCJiZWdpbiIsInJhbmdlIiwic29ydFJlcXVpcmVkIiwiY2xlYXIiLCJfY2FsY3VsYXRlQm91bmRzIiwiYWRkQm91bmRzTWFzayIsImFkZEJvdW5kc0FyZWEiLCJhZGRCb3VuZHMiLCJza2lwQ2hpbGRyZW5VcGRhdGUiLCJnZXRMb2NhbEJvdW5kcyIsInJlbmRlcmVyIiwicmVuZGVyQWR2YW5jZWQiLCJfcmVuZGVyIiwicmVuZGVyIiwiYmF0Y2giLCJmbHVzaCIsImVuYWJsZWQiLCJmaWx0ZXIiLCJfcmVuZGVyZXIiLCJkZXN0cm95Q2hpbGRyZW4iLCJvbGRDaGlsZHJlbiIsInJlbW92ZUNoaWxkcmVuIiwiX3dpZHRoIiwiX2hlaWdodCIsImNvbnRhaW5lclVwZGF0ZVRyYW5zZm9ybSIsImFjY2Vzc2libGVUYXJnZXQiLCJhY2Nlc3NpYmxlIiwiYWNjZXNzaWJsZVRpdGxlIiwiYWNjZXNzaWJsZUhpbnQiLCJ0YWJJbmRleCIsIl9hY2Nlc3NpYmxlQWN0aXZlIiwiX2FjY2Vzc2libGVEaXYiLCJhY2Nlc3NpYmxlVHlwZSIsImFjY2Vzc2libGVQb2ludGVyRXZlbnRzIiwiYWNjZXNzaWJsZUNoaWxkcmVuIiwicmVuZGVySWQiLCJtaXhpbiIsIlVQREFURV9QUklPUklUWSIsIkRJVl9UT1VDSF9TSVpFIiwiRElWX1RPVUNIX1BPU19YIiwiRElWX1RPVUNIX1BPU19ZIiwiRElWX1RPVUNIX1pJTkRFWCIsIl9ob29rRGl2IiwiY3JlYXRlVG91Y2hIb29rIiwiZGl2Iiwic3R5bGUiLCJwb29sIiwiZGVidWciLCJfb25LZXlEb3duIiwiYmluZCIsIl9vbk1vdXNlTW92ZSIsIl9pc0FjdGl2ZSIsIl9pc01vYmlsZUFjY2Vzc2liaWxpdHkiLCJhbmRyb2lkVXBkYXRlQ291bnQiLCJhbmRyb2lkVXBkYXRlRnJlcXVlbmN5IiwiYWRkRXZlbnRMaXN0ZW5lciIsIkFjY2Vzc2liaWxpdHlNYW5hZ2VyIiwiaG9va0RpdiIsIkRJVl9IT09LX1NJWkUiLCJESVZfSE9PS19QT1NfWCIsIkRJVl9IT09LX1BPU19ZIiwidGl0bGUiLCJhY3RpdmF0ZSIsImRlc3Ryb3lUb3VjaEhvb2siLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwidXBkYXRlIiwicGFyZW50Tm9kZSIsImRpc3BsYXlPYmplY3QiLCJ1cGRhdGVBY2Nlc3NpYmxlT2JqZWN0cyIsInJlbmRlcmluZ1RvU2NyZWVuIiwiX2xhc3RPYmplY3RSZW5kZXJlZCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInN4Iiwic3kiLCJjYXBIaXRBcmVhIiwiZ2V0QXR0cmlidXRlIiwic2V0QXR0cmlidXRlIiwidXBkYXRlRGVidWdIVE1MIiwiaW5uZXJIVE1MIiwiYm9yZGVyU3R5bGUiLCJfb25DbGljayIsIl9vbkZvY3VzIiwiX29uRm9jdXNPdXQiLCJwb2ludGVyRXZlbnRzIiwiaW50ZXJhY3Rpb25NYW5hZ2VyIiwicGx1Z2lucyIsImludGVyYWN0aW9uIiwiZGlzcGF0Y2hFdmVudCIsImV2ZW50RGF0YSIsImtleUNvZGUiLCJtb3ZlbWVudFgiLCJtb3ZlbWVudFkiLCJkZWFjdGl2YXRlIiwiVEFSR0VUX0ZQTVMiLCJwcmlvcml0eSIsInByZXZpb3VzIiwiVGlja2VyTGlzdGVuZXIiLCJkZWx0YVRpbWUiLCJyZWRpcmVjdCIsImhhcmQiLCJfaGVhZCIsIl9yZXF1ZXN0SWQiLCJfbWF4RWxhcHNlZE1TIiwiX21pbkVsYXBzZWRNUyIsImF1dG9TdGFydCIsImRlbHRhTVMiLCJlbGFwc2VkTVMiLCJzcGVlZCIsInN0YXJ0ZWQiLCJfcHJvdGVjdGVkIiwiX2xhc3RGcmFtZSIsIl90aWNrIiwidGltZSIsIlRpY2tlciIsIl9yZXF1ZXN0SWZOZWVkZWQiLCJfYWRkTGlzdGVuZXIiLCJjdXJyZW50IiwiY29ubmVjdCIsIl9zdGFydElmUG9zc2libGUiLCJfY2FuY2VsSWZOZWVkZWQiLCJjb3VudCIsImhlYWQiLCJmcHMiLCJtaW5GUFMiLCJtYXhGUFMiLCJtaW5GUE1TIiwicm91bmQiLCJfc2hhcmVkIiwic2hhcmVkIiwiX3N5c3RlbSIsInN5c3RlbSIsIlRpY2tlclBsdWdpbiIsInNoYXJlZFRpY2tlciIsInRpY2tlciIsIl90aWNrZXIiLCJyZW1vdmUiLCJMT1ciLCJnZXQiLCJvbGRUaWNrZXIiLCJvcmlnaW5hbEV2ZW50IiwiaWRlbnRpZmllciIsImlzUHJpbWFyeSIsImJ1dHRvbiIsImJ1dHRvbnMiLCJ0aWx0WCIsInRpbHRZIiwicG9pbnRlclR5cGUiLCJwcmVzc3VyZSIsInJvdGF0aW9uQW5nbGUiLCJ0d2lzdCIsInRhbmdlbnRpYWxQcmVzc3VyZSIsIkludGVyYWN0aW9uRGF0YSIsImdsb2JhbFBvcyIsIndoaWNoIiwic3RvcHBlZCIsInN0b3BzUHJvcGFnYXRpbmdBdCIsInN0b3BQcm9wYWdhdGlvbkhpbnQiLCJjdXJyZW50VGFyZ2V0IiwiSW50ZXJhY3Rpb25FdmVudCIsInBvaW50ZXJJZCIsIl9wb2ludGVySWQiLCJfZmxhZ3MiLCJJbnRlcmFjdGlvblRyYWNraW5nRGF0YSIsIkZMQUdTIiwiTk9ORSIsInluIiwiZmxhZ3MiLCJPVkVSIiwiX2RvU2V0IiwiUklHSFRfRE9XTiIsIkxFRlRfRE9XTiIsImZyZWV6ZSIsIl90ZW1wUG9pbnQiLCJUcmVlU2VhcmNoIiwiaW50ZXJhY3Rpb25FdmVudCIsImZ1bmMiLCJoaXRUZXN0IiwiaGl0IiwiaW50ZXJhY3RpdmVQYXJlbnQiLCJoaXRUZXN0Q2hpbGRyZW4iLCJjb250YWlucyIsImNvbnRhaW5zUG9pbnQiLCJjaGlsZEhpdCIsInJlY3Vyc2l2ZUZpbmRIaXQiLCJpbnRlcmFjdGl2ZVRhcmdldCIsImJ1dHRvbk1vZGUiLCJjdXJzb3IiLCJ0cmFja2VkUG9pbnRlcnMiLCJfdHJhY2tlZFBvaW50ZXJzIiwiTU9VU0VfUE9JTlRFUl9JRCIsImhpdFRlc3RFdmVudCIsImF1dG9QcmV2ZW50RGVmYXVsdCIsImludGVyYWN0aW9uRnJlcXVlbmN5IiwibW91c2UiLCJhY3RpdmVJbnRlcmFjdGlvbkRhdGEiLCJpbnRlcmFjdGlvbkRhdGFQb29sIiwiaW50ZXJhY3Rpb25ET01FbGVtZW50IiwibW92ZVdoZW5JbnNpZGUiLCJldmVudHNBZGRlZCIsInRpY2tlckFkZGVkIiwibW91c2VPdmVyUmVuZGVyZXIiLCJzdXBwb3J0c1RvdWNoRXZlbnRzIiwic3VwcG9ydHNQb2ludGVyRXZlbnRzIiwiUG9pbnRlckV2ZW50Iiwib25Qb2ludGVyVXAiLCJwcm9jZXNzUG9pbnRlclVwIiwib25Qb2ludGVyQ2FuY2VsIiwicHJvY2Vzc1BvaW50ZXJDYW5jZWwiLCJvblBvaW50ZXJEb3duIiwicHJvY2Vzc1BvaW50ZXJEb3duIiwib25Qb2ludGVyTW92ZSIsInByb2Nlc3NQb2ludGVyTW92ZSIsIm9uUG9pbnRlck91dCIsInByb2Nlc3NQb2ludGVyT3Zlck91dCIsIm9uUG9pbnRlck92ZXIiLCJjdXJzb3JTdHlsZXMiLCJkZWZhdWx0IiwicG9pbnRlciIsImN1cnJlbnRDdXJzb3JNb2RlIiwiZGVsYXllZEV2ZW50cyIsIl90ZW1wRGlzcGxheU9iamVjdCIsIl91c2VTeXN0ZW1UaWNrZXIiLCJ1c2VTeXN0ZW1UaWNrZXIiLCJzZXRUYXJnZXRFbGVtZW50IiwiSW50ZXJhY3Rpb25NYW5hZ2VyIiwiYWRkVGlja2VyTGlzdGVuZXIiLCJyZW1vdmVUaWNrZXJMaXN0ZW5lciIsImdsb2JhbFBvaW50IiwibGFzdE9iamVjdFJlbmRlcmVkIiwicHJvY2Vzc0ludGVyYWN0aXZlIiwiZWxlbWVudCIsInJlbW92ZUV2ZW50cyIsImFkZEV2ZW50cyIsInRpY2tlclVwZGF0ZSIsIklOVEVSQUNUSU9OIiwibXNQb2ludGVyRW5hYmxlZCIsIm1zQ29udGVudFpvb21pbmciLCJtc1RvdWNoQWN0aW9uIiwidG91Y2hBY3Rpb24iLCJfZGVsdGFUaW1lIiwiX2RpZE1vdmUiLCJpbnRlcmFjdGlvbkRhdGEiLCJjb25maWd1cmVJbnRlcmFjdGlvbkV2ZW50Rm9yRE9NRXZlbnQiLCJzZXRDdXJzb3JNb2RlIiwibW9kZSIsImV2ZW50U3RyaW5nIiwicGFyZW50RWxlbWVudCIsInJlc29sdXRpb25NdWx0aXBsaWVyIiwiZmluZEhpdCIsImRlbGF5ZWRMZW4iLCJkaXNwbGF5T2JqZWN0XzEiLCJub3JtYWxpemVUb1BvaW50ZXJEYXRhIiwiaXNOb3JtYWxpemVkIiwiY2FuY2VsYWJsZSIsInByZXZlbnREZWZhdWx0IiwiZXZlbnRMZW4iLCJnZXRJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQiLCJpc1JpZ2h0QnV0dG9uIiwicmlnaHREb3duIiwibGVmdERvd24iLCJjYW5jZWxsZWQiLCJldmVudEFwcGVuZCIsInJlbGVhc2VJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQiLCJvblBvaW50ZXJDb21wbGV0ZSIsInRyYWNraW5nRGF0YSIsImlzVG91Y2giLCJpc01vdXNlIiwiaXNNb3VzZVRhcCIsImlzRG93biIsIm92ZXIiLCJub25lIiwiZGVsYXlEaXNwYXRjaEV2ZW50IiwiY29weUV2ZW50IiwicmVzZXQiLCJwb2ludGVyRXZlbnQiLCJtYXBQb3NpdGlvblRvUG9pbnQiLCJjbGllbnRYIiwiY2xpZW50WSIsImdsb2JhbFgiLCJnbG9iYWxZIiwibm9ybWFsaXplZEV2ZW50cyIsIlRvdWNoRXZlbnQiLCJsaSIsImNoYW5nZWRUb3VjaGVzIiwidG91Y2giLCJ0b3VjaGVzIiwicmFkaXVzWCIsInJhZGl1c1kiLCJmb3JjZSIsImxheWVyWCIsIm9mZnNldFgiLCJsYXllclkiLCJvZmZzZXRZIiwiTW91c2VFdmVudCIsInRlbXBFdmVudCIsIml0ZW1zIiwiX25hbWUiLCJfYWxpYXNDb3VudCIsIlJ1bm5lciIsImEwIiwiYTYiLCJhNyIsImVuc3VyZU5vbkFsaWFzZWRJdGVtcyIsInJlbW92ZUFsbCIsImRlZmluZVByb3BlcnRpZXMiLCJkaXNwYXRjaCIsInJ1biIsIlBSRUZFUl9FTlYiLCJXRUJHTCIsIldFQkdMMiIsIlNUUklDVF9URVhUVVJFX0NBQ0hFIiwiSU5TVEFMTEVEIiwiYXV0b0RldGVjdFJlc291cmNlIiwiZXh0ZW5zaW9uIiwiUmVzb3VyY2VQbHVnaW4iLCJkZXN0cm95ZWQiLCJpbnRlcm5hbCIsIm9uUmVzaXplIiwib25VcGRhdGUiLCJvbkVycm9yIiwiUmVzb3VyY2UiLCJiYXNlVGV4dHVyZSIsIl9iYXNlVGV4dHVyZSIsIl9nbFRleHR1cmUiLCJkaXNwb3NlIiwiX3NvdXJjZSIsIl9leHRlbnNpb24iLCJCdWZmZXJSZXNvdXJjZSIsImdsVGV4dHVyZSIsInBpeGVsU3RvcmVpIiwiVU5QQUNLX1BSRU1VTFRJUExZX0FMUEhBX1dFQkdMIiwiYWxwaGFNb2RlIiwiVU5QQUNLIiwidGV4U3ViSW1hZ2UyRCIsInRleEltYWdlMkQiLCJpbnRlcm5hbEZvcm1hdCIsImRlZmF1bHRCdWZmZXJPcHRpb25zIiwic2NhbGVNb2RlIiwiTkVBUkVTVCIsIlJHQkEiLCJOUE0iLCJyZXNvdXJjZSIsIm1pcG1hcCIsImFuaXNvdHJvcGljTGV2ZWwiLCJ3cmFwTW9kZSIsInJlc291cmNlT3B0aW9ucyIsIlVOU0lHTkVEX0JZVEUiLCJURVhUVVJFXzJEIiwicHJlbXVsdGlwbHlBbHBoYSIsInRvdWNoZWQiLCJpc1Bvd2VyT2ZUd28iLCJfcmVmcmVzaFBPVCIsIl9nbFRleHR1cmVzIiwiZGlydHlJZCIsImRpcnR5U3R5bGVJZCIsImNhY2hlSWQiLCJ2YWxpZCIsInRleHR1cmVDYWNoZUlkcyIsIl9iYXRjaEVuYWJsZWQiLCJfYmF0Y2hMb2NhdGlvbiIsInBhcmVudFRleHR1cmVBcnJheSIsInNldFJlc291cmNlIiwiQmFzZVRleHR1cmUiLCJkaXJ0eSIsInJlYWxXaWR0aCIsInJlYWxIZWlnaHQiLCJvbGRSZXNvbHV0aW9uIiwidW5iaW5kIiwicmVtb3ZlRnJvbUNhY2hlIiwic3RyaWN0IiwiaXNGcmFtZSIsIl9waXhpSWQiLCJhZGRUb0NhY2hlIiwiRkxPQVQiLCJiYXNlVGV4dHVyZUZyb21DYWNoZSIsIml0ZW1EaXJ0eUlkcyIsInBhcnRUZXh0dXJlIiwiX2xvYWQiLCJBYnN0cmFjdE11bHRpUmVzb3VyY2UiLCJyZXNvdXJjZXMiLCJjYXN0VG9CYXNlVGV4dHVyZSIsImFkZEJhc2VUZXh0dXJlQXQiLCJhZGRSZXNvdXJjZUF0IiwibG9hZCIsInVybHMiLCJpbml0RnJvbUFycmF5IiwiQXJyYXlSZXNvdXJjZSIsIlRFWFRVUkVfMkRfQVJSQVkiLCJ0ZXh0dXJlIiwidGV4SW1hZ2UzRCIsInRleFN1YkltYWdlM0QiLCJzb3VyY2VBbnkiLCJuYXR1cmFsV2lkdGgiLCJ2aWRlb1dpZHRoIiwibmF0dXJhbEhlaWdodCIsInZpZGVvSGVpZ2h0Iiwibm9TdWJJbWFnZSIsIkJhc2VJbWFnZVJlc291cmNlIiwiY3Jvc3NvcmlnaW4iLCJjcm9zc09yaWdpbiIsIkNhbnZhc1Jlc291cmNlIiwiT2Zmc2NyZWVuQ2FudmFzIiwiSFRNTENhbnZhc0VsZW1lbnQiLCJhdXRvTG9hZCIsImxpbmtCYXNlVGV4dHVyZSIsIkN1YmVSZXNvdXJjZSIsIlNJREVTIiwiVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YIiwiVEVYVFVSRV9DVUJFX01BUCIsInNpZGUiLCJ1cGxvYWQiLCJIVE1MSW1hZ2VFbGVtZW50IiwiaW1hZ2VFbGVtZW50IiwiSW1hZ2UiLCJzcmMiLCJjb21wbGV0ZSIsIl9wcm9jZXNzIiwicHJlc2VydmVCaXRtYXAiLCJjcmVhdGVCaXRtYXAiLCJjcmVhdGVJbWFnZUJpdG1hcCIsImJpdG1hcCIsIkltYWdlUmVzb3VyY2UiLCJjb21wbGV0ZWQiLCJvbmxvYWQiLCJvbmVycm9yIiwicHJvY2VzcyIsImdsVGV4dHVyZXMiLCJvdGhlclRleCIsImNsb3NlIiwic291cmNlQmFzZTY0Iiwic3ZnIiwiX292ZXJyaWRlV2lkdGgiLCJfb3ZlcnJpZGVIZWlnaHQiLCJfcmVzb2x2ZSIsIl9jcm9zc29yaWdpbiIsIlNWR1Jlc291cmNlIiwiYnRvYSIsInVuZXNjYXBlIiwiX2xvYWRTdmciLCJ0ZW1wSW1hZ2UiLCJzdmdXaWR0aCIsInN2Z0hlaWdodCIsImRyYXdJbWFnZSIsInN2Z1N0cmluZyIsInNpemVNYXRjaCIsIlNWR19TSVpFIiwiSFRNTFZpZGVvRWxlbWVudCIsInZpZGVvRWxlbWVudCIsImZpcnN0U3JjIiwic291cmNlRWxlbWVudCIsIm1pbWUiLCJiYXNlU3JjIiwiZXh0IiwiVmlkZW9SZXNvdXJjZSIsIk1JTUVfVFlQRVMiLCJfYXV0b1VwZGF0ZSIsIl9pc0Nvbm5lY3RlZFRvVGlja2VyIiwiX3VwZGF0ZUZQUyIsInVwZGF0ZUZQUyIsIl9tc1RvTmV4dFVwZGF0ZSIsImF1dG9QbGF5IiwiX29uQ2FuUGxheSIsIl9vbkVycm9yIiwicGxheWJhY2tSYXRlIiwicmVhZHlTdGF0ZSIsIkhBVkVfRU5PVUdIX0RBVEEiLCJIQVZFX0ZVVFVSRV9EQVRBIiwiX29uUGxheVN0YXJ0IiwiX29uUGxheVN0b3AiLCJfaXNTb3VyY2VSZWFkeSIsInBhdXNlZCIsImVuZGVkIiwiYXV0b1VwZGF0ZSIsIl9pc1NvdXJjZVBsYXlpbmciLCJwbGF5IiwicGF1c2UiLCJvZ3YiLCJtb3YiLCJtNHYiLCJJbWFnZUJpdG1hcFJlc291cmNlIiwiSW1hZ2VCaXRtYXAiLCJTeXN0ZW0iLCJEZXB0aFJlc291cmNlIiwid2ViR0xWZXJzaW9uIiwiREVQVEhfQ09NUE9ORU5UIiwiREVQVEhfQ09NUE9ORU5UMTYiLCJkZXB0aCIsImRpcnR5Rm9ybWF0IiwiZGlydHlTaXplIiwiZGVwdGhUZXh0dXJlIiwiY29sb3JUZXh0dXJlcyIsImdsRnJhbWVidWZmZXJzIiwiZGlzcG9zZVJ1bm5lciIsIm11bHRpc2FtcGxlIiwiRnJhbWVidWZmZXIiLCJPRkYiLCJVTlNJR05FRF9TSE9SVCIsInNldFNpemUiLCJjbGVhckNvbG9yIiwiZnJhbWVidWZmZXIiLCJhZGRDb2xvclRleHR1cmUiLCJtYXNrU3RhY2siLCJmaWx0ZXJTdGFjayIsIkJhc2VSZW5kZXJUZXh0dXJlIiwiZGVzdHJveURlcHRoVGV4dHVyZSIsIngzIiwieTMiLCJ1dnNGbG9hdDMyIiwiVGV4dHVyZVV2cyIsImZyYW1lIiwiYmFzZUZyYW1lIiwicm90YXRlIiwidHciLCJ0aCIsIncyIiwiaDIiLCJjWCIsImNZIiwiREVGQVVMVF9VVlMiLCJvcmlnIiwiYW5jaG9yIiwibm9GcmFtZSIsIlRleHR1cmUiLCJfZnJhbWUiLCJfdXZzIiwidXZNYXRyaXgiLCJfcm90YXRlIiwiZGVmYXVsdEFuY2hvciIsIl91cGRhdGVJRCIsIm9uQmFzZVRleHR1cmVVcGRhdGVkIiwidXBkYXRlVXZzIiwiZGVzdHJveUJhc2UiLCJjbG9uZSIsImZyb21CdWZmZXIiLCJpbWFnZVVybCIsInRleHR1cmVGcm9tQ2FjaGUiLCJ4Tm90Rml0IiwieU5vdEZpdCIsInJlbGF0aW9uc2hpcCIsImVycm9yWCIsImVycm9yWSIsInJlbW92ZUFsbEhhbmRsZXJzIiwidGV4IiwiV0hJVEUiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsImNyZWF0ZVdoaXRlVGV4dHVyZSIsImJhc2VSZW5kZXJUZXh0dXJlIiwiX2xlZ2FjeVJlbmRlcmVyIiwibGVnYWN5UmVuZGVyZXIiLCJmaWx0ZXJGcmFtZSIsImZpbHRlclBvb2xLZXkiLCJSZW5kZXJUZXh0dXJlIiwicmVzaXplQmFzZVRleHR1cmUiLCJzZXRSZXNvbHV0aW9uIiwidGV4dHVyZU9wdGlvbnMiLCJ0ZXh0dXJlUG9vbCIsImVuYWJsZUZ1bGxTY3JlZW4iLCJfcGl4ZWxzV2lkdGgiLCJfcGl4ZWxzSGVpZ2h0IiwiUmVuZGVyVGV4dHVyZVBvb2wiLCJtaW5XaWR0aCIsIm1pbkhlaWdodCIsIlNDUkVFTl9LRVkiLCJyZW5kZXJUZXh0dXJlIiwiY3JlYXRlVGV4dHVyZSIsImZpbHRlclRleHR1cmUiLCJnZXRPcHRpbWFsVGV4dHVyZSIsInJldHVyblRleHR1cmUiLCJkZXN0cm95VGV4dHVyZXMiLCJ0ZXh0dXJlcyIsInNjcmVlbktleSIsIm5vcm1hbGl6ZWQiLCJpbnN0YW5jZSIsIkF0dHJpYnV0ZSIsIlVJRCIsIl9zdGF0aWMiLCJfZ2xCdWZmZXJzIiwic3RhdGljIiwiQnVmZmVyIiwiYnl0ZVNpemVNYXAiLCI1MTI2IiwiNTEyMyIsIjUxMjEiLCJidWZmZXJzIiwiYXR0cmlidXRlcyIsImluZGV4QnVmZmVyIiwiZ2xWZXJ0ZXhBcnJheU9iamVjdHMiLCJpbnN0YW5jZWQiLCJpbnN0YW5jZUNvdW50IiwicmVmQ291bnQiLCJHZW9tZXRyeSIsImlkcyIsImFkZEF0dHJpYnV0ZSIsImJ1ZmZlckluZGV4IiwiaW50ZXJsZWF2ZWRCdWZmZXIiLCJhdHRyaWJ1dGUiLCJpbnRlcmxlYXZlVHlwZWRBcnJheXMiLCJnZW9tZXRyeSIsImF0dHJpYiIsImdlb21ldHJpZXMiLCJnZW9tZXRyeU91dCIsIm9mZnNldHMiLCJvZmZzZXQiLCJvZmZzZXQyIiwiYnVmZmVySW5kZXhUb0NvdW50IiwiaW5kZXhCdWZmZXJEYXRhIiwiYWRkSW5kZXgiLCJ1dnMiLCJ2ZXJ0ZXhCdWZmZXIiLCJ1dkJ1ZmZlciIsIlF1YWRVdiIsInRhcmdldFRleHR1cmVGcmFtZSIsImRlc3RpbmF0aW9uRnJhbWUiLCJpbnZhbGlkYXRlIiwidW5pZm9ybXMiLCJncm91cCIsInN5bmNVbmlmb3JtcyIsIlVuaWZvcm1Hcm91cCIsInNvdXJjZUZyYW1lIiwiRmlsdGVyU3RhdGUiLCJkZWZhdWx0RmlsdGVyU3RhY2siLCJzZXRTY3JlZW5TaXplIiwic3RhdGVQb29sIiwicXVhZCIsIlF1YWQiLCJxdWFkVXYiLCJ0ZW1wUmVjdCIsImFjdGl2ZVN0YXRlIiwiZ2xvYmFsVW5pZm9ybXMiLCJvdXRwdXRGcmFtZSIsImlucHV0U2l6ZSIsImlucHV0UGl4ZWwiLCJpbnB1dENsYW1wIiwiZmlsdGVyQ2xhbXAiLCJmb3JjZUNsZWFyIiwidXNlTWF4UGFkZGluZyIsIkZpbHRlclN5c3RlbSIsInN0YXRlIiwicGFkZGluZyIsImF1dG9GaXQiLCJwYWQiLCJmaXQiLCJnZXRPcHRpbWFsRmlsdGVyVGV4dHVyZSIsImxhc3RTdGF0ZSIsImJsaXQiLCJCTEVORCIsInJldHVybkZpbHRlclRleHR1cmUiLCJmbGlwIiwiZmxvcCIsIkNMRUFSIiwiY2xlYXJNb2RlIiwiQkxJVCIsImJpbmRBbmRDbGVhciIsInVTYW1wbGVyIiwiZmlsdGVyR2xvYmFscyIsInNoYWRlciIsImRyYXciLCJUUklBTkdMRVMiLCJUUklBTkdMRV9TVFJJUCIsIm91dHB1dE1hdHJpeCIsInNwcml0ZSIsIl90ZXh0dXJlIiwibWFwcGVkTWF0cml4IiwiY29weVRvIiwiVEVNUF9NQVRSSVgiLCJpbnZlcnQiLCJwcmVwZW5kIiwidHJhbnNsYXRlIiwic3dhcCIsIk9iamVjdFJlbmRlcmVyIiwiX29iamVjdCIsImVtcHR5UmVuZGVyZXIiLCJjdXJyZW50UmVuZGVyZXIiLCJCYXRjaFN5c3RlbSIsIm9iamVjdFJlbmRlcmVyIiwic2V0T2JqZWN0UmVuZGVyZXIiLCJtYXhUZXh0dXJlcyIsImJvdW5kVGV4dHVyZXMiLCJ0ZXhBcnJheSIsImJhdGNoSWQiLCJlbGVtZW50cyIsIkNPTlRFWFRfVUlEX0NPVU5URVIiLCJleHRlbnNpb25zIiwic3VwcG9ydHMiLCJ1aW50MzJJbmRpY2VzIiwiaGFuZGxlQ29udGV4dExvc3QiLCJoYW5kbGVDb250ZXh0UmVzdG9yZWQiLCJDb250ZXh0U3lzdGVtIiwiaXNDb250ZXh0TG9zdCIsIkNPTlRFWFRfVUlEIiwicmVzdG9yZUNvbnRleHQiLCJ2YWxpZGF0ZUNvbnRleHQiLCJydW5uZXJzIiwiY29udGV4dENoYW5nZSIsImNyZWF0ZUNvbnRleHQiLCJpbml0RnJvbUNvbnRleHQiLCJnZXRFeHRlbnNpb25zIiwiZHJhd0J1ZmZlcnMiLCJ2ZXJ0ZXhBcnJheU9iamVjdCIsImFuaXNvdHJvcGljRmlsdGVyaW5nIiwidWludDMyRWxlbWVudEluZGV4IiwiZmxvYXRUZXh0dXJlIiwiZmxvYXRUZXh0dXJlTGluZWFyIiwidGV4dHVyZUhhbGZGbG9hdCIsInRleHR1cmVIYWxmRmxvYXRMaW5lYXIiLCJjb2xvckJ1ZmZlckZsb2F0IiwidXNlUHJvZ3JhbSIsImlzV2ViR2wyIiwiV2ViR0wyUmVuZGVyaW5nQ29udGV4dCIsImhhc3VpbnQzMiIsIm1zYWFCdWZmZXIiLCJibGl0RnJhbWVidWZmZXIiLCJ0ZW1wUmVjdGFuZ2xlIiwibWFuYWdlZEZyYW1lYnVmZmVycyIsInVua25vd25GcmFtZWJ1ZmZlciIsIm1zYWFTYW1wbGVzIiwiRnJhbWVidWZmZXJTeXN0ZW0iLCJ2aWV3cG9ydCIsImhhc01SVCIsIndyaXRlRGVwdGhUZXh0dXJlIiwiZGlzcG9zZUFsbCIsIm5hdGl2ZURyYXdCdWZmZXJzRXh0ZW5zaW9uXzEiLCJuYXRpdmVEZXB0aFRleHR1cmVFeHRlbnNpb24iLCJXRUJHTF9MRUdBQ1kiLCJhY3RpdmVUZXh0dXJlcyIsImRyYXdCdWZmZXJzV0VCR0wiLCJnZXRJbnRlcm5hbGZvcm1hdFBhcmFtZXRlciIsIlJFTkRFUkJVRkZFUiIsIlJHQkE4IiwiU0FNUExFUyIsImZibyIsImluaXRGcmFtZWJ1ZmZlciIsImJpbmRGcmFtZWJ1ZmZlciIsIkZSQU1FQlVGRkVSIiwidXBkYXRlRnJhbWVidWZmZXIiLCJyZXNpemVGcmFtZWJ1ZmZlciIsInNldFZpZXdwb3J0IiwiZyIsIkNPTE9SIiwiREVQVEgiLCJHTEZyYW1lYnVmZmVyIiwiY3JlYXRlRnJhbWVidWZmZXIiLCJkZXRlY3RTYW1wbGVzIiwiYmluZFJlbmRlcmJ1ZmZlciIsInJlbmRlcmJ1ZmZlclN0b3JhZ2UiLCJERVBUSF9TVEVOQ0lMIiwiY3JlYXRlUmVuZGVyYnVmZmVyIiwicmVuZGVyYnVmZmVyU3RvcmFnZU11bHRpc2FtcGxlIiwiZnJhbWVidWZmZXJSZW5kZXJidWZmZXIiLCJDT0xPUl9BVFRBQ0hNRU5UMCIsInBhcmVudFRleHR1cmUiLCJmcmFtZWJ1ZmZlclRleHR1cmUyRCIsIkRFUFRIX0FUVEFDSE1FTlQiLCJERVBUSF9TVEVOQ0lMX0FUVEFDSE1FTlQiLCJzYW1wbGVzIiwicmVzIiwic291cmNlUGl4ZWxzIiwiZGVzdFBpeGVscyIsInNhbWVTaXplIiwiUkVBRF9GUkFNRUJVRkZFUiIsIkNPTE9SX0JVRkZFUl9CSVQiLCJMSU5FQVIiLCJjb250ZXh0TG9zdCIsImRlbGV0ZUZyYW1lYnVmZmVyIiwiZGVsZXRlUmVuZGVyYnVmZmVyIiwiZGlzcG9zZUZyYW1lYnVmZmVyIiwiZW5hYmxlU3RlbmNpbCIsImJ5dGVMZW5ndGgiLCJfYWN0aXZlR2VvbWV0cnkiLCJfYWN0aXZlVmFvIiwiaGFzVmFvIiwiaGFzSW5zdGFuY2UiLCJjYW5Vc2VVSW50MzJFbGVtZW50SW5kZXgiLCJtYW5hZ2VkR2VvbWV0cmllcyIsIm1hbmFnZWRCdWZmZXJzIiwiR2VvbWV0cnlTeXN0ZW0iLCJuYXRpdmVWYW9FeHRlbnNpb25fMSIsImNyZWF0ZVZlcnRleEFycmF5IiwiY3JlYXRlVmVydGV4QXJyYXlPRVMiLCJiaW5kVmVydGV4QXJyYXkiLCJ2YW8iLCJiaW5kVmVydGV4QXJyYXlPRVMiLCJkZWxldGVWZXJ0ZXhBcnJheSIsImRlbGV0ZVZlcnRleEFycmF5T0VTIiwiaW5zdGFuY2VFeHRfMSIsInZlcnRleEF0dHJpYkRpdmlzb3IiLCJ2ZXJ0ZXhBdHRyaWJEaXZpc29yQU5HTEUiLCJkcmF3RWxlbWVudHNJbnN0YW5jZWQiLCJkcmF3RWxlbWVudHNJbnN0YW5jZWRBTkdMRSIsImRyYXdBcnJheXNJbnN0YW5jZWQiLCJkcmF3QXJyYXlzSW5zdGFuY2VkQU5HTEUiLCJ2YW9zIiwiaW5jUmVmQ291bnQiLCJwcm9ncmFtIiwiaW5pdEdlb21ldHJ5VmFvIiwiYWN0aXZhdGVWYW8iLCJ1cGRhdGVCdWZmZXJzIiwiZ2xCdWZmZXIiLCJFTEVNRU5UX0FSUkFZX0JVRkZFUiIsIkFSUkFZX0JVRkZFUiIsImJpbmRCdWZmZXIiLCJfYm91bmRCdWZmZXIiLCJidWZmZXJTdWJEYXRhIiwiZHJhd1R5cGUiLCJTVEFUSUNfRFJBVyIsIkRZTkFNSUNfRFJBVyIsImJ1ZmZlckRhdGEiLCJnZW9tZXRyeUF0dHJpYnV0ZXMiLCJzaGFkZXJBdHRyaWJ1dGVzIiwiYXR0cmlidXRlRGF0YSIsImF0dHJpYnMiLCJzdHJpbmdzIiwiY2hlY2tDb21wYXRpYmlsaXR5Iiwic2lnbmF0dXJlIiwiZ2V0U2lnbmF0dXJlIiwidmFvT2JqZWN0SGFzaCIsInRlbXBTdHJpZGUiLCJ0ZW1wU3RhcnQiLCJhdHRyaWJTaXplIiwiR0xCdWZmZXIiLCJjcmVhdGVCdWZmZXIiLCJkZWxldGVCdWZmZXIiLCJidWYiLCJkaXNwb3NlQnVmZmVyIiwidmFvSWQiLCJkaXNwb3NlR2VvbWV0cnkiLCJsYXN0QnVmZmVyIiwiZW5hYmxlVmVydGV4QXR0cmliQXJyYXkiLCJ2ZXJ0ZXhBdHRyaWJQb2ludGVyIiwiYnl0ZVNpemUiLCJnbFR5cGUiLCJVTlNJR05FRF9JTlQiLCJkcmF3RWxlbWVudHMiLCJnZXRTaXplIiwiZHJhd0FycmF5cyIsImF1dG9EZXRlY3QiLCJwb29sZWQiLCJpc01hc2tEYXRhIiwiX3N0ZW5jaWxDb3VudGVyIiwiX3NjaXNzb3JDb3VudGVyIiwiX3NjaXNzb3JSZWN0IiwiX3RhcmdldCIsIk1hc2tEYXRhIiwibWFza0Fib3ZlIiwiY29tcGlsZVNoYWRlciIsImNyZWF0ZVNoYWRlciIsInNoYWRlclNvdXJjZSIsImNvbXBpbGVQcm9ncmFtIiwidmVydGV4U3JjIiwiZnJhZ21lbnRTcmMiLCJhdHRyaWJ1dGVMb2NhdGlvbnMiLCJnbFZlcnRTaGFkZXIiLCJWRVJURVhfU0hBREVSIiwiZ2xGcmFnU2hhZGVyIiwiRlJBR01FTlRfU0hBREVSIiwiY3JlYXRlUHJvZ3JhbSIsImF0dGFjaFNoYWRlciIsImJpbmRBdHRyaWJMb2NhdGlvbiIsImxpbmtQcm9ncmFtIiwiZ2V0UHJvZ3JhbVBhcmFtZXRlciIsIkxJTktfU1RBVFVTIiwiZ2V0U2hhZGVyUGFyYW1ldGVyIiwiQ09NUElMRV9TVEFUVVMiLCJnZXRTaGFkZXJJbmZvTG9nIiwiVkFMSURBVEVfU1RBVFVTIiwiZ2V0RXJyb3IiLCJnZXRQcm9ncmFtSW5mb0xvZyIsImRlbGV0ZVByb2dyYW0iLCJkZWxldGVTaGFkZXIiLCJib29sZWFuQXJyYXkiLCJtYXhGcmFnbWVudFByZWNpc2lvbiIsInVua25vd25Db250ZXh0IiwiZ2V0VGVzdENvbnRleHQiLCJzZXRQcmVjaXNpb24iLCJyZXF1ZXN0ZWRQcmVjaXNpb24iLCJtYXhTdXBwb3J0ZWRQcmVjaXNpb24iLCJzdWJzdHJpbmciLCJwcmVjaXNpb24iLCJISUdIIiwiTUVESVVNIiwiR0xTTF9UT19TSVpFIiwiZmxvYXQiLCJ2ZWMyIiwidmVjMyIsInZlYzQiLCJpbnQiLCJpdmVjMiIsIml2ZWMzIiwiaXZlYzQiLCJib29sIiwiYnZlYzIiLCJidmVjMyIsImJ2ZWM0IiwibWF0MiIsIm1hdDMiLCJtYXQ0Iiwic2FtcGxlcjJEIiwibWFwU2l6ZSIsIkdMX1RBQkxFIiwiR0xfVE9fR0xTTF9UWVBFUyIsIkZMT0FUX1ZFQzIiLCJGTE9BVF9WRUMzIiwiRkxPQVRfVkVDNCIsIklOVCIsIklOVF9WRUMyIiwiSU5UX1ZFQzMiLCJJTlRfVkVDNCIsIkJPT0wiLCJCT09MX1ZFQzIiLCJCT09MX1ZFQzMiLCJCT09MX1ZFQzQiLCJGTE9BVF9NQVQyIiwiRkxPQVRfTUFUMyIsIkZMT0FUX01BVDQiLCJTQU1QTEVSXzJEIiwiSU5UX1NBTVBMRVJfMkQiLCJVTlNJR05FRF9JTlRfU0FNUExFUl8yRCIsIlNBTVBMRVJfQ1VCRSIsIklOVF9TQU1QTEVSX0NVQkUiLCJVTlNJR05FRF9JTlRfU0FNUExFUl9DVUJFIiwiU0FNUExFUl8yRF9BUlJBWSIsIklOVF9TQU1QTEVSXzJEX0FSUkFZIiwiVU5TSUdORURfSU5UX1NBTVBMRVJfMkRfQVJSQVkiLCJtYXBUeXBlIiwidHlwZU5hbWVzIiwidG4iLCJ1bmlmb3JtUGFyc2VycyIsImNvZGUiLCJ1bmlmb3JtIiwiR0xTTF9UT19TSU5HTEVfU0VUVEVSU19DQUNIRUQiLCJzYW1wbGVyQ3ViZSIsInNhbXBsZXIyREFycmF5IiwiR0xTTF9UT19BUlJBWV9TRVRURVJTIiwidW5zYWZlRXZhbCIsImZyYWdUZW1wbGF0ZSIsImdlbmVyYXRlSWZUZXN0U3JjIiwibWF4SWZzIiwiY2hlY2tNYXhJZlN0YXRlbWVudHNJblNoYWRlciIsIm5hbWVDYWNoZSIsIlByb2dyYW0iLCJkZWZhdWx0VmVydGV4U3JjIiwiZGVmYXVsdEZyYWdtZW50U3JjIiwiZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0Iiwic2hhZGVyRnJhZ21lbnQiLCJISUdIX0ZMT0FUIiwiZ2V0TWF4RnJhZ21lbnRQcmVjaXNpb24iLCJleHRyYWN0RGF0YSIsImdsUHJvZ3JhbXMiLCJnZXRBdHRyaWJ1dGVEYXRhIiwidW5pZm9ybURhdGEiLCJnZXRVbmlmb3JtRGF0YSIsImF0dHJpYnV0ZXNBcnJheSIsInRvdGFsQXR0cmlidXRlcyIsIkFDVElWRV9BVFRSSUJVVEVTIiwiYXR0cmliRGF0YSIsImdldEFjdGl2ZUF0dHJpYiIsInRvdGFsVW5pZm9ybXMiLCJBQ1RJVkVfVU5JRk9STVMiLCJnZXRBY3RpdmVVbmlmb3JtIiwidW5pZm9ybUdyb3VwIiwiU2hhZGVyIiwiY2hlY2tVbmlmb3JtRXhpc3RzIiwicG9seWdvbk9mZnNldCIsImJsZW5kIiwiU3RhdGUiLCJfYmxlbmRNb2RlIiwiX3BvbHlnb25PZmZzZXQiLCJkZXB0aFRlc3QiLCJGaWx0ZXIiLCJhVGV4dHVyZUNvb3JkIiwiZmlsdGVyTWFuYWdlciIsIl9jdXJyZW50U3RhdGUiLCJhcHBseUZpbHRlciIsInRlbXBNYXQiLCJjbGFtcE1hcmdpbiIsIm1hcENvb3JkIiwidUNsYW1wRnJhbWUiLCJ1Q2xhbXBPZmZzZXQiLCJfdGV4dHVyZUlEIiwiY2xhbXBPZmZzZXQiLCJpc1NpbXBsZSIsIlRleHR1cmVNYXRyaXgiLCJmb3JjZVVwZGF0ZSIsInRleEJhc2UiLCJtYXJnaW4iLCJtYXNrTWF0cml4IiwidmVydGV4IiwiZnJhZ21lbnQiLCJtYXNrU3ByaXRlIiwiU3ByaXRlTWFza0ZpbHRlciIsIm5wbUFscGhhIiwib3RoZXJNYXRyaXgiLCJjYWxjdWxhdGVTcHJpdGVNYXRyaXgiLCJtYXNrQ2xhbXAiLCJlbmFibGVTY2lzc29yIiwiYWxwaGFNYXNrUG9vbCIsIm1hc2tEYXRhUG9vbCIsImFscGhhTWFza0luZGV4IiwiTWFza1N5c3RlbSIsInNjaXNzb3IiLCJzZXRNYXNrU3RhY2siLCJtYXNrRGF0YU9yVGFyZ2V0IiwibWFza0RhdGEiLCJkZXRlY3QiLCJjb3B5Q291bnRlcnNPclJlc2V0IiwiU0NJU1NPUiIsIlNURU5DSUwiLCJTUFJJVEUiLCJwdXNoU3ByaXRlTWFzayIsInBvcFNwcml0ZU1hc2siLCJpc0Zhc3RSZWN0Iiwicm90WCIsInJvdFhZIiwiYWxwaGFNYXNrRmlsdGVyIiwic3Rhc2hGaWx0ZXJBcmVhIiwiZ2xDb25zdCIsIkFic3RyYWN0TWFza1N5c3RlbSIsImN1clN0YWNrTGVuIiwiZ2V0U3RhY2tMZW5ndGgiLCJuZXdTdGFja0xlbiIsImRpc2FibGUiLCJlbmFibGUiLCJfdXNlQ3VycmVudCIsIlNDSVNTT1JfVEVTVCIsIlNjaXNzb3JTeXN0ZW0iLCJwcmV2RGF0YSIsInJ0IiwicHJvamVjdGlvbiIsIlNURU5DSUxfVEVTVCIsIlN0ZW5jaWxTeXN0ZW0iLCJwcmV2TWFza0NvdW50IiwiZm9yY2VTdGVuY2lsIiwiY29sb3JNYXNrIiwic3RlbmNpbEZ1bmMiLCJFUVVBTCIsIl9nZXRCaXR3aXNlTWFzayIsInN0ZW5jaWxPcCIsIktFRVAiLCJJTkNSIiwiU1RFTkNJTF9CVUZGRVJfQklUIiwiY2xlYXJTdGVuY2lsIiwiREVDUiIsImRlZmF1bHRGcmFtZSIsInByb2plY3Rpb25NYXRyaXgiLCJQcm9qZWN0aW9uU3lzdGVtIiwiY2FsY3VsYXRlUHJvamVjdGlvbiIsInN5bmNVbmlmb3JtR3JvdXAiLCJnbG9iYWxzIiwiX2Rlc3RpbmF0aW9uRnJhbWUiLCJfcmVzb2x1dGlvbiIsImlkZW50aXR5IiwiX21hdHJpeCIsInRlbXBSZWN0MiIsInZpZXdwb3J0RnJhbWUiLCJfYmFja2dyb3VuZENvbG9yUmdiYSIsImRlZmF1bHRNYXNrU3RhY2siLCJSZW5kZXJUZXh0dXJlU3lzdGVtIiwic2NyZWVuIiwidW5pZm9ybUdyb3VwcyIsIkdMUHJvZ3JhbSIsImRlZmF1bHRTeW5jRGF0YSIsInRleHR1cmVDb3VudCIsInN5c3RlbUNoZWNrIiwiY2FjaGUiLCJTaGFkZXJTeXN0ZW0iLCJGdW5jdGlvbiIsInVuc2FmZUV2YWxTdXBwb3J0ZWQiLCJkb250U3luYyIsImdsUHJvZ3JhbSIsImdlbmVyYXRlU2hhZGVyIiwic3luY0RhdGEiLCJnZXRnbFByb2dyYW0iLCJjcmVhdGVTeW5jR3JvdXBzIiwiZnVuY0ZyYWdtZW50cyIsInBhcnNlZCIsInRlbXBsYXRlIiwiZ2VuZXJhdGVVbmlmb3Jtc1N5bmMiLCJhdHRyaWJNYXAiLCJzaGFkZXJQcm9ncmFtIiwiZ2V0VW5pZm9ybUxvY2F0aW9uIiwiT0ZGU0VUIiwiQ1VMTElORyIsIkRFUFRIX1RFU1QiLCJXSU5ESU5HIiwic3RhdGVJZCIsIl9ibGVuZEVxIiwic2V0QmxlbmQiLCJzZXRPZmZzZXQiLCJzZXRDdWxsRmFjZSIsInNldERlcHRoVGVzdCIsInNldEZyb250RmFjZSIsImNoZWNrcyIsImRlZmF1bHRTdGF0ZSIsIlN0YXRlU3lzdGVtIiwiYmxlbmRNb2RlcyIsIk9ORSIsIk9ORV9NSU5VU19TUkNfQUxQSEEiLCJNVUxUSVBMWSIsIkRTVF9DT0xPUiIsIk9ORV9NSU5VU19TUkNfQ09MT1IiLCJPVkVSTEFZIiwiREFSS0VOIiwiTElHSFRFTiIsIkNPTE9SX0RPREdFIiwiQ09MT1JfQlVSTiIsIkhBUkRfTElHSFQiLCJTT0ZUX0xJR0hUIiwiRElGRkVSRU5DRSIsIkVYQ0xVU0lPTiIsIkhVRSIsIlNBVFVSQVRJT04iLCJMVU1JTk9TSVRZIiwiU1JDX0FMUEhBIiwiU1JDX0lOIiwiRFNUX0FMUEhBIiwiWkVSTyIsIlNSQ19PVVQiLCJPTkVfTUlOVVNfRFNUX0FMUEhBIiwiU1JDX0FUT1AiLCJEU1RfT1ZFUiIsIkRTVF9JTiIsIkRTVF9PVVQiLCJEU1RfQVRPUCIsIlhPUiIsIlNVQlRSQUNUIiwiRlVOQ19SRVZFUlNFX1NVQlRSQUNUIiwiRlVOQ19BREQiLCJtYXBXZWJHTEJsZW5kTW9kZXNUb1BpeGkiLCJkaWZmIiwidXBkYXRlQ2hlY2siLCJjaGVja0JsZW5kTW9kZSIsImNoZWNrUG9seWdvbk9mZnNldCIsIlBPTFlHT05fT0ZGU0VUX0ZJTEwiLCJDVUxMX0ZBQ0UiLCJmcm9udEZhY2UiLCJibGVuZEZ1bmMiLCJibGVuZEZ1bmNTZXBhcmF0ZSIsImJsZW5kRXF1YXRpb25TZXBhcmF0ZSIsIlVOUEFDS19GTElQX1lfV0VCR0wiLCJmb3JjZVN0YXRlIiwic2V0QmxlbmRNb2RlIiwic2V0UG9seWdvbk9mZnNldCIsImNoZWNrQ291bnQiLCJtYXhJZGxlIiwiY2hlY2tDb3VudE1heCIsIlRleHR1cmVHQ1N5c3RlbSIsIk1BTlVBTCIsInRtIiwibWFuYWdlZFRleHR1cmVzIiwid2FzUmVtb3ZlZCIsImRlc3Ryb3lUZXh0dXJlIiwidW5sb2FkIiwiY3VycmVudExvY2F0aW9uIiwiX3Vua25vd25Cb3VuZFRleHR1cmVzIiwidW5rbm93blRleHR1cmUiLCJUZXh0dXJlU3lzdGVtIiwiZ2V0UGFyYW1ldGVyIiwiTUFYX1RFWFRVUkVfSU1BR0VfVU5JVFMiLCJlbXB0eVRleHR1cmVzIiwiZW1wdHlUZXh0dXJlMkQiLCJHTFRleHR1cmUiLCJiaW5kVGV4dHVyZSIsInRleFBhcmFtZXRlcmkiLCJURVhUVVJFX01BR19GSUxURVIiLCJURVhUVVJFX01JTl9GSUxURVIiLCJ0ZXh0dXJlR0MiLCJpbml0VGV4dHVyZSIsImFjdGl2ZVRleHR1cmUiLCJURVhUVVJFMCIsInVwZGF0ZVRleHR1cmUiLCJSR0JBMzJGIiwiSEFMRl9GTE9BVCIsIlJHQkExNkYiLCJpbml0VGV4dHVyZVR5cGUiLCJ1cGRhdGVUZXh0dXJlU3R5bGUiLCJza2lwUmVtb3ZlIiwiZGVsZXRlVGV4dHVyZSIsIlBPVzIiLCJDTEFNUCIsInNldFN0eWxlIiwiZ2VuZXJhdGVNaXBtYXAiLCJURVhUVVJFX1dSQVBfUyIsIlRFWFRVUkVfV1JBUF9UIiwiTElORUFSX01JUE1BUF9MSU5FQVIiLCJORUFSRVNUX01JUE1BUF9ORUFSRVNUIiwiYW5pc290cm9waWNFeHQiLCJsZXZlbCIsIk1BWF9URVhUVVJFX01BWF9BTklTT1RST1BZX0VYVCIsInRleFBhcmFtZXRlcmYiLCJURVhUVVJFX01BWF9BTklTT1RST1BZX0VYVCIsInRlbXBNYXRyaXgiLCJVTktOT1dOIiwicm91bmRQaXhlbHMiLCJhdXRvUmVzaXplIiwiX2JhY2tncm91bmRDb2xvciIsIl9iYWNrZ3JvdW5kQ29sb3JTdHJpbmciLCJBYnN0cmFjdFJlbmRlcmVyIiwic3RhdGljTWFwIiwibyIsInNjcmVlbldpZHRoIiwic2NyZWVuSGVpZ2h0IiwicmVnaW9uIiwicmVtb3ZlVmlldyIsInBvc3RyZW5kZXIiLCJwcmVyZW5kZXIiLCJhZGRTeXN0ZW0iLCJpbml0UGx1Z2lucyIsIlJlbmRlcmVyIiwiX19wbHVnaW5zIiwiaW5pdEZyb21PcHRpb25zIiwicHJlbXVsdGlwbGllZEFscGhhIiwicG93ZXJQcmVmZXJlbmNlIiwiQ2xhc3NSZWYiLCJza2lwVXBkYXRlVHJhbnNmb3JtIiwiaXNMb3N0IiwiZW5hYmxlVGVtcFBhcmVudCIsImRpc2FibGVUZW1wUGFyZW50IiwicGx1Z2luTmFtZSIsImN0b3IiLCJhdXRvRGV0ZWN0UmVuZGVyZXIiLCJCYXRjaFRleHR1cmVBcnJheSIsInJhd0JpbmFyeURhdGEiLCJ1aW50MzJWaWV3IiwiZmxvYXQzMlZpZXciLCJWaWV3YWJsZUJ1ZmZlciIsIl9pbnQ4VmlldyIsIkludDhBcnJheSIsIl91aW50OFZpZXciLCJfaW50MTZWaWV3IiwiSW50MTZBcnJheSIsIl91aW50MTZWaWV3IiwiX2ludDMyVmlldyIsInNoYWRlckdlbmVyYXRvciIsImdlb21ldHJ5Q2xhc3MiLCJ2ZXJ0ZXhTaXplIiwiZm9yMmQiLCJfdmVydGV4Q291bnQiLCJfaW5kZXhDb3VudCIsIl9idWZmZXJlZEVsZW1lbnRzIiwiX2J1ZmZlcmVkVGV4dHVyZXMiLCJfYnVmZmVyU2l6ZSIsIl9zaGFkZXIiLCJfcGFja2VkR2VvbWV0cmllcyIsIl9wYWNrZWRHZW9tZXRyeVBvb2xTaXplIiwiX2ZsdXNoSWQiLCJfYUJ1ZmZlcnMiLCJfaUJ1ZmZlcnMiLCJNQVhfVEVYVFVSRVMiLCJvblByZXJlbmRlciIsIl9kY0luZGV4IiwiX2FJbmRleCIsIl9pSW5kZXgiLCJfYXR0cmlidXRlQnVmZmVyIiwiX2luZGV4QnVmZmVyIiwiX3RlbXBCb3VuZFRleHR1cmVzIiwiQWJzdHJhY3RCYXRjaFJlbmRlcmVyIiwiaW5pdEZsdXNoQnVmZmVycyIsIl9kcmF3Q2FsbFBvb2wiLCJfdGV4dHVyZUFycmF5UG9vbCIsIk1BWF9TUFJJVEVTIiwiTUFYX1RBIiwiQmF0Y2hEcmF3Q2FsbCIsImluZGljZXMiLCJ0ZXh0dXJlQXJyYXlzIiwiVElDSyIsIl9nbG9iYWxCYXRjaCIsImNvdW50VGV4QXJyYXlzIiwiY29weUJvdW5kVGV4dHVyZXMiLCJib3VuZEFycmF5IiwiYnVpbGREcmF3Q2FsbHMiLCJmaW5pc2giLCJkcmF3Q2FsbHMiLCJkY0luZGV4IiwiYUluZGV4IiwiaUluZGV4IiwiZHJhd0NhbGwiLCJzcHJpdGVCbGVuZE1vZGUiLCJwYWNrSW50ZXJsZWF2ZWRHZW9tZXRyeSIsInRleHR1cmVTeXN0ZW0iLCJwYWNrZWRHZW9tZXRyaWVzIiwiYXR0cmlidXRlQnVmZmVyIiwiX2J1ZmZlciIsImRjQ291bnQiLCJzdGF0ZVN5c3RlbSIsImN1clRleEFycmF5IiwiX2IiLCJiaW5kQW5kQ2xlYXJUZXhBcnJheSIsImdldEF0dHJpYnV0ZUJ1ZmZlciIsImdldEluZGV4QnVmZmVyIiwiYnVpbGRUZXh0dXJlc0FuZERyYXdDYWxscyIsInVwZGF0ZUdlb21ldHJ5IiwiZHJhd0JhdGNoZXMiLCJyb3VuZGVkUDIiLCJyb3VuZGVkU2l6ZUluZGV4Iiwicm91bmRlZFNpemUiLCJwYWNrZWRWZXJ0aWNlcyIsImluZGljaWVzIiwidGV4dHVyZUlkIiwiYXJnYiIsIl90aW50UkdCIiwicHJvZ3JhbUNhY2hlIiwiZGVmYXVsdEdyb3VwQ2FjaGUiLCJCYXRjaFNoYWRlckdlbmVyYXRvciIsInNhbXBsZVZhbHVlcyIsInVTYW1wbGVycyIsImdlbmVyYXRlU2FtcGxlU3JjIiwidHJhbnNsYXRpb25NYXRyaXgiLCJCYXRjaFBsdWdpbkZhY3RvcnkiLCJkZWZhdWx0VmVydGV4IiwiZGVmYXVsdEZyYWdtZW50IiwiQmF0Y2hHZW9tZXRyeSIsIkJhdGNoUmVuZGVyZXIiLCJmb3JjZUNhbnZhcyIsInN0YWdlIiwiQXBwbGljYXRpb24iLCJfcGx1Z2lucyIsInBsdWdpbiIsInN0YWdlT3B0aW9ucyIsInJldmVyc2UiLCJSZXNpemVQbHVnaW4iLCJkb20iLCJxdWV1ZVJlc2l6ZSIsIl9yZXNpemVUbyIsImNhbmNlbFJlc2l6ZSIsIl9yZXNpemVJZCIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCIsInJlc2l6ZVRvIiwicmVnaXN0ZXJQbHVnaW4iLCJURU1QX1JFQ1QiLCJleHRyYWN0IiwiRXh0cmFjdCIsInF1YWxpdHkiLCJpbWFnZSIsImJhc2U2NCIsInRvRGF0YVVSTCIsImZsaXBZIiwiZ2VuZXJhdGVkIiwiZ2VuZXJhdGVUZXh0dXJlIiwiY2FudmFzQnVmZmVyIiwid2ViZ2xQaXhlbHMiLCJyZWFkUGl4ZWxzIiwiY2FudmFzRGF0YSIsImFycmF5UG9zdERpdmlkZSIsInB1dEltYWdlRGF0YSIsInRhcmdldF8xIiwic3RyIiwib3B0cyIsImNvbnN0IiwicGFyc2VyIiwibG9vc2UiLCJzdHJpY3RNb2RlIiwidXJpIiwiJDAiLCIkMSIsIiQyIiwiX2NyZWF0ZUNsYXNzIiwicHJvcHMiLCJkZXNjcmlwdG9yIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiQ29uc3RydWN0b3IiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJfY2xhc3NDYWxsQ2hlY2siLCJNaW5pU2lnbmFsQmluZGluZyIsInRoaXNBcmciLCJfZm4iLCJfb25jZSIsIl90aGlzQXJnIiwiX25leHQiLCJfcHJldiIsIl9vd25lciIsImRldGFjaCIsIl9hZGRNaW5pU2lnbmFsQmluZGluZyIsIm5vZGUiLCJfdGFpbCIsIk1pbmlTaWduYWwiLCJleGlzdHMiLCJfbm9vcCIsImVhY2hTZXJpZXMiLCJpdGVyYXRvciIsImRlZmVyTmV4dCIsIm9ubHlPbmNlIiwiY2FsbEZuIiwid29ya2VyIiwiY29uY3VycmVuY3kiLCJ3b3JrZXJzIiwiX3Rhc2tzIiwic2F0dXJhdGVkIiwidW5zYXR1cmF0ZWQiLCJlbXB0eSIsImRyYWluIiwiX2luc2VydCIsImtpbGwiLCJ0YXNrIiwicnVubmluZyIsImlkbGUiLCJyZXN1bWUiLCJpbnNlcnRBdEZyb250IiwidXNlWGRyIiwiWERvbWFpblJlcXVlc3QiLCJYTUxIdHRwUmVxdWVzdCIsIl9zZXRGbGFnIiwiU1RBVFVTX0ZMQUdTIiwiREFUQV9VUkwiLCJfZ2V0RXh0ZW5zaW9uIiwidGltZW91dCIsImxvYWRUeXBlIiwiX2RldGVybWluZUxvYWRUeXBlIiwieGhyVHlwZSIsIm1ldGFkYXRhIiwieGhyIiwiVFlQRSIsInByb2dyZXNzQ2h1bmsiLCJfZGVxdWV1ZSIsIl9vbkxvYWRCaW5kaW5nIiwiX2VsZW1lbnRUaW1lciIsIl9ib3VuZENvbXBsZXRlIiwiX2JvdW5kT25FcnJvciIsIl9ib3VuZE9uUHJvZ3Jlc3MiLCJfb25Qcm9ncmVzcyIsIl9ib3VuZE9uVGltZW91dCIsIl9vblRpbWVvdXQiLCJfYm91bmRYaHJPbkVycm9yIiwiX3hock9uRXJyb3IiLCJfYm91bmRYaHJPblRpbWVvdXQiLCJfeGhyT25UaW1lb3V0IiwiX2JvdW5kWGhyT25BYm9ydCIsIl94aHJPbkFib3J0IiwiX2JvdW5kWGhyT25Mb2FkIiwiX3hock9uTG9hZCIsIm9uU3RhcnQiLCJTaWduYWwiLCJvblByb2dyZXNzIiwib25Db21wbGV0ZSIsIm9uQWZ0ZXJNaWRkbGV3YXJlIiwic2V0RXh0ZW5zaW9uTG9hZFR5cGUiLCJleHRuYW1lIiwic2V0RXh0TWFwIiwiX2xvYWRUeXBlTWFwIiwic2V0RXh0ZW5zaW9uWGhyVHlwZSIsIl94aHJUeXBlTWFwIiwiX2NsZWFyRXZlbnRzIiwiX2ZpbmlzaCIsImFib3J0IiwieGRyIiwiRU1QVFlfR0lGIiwiZmlyc3RDaGlsZCIsImlzTG9hZGluZyIsImlzQ29tcGxldGUiLCJMT0FESU5HIiwiX2RldGVybWluZUNyb3NzT3JpZ2luIiwiTE9BRF9UWVBFIiwiSU1BR0UiLCJfbG9hZEVsZW1lbnQiLCJBVURJTyIsIl9sb2FkU291cmNlRWxlbWVudCIsIlZJREVPIiwiWEhSIiwiX2xvYWRYZHIiLCJfbG9hZFhociIsIl9oYXNGbGFnIiwib250aW1lb3V0Iiwib25wcm9ncmVzcyIsIkNPTVBMRVRFIiwibG9hZEVsZW1lbnQiLCJza2lwU291cmNlIiwiQXVkaW8iLCJpc0NvY29vbkpTIiwibWltZVR5cGVzIiwibWltZVR5cGUiLCJfY3JlYXRlU291cmNlIiwiX2RldGVybWluZVhoclR5cGUiLCJvcGVuIiwiWEhSX1JFU1BPTlNFX1RZUEUiLCJKU09OIiwiRE9DVU1FTlQiLCJyZXNwb25zZVR5cGUiLCJURVhUIiwic2VuZCIsIm5vZGVOYW1lIiwibGVuZ3RoQ29tcHV0YWJsZSIsImxvYWRlZCIsInRvdGFsIiwicmVxVHlwZSIsInN0YXR1cyIsInN0YXR1c1RleHQiLCJ0ZXh0IiwicmVzcG9uc2VUZXh0IiwiQlVGRkVSIiwiRE9NUGFyc2VyIiwiZG9tcGFyc2VyIiwicGFyc2VGcm9tU3RyaW5nIiwiWE1MIiwicmVzcG9uc2UiLCJyZXNwb25zZVVSTCIsIm9yaWdpbiIsInBhcnNlVXJpIiwiaXNEYXRhVXJsIiwic2xhc2hJbmRleCIsInF1ZXJ5U3RhcnQiLCJoYXNoU3RhcnQiLCJfZ2V0TWltZUZyb21YaHJUeXBlIiwiQkxPQiIsIkRFRkFVTFQiLCJnaWYiLCJwbmciLCJibXAiLCJqcGciLCJqcGVnIiwidGlmIiwidGlmZiIsIndlYnAiLCJ0Z2EiLCJtcDMiLCJvZ2ciLCJ3YXYiLCJtcDQiLCJ3ZWJtIiwieGh0bWwiLCJodG1sIiwiaHRtIiwieG1sIiwidG14IiwidHN4IiwianNvbiIsInR4dCIsInR0ZiIsIm90ZiIsIl9rZXlTdHIiLCJVUkwiLCJ3ZWJraXRVUkwiLCJCbG9iIiwiY3JlYXRlT2JqZWN0VVJMIiwiYmxvYiIsInJldm9rZU9iamVjdFVSTCIsImdldFJlc3BvbnNlSGVhZGVyIiwiaW54IiwiYnl0ZWJ1ZmZlciIsImVuY29kZWRDaGFySW5kZXhlcyIsImpueCIsImVuY29kZUJpbmFyeSIsInJneEV4dHJhY3RVcmxIYXNoIiwiTG9hZGVyIiwiYmFzZVVybCIsInByb2dyZXNzIiwibG9hZGluZyIsImRlZmF1bHRRdWVyeVN0cmluZyIsIl9iZWZvcmVNaWRkbGV3YXJlIiwiX2FmdGVyTWlkZGxld2FyZSIsIl9yZXNvdXJjZXNQYXJzaW5nIiwiX2JvdW5kTG9hZFJlc291cmNlIiwiX2xvYWRSZXNvdXJjZSIsIl9xdWV1ZSIsImFzeW5jIiwib25Mb2FkIiwiX2RlZmF1bHRCZWZvcmVNaWRkbGV3YXJlIiwicHJlIiwiX2RlZmF1bHRBZnRlck1pZGRsZXdhcmUiLCJ1c2UiLCJwYXJlbnRSZXNvdXJjZSIsIl9wcmVwYXJlVXJsIiwiaW5jb21wbGV0ZUNoaWxkcmVuIiwiZWFjaENodW5rIiwiX29uU3RhcnQiLCJfb25Db21wbGV0ZSIsImNodW5rIiwiZGVxdWV1ZSIsIl90aGlzMiIsIl9vbkxvYWQiLCJfdGhpczMiLCJMb2FkZXJSZXNvdXJjZSIsIlRleHR1cmVMb2FkZXIiLCJmcm9tTG9hZGVyIiwiUmVzb3VyY2VMb2FkZXIiLCJtaWRkbGV3YXJlIiwicGFyc2luZyIsIkFwcExvYWRlclBsdWdpbiIsInNoYXJlZExvYWRlciIsImxvYWRlciIsIkxJTkVfSk9JTiIsIkxJTkVfQ0FQIiwibWF4U2l6ZSIsInByb3BlcnRpZXMiLCJiYXRjaFNpemUiLCJfcHJvcGVydGllcyIsIl9tYXhTaXplIiwiX2JhdGNoU2l6ZSIsIl9idWZmZXJzIiwiX2J1ZmZlclVwZGF0ZUlEcyIsInNldFByb3BlcnRpZXMiLCJfdGludCIsInRpbnRSZ2IiLCJQYXJ0aWNsZUNvbnRhaW5lciIsInBhcnRpY2xlIiwic21hbGxlc3RDaGlsZEluZGV4IiwiZHluYW1pY1Byb3BlcnR5RmxhZ3MiLCJkeW5hbWljUHJvcGVydGllcyIsInN0YXRpY1Byb3BlcnRpZXMiLCJwcm9wZXJ0eSIsImF0dHJpYnV0ZU5hbWUiLCJ1cGxvYWRGdW5jdGlvbiIsInN0YXRpY1N0cmlkZSIsInN0YXRpY0J1ZmZlciIsInN0YXRpY0RhdGEiLCJzdGF0aWNEYXRhVWludDMyIiwiZHluYW1pY1N0cmlkZSIsImR5bmFtaWNCdWZmZXIiLCJkeW5hbWljRGF0YSIsImR5bmFtaWNEYXRhVWludDMyIiwiaW5pdEJ1ZmZlcnMiLCJQYXJ0aWNsZUJ1ZmZlciIsImR5bmFtaWNPZmZzZXQiLCJkeW5CdWZmZXIiLCJzdGF0aWNPZmZzZXQiLCJzdGF0QnVmZmVyIiwic3RhcnRJbmRleCIsImFtb3VudCIsInVwbG9hZFZlcnRpY2VzIiwidXBsb2FkUG9zaXRpb24iLCJ1cGxvYWRSb3RhdGlvbiIsInVwbG9hZFV2cyIsInVwbG9hZFRpbnQiLCJQYXJ0aWNsZVJlbmRlcmVyIiwidG90YWxDaGlsZHJlbiIsImdlbmVyYXRlQnVmZmVycyIsInRvQXJyYXkiLCJ1Q29sb3IiLCJ1cGRhdGVTdGF0aWMiLCJfZ2VuZXJhdGVPbmVNb3JlQnVmZmVyIiwidXBsb2FkRHluYW1pYyIsImJpZCIsInVwbG9hZFN0YXRpYyIsIncwIiwidzEiLCJoMCIsImgxIiwic3ByaXRlUG9zaXRpb24iLCJzcHJpdGVSb3RhdGlvbiIsInRleHR1cmVVdnMiLCJHUkFQSElDU19DVVJWRVMiLCJhZGFwdGl2ZSIsIm1heExlbmd0aCIsIm1pblNlZ21lbnRzIiwibWF4U2VnbWVudHMiLCJlcHNpbG9uIiwiX3NlZ21lbnRzQ291bnQiLCJkZWZhdWx0U2VnbWVudHMiLCJGaWxsU3R5bGUiLCJjb2xvciIsImJ1aWxkUG9seSIsImJ1aWxkIiwiZ3JhcGhpY3NEYXRhIiwic2hhcGUiLCJ0cmlhbmd1bGF0ZSIsImdyYXBoaWNzR2VvbWV0cnkiLCJ2ZXJ0cyIsImhvbGVBcnJheSIsInZlcnRQb3MiLCJidWlsZENpcmNsZSIsImNpcmNsZURhdGEiLCJlbGxpcHNlRGF0YSIsInRvdGFsU2VncyIsInNlZyIsImNlbnRlciIsImNpcmNsZSIsImJ1aWxkUmVjdGFuZ2xlIiwicmVjdERhdGEiLCJnZXRQdCIsIm4xIiwibjIiLCJwZXJjIiwicXVhZHJhdGljQmV6aWVyQ3VydmUiLCJmcm9tWCIsImZyb21ZIiwiY3BYIiwiY3BZIiwidG9YIiwidG9ZIiwieGEiLCJ5YSIsInhiIiwieWIiLCJidWlsZFJvdW5kZWRSZWN0YW5nbGUiLCJycmVjdERhdGEiLCJ2ZWNQb3MiLCJzcXVhcmUiLCJueCIsIm55IiwiaW5uZXJXZWlnaHQiLCJvdXRlcldlaWdodCIsImV4eCIsImV5eSIsImVpeCIsImVpeSIsImVveCIsImVveSIsImV4IiwiZXkiLCJjeDJwMHgiLCJjeTJwMHkiLCJhbmdsZTAiLCJhbmdsZTEiLCJzdGFydEFuZ2xlIiwiYW5nbGVEaWZmIiwiYWJzQW5nbGVEaWZmIiwic2VnQ291bnQiLCJhbmdsZUluYyIsImJ1aWxkTGluZSIsImxpbmVTdHlsZSIsIm5hdGl2ZSIsImNsb3NlZFNoYXBlIiwiYnVpbGROYXRpdmVMaW5lIiwiY2xvc2VQb2ludEVwcyIsImZpcnN0UG9pbnQiLCJsYXN0UG9pbnQiLCJjbG9zZWRQYXRoIiwibWlkUG9pbnRYIiwibWlkUG9pbnRZIiwiaW5kZXhDb3VudCIsImluZGV4U3RhcnQiLCJ3aWR0aFNxdWFyZWQiLCJtaXRlckxpbWl0U3F1YXJlZCIsIm1pdGVyTGltaXQiLCJwZXJweCIsInBlcnB5IiwicGVycDF4IiwicGVycDF5IiwiZGlzdCIsInJhdGlvIiwiYWxpZ25tZW50IiwiY2FwIiwiUk9VTkQiLCJTUVVBUkUiLCJkeDAiLCJkeTAiLCJkeDEiLCJkeTEiLCJjcm9zcyIsImMyIiwicGRpc3QiLCJpbXgiLCJpbXkiLCJvbXgiLCJvbXkiLCJpbnNpZGVXZWlnaHQiLCJCRVZFTCIsImVwczIiLCJidWlsZE5vbk5hdGl2ZUxpbmUiLCJpbm5lclJhZGl1cyIsIkFyY1V0aWxzIiwibW0iLCJkZCIsImNjIiwidHQiLCJrMSIsImsyIiwiajEiLCJqMiIsInF5IiwiZW5kQW5nbGUiLCJhbnRpY2xvY2t3aXNlIiwiX3N0YXJ0WCIsIl9zdGFydFkiLCJfYW50aWNsb2Nrd2lzZSIsInN3ZWVwIiwidGhldGEiLCJ0aGV0YTIiLCJjVGhldGEiLCJzVGhldGEiLCJzZWdNaW51cyIsInJlbWFpbmRlciIsIkJlemllclV0aWxzIiwiY3BYMiIsImNwWTIiLCJ0MiIsInQzIiwibnQiLCJudDIiLCJudDMiLCJwcmV2WCIsInByZXZZIiwiY3VydmVMZW5ndGgiLCJkdCIsImR0MiIsImR0MyIsIlF1YWRyYXRpY1V0aWxzIiwiYTMyIiwiYmEiLCJCYXRjaFBhcnQiLCJhdHRyaWJTdGFydCIsImVuZEF0dHJpYiIsIkZJTExfQ09NTUFORFMiLCJCQVRDSF9QT09MIiwiRFJBV19DQUxMX1BPT0wiLCJHcmFwaGljc0RhdGEiLCJ0bXBQb2ludCIsInRtcEJvdW5kcyIsImNvbG9ycyIsInRleHR1cmVJZHMiLCJiYXRjaERpcnR5IiwiY2FjaGVEaXJ0eSIsImNsZWFyRGlydHkiLCJiYXRjaGVzIiwic2hhcGVJbmRleCIsImJvdW5kc0RpcnR5IiwiYm91bmRzUGFkZGluZyIsImJhdGNoYWJsZSIsImluZGljZXNVaW50MTYiLCJHcmFwaGljc0dlb21ldHJ5IiwiYmF0Y2hQYXJ0IiwibGFzdFNoYXBlIiwiaGl0SG9sZSIsImlfMSIsImFsbG93MzJJbmRpY2VzIiwidmFsaWRhdGVCYXRjaGluZyIsImN1cnJlbnRTdHlsZSIsInRyYW5zZm9ybVBvaW50cyIsIm5leHRUZXh0dXJlIiwiaW5kZXhfMSIsImF0dHJpYkluZGV4IiwiUkVQRUFUIiwicHJvY2Vzc0ZpbGwiLCJwcm9jZXNzTGluZSIsIl9jb21wYXJlU3R5bGVzIiwiYWRkVXZzIiwibmVlZDMyIiwiaXNCYXRjaGFibGUiLCJwYWNrQmF0Y2hlcyIsInN0eWxlQSIsInN0eWxlQiIsImZpbGwiLCJsaW5lIiwiQkFUQ0hBQkxFX1NJWkUiLCJjdXJyZW50R3JvdXAiLCJjdXJyZW50VGV4dHVyZSIsImRyYXdNb2RlIiwiTElORVMiLCJhZGRDb2xvcnMiLCJhZGRUZXh0dXJlSWRzIiwicGFja0F0dHJpYnV0ZXMiLCJnbFBvaW50cyIsImYzMiIsInUzMiIsInByb2Nlc3NIb2xlcyIsInNlcXVlbmNlQm91bmRzIiwiY3VyTWF0cml4IiwiSURFTlRJVFkiLCJuZXh0TWF0cml4IiwibGluZVdpZHRoIiwiYWRkQm91bmRzTWF0cml4IiwiYWRkRnJhbWVQYWQiLCJlbGxpcHNlIiwicG9seSIsInJnYmEiLCJ1dnNTdGFydCIsImFkanVzdFV2cyIsIkJVVFQiLCJNSVRFUiIsIkxpbmVTdHlsZSIsInRlbXAiLCJERUZBVUxUX1NIQURFUlMiLCJfZ2VvbWV0cnkiLCJfZmlsbFN0eWxlIiwiX2xpbmVTdHlsZSIsIl9ob2xlTW9kZSIsImN1cnJlbnRQYXRoIiwiYmF0Y2hUaW50IiwiX3RyYW5zZm9ybUlEIiwiR3JhcGhpY3MiLCJmaW5pc2hQb2x5IiwibGluZVRleHR1cmVTdHlsZSIsInN0YXJ0UG9seSIsImRyYXdTaGFwZSIsIm1vdmVUbyIsIl9pbml0Q3VydmUiLCJjdXJ2ZVRvIiwicmFkaXVzXzEiLCJhcmMiLCJzdGFydFgiLCJzdGFydFkiLCJ4RGlmZiIsInlEaWZmIiwiYmVnaW5UZXh0dXJlRmlsbCIsImRyYXdIb2xlIiwiZHJhd1BvbHlnb24iLCJTdGFyIiwidXBkYXRlQmF0Y2hlcyIsIl9wb3B1bGF0ZUJhdGNoZXMiLCJfcmVuZGVyQmF0Y2hlZCIsIl9yZW5kZXJEaXJlY3QiLCJnSSIsIl9iYXRjaFJHQiIsImNhbGN1bGF0ZVZlcnRpY2VzIiwiY2FsY3VsYXRlVGludHMiLCJfcmVzb2x2ZURpcmVjdFNoYWRlciIsIl9yZW5kZXJEcmF3Q2FsbERpcmVjdCIsImdyb3VwVGV4dHVyZUNvdW50IiwiYWRkRnJhbWUiLCJfVEVNUF9QT0lOVCIsInRpbnRSR0IiLCJ3dElEIiwiVEVYVF9HUkFESUVOVCIsInRlbXBQb2ludCIsIl9hbmNob3IiLCJfb25BbmNob3JVcGRhdGUiLCJfY2FjaGVkVGludCIsInZlcnRleFRyaW1tZWREYXRhIiwiX3RyYW5zZm9ybVRyaW1tZWRJRCIsIl90ZXh0dXJlVHJpbW1lZElEIiwiX3JvdW5kUGl4ZWxzIiwiU3ByaXRlIiwiYWRkUXVhZCIsImNhbGN1bGF0ZVRyaW1tZWRWZXJ0aWNlcyIsIl9vblRleHR1cmVVcGRhdGUiLCJkZXN0cm95QmFzZVRleHR1cmUiLCJkZWZhdWx0U3R5bGUiLCJhbGlnbiIsImJyZWFrV29yZHMiLCJkcm9wU2hhZG93IiwiZHJvcFNoYWRvd0FscGhhIiwiZHJvcFNoYWRvd0FuZ2xlIiwiZHJvcFNoYWRvd0JsdXIiLCJkcm9wU2hhZG93Q29sb3IiLCJkcm9wU2hhZG93RGlzdGFuY2UiLCJmaWxsR3JhZGllbnRUeXBlIiwiTElORUFSX1ZFUlRJQ0FMIiwiZmlsbEdyYWRpZW50U3RvcHMiLCJmb250RmFtaWx5IiwiZm9udFNpemUiLCJmb250U3R5bGUiLCJmb250VmFyaWFudCIsImZvbnRXZWlnaHQiLCJsZXR0ZXJTcGFjaW5nIiwibGluZUhlaWdodCIsImxpbmVKb2luIiwic3Ryb2tlIiwic3Ryb2tlVGhpY2tuZXNzIiwidGV4dEJhc2VsaW5lIiwid2hpdGVTcGFjZSIsIndvcmRXcmFwIiwid29yZFdyYXBXaWR0aCIsImxlYWRpbmciLCJnZW5lcmljRm9udEZhbWlsaWVzIiwic3R5bGVJRCIsImRlZXBDb3B5UHJvcGVydGllcyIsIlRleHRTdHlsZSIsImNsb25lZFByb3BlcnRpZXMiLCJfYWxpZ24iLCJfYnJlYWtXb3JkcyIsIl9kcm9wU2hhZG93IiwiX2Ryb3BTaGFkb3dBbHBoYSIsIl9kcm9wU2hhZG93QW5nbGUiLCJfZHJvcFNoYWRvd0JsdXIiLCJfZHJvcFNoYWRvd0NvbG9yIiwib3V0cHV0Q29sb3IiLCJnZXRDb2xvciIsIl9kcm9wU2hhZG93RGlzdGFuY2UiLCJfZmlsbCIsIl9maWxsR3JhZGllbnRUeXBlIiwiX2ZpbGxHcmFkaWVudFN0b3BzIiwiYXJyYXkxIiwiYXJyYXkyIiwiYXJlQXJyYXlzRXF1YWwiLCJfZm9udEZhbWlseSIsIl9mb250U2l6ZSIsIl9mb250U3R5bGUiLCJfZm9udFZhcmlhbnQiLCJfZm9udFdlaWdodCIsIl9sZXR0ZXJTcGFjaW5nIiwiX2xpbmVIZWlnaHQiLCJfbGVhZGluZyIsIl9saW5lSm9pbiIsIl9taXRlckxpbWl0IiwiX3BhZGRpbmciLCJfc3Ryb2tlIiwiX3N0cm9rZVRoaWNrbmVzcyIsIl90ZXh0QmFzZWxpbmUiLCJfdHJpbSIsIl93aGl0ZVNwYWNlIiwiX3dvcmRXcmFwIiwiX3dvcmRXcmFwV2lkdGgiLCJmb250U2l6ZVN0cmluZyIsImZvbnRGYW1pbGllcyIsImdldFNpbmdsZUNvbG9yIiwicHJvcGVydHlPYmoiLCJsaW5lcyIsImxpbmVXaWR0aHMiLCJtYXhMaW5lV2lkdGgiLCJmb250UHJvcGVydGllcyIsIlRleHRNZXRyaWNzIiwiX2NhbnZhcyIsImZvbnQiLCJ0b0ZvbnRTdHJpbmciLCJtZWFzdXJlRm9udCIsImFzY2VudCIsIm1lYXN1cmVUZXh0IiwiY29sbGFwc2VTcGFjZXMiLCJjb2xsYXBzZU5ld2xpbmVzIiwiY2FuUHJlcGVuZFNwYWNlcyIsInRva2VucyIsInRva2VuaXplIiwidG9rZW4iLCJpc05ld2xpbmUiLCJhZGRMaW5lIiwiY3VycklzQnJlYWtpbmdTcGFjZSIsImlzQnJlYWtpbmdTcGFjZSIsImxhc3RJc0JyZWFraW5nU3BhY2UiLCJ0b2tlbldpZHRoIiwiZ2V0RnJvbUNhY2hlIiwiY2FuQnJlYWtXb3JkcyIsImNoYXJhY3RlcnMiLCJ3b3JkV3JhcFNwbGl0IiwiY2hhciIsIm5leHRDaGFyIiwibGFzdENoYXIiLCJjYW5CcmVha0NoYXJzIiwiY2hhcmFjdGVyV2lkdGgiLCJpc0xhc3RUb2tlbiIsIm5ld0xpbmUiLCJ0cmltUmlnaHQiLCJzcGFjaW5nIiwiX25ld2xpbmVzIiwiX2JyZWFraW5nU3BhY2VzIiwiX3Rva2VuIiwiX2NoYXIiLCJfbmV4dENoYXIiLCJfaW5kZXgiLCJfZm9udHMiLCJkZXNjZW50IiwiX2NvbnRleHQiLCJtZXRyaWNzU3RyaW5nIiwiTUVUUklDU19TVFJJTkciLCJCQVNFTElORV9TWU1CT0wiLCJiYXNlbGluZSIsIkJBU0VMSU5FX01VTFRJUExJRVIiLCJmaWxsVGV4dCIsImltYWdlZGF0YSIsImRlZmF1bHREZXN0cm95T3B0aW9ucyIsIm93bkNhbnZhcyIsIl9vd25DYW52YXMiLCJfYXV0b1Jlc29sdXRpb24iLCJfdGV4dCIsIl9zdHlsZSIsIl9zdHlsZUxpc3RlbmVyIiwiX2ZvbnQiLCJsb2NhbFN0eWxlSUQiLCJUZXh0IiwicmVzcGVjdERpcnR5IiwibGluZVBvc2l0aW9uWCIsImxpbmVQb3NpdGlvblkiLCJtZWFzdXJlZCIsInBhc3Nlc0NvdW50IiwiaXNTaGFkb3dQYXNzIiwiZHNPZmZzZXRUZXh0IiwiZHNPZmZzZXRTaGFkb3ciLCJzdHJva2VTdHlsZSIsInNoYWRvd0NvbG9yIiwic2hhZG93Qmx1ciIsInNoYWRvd09mZnNldFgiLCJzaGFkb3dPZmZzZXRZIiwiX2dlbmVyYXRlRmlsbFN0eWxlIiwiZHJhd0xldHRlclNwYWNpbmciLCJpc1N0cm9rZSIsImN1cnJlbnRQb3NpdGlvbiIsInN0cmluZ0FycmF5IiwicHJldmlvdXNXaWR0aCIsImN1cnJlbnRXaWR0aCIsImN1cnJlbnRDaGFyIiwic3Ryb2tlVGV4dCIsInRyaW1tZWQiLCJzZXRSZWFsU2l6ZSIsInVwZGF0ZVRleHQiLCJtZXRyaWNzIiwiZ3JhZGllbnQiLCJkcm9wU2hhZG93Q29ycmVjdGlvbiIsImxlbmd0aFBsdXMxIiwiY3JlYXRlTGluZWFyR3JhZGllbnQiLCJsYXN0SXRlcmF0aW9uU3RvcCIsImdyYWRTdG9wTGluZUhlaWdodCIsInRoaXNMaW5lVG9wIiwiZ2xvYmFsU3RvcCIsImNsYW1wZWRTdG9wIiwiYWRkQ29sb3JTdG9wIiwidG90YWxJdGVyYXRpb25zIiwiY3VycmVudEl0ZXJhdGlvbiIsIlVQTE9BRFNfUEVSX0ZSQU1FIiwibWF4SXRlbXNQZXJGcmFtZSIsIml0ZW1zTGVmdCIsIkNvdW50TGltaXRlciIsImZpbmRNdWx0aXBsZUJhc2VUZXh0dXJlcyIsIl90ZXh0dXJlcyIsImZpbmRCYXNlVGV4dHVyZSIsImZpbmRUZXh0dXJlIiwiZHJhd1RleHQiLCJfaGVscGVyIiwiY2FsY3VsYXRlVGV4dFN0eWxlIiwiZmluZFRleHQiLCJmaW5kVGV4dFN0eWxlIiwibGltaXRlciIsInVwbG9hZEhvb2tIZWxwZXIiLCJhZGRIb29rcyIsInVwbG9hZEhvb2tzIiwiY29tcGxldGVzIiwidGlja2luZyIsImRlbGF5ZWRUaWNrIiwicHJlcGFyZUl0ZW1zIiwicmVnaXN0ZXJGaW5kSG9vayIsInJlZ2lzdGVyVXBsb2FkSG9vayIsIkJhc2VQcmVwYXJlIiwiZG9uZSIsImFkZE9uY2UiLCJ0aWNrIiwiVVRJTElUWSIsImJlZ2luRnJhbWUiLCJhbGxvd2VkVG9VcGxvYWQiLCJ1cGxvYWRlZCIsImFkZEhvb2siLCJ1cGxvYWRIb29rIiwidXBsb2FkQmFzZVRleHR1cmVzIiwidXBsb2FkR3JhcGhpY3MiLCJmaW5kR3JhcGhpY3MiLCJtYXhNaWxsaXNlY29uZHMiLCJmcmFtZVN0YXJ0IiwiVGltZUxpbWl0ZXIiLCJyZXNvbHV0aW9uRmlsZW5hbWUiLCJhbmltYXRpb25zIiwiX3VwZGF0ZVJlc29sdXRpb24iLCJfZnJhbWVzIiwiZnJhbWVzIiwiX2ZyYW1lS2V5cyIsIl9iYXRjaEluZGV4IiwiX2NhbGxiYWNrIiwiU3ByaXRlc2hlZXQiLCJtZXRhIiwiQkFUQ0hfU0laRSIsIl9wcm9jZXNzRnJhbWVzIiwiX3Byb2Nlc3NBbmltYXRpb25zIiwiX3BhcnNlQ29tcGxldGUiLCJfbmV4dEJhdGNoIiwiaW5pdGlhbEZyYW1lSW5kZXgiLCJmcmFtZUluZGV4IiwibWF4RnJhbWVzIiwic291cmNlU2l6ZSIsInJvdGF0ZWQiLCJzcHJpdGVTb3VyY2VTaXplIiwiYW5pbU5hbWUiLCJmcmFtZU5hbWUiLCJTcHJpdGVzaGVldExvYWRlciIsImltYWdlUmVzb3VyY2VOYW1lIiwibG9hZE9wdGlvbnMiLCJpbWFnZU1ldGFkYXRhIiwicmVzb3VyY2VQYXRoIiwiZ2V0UmVzb3VyY2VQYXRoIiwic3ByaXRlc2hlZXQiLCJ0aWxlVHJhbnNmb3JtIiwidXZSZXNwZWN0QW5jaG9yIiwiVGlsaW5nU3ByaXRlIiwidXBkYXRlTG9jYWxUcmFuc2Zvcm0iLCJzaW1wbGVTaGFkZXIiLCJmcmFnbWVudFNpbXBsZSIsIlRpbGluZ1Nwcml0ZVJlbmRlcmVyIiwidHMiLCJiYXNlVGV4IiwidXYiLCJIIiwidU1hcENvb3JkIiwidVRyYW5zZm9ybSIsIl9idWZmZXJVcGRhdGVJZCIsIl90ZXh0dXJlVXBkYXRlSWQiLCJNZXNoQmF0Y2hVdnMiLCJtdWx0aXBseVV2cyIsInRlbXBQb2x5Z29uIiwidmVydGV4RGlydHkiLCJiYXRjaFV2cyIsIk1lc2giLCJfcmVuZGVyVG9CYXRjaCIsIl9yZW5kZXJEZWZhdWx0IiwiY2FsY3VsYXRlVXZzIiwibWF0ZXJpYWwiLCJ2ZXJ0ZXhEaXJ0eUlkIiwiZ2VvbVV2cyIsImFkZFZlcnRleERhdGEiLCJnZXRCdWZmZXIiLCJnZXRJbmRleCIsInN0ZXAiLCJpbmQwIiwiaW5kMSIsImluZDIiLCJ1VGV4dHVyZU1hdHJpeCIsIl9jb2xvckRpcnR5IiwiTWVzaE1hdGVyaWFsIiwiX2FscGhhIiwidmVydGljZXNCdWZmZXIiLCJ1dnNCdWZmZXIiLCJfdXBkYXRlSWQiLCJNZXNoR2VvbWV0cnkiLCJpbmZvIiwiY29tbW9uIiwicGFnZSIsImtlcm5pbmciLCJUZXh0Rm9ybWF0IiwicmF3RGF0YSIsImNoYXJzIiwia2VybmluZ3MiLCJhdHRyaWJ1dGVMaXN0IiwiaXRlbURhdGEiLCJzdHJWYWx1ZSIsImZsb2F0VmFsdWUiLCJCaXRtYXBGb250RGF0YSIsImZhY2UiLCJ4b2Zmc2V0IiwieW9mZnNldCIsInhhZHZhbmNlIiwiZmlyc3QiLCJzZWNvbmQiLCJYTUxGb3JtYXQiLCJYTUxEb2N1bWVudCIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiWE1MU3RyaW5nRm9ybWF0IiwieG1sVHh0IiwiZm9ybWF0cyIsImF1dG9EZXRlY3RGb3JtYXQiLCJkcmF3R2x5cGgiLCJnZW5lcmF0ZUZpbGxTdHlsZSIsIm93bnNUZXh0dXJlcyIsInBhZ2VUZXh0dXJlcyIsIl9vd25zVGV4dHVyZXMiLCJwYWdlXzEiLCJfYyIsInhPZmZzZXQiLCJ5T2Zmc2V0IiwieEFkdmFuY2UiLCJfZCIsIkJpdG1hcEZvbnQiLCJmb250RGF0YSIsImF2YWlsYWJsZSIsInRleHRTdHlsZSIsImRlZmF1bHRPcHRpb25zIiwidGV4dHVyZVdpZHRoIiwidGV4dHVyZUhlaWdodCIsImNoYXJzTGlzdCIsInN0YXJ0Q29kZSIsImVuZENvZGUiLCJqXzEiLCJyZXNvbHZlQ2hhcmFjdGVycyIsInBvc2l0aW9uWCIsInBvc2l0aW9uWSIsIm1heENoYXJIZWlnaHQiLCJ0ZXh0dXJlR2x5cGhXaWR0aCIsInVuaW5zdGFsbCIsIkFMUEhBTlVNRVJJQyIsInBhZ2VNZXNoRGF0YVBvb2wiLCJjaGFyUmVuZGVyRGF0YVBvb2wiLCJfdXBncmFkZVN0eWxlIiwiQml0bWFwVGV4dCIsInN0eWxlRGVmYXVsdHMiLCJtYXhXaWR0aCIsImZvbnROYW1lIiwiX2FjdGl2ZVBhZ2VzTWVzaERhdGEiLCJfdGV4dFdpZHRoIiwiX3RleHRIZWlnaHQiLCJfZm9udE5hbWUiLCJfbWF4V2lkdGgiLCJfbWF4TGluZUhlaWdodCIsIl90ZXh0dXJlQ2FjaGUiLCJ0ZXh0TGVuZ3RoIiwicHJldkNoYXJDb2RlIiwibGFzdExpbmVXaWR0aCIsImxhc3RCcmVha1BvcyIsImxhc3RCcmVha1dpZHRoIiwic3BhY2VzUmVtb3ZlZCIsIm1heExpbmVIZWlnaHQiLCJjaGFyQ29kZSIsImNoYXJEYXRhIiwiY2hhclJlbmRlckRhdGEiLCJsaW5lQWxpZ25PZmZzZXRzIiwiYWxpZ25PZmZzZXQiLCJsZW5DaGFycyIsInBhZ2VzTWVzaERhdGEiLCJuZXdQYWdlc01lc2hEYXRhIiwiYWN0aXZlUGFnZXNNZXNoRGF0YSIsImJhc2VUZXh0dXJlVWlkIiwicGFnZU1lc2hEYXRhIiwidmVydGV4Q291bnQiLCJ1dnNDb3VudCIsIm1lc2giLCJ0b3RhbF8xIiwieFBvcyIsInlQb3MiLCJwYWdlTWVzaCIsInRleHR1cmVGcmFtZSIsImFuY2hvck9mZnNldFgiLCJhbmNob3JPZmZzZXRZIiwiaV8yIiwidGV4dHVyZUJ1ZmZlciIsInZhbGlkYXRlIiwidmFsdWVTcGxpdCIsImluc3RhbGwiLCJCaXRtYXBGb250TG9hZGVyIiwiZ2V0QmFzZVVybCIsInBhZ2VGaWxlIiwiYml0bWFwRm9udCIsImJpdG1hcFJlc291cmNlIiwicmVzVXJsIiwiZGlybmFtZSIsImRpciIsInVBbHBoYSIsIkFscGhhRmlsdGVyIiwidmVydFRlbXBsYXRlIiwiR0FVU1NJQU5fVkFMVUVTIiwiNSIsIjciLCI5IiwiMTEiLCIxMyIsIjE1IiwiaG9yaXpvbnRhbCIsInN0cmVuZ3RoIiwia2VybmVsU2l6ZSIsInZlcnRTcmMiLCJoYWxmTGVuZ3RoIiwidmVydFNvdXJjZSIsImJsdXJMb29wIiwiYmx1ciIsImdlbmVyYXRlQmx1clZlcnRTb3VyY2UiLCJmcmFnU3JjIiwia2VybmVsIiwiZnJhZ1NvdXJjZSIsImdlbmVyYXRlQmx1ckZyYWdTb3VyY2UiLCJfcXVhbGl0eSIsIkJsdXJGaWx0ZXJQYXNzIiwicGFzc2VzIiwicmVuZGVyVGFyZ2V0IiwiZ2V0RmlsdGVyVGV4dHVyZSIsImJsdXJYRmlsdGVyIiwiYmx1cllGaWx0ZXIiLCJyZXBlYXRFZGdlUGl4ZWxzIiwiQmx1ckZpbHRlciIsInhTdHJlbmd0aCIsInlTdHJlbmd0aCIsIl9yZXBlYXRFZGdlUGl4ZWxzIiwidXBkYXRlUGFkZGluZyIsImRlZmF1bHRGaWx0ZXJWZXJ0ZXgiLCJDb2xvck1hdHJpeEZpbHRlciIsIm11bHRpcGx5IiwibmV3TWF0cml4IiwiX211bHRpcGx5IiwiX2NvbG9yTWF0cml4IiwiX2xvYWRNYXRyaXgiLCJjb3NSIiwic2luUiIsInNxclciLCJzYXR1cmF0ZSIsImRlc2F0dXJhdGlvbiIsInRvbmVkIiwibGlnaHRDb2xvciIsImRhcmtDb2xvciIsImxSIiwibEciLCJsQiIsImRSIiwiZEciLCJkQiIsImludGVuc2l0eSIsImdyYXlzY2FsZSIsImdyZXlzY2FsZSIsIm1hcFNhbXBsZXIiLCJmaWx0ZXJNYXRyaXgiLCJEaXNwbGFjZW1lbnRGaWx0ZXIiLCJsZW5YIiwibGVuWSIsIm5vaXNlIiwic2VlZCIsInJhbmRvbSIsInVOb2lzZSIsInVTZWVkIiwiTm9pc2VGaWx0ZXIiLCJfdGVtcE1hdHJpeCIsIl9jYWNoZUFzQml0bWFwIiwiX2NhY2hlRGF0YSIsInRleHR1cmVDYWNoZUlkIiwib3JpZ2luYWxSZW5kZXIiLCJvcmlnaW5hbFJlbmRlckNhbnZhcyIsIm9yaWdpbmFsQ2FsY3VsYXRlQm91bmRzIiwib3JpZ2luYWxHZXRMb2NhbEJvdW5kcyIsIm9yaWdpbmFsVXBkYXRlVHJhbnNmb3JtIiwib3JpZ2luYWxEZXN0cm95Iiwib3JpZ2luYWxNYXNrIiwib3JpZ2luYWxGaWx0ZXJBcmVhIiwib3JpZ2luYWxDb250YWluc1BvaW50IiwiY2FjaGVBc0JpdG1hcCIsIkNhY2hlRGF0YSIsInJlbmRlckNhbnZhcyIsIl9yZW5kZXJDYWNoZWQiLCJfcmVuZGVyQ2FjaGVkQ2FudmFzIiwiX2NhY2hlQXNCaXRtYXBEZXN0cm95IiwiX2Rlc3Ryb3lDYWNoZWREaXNwbGF5T2JqZWN0IiwiX2luaXRDYWNoZWREaXNwbGF5T2JqZWN0IiwiY2FjaGVBbHBoYSIsImNhY2hlZFJlbmRlclRleHR1cmUiLCJjYWNoZWRTb3VyY2VGcmFtZSIsImNhY2hlZERlc3RpbmF0aW9uRnJhbWUiLCJjYWNoZWRQcm9qZWN0aW9uVHJhbnNmb3JtIiwiX2NhbGN1bGF0ZUNhY2hlZEJvdW5kcyIsIl9nZXRDYWNoZWRMb2NhbEJvdW5kcyIsImNhY2hlZFNwcml0ZSIsIl9pbml0Q2FjaGVkRGlzcGxheU9iamVjdENhbnZhcyIsIl9yZW5kZXJDYW52YXMiLCJjYWNoZWRSZW5kZXJUYXJnZXQiLCJfcHJvalRyYW5zZm9ybSIsImdldENoaWxkQnlOYW1lIiwiZGVlcCIsImdldEdsb2JhbFBvc2l0aW9uIiwidjUiLCJzZWdXaWR0aCIsInNlZ0hlaWdodCIsIlBsYW5lR2VvbWV0cnkiLCJzZWdtZW50c1giLCJzZWdtZW50c1kiLCJzaXplWCIsInNpemVZIiwidG90YWxTdWIiLCJ4cG9zIiwieXBvcyIsInZhbHVlMiIsInZhbHVlMyIsInZhbHVlNCIsInRleHR1cmVTY2FsZSIsIlJvcGVHZW9tZXRyeSIsImRpc3RhbmNlIiwidXBkYXRlVmVydGljZXMiLCJuZXh0UG9pbnQiLCJwZXJwWCIsInBlcnBZIiwicGVycExlbmd0aCIsInJvcGVHZW9tZXRyeSIsIm1lc2hNYXRlcmlhbCIsIlNpbXBsZVJvcGUiLCJ2ZXJ0aWNlc1giLCJ2ZXJ0aWNlc1kiLCJwbGFuZUdlb21ldHJ5IiwiU2ltcGxlUGxhbmUiLCJ0ZXh0dXJlVXBkYXRlZCIsIlNpbXBsZU1lc2giLCJERUZBVUxUX0JPUkRFUl9TSVpFIiwibGVmdFdpZHRoIiwidG9wSGVpZ2h0IiwicmlnaHRXaWR0aCIsImJvdHRvbUhlaWdodCIsIl9vcmlnV2lkdGgiLCJfb3JpZ0hlaWdodCIsIl9sZWZ0V2lkdGgiLCJfcmlnaHRXaWR0aCIsIl90b3BIZWlnaHQiLCJfYm90dG9tSGVpZ2h0IiwiTmluZVNsaWNlUGxhbmUiLCJfcmVmcmVzaCIsIl9nZXRNaW5TY2FsZSIsInNjYWxlVyIsInNjYWxlSCIsIl91dnciLCJfdXZoIiwidXBkYXRlSG9yaXpvbnRhbFZlcnRpY2VzIiwidXBkYXRlVmVydGljYWxWZXJ0aWNlcyIsIl9kdXJhdGlvbnMiLCJhbmltYXRpb25TcGVlZCIsImxvb3AiLCJ1cGRhdGVBbmNob3IiLCJvbkZyYW1lQ2hhbmdlIiwib25Mb29wIiwiX2N1cnJlbnRUaW1lIiwiX3BsYXlpbmciLCJfcHJldmlvdXNGcmFtZSIsIkFuaW1hdGVkU3ByaXRlIiwiZnJhbWVOdW1iZXIiLCJwcmV2aW91c0ZyYW1lIiwiY3VycmVudEZyYW1lIiwiZWxhcHNlZCIsImxhZyIsImdvdG9BbmRTdG9wIiwiaW1hZ2VzIiwiUHJlcGFyZSIsIkZYQUFGaWx0ZXIiLCJQSVhJIiwiVHJhbnNmb3JtU3RhdGljIiwiVHJhbnNmb3JtQmFzZSIsIlRSQU5TRk9STV9NT0RFIiwiU1RBVElDIiwiRFlOQU1JQyIsIldlYkdMUmVuZGVyZXIiLCJ1dGlscyIsIkZpbHRlck1hbmFnZXIiLCJzeXN0ZW1zIiwiQ2FudmFzVGludGVyIiwiY2FudmFzVXRpbHMiLCJHcm91cEQ4IiwiYWNjZXNzaWJpbGl0eSIsInByZXBhcmUiLCJDYW52YXNQcmVwYXJlIiwiQ2FudmFzRXh0cmFjdCIsImV4dHJhcyIsImZyb21GcmFtZSIsImZyYW1lSWQiLCJmcm9tSW1hZ2UiLCJpbWFnZUlkIiwiZ2V0U3ZnU2l6ZSIsIlBsYW5lIiwiUm9wZSIsIlJhd01lc2giLCJDYW52YXNNZXNoUmVuZGVyZXIiLCJNZXNoUmVuZGVyZXIiLCJwYXJ0aWNsZXMiLCJsb2FkZXJzIiwiYml0bWFwRm9udFBhcnNlciIsInBhcnNlQml0bWFwRm9udERhdGEiLCJzcHJpdGVzaGVldFBhcnNlciIsImFkZFBpeGlNaWRkbGV3YXJlIiwiZXZlbnRUb1NpZ25hbCIsInRvVXBwZXJDYXNlIiwic2lnbmFsIiwiX3JlbmRlcldlYkdMIiwicmVuZGVyV2ViR0wiLCJyZW5kZXJBZHZhbmNlZFdlYkdMIiwiQmFzZVRleHR1cmVBbnkiLCJsb2FkU291cmNlIiwiYmFzZVRleHR1cmVJZERlcHJlY2F0aW9uIiwiaGFzTG9hZGVkIiwiX2lkIiwiZnJvbUNhbnZhcyIsImZyb21TVkciLCJjb3B5Iiwic2V0U3RhdGUiLCJnZXRSZW5kZXJUYXJnZXQiLCJfY2xlYXIiLCJyZXR1cm5SZW5kZXJUYXJnZXQiLCJjYWxjdWxhdGVTY3JlZW5TcGFjZU1hdHJpeCIsImNhbGN1bGF0ZU5vcm1hbGl6ZWRTY3JlZW5TcGFjZU1hdHJpeCIsInRyYW5zbGF0ZVNjYWxlWCIsInRyYW5zbGF0ZVNjYWxlWSIsIkJsdXJYRmlsdGVyIiwiQmx1cllGaWx0ZXIiLCJTcHJpdGVBbnkiLCJUZXh0dXJlQW55IiwiR3JhcGhpY3NBbnkiLCJzcHJpdGVGcm9tIiwidGV4dHVyZUZyb20iLCJnZW5lcmF0ZUNhbnZhc1RleHR1cmUiLCJmcm9tVmlkZW8iLCJtaXhpbnMiLCJkZWxheU1peGluIiwicGVyZm9ybU1peGlucyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OzsyUUFBQSxTQUFVQSxHQU1WLElBQUlDLEVBQWdCRCxF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QUUsR0FBT0QsRUFBRSxHQUFLQyxFQUFFLEdBQU9ELEVBQUUsR0FBS0MsRUFBRSxJQUFRRCxFQUFFLEdBQUtDLEVBQUUsSUFBT0QsRUFBRSxHQUc3RW1ILEVBQUksR0FBTW5ILEVBQUUsR0FBS0MsRUFBRSxHQUFPRCxFQUFFLEdBQUtDLEVBQUUsR0FBT0QsRUFBRSxHQUFLQyxFQUFFLElBQVFELEVBQUUsR0FBS0MsRUFBRSxJQUNwRWtILEVBQUksR0FBTW5ILEVBQUUsR0FBS0MsRUFBRSxHQUFPRCxFQUFFLEdBQUtDLEVBQUUsR0FBT0QsRUFBRSxHQUFLQyxFQUFFLElBQVFELEVBQUUsR0FBS0MsRUFBRSxJQUNwRWtILEVBQUksR0FBTW5ILEVBQUUsR0FBS0MsRUFBRSxHQUFPRCxFQUFFLEdBQUtDLEVBQUUsR0FBT0QsRUFBRSxHQUFLQyxFQUFFLElBQVFELEVBQUUsR0FBS0MsRUFBRSxJQUNwRWtILEVBQUksR0FBTW5ILEVBQUUsR0FBS0MsRUFBRSxHQUFPRCxFQUFFLEdBQUtDLEVBQUUsR0FBT0QsRUFBRSxHQUFLQyxFQUFFLElBQVFELEVBQUUsR0FBS0MsRUFBRSxJQUNwRWtILEVBQUksR0FBTW5ILEVBQUUsR0FBS0MsRUFBRSxHQUFPRCxFQUFFLEdBQUtDLEVBQUUsR0FBT0QsRUFBRSxHQUFLQyxFQUFFLElBQVFELEVBQUUsR0FBS0MsRUFBRSxJQUFPRCxFQUFFLEdBRzdFbUgsRUFBSSxJQUFPbkgsRUFBRSxJQUFNQyxFQUFFLEdBQU9ELEVBQUUsSUFBTUMsRUFBRSxHQUFPRCxFQUFFLElBQU1DLEVBQUUsSUFBUUQsRUFBRSxJQUFNQyxFQUFFLElBQ3pFa0gsRUFBSSxJQUFPbkgsRUFBRSxJQUFNQyxFQUFFLEdBQU9ELEVBQUUsSUFBTUMsRUFBRSxHQUFPRCxFQUFFLElBQU1DLEVBQUUsSUFBUUQsRUFBRSxJQUFNQyxFQUFFLElBQ3pFa0gsRUFBSSxJQUFPbkgsRUFBRSxJQUFNQyxFQUFFLEdBQU9ELEVBQUUsSUFBTUMsRUFBRSxHQUFPRCxFQUFFLElBQU1DLEVBQUUsSUFBUUQsRUFBRSxJQUFNQyxFQUFFLElBQ3pFa0gsRUFBSSxJQUFPbkgsRUFBRSxJQUFNQyxFQUFFLEdBQU9ELEVBQUUsSUFBTUMsRUFBRSxHQUFPRCxFQUFFLElBQU1DLEVBQUUsSUFBUUQsRUFBRSxJQUFNQyxFQUFFLElBQ3pFa0gsRUFBSSxJQUFPbkgsRUFBRSxJQUFNQyxFQUFFLEdBQU9ELEVBQUUsSUFBTUMsRUFBRSxHQUFPRCxFQUFFLElBQU1DLEVBQUUsSUFBUUQsRUFBRSxJQUFNQyxFQUFFLElBQU9ELEVBQUUsSUFHbEZtSCxFQUFJLElBQU9uSCxFQUFFLElBQU1DLEVBQUUsR0FBT0QsRUFBRSxJQUFNQyxFQUFFLEdBQU9ELEVBQUUsSUFBTUMsRUFBRSxJQUFRRCxFQUFFLElBQU1DLEVBQUUsSUFDekVrSCxFQUFJLElBQU9uSCxFQUFFLElBQU1DLEVBQUUsR0FBT0QsRUFBRSxJQUFNQyxFQUFFLEdBQU9ELEVBQUUsSUFBTUMsRUFBRSxJQUFRRCxFQUFFLElBQU1DLEVBQUUsSUFDekVrSCxFQUFJLElBQU9uSCxFQUFFLElBQU1DLEVBQUUsR0FBT0QsRUFBRSxJQUFNQyxFQUFFLEdBQU9ELEVBQUUsSUFBTUMsRUFBRSxJQUFRRCxFQUFFLElBQU1DLEVBQUUsSUFDekVrSCxFQUFJLElBQU9uSCxFQUFFLElBQU1DLEVBQUUsR0FBT0QsRUFBRSxJQUFNQyxFQUFFLEdBQU9ELEVBQUUsSUFBTUMsRUFBRSxJQUFRRCxFQUFFLElBQU1DLEVBQUUsSUFDekVrSCxFQUFJLElBQU9uSCxFQUFFLElBQU1DLEVBQUUsR0FBT0QsRUFBRSxJQUFNQyxFQUFFLEdBQU9ELEVBQUUsSUFBTUMsRUFBRSxJQUFRRCxFQUFFLElBQU1DLEVBQUUsSUFBT0QsRUFBRSxJQUUzRW1ILEdBVUg0eUYseUJBQVIsU0FBcUI1OUUsR0FHakIsSUFBTW5iLEVBQUksSUFBSXpNLGFBQWE0bkIsR0FPM0IsT0FMQW5iLEVBQUUsSUFBTSxJQUNSQSxFQUFFLElBQU0sSUFDUkEsRUFBRSxLQUFPLElBQ1RBLEVBQUUsS0FBTyxJQUVGQSxHQVVKKzRGLHVCQUFQLFNBQWtCOTVGLEVBQVcrNUYsR0FFekIsSUFBTTc5RSxFQUFzQixDQUN4QmxjLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFDWixFQUFHQSxFQUFHLEVBQUcsRUFBRyxFQUNaLEVBQUcsRUFBR0EsRUFBRyxFQUFHLEVBQ1osRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUdoQmxRLEtBQUtxcUcsWUFBWWorRSxFQUFRNjlFLElBVXRCRCxzQkFBUCxTQUFpQmg5RSxFQUFlaTlFLEdBRTVCLElBQU03OUUsRUFBc0IsQ0FDeEJZLEVBQU9BLEVBQU9BLEVBQU8sRUFBRyxFQUN4QkEsRUFBT0EsRUFBT0EsRUFBTyxFQUFHLEVBQ3hCQSxFQUFPQSxFQUFPQSxFQUFPLEVBQUcsRUFDeEIsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUdoQmh0QixLQUFLcXFHLFlBQVlqK0UsRUFBUTY5RSxJQVN0QkQsMEJBQVAsU0FBcUJDLEdBU2pCanFHLEtBQUtxcUcsWUFQdUIsQ0FDeEIsR0FBSyxHQUFLLEdBQUssRUFBRyxFQUNsQixHQUFLLEdBQUssR0FBSyxFQUFHLEVBQ2xCLEdBQUssR0FBSyxHQUFLLEVBQUcsRUFDbEIsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUdTSixJQVV0QkQsZ0JBQVAsU0FBV3I5RSxFQUFrQnM5RSxHQUV6QnQ5RSxHQUFZQSxHQUFZLEdBQUssSUFBTTVvQixLQUFLMGtCLEdBRXhDLElBQU02aEYsRUFBT3ZtRyxLQUFLaW9CLElBQUlXLEdBQ2hCNDlFLEVBQU94bUcsS0FBS2tvQixJQUFJVSxHQWdCaEJwVixFQUFJLEVBQUksRUFDUml6RixHQUFPdjlFLEVBaEJBbHBCLEtBQUtrcEIsTUFnQkExVixHQWNaNlUsRUFBc0IsQ0FaaEJrK0UsR0FBUyxFQUFNQSxHQUFRL3lGLEVBQ3RCQSxHQUFLLEVBQU0reUYsR0FBVUUsRUFBT0QsRUFDNUJoekYsR0FBSyxFQUFNK3lGLEdBQVVFLEVBQU9ELEVBV3RCLEVBQUcsRUFUVGh6RixHQUFLLEVBQU0reUYsR0FBVUUsRUFBT0QsRUFDN0JELEVBQVEveUYsR0FBSyxFQUFNK3lGLEdBQ2xCL3lGLEdBQUssRUFBTSt5RixHQUFVRSxFQUFPRCxFQVF0QixFQUFHLEVBTlRoekYsR0FBSyxFQUFNK3lGLEdBQVVFLEVBQU9ELEVBQzVCaHpGLEdBQUssRUFBTSt5RixHQUFVRSxFQUFPRCxFQUM3QkQsRUFBUS95RixHQUFLLEVBQU0reUYsR0FLWixFQUFHLEVBQ2xCLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FHaEJ0cUcsS0FBS3FxRyxZQUFZaitFLEVBQVE2OUUsSUFZdEJELHFCQUFQLFNBQWdCdnRCLEVBQWdCd3RCLEdBRTVCLElBQU16d0YsR0FBS2lqRSxHQUFVLEdBQUssRUFDcEJyYSxHQUFLLElBQU81b0QsRUFBSSxHQUVoQjRTLEVBQXNCLENBQ3hCNVMsRUFBRyxFQUFHLEVBQUcsRUFBRzRvRCxFQUNaLEVBQUc1b0QsRUFBRyxFQUFHLEVBQUc0b0QsRUFDWixFQUFHLEVBQUc1b0QsRUFBRyxFQUFHNG9ELEVBQ1osRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUdoQnBpRSxLQUFLcXFHLFlBQVlqK0UsRUFBUTY5RSxJQVd0QkQscUJBQVAsU0FBZ0J2dEIsRUFBWXd0QixnQkFBWnh0QixLQUVaLElBQU1sNUUsRUFBYyxFQUFUazVFLEVBQWEsRUFBSyxFQUN2Qnh2RSxHQUFnQixJQUFWMUosRUFBSSxHQUVWNm9CLEVBQXNCLENBQ3hCN29CLEVBQUcwSixFQUFHQSxFQUFHLEVBQUcsRUFDWkEsRUFBRzFKLEVBQUcwSixFQUFHLEVBQUcsRUFDWkEsRUFBR0EsRUFBRzFKLEVBQUcsRUFBRyxFQUNaLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FHaEJ2RCxLQUFLcXFHLFlBQVlqK0UsRUFBUTY5RSxJQVN0QkQsdUJBQVAsV0FFSWhxRyxLQUFLeXFHLFVBQVUsSUFTWlQscUJBQVAsU0FBZ0JDLEdBU1pqcUcsS0FBS3FxRyxZQVB1QixFQUN2QixFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQ2IsR0FBSSxFQUFHLEVBQUcsRUFBRyxFQUNiLEVBQUcsR0FBSSxFQUFHLEVBQUcsRUFDYixFQUFHLEVBQUcsRUFBRyxFQUFHLEdBR1NKLElBU3RCRCxrQkFBUCxTQUFhQyxHQVNUanFHLEtBQUtxcUcsWUFQdUIsQ0FDeEIsS0FBTyxTQUFXLFVBQVksRUFBRyxFQUNqQyxLQUFPLFNBQVcsVUFBWSxFQUFHLEVBQ2pDLEtBQU8sU0FBVyxVQUFZLEVBQUcsRUFDakMsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUdTSixJQVN0QkQsd0JBQVAsU0FBbUJDLEdBU2ZqcUcsS0FBS3FxRyxZQVB1QixDQUN4QixvQkFBcUIsbUJBQXFCLG1CQUFxQixFQUFHLG9CQUNqRSxrQkFBb0Isb0JBQXFCLG1CQUFxQixHQUFJLG1CQUNsRSxrQkFBb0Isa0JBQW9CLGtCQUFtQixFQUFHLG1CQUMvRCxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBR1NKLElBU3RCRCxxQkFBUCxTQUFnQkMsR0FTWmpxRyxLQUFLcXFHLFlBUHVCLENBQ3hCLE9BQVEsTUFBUSxLQUFPLEVBQUcsR0FDekIsS0FBTyxPQUFRLEtBQU8sRUFBRyxHQUN6QixNQUFRLEtBQU8sTUFBTyxFQUFHLEVBQzFCLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FHU0osSUFTdEJELGtCQUFQLFNBQWFDLEdBU1RqcUcsS0FBS3FxRyxZQVB1QixDQUN4QixFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQ1osRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUNaLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFDWixFQUFHLEVBQUcsRUFBRyxFQUFHLEdBR1NKLElBU3RCRCx1QkFBUCxTQUFrQkMsR0FTZGpxRyxLQUFLcXFHLFlBUHVCLENBQ3hCLG9CQUFxQixtQkFBcUIsbUJBQXFCLEVBQUcsbUJBQ2pFLG1CQUFxQixvQkFBcUIsbUJBQXFCLEVBQUcsb0JBQ2xFLG9CQUFzQixrQkFBb0IsbUJBQW9CLEVBQUcsa0JBQ2xFLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FHU0osSUFTdEJELG1CQUFQLFNBQWNDLEdBU1ZqcUcsS0FBS3FxRyxZQVB1QixDQUN4QixrQkFBb0Isb0JBQXNCLGtCQUFvQixFQUFHLG1CQUNoRSxvQkFBc0Isa0JBQW9CLG1CQUFxQixHQUFJLGtCQUNwRSxvQkFBc0IsbUJBQXFCLG1CQUFxQixHQUFJLGtCQUNwRSxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBR1NKLElBU3RCRCxvQkFBUCxTQUFlQyxHQVNYanFHLEtBQUtxcUcsWUFQdUIsQ0FDeEIsa0JBQW9CLG1CQUFxQixtQkFBcUIsRUFBRyxrQkFDakUsbUJBQXFCLGtCQUFvQixtQkFBcUIsRUFBRyxrQkFDakUsbUJBQXFCLGtCQUFvQixrQkFBb0IsRUFBRyxrQkFDaEUsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUdTSixJQWF0QkQsc0JBQVAsU0FBaUJVLEVBQXNCQyxFQUFlQyxFQUFvQkMsRUFBbUJaLEdBT3pGLElBQU1hLElBSE5GLEVBQWFBLEdBQWMsV0FHQSxHQUFNLEtBQVEsSUFDbkNHLEdBQU9ILEdBQWMsRUFBSyxLQUFRLElBQ2xDSSxHQUFtQixJQUFiSixHQUFxQixJQUUzQkssSUFOTkosRUFBWUEsR0FBYSxVQU1DLEdBQU0sS0FBUSxJQUNsQ0ssR0FBT0wsR0FBYSxFQUFLLEtBQVEsSUFDakNNLEdBQWtCLElBQVpOLEdBQW9CLElBRTFCeitFLEVBQXNCLENBQ3hCLEdBQUssSUFBTSxJQUFNLEVBQUcsRUFDcEIwK0UsRUFBSUMsRUFBSUMsRUFmWk4sRUFBZUEsR0FBZ0IsR0FlRCxFQUMxQk8sRUFBSUMsRUFBSUMsRUFmWlIsRUFBUUEsR0FBUyxJQWVNLEVBQ25CRyxFQUFLRyxFQUFJRixFQUFLRyxFQUFJRixFQUFLRyxFQUFJLEVBQUcsR0FHbENuckcsS0FBS3FxRyxZQUFZaitFLEVBQVE2OUUsSUFVdEJELGtCQUFQLFNBQWFvQixFQUFtQm5CLEdBSTVCLElBQU03OUUsRUFBc0IsRUFDVixHQUhsQmcvRSxFQUFZQSxHQUFhLEtBR0FBLEVBQVcsRUFBRyxFQUFHLEdBQ3JDQSxFQUFXLEVBQUdBLEVBQVcsRUFBRyxFQUM3QixFQUFHQSxFQUF1QixFQUFaQSxFQUFpQixFQUFHLEVBQ2xDLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FHaEJwckcsS0FBS3FxRyxZQUFZaitFLEVBQVE2OUUsSUFZdEJELHFCQUFQLFNBQWdCdnRCLEVBQWdCd3RCLEdBRTVCLElBQU03OUUsRUFBc0IsQ0FFeEIsbUJBQXFCcXdELEdBQ3BCLGtCQUFvQkEsR0FDcEIsbUJBQXFCQSxFQUN0QixFQUFJQSxFQUNKLG1CQUFzQkEsR0FFckIsbUJBQXFCQSxFQUN0QixrQkFBb0JBLEdBQ25CLGtCQUFvQkEsRUFDckIsRUFBSUEsR0FDSCxrQkFBb0JBLEdBRXBCLG1CQUFxQkEsR0FDckIsbUJBQXFCQSxFQUN0QixrQkFBb0JBLEVBQ3BCLEVBQUlBLEVBQ0osa0JBQXFCQSxFQUVyQixFQUFHLEVBQUcsRUFBRyxFQUFHLEdBR2hCejhFLEtBQUtxcUcsWUFBWWorRSxFQUFRNjlFLElBV3RCRCxnQkFBUCxTQUFXQyxHQVNQanFHLEtBQUtxcUcsWUFQdUIsQ0FDeEIsR0FBSSxHQUFLLEdBQUssRUFBRyxHQUNoQixHQUFLLEdBQUksR0FBSyxFQUFHLEdBQ2pCLElBQU0sR0FBSyxFQUFHLEVBQUcsRUFDbEIsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUdTSixJQU90QkQsa0JBQVAsV0FTSWhxRyxLQUFLcXFHLFlBUHVCLENBQ3hCLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFDWixFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQ1osRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUNaLEVBQUcsRUFBRyxFQUFHLEVBQUcsSUFHUyxJQVM3QjVzRyxzQkFBSXVzRywwQkFBSixXQUVJLE9BQU9ocUcsS0FBSzQ5QyxTQUFTM3NDLE9BR3pCLFNBQVd6VCxHQUVQd0MsS0FBSzQ5QyxTQUFTM3NDLEVBQUl6VCxtQ0FhdEJDLHNCQUFJdXNHLHlCQUFKLFdBRUksT0FBT2hxRyxLQUFLNDlDLFNBQVMrcEQsWUFHekIsU0FBVW5xRyxHQUVOd0MsS0FBSzQ5QyxTQUFTK3BELE9BQVNucUcsc0NBL2pCUXMyRCxJQW9rQnZDazJDLEdBQWtCdHNHLFVBQVUydEcsVUFBWXJCLEdBQWtCdHNHLFVBQVU0dEcsVXhLMWtCcEUsSUFBSTc0RSxHQUFnQixTQUFTdGUsRUFBR2pFLEdBSTVCLE9BSEF1aUIsR0FBZ0JoMUIsT0FBT2kxQixnQkFDbEIsQ0FBRTduQixVQUFXLGNBQWdCdEcsT0FBUyxTQUFVNFAsRUFBR2pFLEdBQUtpRSxFQUFFdEosVUFBWXFGLElBQ3ZFLFNBQVVpRSxFQUFHakUsR0FBSyxJQUFLLElBQUl6TSxLQUFLeU0sRUFBT0EsRUFBRWhQLGVBQWV1QyxLQUFJMFEsRUFBRTFRLEdBQUt5TSxFQUFFek0sTUFDcEQwUSxFQUFHakUsa3RDeUtnQnhCLFdBQVl3d0MsRUFBMkIxekIsR0FBdkMsV0FFVStuQyxFQUFhLElBQUlwcEMsVUFFdkIrMEIsRUFBT3p0QixZQUFhLEdBRXBCSCxFQUFBRCxZQUFNbWlDLEdBQVFDLEdBQVUsQ0FDcEJzMkMsV0FBWTdxRCxFQUFPQyxTQUNuQjZxRCxhQUFjejJDLEVBQ2QvbkMsTUFBTyxDQUFFenBCLEVBQUcsRUFBRzBKLEVBQUcsR0FDbEIwZixTQUFVLElBQUlub0IsYUFBYSxDQUFDLEVBQUcsRUFBRyxFQUFHLGFBR3BDMHdELFdBQWF4VSxFQUNsQjV0QixFQUFLaWlDLFdBQWFBLEVBRWQvbkMsTUFBQUEsSUFFQUEsRUFBUSxJQU9aOEYsRUFBSzlGLE1BQVEsSUFBSTlCLEdBQU04QixFQUFPQSxLQW1EdEMsT3pLekZPLFNBQW1CN1ksRUFBR2pFLEdBRXpCLFNBQVMwaUIsSUFBTzV5QixLQUFLRyxZQUFjZ1UsRUFEbkNzZSxHQUFjdGUsRUFBR2pFLEdBRWpCaUUsRUFBRXpXLFVBQWtCLE9BQU53UyxFQUFhelMsT0FBT21OLE9BQU9zRixJQUFNMGlCLEVBQUdsMUIsVUFBWXdTLEVBQUV4UyxVQUFXLElBQUlrMUIsR3lLQTNDRCxNQThDN0I4NEUsa0JBQVAsU0FDSXozQyxFQUFxQzc4QyxFQUFzQmIsRUFBdUIwcEMsR0FJbEZoZ0QsS0FBSzQ5QyxTQUFTNHRELGFBQWV4M0MsRUFBY3NCLHNCQUFzQnQxRCxLQUFLKzBELFdBQVkvMEQsS0FBS2sxRCxZQUN2RmwxRCxLQUFLNDlDLFNBQVM1d0IsTUFBTXpwQixFQUFJdkQsS0FBS2d0QixNQUFNenBCLEVBQ25DdkQsS0FBSzQ5QyxTQUFTNXdCLE1BQU0vZixFQUFJak4sS0FBS2d0QixNQUFNL2YsRUFHbkMsSUFBTThqQixFQUFLL3dCLEtBQUtrMUQsV0FBV3JsQyxlQUNyQjY3RSxFQUFPM25HLEtBQUtrcEIsS0FBTThELEVBQUc5Z0IsRUFBSThnQixFQUFHOWdCLEVBQU04Z0IsRUFBRzdnQixFQUFJNmdCLEVBQUc3Z0IsR0FDNUN5N0YsRUFBTzVuRyxLQUFLa3BCLEtBQU04RCxFQUFHNWdCLEVBQUk0Z0IsRUFBRzVnQixFQUFNNGdCLEVBQUc1YyxFQUFJNGMsRUFBRzVjLEdBRXJDLElBQVR1M0YsR0FBdUIsSUFBVEMsSUFFZDNyRyxLQUFLNDlDLFNBQVNqeEIsU0FBUyxHQUFLb0UsRUFBRzlnQixFQUFJeTdGLEVBQ25DMXJHLEtBQUs0OUMsU0FBU2p4QixTQUFTLEdBQUtvRSxFQUFHN2dCLEVBQUl3N0YsRUFDbkMxckcsS0FBSzQ5QyxTQUFTanhCLFNBQVMsR0FBS29FLEVBQUc1Z0IsRUFBSXc3RixFQUNuQzNyRyxLQUFLNDlDLFNBQVNqeEIsU0FBUyxHQUFLb0UsRUFBRzVjLEVBQUl3M0YsR0FJdkMzM0MsRUFBY0UsWUFBWWwwRCxLQUFNbVgsRUFBT2IsRUFBUTBwQyxJQVFuRHZpRCxzQkFBSWd1Ryx1QkFBSixXQUVJLE9BQU96ckcsS0FBSzQ5QyxTQUFTMnRELGdCQUd6QixTQUFRL3RHLEdBRUp3QyxLQUFLNDlDLFNBQVMydEQsV0FBYS90RyxzQ0FwRktzMkQsSXpLVnBDcmhDLEdBQWdCLFNBQVN0ZSxFQUFHakUsR0FJNUIsT0FIQXVpQixHQUFnQmgxQixPQUFPaTFCLGdCQUNsQixDQUFFN25CLFVBQVcsY0FBZ0J0RyxPQUFTLFNBQVU0UCxFQUFHakUsR0FBS2lFLEVBQUV0SixVQUFZcUYsSUFDdkUsU0FBVWlFLEVBQUdqRSxHQUFLLElBQUssSUFBSXpNLEtBQUt5TSxFQUFPQSxFQUFFaFAsZUFBZXVDLEtBQUkwUSxFQUFFMVEsR0FBS3lNLEVBQUV6TSxNQUNwRDBRLEVBQUdqRSxxOUswS0h4QixvQkFHSTJpQixZQUFNbWlDLEdBQVFDLFVBRXRCLE8xS0NPLFNBQW1COWdELEVBQUdqRSxHQUV6QixTQUFTMGlCLElBQU81eUIsS0FBS0csWUFBY2dVLEVBRG5Dc2UsR0FBY3RlLEVBQUdqRSxHQUVqQmlFLEVBQUV6VyxVQUFrQixPQUFOd1MsRUFBYXpTLE9BQU9tTixPQUFPc0YsSUFBTTBpQixFQUFHbDFCLFVBQVl3UyxFQUFFeFMsVUFBVyxJQUFJazFCLEcwS1huREQsU0FBQW1oQyxJMUtDNUJyaEMsR0FBZ0IsU0FBU3RlLEVBQUdqRSxHQUk1QixPQUhBdWlCLEdBQWdCaDFCLE9BQU9pMUIsZ0JBQ2xCLENBQUU3bkIsVUFBVyxjQUFnQnRHLE9BQVMsU0FBVTRQLEVBQUdqRSxHQUFLaUUsRUFBRXRKLFVBQVlxRixJQUN2RSxTQUFVaUUsRUFBR2pFLEdBQUssSUFBSyxJQUFJek0sS0FBS3lNLEVBQU9BLEVBQUVoUCxlQUFldUMsS0FBSTBRLEVBQUUxUSxHQUFLeU0sRUFBRXpNLE1BQ3BEMFEsRUFBR2pFLCt2QjJLQ3hCLFdBQVkwN0YsRUFBYUMsZ0JBQWJELG1CQUFhQyxFQUFPOW5HLEtBQUsrbkcsVUFBckMsTUFFSWo1RSxZQUFNazNFLEdBQXFCOTBDLEdBQVUsQ0FDakM4MkMsT0FBUSxFQUNSQyxNQUFPLGlCQUdYbDVFLEVBQUs4NEUsTUFBUUEsRUFDYjk0RSxFQUFLKzRFLEtBQU9BLElBaUNwQixPM0t2Q08sU0FBbUIxM0YsRUFBR2pFLEdBRXpCLFNBQVMwaUIsSUFBTzV5QixLQUFLRyxZQUFjZ1UsRUFEbkNzZSxHQUFjdGUsRUFBR2pFLEdBRWpCaUUsRUFBRXpXLFVBQWtCLE9BQU53UyxFQUFhelMsT0FBT21OLE9BQU9zRixJQUFNMGlCLEVBQUdsMUIsVUFBWXdTLEVBQUV4UyxVQUFXLElBQUlrMUIsRzJLWGxERCxNQXVCN0JsMUIsc0JBQUl3dUcseUJBQUosV0FFSSxPQUFPanNHLEtBQUs0OUMsU0FBU211RCxZQUd6QixTQUFVdnVHLEdBRU53QyxLQUFLNDlDLFNBQVNtdUQsT0FBU3Z1RyxtQ0FRM0JDLHNCQUFJd3VHLHdCQUFKLFdBRUksT0FBT2pzRyxLQUFLNDlDLFNBQVNvdUQsV0FHekIsU0FBU3h1RyxHQUVMd0MsS0FBSzQ5QyxTQUFTb3VELE1BQVF4dUcsc0NBN0NHczJELElDUDNCbzRDLEdBQWMsSUFBSXZnRixHQUV4QnVJLEdBQWN4MkIsVUFBVXl1RyxnQkFBaUIsRUFDekNqNEUsR0FBY3gyQixVQUFVMHVHLFdBQWEsS0FTckMsa0JBOEJBLE9BaEJJLFdBRUlwc0csS0FBS3FzRyxlQUFpQixLQUV0QnJzRyxLQUFLc3NHLGVBQWlCLEtBQ3RCdHNHLEtBQUt1c0cscUJBQXVCLEtBQzVCdnNHLEtBQUt3c0csd0JBQTBCLEtBQy9CeHNHLEtBQUt5c0csdUJBQXlCLEtBRTlCenNHLEtBQUswc0csd0JBQTBCLEtBQy9CMXNHLEtBQUsyc0csZ0JBQWtCLEtBQ3ZCM3NHLEtBQUs0c0csYUFBZSxLQUNwQjVzRyxLQUFLNnNHLG1CQUFxQixLQUMxQjdzRyxLQUFLOHNHLHNCQUF3QixLQUM3QjlzRyxLQUFLMGdELE9BQVMsU0FJdEJqakQsT0FBTzRzQyxpQkFBaUJuVyxHQUFjeDJCLFVBQVcsQ0FhN0NxdkcsY0FBZSxDQUNYanRFLElBQUEsV0FFSSxPQUFPOS9CLEtBQUttc0csZ0JBRWhCaGhGLElBQUEsU0FBSTN0QixHQVNBLElBQUlrUCxFQVBBMU0sS0FBS21zRyxpQkFBbUIzdUcsSUFLNUJ3QyxLQUFLbXNHLGVBQWlCM3VHLEVBSWxCQSxHQUVLd0MsS0FBS29zRyxhQUVOcHNHLEtBQUtvc0csV0FBYSxJQUFJWSxLQUcxQnRnRyxFQUFPMU0sS0FBS29zRyxZQUVQRSxlQUFpQnRzRyxLQUFLZzRCLE9BQzNCdHJCLEVBQUs2L0YscUJBQXVCdnNHLEtBQUtpdEcsYUFFakN2Z0csRUFBS2dnRyx3QkFBMEIxc0csS0FBS3UwQixnQkFDcEM3bkIsRUFBSzgvRix3QkFBMEJ4c0csS0FBSzAwQixnQkFDcENob0IsRUFBSysvRix1QkFBeUJ6c0csS0FBSzQzQixlQUVuQ2xyQixFQUFLaWdHLGdCQUFrQjNzRyxLQUFLZ29CLFFBRTVCdGIsRUFBS29nRyxzQkFBd0I5c0csS0FBSzBpQyxjQUVsQ2gyQixFQUFLa2dHLGFBQWU1c0csS0FBSzh6QixNQUN6QnBuQixFQUFLbWdHLG1CQUFxQjdzRyxLQUFLc3pCLFdBRS9CdHpCLEtBQUtnNEIsT0FBU2g0QixLQUFLa3RHLGNBQ25CbHRHLEtBQUtpdEcsYUFBZWp0RyxLQUFLbXRHLG9CQUV6Qm50RyxLQUFLZ29CLFFBQVVob0IsS0FBS290Ryx5QkFJcEIxZ0csRUFBTzFNLEtBQUtvc0csWUFFSDFyRCxRQUVMMWdELEtBQUtxdEcsOEJBR1RydEcsS0FBS2c0QixPQUFTdHJCLEVBQUs0L0YsZUFDbkJ0c0csS0FBS2l0RyxhQUFldmdHLEVBQUs2L0YscUJBQ3pCdnNHLEtBQUswMEIsZ0JBQWtCaG9CLEVBQUs4L0Ysd0JBQzVCeHNHLEtBQUs0M0IsZUFBaUJsckIsRUFBSysvRix1QkFFM0J6c0csS0FBS2dvQixRQUFVdGIsRUFBS2lnRyxnQkFFcEIzc0csS0FBS3UwQixnQkFBa0I3bkIsRUFBS2dnRyx3QkFDNUIxc0csS0FBSzBpQyxjQUFnQmgyQixFQUFLb2dHLHNCQUUxQjlzRyxLQUFLOHpCLE1BQVFwbkIsRUFBS2tnRyxhQUNsQjVzRyxLQUFLc3pCLFdBQWE1bUIsRUFBS21nRyx5QkFjdkMzNEUsR0FBY3gyQixVQUFVd3ZHLGNBQWdCLFNBQXVCcjFFLElBRXRENzNCLEtBQUtnekIsU0FBV2h6QixLQUFLbXpCLFlBQWMsSUFBTW56QixLQUFLaXpCLGFBS25EanpCLEtBQUtzdEcseUJBQXlCejFFLEdBRTlCNzNCLEtBQUtvc0csV0FBVzFyRCxPQUFPNXpCLFVBQVUyRCxTQUFXendCLEtBQUs4c0IsVUFBVTJELFNBQzNEendCLEtBQUtvc0csV0FBVzFyRCxPQUFPdnRCLFdBQWFuekIsS0FBS216QixXQUN4Q256QixLQUFLb3NHLFdBQVcxckQsT0FBZTNvQixRQUFRRixLQVc1QzNELEdBQWN4MkIsVUFBVTR2Ryx5QkFBMkIsU0FBa0N6MUUsR0FFakYsSUFBSTczQixLQUFLb3NHLGFBQWNwc0csS0FBS29zRyxXQUFXMXJELE9BQXZDLENBTUEsSUFBTTZzRCxFQUFhdnRHLEtBQUs4akIsTUFFeEI5akIsS0FBSzhqQixNQUFRLEVBR2IrVCxFQUFTSSxNQUFNQyxRQU9mLElBQU1oRyxFQUFVbHlCLEtBQW1CNDNCLGVBQWUsTUFBTSxHQUFNNmdCLFFBRzlELEdBQUl6NEMsS0FBS3V6QixRQUNULENBQ0ksSUFBTTZyQixFQUFVcC9DLEtBQUt1ekIsUUFBUSxHQUFHNnJCLFFBRWhDbHRCLEVBQU9vdEIsSUFBSUYsR0FHZmx0QixFQUFPNUksS0FBSzFoQixFQUFTRyxZQUlyQixJQUFNeWxHLEVBQXNCMzFFLEVBQVM0aUIsY0FBY2hjLFFBQzdDZ3ZFLEVBQW9CNTFFLEVBQVM0aUIsY0FBY3VELFlBQVl2RixRQUN2RGkxRCxFQUF5QjcxRSxFQUFTNGlCLGNBQWNpRCxpQkFBaUJqRixRQUNqRWsxRCxFQUE0QjkxRSxFQUFTNC9CLFdBQVczcUMsVUFNaEQydEIsRUFBZ0JaLEdBQWNqdkMsT0FBTyxDQUFFN0IsTUFBT21wQixFQUFPbnBCLE1BQU9DLE9BQVFrcEIsRUFBT2xwQixTQUUzRXFqRyxFQUFpQixpQkFBaUJobkYsS0FFeENybEIsS0FBS29zRyxXQUFXQyxlQUFpQkEsRUFFakN0K0QsR0FBWVUsV0FBV2dNLEVBQWNuUCxZQUFhK2dFLEdBQ2xEdDBELEdBQVF0SixXQUFXZ00sRUFBZTR4RCxHQUdsQyxJQUFNcDdGLEVBQUlqUixLQUFLOHNCLFVBQVVnRCxlQUFlK3dCLE9BQU9xckQsSUFBYW5yRCxTQUFTRSxXQUFXL3VCLEVBQU8zdUIsR0FBSTJ1QixFQUFPamxCLEdBR2xHak4sS0FBS2c0QixPQUFTaDRCLEtBQUtvc0csV0FBV0UsZUFFOUJ6MEUsRUFBU0csT0FBT2g0QixLQUFNeTZDLEdBQWUsRUFBTXhwQyxHQUFHLEdBRzlDNG1CLEVBQVM0L0IsV0FBVzNxQyxVQUFZNmdGLEVBQ2hDOTFFLEVBQVM0aUIsY0FBY3JnQixLQUFLb3pFLEVBQXFCQyxFQUFtQkMsR0FJcEUxdEcsS0FBS2c0QixPQUFTaDRCLEtBQUtrdEcsY0FFbkJsdEcsS0FBS3UwQixnQkFBa0J2MEIsS0FBS2kxQiw2QkFDNUJqMUIsS0FBSzAwQixnQkFBa0IxMEIsS0FBSzR0Ryx1QkFDNUI1dEcsS0FBSzQzQixlQUFpQjUzQixLQUFLNnRHLHNCQUUzQjd0RyxLQUFLOHpCLE1BQVEsS0FDYjl6QixLQUFLc3pCLFdBQWEsS0FHbEIsSUFBTXc2RSxFQUFlLElBQUkvZSxHQUFPdDBDLEdBRWhDcXpELEVBQWFoaEYsVUFBVStDLGVBQWlCN3ZCLEtBQUs4c0IsVUFBVStDLGVBQ3ZEaStFLEVBQWFqMkQsT0FBT3QwQyxHQUFNMnVCLEVBQU8zdUIsRUFBSTJ1QixFQUFPbnBCLE1BQzVDK2tHLEVBQWFqMkQsT0FBTzVxQyxHQUFNaWxCLEVBQU9qbEIsRUFBSWlsQixFQUFPbHBCLE9BQzVDOGtHLEVBQWFocUYsTUFBUXlwRixFQUNyQk8sRUFBYXI2RSxRQUFVenpCLEtBQUt5ekIsUUFFNUJ6ekIsS0FBS29zRyxXQUFXMXJELE9BQVNvdEQsRUFFekI5dEcsS0FBSzhzQixVQUFVNEQsV0FBYSxFQUV2QjF3QixLQUFLa3pCLE9BUU5sekIsS0FBS3UwQixtQkFOTHYwQixLQUFLcWpFLG1CQUNMcmpFLEtBQUt1MEIsa0JBQ0x2MEIsS0FBS3NqRSxrQkFBa0IsT0FRMUJ0akUsS0FBZ0IwaUMsY0FBZ0JvckUsRUFBYXByRSxjQUFjdEksS0FBSzB6RSxLQVdyRTU1RSxHQUFjeDJCLFVBQVV5dkcsb0JBQXNCLFNBQTZCdDFFLElBRWxFNzNCLEtBQUtnekIsU0FBV2h6QixLQUFLbXpCLFlBQWMsSUFBTW56QixLQUFLaXpCLGFBS25EanpCLEtBQUsrdEcsK0JBQStCbDJFLEdBRXBDNzNCLEtBQUtvc0csV0FBVzFyRCxPQUFPdnRCLFdBQWFuekIsS0FBS216QixXQUN4Q256QixLQUFLb3NHLFdBQVcxckQsT0FBZXN0RCxjQUFjbjJFLEtBWWxEM0QsR0FBY3gyQixVQUFVcXdHLCtCQUFpQyxTQUNyRGwyRSxHQUdBLElBQUk3M0IsS0FBS29zRyxhQUFjcHNHLEtBQUtvc0csV0FBVzFyRCxPQUF2QyxDQU1BLElBQU14dUIsRUFBVWx5QixLQUFtQjQzQixlQUFlLE1BQU0sR0FFbEQyMUUsRUFBYXZ0RyxLQUFLOGpCLE1BRXhCOWpCLEtBQUs4akIsTUFBUSxFQUViLElBQU1tcUYsRUFBcUJwMkUsRUFBUzV0QixRQUM5QjBqRyxFQUE2QjkxRSxFQUFpQnEyRSxlQUVwRGg4RSxFQUFPNUksS0FBSzFoQixFQUFTRyxZQUVyQixJQUFNMHlDLEVBQWdCWixHQUFjanZDLE9BQU8sQ0FBRTdCLE1BQU9tcEIsRUFBT25wQixNQUFPQyxPQUFRa3BCLEVBQU9scEIsU0FFM0VxakcsRUFBaUIsaUJBQWlCaG5GLEtBRXhDcmxCLEtBQUtvc0csV0FBV0MsZUFBaUJBLEVBRWpDdCtELEdBQVlVLFdBQVdnTSxFQUFjblAsWUFBYStnRSxHQUNsRHQwRCxHQUFRdEosV0FBV2dNLEVBQWU0eEQsR0FHbEMsSUFBTXA3RixFQUFJaTdGLEdBRVZsc0csS0FBSzhzQixVQUFVZ0QsZUFBZSt3QixPQUFPNXZDLEdBQ3JDQSxFQUFFOHZDLFNBRUY5dkMsRUFBRXdhLElBQU15RyxFQUFPM3VCLEVBQ2YwTixFQUFFeWEsSUFBTXdHLEVBQU9qbEIsRUFJZmpOLEtBQUtpdEcsYUFBZWp0RyxLQUFLb3NHLFdBQVdHLHFCQUVwQzEwRSxFQUFTRyxPQUFPaDRCLEtBQU15NkMsR0FBZSxFQUFNeHBDLEdBQUcsR0FFOUM0bUIsRUFBUzV0QixRQUFVZ2tHLEVBQ2xCcDJFLEVBQWlCcTJFLGVBQWlCUCxFQUVuQzN0RyxLQUFLaXRHLGFBQWVqdEcsS0FBS210RyxvQkFFekJudEcsS0FBS3UwQixnQkFBa0J2MEIsS0FBS2kxQiw2QkFDNUJqMUIsS0FBSzAwQixnQkFBa0IxMEIsS0FBSzR0Ryx1QkFDNUI1dEcsS0FBSzQzQixlQUFpQjUzQixLQUFLNnRHLHNCQUUzQjd0RyxLQUFLOHpCLE1BQVEsS0FDYjl6QixLQUFLc3pCLFdBQWEsS0FHbEIsSUFBTXc2RSxFQUFlLElBQUkvZSxHQUFPdDBDLEdBRWhDcXpELEVBQWFoaEYsVUFBVStDLGVBQWlCN3ZCLEtBQUs4c0IsVUFBVStDLGVBQ3ZEaStFLEVBQWFqMkQsT0FBT3QwQyxHQUFNMnVCLEVBQU8zdUIsRUFBSTJ1QixFQUFPbnBCLE1BQzVDK2tHLEVBQWFqMkQsT0FBTzVxQyxHQUFNaWxCLEVBQU9qbEIsRUFBSWlsQixFQUFPbHBCLE9BQzVDOGtHLEVBQWFocUYsTUFBUXlwRixFQUNyQk8sRUFBYXI2RSxRQUFVenpCLEtBQUt5ekIsUUFFNUJ6ekIsS0FBS29zRyxXQUFXMXJELE9BQVNvdEQsRUFFekI5dEcsS0FBSzhzQixVQUFVNEQsV0FBYSxFQUV2QjF3QixLQUFLa3pCLE9BUU5sekIsS0FBS3UwQixtQkFOTHYwQixLQUFLa3pCLE9BQVUyRSxFQUFpQnJELHlCQUNoQ3gwQixLQUFLdTBCLGtCQUNMdjBCLEtBQUtrekIsT0FBUyxNQVFqQmx6QixLQUFnQjBpQyxjQUFnQm9yRSxFQUFhcHJFLGNBQWN0SSxLQUFLMHpFLEtBUXJFNTVFLEdBQWN4MkIsVUFBVWt3Ryx1QkFBeUIsV0FFN0M1dEcsS0FBS3l6QixRQUFRNkQsUUFDYnQzQixLQUFLb3NHLFdBQVcxckQsT0FBTzV6QixVQUFVMkQsU0FBV3p3QixLQUFLOHNCLFVBQVUyRCxTQUMxRHp3QixLQUFLb3NHLFdBQVcxckQsT0FBZW5wQixtQkFDaEN2M0IsS0FBS3l6QixRQUFRdEMsU0FBWW54QixLQUFhMnpCLFdBUzFDTyxHQUFjeDJCLFVBQVVtd0csc0JBQXdCLFdBRTVDLE9BQU83dEcsS0FBS29zRyxXQUFXMXJELE9BQU85b0IsZUFBZSxPQVFqRDFELEdBQWN4MkIsVUFBVTJ2Ryw0QkFBOEIsV0FFbERydEcsS0FBS29zRyxXQUFXMXJELE9BQU9DLFNBQVMzNEIsU0FBUSxHQUN4Q2hvQixLQUFLb3NHLFdBQVcxckQsT0FBUyxLQUV6QjNTLEdBQVlNLGdCQUFnQnJ1QyxLQUFLb3NHLFdBQVdDLGdCQUM1Q3QwRCxHQUFRMUosZ0JBQWdCcnVDLEtBQUtvc0csV0FBV0MsZ0JBRXhDcnNHLEtBQUtvc0csV0FBV0MsZUFBaUIsTUFXckNuNEUsR0FBY3gyQixVQUFVMHZHLHNCQUF3QixTQUErQmowRixHQUUzRW5aLEtBQUsrc0csZUFBZ0IsRUFDckIvc0csS0FBS2dvQixRQUFRN08sSUMxYWpCK2EsR0FBY3gyQixVQUFVc04sS0FBTyxLQWEvQnNyQixHQUFVNTRCLFVBQVV5d0csZUFBaUIsU0FBd0JuakcsRUFBY29qRyxHQUV2RSxJQUFLLElBQUlqd0csRUFBSSxFQUFHZ08sRUFBSW5NLEtBQUtvMkIsU0FBU2g0QixPQUFRRCxFQUFJZ08sRUFBR2hPLElBRTdDLEdBQUk2QixLQUFLbzJCLFNBQVNqNEIsR0FBRzZNLE9BQVNBLEVBRTFCLE9BQU9oTCxLQUFLbzJCLFNBQVNqNEIsR0FJN0IsR0FBSWl3RyxFQUVBLElBQVNqd0csRUFBSSxFQUFHZ08sRUFBSW5NLEtBQUtvMkIsU0FBU2g0QixPQUFRRCxFQUFJZ08sRUFBR2hPLElBQ2pELENBR0ksR0FGZTZCLEtBQUtvMkIsU0FBU2o0QixHQUVsQmd3RyxlQUFYLENBS0EsSUFBTTlyRyxFQUFVckMsS0FBS28yQixTQUFTajRCLEdBQWlCZ3dHLGVBQWVuakcsR0FBTSxHQUVwRSxHQUFJM0ksRUFFQSxPQUFPQSxHQUtuQixPQUFPLE1DckNYNnhCLEdBQWN4MkIsVUFBVTJ3RyxrQkFBb0IsU0FBMkIvOEUsRUFBNEJtRCxHQVkvRixvQkFabUVuRCxNQUFtQnBHLGlCQUFTdUosTUFFM0Z6MEIsS0FBS2t6QixPQUVMbHpCLEtBQUtrekIsT0FBT2dDLFNBQVNsMUIsS0FBS2t0QixTQUFVb0UsRUFBT21ELElBSTNDbkQsRUFBTS90QixFQUFJdkQsS0FBS2t0QixTQUFTM3BCLEVBQ3hCK3RCLEVBQU1ya0IsRUFBSWpOLEtBQUtrdEIsU0FBU2pnQixHQUdyQnFrQixHOUtWWCxJQUFJbUIsR0FBZ0IsU0FBU3RlLEVBQUdqRSxHQUk1QixPQUhBdWlCLEdBQWdCaDFCLE9BQU9pMUIsZ0JBQ2xCLENBQUU3bkIsVUFBVyxjQUFnQnRHLE9BQVMsU0FBVTRQLEVBQUdqRSxHQUFLaUUsRUFBRXRKLFVBQVlxRixJQUN2RSxTQUFVaUUsRUFBR2pFLEdBQUssSUFBSyxJQUFJek0sS0FBS3lNLEVBQU9BLEVBQUVoUCxlQUFldUMsS0FBSTBRLEVBQUUxUSxHQUFLeU0sRUFBRXpNLE1BQ3BEMFEsRUFBR2pFLElBR3JCLFNBQVN5aUIsR0FBVXhlLEVBQUdqRSxHQUV6QixTQUFTMGlCLElBQU81eUIsS0FBS0csWUFBY2dVLEVBRG5Dc2UsR0FBY3RlLEVBQUdqRSxHQUVqQmlFLEVBQUV6VyxVQUFrQixPQUFOd1MsRUFBYXpTLE9BQU9tTixPQUFPc0YsSUFBTTBpQixFQUFHbDFCLFVBQVl3UyxFQUFFeFMsVUFBVyxJQUFJazFCLEcrS2VuRixJQUFNMDdFLEdBQUssUS9LekJYLElBQUk3N0UsR0FBZ0IsU0FBU3RlLEVBQUdqRSxHQUk1QixPQUhBdWlCLEdBQWdCaDFCLE9BQU9pMUIsZ0JBQ2xCLENBQUU3bkIsVUFBVyxjQUFnQnRHLE9BQVMsU0FBVTRQLEVBQUdqRSxHQUFLaUUsRUFBRXRKLFVBQVlxRixJQUN2RSxTQUFVaUUsRUFBR2pFLEdBQUssSUFBSyxJQUFJek0sS0FBS3lNLEVBQU9BLEVBQUVoUCxlQUFldUMsS0FBSTBRLEVBQUUxUSxHQUFLeU0sRUFBRXpNLE1BQ3BEMFEsRUFBR2pFLElBR3JCLFNBQVN5aUIsR0FBVXhlLEVBQUdqRSxHQUV6QixTQUFTMGlCLElBQU81eUIsS0FBS0csWUFBY2dVLEVBRG5Dc2UsR0FBY3RlLEVBQUdqRSxHQUVqQmlFLEVBQUV6VyxVQUFrQixPQUFOd1MsRUFBYXpTLE9BQU9tTixPQUFPc0YsSUFBTTBpQixFQUFHbDFCLFVBQVl3UyxFQUFFeFMsVUFBVyxJQUFJazFCLHNCZ0xqQi9FLFdBQVk3cEIsRUFBYUMsRUFBY3VsRyxFQUFlQyxnQkFBMUN6bEcsb0JBQWFDLG9CQUFjdWxHLG1CQUFlQyxNQUF0RCxNQUVJMzdFLDBCQUVBQyxFQUFLeTdFLFNBQVdBLEVBQ2hCejdFLEVBQUswN0UsVUFBWUEsRUFFakIxN0UsRUFBSy9wQixNQUFRQSxFQUNiK3BCLEVBQUs5cEIsT0FBU0EsRUFFZDhwQixFQUFLNnJELFVBc0RiLE9BdkVtQ2hzRCxRQXdCL0I4N0Usa0JBQUEsV0FhSSxJQVhBLElBQU10NkIsRUFBUW4wRSxLQUFLdXVHLFNBQVd2dUcsS0FBS3d1RyxVQUM3Qnh2QixFQUFRLEdBQ1IzaEMsRUFBTSxHQUNOK29CLEVBQVUsR0FFVnNvQyxFQUFZMXVHLEtBQUt1dUcsU0FBVyxFQUM1QkksRUFBWTN1RyxLQUFLd3VHLFVBQVksRUFFN0JJLEVBQVM1dUcsS0FBVSxNQUFJMHVHLEVBQ3ZCRyxFQUFTN3VHLEtBQVcsT0FBSTJ1RyxFQUVyQnh3RyxFQUFJLEVBQUdBLEVBQUlnMkUsRUFBT2gyRSxJQUMzQixDQUNJLElBQU1vRixFQUFLcEYsRUFBSTZCLEtBQUt1dUcsU0FDZHRoRyxFQUFNOU8sRUFBSTZCLEtBQUt1dUcsU0FBWSxFQUVqQ3Z2QixFQUFNeGdGLEtBQUsrRSxFQUFJcXJHLEVBQU8zaEcsRUFBSTRoRyxHQUMxQnh4RCxFQUFJNytDLEtBQUsrRSxFQUFJbXJHLEVBQVd6aEcsRUFBSTBoRyxHQUdoQyxJQUFNRyxFQUFXSixFQUFZQyxFQUU3QixJQUFTeHdHLEVBQUksRUFBR0EsRUFBSTJ3RyxFQUFVM3dHLElBQzlCLENBQ0ksSUFBTTR3RyxFQUFPNXdHLEVBQUl1d0csRUFDWE0sRUFBUTd3RyxFQUFJdXdHLEVBQWEsRUFFekJseEcsRUFBU3d4RyxFQUFPaHZHLEtBQUt1dUcsU0FBWVEsRUFDakNFLEVBQVVELEVBQU9odkcsS0FBS3V1RyxTQUFZUSxFQUFPLEVBQ3pDRyxHQUFXRixFQUFPLEdBQUtodkcsS0FBS3V1RyxTQUFZUSxFQUN4Q0ksR0FBV0gsRUFBTyxHQUFLaHZHLEtBQUt1dUcsU0FBWVEsRUFBTyxFQUVyRDNvQyxFQUFRNW5FLEtBQUtoQixFQUFPeXhHLEVBQVFDLEVBQ3hCRCxFQUFRRSxFQUFRRCxHQUd4Qmx2RyxLQUFLNjdDLFFBQVEsR0FBR252QyxLQUFPLElBQUlsSSxhQUFhdzZFLEdBQ3hDaC9FLEtBQUs2N0MsUUFBUSxHQUFHbnZDLEtBQU8sSUFBSWxJLGFBQWE2NEMsR0FDeENyOUMsS0FBSys3QyxZQUFZcnZDLEtBQU8sSUFBSWhJLFlBQVkwaEUsR0FHeENwbUUsS0FBSzY3QyxRQUFRLEdBQUd2Z0IsU0FDaEJ0N0IsS0FBSzY3QyxRQUFRLEdBQUd2Z0IsU0FDaEJ0N0IsS0FBSys3QyxZQUFZemdCLGFBckVVc2xFLG1CQ2lDL0IsV0FBWTczRixFQUFhcWhCLEVBQWtCZ2xGLGdCQUEvQnJtRyxvQkFBK0JxbUcsS0FBM0MsTUFFSXY4RSxZQUFNLElBQUlydUIsYUFBNkIsRUFBaEI0bEIsRUFBT2hzQixRQUMxQixJQUFJb0csYUFBNkIsRUFBaEI0bEIsRUFBT2hzQixRQUN4QixJQUFJc0csWUFBa0MsR0FBckIwbEIsRUFBT2hzQixPQUFTLGtCQU1yQzAwQixFQUFLMUksT0FBU0EsRUFPZDBJLEVBQUsyRixPQUFTMXZCLEVBT2QrcEIsRUFBS3M4RSxhQUFlQSxFQUVwQnQ4RSxFQUFLNnJELFVBbUxiLE9BOU5rQ2hzRCxRQW1EOUJsMUIsc0JBQUk0eEcseUJBQUosV0FFSSxPQUFPcnZHLEtBQUt5NEIsd0NBT1I0MkUsa0JBQVIsV0FFSSxJQUFNamxGLEVBQVNwcUIsS0FBS29xQixPQUVwQixHQUFLQSxFQUFMLENBRUEsSUFBTWt6QixFQUFldDlDLEtBQUsrL0YsVUFBVSxtQkFDOUJ4aUQsRUFBV3Y5QyxLQUFLKy9GLFVBQVUsaUJBQzFCaGtELEVBQWMvN0MsS0FBS2dnRyxXQUd6QixLQUFJNTFFLEVBQU9oc0IsT0FBUyxHQUFwQixDQU1Jay9DLEVBQWE1d0MsS0FBS3RPLE9BQVMsSUFBTWdzQixFQUFPaHNCLFNBRXhDay9DLEVBQWE1d0MsS0FBTyxJQUFJbEksYUFBNkIsRUFBaEI0bEIsRUFBT2hzQixRQUM1Q20vQyxFQUFTN3dDLEtBQU8sSUFBSWxJLGFBQTZCLEVBQWhCNGxCLEVBQU9oc0IsUUFDeEMyOUMsRUFBWXJ2QyxLQUFPLElBQUloSSxZQUFrQyxHQUFyQjBsQixFQUFPaHNCLE9BQVMsS0FHeEQsSUFBTWkvQyxFQUFNRSxFQUFTN3dDLEtBQ2YwNUQsRUFBVXJxQixFQUFZcnZDLEtBRTVCMndDLEVBQUksR0FBSyxFQUNUQSxFQUFJLEdBQUssRUFDVEEsRUFBSSxHQUFLLEVBQ1RBLEVBQUksR0FBSyxFQU9ULElBTEEsSUFBSW8vQixFQUFTLEVBQ1RodkUsRUFBTzJjLEVBQU8sR0FDWm01RSxFQUFldmpHLEtBQUt5NEIsT0FBU3o0QixLQUFLb3ZHLGFBQ2xDajdCLEVBQVEvcEQsRUFBT2hzQixPQUVaRCxFQUFJLEVBQUdBLEVBQUlnMkUsRUFBT2gyRSxJQUMzQixDQUVJLElBQU0wQyxFQUFZLEVBQUoxQyxFQUVkLEdBQUk2QixLQUFLb3ZHLGFBQWUsRUFDeEIsQ0FFSSxJQUFNemxGLEVBQUtsYyxFQUFLbEssRUFBSTZtQixFQUFPanNCLEdBQUdvRixFQUN4QnFtQixFQUFLbmMsRUFBS1IsRUFBSW1kLEVBQU9qc0IsR0FBRzhPLEVBQ3hCcWlHLEVBQVd2ckcsS0FBS2twQixLQUFNdEQsRUFBS0EsRUFBT0MsRUFBS0EsR0FFN0NuYyxFQUFPMmMsRUFBT2pzQixHQUNkcytFLEdBQVU2eUIsRUFBVy9MLE9BS3JCOW1CLEVBQVN0K0UsR0FBS2cyRSxFQUFRLEdBRzFCOTJCLEVBQUl4OEMsR0FBUzQ3RSxFQUNicC9CLEVBQUl4OEMsRUFBUSxHQUFLLEVBRWpCdzhDLEVBQUl4OEMsRUFBUSxHQUFLNDdFLEVBQ2pCcC9CLEVBQUl4OEMsRUFBUSxHQUFLLEVBR3JCLElBQUlraUYsRUFBYSxFQUVqQixJQUFTNWtGLEVBQUksRUFBR0EsRUFBSWcyRSxFQUFRLEVBQUdoMkUsSUFDL0IsQ0FDVTBDLEVBQVksRUFBSjFDLEVBRWRpb0UsRUFBUTJjLEtBQWdCbGlGLEVBQ3hCdWxFLEVBQVEyYyxLQUFnQmxpRixFQUFRLEVBQ2hDdWxFLEVBQVEyYyxLQUFnQmxpRixFQUFRLEVBRWhDdWxFLEVBQVEyYyxLQUFnQmxpRixFQUFRLEVBQ2hDdWxFLEVBQVEyYyxLQUFnQmxpRixFQUFRLEVBQ2hDdWxFLEVBQVEyYyxLQUFnQmxpRixFQUFRLEVBSXBDMDhDLEVBQVNqaUIsU0FDVHlnQixFQUFZemdCLFNBRVp0N0IsS0FBS3V2RyxvQkFNRkYsMkJBQVAsV0FFSSxJQUFNamxGLEVBQVNwcUIsS0FBS29xQixPQUVwQixLQUFJQSxFQUFPaHNCLE9BQVMsR0FBcEIsQ0FhQSxJQVJBLElBQ0lveEcsRUFEQTdzQixFQUFZdjRELEVBQU8sR0FFbkJxbEYsRUFBUSxFQUNSQyxFQUFRLEVBRU4zN0YsRUFBVy9ULEtBQUs2N0MsUUFBUSxHQUFHbnZDLEtBQzNCeW5FLEVBQVEvcEQsRUFBT2hzQixPQUVaRCxFQUFJLEVBQUdBLEVBQUlnMkUsRUFBT2gyRSxJQUMzQixDQUNJLElBQU1tekIsRUFBUWxILEVBQU9qc0IsR0FDZjBDLEVBQVksRUFBSjFDLEVBV2R1eEcsS0FQSUYsRUFGQXJ4RyxFQUFJaXNCLEVBQU9oc0IsT0FBUyxFQUVSZ3NCLEVBQU9qc0IsRUFBSSxHQUlYbXpCLEdBR0kvdEIsRUFBSW8vRSxFQUFVcC9FLEdBQ2xDa3NHLEVBQVFELEVBQVV2aUcsRUFBSTAxRSxFQUFVMTFFLEVBU2hDLElBQU0waUcsRUFBYTVyRyxLQUFLa3BCLEtBQU13aUYsRUFBUUEsRUFBVUMsRUFBUUEsR0FDbERyOEYsRUFBTXJULEtBQUtvdkcsYUFBZSxFQUFJcHZHLEtBQUtvdkcsYUFBZXB2RyxLQUFLeTRCLE9BQVMsRUFBSXo0QixLQUFLeTRCLE9BQVMsRUFFeEZnM0UsR0FBU0UsRUFDVEQsR0FBU0MsRUFFVEYsR0FBU3A4RixFQUNUcThGLEdBQVNyOEYsRUFFVFUsRUFBU2xULEdBQVN5d0IsRUFBTS90QixFQUFJa3NHLEVBQzVCMTdGLEVBQVNsVCxFQUFRLEdBQUt5d0IsRUFBTXJrQixFQUFJeWlHLEVBQ2hDMzdGLEVBQVNsVCxFQUFRLEdBQUt5d0IsRUFBTS90QixFQUFJa3NHLEVBQ2hDMTdGLEVBQVNsVCxFQUFRLEdBQUt5d0IsRUFBTXJrQixFQUFJeWlHLEVBRWhDL3NCLEVBQVlyeEQsRUFHaEJ0eEIsS0FBSzY3QyxRQUFRLEdBQUd2Z0IsV0FHYit6RSxtQkFBUCxXQUVRcnZHLEtBQUtvdkcsYUFBZSxFQUVwQnB2RyxLQUFLMitFLFFBSUwzK0UsS0FBS3V2RyxxQkEzTmlCM08sbUJDZTlCLFdBQVlueEQsRUFBa0JybEIsRUFBa0JnbEYsZ0JBQUFBLEtBQWhELFdBRVVRLEVBQWUsSUFBSVAsR0FBYTUvRCxFQUFRem1DLE9BQVFvaEIsRUFBUWdsRixHQUN4RFMsRUFBZSxJQUFJdFAsR0FBYTl3RCxVQUVsQzIvRCxFQUFlLElBR2YzL0QsRUFBUW5FLFlBQVl1QixTQUFXbHNCLGFBQVcwb0UsU0FFOUN2MkQsRUFBQUQsWUFBTSs4RSxFQUFjQyxVQU9maDdELFlBQWEsSUFlMUIsT0EzQ2dDbGlCLFFBK0I1Qm05RSxvQkFBQSxTQUFRajRFLEdBRUosSUFBTThrQixFQUF5QjM4QyxLQUFLMjhDLFVBRWhDMzhDLEtBQUs2MEMsWUFBYzhILEVBQVNsa0IsU0FBV3o0QixLQUFLcWdELE9BQU81USxRQUFRem1DLFVBRTNEMnpDLEVBQVNsa0IsT0FBU3o0QixLQUFLcWdELE9BQU81USxRQUFRem1DLE9BQ3RDMnpDLEVBQVNyaEIsVUFHYnpJLFlBQU1rRixrQkFBUUYsT0F6Q1UwbkUsbUJDUzVCLFdBQVk5dkQsRUFBa0JzZ0UsRUFBbUJDLEdBQWpELFdBRVVDLEVBQWdCLElBQUl4QixHQUFjaC9ELEVBQVExbUMsTUFBTzBtQyxFQUFRem1DLE9BQVErbUcsRUFBV0MsR0FDNUVILEVBQWUsSUFBSXRQLEdBQWF4b0QsR0FBUXFCLGNBRTlDdG1CLEVBQUFELFlBQU1vOUUsRUFBZUosVUFHaEJwZ0UsUUFBVUEsSUErRHZCLE9BaEZpQzljLFFBd0J0QnU5RSwyQkFBUCxXQUVJbHdHLEtBQUt3MEQsV0FBYXgwRCxLQUFLcWdELE9BQU81USxRQUFRNEksVUFFdEMsSUFBTXNFLEVBQTBCMzhDLEtBQUsyOEMsU0FFckNBLEVBQVM1ekMsTUFBUS9JLEtBQUtxZ0QsT0FBTzVRLFFBQVExbUMsTUFDckM0ekMsRUFBUzN6QyxPQUFTaEosS0FBS3FnRCxPQUFPNVEsUUFBUXptQyxPQUV0QzJ6QyxFQUFTZ2lDLFNBR2JsaEYsc0JBQUl5eUcsMkJBd0JKLFdBRUksT0FBT2x3RyxLQUFLcWdELE9BQU81USxhQTFCdkIsU0FBWWp5QyxHQU1Kd0MsS0FBS3FnRCxPQUFPNVEsVUFBWWp5QyxJQUs1QndDLEtBQUtxZ0QsT0FBTzVRLFFBQVVqeUMsRUFDdEJ3QyxLQUFLdzBELFlBQWMsRUFFZmgzRCxFQUFNOHRDLFlBQVltQyxNQUVsQnp0QyxLQUFLbXdHLGlCQUlMM3lHLEVBQU0wTSxLQUFLLFNBQVVsSyxLQUFLbXdHLGVBQWdCbndHLHdDQVNsRGt3RyxvQkFBQSxTQUFRcjRFLEdBRUE3M0IsS0FBS3cwRCxhQUFleDBELEtBQUtxZ0QsT0FBTzVRLFFBQVE0SSxXQUV4Q3I0QyxLQUFLbXdHLGlCQUdUdDlFLFlBQU1rRixrQkFBUUYsSUFHWHE0RSxvQkFBUCxTQUFlLzJGLEdBRVhuWixLQUFLcWdELE9BQU81USxRQUFRbmpDLElBQUksU0FBVXRNLEtBQUttd0csZUFBZ0Jud0csTUFDdkQ2eUIsWUFBTTdLLGtCQUFRN08sT0E5RVdvbUYsbUJDRzdCLFdBQ0k5dkQsRUFDQTE3QixFQUNBc3BDLEVBQ0Erb0IsRUFDQWdrQixnQkFKQTM2QyxFQUFVc0ksR0FBUTFtQixPQUR0QixXQVFVc3JCLEVBQVcsSUFBSWlrRCxHQUFhN3NGLEVBQVVzcEMsRUFBSytvQixHQUVqRHpwQixFQUFTb2pELFVBQVUsbUJBQW1CeGtELFFBQVMsRUFFL0MsSUFBTXMwRCxFQUFlLElBQUl0UCxHQUFhOXdELFVBRXRDM2MsRUFBQUQsWUFBTThwQixFQUFVa3pELEVBQWMsS0FBTXpsQixVQU0vQnYxQyxZQUFhLElBeUIxQixPQXhEZ0NsaUIsUUFzQzVCbDFCLHNCQUFJMnlHLDRCQUFKLFdBRUksT0FBT3B3RyxLQUFLMjhDLFNBQVNvakQsVUFBVSxtQkFBbUJyekYsVUFFdEQsU0FBYWxQLEdBRVR3QyxLQUFLMjhDLFNBQVNvakQsVUFBVSxtQkFBbUJyekYsS0FBT2xQLG1DQUd0RDR5RyxvQkFBQSxTQUFRdjRFLEdBRUE3M0IsS0FBSzYwQyxZQUVMNzBDLEtBQUsyOEMsU0FBU29qRCxVQUFVLG1CQUFtQnprRSxTQUcvQ3pJLFlBQU1rRixrQkFBUUYsT0F0RFUwbkUsSUNUMUI4USxHQUFzQixrQkFvRHhCLFdBQ0k1Z0UsRUFDQTZnRSxFQUNBQyxFQUNBQyxFQUNBQyxnQkFIQUgsbUJBQ0FDLG1CQUNBQyxtQkFDQUMsTUFMSixNQVFJNTlFLFlBQU1rbEIsR0FBUXFCLE1BQU8sRUFBRyxnQkFFeEJ0bUIsRUFBSzQ5RSxXQUFhamhFLEVBQVFtSSxLQUFLN3VDLE1BQy9CK3BCLEVBQUs2OUUsWUFBY2xoRSxFQUFRbUksS0FBSzV1QyxPQVFoQzhwQixFQUFLMkYsT0FBUzNGLEVBQUs0OUUsV0FRbkI1OUUsRUFBSzRGLFFBQVU1RixFQUFLNjlFLFlBUXBCNzlFLEVBQUs4OUUsV0FBYU4sRUFRbEJ4OUUsRUFBSys5RSxZQUFjTCxFQVFuQjE5RSxFQUFLZytFLFdBQWFQLEVBUWxCejlFLEVBQUtpK0UsY0FBZ0JOLEVBR3JCMzlFLEVBQUsyYyxRQUFVQSxJQW1NdkIsT0FqUm9DOWMsUUFpRnpCcStFLDJCQUFQLFdBRUloeEcsS0FBS3cwRCxXQUFheDBELEtBQUtxZ0QsT0FBTzVRLFFBQVE0SSxVQUN0Q3I0QyxLQUFLaXhHLFlBR1R4ekcsc0JBQUl1ekcsNEJBQUosV0FFSSxPQUFPaHhHLEtBQUsyOEMsU0FBU29qRCxVQUFVLG1CQUFtQnJ6RixVQUd0RCxTQUFhbFAsR0FFVHdDLEtBQUsyOEMsU0FBU29qRCxVQUFVLG1CQUFtQnJ6RixLQUFPbFAsbUNBTy9Dd3pHLHFDQUFQLFdBRUksSUFBTWo5RixFQUFXL1QsS0FBSytULFNBRWhCaVosRUFBUWh0QixLQUFLa3hHLGVBRW5CbjlGLEVBQVMsR0FBS0EsRUFBUyxJQUFNQSxFQUFTLElBQU1BLEVBQVMsSUFBTS9ULEtBQUs4d0csV0FBYTlqRixFQUM3RWpaLEVBQVMsSUFBTUEsRUFBUyxJQUFNQSxFQUFTLElBQU1BLEVBQVMsSUFBTS9ULEtBQUswNEIsUUFBVzE0QixLQUFLK3dHLGNBQWdCL2pGLEVBQ2pHalosRUFBUyxJQUFNQSxFQUFTLElBQU1BLEVBQVMsSUFBTUEsRUFBUyxJQUFNL1QsS0FBSzA0QixTQU85RHM0RSxtQ0FBUCxXQUVJLElBQU1qOUYsRUFBVy9ULEtBQUsrVCxTQUVoQmlaLEVBQVFodEIsS0FBS2t4RyxlQUVuQm45RixFQUFTLEdBQUtBLEVBQVMsSUFBTUEsRUFBUyxJQUFNQSxFQUFTLElBQU0vVCxLQUFLNHdHLFdBQWE1akYsRUFDN0VqWixFQUFTLEdBQUtBLEVBQVMsSUFBTUEsRUFBUyxJQUFNQSxFQUFTLElBQU0vVCxLQUFLeTRCLE9BQVV6NEIsS0FBSzZ3RyxZQUFjN2pGLEVBQzdGalosRUFBUyxHQUFLQSxFQUFTLElBQU1BLEVBQVMsSUFBTUEsRUFBUyxJQUFNL1QsS0FBS3k0QixRQVM1RHU0RSx5QkFBUixXQUVJLElBQU16NUYsRUFBSXZYLEtBQUs0d0csV0FBYTV3RyxLQUFLNndHLFlBQzNCTSxFQUFTbnhHLEtBQUt5NEIsT0FBU2xoQixFQUFJLEVBQU12WCxLQUFLeTRCLE9BQVNsaEIsRUFFL0NnSCxFQUFJdmUsS0FBSzh3RyxXQUFhOXdHLEtBQUsrd0csY0FDM0JLLEVBQVNweEcsS0FBSzA0QixRQUFVbmEsRUFBSSxFQUFNdmUsS0FBSzA0QixRQUFVbmEsRUFJdkQsT0FGY3hhLEtBQUtxUCxJQUFJKzlGLEVBQVFDLElBVW5DM3pHLHNCQUFJdXpHLHlCQUFKLFdBRUksT0FBT2h4RyxLQUFLeTRCLFlBR2hCLFNBQVVqN0IsR0FFTndDLEtBQUt5NEIsT0FBU2o3QixFQUNkd0MsS0FBS2l4Ryw0Q0FRVHh6RyxzQkFBSXV6RywwQkFBSixXQUVJLE9BQU9oeEcsS0FBSzA0QixhQUdoQixTQUFXbDdCLEdBRVB3QyxLQUFLMDRCLFFBQVVsN0IsRUFDZndDLEtBQUtpeEcsNENBUVR4ekcsc0JBQUl1ekcsNkJBQUosV0FFSSxPQUFPaHhHLEtBQUs0d0csZ0JBR2hCLFNBQWNwekcsR0FFVndDLEtBQUs0d0csV0FBYXB6RyxFQUNsQndDLEtBQUtpeEcsNENBUVR4ekcsc0JBQUl1ekcsOEJBQUosV0FFSSxPQUFPaHhHLEtBQUs2d0csaUJBR2hCLFNBQWVyekcsR0FFWHdDLEtBQUs2d0csWUFBY3J6RyxFQUNuQndDLEtBQUtpeEcsNENBUVR4ekcsc0JBQUl1ekcsNkJBQUosV0FFSSxPQUFPaHhHLEtBQUs4d0csZ0JBR2hCLFNBQWN0ekcsR0FFVndDLEtBQUs4d0csV0FBYXR6RyxFQUNsQndDLEtBQUtpeEcsNENBUVR4ekcsc0JBQUl1ekcsZ0NBQUosV0FFSSxPQUFPaHhHLEtBQUsrd0csbUJBR2hCLFNBQWlCdnpHLEdBRWJ3QyxLQUFLK3dHLGNBQWdCdnpHLEVBQ3JCd0MsS0FBS2l4Ryw0Q0FNREQscUJBQVIsV0FFSSxJQUFNdmhFLEVBQVV6dkMsS0FBS3l2QyxRQUVmNE4sRUFBTXI5QyxLQUFLMjhDLFNBQVNkLFFBQVEsR0FBR252QyxLQUVyQzFNLEtBQUswd0csV0FBYWpoRSxFQUFRbUksS0FBSzd1QyxNQUMvQi9JLEtBQUsyd0csWUFBY2xoRSxFQUFRbUksS0FBSzV1QyxPQUVoQyxJQUFNcW9HLEVBQU8sRUFBTXJ4RyxLQUFLMHdHLFdBQ2xCWSxFQUFPLEVBQU10eEcsS0FBSzJ3RyxZQUV4QnR6RCxFQUFJLEdBQUtBLEVBQUksR0FBS0EsRUFBSSxJQUFNQSxFQUFJLElBQU0sRUFDdENBLEVBQUksR0FBS0EsRUFBSSxHQUFLQSxFQUFJLEdBQUtBLEVBQUksR0FBSyxFQUNwQ0EsRUFBSSxHQUFLQSxFQUFJLElBQU1BLEVBQUksSUFBTUEsRUFBSSxJQUFNLEVBQ3ZDQSxFQUFJLElBQU1BLEVBQUksSUFBTUEsRUFBSSxJQUFNQSxFQUFJLElBQU0sRUFFeENBLEVBQUksR0FBS0EsRUFBSSxJQUFNQSxFQUFJLElBQU1BLEVBQUksSUFBTWcwRCxFQUFPcnhHLEtBQUs0d0csV0FDbkR2ekQsRUFBSSxHQUFLQSxFQUFJLElBQU1BLEVBQUksSUFBTUEsRUFBSSxJQUFNLEVBQUtnMEQsRUFBT3J4RyxLQUFLNndHLFlBQ3hEeHpELEVBQUksR0FBS0EsRUFBSSxJQUFNQSxFQUFJLElBQU1BLEVBQUksSUFBTWkwRCxFQUFPdHhHLEtBQUs4d0csV0FDbkR6ekQsRUFBSSxJQUFNQSxFQUFJLElBQU1BLEVBQUksSUFBTUEsRUFBSSxJQUFNLEVBQUtpMEQsRUFBT3R4RyxLQUFLK3dHLGNBRXpEL3dHLEtBQUt1eEcsMkJBQ0x2eEcsS0FBS3d4Ryx5QkFFTHh4RyxLQUFLMjhDLFNBQVNkLFFBQVEsR0FBR3ZnQixTQUN6QnQ3QixLQUFLMjhDLFNBQVNkLFFBQVEsR0FBR3ZnQixhQS9RRzQwRSxJckx6QmhDejlFLEdBQWdCLFNBQVN0ZSxFQUFHakUsR0FJNUIsT0FIQXVpQixHQUFnQmgxQixPQUFPaTFCLGdCQUNsQixDQUFFN25CLFVBQVcsY0FBZ0J0RyxPQUFTLFNBQVU0UCxFQUFHakUsR0FBS2lFLEVBQUV0SixVQUFZcUYsSUFDdkUsU0FBVWlFLEVBQUdqRSxHQUFLLElBQUssSUFBSXpNLEtBQUt5TSxFQUFPQSxFQUFFaFAsZUFBZXVDLEtBQUkwUSxFQUFFMVEsR0FBS3lNLEVBQUV6TSxNQUNwRDBRLEVBQUdqRSx1QnNMd0N4QixXQUFZNnFDLEVBQW1DbEcsZ0JBQUFBLE1BQS9DLE1BRUloaUIsWUFBTWtvQixFQUFTLGFBQWNoRCxHQUFVZ0QsRUFBUyxHQUFLQSxFQUFTLEdBQUd0TCxzQkFNakUzYyxFQUFLcW5FLFVBQVksS0FNakJybkUsRUFBSzIrRSxXQUFhLEtBU2xCMytFLEVBQUs4Z0IsWUFBY2lCLEVBU25CL2hCLEVBQUsrZ0Isc0JBQXVCLEVBUTVCL2dCLEVBQUs0K0UsZUFBaUIsRUFRdEI1K0UsRUFBSzYrRSxNQUFPLEVBY1o3K0UsRUFBSzgrRSxjQUFlLEVBV3BCOStFLEVBQUtvK0MsV0FBYSxLQVdsQnArQyxFQUFLKytFLGNBQWdCLEtBWXJCLytFLEVBQUtnL0UsT0FBUyxLQVFkaC9FLEVBQUtpL0UsYUFBZSxFQUVwQmovRSxFQUFLay9FLFVBQVcsRUFRaEJsL0UsRUFBS20vRSxlQUFpQixLQUV0Qm4vRSxFQUFLaW9CLFNBQVdBLElBaVd4QixPdEwxZk8sU0FBbUI1bUMsRUFBR2pFLEdBRXpCLFNBQVMwaUIsSUFBTzV5QixLQUFLRyxZQUFjZ1UsRUFEbkNzZSxHQUFjdGUsRUFBR2pFLEdBRWpCaUUsRUFBRXpXLFVBQWtCLE9BQU53UyxFQUFhelMsT0FBT21OLE9BQU9zRixJQUFNMGlCLEVBQUdsMUIsVUFBWXdTLEVBQUV4UyxVQUFXLElBQUlrMUIsR3NMWS9DRCxNQWlKekJ1L0UsaUJBQVAsV0FFU2x5RyxLQUFLZ3lHLFdBS1ZoeUcsS0FBS2d5RyxVQUFXLEVBQ1poeUcsS0FBSzR6QyxhQUFlNXpDLEtBQUs2ekMsdUJBRXpCdlYsR0FBT2UsT0FBT08sT0FBTzUvQixLQUFLczdCLE9BQVF0N0IsTUFDbENBLEtBQUs2ekMsc0JBQXVCLEtBUTdCcStELGlCQUFQLFdBRVFseUcsS0FBS2d5RyxXQUtUaHlHLEtBQUtneUcsVUFBVyxFQUNaaHlHLEtBQUs0ekMsY0FBZ0I1ekMsS0FBSzZ6Qyx1QkFFMUJ2VixHQUFPZSxPQUFPalEsSUFBSXB2QixLQUFLczdCLE9BQVF0N0IsS0FBTXc1QixrQkFBZ0I0MEIsTUFDckRwdUQsS0FBSzZ6QyxzQkFBdUIsS0FTN0JxK0Qsd0JBQVAsU0FBbUJDLEdBRWZueUcsS0FBSzRQLE9BRUwsSUFBTXdpRyxFQUFnQnB5RyxLQUFLcXlHLGFBRTNCcnlHLEtBQUsreEcsYUFBZUksRUFFaEJDLElBQWtCcHlHLEtBQUtxeUcsY0FFdkJyeUcsS0FBS3VnRSxpQkFTTjJ4Qyx3QkFBUCxTQUFtQkMsR0FFZixJQUFNQyxFQUFnQnB5RyxLQUFLcXlHLGFBRTNCcnlHLEtBQUsreEcsYUFBZUksRUFFaEJDLElBQWtCcHlHLEtBQUtxeUcsY0FFdkJyeUcsS0FBS3VnRSxnQkFHVHZnRSxLQUFLKzBDLFFBUVRtOUQsbUJBQUEsU0FBTzUwRSxHQUVILEdBQUt0OUIsS0FBS2d5RyxTQUFWLENBS0EsSUFBTU0sRUFBVXR5RyxLQUFLMHhHLGVBQWlCcDBFLEVBQ2hDODBFLEVBQWdCcHlHLEtBQUtxeUcsYUFFM0IsR0FBd0IsT0FBcEJyeUcsS0FBS3l4RyxXQUNULENBQ0ksSUFBSWMsRUFBTXZ5RyxLQUFLK3hHLGFBQWUsRUFBSS94RyxLQUFLeXhHLFdBQVd6eEcsS0FBS3F5RyxjQUl2RCxJQUZBRSxHQUFPRCxFQUFVLEdBQUssSUFFZkMsRUFBTSxHQUVUdnlHLEtBQUsreEcsZUFDTFEsR0FBT3Z5RyxLQUFLeXhHLFdBQVd6eEcsS0FBS3F5RyxjQUdoQyxJQUFNcnVHLEVBQU9ELEtBQUtDLEtBQUtoRSxLQUFLMHhHLGVBQWlCcDBFLEdBSTdDLElBRkF0OUIsS0FBSyt4RyxhQUFlaHVHLEtBQUtNLE1BQU1yRSxLQUFLK3hHLGNBRTdCUSxHQUFPdnlHLEtBQUt5eEcsV0FBV3p4RyxLQUFLcXlHLGVBRS9CRSxHQUFPdnlHLEtBQUt5eEcsV0FBV3p4RyxLQUFLcXlHLGNBQWdCcnVHLEVBQzVDaEUsS0FBSyt4RyxjQUFnQi90RyxFQUd6QmhFLEtBQUsreEcsY0FBZ0JRLEVBQU12eUcsS0FBS3l4RyxXQUFXenhHLEtBQUtxeUcsbUJBSWhEcnlHLEtBQUsreEcsY0FBZ0JPLEVBR3JCdHlHLEtBQUsreEcsYUFBZSxJQUFNL3hHLEtBQUsyeEcsTUFFL0IzeEcsS0FBS3d5RyxZQUFZLEdBRWJ4eUcsS0FBS2t4RSxZQUVMbHhFLEtBQUtreEUsY0FHSmx4RSxLQUFLK3hHLGNBQWdCL3hHLEtBQUttNkYsVUFBVS83RixTQUFXNEIsS0FBSzJ4RyxNQUV6RDN4RyxLQUFLd3lHLFlBQVl4eUcsS0FBS202RixVQUFVLzdGLE9BQVMsR0FFckM0QixLQUFLa3hFLFlBRUxseEUsS0FBS2t4RSxjQUdKa2hDLElBQWtCcHlHLEtBQUtxeUcsZUFFeEJyeUcsS0FBSzJ4RyxNQUFRM3hHLEtBQUs4eEcsU0FFZDl4RyxLQUFLMHhHLGVBQWlCLEdBQUsxeEcsS0FBS3F5RyxhQUFlRCxFQUUvQ3B5RyxLQUFLOHhHLFNBRUE5eEcsS0FBSzB4RyxlQUFpQixHQUFLMXhHLEtBQUtxeUcsYUFBZUQsR0FFcERweUcsS0FBSzh4RyxVQUliOXhHLEtBQUt1Z0UsbUJBU0wyeEMsMEJBQVIsV0FFSSxJQUFNRyxFQUFlcnlHLEtBQUtxeUcsYUFFdEJyeUcsS0FBS2l5RyxpQkFBbUJJLElBSzVCcnlHLEtBQUtpeUcsZUFBaUJJLEVBRXRCcnlHLEtBQUsyZ0QsU0FBVzNnRCxLQUFLbTZGLFVBQVVrWSxHQUMvQnJ5RyxLQUFLdzBELFlBQWMsRUFDbkJ4MEQsS0FBSzZ1RixtQkFBcUIsRUFDMUI3dUYsS0FBSzB1RixZQUFjLFNBQ25CMXVGLEtBQUtxOUMsSUFBTXI5QyxLQUFLMmdELFNBQVMxSSxLQUFLakIsV0FFMUJoM0MsS0FBSzR4RyxjQUVMNXhHLEtBQUt3dUYsUUFBUTE0RCxTQUFTOTFCLEtBQUsyZ0QsU0FBU3ZJLGVBR3BDcDRDLEtBQUs2eEcsZUFFTDd4RyxLQUFLNnhHLGNBQWM3eEcsS0FBS3F5RyxnQkFjekJILG9CQUFQLFNBQWUvNEYsR0FFWG5aLEtBQUs0UCxPQUNMaWpCLFlBQU03SyxrQkFBUTdPLEdBRWRuWixLQUFLa3hFLFdBQWEsS0FDbEJseEUsS0FBSzZ4RyxjQUFnQixLQUNyQjd4RyxLQUFLOHhHLE9BQVMsTUFVSkksYUFBZCxTQUF5QnpWLEdBSXJCLElBRkEsSUFBTTFoRCxFQUFXLEdBRVI1OEMsRUFBSSxFQUFHQSxFQUFJcytGLEVBQU9yK0YsU0FBVUQsRUFFakM0OEMsRUFBU3Y4QyxLQUFLdTVDLEdBQVF4MUMsS0FBS2s2RixFQUFPdCtGLEtBR3RDLE9BQU8sSUFBSSt6RyxFQUFlbjNELElBVWhCbTNELGFBQWQsU0FBeUJPLEdBSXJCLElBRkEsSUFBTTEzRCxFQUFXLEdBRVI1OEMsRUFBSSxFQUFHQSxFQUFJczBHLEVBQU9yMEcsU0FBVUQsRUFFakM0OEMsRUFBU3Y4QyxLQUFLdTVDLEdBQVF4MUMsS0FBS2t3RyxFQUFPdDBHLEtBR3RDLE9BQU8sSUFBSSt6RyxFQUFlbjNELElBVzlCdDlDLHNCQUFJeTBHLCtCQUFKLFdBRUksT0FBT2x5RyxLQUFLbTZGLFVBQVUvN0Ysd0NBUTFCWCxzQkFBSXkwRyw0QkFBSixXQUVJLE9BQU9seUcsS0FBS202RixlQUdoQixTQUFhMzhGLEdBRVQsR0FBSUEsRUFBTSxhQUFjdTZDLEdBRXBCLzNDLEtBQUttNkYsVUFBWTM4RixFQUNqQndDLEtBQUt5eEcsV0FBYSxTQUd0QixDQUNJenhHLEtBQUttNkYsVUFBWSxHQUNqQm42RixLQUFLeXhHLFdBQWEsR0FFbEIsSUFBSyxJQUFJdHpHLEVBQUksRUFBR0EsRUFBSVgsRUFBTVksT0FBUUQsSUFFOUI2QixLQUFLbTZGLFVBQVUzN0YsS0FBTWhCLEVBQU1XLEdBQW1Cc3hDLFNBQzlDenZDLEtBQUt5eEcsV0FBV2p6RyxLQUFNaEIsRUFBTVcsR0FBbUJrZ0MsTUFHdkRyK0IsS0FBS2l5RyxlQUFpQixLQUN0Qmp5RyxLQUFLd3lHLFlBQVksR0FDakJ4eUcsS0FBS3VnRSxpREFTVDlpRSxzQkFBSXkwRyxnQ0FBSixXQUVJLElBQUlHLEVBQWV0dUcsS0FBS00sTUFBTXJFLEtBQUsreEcsY0FBZ0IveEcsS0FBS202RixVQUFVLzdGLE9BT2xFLE9BTElpMEcsRUFBZSxJQUVmQSxHQUFnQnJ5RyxLQUFLbTZGLFVBQVUvN0YsUUFHNUJpMEcsbUNBU1g1MEcsc0JBQUl5MEcsMkJBQUosV0FFSSxPQUFPbHlHLEtBQUtneUcsMENBUWhCdjBHLHNCQUFJeTBHLDhCQUFKLFdBRUksT0FBT2x5RyxLQUFLNHpDLGlCQUdoQixTQUFlcDJDLEdBRVBBLElBQVV3QyxLQUFLNHpDLGNBRWY1ekMsS0FBSzR6QyxZQUFjcDJDLEdBRWR3QyxLQUFLNHpDLGFBQWU1ekMsS0FBSzZ6QyxzQkFFMUJ2VixHQUFPZSxPQUFPTyxPQUFPNS9CLEtBQUtzN0IsT0FBUXQ3QixNQUNsQ0EsS0FBSzZ6QyxzQkFBdUIsR0FFdkI3ekMsS0FBSzR6QyxjQUFnQjV6QyxLQUFLNnpDLHNCQUF3Qjd6QyxLQUFLZ3lHLFdBRTVEMXpFLEdBQU9lLE9BQU9qUSxJQUFJcHZCLEtBQUtzN0IsT0FBUXQ3QixNQUMvQkEsS0FBSzZ6QyxzQkFBdUIsd0NBdmVSazdDLElDUHBDbHNCLEdBQVN5SCxlQUFlLGdCQUFpQjN2QyxJQUN6Q2tvQyxHQUFTeUgsZUFBZSxVQUFXRyxJQUNuQzVILEdBQVN5SCxlQUFlLGNBQWVqbEMsSUFDdkN3OUIsR0FBU3lILGVBQWUsV0FBWXlTLElBQ3BDbGEsR0FBU3lILGVBQWUsVUFBV29vQyxJQUNuQzd2QyxHQUFTeUgsZUFBZSxRQUFTakIsSUFDakN4RyxHQUFTeUgsZUFBZSxlQUFnQm0wQixPQUVqQ24wQixlQUFlNjhCLE9BQ2Y3OEIsZUFBZXN6QixJQUV0QnAwQixHQUFZYyxlQUFlOXFDLElBQzNCZ3FDLEdBQVljLGVBQWUyUCxRQTRDZDFtRCxHQUFVLENBQ25CcTBFLGVBQ0E4QixjQUNBUCxrQkFDQWEscUJBQ0F5QixzQkFDQWtILGNBQ0ExRyw2dkRBeENtQixrVVJRbkIsSUFBTTJHLEVBQU81eUcsS0FFYnZDLE9BQU80c0MsaUJBQWlCdW9FLEVBQU0sQ0FPMUIxL0QsU0FBVSxDQUNOcFQsSUFBQSxXQUlJLE9BRkF2YSxHQUFZK29GLEdBQUksaUZBRVRzRSxFQUFLcGdFLFlBQVlVLFdBU2hDMi9ELGdCQUFpQixDQUNiL3lFLElBQUEsV0FJSSxPQUZBdmEsR0FBWStvRixHQUFJLG1FQUVUc0UsRUFBS2ppRixZQVNwQm1pRixjQUFlLENBQ1hoekUsSUFBQSxXQUlJLE9BRkF2YSxHQUFZK29GLEdBQUksaUVBRVRzRSxFQUFLamlGLFlBZ0JwQm9pRixlQUFnQixDQUNaanpFLElBQUEsV0FJSSxPQUZBdmEsR0FBWStvRixHQUFJLGlEQUVULENBQUUwRSxPQUFRLEVBQUdDLFFBQVMsS0FTckNDLGNBQWUsQ0FDWHB6RSxJQUFBLFdBSUksT0FGQXZhLEdBQVkrb0YsR0FBSSx1REFFVHNFLEVBQUsvdkMsV0FTcEIxOEMsbUJBQW9CLENBQ2hCMlosSUFBQSxXQUlJLE9BRkF2YSxHQUFZK29GLEdBQUksNEVBRVRzRSxFQUFLTyxNQUFNaHRGLHFCQVcxQmcwRCxPQUFRLENBQ0pyNkMsSUFBQSxXQUlJLE9BRkF2YSxHQUFZK29GLEdBQUksd0RBRVRzRSxFQUFLNzZCLE9BQU8xNEMsU0FTM0IrekUsY0FBZSxDQUNYdHpFLElBQUEsV0FJSSxPQUZBdmEsR0FBWStvRixHQUFJLG1FQUVUc0UsRUFBS1MsUUFBUW4wRCxlQVM1Qm8wRCxhQUFjLENBQ1Z4ekUsSUFBQSxXQUlJLE9BRkF2YSxHQUFZLFFBQVMsNkRBRWRxdEYsRUFBS1csY0FTcEJDLFFBQVMsQ0FDTDF6RSxJQUFBLFdBSUksT0FGQXZhLEdBQVksUUFBUyxvREFFZHF0RixFQUFLM2tGLFlBVXhCMmtGLEVBQUthLGNBQWdCLEdBRXJCaDJHLE9BQU80c0MsaUJBQWlCdW9FLEVBQUthLGNBQWUsQ0FNeEM5NEUscUJBQXNCLENBQ2xCbUYsSUFBQSxXQUlJLE9BRkF2YSxHQUFZLFFBQVMsOEVBRWRxdEYsRUFBS2o0RSx5QkFVeEJpNEUsRUFBS2oyRSxZQUFjLEdBRW5CbC9CLE9BQU80c0MsaUJBQWlCdW9FLEVBQUtqMkUsWUFBYSxDQU10QzBJLG1CQUFvQixDQUNoQnZGLElBQUEsV0FJSSxPQUZBdmEsR0FBWSxRQUFTLHdFQUVkcXRGLEVBQUt2dEUscUJBU3BCekUsZ0JBQWlCLENBQ2JkLElBQUEsV0FJSSxPQUZBdmEsR0FBWSxRQUFTLGtFQUVkcXRGLEVBQUtoeUUsa0JBU3BCTyxpQkFBa0IsQ0FDZHJCLElBQUEsV0FJSSxPQUZBdmEsR0FBWSxRQUFTLG9FQUVkcXRGLEVBQUt6eEUscUJBVXhCeXhFLEVBQUtjLFFBQVUsR0FFZmoyRyxPQUFPNHNDLGlCQUFpQnVvRSxFQUFLYyxRQUFTLENBTWxDclksWUFBYSxDQUNUdjdELElBQUEsV0FJSSxPQUZBdmEsR0FBWSxRQUFTLHNEQUVkcXRGLEVBQUt2WCxjQVFwQnFYLFFBQVMsQ0FDTDV5RSxJQUFBLFdBSUksT0FGQXZhLEdBQVksUUFBUyw4Q0FFZHF0RixFQUFLRixVQVFwQmlCLGNBQWUsQ0FDWDd6RSxJQUFBLFdBSUksT0FGQXZhLEdBQVksUUFBUywwREFFZHF0RixFQUFLZSxrQkFVeEJmLEVBQUtwb0MsUUFBVSxHQUVmL3NFLE9BQU80c0MsaUJBQWlCdW9FLEVBQUtwb0MsUUFBUyxDQU1sQ0MsUUFBUyxDQUNMM3FDLElBQUEsV0FJSSxPQUZBdmEsR0FBWSxRQUFTLDhDQUVkcXRGLEVBQUtub0MsVUFRcEJtcEMsY0FBZSxDQUNYOXpFLElBQUEsV0FJSSxPQUZBdmEsR0FBWSxRQUFTLDBEQUVkcXRGLEVBQUtnQixrQkFXeEJoQixFQUFLaUIsT0FBUyxHQUVkcDJHLE9BQU80c0MsaUJBQWlCdW9FLEVBQUtpQixPQUFRLENBTWpDeFYsYUFBYyxDQUNWditELElBQUEsV0FJSSxPQUZBdmEsR0FBWStvRixHQUFJLGlFQUVUc0UsRUFBS3ZVLGVBUXBCSSxxQkFBc0IsQ0FDbEIzK0QsSUFBQSxXQUlJLE9BRkF2YSxHQUFZK29GLEdBQUksaUZBRVRzRSxFQUFLblUsdUJBUXBCeVQsZUFBZ0IsQ0FDWnB5RSxJQUFBLFdBSUksT0FGQXZhLEdBQVkrb0YsR0FBSSxxRUFFVHNFLEVBQUtWLGlCQVFwQjNOLFdBQVksQ0FDUnprRSxJQUFBLFdBSUksT0FGQXZhLEdBQVkrb0YsR0FBSSw2REFFVHNFLEVBQUtyTyxlQVd4QnFPLEVBQUt2VSxhQUFheVYsVUFBWSxTQUFtQkMsRUFBaUJockcsRUFBZUMsR0FJN0UsT0FGQXVjLEdBQVksUUFBUywrREFFZHF0RixFQUFLdlUsYUFBYTk3RixLQUFLd3hHLEVBQVMsQ0FBRWhyRyxRQUFPQyxZQVNwRDRwRyxFQUFLdlUsYUFBYTJWLFVBQVksU0FDMUJDLEVBQ0FsckcsRUFDQUMsRUFDQW1RLEdBb0JBLG9CQXBCQUEsTUFFQW9NLEdBQVksUUFBUywrREFHakJwTSxHQUE4QixpQkFBWkEsSUFFbEJBLEVBQVUsQ0FFTm16QixVQUFXMXBDLFVBQVUsR0FDckJrcUMsZ0JBQWlCLENBRWJxRCxZQUFhdnRDLFVBQVUsTUFLbkN1VyxFQUFRcFEsTUFBUUEsRUFDaEJvUSxFQUFRblEsT0FBU0EsRUFFVjRwRyxFQUFLdlUsYUFBYTk3RixLQUFLMHhHLEVBQVM5NkYsSUFHM0MxYixPQUFPNHNDLGlCQUFpQnVvRSxFQUFLTyxNQUFPLENBTWhDZSxXQUFZLENBQ1JwMEUsSUFBQSxXQUlJLE9BRkF2YSxHQUFZK29GLEdBQUksa0ZBRVRzRSxFQUFLNWpFLFVBQVV3RCxZQUFZK1ksWUFVOUNxbkQsRUFBS3RNLEtBQU8sR0FFWjdvRyxPQUFPNHNDLGlCQUFpQnVvRSxFQUFLdE0sS0FBTSxDQU0vQi9HLEtBQU0sQ0FDRnovRCxJQUFBLFdBSUksT0FGQXZhLEdBQVkrb0YsR0FBSSxxREFFVHNFLEVBQUt4QyxhQVFwQlksZUFBZ0IsQ0FDWmx4RSxJQUFBLFdBSUksT0FGQXZhLEdBQVkrb0YsR0FBSSxtRUFFVHNFLEVBQUs1QixpQkFRcEJtRCxNQUFPLENBQ0hyMEUsSUFBQSxXQUlJLE9BRkF2YSxHQUFZK29GLEdBQUksdURBRVRzRSxFQUFLMUMsY0FRcEJrRSxLQUFNLENBQ0Z0MEUsSUFBQSxXQUlJLE9BRkF2YSxHQUFZK29GLEdBQUkscURBRVRzRSxFQUFLOUMsYUFRcEJ1RSxRQUFTLENBQ0x2MEUsSUFBQSxXQUlJLE9BRkF2YSxHQUFZK29GLEdBQUksa0RBRVRzRSxFQUFLclQsT0FRcEIrVSxtQkFBb0IsQ0FDaEJ4MEUsSUFBQSxXQUlJLE9BRkF2YSxHQUFZK29GLEdBQUksMkVBRVRzRSxFQUFLMEIscUJBUXBCQyxhQUFjLENBQ1Z6MEUsSUFBQSxXQUlJLE9BRkF2YSxHQUFZK29GLEdBQUksK0RBRVRzRSxFQUFLMkIsaUJBV3hCM0IsRUFBSzRCLFVBQVksR0FFakIvMkcsT0FBTzRzQyxpQkFBaUJ1b0UsRUFBSzRCLFVBQVcsQ0FNcEN2NUIsa0JBQW1CLENBQ2ZuN0MsSUFBQSxXQUlJLE9BRkF2YSxHQUFZK29GLEdBQUksOEVBRVRzRSxFQUFLMzNCLG9CQVFwQjhCLGlCQUFrQixDQUNkajlDLElBQUEsV0FJSSxPQUZBdmEsR0FBWStvRixHQUFJLDRFQUVUc0UsRUFBSzcxQixxQkFXeEI2MUIsRUFBS2x6RSxPQUFTLEdBRWRqaUMsT0FBTzRzQyxpQkFBaUJ1b0UsRUFBS2x6RSxPQUFRLENBTWpDcEIsT0FBUSxDQUNKd0IsSUFBQSxXQUlJLE9BRkF2YSxHQUFZK29GLEdBQUkscURBRVRzRSxFQUFLdDBFLFNBU3BCZSxPQUFRLENBQ0pTLElBQUEsV0FJSSxPQUZBdmEsR0FBWStvRixHQUFJLCtEQUVUc0UsRUFBS3QwRSxPQUFPZSxXQVUvQnV6RSxFQUFLNkIsUUFBVSxHQUVmaDNHLE9BQU80c0MsaUJBQWlCdW9FLEVBQUs2QixRQUFTLENBTWxDMThCLE9BQVEsQ0FDSmo0QyxJQUFBLFdBSUksT0FGQXZhLEdBQVkrb0YsR0FBSSxzREFFVHNFLEVBQUs3NkIsU0FRcEIxc0MsU0FBVSxDQUNOdkwsSUFBQSxXQUlJLE9BRkF2YSxHQUFZK29GLEdBQUksZ0VBRVRzRSxFQUFLajVCLGlCQVFwQis2QixpQkFBa0IsQ0FDZDUwRSxJQUFBLFdBSUksT0FGQXZhLEdBQVkrb0YsR0FBSSxpRkFFVHNFLEVBQUt6TCxpQkFBaUJwdUIsTUFPckM0N0Isb0JBQXFCLENBQ2pCNzBFLElBQUEsV0FFSXZhLEdBQVkrb0YsR0FBSSwyREFReEJzRyxrQkFBbUIsQ0FDZjkwRSxJQUFBLFdBSUksT0FGQXZhLEdBQVkrb0YsR0FBSSxtRkFFVHNFLEVBQUtoVixrQkFBa0I3a0IsTUFRdENrbEIsZ0JBQWlCLENBQ2JuK0QsSUFBQSxXQUlJLE9BRkF2YSxHQUFZK29GLEdBQUksNkZBRVRzRSxFQUFLaFYsa0JBQWtCSyxvQkFXMUMyVSxFQUFLNzZCLE9BQU84OEIsa0JBQW9CLFNBQTJCOTZCLEdBTXZELE9BSkF4MEQsR0FBWStvRixHQUNSLHdHQUdHc0UsRUFBSzZCLFFBQVExOEIsT0FBT3pOLGVBQWUsQ0FBRXlPLElBQUtnQixPQUlyRCxJQUFNKzZCLEVBQWdCLFNBQUN6cUcsR0FDbkIsTUFBQSxLQUFLQSxFQUFNd1UsT0FBTyxHQUFHazJGLGNBQWdCMXFHLEVBQU1hLE1BQU0sSUFFckR6TixPQUFPNEQsT0FBT3V4RyxFQUFLNzZCLE9BQU9yNkUsVUFDdEIsQ0FNSTBPLEdBQUEsU0FBRy9CLEdBRUMsSUFBTTJxRyxFQUFTRixFQUFjenFHLEdBRTdCa2IsR0FBWStvRixHQUFJLDREQUE0RDBHLFdBT2hGOXFHLEtBQUEsU0FBS0csR0FFRCxJQUFNMnFHLEVBQVNGLEVBQWN6cUcsR0FFN0JrYixHQUFZK29GLEdBQUksOERBQThEMEcsWUFPbEYxb0csSUFBQSxTQUFJakMsR0FFQSxJQUFNMnFHLEVBQVNGLEVBQWN6cUcsR0FFN0JrYixHQUFZK29GLEdBQUksNkRBQTZEMEcsZ0JBU3pGdjNHLE9BQU8yMkIsZUFBZXcrRSxFQUFLcG9DLFFBQVMsZUFBZ0IsQ0FDaEQxcUMsSUFBQSxXQUlJLE9BRkF2YSxHQUFZK29GLEdBQUksOERBRVRzRSxFQUFLbm9DLFdBU3BCaHRFLE9BQU8yMkIsZUFBZXcrRSxFQUFLYyxRQUFTLGVBQWdCLENBQ2hENXpFLElBQUEsV0FJSSxPQUZBdmEsR0FBWStvRixHQUFJLDZEQUVUc0UsRUFBS0YsV0FXcEJFLEVBQUt0OEUsVUFBVTU0QixVQUFVdTNHLGFBQWUsU0FBdUNwOUUsR0FFM0V0UyxHQUFZK29GLEdBQUksMEVBRWhCdHVHLEtBQUsrM0IsUUFBUUYsSUFTakIrNkUsRUFBS3Q4RSxVQUFVNTRCLFVBQVV3M0csWUFBYyxTQUFzQ3I5RSxHQUV6RXRTLEdBQVkrb0YsR0FBSSx3RUFFaEJ0dUcsS0FBS2c0QixPQUFPSCxJQVNoQis2RSxFQUFLMStFLGNBQWN4MkIsVUFBVXczRyxZQUFjLFNBQTBDcjlFLEdBRWpGdFMsR0FBWStvRixHQUFJLGdGQUVoQnR1RyxLQUFLZzRCLE9BQU9ILElBU2hCKzZFLEVBQUt0OEUsVUFBVTU0QixVQUFVeTNHLG9CQUFzQixTQUE4Q3Q5RSxHQUV6RnRTLEdBQVkrb0YsR0FBSSx3RkFFaEJ0dUcsS0FBSzgzQixlQUFlRCxJQUd4QnA2QixPQUFPNHNDLGlCQUFpQnVvRSxFQUFLaHJHLFNBQVUsQ0FVbkNtckcsZUFBZ0IsQ0FDWmp6RSxJQUFBLFdBSUksT0FGQXZhLEdBQVkrb0YsR0FBSSwwREFFVCxHQUVYbmpGLElBQUEsV0FFSTVGLEdBQVkrb0YsR0FBSSw4REFLcEIsSUFBYThHLEVBQW1CeEMsY0FPeEN3QyxFQUFlMTNHLFVBQVUyM0csV0FBYSxTQUFvQjFxQyxHQUV0RHBsRCxHQUFZK29GLEdBQUksMERBRWhCLElBQU01aEUsRUFBV2ttRSxFQUFLNWpFLFVBQVVuRSxtQkFBbUI4L0IsR0FFbkRqK0IsRUFBU3pCLFVBQVcsRUFFcEJqckMsS0FBSzh0QyxZQUFZcEIsR0FDakIxc0MsS0FBS3M3QixVQUdULElBQUlnNkUsR0FBMkIsRUFFL0I3M0csT0FBTzRzQyxpQkFBaUIrcUUsRUFBZTEzRyxVQUFXLENBUTlDNjNHLFVBQVcsQ0FDUHoxRSxJQUFBLFdBSUksT0FGQXZhLEdBQVkrb0YsR0FBSSxvRkFFVHR1RyxLQUFLeXRDLFFBU3BCa0wsU0FBVSxDQUNON1ksSUFBQSxpQkFJSSxPQUZBdmEsR0FBWStvRixHQUFJLG9HQUVSdHVHLEtBQUswc0MsK0JBQXNDOXZCLEtBR3ZEdU8sSUFBQSxTQUF1Qnd0QixHQUVuQnB6QixHQUFZK29GLEdBQUksMEZBRVp0dUcsS0FBSzBzQyxXQUVKMXNDLEtBQUswc0MsU0FBcUM5dkIsSUFBTSs3QixLQVc3RHIyQyxPQUFRLENBQ0p3OUIsSUFBQSxXQUlJLE9BRkF2YSxHQUFZK29GLEdBQUksMkZBRVJ0dUcsS0FBSzBzQyxTQUF5Q3BxQyxRQUUxRDZvQixJQUFBLFNBQXVCN29CLEdBRW5CaWpCLEdBQVkrb0YsR0FBSSxvS0FHWnR1RyxLQUFLMHNDLFdBRUoxc0MsS0FBSzBzQyxTQUF5Q3BxQyxPQUFTQSxLQVlwRTJxQyxpQkFBa0IsQ0FDZG5OLElBQUEsV0FLSSxPQUhBdmEsR0FBWSxRQUFTLHNHQUdLLElBQW5CdmxCLEtBQUtnc0MsV0FFaEI3Z0IsSUFBQSxTQUF1QjN0QixHQUVuQituQixHQUFZLFFBQVMsc0dBR3JCdmxCLEtBQUtnc0MsVUFBWS9uQyxPQUFPekcsS0FXaENnNEcsSUFBSyxDQUNEMTFFLElBQUEsV0FTSSxPQVBLdzFFLElBR0QvdkYsR0FBWSxRQUFTLCtFQUNyQit2RixHQUEyQixHQUd4QnQxRyxLQUFLNHRDLGdCQUVoQnppQixJQUFBLFNBQXVCM3RCLEdBRW5Cd0MsS0FBSzR0QyxlQUFpQnB3QyxNQVlsQzQzRyxFQUFlcEIsVUFBWSxTQUN2Qi94RixFQUNBa3VCLEVBQ0E3RCxFQUNBdGYsR0FFQXpILEdBQVkrb0YsR0FBSSxrRkFFaEIsSUFBTXhoRSxFQUFrQixDQUFFOWYsUUFBT21qQixlQUVqQyxPQUFPaWxFLEVBQWU3eUcsS0FBSzBmLEVBQVEsQ0FBRXFxQixZQUFXUSxxQkFVcERzb0UsRUFBZUssV0FBYSxTQUFvQnh6RixFQUEyQnFxQixHQUl2RSxPQUZBL21CLEdBQVkrb0YsR0FBSSxtRkFFVDhHLEVBQWU3eUcsS0FBSzBmLEVBQVEsQ0FBRXFxQixlQVV6QzhvRSxFQUFlTSxRQUFVLFNBQ3JCenpGLEVBQ0FrdUIsRUFDQTdELEVBQ0F0ZixHQUVBekgsR0FBWStvRixHQUFJLGdGQUVoQixJQUFNeGhFLEVBQWtCLENBQUU5ZixRQUFPbWpCLGVBRWpDLE9BQU9pbEUsRUFBZTd5RyxLQUFLMGYsRUFBUSxDQUFFcXFCLFlBQVdRLHFCQUdwRHJ2QyxPQUFPNHNDLGlCQUFpQnVvRSxFQUFLNWpFLFVBQVUwQyxjQUFjaDBDLFVBQVcsQ0FRNUR1dkMsaUJBQWtCLENBQ2RuTixJQUFBLFdBS0ksT0FIQXZhLEdBQVksUUFBUyxrSEFHSyxJQUFuQnZsQixLQUFLZ3NDLFdBRWhCN2dCLElBQUEsU0FBbUMzdEIsR0FFL0IrbkIsR0FBWSxRQUFTLGtIQUVyQnZsQixLQUFLZ3NDLFVBQVkvbkMsT0FBT3pHLE9BVXBDbzFHLEVBQUsxbkYsTUFBTXh0QixVQUFVaTRHLEtBQU8sU0FBMkJseUcsR0FJbkQsT0FGQThoQixHQUFZK29GLEdBQUkscUVBRVR0dUcsS0FBSzgxQixTQUFTcnlCLElBUXpCbXZHLEVBQUtwbkYsZ0JBQWdCOXRCLFVBQVVpNEcsS0FBTyxTQUFxQ2x5RyxHQUl2RSxPQUZBOGhCLEdBQVkrb0YsR0FBSSx5RkFFVHR1RyxLQUFLODFCLFNBQVNyeUIsSUFRekJtdkcsRUFBSy9wRixVQUFVbnJCLFVBQVVpNEcsS0FBTyxTQUErQmx5RyxHQUkzRCxPQUZBOGhCLEdBQVkrb0YsR0FBSSw2RUFFVHR1RyxLQUFLODFCLFNBQVNyeUIsSUFRekJtdkcsRUFBS2puRixPQUFPanVCLFVBQVVpNEcsS0FBTyxTQUE0Qmx5RyxHQUlyRCxPQUZBOGhCLEdBQVkrb0YsR0FBSSxxRUFFVHR1RyxLQUFLNmdELE9BQU9wOUMsSUFRdkJtdkcsRUFBS1MsUUFBUTEzQyxZQUFZaitELFVBQVVrNEcsU0FBVyxTQUE2Q2p6RyxHQUl2RixPQUZBNGlCLEdBQVksU0FBVSw0REFFZnZsQixLQUFLbXJCLElBQUl4b0IsSUFHcEJsRixPQUFPNEQsT0FBT3V4RyxFQUFLUyxRQUFRbjBELGFBQWF4aEQsVUFBVyxDQU0vQ200RyxnQkFBQSxTQUE0Q0MsRUFBaUI3dkYsR0FNekQsT0FKQVYsR0FBWStvRixHQUNSLCtHQUdHdHVHLEtBQUtzcEcsaUJBQWlCLEtBQU1yakYsSUFRdkM4dkYsbUJBQUEsU0FBK0N0N0QsR0FFM0NsMUIsR0FBWStvRixHQUNSLHFIQUlKdHVHLEtBQUs0L0Msb0JBQW9CbkYsSUFTN0J1N0QsMkJBQUEsU0FBdUR2MUQsR0FFbkRsN0IsR0FBWStvRixHQUFJLHlJQUdoQixJQUFNMXRELEVBQWVILEVBQWF1WSxXQUM1QnYzQyxFQUFvQ3poQixLQUFLeStDLFlBQXZDVCxnQkFBYU4scUJBS3JCLE9BSEFrRCxFQUFhSyxVQUFVakQsRUFBWXo2QyxFQUFJbTZDLEVBQWlCMzBDLE1BQU9pMUMsRUFBWS93QyxFQUFJeXdDLEVBQWlCMTBDLFFBQ2hHNDNDLEVBQWE1ekIsTUFBTTB3QixFQUFpQjMwQyxNQUFPMjBDLEVBQWlCMTBDLFFBRXJENDNDLEdBU1hxMUQscUNBQUEsU0FBaUV4MUQsR0FFN0RsN0IsR0FBWStvRixHQUFJLHdLQUdWLElBQUE3c0YsRUFBb0N6aEIsS0FBS3krQyxZQUF2Q1QsZ0JBQWFOLHFCQUNma0QsRUFBZUgsRUFBYXVZLFdBRWxDcFksRUFBYUssVUFBVWpELEVBQVl6NkMsRUFBSW02QyxFQUFpQjMwQyxNQUFPaTFDLEVBQVkvd0MsRUFBSXl3QyxFQUFpQjEwQyxRQUVoRyxJQUFNa3RHLEVBQW1CeDRELEVBQWlCMzBDLE1BQVFpMUMsRUFBWWoxQyxNQUN4RG90RyxFQUFtQno0RCxFQUFpQjEwQyxPQUFTZzFDLEVBQVloMUMsT0FJL0QsT0FGQTQzQyxFQUFhNXpCLE1BQU1rcEYsRUFBaUJDLEdBRTdCdjFELEtBSWZuakQsT0FBTzRzQyxpQkFBaUJ1b0UsRUFBSy80RCxjQUFjbjhDLFVBQVcsQ0FPbERzZ0QsWUFBYSxDQUNUbGUsSUFBQSxXQUlJLE9BRkF2YSxHQUFZK29GLEdBQUksNERBRVR0dUcsS0FBSzI1QyxjQVNwQnAxQixLQUFNLENBQ0Z1YixJQUFBLFdBSUksT0FGQXZhLEdBQVkrb0YsR0FBSSxxREFFVHR1RyxLQUFLZzRDLFdBV3hCLGtCQUVJLFdBQVlzd0QsRUFBa0I1OUIsRUFBaUJ6a0QsRUFBb0JzaUYsVUFFL0RoakYsR0FBWStvRixHQUFJLGlGQUVoQno3RSxhQUFNLEVBQU15MUUsRUFBVTU5QixFQUFTemtELEVBQVlzaUYsU0FFbkQsT0FSMEI1MUUsV0FBQWlnRixFQUFLci9FLFFBQVE0MUUsOEJBa0JuQyxXQUFZYixFQUFrQjU5QixFQUFpQnprRCxFQUFvQnNpRixVQUUvRGhqRixHQUFZK29GLEdBQUksaUZBRWhCejdFLGFBQU0sRUFBT3kxRSxFQUFVNTlCLEVBQVN6a0QsRUFBWXNpRixTQUVwRCxPQVIwQjUxRSxXQUFBaWdGLEVBQUtyL0UsUUFBUTQxRSxnQkFVdkMxckcsT0FBTzRELE9BQU91eEcsRUFBS3IvRSxRQUFTLENBQ3hCNmlGLGNBQ0FDLGdCQUlBLElBQVFDLEVBRWtCMUQsU0FEakIyRCxFQUNpQjNELFVBQWhCNEQsRUFBZ0I1RCxXQTRCOUIsU0FBUzZELEVBQVd6ckcsRUFBYzFJLEVBQWdCNnRDLEVBQStCN0QsR0FJN0UsT0FGQS9tQixHQUFZK29GLEdBQUksZUFBZXRqRyxpREFFeEJzckcsRUFBVS96RyxLQUFLRCxFQUFRLENBQzFCd3FDLGdCQUFpQixDQUNiOWYsTUFBT3NmLEVBQ1A2RCxpQkE4Q1osU0FBU3VtRSxFQUFZMXJHLEVBQWMxSSxFQUFnQjZ0QyxFQUErQjdELEdBSTlFLE9BRkEvbUIsR0FBWStvRixHQUFJLGdCQUFnQnRqRyxrREFFekJ1ckcsRUFBV2gwRyxLQUFLRCxFQUFRLENBQzNCd3FDLGdCQUFpQixDQUNiOWYsTUFBT3NmLEVBQ1A2RCxpQkFwRlBxbUUsRUFBWTk0RyxVQUFVaTVHLHdCQUV2QkgsRUFBWTk0RyxVQUFVaTVHLHNCQUF3QixXQUUxQ3B4RixHQUFZK29GLEdBQUksc0ZBVXhCN3dHLE9BQU8yMkIsZUFBZW9pRixFQUFZOTRHLFVBQVcsZUFBZ0IsQ0FDekRvaUMsSUFBQSxXQUlJLE9BRkF2YSxHQUFZK29GLEdBQUksOEZBRVR0dUcsS0FBSzI4QyxTQUFTaWlDLGdCQXVCN0IwM0IsRUFBVXRDLFVBQVl5QyxFQUFXcjhFLEtBQUssS0FBTSxhQVE1Q2s4RSxFQUFVWixRQUFVZSxFQUFXcjhFLEtBQUssS0FBTSxXQVExQ2s4RSxFQUFVYixXQUFhZ0IsRUFBV3I4RSxLQUFLLEtBQU0sY0FRN0NrOEUsRUFBVU0sVUFBWUgsRUFBV3I4RSxLQUFLLEtBQU0sYUFRNUNrOEUsRUFBVXhDLFVBQVkyQyxFQUFXcjhFLEtBQUssS0FBTSxhQXFCNUNtOEUsRUFBV3ZDLFVBQVkwQyxFQUFZdDhFLEtBQUssS0FBTSxhQVE5Q204RSxFQUFXYixRQUFVZ0IsRUFBWXQ4RSxLQUFLLEtBQU0sV0FRNUNtOEUsRUFBV2QsV0FBYWlCLEVBQVl0OEUsS0FBSyxLQUFNLGNBUS9DbThFLEVBQVdLLFVBQVlGLEVBQVl0OEUsS0FBSyxLQUFNLGFBUTlDbThFLEVBQVd6QyxVQUFZNEMsRUFBWXQ4RSxLQUFLLEtBQU0sYUFPOUMzOEIsT0FBTzIyQixlQUFldytFLEVBQUsxd0MsaUJBQWlCeGtFLFVBQVcsYUFBYyxDQUNqRW9pQyxJQUFBLFdBS0ksT0FIQXZhLEdBQVkrb0YsR0FBSSxrR0FHVHR1RyxLQUFLMEksYUFFaEJ5aUIsSUFBQSxTQUFlM3RCLEdBRVgrbkIsR0FBWStvRixHQUFJLGtHQUdoQnR1RyxLQUFLMEksWUFBY2xMLEtBUzNCQyxPQUFPMjJCLGVBQWV3K0UsRUFBSy92QyxTQUFTbmxFLFVBQVcsaUJBQWtCLENBQzdEb2lDLElBQUEsV0FJSSxPQUZBdmEsR0FBWStvRixHQUFJLGtGQUVUdHVHLEtBQUt5dkMsV0FRcEJtakUsRUFBS08sTUFBTTBELE9BQVMsQ0FNaEJ0OUUsTUFBQSxXQUVJaFUsR0FBWStvRixHQUFJLDREQU9wQndJLFdBQUEsV0FFSXZ4RixHQUFZK29GLEdBQUksaUVBT3BCeUksY0FBQSxXQUVJeHhGLEdBQVkrb0YsR0FBSSxxRUFTeEI3d0csT0FBTzIyQixlQUFldytFLEVBQUtyTyxXQUFXN21HLFVBQVcsT0FBUSxDQUNyRG9pQyxJQUFBLFdBS0ksT0FIQXZhLEdBQVksUUFBUyxpR0FHZCxDQUNIdmEsS0FBTWhMLEtBQUs4a0csVUFDWHZnRixLQUFNdmtCLEtBQUtxeUYsVUFDWHB1RSxLQUFNamtCLEtBQUsrNkUsTUFDWHNVLE1BQU9ydkYsS0FBS294RixTQUdwQmptRSxJQUFBLFNBQXNCM3RCLEdBS2xCLEdBSEErbkIsR0FBWSxRQUFTLGlHQUdoQi9uQixFQUFMLENBS0EsSUFBTXc4QixFQUFhLENBQUVnNkQsS0FBTXgyRixHQUUzQndDLEtBQUtza0csY0FBY3RxRSxHQUVuQkEsRUFBTWkyRCxTQUFXajJELEVBQU1pMkQsVUFBWTJpQixFQUFLMVAsV0FBV0UsVUFBVXBwRSxFQUFNMHFFLFVBQVVuZ0YsS0FFN0V2a0IsS0FBSzhrRyxVQUFZOXFFLEVBQU0wcUUsU0FDdkIxa0csS0FBS3F5RixVQUFZcjRELEVBQU1pMkQsU0FFdkJqd0YsS0FBS2d1QyxPQUFROzs7QVNoakR6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDUEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ3pLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDaEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ2pIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDckZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJzbG90LmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKGdsb2JhbCl7XG5cbi8vXG4vLyBDaGVjayBmb3IgbmF0aXZlIFByb21pc2UgYW5kIGl0IGhhcyBjb3JyZWN0IGludGVyZmFjZVxuLy9cblxudmFyIE5hdGl2ZVByb21pc2UgPSBnbG9iYWxbJ1Byb21pc2UnXTtcbnZhciBuYXRpdmVQcm9taXNlU3VwcG9ydGVkID1cbiAgTmF0aXZlUHJvbWlzZSAmJlxuICAvLyBTb21lIG9mIHRoZXNlIG1ldGhvZHMgYXJlIG1pc3NpbmcgZnJvbVxuICAvLyBGaXJlZm94L0Nocm9tZSBleHBlcmltZW50YWwgaW1wbGVtZW50YXRpb25zXG4gICdyZXNvbHZlJyBpbiBOYXRpdmVQcm9taXNlICYmXG4gICdyZWplY3QnIGluIE5hdGl2ZVByb21pc2UgJiZcbiAgJ2FsbCcgaW4gTmF0aXZlUHJvbWlzZSAmJlxuICAncmFjZScgaW4gTmF0aXZlUHJvbWlzZSAmJlxuICAvLyBPbGRlciB2ZXJzaW9uIG9mIHRoZSBzcGVjIGhhZCBhIHJlc29sdmVyIG9iamVjdFxuICAvLyBhcyB0aGUgYXJnIHJhdGhlciB0aGFuIGEgZnVuY3Rpb25cbiAgKGZ1bmN0aW9uKCl7XG4gICAgdmFyIHJlc29sdmU7XG4gICAgbmV3IE5hdGl2ZVByb21pc2UoZnVuY3Rpb24ocil7IHJlc29sdmUgPSByOyB9KTtcbiAgICByZXR1cm4gdHlwZW9mIHJlc29sdmUgPT09ICdmdW5jdGlvbic7XG4gIH0pKCk7XG5cblxuLy9cbi8vIGV4cG9ydCBpZiBuZWNlc3Nhcnlcbi8vXG5cbmlmICh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcgJiYgZXhwb3J0cylcbntcbiAgLy8gbm9kZS5qc1xuICBleHBvcnRzLlByb21pc2UgPSBuYXRpdmVQcm9taXNlU3VwcG9ydGVkID8gTmF0aXZlUHJvbWlzZSA6IFByb21pc2U7XG4gIGV4cG9ydHMuUG9seWZpbGwgPSBQcm9taXNlO1xufVxuZWxzZVxue1xuICAvLyBBTURcbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuICB7XG4gICAgZGVmaW5lKGZ1bmN0aW9uKCl7XG4gICAgICByZXR1cm4gbmF0aXZlUHJvbWlzZVN1cHBvcnRlZCA/IE5hdGl2ZVByb21pc2UgOiBQcm9taXNlO1xuICAgIH0pO1xuICB9XG4gIGVsc2VcbiAge1xuICAgIC8vIGluIGJyb3dzZXIgYWRkIHRvIGdsb2JhbFxuICAgIGlmICghbmF0aXZlUHJvbWlzZVN1cHBvcnRlZClcbiAgICAgIGdsb2JhbFsnUHJvbWlzZSddID0gUHJvbWlzZTtcbiAgfVxufVxuXG5cbi8vXG4vLyBQb2x5ZmlsbFxuLy9cblxudmFyIFBFTkRJTkcgPSAncGVuZGluZyc7XG52YXIgU0VBTEVEID0gJ3NlYWxlZCc7XG52YXIgRlVMRklMTEVEID0gJ2Z1bGZpbGxlZCc7XG52YXIgUkVKRUNURUQgPSAncmVqZWN0ZWQnO1xudmFyIE5PT1AgPSBmdW5jdGlvbigpe307XG5cbmZ1bmN0aW9uIGlzQXJyYXkodmFsdWUpIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09ICdbb2JqZWN0IEFycmF5XSc7XG59XG5cbi8vIGFzeW5jIGNhbGxzXG52YXIgYXN5bmNTZXRUaW1lciA9IHR5cGVvZiBzZXRJbW1lZGlhdGUgIT09ICd1bmRlZmluZWQnID8gc2V0SW1tZWRpYXRlIDogc2V0VGltZW91dDtcbnZhciBhc3luY1F1ZXVlID0gW107XG52YXIgYXN5bmNUaW1lcjtcblxuZnVuY3Rpb24gYXN5bmNGbHVzaCgpe1xuICAvLyBydW4gcHJvbWlzZSBjYWxsYmFja3NcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBhc3luY1F1ZXVlLmxlbmd0aDsgaSsrKVxuICAgIGFzeW5jUXVldWVbaV1bMF0oYXN5bmNRdWV1ZVtpXVsxXSk7XG5cbiAgLy8gcmVzZXQgYXN5bmMgYXN5bmNRdWV1ZVxuICBhc3luY1F1ZXVlID0gW107XG4gIGFzeW5jVGltZXIgPSBmYWxzZTtcbn1cblxuZnVuY3Rpb24gYXN5bmNDYWxsKGNhbGxiYWNrLCBhcmcpe1xuICBhc3luY1F1ZXVlLnB1c2goW2NhbGxiYWNrLCBhcmddKTtcblxuICBpZiAoIWFzeW5jVGltZXIpXG4gIHtcbiAgICBhc3luY1RpbWVyID0gdHJ1ZTtcbiAgICBhc3luY1NldFRpbWVyKGFzeW5jRmx1c2gsIDApO1xuICB9XG59XG5cblxuZnVuY3Rpb24gaW52b2tlUmVzb2x2ZXIocmVzb2x2ZXIsIHByb21pc2UpIHtcbiAgZnVuY3Rpb24gcmVzb2x2ZVByb21pc2UodmFsdWUpIHtcbiAgICByZXNvbHZlKHByb21pc2UsIHZhbHVlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlamVjdFByb21pc2UocmVhc29uKSB7XG4gICAgcmVqZWN0KHByb21pc2UsIHJlYXNvbik7XG4gIH1cblxuICB0cnkge1xuICAgIHJlc29sdmVyKHJlc29sdmVQcm9taXNlLCByZWplY3RQcm9taXNlKTtcbiAgfSBjYXRjaChlKSB7XG4gICAgcmVqZWN0UHJvbWlzZShlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpbnZva2VDYWxsYmFjayhzdWJzY3JpYmVyKXtcbiAgdmFyIG93bmVyID0gc3Vic2NyaWJlci5vd25lcjtcbiAgdmFyIHNldHRsZWQgPSBvd25lci5zdGF0ZV87XG4gIHZhciB2YWx1ZSA9IG93bmVyLmRhdGFfOyAgXG4gIHZhciBjYWxsYmFjayA9IHN1YnNjcmliZXJbc2V0dGxlZF07XG4gIHZhciBwcm9taXNlID0gc3Vic2NyaWJlci50aGVuO1xuXG4gIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpXG4gIHtcbiAgICBzZXR0bGVkID0gRlVMRklMTEVEO1xuICAgIHRyeSB7XG4gICAgICB2YWx1ZSA9IGNhbGxiYWNrKHZhbHVlKTtcbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgIHJlamVjdChwcm9taXNlLCBlKTtcbiAgICB9XG4gIH1cblxuICBpZiAoIWhhbmRsZVRoZW5hYmxlKHByb21pc2UsIHZhbHVlKSlcbiAge1xuICAgIGlmIChzZXR0bGVkID09PSBGVUxGSUxMRUQpXG4gICAgICByZXNvbHZlKHByb21pc2UsIHZhbHVlKTtcblxuICAgIGlmIChzZXR0bGVkID09PSBSRUpFQ1RFRClcbiAgICAgIHJlamVjdChwcm9taXNlLCB2YWx1ZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaGFuZGxlVGhlbmFibGUocHJvbWlzZSwgdmFsdWUpIHtcbiAgdmFyIHJlc29sdmVkO1xuXG4gIHRyeSB7XG4gICAgaWYgKHByb21pc2UgPT09IHZhbHVlKVxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQSBwcm9taXNlcyBjYWxsYmFjayBjYW5ub3QgcmV0dXJuIHRoYXQgc2FtZSBwcm9taXNlLicpO1xuXG4gICAgaWYgKHZhbHVlICYmICh0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicgfHwgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JykpXG4gICAge1xuICAgICAgdmFyIHRoZW4gPSB2YWx1ZS50aGVuOyAgLy8gdGhlbiBzaG91bGQgYmUgcmV0cml2ZWQgb25seSBvbmNlXG5cbiAgICAgIGlmICh0eXBlb2YgdGhlbiA9PT0gJ2Z1bmN0aW9uJylcbiAgICAgIHtcbiAgICAgICAgdGhlbi5jYWxsKHZhbHVlLCBmdW5jdGlvbih2YWwpe1xuICAgICAgICAgIGlmICghcmVzb2x2ZWQpXG4gICAgICAgICAge1xuICAgICAgICAgICAgcmVzb2x2ZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICBpZiAodmFsdWUgIT09IHZhbClcbiAgICAgICAgICAgICAgcmVzb2x2ZShwcm9taXNlLCB2YWwpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICBmdWxmaWxsKHByb21pc2UsIHZhbCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCBmdW5jdGlvbihyZWFzb24pe1xuICAgICAgICAgIGlmICghcmVzb2x2ZWQpXG4gICAgICAgICAge1xuICAgICAgICAgICAgcmVzb2x2ZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICByZWplY3QocHJvbWlzZSwgcmVhc29uKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfSBjYXRjaCAoZSkge1xuICAgIGlmICghcmVzb2x2ZWQpXG4gICAgICByZWplY3QocHJvbWlzZSwgZSk7XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gcmVzb2x2ZShwcm9taXNlLCB2YWx1ZSl7XG4gIGlmIChwcm9taXNlID09PSB2YWx1ZSB8fCAhaGFuZGxlVGhlbmFibGUocHJvbWlzZSwgdmFsdWUpKVxuICAgIGZ1bGZpbGwocHJvbWlzZSwgdmFsdWUpO1xufVxuXG5mdW5jdGlvbiBmdWxmaWxsKHByb21pc2UsIHZhbHVlKXtcbiAgaWYgKHByb21pc2Uuc3RhdGVfID09PSBQRU5ESU5HKVxuICB7XG4gICAgcHJvbWlzZS5zdGF0ZV8gPSBTRUFMRUQ7XG4gICAgcHJvbWlzZS5kYXRhXyA9IHZhbHVlO1xuXG4gICAgYXN5bmNDYWxsKHB1Ymxpc2hGdWxmaWxsbWVudCwgcHJvbWlzZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVqZWN0KHByb21pc2UsIHJlYXNvbil7XG4gIGlmIChwcm9taXNlLnN0YXRlXyA9PT0gUEVORElORylcbiAge1xuICAgIHByb21pc2Uuc3RhdGVfID0gU0VBTEVEO1xuICAgIHByb21pc2UuZGF0YV8gPSByZWFzb247XG5cbiAgICBhc3luY0NhbGwocHVibGlzaFJlamVjdGlvbiwgcHJvbWlzZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcHVibGlzaChwcm9taXNlKSB7XG4gIHZhciBjYWxsYmFja3MgPSBwcm9taXNlLnRoZW5fO1xuICBwcm9taXNlLnRoZW5fID0gdW5kZWZpbmVkO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgY2FsbGJhY2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgaW52b2tlQ2FsbGJhY2soY2FsbGJhY2tzW2ldKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBwdWJsaXNoRnVsZmlsbG1lbnQocHJvbWlzZSl7XG4gIHByb21pc2Uuc3RhdGVfID0gRlVMRklMTEVEO1xuICBwdWJsaXNoKHByb21pc2UpO1xufVxuXG5mdW5jdGlvbiBwdWJsaXNoUmVqZWN0aW9uKHByb21pc2Upe1xuICBwcm9taXNlLnN0YXRlXyA9IFJFSkVDVEVEO1xuICBwdWJsaXNoKHByb21pc2UpO1xufVxuXG4vKipcbiogQGNsYXNzXG4qL1xuZnVuY3Rpb24gUHJvbWlzZShyZXNvbHZlcil7XG4gIGlmICh0eXBlb2YgcmVzb2x2ZXIgIT09ICdmdW5jdGlvbicpXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignUHJvbWlzZSBjb25zdHJ1Y3RvciB0YWtlcyBhIGZ1bmN0aW9uIGFyZ3VtZW50Jyk7XG5cbiAgaWYgKHRoaXMgaW5zdGFuY2VvZiBQcm9taXNlID09PSBmYWxzZSlcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdGYWlsZWQgdG8gY29uc3RydWN0IFxcJ1Byb21pc2VcXCc6IFBsZWFzZSB1c2UgdGhlIFxcJ25ld1xcJyBvcGVyYXRvciwgdGhpcyBvYmplY3QgY29uc3RydWN0b3IgY2Fubm90IGJlIGNhbGxlZCBhcyBhIGZ1bmN0aW9uLicpO1xuXG4gIHRoaXMudGhlbl8gPSBbXTtcblxuICBpbnZva2VSZXNvbHZlcihyZXNvbHZlciwgdGhpcyk7XG59XG5cblByb21pc2UucHJvdG90eXBlID0ge1xuICBjb25zdHJ1Y3RvcjogUHJvbWlzZSxcblxuICBzdGF0ZV86IFBFTkRJTkcsXG4gIHRoZW5fOiBudWxsLFxuICBkYXRhXzogdW5kZWZpbmVkLFxuXG4gIHRoZW46IGZ1bmN0aW9uKG9uRnVsZmlsbG1lbnQsIG9uUmVqZWN0aW9uKXtcbiAgICB2YXIgc3Vic2NyaWJlciA9IHtcbiAgICAgIG93bmVyOiB0aGlzLFxuICAgICAgdGhlbjogbmV3IHRoaXMuY29uc3RydWN0b3IoTk9PUCksXG4gICAgICBmdWxmaWxsZWQ6IG9uRnVsZmlsbG1lbnQsXG4gICAgICByZWplY3RlZDogb25SZWplY3Rpb25cbiAgICB9O1xuXG4gICAgaWYgKHRoaXMuc3RhdGVfID09PSBGVUxGSUxMRUQgfHwgdGhpcy5zdGF0ZV8gPT09IFJFSkVDVEVEKVxuICAgIHtcbiAgICAgIC8vIGFscmVhZHkgcmVzb2x2ZWQsIGNhbGwgY2FsbGJhY2sgYXN5bmNcbiAgICAgIGFzeW5jQ2FsbChpbnZva2VDYWxsYmFjaywgc3Vic2NyaWJlcik7XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAvLyBzdWJzY3JpYmVcbiAgICAgIHRoaXMudGhlbl8ucHVzaChzdWJzY3JpYmVyKTtcbiAgICB9XG5cbiAgICByZXR1cm4gc3Vic2NyaWJlci50aGVuO1xuICB9LFxuXG4gICdjYXRjaCc6IGZ1bmN0aW9uKG9uUmVqZWN0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMudGhlbihudWxsLCBvblJlamVjdGlvbik7XG4gIH1cbn07XG5cblByb21pc2UuYWxsID0gZnVuY3Rpb24ocHJvbWlzZXMpe1xuICB2YXIgQ2xhc3MgPSB0aGlzO1xuXG4gIGlmICghaXNBcnJheShwcm9taXNlcykpXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignWW91IG11c3QgcGFzcyBhbiBhcnJheSB0byBQcm9taXNlLmFsbCgpLicpO1xuXG4gIHJldHVybiBuZXcgQ2xhc3MoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcbiAgICB2YXIgcmVzdWx0cyA9IFtdO1xuICAgIHZhciByZW1haW5pbmcgPSAwO1xuXG4gICAgZnVuY3Rpb24gcmVzb2x2ZXIoaW5kZXgpe1xuICAgICAgcmVtYWluaW5nKys7XG4gICAgICByZXR1cm4gZnVuY3Rpb24odmFsdWUpe1xuICAgICAgICByZXN1bHRzW2luZGV4XSA9IHZhbHVlO1xuICAgICAgICBpZiAoIS0tcmVtYWluaW5nKVxuICAgICAgICAgIHJlc29sdmUocmVzdWx0cyk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwLCBwcm9taXNlOyBpIDwgcHJvbWlzZXMubGVuZ3RoOyBpKyspXG4gICAge1xuICAgICAgcHJvbWlzZSA9IHByb21pc2VzW2ldO1xuXG4gICAgICBpZiAocHJvbWlzZSAmJiB0eXBlb2YgcHJvbWlzZS50aGVuID09PSAnZnVuY3Rpb24nKVxuICAgICAgICBwcm9taXNlLnRoZW4ocmVzb2x2ZXIoaSksIHJlamVjdCk7XG4gICAgICBlbHNlXG4gICAgICAgIHJlc3VsdHNbaV0gPSBwcm9taXNlO1xuICAgIH1cblxuICAgIGlmICghcmVtYWluaW5nKVxuICAgICAgcmVzb2x2ZShyZXN1bHRzKTtcbiAgfSk7XG59O1xuXG5Qcm9taXNlLnJhY2UgPSBmdW5jdGlvbihwcm9taXNlcyl7XG4gIHZhciBDbGFzcyA9IHRoaXM7XG5cbiAgaWYgKCFpc0FycmF5KHByb21pc2VzKSlcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdZb3UgbXVzdCBwYXNzIGFuIGFycmF5IHRvIFByb21pc2UucmFjZSgpLicpO1xuXG4gIHJldHVybiBuZXcgQ2xhc3MoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIHByb21pc2U7IGkgPCBwcm9taXNlcy5sZW5ndGg7IGkrKylcbiAgICB7XG4gICAgICBwcm9taXNlID0gcHJvbWlzZXNbaV07XG5cbiAgICAgIGlmIChwcm9taXNlICYmIHR5cGVvZiBwcm9taXNlLnRoZW4gPT09ICdmdW5jdGlvbicpXG4gICAgICAgIHByb21pc2UudGhlbihyZXNvbHZlLCByZWplY3QpO1xuICAgICAgZWxzZVxuICAgICAgICByZXNvbHZlKHByb21pc2UpO1xuICAgIH1cbiAgfSk7XG59O1xuXG5Qcm9taXNlLnJlc29sdmUgPSBmdW5jdGlvbih2YWx1ZSl7XG4gIHZhciBDbGFzcyA9IHRoaXM7XG5cbiAgaWYgKHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUuY29uc3RydWN0b3IgPT09IENsYXNzKVxuICAgIHJldHVybiB2YWx1ZTtcblxuICByZXR1cm4gbmV3IENsYXNzKGZ1bmN0aW9uKHJlc29sdmUpe1xuICAgIHJlc29sdmUodmFsdWUpO1xuICB9KTtcbn07XG5cblByb21pc2UucmVqZWN0ID0gZnVuY3Rpb24ocmVhc29uKXtcbiAgdmFyIENsYXNzID0gdGhpcztcblxuICByZXR1cm4gbmV3IENsYXNzKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCl7XG4gICAgcmVqZWN0KHJlYXNvbik7XG4gIH0pO1xufTtcblxufSkodHlwZW9mIHdpbmRvdyAhPSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHR5cGVvZiBnbG9iYWwgIT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPSAndW5kZWZpbmVkJyA/IHNlbGYgOiB0aGlzKTtcbiIsIi8qXG5vYmplY3QtYXNzaWduXG4oYykgU2luZHJlIFNvcmh1c1xuQGxpY2Vuc2UgTUlUXG4qL1xuXG4ndXNlIHN0cmljdCc7XG4vKiBlc2xpbnQtZGlzYWJsZSBuby11bnVzZWQtdmFycyAqL1xudmFyIGdldE93blByb3BlcnR5U3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG52YXIgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xudmFyIHByb3BJc0VudW1lcmFibGUgPSBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlO1xuXG5mdW5jdGlvbiB0b09iamVjdCh2YWwpIHtcblx0aWYgKHZhbCA9PT0gbnVsbCB8fCB2YWwgPT09IHVuZGVmaW5lZCkge1xuXHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ09iamVjdC5hc3NpZ24gY2Fubm90IGJlIGNhbGxlZCB3aXRoIG51bGwgb3IgdW5kZWZpbmVkJyk7XG5cdH1cblxuXHRyZXR1cm4gT2JqZWN0KHZhbCk7XG59XG5cbmZ1bmN0aW9uIHNob3VsZFVzZU5hdGl2ZSgpIHtcblx0dHJ5IHtcblx0XHRpZiAoIU9iamVjdC5hc3NpZ24pIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBEZXRlY3QgYnVnZ3kgcHJvcGVydHkgZW51bWVyYXRpb24gb3JkZXIgaW4gb2xkZXIgVjggdmVyc2lvbnMuXG5cblx0XHQvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD00MTE4XG5cdFx0dmFyIHRlc3QxID0gbmV3IFN0cmluZygnYWJjJyk7ICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLW5ldy13cmFwcGVyc1xuXHRcdHRlc3QxWzVdID0gJ2RlJztcblx0XHRpZiAoT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGVzdDEpWzBdID09PSAnNScpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0zMDU2XG5cdFx0dmFyIHRlc3QyID0ge307XG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCAxMDsgaSsrKSB7XG5cdFx0XHR0ZXN0MlsnXycgKyBTdHJpbmcuZnJvbUNoYXJDb2RlKGkpXSA9IGk7XG5cdFx0fVxuXHRcdHZhciBvcmRlcjIgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0ZXN0MikubWFwKGZ1bmN0aW9uIChuKSB7XG5cdFx0XHRyZXR1cm4gdGVzdDJbbl07XG5cdFx0fSk7XG5cdFx0aWYgKG9yZGVyMi5qb2luKCcnKSAhPT0gJzAxMjM0NTY3ODknKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9MzA1NlxuXHRcdHZhciB0ZXN0MyA9IHt9O1xuXHRcdCdhYmNkZWZnaGlqa2xtbm9wcXJzdCcuc3BsaXQoJycpLmZvckVhY2goZnVuY3Rpb24gKGxldHRlcikge1xuXHRcdFx0dGVzdDNbbGV0dGVyXSA9IGxldHRlcjtcblx0XHR9KTtcblx0XHRpZiAoT2JqZWN0LmtleXMoT2JqZWN0LmFzc2lnbih7fSwgdGVzdDMpKS5qb2luKCcnKSAhPT1cblx0XHRcdFx0J2FiY2RlZmdoaWprbG1ub3BxcnN0Jykge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdHJldHVybiB0cnVlO1xuXHR9IGNhdGNoIChlcnIpIHtcblx0XHQvLyBXZSBkb24ndCBleHBlY3QgYW55IG9mIHRoZSBhYm92ZSB0byB0aHJvdywgYnV0IGJldHRlciB0byBiZSBzYWZlLlxuXHRcdHJldHVybiBmYWxzZTtcblx0fVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNob3VsZFVzZU5hdGl2ZSgpID8gT2JqZWN0LmFzc2lnbiA6IGZ1bmN0aW9uICh0YXJnZXQsIHNvdXJjZSkge1xuXHR2YXIgZnJvbTtcblx0dmFyIHRvID0gdG9PYmplY3QodGFyZ2V0KTtcblx0dmFyIHN5bWJvbHM7XG5cblx0Zm9yICh2YXIgcyA9IDE7IHMgPCBhcmd1bWVudHMubGVuZ3RoOyBzKyspIHtcblx0XHRmcm9tID0gT2JqZWN0KGFyZ3VtZW50c1tzXSk7XG5cblx0XHRmb3IgKHZhciBrZXkgaW4gZnJvbSkge1xuXHRcdFx0aWYgKGhhc093blByb3BlcnR5LmNhbGwoZnJvbSwga2V5KSkge1xuXHRcdFx0XHR0b1trZXldID0gZnJvbVtrZXldO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmIChnZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcblx0XHRcdHN5bWJvbHMgPSBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZnJvbSk7XG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHN5bWJvbHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0aWYgKHByb3BJc0VudW1lcmFibGUuY2FsbChmcm9tLCBzeW1ib2xzW2ldKSkge1xuXHRcdFx0XHRcdHRvW3N5bWJvbHNbaV1dID0gZnJvbVtzeW1ib2xzW2ldXTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiB0bztcbn07XG4iLCJpbXBvcnQgeyBQb2x5ZmlsbCB9IGZyb20gJ2VzNi1wcm9taXNlLXBvbHlmaWxsJztcblxuLy8gU3VwcG9ydCBmb3IgSUUgOSAtIDExIHdoaWNoIGRvZXMgbm90IGluY2x1ZGUgUHJvbWlzZXNcbmlmICghd2luZG93LlByb21pc2UpXG57XG4gICAgd2luZG93LlByb21pc2UgPSBQb2x5ZmlsbDtcbn1cbiIsIi8vIFJlZmVyZW5jZXM6XG4vLyBodHRwczovL2dpdGh1Yi5jb20vc2luZHJlc29yaHVzL29iamVjdC1hc3NpZ25cbi8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9hc3NpZ25cblxuaW1wb3J0IG9iamVjdEFzc2lnbiBmcm9tICdvYmplY3QtYXNzaWduJztcblxuaWYgKCFPYmplY3QuYXNzaWduKVxue1xuICAgIE9iamVjdC5hc3NpZ24gPSBvYmplY3RBc3NpZ247XG59XG4iLCIvLyBSZWZlcmVuY2VzOlxuLy8gaHR0cDovL3BhdWxpcmlzaC5jb20vMjAxMS9yZXF1ZXN0YW5pbWF0aW9uZnJhbWUtZm9yLXNtYXJ0LWFuaW1hdGluZy9cbi8vIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tLzE1Nzk2NzFcbi8vIGh0dHA6Ly91cGRhdGVzLmh0bWw1cm9ja3MuY29tLzIwMTIvMDUvcmVxdWVzdEFuaW1hdGlvbkZyYW1lLUFQSS1ub3ctd2l0aC1zdWItbWlsbGlzZWNvbmQtcHJlY2lzaW9uXG4vLyBodHRwczovL2dpc3QuZ2l0aHViLmNvbS90aW1oYWxsLzQwNzg2MTRcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9GaW5hbmNpYWwtVGltZXMvcG9seWZpbGwtc2VydmljZS90cmVlL21hc3Rlci9wb2x5ZmlsbHMvcmVxdWVzdEFuaW1hdGlvbkZyYW1lXG5cbi8vIEV4cGVjdGVkIHRvIGJlIHVzZWQgd2l0aCBCcm93c2VyZml5XG4vLyBCcm93c2VyaWZ5IGF1dG9tYXRpY2FsbHkgZGV0ZWN0cyB0aGUgdXNlIG9mIGBnbG9iYWxgIGFuZCBwYXNzZXMgdGhlXG4vLyBjb3JyZWN0IHJlZmVyZW5jZSBvZiBgZ2xvYmFsYCwgYHNlbGZgLCBhbmQgZmluYWxseSBgd2luZG93YFxuXG5jb25zdCBPTkVfRlJBTUVfVElNRSA9IDE2O1xuXG4vLyBEYXRlLm5vd1xuaWYgKCEoRGF0ZS5ub3cgJiYgRGF0ZS5wcm90b3R5cGUuZ2V0VGltZSkpXG57XG4gICAgRGF0ZS5ub3cgPSBmdW5jdGlvbiBub3coKTogbnVtYmVyXG4gICAge1xuICAgICAgICByZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgfTtcbn1cblxuLy8gcGVyZm9ybWFuY2Uubm93XG5pZiAoISh3aW5kb3cucGVyZm9ybWFuY2UgJiYgd2luZG93LnBlcmZvcm1hbmNlLm5vdykpXG57XG4gICAgY29uc3Qgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcblxuICAgIGlmICghd2luZG93LnBlcmZvcm1hbmNlKVxuICAgIHtcbiAgICAgICAgKHdpbmRvdyBhcyBhbnkpLnBlcmZvcm1hbmNlID0ge307XG4gICAgfVxuXG4gICAgd2luZG93LnBlcmZvcm1hbmNlLm5vdyA9ICgpOiBudW1iZXIgPT4gRGF0ZS5ub3coKSAtIHN0YXJ0VGltZTtcbn1cblxuLy8gcmVxdWVzdEFuaW1hdGlvbkZyYW1lXG5sZXQgbGFzdFRpbWUgPSBEYXRlLm5vdygpO1xuY29uc3QgdmVuZG9ycyA9IFsnbXMnLCAnbW96JywgJ3dlYmtpdCcsICdvJ107XG5cbmZvciAobGV0IHggPSAwOyB4IDwgdmVuZG9ycy5sZW5ndGggJiYgIXdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU7ICsreClcbntcbiAgICBjb25zdCBwID0gdmVuZG9yc1t4XTtcblxuICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSAod2luZG93IGFzIGFueSlbYCR7cH1SZXF1ZXN0QW5pbWF0aW9uRnJhbWVgXTtcbiAgICB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUgPSAod2luZG93IGFzIGFueSlbYCR7cH1DYW5jZWxBbmltYXRpb25GcmFtZWBdXG4gICAgICAgIHx8ICh3aW5kb3cgYXMgYW55KVtgJHtwfUNhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZWBdO1xufVxuXG5pZiAoIXdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUpXG57XG4gICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSA9IChjYWxsYmFjazogKC4uLnBhcm1zOiBhbnlbXSkgPT4gdm9pZCk6IG51bWJlciA9PlxuICAgIHtcbiAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgJHtjYWxsYmFja31pcyBub3QgYSBmdW5jdGlvbmApO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY3VycmVudFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICBsZXQgZGVsYXkgPSBPTkVfRlJBTUVfVElNRSArIGxhc3RUaW1lIC0gY3VycmVudFRpbWU7XG5cbiAgICAgICAgaWYgKGRlbGF5IDwgMClcbiAgICAgICAge1xuICAgICAgICAgICAgZGVsYXkgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgbGFzdFRpbWUgPSBjdXJyZW50VGltZTtcblxuICAgICAgICByZXR1cm4gd2luZG93LnNldFRpbWVvdXQoKCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgbGFzdFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgY2FsbGJhY2socGVyZm9ybWFuY2Uubm93KCkpO1xuICAgICAgICB9LCBkZWxheSk7XG4gICAgfTtcbn1cblxuaWYgKCF3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUpXG57XG4gICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lID0gKGlkOiBudW1iZXIpOiB2b2lkID0+IGNsZWFyVGltZW91dChpZCk7XG59XG4iLCIvLyBSZWZlcmVuY2VzOlxuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC9zaWduXG5cbmlmICghTWF0aC5zaWduKVxue1xuICAgIE1hdGguc2lnbiA9IGZ1bmN0aW9uIG1hdGhTaWduKHgpOiBudW1iZXJcbiAgICB7XG4gICAgICAgIHggPSBOdW1iZXIoeCk7XG5cbiAgICAgICAgaWYgKHggPT09IDAgfHwgaXNOYU4oeCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB4O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHggPiAwID8gMSA6IC0xO1xuICAgIH07XG59XG4iLCIvLyBSZWZlcmVuY2VzOlxuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTnVtYmVyL2lzSW50ZWdlclxuXG5pZiAoIU51bWJlci5pc0ludGVnZXIpXG57XG4gICAgTnVtYmVyLmlzSW50ZWdlciA9IGZ1bmN0aW9uIG51bWJlcklzSW50ZWdlcih2YWx1ZSk6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInICYmIGlzRmluaXRlKHZhbHVlKSAmJiBNYXRoLmZsb29yKHZhbHVlKSA9PT0gdmFsdWU7XG4gICAgfTtcbn1cbiIsImltcG9ydCAnLi9Qcm9taXNlJztcbmltcG9ydCAnLi9PYmplY3QuYXNzaWduJztcbmltcG9ydCAnLi9yZXF1ZXN0QW5pbWF0aW9uRnJhbWUnO1xuaW1wb3J0ICcuL01hdGguc2lnbic7XG5pbXBvcnQgJy4vTnVtYmVyLmlzSW50ZWdlcic7XG5cbmlmICghd2luZG93LkFycmF5QnVmZmVyKVxue1xuICAgICh3aW5kb3cgYXMgYW55KS5BcnJheUJ1ZmZlciA9IEFycmF5O1xufVxuXG5pZiAoIXdpbmRvdy5GbG9hdDMyQXJyYXkpXG57XG4gICAgKHdpbmRvdyBhcyBhbnkpLkZsb2F0MzJBcnJheSA9IEFycmF5O1xufVxuXG5pZiAoIXdpbmRvdy5VaW50MzJBcnJheSlcbntcbiAgICAod2luZG93IGFzIGFueSkuVWludDMyQXJyYXkgPSBBcnJheTtcbn1cblxuaWYgKCF3aW5kb3cuVWludDE2QXJyYXkpXG57XG4gICAgKHdpbmRvdyBhcyBhbnkpLlVpbnQxNkFycmF5ID0gQXJyYXk7XG59XG5cbmlmICghd2luZG93LlVpbnQ4QXJyYXkpXG57XG4gICAgKHdpbmRvdyBhcyBhbnkpLlVpbnQ4QXJyYXkgPSBBcnJheTtcbn1cblxuaWYgKCF3aW5kb3cuSW50MzJBcnJheSlcbntcbiAgICAod2luZG93IGFzIGFueSkuSW50MzJBcnJheSA9IEFycmF5O1xufVxuIiwiY29uc3QgYXBwbGVJcGhvbmUgPSAvaVBob25lL2k7XG5jb25zdCBhcHBsZUlwb2QgPSAvaVBvZC9pO1xuY29uc3QgYXBwbGVUYWJsZXQgPSAvaVBhZC9pO1xuY29uc3QgYXBwbGVVbml2ZXJzYWwgPSAvXFxiaU9TLXVuaXZlcnNhbCg/Oi4rKU1hY1xcYi9pO1xuY29uc3QgYW5kcm9pZFBob25lID0gL1xcYkFuZHJvaWQoPzouKylNb2JpbGVcXGIvaTsgLy8gTWF0Y2ggJ0FuZHJvaWQnIEFORCAnTW9iaWxlJ1xuY29uc3QgYW5kcm9pZFRhYmxldCA9IC9BbmRyb2lkL2k7XG5jb25zdCBhbWF6b25QaG9uZSA9IC8oPzpTRDQ5MzBVUnxcXGJTaWxrKD86LispTW9iaWxlXFxiKS9pOyAvLyBNYXRjaCAnU2lsaycgQU5EICdNb2JpbGUnXG5jb25zdCBhbWF6b25UYWJsZXQgPSAvU2lsay9pO1xuY29uc3Qgd2luZG93c1Bob25lID0gL1dpbmRvd3MgUGhvbmUvaTtcbmNvbnN0IHdpbmRvd3NUYWJsZXQgPSAvXFxiV2luZG93cyg/Oi4rKUFSTVxcYi9pOyAvLyBNYXRjaCAnV2luZG93cycgQU5EICdBUk0nXG5jb25zdCBvdGhlckJsYWNrQmVycnkgPSAvQmxhY2tCZXJyeS9pO1xuY29uc3Qgb3RoZXJCbGFja0JlcnJ5MTAgPSAvQkIxMC9pO1xuY29uc3Qgb3RoZXJPcGVyYSA9IC9PcGVyYSBNaW5pL2k7XG5jb25zdCBvdGhlckNocm9tZSA9IC9cXGIoQ3JpT1N8Q2hyb21lKSg/Oi4rKU1vYmlsZS9pO1xuY29uc3Qgb3RoZXJGaXJlZm94ID0gL01vYmlsZSg/Oi4rKUZpcmVmb3hcXGIvaTsgLy8gTWF0Y2ggJ01vYmlsZScgQU5EICdGaXJlZm94J1xuXG5leHBvcnQgdHlwZSBVc2VyQWdlbnQgPSBzdHJpbmc7XG5leHBvcnQgdHlwZSBOYXZpZ2F0b3IgPSB7XG4gIHVzZXJBZ2VudDogc3RyaW5nO1xuICBwbGF0Zm9ybTogc3RyaW5nO1xuICBtYXhUb3VjaFBvaW50cz86IG51bWJlcjtcbn07XG5cbmNvbnN0IGlzQXBwbGVUYWJsZXRPbklvczEzID0gKG5hdmlnYXRvcj86IE5hdmlnYXRvcik6IGJvb2xlYW4gPT4ge1xuICByZXR1cm4gKFxuICAgIHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmXG4gICAgbmF2aWdhdG9yLnBsYXRmb3JtID09PSAnTWFjSW50ZWwnICYmXG4gICAgdHlwZW9mIG5hdmlnYXRvci5tYXhUb3VjaFBvaW50cyA9PT0gJ251bWJlcicgJiZcbiAgICBuYXZpZ2F0b3IubWF4VG91Y2hQb2ludHMgPiAxICYmXG4gICAgdHlwZW9mIE1TU3RyZWFtID09PSAndW5kZWZpbmVkJ1xuICApO1xufTtcblxuZnVuY3Rpb24gY3JlYXRlTWF0Y2godXNlckFnZW50OiBVc2VyQWdlbnQpOiAocmVnZXg6IFJlZ0V4cCkgPT4gYm9vbGVhbiB7XG4gIHJldHVybiAocmVnZXg6IFJlZ0V4cCk6IGJvb2xlYW4gPT4gcmVnZXgudGVzdCh1c2VyQWdlbnQpO1xufVxuXG5leHBvcnQgdHlwZSBpc01vYmlsZVJlc3VsdCA9IHtcbiAgYXBwbGU6IHtcbiAgICBwaG9uZTogYm9vbGVhbjtcbiAgICBpcG9kOiBib29sZWFuO1xuICAgIHRhYmxldDogYm9vbGVhbjtcbiAgICB1bml2ZXJzYWw6IGJvb2xlYW47XG4gICAgZGV2aWNlOiBib29sZWFuO1xuICB9O1xuICBhbWF6b246IHtcbiAgICBwaG9uZTogYm9vbGVhbjtcbiAgICB0YWJsZXQ6IGJvb2xlYW47XG4gICAgZGV2aWNlOiBib29sZWFuO1xuICB9O1xuICBhbmRyb2lkOiB7XG4gICAgcGhvbmU6IGJvb2xlYW47XG4gICAgdGFibGV0OiBib29sZWFuO1xuICAgIGRldmljZTogYm9vbGVhbjtcbiAgfTtcbiAgd2luZG93czoge1xuICAgIHBob25lOiBib29sZWFuO1xuICAgIHRhYmxldDogYm9vbGVhbjtcbiAgICBkZXZpY2U6IGJvb2xlYW47XG4gIH07XG4gIG90aGVyOiB7XG4gICAgYmxhY2tiZXJyeTogYm9vbGVhbjtcbiAgICBibGFja2JlcnJ5MTA6IGJvb2xlYW47XG4gICAgb3BlcmE6IGJvb2xlYW47XG4gICAgZmlyZWZveDogYm9vbGVhbjtcbiAgICBjaHJvbWU6IGJvb2xlYW47XG4gICAgZGV2aWNlOiBib29sZWFuO1xuICB9O1xuICBwaG9uZTogYm9vbGVhbjtcbiAgdGFibGV0OiBib29sZWFuO1xuICBhbnk6IGJvb2xlYW47XG59O1xuXG5leHBvcnQgdHlwZSBJc01vYmlsZVBhcmFtZXRlciA9IFVzZXJBZ2VudCB8IE5hdmlnYXRvcjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNNb2JpbGUocGFyYW0/OiBJc01vYmlsZVBhcmFtZXRlcik6IGlzTW9iaWxlUmVzdWx0IHtcbiAgbGV0IG5hdjogTmF2aWdhdG9yID0ge1xuICAgIHVzZXJBZ2VudDogJycsXG4gICAgcGxhdGZvcm06ICcnLFxuICAgIG1heFRvdWNoUG9pbnRzOiAwLFxuICB9O1xuXG4gIGlmICghcGFyYW0gJiYgdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBuYXYgPSB7XG4gICAgICB1c2VyQWdlbnQ6IG5hdmlnYXRvci51c2VyQWdlbnQsXG4gICAgICBwbGF0Zm9ybTogbmF2aWdhdG9yLnBsYXRmb3JtLFxuICAgICAgbWF4VG91Y2hQb2ludHM6IG5hdmlnYXRvci5tYXhUb3VjaFBvaW50cyB8fCAwLFxuICAgIH07XG4gIH0gZWxzZSBpZiAodHlwZW9mIHBhcmFtID09PSAnc3RyaW5nJykge1xuICAgIG5hdi51c2VyQWdlbnQgPSBwYXJhbTtcbiAgfSBlbHNlIGlmIChwYXJhbSAmJiBwYXJhbS51c2VyQWdlbnQpIHtcbiAgICBuYXYgPSB7XG4gICAgICB1c2VyQWdlbnQ6IHBhcmFtLnVzZXJBZ2VudCxcbiAgICAgIHBsYXRmb3JtOiBwYXJhbS5wbGF0Zm9ybSxcbiAgICAgIG1heFRvdWNoUG9pbnRzOiBwYXJhbS5tYXhUb3VjaFBvaW50cyB8fCAwLFxuICAgIH07XG4gIH1cblxuICBsZXQgdXNlckFnZW50ID0gbmF2LnVzZXJBZ2VudDtcblxuICAvLyBGYWNlYm9vayBtb2JpbGUgYXBwJ3MgaW50ZWdyYXRlZCBicm93c2VyIGFkZHMgYSBidW5jaCBvZiBzdHJpbmdzIHRoYXRcbiAgLy8gbWF0Y2ggZXZlcnl0aGluZy4gU3RyaXAgaXQgb3V0IGlmIGl0IGV4aXN0cy5cbiAgbGV0IHRtcCA9IHVzZXJBZ2VudC5zcGxpdCgnW0ZCQU4nKTtcbiAgaWYgKHR5cGVvZiB0bXBbMV0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgdXNlckFnZW50ID0gdG1wWzBdO1xuICB9XG5cbiAgLy8gVHdpdHRlciBtb2JpbGUgYXBwJ3MgaW50ZWdyYXRlZCBicm93c2VyIG9uIGlQYWQgYWRkcyBhIFwiVHdpdHRlciBmb3JcbiAgLy8gaVBob25lXCIgc3RyaW5nLiBTYW1lIHByb2JhYmx5IGhhcHBlbnMgb24gb3RoZXIgdGFibGV0IHBsYXRmb3Jtcy5cbiAgLy8gVGhpcyB3aWxsIGNvbmZ1c2UgZGV0ZWN0aW9uIHNvIHN0cmlwIGl0IG91dCBpZiBpdCBleGlzdHMuXG4gIHRtcCA9IHVzZXJBZ2VudC5zcGxpdCgnVHdpdHRlcicpO1xuICBpZiAodHlwZW9mIHRtcFsxXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB1c2VyQWdlbnQgPSB0bXBbMF07XG4gIH1cblxuICBjb25zdCBtYXRjaCA9IGNyZWF0ZU1hdGNoKHVzZXJBZ2VudCk7XG5cbiAgY29uc3QgcmVzdWx0OiBpc01vYmlsZVJlc3VsdCA9IHtcbiAgICBhcHBsZToge1xuICAgICAgcGhvbmU6IG1hdGNoKGFwcGxlSXBob25lKSAmJiAhbWF0Y2god2luZG93c1Bob25lKSxcbiAgICAgIGlwb2Q6IG1hdGNoKGFwcGxlSXBvZCksXG4gICAgICB0YWJsZXQ6XG4gICAgICAgICFtYXRjaChhcHBsZUlwaG9uZSkgJiZcbiAgICAgICAgKG1hdGNoKGFwcGxlVGFibGV0KSB8fCBpc0FwcGxlVGFibGV0T25Jb3MxMyhuYXYpKSAmJlxuICAgICAgICAhbWF0Y2god2luZG93c1Bob25lKSxcbiAgICAgIHVuaXZlcnNhbDogbWF0Y2goYXBwbGVVbml2ZXJzYWwpLFxuICAgICAgZGV2aWNlOlxuICAgICAgICAobWF0Y2goYXBwbGVJcGhvbmUpIHx8XG4gICAgICAgICAgbWF0Y2goYXBwbGVJcG9kKSB8fFxuICAgICAgICAgIG1hdGNoKGFwcGxlVGFibGV0KSB8fFxuICAgICAgICAgIG1hdGNoKGFwcGxlVW5pdmVyc2FsKSB8fFxuICAgICAgICAgIGlzQXBwbGVUYWJsZXRPbklvczEzKG5hdikpICYmXG4gICAgICAgICFtYXRjaCh3aW5kb3dzUGhvbmUpLFxuICAgIH0sXG4gICAgYW1hem9uOiB7XG4gICAgICBwaG9uZTogbWF0Y2goYW1hem9uUGhvbmUpLFxuICAgICAgdGFibGV0OiAhbWF0Y2goYW1hem9uUGhvbmUpICYmIG1hdGNoKGFtYXpvblRhYmxldCksXG4gICAgICBkZXZpY2U6IG1hdGNoKGFtYXpvblBob25lKSB8fCBtYXRjaChhbWF6b25UYWJsZXQpLFxuICAgIH0sXG4gICAgYW5kcm9pZDoge1xuICAgICAgcGhvbmU6XG4gICAgICAgICghbWF0Y2god2luZG93c1Bob25lKSAmJiBtYXRjaChhbWF6b25QaG9uZSkpIHx8XG4gICAgICAgICghbWF0Y2god2luZG93c1Bob25lKSAmJiBtYXRjaChhbmRyb2lkUGhvbmUpKSxcbiAgICAgIHRhYmxldDpcbiAgICAgICAgIW1hdGNoKHdpbmRvd3NQaG9uZSkgJiZcbiAgICAgICAgIW1hdGNoKGFtYXpvblBob25lKSAmJlxuICAgICAgICAhbWF0Y2goYW5kcm9pZFBob25lKSAmJlxuICAgICAgICAobWF0Y2goYW1hem9uVGFibGV0KSB8fCBtYXRjaChhbmRyb2lkVGFibGV0KSksXG4gICAgICBkZXZpY2U6XG4gICAgICAgICghbWF0Y2god2luZG93c1Bob25lKSAmJlxuICAgICAgICAgIChtYXRjaChhbWF6b25QaG9uZSkgfHxcbiAgICAgICAgICAgIG1hdGNoKGFtYXpvblRhYmxldCkgfHxcbiAgICAgICAgICAgIG1hdGNoKGFuZHJvaWRQaG9uZSkgfHxcbiAgICAgICAgICAgIG1hdGNoKGFuZHJvaWRUYWJsZXQpKSkgfHxcbiAgICAgICAgbWF0Y2goL1xcYm9raHR0cFxcYi9pKSxcbiAgICB9LFxuICAgIHdpbmRvd3M6IHtcbiAgICAgIHBob25lOiBtYXRjaCh3aW5kb3dzUGhvbmUpLFxuICAgICAgdGFibGV0OiBtYXRjaCh3aW5kb3dzVGFibGV0KSxcbiAgICAgIGRldmljZTogbWF0Y2god2luZG93c1Bob25lKSB8fCBtYXRjaCh3aW5kb3dzVGFibGV0KSxcbiAgICB9LFxuICAgIG90aGVyOiB7XG4gICAgICBibGFja2JlcnJ5OiBtYXRjaChvdGhlckJsYWNrQmVycnkpLFxuICAgICAgYmxhY2tiZXJyeTEwOiBtYXRjaChvdGhlckJsYWNrQmVycnkxMCksXG4gICAgICBvcGVyYTogbWF0Y2gob3RoZXJPcGVyYSksXG4gICAgICBmaXJlZm94OiBtYXRjaChvdGhlckZpcmVmb3gpLFxuICAgICAgY2hyb21lOiBtYXRjaChvdGhlckNocm9tZSksXG4gICAgICBkZXZpY2U6XG4gICAgICAgIG1hdGNoKG90aGVyQmxhY2tCZXJyeSkgfHxcbiAgICAgICAgbWF0Y2gob3RoZXJCbGFja0JlcnJ5MTApIHx8XG4gICAgICAgIG1hdGNoKG90aGVyT3BlcmEpIHx8XG4gICAgICAgIG1hdGNoKG90aGVyRmlyZWZveCkgfHxcbiAgICAgICAgbWF0Y2gob3RoZXJDaHJvbWUpLFxuICAgIH0sXG4gICAgYW55OiBmYWxzZSxcbiAgICBwaG9uZTogZmFsc2UsXG4gICAgdGFibGV0OiBmYWxzZSxcbiAgfTtcblxuICByZXN1bHQuYW55ID1cbiAgICByZXN1bHQuYXBwbGUuZGV2aWNlIHx8XG4gICAgcmVzdWx0LmFuZHJvaWQuZGV2aWNlIHx8XG4gICAgcmVzdWx0LndpbmRvd3MuZGV2aWNlIHx8XG4gICAgcmVzdWx0Lm90aGVyLmRldmljZTtcbiAgLy8gZXhjbHVkZXMgJ290aGVyJyBkZXZpY2VzIGFuZCBpcG9kcywgdGFyZ2V0aW5nIHRvdWNoc2NyZWVuIHBob25lc1xuICByZXN1bHQucGhvbmUgPVxuICAgIHJlc3VsdC5hcHBsZS5waG9uZSB8fCByZXN1bHQuYW5kcm9pZC5waG9uZSB8fCByZXN1bHQud2luZG93cy5waG9uZTtcbiAgcmVzdWx0LnRhYmxldCA9XG4gICAgcmVzdWx0LmFwcGxlLnRhYmxldCB8fCByZXN1bHQuYW5kcm9pZC50YWJsZXQgfHwgcmVzdWx0LndpbmRvd3MudGFibGV0O1xuXG4gIHJldHVybiByZXN1bHQ7XG59XG4iLCIvLyBUaGUgRVNNL0NKUyB2ZXJzaW9ucyBvZiBpc21vYmlsZWpzIG9ubHlcbi8vIGV4cG9ydHMgdGhlIGZ1bmN0aW9uIGZvciBleGVjdXRpbmdcbi8vIGRlc2lnbmVkIGZvciBOb2RlLW9ubHkgZW52aXJvbm1lbnRzXG5pbXBvcnQgaXNNb2JpbGVDYWxsIGZyb20gJ2lzbW9iaWxlanMnO1xuXG5jb25zdCBpc01vYmlsZSA9IGlzTW9iaWxlQ2FsbCh3aW5kb3cubmF2aWdhdG9yKTtcblxuZXhwb3J0IHsgaXNNb2JpbGUgfTtcbiIsImltcG9ydCB7IGlzTW9iaWxlIH0gZnJvbSAnLi91dGlscy9pc01vYmlsZSc7XG5pbXBvcnQgeyBtYXhSZWNvbW1lbmRlZFRleHR1cmVzIH0gZnJvbSAnLi91dGlscy9tYXhSZWNvbW1lbmRlZFRleHR1cmVzJztcbmltcG9ydCB7IGNhblVwbG9hZFNhbWVCdWZmZXIgfSBmcm9tICcuL3V0aWxzL2NhblVwbG9hZFNhbWVCdWZmZXInO1xuXG5leHBvcnQgaW50ZXJmYWNlIElSZW5kZXJPcHRpb25zIHtcbiAgICB2aWV3OiBIVE1MQ2FudmFzRWxlbWVudDtcbiAgICBhbnRpYWxpYXM6IGJvb2xlYW47XG4gICAgYXV0b0RlbnNpdHk6IGJvb2xlYW47XG4gICAgdHJhbnNwYXJlbnQ6IGJvb2xlYW47XG4gICAgYmFja2dyb3VuZENvbG9yOiBudW1iZXI7XG4gICAgY2xlYXJCZWZvcmVSZW5kZXI6IGJvb2xlYW47XG4gICAgcHJlc2VydmVEcmF3aW5nQnVmZmVyOiBib29sZWFuO1xuICAgIHdpZHRoOiBudW1iZXI7XG4gICAgaGVpZ2h0OiBudW1iZXI7XG4gICAgbGVnYWN5OiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElTZXR0aW5ncyB7XG4gICAgTUlQTUFQX1RFWFRVUkVTOiBudW1iZXI7XG4gICAgQU5JU09UUk9QSUNfTEVWRUw6IG51bWJlcjtcbiAgICBSRVNPTFVUSU9OOiBudW1iZXI7XG4gICAgRklMVEVSX1JFU09MVVRJT046IG51bWJlcjtcbiAgICBTUFJJVEVfTUFYX1RFWFRVUkVTOiBudW1iZXI7XG4gICAgU1BSSVRFX0JBVENIX1NJWkU6IG51bWJlcjtcbiAgICBSRU5ERVJfT1BUSU9OUzogSVJlbmRlck9wdGlvbnM7XG4gICAgR0NfTU9ERTogbnVtYmVyO1xuICAgIEdDX01BWF9JRExFOiBudW1iZXI7XG4gICAgR0NfTUFYX0NIRUNLX0NPVU5UOiBudW1iZXI7XG4gICAgV1JBUF9NT0RFOiBudW1iZXI7XG4gICAgU0NBTEVfTU9ERTogbnVtYmVyO1xuICAgIFBSRUNJU0lPTl9WRVJURVg6IHN0cmluZztcbiAgICBQUkVDSVNJT05fRlJBR01FTlQ6IHN0cmluZztcbiAgICBDQU5fVVBMT0FEX1NBTUVfQlVGRkVSOiBib29sZWFuO1xuICAgIENSRUFURV9JTUFHRV9CSVRNQVA6IGJvb2xlYW47XG4gICAgUk9VTkRfUElYRUxTOiBib29sZWFuO1xuICAgIFJFVElOQV9QUkVGSVg/OiBSZWdFeHA7XG4gICAgRkFJTF9JRl9NQUpPUl9QRVJGT1JNQU5DRV9DQVZFQVQ/OiBib29sZWFuO1xuICAgIFVQTE9BRFNfUEVSX0ZSQU1FPzogbnVtYmVyO1xuICAgIFNPUlRBQkxFX0NISUxEUkVOPzogYm9vbGVhbjtcbiAgICBQUkVGRVJfRU5WPzogbnVtYmVyO1xuICAgIFNUUklDVF9URVhUVVJFX0NBQ0hFPzogYm9vbGVhbjtcbiAgICBNRVNIX0NBTlZBU19QQURESU5HPzogbnVtYmVyO1xuICAgIFRBUkdFVF9GUE1TPzogbnVtYmVyO1xufVxuXG4vKipcbiAqIFVzZXIncyBjdXN0b21pemFibGUgZ2xvYmFscyBmb3Igb3ZlcnJpZGluZyB0aGUgZGVmYXVsdCBQSVhJIHNldHRpbmdzLCBzdWNoXG4gKiBhcyBhIHJlbmRlcmVyJ3MgZGVmYXVsdCByZXNvbHV0aW9uLCBmcmFtZXJhdGUsIGZsb2F0IHByZWNpc2lvbiwgZXRjLlxuICogQGV4YW1wbGVcbiAqIC8vIFVzZSB0aGUgbmF0aXZlIHdpbmRvdyByZXNvbHV0aW9uIGFzIHRoZSBkZWZhdWx0IHJlc29sdXRpb25cbiAqIC8vIHdpbGwgc3VwcG9ydCBoaWdoLWRlbnNpdHkgZGlzcGxheXMgd2hlbiByZW5kZXJpbmdcbiAqIFBJWEkuc2V0dGluZ3MuUkVTT0xVVElPTiA9IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvO1xuICpcbiAqIC8vIERpc2FibGUgaW50ZXJwb2xhdGlvbiB3aGVuIHNjYWxpbmcsIHdpbGwgbWFrZSB0ZXh0dXJlIGJlIHBpeGVsYXRlZFxuICogUElYSS5zZXR0aW5ncy5TQ0FMRV9NT0RFID0gUElYSS5TQ0FMRV9NT0RFUy5ORUFSRVNUO1xuICogQG5hbWVzcGFjZSBQSVhJLnNldHRpbmdzXG4gKi9cbmV4cG9ydCBjb25zdCBzZXR0aW5nczogSVNldHRpbmdzID0ge1xuXG4gICAgLyoqXG4gICAgICogSWYgc2V0IHRvIHRydWUgV2ViR0wgd2lsbCBhdHRlbXB0IG1ha2UgdGV4dHVyZXMgbWltcGFwZWQgYnkgZGVmYXVsdC5cbiAgICAgKiBNaXBtYXBwaW5nIHdpbGwgb25seSBzdWNjZWVkIGlmIHRoZSBiYXNlIHRleHR1cmUgdXBsb2FkZWQgaGFzIHBvd2VyIG9mIHR3byBkaW1lbnNpb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIE1JUE1BUF9URVhUVVJFU1xuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge1BJWEkuTUlQTUFQX01PREVTfVxuICAgICAqIEBkZWZhdWx0IFBJWEkuTUlQTUFQX01PREVTLlBPVzJcbiAgICAgKi9cbiAgICBNSVBNQVBfVEVYVFVSRVM6IDEsXG5cbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IGFuaXNvdHJvcGljIGZpbHRlcmluZyBsZXZlbCBvZiB0ZXh0dXJlcy5cbiAgICAgKiBVc3VhbGx5IGZyb20gMCB0byAxNlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIEFOSVNPVFJPUElDX0xFVkVMXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cbiAgICBBTklTT1RST1BJQ19MRVZFTDogMCxcblxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgcmVuZGVyZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG5hbWUgUkVTT0xVVElPTlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAxXG4gICAgICovXG4gICAgUkVTT0xVVElPTjogMSxcblxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgZmlsdGVyIHJlc29sdXRpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG5hbWUgRklMVEVSX1JFU09MVVRJT05cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMVxuICAgICAqL1xuICAgIEZJTFRFUl9SRVNPTFVUSU9OOiAxLFxuXG4gICAgLyoqXG4gICAgICogVGhlIG1heGltdW0gdGV4dHVyZXMgdGhhdCB0aGlzIGRldmljZSBzdXBwb3J0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbmFtZSBTUFJJVEVfTUFYX1RFWFRVUkVTXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDMyXG4gICAgICovXG4gICAgU1BSSVRFX01BWF9URVhUVVJFUzogbWF4UmVjb21tZW5kZWRUZXh0dXJlcygzMiksXG5cbiAgICAvLyBUT0RPOiBtYXliZSBjaGFuZ2UgdG8gU1BSSVRFLkJBVENIX1NJWkU6IDIwMDBcbiAgICAvLyBUT0RPOiBtYXliZSBhZGQgUEFSVElDTEUuQkFUQ0hfU0laRTogMTUwMDBcblxuICAgIC8qKlxuICAgICAqIFRoZSBkZWZhdWx0IHNwcml0ZSBiYXRjaCBzaXplLlxuICAgICAqXG4gICAgICogVGhlIGRlZmF1bHQgYWltcyB0byBiYWxhbmNlIGRlc2t0b3AgYW5kIG1vYmlsZSBkZXZpY2VzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIFNQUklURV9CQVRDSF9TSVpFXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDQwOTZcbiAgICAgKi9cbiAgICBTUFJJVEVfQkFUQ0hfU0laRTogNDA5NixcblxuICAgIC8qKlxuICAgICAqIFRoZSBkZWZhdWx0IHJlbmRlciBvcHRpb25zIGlmIG5vbmUgYXJlIHN1cHBsaWVkIHRvIHtAbGluayBQSVhJLlJlbmRlcmVyfVxuICAgICAqIG9yIHtAbGluayBQSVhJLkNhbnZhc1JlbmRlcmVyfS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbmFtZSBSRU5ERVJfT1BUSU9OU1xuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge29iamVjdH1cbiAgICAgKiBAcHJvcGVydHkge0hUTUxDYW52YXNFbGVtZW50fSB2aWV3PW51bGxcbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gcmVzb2x1dGlvbj0xXG4gICAgICogQHByb3BlcnR5IHtib29sZWFufSBhbnRpYWxpYXM9ZmFsc2VcbiAgICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IGF1dG9EZW5zaXR5PWZhbHNlXG4gICAgICogQHByb3BlcnR5IHtib29sZWFufSB0cmFuc3BhcmVudD1mYWxzZVxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBiYWNrZ3JvdW5kQ29sb3I9MHgwMDAwMDBcbiAgICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IGNsZWFyQmVmb3JlUmVuZGVyPXRydWVcbiAgICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IHByZXNlcnZlRHJhd2luZ0J1ZmZlcj1mYWxzZVxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB3aWR0aD04MDBcbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gaGVpZ2h0PTYwMFxuICAgICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gbGVnYWN5PWZhbHNlXG4gICAgICovXG4gICAgUkVOREVSX09QVElPTlM6IHtcbiAgICAgICAgdmlldzogbnVsbCxcbiAgICAgICAgYW50aWFsaWFzOiBmYWxzZSxcbiAgICAgICAgYXV0b0RlbnNpdHk6IGZhbHNlLFxuICAgICAgICB0cmFuc3BhcmVudDogZmFsc2UsXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogMHgwMDAwMDAsXG4gICAgICAgIGNsZWFyQmVmb3JlUmVuZGVyOiB0cnVlLFxuICAgICAgICBwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6IGZhbHNlLFxuICAgICAgICB3aWR0aDogODAwLFxuICAgICAgICBoZWlnaHQ6IDYwMCxcbiAgICAgICAgbGVnYWN5OiBmYWxzZSxcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRGVmYXVsdCBHYXJiYWdlIENvbGxlY3Rpb24gbW9kZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbmFtZSBHQ19NT0RFXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7UElYSS5HQ19NT0RFU31cbiAgICAgKiBAZGVmYXVsdCBQSVhJLkdDX01PREVTLkFVVE9cbiAgICAgKi9cbiAgICBHQ19NT0RFOiAwLFxuXG4gICAgLyoqXG4gICAgICogRGVmYXVsdCBHYXJiYWdlIENvbGxlY3Rpb24gbWF4IGlkbGUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG5hbWUgR0NfTUFYX0lETEVcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMzYwMFxuICAgICAqL1xuICAgIEdDX01BWF9JRExFOiA2MCAqIDYwLFxuXG4gICAgLyoqXG4gICAgICogRGVmYXVsdCBHYXJiYWdlIENvbGxlY3Rpb24gbWF4aW11bSBjaGVjayBjb3VudC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbmFtZSBHQ19NQVhfQ0hFQ0tfQ09VTlRcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgNjAwXG4gICAgICovXG4gICAgR0NfTUFYX0NIRUNLX0NPVU5UOiA2MCAqIDEwLFxuXG4gICAgLyoqXG4gICAgICogRGVmYXVsdCB3cmFwIG1vZGVzIHRoYXQgYXJlIHN1cHBvcnRlZCBieSBwaXhpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIFdSQVBfTU9ERVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge1BJWEkuV1JBUF9NT0RFU31cbiAgICAgKiBAZGVmYXVsdCBQSVhJLldSQVBfTU9ERVMuQ0xBTVBcbiAgICAgKi9cbiAgICBXUkFQX01PREU6IDMzMDcxLFxuXG4gICAgLyoqXG4gICAgICogRGVmYXVsdCBzY2FsZSBtb2RlIGZvciB0ZXh0dXJlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbmFtZSBTQ0FMRV9NT0RFXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7UElYSS5TQ0FMRV9NT0RFU31cbiAgICAgKiBAZGVmYXVsdCBQSVhJLlNDQUxFX01PREVTLkxJTkVBUlxuICAgICAqL1xuICAgIFNDQUxFX01PREU6IDEsXG5cbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IHNwZWNpZnkgZmxvYXQgcHJlY2lzaW9uIGluIHZlcnRleCBzaGFkZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG5hbWUgUFJFQ0lTSU9OX1ZFUlRFWFxuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge1BJWEkuUFJFQ0lTSU9OfVxuICAgICAqIEBkZWZhdWx0IFBJWEkuUFJFQ0lTSU9OLkhJR0hcbiAgICAgKi9cbiAgICBQUkVDSVNJT05fVkVSVEVYOiAnaGlnaHAnLFxuXG4gICAgLyoqXG4gICAgICogRGVmYXVsdCBzcGVjaWZ5IGZsb2F0IHByZWNpc2lvbiBpbiBmcmFnbWVudCBzaGFkZXIuXG4gICAgICogaU9TIGlzIGJlc3Qgc2V0IGF0IGhpZ2hwIGR1ZSB0byBodHRwczovL2dpdGh1Yi5jb20vcGl4aWpzL3BpeGkuanMvaXNzdWVzLzM3NDJcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbmFtZSBQUkVDSVNJT05fRlJBR01FTlRcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtQSVhJLlBSRUNJU0lPTn1cbiAgICAgKiBAZGVmYXVsdCBQSVhJLlBSRUNJU0lPTi5NRURJVU1cbiAgICAgKi9cbiAgICBQUkVDSVNJT05fRlJBR01FTlQ6IGlzTW9iaWxlLmFwcGxlLmRldmljZSA/ICdoaWdocCcgOiAnbWVkaXVtcCcsXG5cbiAgICAvKipcbiAgICAgKiBDYW4gd2UgdXBsb2FkIHRoZSBzYW1lIGJ1ZmZlciBpbiBhIHNpbmdsZSBmcmFtZT9cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbmFtZSBDQU5fVVBMT0FEX1NBTUVfQlVGRkVSXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBDQU5fVVBMT0FEX1NBTUVfQlVGRkVSOiBjYW5VcGxvYWRTYW1lQnVmZmVyKCksXG5cbiAgICAvKipcbiAgICAgKiBFbmFibGVzIGJpdG1hcCBjcmVhdGlvbiBiZWZvcmUgaW1hZ2UgbG9hZC4gVGhpcyBmZWF0dXJlIGlzIGV4cGVyaW1lbnRhbC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbmFtZSBDUkVBVEVfSU1BR0VfQklUTUFQXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqL1xuICAgIENSRUFURV9JTUFHRV9CSVRNQVA6IGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogSWYgdHJ1ZSBQaXhpSlMgd2lsbCBNYXRoLmZsb29yKCkgeC95IHZhbHVlcyB3aGVuIHJlbmRlcmluZywgc3RvcHBpbmcgcGl4ZWwgaW50ZXJwb2xhdGlvbi5cbiAgICAgKiBBZHZhbnRhZ2VzIGNhbiBpbmNsdWRlIHNoYXJwZXIgaW1hZ2UgcXVhbGl0eSAobGlrZSB0ZXh0KSBhbmQgZmFzdGVyIHJlbmRlcmluZyBvbiBjYW52YXMuXG4gICAgICogVGhlIG1haW4gZGlzYWR2YW50YWdlIGlzIG1vdmVtZW50IG9mIG9iamVjdHMgbWF5IGFwcGVhciBsZXNzIHNtb290aC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAY29uc3RhbnRcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICovXG4gICAgUk9VTkRfUElYRUxTOiBmYWxzZSxcbn07XG4iLCJpbXBvcnQgeyBpc01vYmlsZSB9IGZyb20gJy4vaXNNb2JpbGUnO1xuXG4vKipcbiAqIFRoZSBtYXhpbXVtIHJlY29tbWVuZGVkIHRleHR1cmUgdW5pdHMgdG8gdXNlLlxuICogSW4gdGhlb3J5IHRoZSBiaWdnZXIgdGhlIGJldHRlciwgYW5kIGZvciBkZXNrdG9wIHdlJ2xsIHVzZSBhcyBtYW55IGFzIHdlIGNhbi5cbiAqIEJ1dCBzb21lIG1vYmlsZSBkZXZpY2VzIHNsb3cgZG93biBpZiB0aGVyZSBpcyB0byBtYW55IGJyYW5jaGVzIGluIHRoZSBzaGFkZXIuXG4gKiBTbyBpbiBwcmFjdGljZSB0aGVyZSBzZWVtcyB0byBiZSBhIHN3ZWV0IHNwb3Qgc2l6ZSB0aGF0IHZhcmllcyBkZXBlbmRpbmcgb24gdGhlIGRldmljZS5cbiAqXG4gKiBJbiB2NCwgYWxsIG1vYmlsZSBkZXZpY2VzIHdlcmUgbGltaXRlZCB0byA0IHRleHR1cmUgdW5pdHMgYmVjYXVzZSBmb3IgdGhpcy5cbiAqIEluIHY1LCB3ZSBhbGxvdyBhbGwgdGV4dHVyZSB1bml0cyB0byBiZSB1c2VkIG9uIG1vZGVybiBBcHBsZSBvciBBbmRyb2lkIGRldmljZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXhcbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtYXhSZWNvbW1lbmRlZFRleHR1cmVzKG1heDogbnVtYmVyKTogbnVtYmVyXG57XG4gICAgbGV0IGFsbG93TWF4ID0gdHJ1ZTtcblxuICAgIGlmIChpc01vYmlsZS50YWJsZXQgfHwgaXNNb2JpbGUucGhvbmUpXG4gICAge1xuICAgICAgICBpZiAoaXNNb2JpbGUuYXBwbGUuZGV2aWNlKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBtYXRjaCA9IChuYXZpZ2F0b3IudXNlckFnZW50KS5tYXRjaCgvT1MgKFxcZCspXyhcXGQrKT8vKTtcblxuICAgICAgICAgICAgaWYgKG1hdGNoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1ham9yVmVyc2lvbiA9IHBhcnNlSW50KG1hdGNoWzFdLCAxMCk7XG5cbiAgICAgICAgICAgICAgICAvLyBMaW1pdCB0ZXh0dXJlIHVuaXRzIG9uIGRldmljZXMgYmVsb3cgaU9TIDExLCB3aGljaCB3aWxsIGJlIG9sZGVyIGhhcmR3YXJlXG4gICAgICAgICAgICAgICAgaWYgKG1ham9yVmVyc2lvbiA8IDExKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgYWxsb3dNYXggPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzTW9iaWxlLmFuZHJvaWQuZGV2aWNlKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBtYXRjaCA9IChuYXZpZ2F0b3IudXNlckFnZW50KS5tYXRjaCgvQW5kcm9pZFxccyhbMC05Ll0qKS8pO1xuXG4gICAgICAgICAgICBpZiAobWF0Y2gpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWFqb3JWZXJzaW9uID0gcGFyc2VJbnQobWF0Y2hbMV0sIDEwKTtcblxuICAgICAgICAgICAgICAgIC8vIExpbWl0IHRleHR1cmUgdW5pdHMgb24gZGV2aWNlcyBiZWxvdyBBbmRyb2lkIDcgKE5vdWdhdCksIHdoaWNoIHdpbGwgYmUgb2xkZXIgaGFyZHdhcmVcbiAgICAgICAgICAgICAgICBpZiAobWFqb3JWZXJzaW9uIDwgNylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGFsbG93TWF4ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGFsbG93TWF4ID8gbWF4IDogNDtcbn1cbiIsImltcG9ydCB7IGlzTW9iaWxlIH0gZnJvbSAnLi9pc01vYmlsZSc7XG5cbi8qKlxuICogVXBsb2FkaW5nIHRoZSBzYW1lIGJ1ZmZlciBtdWx0aXBsZSB0aW1lcyBpbiBhIHNpbmdsZSBmcmFtZSBjYW4gY2F1c2UgcGVyZm9ybWFuY2UgaXNzdWVzLlxuICogQXBwYXJlbnQgb24gaU9TIHNvIG9ubHkgY2hlY2sgZm9yIHRoYXQgYXQgdGhlIG1vbWVudFxuICogVGhpcyBjaGVjayBtYXkgYmVjb21lIG1vcmUgY29tcGxleCBpZiB0aGlzIGlzc3VlIHBvcHMgdXAgZWxzZXdoZXJlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNhblVwbG9hZFNhbWVCdWZmZXIoKTogYm9vbGVhblxue1xuICAgIHJldHVybiAhaXNNb2JpbGUuYXBwbGUuZGV2aWNlO1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgaGFzID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eVxuICAsIHByZWZpeCA9ICd+JztcblxuLyoqXG4gKiBDb25zdHJ1Y3RvciB0byBjcmVhdGUgYSBzdG9yYWdlIGZvciBvdXIgYEVFYCBvYmplY3RzLlxuICogQW4gYEV2ZW50c2AgaW5zdGFuY2UgaXMgYSBwbGFpbiBvYmplY3Qgd2hvc2UgcHJvcGVydGllcyBhcmUgZXZlbnQgbmFtZXMuXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBFdmVudHMoKSB7fVxuXG4vL1xuLy8gV2UgdHJ5IHRvIG5vdCBpbmhlcml0IGZyb20gYE9iamVjdC5wcm90b3R5cGVgLiBJbiBzb21lIGVuZ2luZXMgY3JlYXRpbmcgYW5cbi8vIGluc3RhbmNlIGluIHRoaXMgd2F5IGlzIGZhc3RlciB0aGFuIGNhbGxpbmcgYE9iamVjdC5jcmVhdGUobnVsbClgIGRpcmVjdGx5LlxuLy8gSWYgYE9iamVjdC5jcmVhdGUobnVsbClgIGlzIG5vdCBzdXBwb3J0ZWQgd2UgcHJlZml4IHRoZSBldmVudCBuYW1lcyB3aXRoIGFcbi8vIGNoYXJhY3RlciB0byBtYWtlIHN1cmUgdGhhdCB0aGUgYnVpbHQtaW4gb2JqZWN0IHByb3BlcnRpZXMgYXJlIG5vdFxuLy8gb3ZlcnJpZGRlbiBvciB1c2VkIGFzIGFuIGF0dGFjayB2ZWN0b3IuXG4vL1xuaWYgKE9iamVjdC5jcmVhdGUpIHtcbiAgRXZlbnRzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cbiAgLy9cbiAgLy8gVGhpcyBoYWNrIGlzIG5lZWRlZCBiZWNhdXNlIHRoZSBgX19wcm90b19fYCBwcm9wZXJ0eSBpcyBzdGlsbCBpbmhlcml0ZWQgaW5cbiAgLy8gc29tZSBvbGQgYnJvd3NlcnMgbGlrZSBBbmRyb2lkIDQsIGlQaG9uZSA1LjEsIE9wZXJhIDExIGFuZCBTYWZhcmkgNS5cbiAgLy9cbiAgaWYgKCFuZXcgRXZlbnRzKCkuX19wcm90b19fKSBwcmVmaXggPSBmYWxzZTtcbn1cblxuLyoqXG4gKiBSZXByZXNlbnRhdGlvbiBvZiBhIHNpbmdsZSBldmVudCBsaXN0ZW5lci5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyp9IGNvbnRleHQgVGhlIGNvbnRleHQgdG8gaW52b2tlIHRoZSBsaXN0ZW5lciB3aXRoLlxuICogQHBhcmFtIHtCb29sZWFufSBbb25jZT1mYWxzZV0gU3BlY2lmeSBpZiB0aGUgbGlzdGVuZXIgaXMgYSBvbmUtdGltZSBsaXN0ZW5lci5cbiAqIEBjb25zdHJ1Y3RvclxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gRUUoZm4sIGNvbnRleHQsIG9uY2UpIHtcbiAgdGhpcy5mbiA9IGZuO1xuICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICB0aGlzLm9uY2UgPSBvbmNlIHx8IGZhbHNlO1xufVxuXG4vKipcbiAqIEFkZCBhIGxpc3RlbmVyIGZvciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7RXZlbnRFbWl0dGVyfSBlbWl0dGVyIFJlZmVyZW5jZSB0byB0aGUgYEV2ZW50RW1pdHRlcmAgaW5zdGFuY2UuXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyp9IGNvbnRleHQgVGhlIGNvbnRleHQgdG8gaW52b2tlIHRoZSBsaXN0ZW5lciB3aXRoLlxuICogQHBhcmFtIHtCb29sZWFufSBvbmNlIFNwZWNpZnkgaWYgdGhlIGxpc3RlbmVyIGlzIGEgb25lLXRpbWUgbGlzdGVuZXIuXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gYWRkTGlzdGVuZXIoZW1pdHRlciwgZXZlbnQsIGZuLCBjb250ZXh0LCBvbmNlKSB7XG4gIGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgbGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG4gIH1cblxuICB2YXIgbGlzdGVuZXIgPSBuZXcgRUUoZm4sIGNvbnRleHQgfHwgZW1pdHRlciwgb25jZSlcbiAgICAsIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnQ7XG5cbiAgaWYgKCFlbWl0dGVyLl9ldmVudHNbZXZ0XSkgZW1pdHRlci5fZXZlbnRzW2V2dF0gPSBsaXN0ZW5lciwgZW1pdHRlci5fZXZlbnRzQ291bnQrKztcbiAgZWxzZSBpZiAoIWVtaXR0ZXIuX2V2ZW50c1tldnRdLmZuKSBlbWl0dGVyLl9ldmVudHNbZXZ0XS5wdXNoKGxpc3RlbmVyKTtcbiAgZWxzZSBlbWl0dGVyLl9ldmVudHNbZXZ0XSA9IFtlbWl0dGVyLl9ldmVudHNbZXZ0XSwgbGlzdGVuZXJdO1xuXG4gIHJldHVybiBlbWl0dGVyO1xufVxuXG4vKipcbiAqIENsZWFyIGV2ZW50IGJ5IG5hbWUuXG4gKlxuICogQHBhcmFtIHtFdmVudEVtaXR0ZXJ9IGVtaXR0ZXIgUmVmZXJlbmNlIHRvIHRoZSBgRXZlbnRFbWl0dGVyYCBpbnN0YW5jZS5cbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldnQgVGhlIEV2ZW50IG5hbWUuXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBjbGVhckV2ZW50KGVtaXR0ZXIsIGV2dCkge1xuICBpZiAoLS1lbWl0dGVyLl9ldmVudHNDb3VudCA9PT0gMCkgZW1pdHRlci5fZXZlbnRzID0gbmV3IEV2ZW50cygpO1xuICBlbHNlIGRlbGV0ZSBlbWl0dGVyLl9ldmVudHNbZXZ0XTtcbn1cblxuLyoqXG4gKiBNaW5pbWFsIGBFdmVudEVtaXR0ZXJgIGludGVyZmFjZSB0aGF0IGlzIG1vbGRlZCBhZ2FpbnN0IHRoZSBOb2RlLmpzXG4gKiBgRXZlbnRFbWl0dGVyYCBpbnRlcmZhY2UuXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcHVibGljXG4gKi9cbmZ1bmN0aW9uIEV2ZW50RW1pdHRlcigpIHtcbiAgdGhpcy5fZXZlbnRzID0gbmV3IEV2ZW50cygpO1xuICB0aGlzLl9ldmVudHNDb3VudCA9IDA7XG59XG5cbi8qKlxuICogUmV0dXJuIGFuIGFycmF5IGxpc3RpbmcgdGhlIGV2ZW50cyBmb3Igd2hpY2ggdGhlIGVtaXR0ZXIgaGFzIHJlZ2lzdGVyZWRcbiAqIGxpc3RlbmVycy5cbiAqXG4gKiBAcmV0dXJucyB7QXJyYXl9XG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZXZlbnROYW1lcyA9IGZ1bmN0aW9uIGV2ZW50TmFtZXMoKSB7XG4gIHZhciBuYW1lcyA9IFtdXG4gICAgLCBldmVudHNcbiAgICAsIG5hbWU7XG5cbiAgaWYgKHRoaXMuX2V2ZW50c0NvdW50ID09PSAwKSByZXR1cm4gbmFtZXM7XG5cbiAgZm9yIChuYW1lIGluIChldmVudHMgPSB0aGlzLl9ldmVudHMpKSB7XG4gICAgaWYgKGhhcy5jYWxsKGV2ZW50cywgbmFtZSkpIG5hbWVzLnB1c2gocHJlZml4ID8gbmFtZS5zbGljZSgxKSA6IG5hbWUpO1xuICB9XG5cbiAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgICByZXR1cm4gbmFtZXMuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZXZlbnRzKSk7XG4gIH1cblxuICByZXR1cm4gbmFtZXM7XG59O1xuXG4vKipcbiAqIFJldHVybiB0aGUgbGlzdGVuZXJzIHJlZ2lzdGVyZWQgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHJldHVybnMge0FycmF5fSBUaGUgcmVnaXN0ZXJlZCBsaXN0ZW5lcnMuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJzID0gZnVuY3Rpb24gbGlzdGVuZXJzKGV2ZW50KSB7XG4gIHZhciBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50XG4gICAgLCBoYW5kbGVycyA9IHRoaXMuX2V2ZW50c1tldnRdO1xuXG4gIGlmICghaGFuZGxlcnMpIHJldHVybiBbXTtcbiAgaWYgKGhhbmRsZXJzLmZuKSByZXR1cm4gW2hhbmRsZXJzLmZuXTtcblxuICBmb3IgKHZhciBpID0gMCwgbCA9IGhhbmRsZXJzLmxlbmd0aCwgZWUgPSBuZXcgQXJyYXkobCk7IGkgPCBsOyBpKyspIHtcbiAgICBlZVtpXSA9IGhhbmRsZXJzW2ldLmZuO1xuICB9XG5cbiAgcmV0dXJuIGVlO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gdGhlIG51bWJlciBvZiBsaXN0ZW5lcnMgbGlzdGVuaW5nIHRvIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHJldHVybnMge051bWJlcn0gVGhlIG51bWJlciBvZiBsaXN0ZW5lcnMuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uIGxpc3RlbmVyQ291bnQoZXZlbnQpIHtcbiAgdmFyIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnRcbiAgICAsIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50c1tldnRdO1xuXG4gIGlmICghbGlzdGVuZXJzKSByZXR1cm4gMDtcbiAgaWYgKGxpc3RlbmVycy5mbikgcmV0dXJuIDE7XG4gIHJldHVybiBsaXN0ZW5lcnMubGVuZ3RoO1xufTtcblxuLyoqXG4gKiBDYWxscyBlYWNoIG9mIHRoZSBsaXN0ZW5lcnMgcmVnaXN0ZXJlZCBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gYHRydWVgIGlmIHRoZSBldmVudCBoYWQgbGlzdGVuZXJzLCBlbHNlIGBmYWxzZWAuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uIGVtaXQoZXZlbnQsIGExLCBhMiwgYTMsIGE0LCBhNSkge1xuICB2YXIgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcblxuICBpZiAoIXRoaXMuX2V2ZW50c1tldnRdKSByZXR1cm4gZmFsc2U7XG5cbiAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50c1tldnRdXG4gICAgLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoXG4gICAgLCBhcmdzXG4gICAgLCBpO1xuXG4gIGlmIChsaXN0ZW5lcnMuZm4pIHtcbiAgICBpZiAobGlzdGVuZXJzLm9uY2UpIHRoaXMucmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVycy5mbiwgdW5kZWZpbmVkLCB0cnVlKTtcblxuICAgIHN3aXRjaCAobGVuKSB7XG4gICAgICBjYXNlIDE6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCksIHRydWU7XG4gICAgICBjYXNlIDI6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEpLCB0cnVlO1xuICAgICAgY2FzZSAzOiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExLCBhMiksIHRydWU7XG4gICAgICBjYXNlIDQ6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEsIGEyLCBhMyksIHRydWU7XG4gICAgICBjYXNlIDU6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEsIGEyLCBhMywgYTQpLCB0cnVlO1xuICAgICAgY2FzZSA2OiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExLCBhMiwgYTMsIGE0LCBhNSksIHRydWU7XG4gICAgfVxuXG4gICAgZm9yIChpID0gMSwgYXJncyA9IG5ldyBBcnJheShsZW4gLTEpOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgIH1cblxuICAgIGxpc3RlbmVycy5mbi5hcHBseShsaXN0ZW5lcnMuY29udGV4dCwgYXJncyk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGxlbmd0aCA9IGxpc3RlbmVycy5sZW5ndGhcbiAgICAgICwgajtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGxpc3RlbmVyc1tpXS5vbmNlKSB0aGlzLnJlbW92ZUxpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcnNbaV0uZm4sIHVuZGVmaW5lZCwgdHJ1ZSk7XG5cbiAgICAgIHN3aXRjaCAobGVuKSB7XG4gICAgICAgIGNhc2UgMTogbGlzdGVuZXJzW2ldLmZuLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQpOyBicmVhaztcbiAgICAgICAgY2FzZSAyOiBsaXN0ZW5lcnNbaV0uZm4uY2FsbChsaXN0ZW5lcnNbaV0uY29udGV4dCwgYTEpOyBicmVhaztcbiAgICAgICAgY2FzZSAzOiBsaXN0ZW5lcnNbaV0uZm4uY2FsbChsaXN0ZW5lcnNbaV0uY29udGV4dCwgYTEsIGEyKTsgYnJlYWs7XG4gICAgICAgIGNhc2UgNDogbGlzdGVuZXJzW2ldLmZuLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQsIGExLCBhMiwgYTMpOyBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBpZiAoIWFyZ3MpIGZvciAoaiA9IDEsIGFyZ3MgPSBuZXcgQXJyYXkobGVuIC0xKTsgaiA8IGxlbjsgaisrKSB7XG4gICAgICAgICAgICBhcmdzW2ogLSAxXSA9IGFyZ3VtZW50c1tqXTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBsaXN0ZW5lcnNbaV0uZm4uYXBwbHkobGlzdGVuZXJzW2ldLmNvbnRleHQsIGFyZ3MpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTtcblxuLyoqXG4gKiBBZGQgYSBsaXN0ZW5lciBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyp9IFtjb250ZXh0PXRoaXNdIFRoZSBjb250ZXh0IHRvIGludm9rZSB0aGUgbGlzdGVuZXIgd2l0aC5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IGB0aGlzYC5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uIG9uKGV2ZW50LCBmbiwgY29udGV4dCkge1xuICByZXR1cm4gYWRkTGlzdGVuZXIodGhpcywgZXZlbnQsIGZuLCBjb250ZXh0LCBmYWxzZSk7XG59O1xuXG4vKipcbiAqIEFkZCBhIG9uZS10aW1lIGxpc3RlbmVyIGZvciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7Kn0gW2NvbnRleHQ9dGhpc10gVGhlIGNvbnRleHQgdG8gaW52b2tlIHRoZSBsaXN0ZW5lciB3aXRoLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gYHRoaXNgLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uY2UgPSBmdW5jdGlvbiBvbmNlKGV2ZW50LCBmbiwgY29udGV4dCkge1xuICByZXR1cm4gYWRkTGlzdGVuZXIodGhpcywgZXZlbnQsIGZuLCBjb250ZXh0LCB0cnVlKTtcbn07XG5cbi8qKlxuICogUmVtb3ZlIHRoZSBsaXN0ZW5lcnMgb2YgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBPbmx5IHJlbW92ZSB0aGUgbGlzdGVuZXJzIHRoYXQgbWF0Y2ggdGhpcyBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7Kn0gY29udGV4dCBPbmx5IHJlbW92ZSB0aGUgbGlzdGVuZXJzIHRoYXQgaGF2ZSB0aGlzIGNvbnRleHQuXG4gKiBAcGFyYW0ge0Jvb2xlYW59IG9uY2UgT25seSByZW1vdmUgb25lLXRpbWUgbGlzdGVuZXJzLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gYHRoaXNgLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyID0gZnVuY3Rpb24gcmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGZuLCBjb250ZXh0LCBvbmNlKSB7XG4gIHZhciBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50O1xuXG4gIGlmICghdGhpcy5fZXZlbnRzW2V2dF0pIHJldHVybiB0aGlzO1xuICBpZiAoIWZuKSB7XG4gICAgY2xlYXJFdmVudCh0aGlzLCBldnQpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50c1tldnRdO1xuXG4gIGlmIChsaXN0ZW5lcnMuZm4pIHtcbiAgICBpZiAoXG4gICAgICBsaXN0ZW5lcnMuZm4gPT09IGZuICYmXG4gICAgICAoIW9uY2UgfHwgbGlzdGVuZXJzLm9uY2UpICYmXG4gICAgICAoIWNvbnRleHQgfHwgbGlzdGVuZXJzLmNvbnRleHQgPT09IGNvbnRleHQpXG4gICAgKSB7XG4gICAgICBjbGVhckV2ZW50KHRoaXMsIGV2dCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGZvciAodmFyIGkgPSAwLCBldmVudHMgPSBbXSwgbGVuZ3RoID0gbGlzdGVuZXJzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoXG4gICAgICAgIGxpc3RlbmVyc1tpXS5mbiAhPT0gZm4gfHxcbiAgICAgICAgKG9uY2UgJiYgIWxpc3RlbmVyc1tpXS5vbmNlKSB8fFxuICAgICAgICAoY29udGV4dCAmJiBsaXN0ZW5lcnNbaV0uY29udGV4dCAhPT0gY29udGV4dClcbiAgICAgICkge1xuICAgICAgICBldmVudHMucHVzaChsaXN0ZW5lcnNbaV0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vXG4gICAgLy8gUmVzZXQgdGhlIGFycmF5LCBvciByZW1vdmUgaXQgY29tcGxldGVseSBpZiB3ZSBoYXZlIG5vIG1vcmUgbGlzdGVuZXJzLlxuICAgIC8vXG4gICAgaWYgKGV2ZW50cy5sZW5ndGgpIHRoaXMuX2V2ZW50c1tldnRdID0gZXZlbnRzLmxlbmd0aCA9PT0gMSA/IGV2ZW50c1swXSA6IGV2ZW50cztcbiAgICBlbHNlIGNsZWFyRXZlbnQodGhpcywgZXZ0KTtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgYWxsIGxpc3RlbmVycywgb3IgdGhvc2Ugb2YgdGhlIHNwZWNpZmllZCBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gW2V2ZW50XSBUaGUgZXZlbnQgbmFtZS5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IGB0aGlzYC5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBmdW5jdGlvbiByZW1vdmVBbGxMaXN0ZW5lcnMoZXZlbnQpIHtcbiAgdmFyIGV2dDtcblxuICBpZiAoZXZlbnQpIHtcbiAgICBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50O1xuICAgIGlmICh0aGlzLl9ldmVudHNbZXZ0XSkgY2xlYXJFdmVudCh0aGlzLCBldnQpO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuX2V2ZW50cyA9IG5ldyBFdmVudHMoKTtcbiAgICB0aGlzLl9ldmVudHNDb3VudCA9IDA7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8vXG4vLyBBbGlhcyBtZXRob2RzIG5hbWVzIGJlY2F1c2UgcGVvcGxlIHJvbGwgbGlrZSB0aGF0LlxuLy9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub2ZmID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcjtcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXIgPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uO1xuXG4vL1xuLy8gRXhwb3NlIHRoZSBwcmVmaXguXG4vL1xuRXZlbnRFbWl0dGVyLnByZWZpeGVkID0gcHJlZml4O1xuXG4vL1xuLy8gQWxsb3cgYEV2ZW50RW1pdHRlcmAgdG8gYmUgaW1wb3J0ZWQgYXMgbW9kdWxlIG5hbWVzcGFjZS5cbi8vXG5FdmVudEVtaXR0ZXIuRXZlbnRFbWl0dGVyID0gRXZlbnRFbWl0dGVyO1xuXG4vL1xuLy8gRXhwb3NlIHRoZSBtb2R1bGUuXG4vL1xuaWYgKCd1bmRlZmluZWQnICE9PSB0eXBlb2YgbW9kdWxlKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gRXZlbnRFbWl0dGVyO1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGVhcmN1dDtcbm1vZHVsZS5leHBvcnRzLmRlZmF1bHQgPSBlYXJjdXQ7XG5cbmZ1bmN0aW9uIGVhcmN1dChkYXRhLCBob2xlSW5kaWNlcywgZGltKSB7XG5cbiAgICBkaW0gPSBkaW0gfHwgMjtcblxuICAgIHZhciBoYXNIb2xlcyA9IGhvbGVJbmRpY2VzICYmIGhvbGVJbmRpY2VzLmxlbmd0aCxcbiAgICAgICAgb3V0ZXJMZW4gPSBoYXNIb2xlcyA/IGhvbGVJbmRpY2VzWzBdICogZGltIDogZGF0YS5sZW5ndGgsXG4gICAgICAgIG91dGVyTm9kZSA9IGxpbmtlZExpc3QoZGF0YSwgMCwgb3V0ZXJMZW4sIGRpbSwgdHJ1ZSksXG4gICAgICAgIHRyaWFuZ2xlcyA9IFtdO1xuXG4gICAgaWYgKCFvdXRlck5vZGUgfHwgb3V0ZXJOb2RlLm5leHQgPT09IG91dGVyTm9kZS5wcmV2KSByZXR1cm4gdHJpYW5nbGVzO1xuXG4gICAgdmFyIG1pblgsIG1pblksIG1heFgsIG1heFksIHgsIHksIGludlNpemU7XG5cbiAgICBpZiAoaGFzSG9sZXMpIG91dGVyTm9kZSA9IGVsaW1pbmF0ZUhvbGVzKGRhdGEsIGhvbGVJbmRpY2VzLCBvdXRlck5vZGUsIGRpbSk7XG5cbiAgICAvLyBpZiB0aGUgc2hhcGUgaXMgbm90IHRvbyBzaW1wbGUsIHdlJ2xsIHVzZSB6LW9yZGVyIGN1cnZlIGhhc2ggbGF0ZXI7IGNhbGN1bGF0ZSBwb2x5Z29uIGJib3hcbiAgICBpZiAoZGF0YS5sZW5ndGggPiA4MCAqIGRpbSkge1xuICAgICAgICBtaW5YID0gbWF4WCA9IGRhdGFbMF07XG4gICAgICAgIG1pblkgPSBtYXhZID0gZGF0YVsxXTtcblxuICAgICAgICBmb3IgKHZhciBpID0gZGltOyBpIDwgb3V0ZXJMZW47IGkgKz0gZGltKSB7XG4gICAgICAgICAgICB4ID0gZGF0YVtpXTtcbiAgICAgICAgICAgIHkgPSBkYXRhW2kgKyAxXTtcbiAgICAgICAgICAgIGlmICh4IDwgbWluWCkgbWluWCA9IHg7XG4gICAgICAgICAgICBpZiAoeSA8IG1pblkpIG1pblkgPSB5O1xuICAgICAgICAgICAgaWYgKHggPiBtYXhYKSBtYXhYID0geDtcbiAgICAgICAgICAgIGlmICh5ID4gbWF4WSkgbWF4WSA9IHk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBtaW5YLCBtaW5ZIGFuZCBpbnZTaXplIGFyZSBsYXRlciB1c2VkIHRvIHRyYW5zZm9ybSBjb29yZHMgaW50byBpbnRlZ2VycyBmb3Igei1vcmRlciBjYWxjdWxhdGlvblxuICAgICAgICBpbnZTaXplID0gTWF0aC5tYXgobWF4WCAtIG1pblgsIG1heFkgLSBtaW5ZKTtcbiAgICAgICAgaW52U2l6ZSA9IGludlNpemUgIT09IDAgPyAxIC8gaW52U2l6ZSA6IDA7XG4gICAgfVxuXG4gICAgZWFyY3V0TGlua2VkKG91dGVyTm9kZSwgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUpO1xuXG4gICAgcmV0dXJuIHRyaWFuZ2xlcztcbn1cblxuLy8gY3JlYXRlIGEgY2lyY3VsYXIgZG91Ymx5IGxpbmtlZCBsaXN0IGZyb20gcG9seWdvbiBwb2ludHMgaW4gdGhlIHNwZWNpZmllZCB3aW5kaW5nIG9yZGVyXG5mdW5jdGlvbiBsaW5rZWRMaXN0KGRhdGEsIHN0YXJ0LCBlbmQsIGRpbSwgY2xvY2t3aXNlKSB7XG4gICAgdmFyIGksIGxhc3Q7XG5cbiAgICBpZiAoY2xvY2t3aXNlID09PSAoc2lnbmVkQXJlYShkYXRhLCBzdGFydCwgZW5kLCBkaW0pID4gMCkpIHtcbiAgICAgICAgZm9yIChpID0gc3RhcnQ7IGkgPCBlbmQ7IGkgKz0gZGltKSBsYXN0ID0gaW5zZXJ0Tm9kZShpLCBkYXRhW2ldLCBkYXRhW2kgKyAxXSwgbGFzdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZm9yIChpID0gZW5kIC0gZGltOyBpID49IHN0YXJ0OyBpIC09IGRpbSkgbGFzdCA9IGluc2VydE5vZGUoaSwgZGF0YVtpXSwgZGF0YVtpICsgMV0sIGxhc3QpO1xuICAgIH1cblxuICAgIGlmIChsYXN0ICYmIGVxdWFscyhsYXN0LCBsYXN0Lm5leHQpKSB7XG4gICAgICAgIHJlbW92ZU5vZGUobGFzdCk7XG4gICAgICAgIGxhc3QgPSBsYXN0Lm5leHQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIGxhc3Q7XG59XG5cbi8vIGVsaW1pbmF0ZSBjb2xpbmVhciBvciBkdXBsaWNhdGUgcG9pbnRzXG5mdW5jdGlvbiBmaWx0ZXJQb2ludHMoc3RhcnQsIGVuZCkge1xuICAgIGlmICghc3RhcnQpIHJldHVybiBzdGFydDtcbiAgICBpZiAoIWVuZCkgZW5kID0gc3RhcnQ7XG5cbiAgICB2YXIgcCA9IHN0YXJ0LFxuICAgICAgICBhZ2FpbjtcbiAgICBkbyB7XG4gICAgICAgIGFnYWluID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKCFwLnN0ZWluZXIgJiYgKGVxdWFscyhwLCBwLm5leHQpIHx8IGFyZWEocC5wcmV2LCBwLCBwLm5leHQpID09PSAwKSkge1xuICAgICAgICAgICAgcmVtb3ZlTm9kZShwKTtcbiAgICAgICAgICAgIHAgPSBlbmQgPSBwLnByZXY7XG4gICAgICAgICAgICBpZiAocCA9PT0gcC5uZXh0KSBicmVhaztcbiAgICAgICAgICAgIGFnYWluID0gdHJ1ZTtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcCA9IHAubmV4dDtcbiAgICAgICAgfVxuICAgIH0gd2hpbGUgKGFnYWluIHx8IHAgIT09IGVuZCk7XG5cbiAgICByZXR1cm4gZW5kO1xufVxuXG4vLyBtYWluIGVhciBzbGljaW5nIGxvb3Agd2hpY2ggdHJpYW5ndWxhdGVzIGEgcG9seWdvbiAoZ2l2ZW4gYXMgYSBsaW5rZWQgbGlzdClcbmZ1bmN0aW9uIGVhcmN1dExpbmtlZChlYXIsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplLCBwYXNzKSB7XG4gICAgaWYgKCFlYXIpIHJldHVybjtcblxuICAgIC8vIGludGVybGluayBwb2x5Z29uIG5vZGVzIGluIHotb3JkZXJcbiAgICBpZiAoIXBhc3MgJiYgaW52U2l6ZSkgaW5kZXhDdXJ2ZShlYXIsIG1pblgsIG1pblksIGludlNpemUpO1xuXG4gICAgdmFyIHN0b3AgPSBlYXIsXG4gICAgICAgIHByZXYsIG5leHQ7XG5cbiAgICAvLyBpdGVyYXRlIHRocm91Z2ggZWFycywgc2xpY2luZyB0aGVtIG9uZSBieSBvbmVcbiAgICB3aGlsZSAoZWFyLnByZXYgIT09IGVhci5uZXh0KSB7XG4gICAgICAgIHByZXYgPSBlYXIucHJldjtcbiAgICAgICAgbmV4dCA9IGVhci5uZXh0O1xuXG4gICAgICAgIGlmIChpbnZTaXplID8gaXNFYXJIYXNoZWQoZWFyLCBtaW5YLCBtaW5ZLCBpbnZTaXplKSA6IGlzRWFyKGVhcikpIHtcbiAgICAgICAgICAgIC8vIGN1dCBvZmYgdGhlIHRyaWFuZ2xlXG4gICAgICAgICAgICB0cmlhbmdsZXMucHVzaChwcmV2LmkgLyBkaW0pO1xuICAgICAgICAgICAgdHJpYW5nbGVzLnB1c2goZWFyLmkgLyBkaW0pO1xuICAgICAgICAgICAgdHJpYW5nbGVzLnB1c2gobmV4dC5pIC8gZGltKTtcblxuICAgICAgICAgICAgcmVtb3ZlTm9kZShlYXIpO1xuXG4gICAgICAgICAgICAvLyBza2lwcGluZyB0aGUgbmV4dCB2ZXJ0ZXggbGVhZHMgdG8gbGVzcyBzbGl2ZXIgdHJpYW5nbGVzXG4gICAgICAgICAgICBlYXIgPSBuZXh0Lm5leHQ7XG4gICAgICAgICAgICBzdG9wID0gbmV4dC5uZXh0O1xuXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVhciA9IG5leHQ7XG5cbiAgICAgICAgLy8gaWYgd2UgbG9vcGVkIHRocm91Z2ggdGhlIHdob2xlIHJlbWFpbmluZyBwb2x5Z29uIGFuZCBjYW4ndCBmaW5kIGFueSBtb3JlIGVhcnNcbiAgICAgICAgaWYgKGVhciA9PT0gc3RvcCkge1xuICAgICAgICAgICAgLy8gdHJ5IGZpbHRlcmluZyBwb2ludHMgYW5kIHNsaWNpbmcgYWdhaW5cbiAgICAgICAgICAgIGlmICghcGFzcykge1xuICAgICAgICAgICAgICAgIGVhcmN1dExpbmtlZChmaWx0ZXJQb2ludHMoZWFyKSwgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUsIDEpO1xuXG4gICAgICAgICAgICAvLyBpZiB0aGlzIGRpZG4ndCB3b3JrLCB0cnkgY3VyaW5nIGFsbCBzbWFsbCBzZWxmLWludGVyc2VjdGlvbnMgbG9jYWxseVxuICAgICAgICAgICAgfSBlbHNlIGlmIChwYXNzID09PSAxKSB7XG4gICAgICAgICAgICAgICAgZWFyID0gY3VyZUxvY2FsSW50ZXJzZWN0aW9ucyhmaWx0ZXJQb2ludHMoZWFyKSwgdHJpYW5nbGVzLCBkaW0pO1xuICAgICAgICAgICAgICAgIGVhcmN1dExpbmtlZChlYXIsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplLCAyKTtcblxuICAgICAgICAgICAgLy8gYXMgYSBsYXN0IHJlc29ydCwgdHJ5IHNwbGl0dGluZyB0aGUgcmVtYWluaW5nIHBvbHlnb24gaW50byB0d29cbiAgICAgICAgICAgIH0gZWxzZSBpZiAocGFzcyA9PT0gMikge1xuICAgICAgICAgICAgICAgIHNwbGl0RWFyY3V0KGVhciwgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLy8gY2hlY2sgd2hldGhlciBhIHBvbHlnb24gbm9kZSBmb3JtcyBhIHZhbGlkIGVhciB3aXRoIGFkamFjZW50IG5vZGVzXG5mdW5jdGlvbiBpc0VhcihlYXIpIHtcbiAgICB2YXIgYSA9IGVhci5wcmV2LFxuICAgICAgICBiID0gZWFyLFxuICAgICAgICBjID0gZWFyLm5leHQ7XG5cbiAgICBpZiAoYXJlYShhLCBiLCBjKSA+PSAwKSByZXR1cm4gZmFsc2U7IC8vIHJlZmxleCwgY2FuJ3QgYmUgYW4gZWFyXG5cbiAgICAvLyBub3cgbWFrZSBzdXJlIHdlIGRvbid0IGhhdmUgb3RoZXIgcG9pbnRzIGluc2lkZSB0aGUgcG90ZW50aWFsIGVhclxuICAgIHZhciBwID0gZWFyLm5leHQubmV4dDtcblxuICAgIHdoaWxlIChwICE9PSBlYXIucHJldikge1xuICAgICAgICBpZiAocG9pbnRJblRyaWFuZ2xlKGEueCwgYS55LCBiLngsIGIueSwgYy54LCBjLnksIHAueCwgcC55KSAmJlxuICAgICAgICAgICAgYXJlYShwLnByZXYsIHAsIHAubmV4dCkgPj0gMCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBwID0gcC5uZXh0O1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiBpc0Vhckhhc2hlZChlYXIsIG1pblgsIG1pblksIGludlNpemUpIHtcbiAgICB2YXIgYSA9IGVhci5wcmV2LFxuICAgICAgICBiID0gZWFyLFxuICAgICAgICBjID0gZWFyLm5leHQ7XG5cbiAgICBpZiAoYXJlYShhLCBiLCBjKSA+PSAwKSByZXR1cm4gZmFsc2U7IC8vIHJlZmxleCwgY2FuJ3QgYmUgYW4gZWFyXG5cbiAgICAvLyB0cmlhbmdsZSBiYm94OyBtaW4gJiBtYXggYXJlIGNhbGN1bGF0ZWQgbGlrZSB0aGlzIGZvciBzcGVlZFxuICAgIHZhciBtaW5UWCA9IGEueCA8IGIueCA/IChhLnggPCBjLnggPyBhLnggOiBjLngpIDogKGIueCA8IGMueCA/IGIueCA6IGMueCksXG4gICAgICAgIG1pblRZID0gYS55IDwgYi55ID8gKGEueSA8IGMueSA/IGEueSA6IGMueSkgOiAoYi55IDwgYy55ID8gYi55IDogYy55KSxcbiAgICAgICAgbWF4VFggPSBhLnggPiBiLnggPyAoYS54ID4gYy54ID8gYS54IDogYy54KSA6IChiLnggPiBjLnggPyBiLnggOiBjLngpLFxuICAgICAgICBtYXhUWSA9IGEueSA+IGIueSA/IChhLnkgPiBjLnkgPyBhLnkgOiBjLnkpIDogKGIueSA+IGMueSA/IGIueSA6IGMueSk7XG5cbiAgICAvLyB6LW9yZGVyIHJhbmdlIGZvciB0aGUgY3VycmVudCB0cmlhbmdsZSBiYm94O1xuICAgIHZhciBtaW5aID0gek9yZGVyKG1pblRYLCBtaW5UWSwgbWluWCwgbWluWSwgaW52U2l6ZSksXG4gICAgICAgIG1heFogPSB6T3JkZXIobWF4VFgsIG1heFRZLCBtaW5YLCBtaW5ZLCBpbnZTaXplKTtcblxuICAgIHZhciBwID0gZWFyLnByZXZaLFxuICAgICAgICBuID0gZWFyLm5leHRaO1xuXG4gICAgLy8gbG9vayBmb3IgcG9pbnRzIGluc2lkZSB0aGUgdHJpYW5nbGUgaW4gYm90aCBkaXJlY3Rpb25zXG4gICAgd2hpbGUgKHAgJiYgcC56ID49IG1pblogJiYgbiAmJiBuLnogPD0gbWF4Wikge1xuICAgICAgICBpZiAocCAhPT0gZWFyLnByZXYgJiYgcCAhPT0gZWFyLm5leHQgJiZcbiAgICAgICAgICAgIHBvaW50SW5UcmlhbmdsZShhLngsIGEueSwgYi54LCBiLnksIGMueCwgYy55LCBwLngsIHAueSkgJiZcbiAgICAgICAgICAgIGFyZWEocC5wcmV2LCBwLCBwLm5leHQpID49IDApIHJldHVybiBmYWxzZTtcbiAgICAgICAgcCA9IHAucHJldlo7XG5cbiAgICAgICAgaWYgKG4gIT09IGVhci5wcmV2ICYmIG4gIT09IGVhci5uZXh0ICYmXG4gICAgICAgICAgICBwb2ludEluVHJpYW5nbGUoYS54LCBhLnksIGIueCwgYi55LCBjLngsIGMueSwgbi54LCBuLnkpICYmXG4gICAgICAgICAgICBhcmVhKG4ucHJldiwgbiwgbi5uZXh0KSA+PSAwKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIG4gPSBuLm5leHRaO1xuICAgIH1cblxuICAgIC8vIGxvb2sgZm9yIHJlbWFpbmluZyBwb2ludHMgaW4gZGVjcmVhc2luZyB6LW9yZGVyXG4gICAgd2hpbGUgKHAgJiYgcC56ID49IG1pblopIHtcbiAgICAgICAgaWYgKHAgIT09IGVhci5wcmV2ICYmIHAgIT09IGVhci5uZXh0ICYmXG4gICAgICAgICAgICBwb2ludEluVHJpYW5nbGUoYS54LCBhLnksIGIueCwgYi55LCBjLngsIGMueSwgcC54LCBwLnkpICYmXG4gICAgICAgICAgICBhcmVhKHAucHJldiwgcCwgcC5uZXh0KSA+PSAwKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIHAgPSBwLnByZXZaO1xuICAgIH1cblxuICAgIC8vIGxvb2sgZm9yIHJlbWFpbmluZyBwb2ludHMgaW4gaW5jcmVhc2luZyB6LW9yZGVyXG4gICAgd2hpbGUgKG4gJiYgbi56IDw9IG1heFopIHtcbiAgICAgICAgaWYgKG4gIT09IGVhci5wcmV2ICYmIG4gIT09IGVhci5uZXh0ICYmXG4gICAgICAgICAgICBwb2ludEluVHJpYW5nbGUoYS54LCBhLnksIGIueCwgYi55LCBjLngsIGMueSwgbi54LCBuLnkpICYmXG4gICAgICAgICAgICBhcmVhKG4ucHJldiwgbiwgbi5uZXh0KSA+PSAwKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIG4gPSBuLm5leHRaO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xufVxuXG4vLyBnbyB0aHJvdWdoIGFsbCBwb2x5Z29uIG5vZGVzIGFuZCBjdXJlIHNtYWxsIGxvY2FsIHNlbGYtaW50ZXJzZWN0aW9uc1xuZnVuY3Rpb24gY3VyZUxvY2FsSW50ZXJzZWN0aW9ucyhzdGFydCwgdHJpYW5nbGVzLCBkaW0pIHtcbiAgICB2YXIgcCA9IHN0YXJ0O1xuICAgIGRvIHtcbiAgICAgICAgdmFyIGEgPSBwLnByZXYsXG4gICAgICAgICAgICBiID0gcC5uZXh0Lm5leHQ7XG5cbiAgICAgICAgaWYgKCFlcXVhbHMoYSwgYikgJiYgaW50ZXJzZWN0cyhhLCBwLCBwLm5leHQsIGIpICYmIGxvY2FsbHlJbnNpZGUoYSwgYikgJiYgbG9jYWxseUluc2lkZShiLCBhKSkge1xuXG4gICAgICAgICAgICB0cmlhbmdsZXMucHVzaChhLmkgLyBkaW0pO1xuICAgICAgICAgICAgdHJpYW5nbGVzLnB1c2gocC5pIC8gZGltKTtcbiAgICAgICAgICAgIHRyaWFuZ2xlcy5wdXNoKGIuaSAvIGRpbSk7XG5cbiAgICAgICAgICAgIC8vIHJlbW92ZSB0d28gbm9kZXMgaW52b2x2ZWRcbiAgICAgICAgICAgIHJlbW92ZU5vZGUocCk7XG4gICAgICAgICAgICByZW1vdmVOb2RlKHAubmV4dCk7XG5cbiAgICAgICAgICAgIHAgPSBzdGFydCA9IGI7XG4gICAgICAgIH1cbiAgICAgICAgcCA9IHAubmV4dDtcbiAgICB9IHdoaWxlIChwICE9PSBzdGFydCk7XG5cbiAgICByZXR1cm4gZmlsdGVyUG9pbnRzKHApO1xufVxuXG4vLyB0cnkgc3BsaXR0aW5nIHBvbHlnb24gaW50byB0d28gYW5kIHRyaWFuZ3VsYXRlIHRoZW0gaW5kZXBlbmRlbnRseVxuZnVuY3Rpb24gc3BsaXRFYXJjdXQoc3RhcnQsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplKSB7XG4gICAgLy8gbG9vayBmb3IgYSB2YWxpZCBkaWFnb25hbCB0aGF0IGRpdmlkZXMgdGhlIHBvbHlnb24gaW50byB0d29cbiAgICB2YXIgYSA9IHN0YXJ0O1xuICAgIGRvIHtcbiAgICAgICAgdmFyIGIgPSBhLm5leHQubmV4dDtcbiAgICAgICAgd2hpbGUgKGIgIT09IGEucHJldikge1xuICAgICAgICAgICAgaWYgKGEuaSAhPT0gYi5pICYmIGlzVmFsaWREaWFnb25hbChhLCBiKSkge1xuICAgICAgICAgICAgICAgIC8vIHNwbGl0IHRoZSBwb2x5Z29uIGluIHR3byBieSB0aGUgZGlhZ29uYWxcbiAgICAgICAgICAgICAgICB2YXIgYyA9IHNwbGl0UG9seWdvbihhLCBiKTtcblxuICAgICAgICAgICAgICAgIC8vIGZpbHRlciBjb2xpbmVhciBwb2ludHMgYXJvdW5kIHRoZSBjdXRzXG4gICAgICAgICAgICAgICAgYSA9IGZpbHRlclBvaW50cyhhLCBhLm5leHQpO1xuICAgICAgICAgICAgICAgIGMgPSBmaWx0ZXJQb2ludHMoYywgYy5uZXh0KTtcblxuICAgICAgICAgICAgICAgIC8vIHJ1biBlYXJjdXQgb24gZWFjaCBoYWxmXG4gICAgICAgICAgICAgICAgZWFyY3V0TGlua2VkKGEsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplKTtcbiAgICAgICAgICAgICAgICBlYXJjdXRMaW5rZWQoYywgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGIgPSBiLm5leHQ7XG4gICAgICAgIH1cbiAgICAgICAgYSA9IGEubmV4dDtcbiAgICB9IHdoaWxlIChhICE9PSBzdGFydCk7XG59XG5cbi8vIGxpbmsgZXZlcnkgaG9sZSBpbnRvIHRoZSBvdXRlciBsb29wLCBwcm9kdWNpbmcgYSBzaW5nbGUtcmluZyBwb2x5Z29uIHdpdGhvdXQgaG9sZXNcbmZ1bmN0aW9uIGVsaW1pbmF0ZUhvbGVzKGRhdGEsIGhvbGVJbmRpY2VzLCBvdXRlck5vZGUsIGRpbSkge1xuICAgIHZhciBxdWV1ZSA9IFtdLFxuICAgICAgICBpLCBsZW4sIHN0YXJ0LCBlbmQsIGxpc3Q7XG5cbiAgICBmb3IgKGkgPSAwLCBsZW4gPSBob2xlSW5kaWNlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBzdGFydCA9IGhvbGVJbmRpY2VzW2ldICogZGltO1xuICAgICAgICBlbmQgPSBpIDwgbGVuIC0gMSA/IGhvbGVJbmRpY2VzW2kgKyAxXSAqIGRpbSA6IGRhdGEubGVuZ3RoO1xuICAgICAgICBsaXN0ID0gbGlua2VkTGlzdChkYXRhLCBzdGFydCwgZW5kLCBkaW0sIGZhbHNlKTtcbiAgICAgICAgaWYgKGxpc3QgPT09IGxpc3QubmV4dCkgbGlzdC5zdGVpbmVyID0gdHJ1ZTtcbiAgICAgICAgcXVldWUucHVzaChnZXRMZWZ0bW9zdChsaXN0KSk7XG4gICAgfVxuXG4gICAgcXVldWUuc29ydChjb21wYXJlWCk7XG5cbiAgICAvLyBwcm9jZXNzIGhvbGVzIGZyb20gbGVmdCB0byByaWdodFxuICAgIGZvciAoaSA9IDA7IGkgPCBxdWV1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICBvdXRlck5vZGUgPSBlbGltaW5hdGVIb2xlKHF1ZXVlW2ldLCBvdXRlck5vZGUpO1xuICAgICAgICBvdXRlck5vZGUgPSBmaWx0ZXJQb2ludHMob3V0ZXJOb2RlLCBvdXRlck5vZGUubmV4dCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG91dGVyTm9kZTtcbn1cblxuZnVuY3Rpb24gY29tcGFyZVgoYSwgYikge1xuICAgIHJldHVybiBhLnggLSBiLng7XG59XG5cbi8vIGZpbmQgYSBicmlkZ2UgYmV0d2VlbiB2ZXJ0aWNlcyB0aGF0IGNvbm5lY3RzIGhvbGUgd2l0aCBhbiBvdXRlciByaW5nIGFuZCBhbmQgbGluayBpdFxuZnVuY3Rpb24gZWxpbWluYXRlSG9sZShob2xlLCBvdXRlck5vZGUpIHtcbiAgICB2YXIgYnJpZGdlID0gZmluZEhvbGVCcmlkZ2UoaG9sZSwgb3V0ZXJOb2RlKTtcbiAgICBpZiAoIWJyaWRnZSkge1xuICAgICAgICByZXR1cm4gb3V0ZXJOb2RlO1xuICAgIH1cblxuICAgIHZhciBicmlkZ2VSZXZlcnNlID0gc3BsaXRQb2x5Z29uKGJyaWRnZSwgaG9sZSk7XG5cbiAgICAvLyBmaWx0ZXIgY29sbGluZWFyIHBvaW50cyBhcm91bmQgdGhlIGN1dHNcbiAgICB2YXIgZmlsdGVyZWRCcmlkZ2UgPSBmaWx0ZXJQb2ludHMoYnJpZGdlLCBicmlkZ2UubmV4dCk7XG4gICAgZmlsdGVyUG9pbnRzKGJyaWRnZVJldmVyc2UsIGJyaWRnZVJldmVyc2UubmV4dCk7XG5cbiAgICAvLyBDaGVjayBpZiBpbnB1dCBub2RlIHdhcyByZW1vdmVkIGJ5IHRoZSBmaWx0ZXJpbmdcbiAgICByZXR1cm4gb3V0ZXJOb2RlID09PSBicmlkZ2UgPyBmaWx0ZXJlZEJyaWRnZSA6IG91dGVyTm9kZTtcbn1cblxuLy8gRGF2aWQgRWJlcmx5J3MgYWxnb3JpdGhtIGZvciBmaW5kaW5nIGEgYnJpZGdlIGJldHdlZW4gaG9sZSBhbmQgb3V0ZXIgcG9seWdvblxuZnVuY3Rpb24gZmluZEhvbGVCcmlkZ2UoaG9sZSwgb3V0ZXJOb2RlKSB7XG4gICAgdmFyIHAgPSBvdXRlck5vZGUsXG4gICAgICAgIGh4ID0gaG9sZS54LFxuICAgICAgICBoeSA9IGhvbGUueSxcbiAgICAgICAgcXggPSAtSW5maW5pdHksXG4gICAgICAgIG07XG5cbiAgICAvLyBmaW5kIGEgc2VnbWVudCBpbnRlcnNlY3RlZCBieSBhIHJheSBmcm9tIHRoZSBob2xlJ3MgbGVmdG1vc3QgcG9pbnQgdG8gdGhlIGxlZnQ7XG4gICAgLy8gc2VnbWVudCdzIGVuZHBvaW50IHdpdGggbGVzc2VyIHggd2lsbCBiZSBwb3RlbnRpYWwgY29ubmVjdGlvbiBwb2ludFxuICAgIGRvIHtcbiAgICAgICAgaWYgKGh5IDw9IHAueSAmJiBoeSA+PSBwLm5leHQueSAmJiBwLm5leHQueSAhPT0gcC55KSB7XG4gICAgICAgICAgICB2YXIgeCA9IHAueCArIChoeSAtIHAueSkgKiAocC5uZXh0LnggLSBwLngpIC8gKHAubmV4dC55IC0gcC55KTtcbiAgICAgICAgICAgIGlmICh4IDw9IGh4ICYmIHggPiBxeCkge1xuICAgICAgICAgICAgICAgIHF4ID0geDtcbiAgICAgICAgICAgICAgICBpZiAoeCA9PT0gaHgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGh5ID09PSBwLnkpIHJldHVybiBwO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaHkgPT09IHAubmV4dC55KSByZXR1cm4gcC5uZXh0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBtID0gcC54IDwgcC5uZXh0LnggPyBwIDogcC5uZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgfSB3aGlsZSAocCAhPT0gb3V0ZXJOb2RlKTtcblxuICAgIGlmICghbSkgcmV0dXJuIG51bGw7XG5cbiAgICBpZiAoaHggPT09IHF4KSByZXR1cm4gbTsgLy8gaG9sZSB0b3VjaGVzIG91dGVyIHNlZ21lbnQ7IHBpY2sgbGVmdG1vc3QgZW5kcG9pbnRcblxuICAgIC8vIGxvb2sgZm9yIHBvaW50cyBpbnNpZGUgdGhlIHRyaWFuZ2xlIG9mIGhvbGUgcG9pbnQsIHNlZ21lbnQgaW50ZXJzZWN0aW9uIGFuZCBlbmRwb2ludDtcbiAgICAvLyBpZiB0aGVyZSBhcmUgbm8gcG9pbnRzIGZvdW5kLCB3ZSBoYXZlIGEgdmFsaWQgY29ubmVjdGlvbjtcbiAgICAvLyBvdGhlcndpc2UgY2hvb3NlIHRoZSBwb2ludCBvZiB0aGUgbWluaW11bSBhbmdsZSB3aXRoIHRoZSByYXkgYXMgY29ubmVjdGlvbiBwb2ludFxuXG4gICAgdmFyIHN0b3AgPSBtLFxuICAgICAgICBteCA9IG0ueCxcbiAgICAgICAgbXkgPSBtLnksXG4gICAgICAgIHRhbk1pbiA9IEluZmluaXR5LFxuICAgICAgICB0YW47XG5cbiAgICBwID0gbTtcblxuICAgIGRvIHtcbiAgICAgICAgaWYgKGh4ID49IHAueCAmJiBwLnggPj0gbXggJiYgaHggIT09IHAueCAmJlxuICAgICAgICAgICAgICAgIHBvaW50SW5UcmlhbmdsZShoeSA8IG15ID8gaHggOiBxeCwgaHksIG14LCBteSwgaHkgPCBteSA/IHF4IDogaHgsIGh5LCBwLngsIHAueSkpIHtcblxuICAgICAgICAgICAgdGFuID0gTWF0aC5hYnMoaHkgLSBwLnkpIC8gKGh4IC0gcC54KTsgLy8gdGFuZ2VudGlhbFxuXG4gICAgICAgICAgICBpZiAobG9jYWxseUluc2lkZShwLCBob2xlKSAmJlxuICAgICAgICAgICAgICAgICh0YW4gPCB0YW5NaW4gfHwgKHRhbiA9PT0gdGFuTWluICYmIChwLnggPiBtLnggfHwgKHAueCA9PT0gbS54ICYmIHNlY3RvckNvbnRhaW5zU2VjdG9yKG0sIHApKSkpKSkge1xuICAgICAgICAgICAgICAgIG0gPSBwO1xuICAgICAgICAgICAgICAgIHRhbk1pbiA9IHRhbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgfSB3aGlsZSAocCAhPT0gc3RvcCk7XG5cbiAgICByZXR1cm4gbTtcbn1cblxuLy8gd2hldGhlciBzZWN0b3IgaW4gdmVydGV4IG0gY29udGFpbnMgc2VjdG9yIGluIHZlcnRleCBwIGluIHRoZSBzYW1lIGNvb3JkaW5hdGVzXG5mdW5jdGlvbiBzZWN0b3JDb250YWluc1NlY3RvcihtLCBwKSB7XG4gICAgcmV0dXJuIGFyZWEobS5wcmV2LCBtLCBwLnByZXYpIDwgMCAmJiBhcmVhKHAubmV4dCwgbSwgbS5uZXh0KSA8IDA7XG59XG5cbi8vIGludGVybGluayBwb2x5Z29uIG5vZGVzIGluIHotb3JkZXJcbmZ1bmN0aW9uIGluZGV4Q3VydmUoc3RhcnQsIG1pblgsIG1pblksIGludlNpemUpIHtcbiAgICB2YXIgcCA9IHN0YXJ0O1xuICAgIGRvIHtcbiAgICAgICAgaWYgKHAueiA9PT0gbnVsbCkgcC56ID0gek9yZGVyKHAueCwgcC55LCBtaW5YLCBtaW5ZLCBpbnZTaXplKTtcbiAgICAgICAgcC5wcmV2WiA9IHAucHJldjtcbiAgICAgICAgcC5uZXh0WiA9IHAubmV4dDtcbiAgICAgICAgcCA9IHAubmV4dDtcbiAgICB9IHdoaWxlIChwICE9PSBzdGFydCk7XG5cbiAgICBwLnByZXZaLm5leHRaID0gbnVsbDtcbiAgICBwLnByZXZaID0gbnVsbDtcblxuICAgIHNvcnRMaW5rZWQocCk7XG59XG5cbi8vIFNpbW9uIFRhdGhhbSdzIGxpbmtlZCBsaXN0IG1lcmdlIHNvcnQgYWxnb3JpdGhtXG4vLyBodHRwOi8vd3d3LmNoaWFyay5ncmVlbmVuZC5vcmcudWsvfnNndGF0aGFtL2FsZ29yaXRobXMvbGlzdHNvcnQuaHRtbFxuZnVuY3Rpb24gc29ydExpbmtlZChsaXN0KSB7XG4gICAgdmFyIGksIHAsIHEsIGUsIHRhaWwsIG51bU1lcmdlcywgcFNpemUsIHFTaXplLFxuICAgICAgICBpblNpemUgPSAxO1xuXG4gICAgZG8ge1xuICAgICAgICBwID0gbGlzdDtcbiAgICAgICAgbGlzdCA9IG51bGw7XG4gICAgICAgIHRhaWwgPSBudWxsO1xuICAgICAgICBudW1NZXJnZXMgPSAwO1xuXG4gICAgICAgIHdoaWxlIChwKSB7XG4gICAgICAgICAgICBudW1NZXJnZXMrKztcbiAgICAgICAgICAgIHEgPSBwO1xuICAgICAgICAgICAgcFNpemUgPSAwO1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGluU2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcFNpemUrKztcbiAgICAgICAgICAgICAgICBxID0gcS5uZXh0WjtcbiAgICAgICAgICAgICAgICBpZiAoIXEpIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcVNpemUgPSBpblNpemU7XG5cbiAgICAgICAgICAgIHdoaWxlIChwU2l6ZSA+IDAgfHwgKHFTaXplID4gMCAmJiBxKSkge1xuXG4gICAgICAgICAgICAgICAgaWYgKHBTaXplICE9PSAwICYmIChxU2l6ZSA9PT0gMCB8fCAhcSB8fCBwLnogPD0gcS56KSkge1xuICAgICAgICAgICAgICAgICAgICBlID0gcDtcbiAgICAgICAgICAgICAgICAgICAgcCA9IHAubmV4dFo7XG4gICAgICAgICAgICAgICAgICAgIHBTaXplLS07XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZSA9IHE7XG4gICAgICAgICAgICAgICAgICAgIHEgPSBxLm5leHRaO1xuICAgICAgICAgICAgICAgICAgICBxU2l6ZS0tO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICh0YWlsKSB0YWlsLm5leHRaID0gZTtcbiAgICAgICAgICAgICAgICBlbHNlIGxpc3QgPSBlO1xuXG4gICAgICAgICAgICAgICAgZS5wcmV2WiA9IHRhaWw7XG4gICAgICAgICAgICAgICAgdGFpbCA9IGU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHAgPSBxO1xuICAgICAgICB9XG5cbiAgICAgICAgdGFpbC5uZXh0WiA9IG51bGw7XG4gICAgICAgIGluU2l6ZSAqPSAyO1xuXG4gICAgfSB3aGlsZSAobnVtTWVyZ2VzID4gMSk7XG5cbiAgICByZXR1cm4gbGlzdDtcbn1cblxuLy8gei1vcmRlciBvZiBhIHBvaW50IGdpdmVuIGNvb3JkcyBhbmQgaW52ZXJzZSBvZiB0aGUgbG9uZ2VyIHNpZGUgb2YgZGF0YSBiYm94XG5mdW5jdGlvbiB6T3JkZXIoeCwgeSwgbWluWCwgbWluWSwgaW52U2l6ZSkge1xuICAgIC8vIGNvb3JkcyBhcmUgdHJhbnNmb3JtZWQgaW50byBub24tbmVnYXRpdmUgMTUtYml0IGludGVnZXIgcmFuZ2VcbiAgICB4ID0gMzI3NjcgKiAoeCAtIG1pblgpICogaW52U2l6ZTtcbiAgICB5ID0gMzI3NjcgKiAoeSAtIG1pblkpICogaW52U2l6ZTtcblxuICAgIHggPSAoeCB8ICh4IDw8IDgpKSAmIDB4MDBGRjAwRkY7XG4gICAgeCA9ICh4IHwgKHggPDwgNCkpICYgMHgwRjBGMEYwRjtcbiAgICB4ID0gKHggfCAoeCA8PCAyKSkgJiAweDMzMzMzMzMzO1xuICAgIHggPSAoeCB8ICh4IDw8IDEpKSAmIDB4NTU1NTU1NTU7XG5cbiAgICB5ID0gKHkgfCAoeSA8PCA4KSkgJiAweDAwRkYwMEZGO1xuICAgIHkgPSAoeSB8ICh5IDw8IDQpKSAmIDB4MEYwRjBGMEY7XG4gICAgeSA9ICh5IHwgKHkgPDwgMikpICYgMHgzMzMzMzMzMztcbiAgICB5ID0gKHkgfCAoeSA8PCAxKSkgJiAweDU1NTU1NTU1O1xuXG4gICAgcmV0dXJuIHggfCAoeSA8PCAxKTtcbn1cblxuLy8gZmluZCB0aGUgbGVmdG1vc3Qgbm9kZSBvZiBhIHBvbHlnb24gcmluZ1xuZnVuY3Rpb24gZ2V0TGVmdG1vc3Qoc3RhcnQpIHtcbiAgICB2YXIgcCA9IHN0YXJ0LFxuICAgICAgICBsZWZ0bW9zdCA9IHN0YXJ0O1xuICAgIGRvIHtcbiAgICAgICAgaWYgKHAueCA8IGxlZnRtb3N0LnggfHwgKHAueCA9PT0gbGVmdG1vc3QueCAmJiBwLnkgPCBsZWZ0bW9zdC55KSkgbGVmdG1vc3QgPSBwO1xuICAgICAgICBwID0gcC5uZXh0O1xuICAgIH0gd2hpbGUgKHAgIT09IHN0YXJ0KTtcblxuICAgIHJldHVybiBsZWZ0bW9zdDtcbn1cblxuLy8gY2hlY2sgaWYgYSBwb2ludCBsaWVzIHdpdGhpbiBhIGNvbnZleCB0cmlhbmdsZVxuZnVuY3Rpb24gcG9pbnRJblRyaWFuZ2xlKGF4LCBheSwgYngsIGJ5LCBjeCwgY3ksIHB4LCBweSkge1xuICAgIHJldHVybiAoY3ggLSBweCkgKiAoYXkgLSBweSkgLSAoYXggLSBweCkgKiAoY3kgLSBweSkgPj0gMCAmJlxuICAgICAgICAgICAoYXggLSBweCkgKiAoYnkgLSBweSkgLSAoYnggLSBweCkgKiAoYXkgLSBweSkgPj0gMCAmJlxuICAgICAgICAgICAoYnggLSBweCkgKiAoY3kgLSBweSkgLSAoY3ggLSBweCkgKiAoYnkgLSBweSkgPj0gMDtcbn1cblxuLy8gY2hlY2sgaWYgYSBkaWFnb25hbCBiZXR3ZWVuIHR3byBwb2x5Z29uIG5vZGVzIGlzIHZhbGlkIChsaWVzIGluIHBvbHlnb24gaW50ZXJpb3IpXG5mdW5jdGlvbiBpc1ZhbGlkRGlhZ29uYWwoYSwgYikge1xuICAgIHJldHVybiBhLm5leHQuaSAhPT0gYi5pICYmIGEucHJldi5pICE9PSBiLmkgJiYgIWludGVyc2VjdHNQb2x5Z29uKGEsIGIpICYmIC8vIGRvbmVzJ3QgaW50ZXJzZWN0IG90aGVyIGVkZ2VzXG4gICAgICAgICAgIChsb2NhbGx5SW5zaWRlKGEsIGIpICYmIGxvY2FsbHlJbnNpZGUoYiwgYSkgJiYgbWlkZGxlSW5zaWRlKGEsIGIpICYmIC8vIGxvY2FsbHkgdmlzaWJsZVxuICAgICAgICAgICAgKGFyZWEoYS5wcmV2LCBhLCBiLnByZXYpIHx8IGFyZWEoYSwgYi5wcmV2LCBiKSkgfHwgLy8gZG9lcyBub3QgY3JlYXRlIG9wcG9zaXRlLWZhY2luZyBzZWN0b3JzXG4gICAgICAgICAgICBlcXVhbHMoYSwgYikgJiYgYXJlYShhLnByZXYsIGEsIGEubmV4dCkgPiAwICYmIGFyZWEoYi5wcmV2LCBiLCBiLm5leHQpID4gMCk7IC8vIHNwZWNpYWwgemVyby1sZW5ndGggY2FzZVxufVxuXG4vLyBzaWduZWQgYXJlYSBvZiBhIHRyaWFuZ2xlXG5mdW5jdGlvbiBhcmVhKHAsIHEsIHIpIHtcbiAgICByZXR1cm4gKHEueSAtIHAueSkgKiAoci54IC0gcS54KSAtIChxLnggLSBwLngpICogKHIueSAtIHEueSk7XG59XG5cbi8vIGNoZWNrIGlmIHR3byBwb2ludHMgYXJlIGVxdWFsXG5mdW5jdGlvbiBlcXVhbHMocDEsIHAyKSB7XG4gICAgcmV0dXJuIHAxLnggPT09IHAyLnggJiYgcDEueSA9PT0gcDIueTtcbn1cblxuLy8gY2hlY2sgaWYgdHdvIHNlZ21lbnRzIGludGVyc2VjdFxuZnVuY3Rpb24gaW50ZXJzZWN0cyhwMSwgcTEsIHAyLCBxMikge1xuICAgIHZhciBvMSA9IHNpZ24oYXJlYShwMSwgcTEsIHAyKSk7XG4gICAgdmFyIG8yID0gc2lnbihhcmVhKHAxLCBxMSwgcTIpKTtcbiAgICB2YXIgbzMgPSBzaWduKGFyZWEocDIsIHEyLCBwMSkpO1xuICAgIHZhciBvNCA9IHNpZ24oYXJlYShwMiwgcTIsIHExKSk7XG5cbiAgICBpZiAobzEgIT09IG8yICYmIG8zICE9PSBvNCkgcmV0dXJuIHRydWU7IC8vIGdlbmVyYWwgY2FzZVxuXG4gICAgaWYgKG8xID09PSAwICYmIG9uU2VnbWVudChwMSwgcDIsIHExKSkgcmV0dXJuIHRydWU7IC8vIHAxLCBxMSBhbmQgcDIgYXJlIGNvbGxpbmVhciBhbmQgcDIgbGllcyBvbiBwMXExXG4gICAgaWYgKG8yID09PSAwICYmIG9uU2VnbWVudChwMSwgcTIsIHExKSkgcmV0dXJuIHRydWU7IC8vIHAxLCBxMSBhbmQgcTIgYXJlIGNvbGxpbmVhciBhbmQgcTIgbGllcyBvbiBwMXExXG4gICAgaWYgKG8zID09PSAwICYmIG9uU2VnbWVudChwMiwgcDEsIHEyKSkgcmV0dXJuIHRydWU7IC8vIHAyLCBxMiBhbmQgcDEgYXJlIGNvbGxpbmVhciBhbmQgcDEgbGllcyBvbiBwMnEyXG4gICAgaWYgKG80ID09PSAwICYmIG9uU2VnbWVudChwMiwgcTEsIHEyKSkgcmV0dXJuIHRydWU7IC8vIHAyLCBxMiBhbmQgcTEgYXJlIGNvbGxpbmVhciBhbmQgcTEgbGllcyBvbiBwMnEyXG5cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbi8vIGZvciBjb2xsaW5lYXIgcG9pbnRzIHAsIHEsIHIsIGNoZWNrIGlmIHBvaW50IHEgbGllcyBvbiBzZWdtZW50IHByXG5mdW5jdGlvbiBvblNlZ21lbnQocCwgcSwgcikge1xuICAgIHJldHVybiBxLnggPD0gTWF0aC5tYXgocC54LCByLngpICYmIHEueCA+PSBNYXRoLm1pbihwLngsIHIueCkgJiYgcS55IDw9IE1hdGgubWF4KHAueSwgci55KSAmJiBxLnkgPj0gTWF0aC5taW4ocC55LCByLnkpO1xufVxuXG5mdW5jdGlvbiBzaWduKG51bSkge1xuICAgIHJldHVybiBudW0gPiAwID8gMSA6IG51bSA8IDAgPyAtMSA6IDA7XG59XG5cbi8vIGNoZWNrIGlmIGEgcG9seWdvbiBkaWFnb25hbCBpbnRlcnNlY3RzIGFueSBwb2x5Z29uIHNlZ21lbnRzXG5mdW5jdGlvbiBpbnRlcnNlY3RzUG9seWdvbihhLCBiKSB7XG4gICAgdmFyIHAgPSBhO1xuICAgIGRvIHtcbiAgICAgICAgaWYgKHAuaSAhPT0gYS5pICYmIHAubmV4dC5pICE9PSBhLmkgJiYgcC5pICE9PSBiLmkgJiYgcC5uZXh0LmkgIT09IGIuaSAmJlxuICAgICAgICAgICAgICAgIGludGVyc2VjdHMocCwgcC5uZXh0LCBhLCBiKSkgcmV0dXJuIHRydWU7XG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgfSB3aGlsZSAocCAhPT0gYSk7XG5cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbi8vIGNoZWNrIGlmIGEgcG9seWdvbiBkaWFnb25hbCBpcyBsb2NhbGx5IGluc2lkZSB0aGUgcG9seWdvblxuZnVuY3Rpb24gbG9jYWxseUluc2lkZShhLCBiKSB7XG4gICAgcmV0dXJuIGFyZWEoYS5wcmV2LCBhLCBhLm5leHQpIDwgMCA/XG4gICAgICAgIGFyZWEoYSwgYiwgYS5uZXh0KSA+PSAwICYmIGFyZWEoYSwgYS5wcmV2LCBiKSA+PSAwIDpcbiAgICAgICAgYXJlYShhLCBiLCBhLnByZXYpIDwgMCB8fCBhcmVhKGEsIGEubmV4dCwgYikgPCAwO1xufVxuXG4vLyBjaGVjayBpZiB0aGUgbWlkZGxlIHBvaW50IG9mIGEgcG9seWdvbiBkaWFnb25hbCBpcyBpbnNpZGUgdGhlIHBvbHlnb25cbmZ1bmN0aW9uIG1pZGRsZUluc2lkZShhLCBiKSB7XG4gICAgdmFyIHAgPSBhLFxuICAgICAgICBpbnNpZGUgPSBmYWxzZSxcbiAgICAgICAgcHggPSAoYS54ICsgYi54KSAvIDIsXG4gICAgICAgIHB5ID0gKGEueSArIGIueSkgLyAyO1xuICAgIGRvIHtcbiAgICAgICAgaWYgKCgocC55ID4gcHkpICE9PSAocC5uZXh0LnkgPiBweSkpICYmIHAubmV4dC55ICE9PSBwLnkgJiZcbiAgICAgICAgICAgICAgICAocHggPCAocC5uZXh0LnggLSBwLngpICogKHB5IC0gcC55KSAvIChwLm5leHQueSAtIHAueSkgKyBwLngpKVxuICAgICAgICAgICAgaW5zaWRlID0gIWluc2lkZTtcbiAgICAgICAgcCA9IHAubmV4dDtcbiAgICB9IHdoaWxlIChwICE9PSBhKTtcblxuICAgIHJldHVybiBpbnNpZGU7XG59XG5cbi8vIGxpbmsgdHdvIHBvbHlnb24gdmVydGljZXMgd2l0aCBhIGJyaWRnZTsgaWYgdGhlIHZlcnRpY2VzIGJlbG9uZyB0byB0aGUgc2FtZSByaW5nLCBpdCBzcGxpdHMgcG9seWdvbiBpbnRvIHR3bztcbi8vIGlmIG9uZSBiZWxvbmdzIHRvIHRoZSBvdXRlciByaW5nIGFuZCBhbm90aGVyIHRvIGEgaG9sZSwgaXQgbWVyZ2VzIGl0IGludG8gYSBzaW5nbGUgcmluZ1xuZnVuY3Rpb24gc3BsaXRQb2x5Z29uKGEsIGIpIHtcbiAgICB2YXIgYTIgPSBuZXcgTm9kZShhLmksIGEueCwgYS55KSxcbiAgICAgICAgYjIgPSBuZXcgTm9kZShiLmksIGIueCwgYi55KSxcbiAgICAgICAgYW4gPSBhLm5leHQsXG4gICAgICAgIGJwID0gYi5wcmV2O1xuXG4gICAgYS5uZXh0ID0gYjtcbiAgICBiLnByZXYgPSBhO1xuXG4gICAgYTIubmV4dCA9IGFuO1xuICAgIGFuLnByZXYgPSBhMjtcblxuICAgIGIyLm5leHQgPSBhMjtcbiAgICBhMi5wcmV2ID0gYjI7XG5cbiAgICBicC5uZXh0ID0gYjI7XG4gICAgYjIucHJldiA9IGJwO1xuXG4gICAgcmV0dXJuIGIyO1xufVxuXG4vLyBjcmVhdGUgYSBub2RlIGFuZCBvcHRpb25hbGx5IGxpbmsgaXQgd2l0aCBwcmV2aW91cyBvbmUgKGluIGEgY2lyY3VsYXIgZG91Ymx5IGxpbmtlZCBsaXN0KVxuZnVuY3Rpb24gaW5zZXJ0Tm9kZShpLCB4LCB5LCBsYXN0KSB7XG4gICAgdmFyIHAgPSBuZXcgTm9kZShpLCB4LCB5KTtcblxuICAgIGlmICghbGFzdCkge1xuICAgICAgICBwLnByZXYgPSBwO1xuICAgICAgICBwLm5leHQgPSBwO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgICAgcC5uZXh0ID0gbGFzdC5uZXh0O1xuICAgICAgICBwLnByZXYgPSBsYXN0O1xuICAgICAgICBsYXN0Lm5leHQucHJldiA9IHA7XG4gICAgICAgIGxhc3QubmV4dCA9IHA7XG4gICAgfVxuICAgIHJldHVybiBwO1xufVxuXG5mdW5jdGlvbiByZW1vdmVOb2RlKHApIHtcbiAgICBwLm5leHQucHJldiA9IHAucHJldjtcbiAgICBwLnByZXYubmV4dCA9IHAubmV4dDtcblxuICAgIGlmIChwLnByZXZaKSBwLnByZXZaLm5leHRaID0gcC5uZXh0WjtcbiAgICBpZiAocC5uZXh0WikgcC5uZXh0Wi5wcmV2WiA9IHAucHJldlo7XG59XG5cbmZ1bmN0aW9uIE5vZGUoaSwgeCwgeSkge1xuICAgIC8vIHZlcnRleCBpbmRleCBpbiBjb29yZGluYXRlcyBhcnJheVxuICAgIHRoaXMuaSA9IGk7XG5cbiAgICAvLyB2ZXJ0ZXggY29vcmRpbmF0ZXNcbiAgICB0aGlzLnggPSB4O1xuICAgIHRoaXMueSA9IHk7XG5cbiAgICAvLyBwcmV2aW91cyBhbmQgbmV4dCB2ZXJ0ZXggbm9kZXMgaW4gYSBwb2x5Z29uIHJpbmdcbiAgICB0aGlzLnByZXYgPSBudWxsO1xuICAgIHRoaXMubmV4dCA9IG51bGw7XG5cbiAgICAvLyB6LW9yZGVyIGN1cnZlIHZhbHVlXG4gICAgdGhpcy56ID0gbnVsbDtcblxuICAgIC8vIHByZXZpb3VzIGFuZCBuZXh0IG5vZGVzIGluIHotb3JkZXJcbiAgICB0aGlzLnByZXZaID0gbnVsbDtcbiAgICB0aGlzLm5leHRaID0gbnVsbDtcblxuICAgIC8vIGluZGljYXRlcyB3aGV0aGVyIHRoaXMgaXMgYSBzdGVpbmVyIHBvaW50XG4gICAgdGhpcy5zdGVpbmVyID0gZmFsc2U7XG59XG5cbi8vIHJldHVybiBhIHBlcmNlbnRhZ2UgZGlmZmVyZW5jZSBiZXR3ZWVuIHRoZSBwb2x5Z29uIGFyZWEgYW5kIGl0cyB0cmlhbmd1bGF0aW9uIGFyZWE7XG4vLyB1c2VkIHRvIHZlcmlmeSBjb3JyZWN0bmVzcyBvZiB0cmlhbmd1bGF0aW9uXG5lYXJjdXQuZGV2aWF0aW9uID0gZnVuY3Rpb24gKGRhdGEsIGhvbGVJbmRpY2VzLCBkaW0sIHRyaWFuZ2xlcykge1xuICAgIHZhciBoYXNIb2xlcyA9IGhvbGVJbmRpY2VzICYmIGhvbGVJbmRpY2VzLmxlbmd0aDtcbiAgICB2YXIgb3V0ZXJMZW4gPSBoYXNIb2xlcyA/IGhvbGVJbmRpY2VzWzBdICogZGltIDogZGF0YS5sZW5ndGg7XG5cbiAgICB2YXIgcG9seWdvbkFyZWEgPSBNYXRoLmFicyhzaWduZWRBcmVhKGRhdGEsIDAsIG91dGVyTGVuLCBkaW0pKTtcbiAgICBpZiAoaGFzSG9sZXMpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGhvbGVJbmRpY2VzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgc3RhcnQgPSBob2xlSW5kaWNlc1tpXSAqIGRpbTtcbiAgICAgICAgICAgIHZhciBlbmQgPSBpIDwgbGVuIC0gMSA/IGhvbGVJbmRpY2VzW2kgKyAxXSAqIGRpbSA6IGRhdGEubGVuZ3RoO1xuICAgICAgICAgICAgcG9seWdvbkFyZWEgLT0gTWF0aC5hYnMoc2lnbmVkQXJlYShkYXRhLCBzdGFydCwgZW5kLCBkaW0pKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhciB0cmlhbmdsZXNBcmVhID0gMDtcbiAgICBmb3IgKGkgPSAwOyBpIDwgdHJpYW5nbGVzLmxlbmd0aDsgaSArPSAzKSB7XG4gICAgICAgIHZhciBhID0gdHJpYW5nbGVzW2ldICogZGltO1xuICAgICAgICB2YXIgYiA9IHRyaWFuZ2xlc1tpICsgMV0gKiBkaW07XG4gICAgICAgIHZhciBjID0gdHJpYW5nbGVzW2kgKyAyXSAqIGRpbTtcbiAgICAgICAgdHJpYW5nbGVzQXJlYSArPSBNYXRoLmFicyhcbiAgICAgICAgICAgIChkYXRhW2FdIC0gZGF0YVtjXSkgKiAoZGF0YVtiICsgMV0gLSBkYXRhW2EgKyAxXSkgLVxuICAgICAgICAgICAgKGRhdGFbYV0gLSBkYXRhW2JdKSAqIChkYXRhW2MgKyAxXSAtIGRhdGFbYSArIDFdKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBvbHlnb25BcmVhID09PSAwICYmIHRyaWFuZ2xlc0FyZWEgPT09IDAgPyAwIDpcbiAgICAgICAgTWF0aC5hYnMoKHRyaWFuZ2xlc0FyZWEgLSBwb2x5Z29uQXJlYSkgLyBwb2x5Z29uQXJlYSk7XG59O1xuXG5mdW5jdGlvbiBzaWduZWRBcmVhKGRhdGEsIHN0YXJ0LCBlbmQsIGRpbSkge1xuICAgIHZhciBzdW0gPSAwO1xuICAgIGZvciAodmFyIGkgPSBzdGFydCwgaiA9IGVuZCAtIGRpbTsgaSA8IGVuZDsgaSArPSBkaW0pIHtcbiAgICAgICAgc3VtICs9IChkYXRhW2pdIC0gZGF0YVtpXSkgKiAoZGF0YVtpICsgMV0gKyBkYXRhW2ogKyAxXSk7XG4gICAgICAgIGogPSBpO1xuICAgIH1cbiAgICByZXR1cm4gc3VtO1xufVxuXG4vLyB0dXJuIGEgcG9seWdvbiBpbiBhIG11bHRpLWRpbWVuc2lvbmFsIGFycmF5IGZvcm0gKGUuZy4gYXMgaW4gR2VvSlNPTikgaW50byBhIGZvcm0gRWFyY3V0IGFjY2VwdHNcbmVhcmN1dC5mbGF0dGVuID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICB2YXIgZGltID0gZGF0YVswXVswXS5sZW5ndGgsXG4gICAgICAgIHJlc3VsdCA9IHt2ZXJ0aWNlczogW10sIGhvbGVzOiBbXSwgZGltZW5zaW9uczogZGltfSxcbiAgICAgICAgaG9sZUluZGV4ID0gMDtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGRhdGFbaV0ubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGZvciAodmFyIGQgPSAwOyBkIDwgZGltOyBkKyspIHJlc3VsdC52ZXJ0aWNlcy5wdXNoKGRhdGFbaV1bal1bZF0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpID4gMCkge1xuICAgICAgICAgICAgaG9sZUluZGV4ICs9IGRhdGFbaSAtIDFdLmxlbmd0aDtcbiAgICAgICAgICAgIHJlc3VsdC5ob2xlcy5wdXNoKGhvbGVJbmRleCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG4iLCIvKiEgaHR0cHM6Ly9tdGhzLmJlL3B1bnljb2RlIHYxLjMuMiBieSBAbWF0aGlhcyAqL1xuOyhmdW5jdGlvbihyb290KSB7XG5cblx0LyoqIERldGVjdCBmcmVlIHZhcmlhYmxlcyAqL1xuXHR2YXIgZnJlZUV4cG9ydHMgPSB0eXBlb2YgZXhwb3J0cyA9PSAnb2JqZWN0JyAmJiBleHBvcnRzICYmXG5cdFx0IWV4cG9ydHMubm9kZVR5cGUgJiYgZXhwb3J0cztcblx0dmFyIGZyZWVNb2R1bGUgPSB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZSAmJlxuXHRcdCFtb2R1bGUubm9kZVR5cGUgJiYgbW9kdWxlO1xuXHR2YXIgZnJlZUdsb2JhbCA9IHR5cGVvZiBnbG9iYWwgPT0gJ29iamVjdCcgJiYgZ2xvYmFsO1xuXHRpZiAoXG5cdFx0ZnJlZUdsb2JhbC5nbG9iYWwgPT09IGZyZWVHbG9iYWwgfHxcblx0XHRmcmVlR2xvYmFsLndpbmRvdyA9PT0gZnJlZUdsb2JhbCB8fFxuXHRcdGZyZWVHbG9iYWwuc2VsZiA9PT0gZnJlZUdsb2JhbFxuXHQpIHtcblx0XHRyb290ID0gZnJlZUdsb2JhbDtcblx0fVxuXG5cdC8qKlxuXHQgKiBUaGUgYHB1bnljb2RlYCBvYmplY3QuXG5cdCAqIEBuYW1lIHB1bnljb2RlXG5cdCAqIEB0eXBlIE9iamVjdFxuXHQgKi9cblx0dmFyIHB1bnljb2RlLFxuXG5cdC8qKiBIaWdoZXN0IHBvc2l0aXZlIHNpZ25lZCAzMi1iaXQgZmxvYXQgdmFsdWUgKi9cblx0bWF4SW50ID0gMjE0NzQ4MzY0NywgLy8gYWthLiAweDdGRkZGRkZGIG9yIDJeMzEtMVxuXG5cdC8qKiBCb290c3RyaW5nIHBhcmFtZXRlcnMgKi9cblx0YmFzZSA9IDM2LFxuXHR0TWluID0gMSxcblx0dE1heCA9IDI2LFxuXHRza2V3ID0gMzgsXG5cdGRhbXAgPSA3MDAsXG5cdGluaXRpYWxCaWFzID0gNzIsXG5cdGluaXRpYWxOID0gMTI4LCAvLyAweDgwXG5cdGRlbGltaXRlciA9ICctJywgLy8gJ1xceDJEJ1xuXG5cdC8qKiBSZWd1bGFyIGV4cHJlc3Npb25zICovXG5cdHJlZ2V4UHVueWNvZGUgPSAvXnhuLS0vLFxuXHRyZWdleE5vbkFTQ0lJID0gL1teXFx4MjAtXFx4N0VdLywgLy8gdW5wcmludGFibGUgQVNDSUkgY2hhcnMgKyBub24tQVNDSUkgY2hhcnNcblx0cmVnZXhTZXBhcmF0b3JzID0gL1tcXHgyRVxcdTMwMDJcXHVGRjBFXFx1RkY2MV0vZywgLy8gUkZDIDM0OTAgc2VwYXJhdG9yc1xuXG5cdC8qKiBFcnJvciBtZXNzYWdlcyAqL1xuXHRlcnJvcnMgPSB7XG5cdFx0J292ZXJmbG93JzogJ092ZXJmbG93OiBpbnB1dCBuZWVkcyB3aWRlciBpbnRlZ2VycyB0byBwcm9jZXNzJyxcblx0XHQnbm90LWJhc2ljJzogJ0lsbGVnYWwgaW5wdXQgPj0gMHg4MCAobm90IGEgYmFzaWMgY29kZSBwb2ludCknLFxuXHRcdCdpbnZhbGlkLWlucHV0JzogJ0ludmFsaWQgaW5wdXQnXG5cdH0sXG5cblx0LyoqIENvbnZlbmllbmNlIHNob3J0Y3V0cyAqL1xuXHRiYXNlTWludXNUTWluID0gYmFzZSAtIHRNaW4sXG5cdGZsb29yID0gTWF0aC5mbG9vcixcblx0c3RyaW5nRnJvbUNoYXJDb2RlID0gU3RyaW5nLmZyb21DaGFyQ29kZSxcblxuXHQvKiogVGVtcG9yYXJ5IHZhcmlhYmxlICovXG5cdGtleTtcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHQvKipcblx0ICogQSBnZW5lcmljIGVycm9yIHV0aWxpdHkgZnVuY3Rpb24uXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIFRoZSBlcnJvciB0eXBlLlxuXHQgKiBAcmV0dXJucyB7RXJyb3J9IFRocm93cyBhIGBSYW5nZUVycm9yYCB3aXRoIHRoZSBhcHBsaWNhYmxlIGVycm9yIG1lc3NhZ2UuXG5cdCAqL1xuXHRmdW5jdGlvbiBlcnJvcih0eXBlKSB7XG5cdFx0dGhyb3cgUmFuZ2VFcnJvcihlcnJvcnNbdHlwZV0pO1xuXHR9XG5cblx0LyoqXG5cdCAqIEEgZ2VuZXJpYyBgQXJyYXkjbWFwYCB1dGlsaXR5IGZ1bmN0aW9uLlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gdGhhdCBnZXRzIGNhbGxlZCBmb3IgZXZlcnkgYXJyYXlcblx0ICogaXRlbS5cblx0ICogQHJldHVybnMge0FycmF5fSBBIG5ldyBhcnJheSBvZiB2YWx1ZXMgcmV0dXJuZWQgYnkgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uLlxuXHQgKi9cblx0ZnVuY3Rpb24gbWFwKGFycmF5LCBmbikge1xuXHRcdHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cdFx0dmFyIHJlc3VsdCA9IFtdO1xuXHRcdHdoaWxlIChsZW5ndGgtLSkge1xuXHRcdFx0cmVzdWx0W2xlbmd0aF0gPSBmbihhcnJheVtsZW5ndGhdKTtcblx0XHR9XG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fVxuXG5cdC8qKlxuXHQgKiBBIHNpbXBsZSBgQXJyYXkjbWFwYC1saWtlIHdyYXBwZXIgdG8gd29yayB3aXRoIGRvbWFpbiBuYW1lIHN0cmluZ3Mgb3IgZW1haWxcblx0ICogYWRkcmVzc2VzLlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gZG9tYWluIFRoZSBkb21haW4gbmFtZSBvciBlbWFpbCBhZGRyZXNzLlxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gdGhhdCBnZXRzIGNhbGxlZCBmb3IgZXZlcnlcblx0ICogY2hhcmFjdGVyLlxuXHQgKiBAcmV0dXJucyB7QXJyYXl9IEEgbmV3IHN0cmluZyBvZiBjaGFyYWN0ZXJzIHJldHVybmVkIGJ5IHRoZSBjYWxsYmFja1xuXHQgKiBmdW5jdGlvbi5cblx0ICovXG5cdGZ1bmN0aW9uIG1hcERvbWFpbihzdHJpbmcsIGZuKSB7XG5cdFx0dmFyIHBhcnRzID0gc3RyaW5nLnNwbGl0KCdAJyk7XG5cdFx0dmFyIHJlc3VsdCA9ICcnO1xuXHRcdGlmIChwYXJ0cy5sZW5ndGggPiAxKSB7XG5cdFx0XHQvLyBJbiBlbWFpbCBhZGRyZXNzZXMsIG9ubHkgdGhlIGRvbWFpbiBuYW1lIHNob3VsZCBiZSBwdW55Y29kZWQuIExlYXZlXG5cdFx0XHQvLyB0aGUgbG9jYWwgcGFydCAoaS5lLiBldmVyeXRoaW5nIHVwIHRvIGBAYCkgaW50YWN0LlxuXHRcdFx0cmVzdWx0ID0gcGFydHNbMF0gKyAnQCc7XG5cdFx0XHRzdHJpbmcgPSBwYXJ0c1sxXTtcblx0XHR9XG5cdFx0Ly8gQXZvaWQgYHNwbGl0KHJlZ2V4KWAgZm9yIElFOCBjb21wYXRpYmlsaXR5LiBTZWUgIzE3LlxuXHRcdHN0cmluZyA9IHN0cmluZy5yZXBsYWNlKHJlZ2V4U2VwYXJhdG9ycywgJ1xceDJFJyk7XG5cdFx0dmFyIGxhYmVscyA9IHN0cmluZy5zcGxpdCgnLicpO1xuXHRcdHZhciBlbmNvZGVkID0gbWFwKGxhYmVscywgZm4pLmpvaW4oJy4nKTtcblx0XHRyZXR1cm4gcmVzdWx0ICsgZW5jb2RlZDtcblx0fVxuXG5cdC8qKlxuXHQgKiBDcmVhdGVzIGFuIGFycmF5IGNvbnRhaW5pbmcgdGhlIG51bWVyaWMgY29kZSBwb2ludHMgb2YgZWFjaCBVbmljb2RlXG5cdCAqIGNoYXJhY3RlciBpbiB0aGUgc3RyaW5nLiBXaGlsZSBKYXZhU2NyaXB0IHVzZXMgVUNTLTIgaW50ZXJuYWxseSxcblx0ICogdGhpcyBmdW5jdGlvbiB3aWxsIGNvbnZlcnQgYSBwYWlyIG9mIHN1cnJvZ2F0ZSBoYWx2ZXMgKGVhY2ggb2Ygd2hpY2hcblx0ICogVUNTLTIgZXhwb3NlcyBhcyBzZXBhcmF0ZSBjaGFyYWN0ZXJzKSBpbnRvIGEgc2luZ2xlIGNvZGUgcG9pbnQsXG5cdCAqIG1hdGNoaW5nIFVURi0xNi5cblx0ICogQHNlZSBgcHVueWNvZGUudWNzMi5lbmNvZGVgXG5cdCAqIEBzZWUgPGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9qYXZhc2NyaXB0LWVuY29kaW5nPlxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGUudWNzMlxuXHQgKiBAbmFtZSBkZWNvZGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IHN0cmluZyBUaGUgVW5pY29kZSBpbnB1dCBzdHJpbmcgKFVDUy0yKS5cblx0ICogQHJldHVybnMge0FycmF5fSBUaGUgbmV3IGFycmF5IG9mIGNvZGUgcG9pbnRzLlxuXHQgKi9cblx0ZnVuY3Rpb24gdWNzMmRlY29kZShzdHJpbmcpIHtcblx0XHR2YXIgb3V0cHV0ID0gW10sXG5cdFx0ICAgIGNvdW50ZXIgPSAwLFxuXHRcdCAgICBsZW5ndGggPSBzdHJpbmcubGVuZ3RoLFxuXHRcdCAgICB2YWx1ZSxcblx0XHQgICAgZXh0cmE7XG5cdFx0d2hpbGUgKGNvdW50ZXIgPCBsZW5ndGgpIHtcblx0XHRcdHZhbHVlID0gc3RyaW5nLmNoYXJDb2RlQXQoY291bnRlcisrKTtcblx0XHRcdGlmICh2YWx1ZSA+PSAweEQ4MDAgJiYgdmFsdWUgPD0gMHhEQkZGICYmIGNvdW50ZXIgPCBsZW5ndGgpIHtcblx0XHRcdFx0Ly8gaGlnaCBzdXJyb2dhdGUsIGFuZCB0aGVyZSBpcyBhIG5leHQgY2hhcmFjdGVyXG5cdFx0XHRcdGV4dHJhID0gc3RyaW5nLmNoYXJDb2RlQXQoY291bnRlcisrKTtcblx0XHRcdFx0aWYgKChleHRyYSAmIDB4RkMwMCkgPT0gMHhEQzAwKSB7IC8vIGxvdyBzdXJyb2dhdGVcblx0XHRcdFx0XHRvdXRwdXQucHVzaCgoKHZhbHVlICYgMHgzRkYpIDw8IDEwKSArIChleHRyYSAmIDB4M0ZGKSArIDB4MTAwMDApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdC8vIHVubWF0Y2hlZCBzdXJyb2dhdGU7IG9ubHkgYXBwZW5kIHRoaXMgY29kZSB1bml0LCBpbiBjYXNlIHRoZSBuZXh0XG5cdFx0XHRcdFx0Ly8gY29kZSB1bml0IGlzIHRoZSBoaWdoIHN1cnJvZ2F0ZSBvZiBhIHN1cnJvZ2F0ZSBwYWlyXG5cdFx0XHRcdFx0b3V0cHV0LnB1c2godmFsdWUpO1xuXHRcdFx0XHRcdGNvdW50ZXItLTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0b3V0cHV0LnB1c2godmFsdWUpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gb3V0cHV0O1xuXHR9XG5cblx0LyoqXG5cdCAqIENyZWF0ZXMgYSBzdHJpbmcgYmFzZWQgb24gYW4gYXJyYXkgb2YgbnVtZXJpYyBjb2RlIHBvaW50cy5cblx0ICogQHNlZSBgcHVueWNvZGUudWNzMi5kZWNvZGVgXG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZS51Y3MyXG5cdCAqIEBuYW1lIGVuY29kZVxuXHQgKiBAcGFyYW0ge0FycmF5fSBjb2RlUG9pbnRzIFRoZSBhcnJheSBvZiBudW1lcmljIGNvZGUgcG9pbnRzLlxuXHQgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgbmV3IFVuaWNvZGUgc3RyaW5nIChVQ1MtMikuXG5cdCAqL1xuXHRmdW5jdGlvbiB1Y3MyZW5jb2RlKGFycmF5KSB7XG5cdFx0cmV0dXJuIG1hcChhcnJheSwgZnVuY3Rpb24odmFsdWUpIHtcblx0XHRcdHZhciBvdXRwdXQgPSAnJztcblx0XHRcdGlmICh2YWx1ZSA+IDB4RkZGRikge1xuXHRcdFx0XHR2YWx1ZSAtPSAweDEwMDAwO1xuXHRcdFx0XHRvdXRwdXQgKz0gc3RyaW5nRnJvbUNoYXJDb2RlKHZhbHVlID4+PiAxMCAmIDB4M0ZGIHwgMHhEODAwKTtcblx0XHRcdFx0dmFsdWUgPSAweERDMDAgfCB2YWx1ZSAmIDB4M0ZGO1xuXHRcdFx0fVxuXHRcdFx0b3V0cHV0ICs9IHN0cmluZ0Zyb21DaGFyQ29kZSh2YWx1ZSk7XG5cdFx0XHRyZXR1cm4gb3V0cHV0O1xuXHRcdH0pLmpvaW4oJycpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgYmFzaWMgY29kZSBwb2ludCBpbnRvIGEgZGlnaXQvaW50ZWdlci5cblx0ICogQHNlZSBgZGlnaXRUb0Jhc2ljKClgXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBjb2RlUG9pbnQgVGhlIGJhc2ljIG51bWVyaWMgY29kZSBwb2ludCB2YWx1ZS5cblx0ICogQHJldHVybnMge051bWJlcn0gVGhlIG51bWVyaWMgdmFsdWUgb2YgYSBiYXNpYyBjb2RlIHBvaW50IChmb3IgdXNlIGluXG5cdCAqIHJlcHJlc2VudGluZyBpbnRlZ2VycykgaW4gdGhlIHJhbmdlIGAwYCB0byBgYmFzZSAtIDFgLCBvciBgYmFzZWAgaWZcblx0ICogdGhlIGNvZGUgcG9pbnQgZG9lcyBub3QgcmVwcmVzZW50IGEgdmFsdWUuXG5cdCAqL1xuXHRmdW5jdGlvbiBiYXNpY1RvRGlnaXQoY29kZVBvaW50KSB7XG5cdFx0aWYgKGNvZGVQb2ludCAtIDQ4IDwgMTApIHtcblx0XHRcdHJldHVybiBjb2RlUG9pbnQgLSAyMjtcblx0XHR9XG5cdFx0aWYgKGNvZGVQb2ludCAtIDY1IDwgMjYpIHtcblx0XHRcdHJldHVybiBjb2RlUG9pbnQgLSA2NTtcblx0XHR9XG5cdFx0aWYgKGNvZGVQb2ludCAtIDk3IDwgMjYpIHtcblx0XHRcdHJldHVybiBjb2RlUG9pbnQgLSA5Nztcblx0XHR9XG5cdFx0cmV0dXJuIGJhc2U7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBkaWdpdC9pbnRlZ2VyIGludG8gYSBiYXNpYyBjb2RlIHBvaW50LlxuXHQgKiBAc2VlIGBiYXNpY1RvRGlnaXQoKWBcblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtOdW1iZXJ9IGRpZ2l0IFRoZSBudW1lcmljIHZhbHVlIG9mIGEgYmFzaWMgY29kZSBwb2ludC5cblx0ICogQHJldHVybnMge051bWJlcn0gVGhlIGJhc2ljIGNvZGUgcG9pbnQgd2hvc2UgdmFsdWUgKHdoZW4gdXNlZCBmb3Jcblx0ICogcmVwcmVzZW50aW5nIGludGVnZXJzKSBpcyBgZGlnaXRgLCB3aGljaCBuZWVkcyB0byBiZSBpbiB0aGUgcmFuZ2Vcblx0ICogYDBgIHRvIGBiYXNlIC0gMWAuIElmIGBmbGFnYCBpcyBub24temVybywgdGhlIHVwcGVyY2FzZSBmb3JtIGlzXG5cdCAqIHVzZWQ7IGVsc2UsIHRoZSBsb3dlcmNhc2UgZm9ybSBpcyB1c2VkLiBUaGUgYmVoYXZpb3IgaXMgdW5kZWZpbmVkXG5cdCAqIGlmIGBmbGFnYCBpcyBub24temVybyBhbmQgYGRpZ2l0YCBoYXMgbm8gdXBwZXJjYXNlIGZvcm0uXG5cdCAqL1xuXHRmdW5jdGlvbiBkaWdpdFRvQmFzaWMoZGlnaXQsIGZsYWcpIHtcblx0XHQvLyAgMC4uMjUgbWFwIHRvIEFTQ0lJIGEuLnogb3IgQS4uWlxuXHRcdC8vIDI2Li4zNSBtYXAgdG8gQVNDSUkgMC4uOVxuXHRcdHJldHVybiBkaWdpdCArIDIyICsgNzUgKiAoZGlnaXQgPCAyNikgLSAoKGZsYWcgIT0gMCkgPDwgNSk7XG5cdH1cblxuXHQvKipcblx0ICogQmlhcyBhZGFwdGF0aW9uIGZ1bmN0aW9uIGFzIHBlciBzZWN0aW9uIDMuNCBvZiBSRkMgMzQ5Mi5cblx0ICogaHR0cDovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzQ5MiNzZWN0aW9uLTMuNFxuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0ZnVuY3Rpb24gYWRhcHQoZGVsdGEsIG51bVBvaW50cywgZmlyc3RUaW1lKSB7XG5cdFx0dmFyIGsgPSAwO1xuXHRcdGRlbHRhID0gZmlyc3RUaW1lID8gZmxvb3IoZGVsdGEgLyBkYW1wKSA6IGRlbHRhID4+IDE7XG5cdFx0ZGVsdGEgKz0gZmxvb3IoZGVsdGEgLyBudW1Qb2ludHMpO1xuXHRcdGZvciAoLyogbm8gaW5pdGlhbGl6YXRpb24gKi87IGRlbHRhID4gYmFzZU1pbnVzVE1pbiAqIHRNYXggPj4gMTsgayArPSBiYXNlKSB7XG5cdFx0XHRkZWx0YSA9IGZsb29yKGRlbHRhIC8gYmFzZU1pbnVzVE1pbik7XG5cdFx0fVxuXHRcdHJldHVybiBmbG9vcihrICsgKGJhc2VNaW51c1RNaW4gKyAxKSAqIGRlbHRhIC8gKGRlbHRhICsgc2tldykpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scyB0byBhIHN0cmluZyBvZiBVbmljb2RlXG5cdCAqIHN5bWJvbHMuXG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIFB1bnljb2RlIHN0cmluZyBvZiBBU0NJSS1vbmx5IHN5bWJvbHMuXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSByZXN1bHRpbmcgc3RyaW5nIG9mIFVuaWNvZGUgc3ltYm9scy5cblx0ICovXG5cdGZ1bmN0aW9uIGRlY29kZShpbnB1dCkge1xuXHRcdC8vIERvbid0IHVzZSBVQ1MtMlxuXHRcdHZhciBvdXRwdXQgPSBbXSxcblx0XHQgICAgaW5wdXRMZW5ndGggPSBpbnB1dC5sZW5ndGgsXG5cdFx0ICAgIG91dCxcblx0XHQgICAgaSA9IDAsXG5cdFx0ICAgIG4gPSBpbml0aWFsTixcblx0XHQgICAgYmlhcyA9IGluaXRpYWxCaWFzLFxuXHRcdCAgICBiYXNpYyxcblx0XHQgICAgaixcblx0XHQgICAgaW5kZXgsXG5cdFx0ICAgIG9sZGksXG5cdFx0ICAgIHcsXG5cdFx0ICAgIGssXG5cdFx0ICAgIGRpZ2l0LFxuXHRcdCAgICB0LFxuXHRcdCAgICAvKiogQ2FjaGVkIGNhbGN1bGF0aW9uIHJlc3VsdHMgKi9cblx0XHQgICAgYmFzZU1pbnVzVDtcblxuXHRcdC8vIEhhbmRsZSB0aGUgYmFzaWMgY29kZSBwb2ludHM6IGxldCBgYmFzaWNgIGJlIHRoZSBudW1iZXIgb2YgaW5wdXQgY29kZVxuXHRcdC8vIHBvaW50cyBiZWZvcmUgdGhlIGxhc3QgZGVsaW1pdGVyLCBvciBgMGAgaWYgdGhlcmUgaXMgbm9uZSwgdGhlbiBjb3B5XG5cdFx0Ly8gdGhlIGZpcnN0IGJhc2ljIGNvZGUgcG9pbnRzIHRvIHRoZSBvdXRwdXQuXG5cblx0XHRiYXNpYyA9IGlucHV0Lmxhc3RJbmRleE9mKGRlbGltaXRlcik7XG5cdFx0aWYgKGJhc2ljIDwgMCkge1xuXHRcdFx0YmFzaWMgPSAwO1xuXHRcdH1cblxuXHRcdGZvciAoaiA9IDA7IGogPCBiYXNpYzsgKytqKSB7XG5cdFx0XHQvLyBpZiBpdCdzIG5vdCBhIGJhc2ljIGNvZGUgcG9pbnRcblx0XHRcdGlmIChpbnB1dC5jaGFyQ29kZUF0KGopID49IDB4ODApIHtcblx0XHRcdFx0ZXJyb3IoJ25vdC1iYXNpYycpO1xuXHRcdFx0fVxuXHRcdFx0b3V0cHV0LnB1c2goaW5wdXQuY2hhckNvZGVBdChqKSk7XG5cdFx0fVxuXG5cdFx0Ly8gTWFpbiBkZWNvZGluZyBsb29wOiBzdGFydCBqdXN0IGFmdGVyIHRoZSBsYXN0IGRlbGltaXRlciBpZiBhbnkgYmFzaWMgY29kZVxuXHRcdC8vIHBvaW50cyB3ZXJlIGNvcGllZDsgc3RhcnQgYXQgdGhlIGJlZ2lubmluZyBvdGhlcndpc2UuXG5cblx0XHRmb3IgKGluZGV4ID0gYmFzaWMgPiAwID8gYmFzaWMgKyAxIDogMDsgaW5kZXggPCBpbnB1dExlbmd0aDsgLyogbm8gZmluYWwgZXhwcmVzc2lvbiAqLykge1xuXG5cdFx0XHQvLyBgaW5kZXhgIGlzIHRoZSBpbmRleCBvZiB0aGUgbmV4dCBjaGFyYWN0ZXIgdG8gYmUgY29uc3VtZWQuXG5cdFx0XHQvLyBEZWNvZGUgYSBnZW5lcmFsaXplZCB2YXJpYWJsZS1sZW5ndGggaW50ZWdlciBpbnRvIGBkZWx0YWAsXG5cdFx0XHQvLyB3aGljaCBnZXRzIGFkZGVkIHRvIGBpYC4gVGhlIG92ZXJmbG93IGNoZWNraW5nIGlzIGVhc2llclxuXHRcdFx0Ly8gaWYgd2UgaW5jcmVhc2UgYGlgIGFzIHdlIGdvLCB0aGVuIHN1YnRyYWN0IG9mZiBpdHMgc3RhcnRpbmdcblx0XHRcdC8vIHZhbHVlIGF0IHRoZSBlbmQgdG8gb2J0YWluIGBkZWx0YWAuXG5cdFx0XHRmb3IgKG9sZGkgPSBpLCB3ID0gMSwgayA9IGJhc2U7IC8qIG5vIGNvbmRpdGlvbiAqLzsgayArPSBiYXNlKSB7XG5cblx0XHRcdFx0aWYgKGluZGV4ID49IGlucHV0TGVuZ3RoKSB7XG5cdFx0XHRcdFx0ZXJyb3IoJ2ludmFsaWQtaW5wdXQnKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGRpZ2l0ID0gYmFzaWNUb0RpZ2l0KGlucHV0LmNoYXJDb2RlQXQoaW5kZXgrKykpO1xuXG5cdFx0XHRcdGlmIChkaWdpdCA+PSBiYXNlIHx8IGRpZ2l0ID4gZmxvb3IoKG1heEludCAtIGkpIC8gdykpIHtcblx0XHRcdFx0XHRlcnJvcignb3ZlcmZsb3cnKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGkgKz0gZGlnaXQgKiB3O1xuXHRcdFx0XHR0ID0gayA8PSBiaWFzID8gdE1pbiA6IChrID49IGJpYXMgKyB0TWF4ID8gdE1heCA6IGsgLSBiaWFzKTtcblxuXHRcdFx0XHRpZiAoZGlnaXQgPCB0KSB7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRiYXNlTWludXNUID0gYmFzZSAtIHQ7XG5cdFx0XHRcdGlmICh3ID4gZmxvb3IobWF4SW50IC8gYmFzZU1pbnVzVCkpIHtcblx0XHRcdFx0XHRlcnJvcignb3ZlcmZsb3cnKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHcgKj0gYmFzZU1pbnVzVDtcblxuXHRcdFx0fVxuXG5cdFx0XHRvdXQgPSBvdXRwdXQubGVuZ3RoICsgMTtcblx0XHRcdGJpYXMgPSBhZGFwdChpIC0gb2xkaSwgb3V0LCBvbGRpID09IDApO1xuXG5cdFx0XHQvLyBgaWAgd2FzIHN1cHBvc2VkIHRvIHdyYXAgYXJvdW5kIGZyb20gYG91dGAgdG8gYDBgLFxuXHRcdFx0Ly8gaW5jcmVtZW50aW5nIGBuYCBlYWNoIHRpbWUsIHNvIHdlJ2xsIGZpeCB0aGF0IG5vdzpcblx0XHRcdGlmIChmbG9vcihpIC8gb3V0KSA+IG1heEludCAtIG4pIHtcblx0XHRcdFx0ZXJyb3IoJ292ZXJmbG93Jyk7XG5cdFx0XHR9XG5cblx0XHRcdG4gKz0gZmxvb3IoaSAvIG91dCk7XG5cdFx0XHRpICU9IG91dDtcblxuXHRcdFx0Ly8gSW5zZXJ0IGBuYCBhdCBwb3NpdGlvbiBgaWAgb2YgdGhlIG91dHB1dFxuXHRcdFx0b3V0cHV0LnNwbGljZShpKyssIDAsIG4pO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHVjczJlbmNvZGUob3V0cHV0KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIHN0cmluZyBvZiBVbmljb2RlIHN5bWJvbHMgKGUuZy4gYSBkb21haW4gbmFtZSBsYWJlbCkgdG8gYVxuXHQgKiBQdW55Y29kZSBzdHJpbmcgb2YgQVNDSUktb25seSBzeW1ib2xzLlxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IGlucHV0IFRoZSBzdHJpbmcgb2YgVW5pY29kZSBzeW1ib2xzLlxuXHQgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgcmVzdWx0aW5nIFB1bnljb2RlIHN0cmluZyBvZiBBU0NJSS1vbmx5IHN5bWJvbHMuXG5cdCAqL1xuXHRmdW5jdGlvbiBlbmNvZGUoaW5wdXQpIHtcblx0XHR2YXIgbixcblx0XHQgICAgZGVsdGEsXG5cdFx0ICAgIGhhbmRsZWRDUENvdW50LFxuXHRcdCAgICBiYXNpY0xlbmd0aCxcblx0XHQgICAgYmlhcyxcblx0XHQgICAgaixcblx0XHQgICAgbSxcblx0XHQgICAgcSxcblx0XHQgICAgayxcblx0XHQgICAgdCxcblx0XHQgICAgY3VycmVudFZhbHVlLFxuXHRcdCAgICBvdXRwdXQgPSBbXSxcblx0XHQgICAgLyoqIGBpbnB1dExlbmd0aGAgd2lsbCBob2xkIHRoZSBudW1iZXIgb2YgY29kZSBwb2ludHMgaW4gYGlucHV0YC4gKi9cblx0XHQgICAgaW5wdXRMZW5ndGgsXG5cdFx0ICAgIC8qKiBDYWNoZWQgY2FsY3VsYXRpb24gcmVzdWx0cyAqL1xuXHRcdCAgICBoYW5kbGVkQ1BDb3VudFBsdXNPbmUsXG5cdFx0ICAgIGJhc2VNaW51c1QsXG5cdFx0ICAgIHFNaW51c1Q7XG5cblx0XHQvLyBDb252ZXJ0IHRoZSBpbnB1dCBpbiBVQ1MtMiB0byBVbmljb2RlXG5cdFx0aW5wdXQgPSB1Y3MyZGVjb2RlKGlucHV0KTtcblxuXHRcdC8vIENhY2hlIHRoZSBsZW5ndGhcblx0XHRpbnB1dExlbmd0aCA9IGlucHV0Lmxlbmd0aDtcblxuXHRcdC8vIEluaXRpYWxpemUgdGhlIHN0YXRlXG5cdFx0biA9IGluaXRpYWxOO1xuXHRcdGRlbHRhID0gMDtcblx0XHRiaWFzID0gaW5pdGlhbEJpYXM7XG5cblx0XHQvLyBIYW5kbGUgdGhlIGJhc2ljIGNvZGUgcG9pbnRzXG5cdFx0Zm9yIChqID0gMDsgaiA8IGlucHV0TGVuZ3RoOyArK2opIHtcblx0XHRcdGN1cnJlbnRWYWx1ZSA9IGlucHV0W2pdO1xuXHRcdFx0aWYgKGN1cnJlbnRWYWx1ZSA8IDB4ODApIHtcblx0XHRcdFx0b3V0cHV0LnB1c2goc3RyaW5nRnJvbUNoYXJDb2RlKGN1cnJlbnRWYWx1ZSkpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGhhbmRsZWRDUENvdW50ID0gYmFzaWNMZW5ndGggPSBvdXRwdXQubGVuZ3RoO1xuXG5cdFx0Ly8gYGhhbmRsZWRDUENvdW50YCBpcyB0aGUgbnVtYmVyIG9mIGNvZGUgcG9pbnRzIHRoYXQgaGF2ZSBiZWVuIGhhbmRsZWQ7XG5cdFx0Ly8gYGJhc2ljTGVuZ3RoYCBpcyB0aGUgbnVtYmVyIG9mIGJhc2ljIGNvZGUgcG9pbnRzLlxuXG5cdFx0Ly8gRmluaXNoIHRoZSBiYXNpYyBzdHJpbmcgLSBpZiBpdCBpcyBub3QgZW1wdHkgLSB3aXRoIGEgZGVsaW1pdGVyXG5cdFx0aWYgKGJhc2ljTGVuZ3RoKSB7XG5cdFx0XHRvdXRwdXQucHVzaChkZWxpbWl0ZXIpO1xuXHRcdH1cblxuXHRcdC8vIE1haW4gZW5jb2RpbmcgbG9vcDpcblx0XHR3aGlsZSAoaGFuZGxlZENQQ291bnQgPCBpbnB1dExlbmd0aCkge1xuXG5cdFx0XHQvLyBBbGwgbm9uLWJhc2ljIGNvZGUgcG9pbnRzIDwgbiBoYXZlIGJlZW4gaGFuZGxlZCBhbHJlYWR5LiBGaW5kIHRoZSBuZXh0XG5cdFx0XHQvLyBsYXJnZXIgb25lOlxuXHRcdFx0Zm9yIChtID0gbWF4SW50LCBqID0gMDsgaiA8IGlucHV0TGVuZ3RoOyArK2opIHtcblx0XHRcdFx0Y3VycmVudFZhbHVlID0gaW5wdXRbal07XG5cdFx0XHRcdGlmIChjdXJyZW50VmFsdWUgPj0gbiAmJiBjdXJyZW50VmFsdWUgPCBtKSB7XG5cdFx0XHRcdFx0bSA9IGN1cnJlbnRWYWx1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBJbmNyZWFzZSBgZGVsdGFgIGVub3VnaCB0byBhZHZhbmNlIHRoZSBkZWNvZGVyJ3MgPG4saT4gc3RhdGUgdG8gPG0sMD4sXG5cdFx0XHQvLyBidXQgZ3VhcmQgYWdhaW5zdCBvdmVyZmxvd1xuXHRcdFx0aGFuZGxlZENQQ291bnRQbHVzT25lID0gaGFuZGxlZENQQ291bnQgKyAxO1xuXHRcdFx0aWYgKG0gLSBuID4gZmxvb3IoKG1heEludCAtIGRlbHRhKSAvIGhhbmRsZWRDUENvdW50UGx1c09uZSkpIHtcblx0XHRcdFx0ZXJyb3IoJ292ZXJmbG93Jyk7XG5cdFx0XHR9XG5cblx0XHRcdGRlbHRhICs9IChtIC0gbikgKiBoYW5kbGVkQ1BDb3VudFBsdXNPbmU7XG5cdFx0XHRuID0gbTtcblxuXHRcdFx0Zm9yIChqID0gMDsgaiA8IGlucHV0TGVuZ3RoOyArK2opIHtcblx0XHRcdFx0Y3VycmVudFZhbHVlID0gaW5wdXRbal07XG5cblx0XHRcdFx0aWYgKGN1cnJlbnRWYWx1ZSA8IG4gJiYgKytkZWx0YSA+IG1heEludCkge1xuXHRcdFx0XHRcdGVycm9yKCdvdmVyZmxvdycpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGN1cnJlbnRWYWx1ZSA9PSBuKSB7XG5cdFx0XHRcdFx0Ly8gUmVwcmVzZW50IGRlbHRhIGFzIGEgZ2VuZXJhbGl6ZWQgdmFyaWFibGUtbGVuZ3RoIGludGVnZXJcblx0XHRcdFx0XHRmb3IgKHEgPSBkZWx0YSwgayA9IGJhc2U7IC8qIG5vIGNvbmRpdGlvbiAqLzsgayArPSBiYXNlKSB7XG5cdFx0XHRcdFx0XHR0ID0gayA8PSBiaWFzID8gdE1pbiA6IChrID49IGJpYXMgKyB0TWF4ID8gdE1heCA6IGsgLSBiaWFzKTtcblx0XHRcdFx0XHRcdGlmIChxIDwgdCkge1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHFNaW51c1QgPSBxIC0gdDtcblx0XHRcdFx0XHRcdGJhc2VNaW51c1QgPSBiYXNlIC0gdDtcblx0XHRcdFx0XHRcdG91dHB1dC5wdXNoKFxuXHRcdFx0XHRcdFx0XHRzdHJpbmdGcm9tQ2hhckNvZGUoZGlnaXRUb0Jhc2ljKHQgKyBxTWludXNUICUgYmFzZU1pbnVzVCwgMCkpXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0cSA9IGZsb29yKHFNaW51c1QgLyBiYXNlTWludXNUKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRvdXRwdXQucHVzaChzdHJpbmdGcm9tQ2hhckNvZGUoZGlnaXRUb0Jhc2ljKHEsIDApKSk7XG5cdFx0XHRcdFx0YmlhcyA9IGFkYXB0KGRlbHRhLCBoYW5kbGVkQ1BDb3VudFBsdXNPbmUsIGhhbmRsZWRDUENvdW50ID09IGJhc2ljTGVuZ3RoKTtcblx0XHRcdFx0XHRkZWx0YSA9IDA7XG5cdFx0XHRcdFx0KytoYW5kbGVkQ1BDb3VudDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQrK2RlbHRhO1xuXHRcdFx0KytuO1xuXG5cdFx0fVxuXHRcdHJldHVybiBvdXRwdXQuam9pbignJyk7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBQdW55Y29kZSBzdHJpbmcgcmVwcmVzZW50aW5nIGEgZG9tYWluIG5hbWUgb3IgYW4gZW1haWwgYWRkcmVzc1xuXHQgKiB0byBVbmljb2RlLiBPbmx5IHRoZSBQdW55Y29kZWQgcGFydHMgb2YgdGhlIGlucHV0IHdpbGwgYmUgY29udmVydGVkLCBpLmUuXG5cdCAqIGl0IGRvZXNuJ3QgbWF0dGVyIGlmIHlvdSBjYWxsIGl0IG9uIGEgc3RyaW5nIHRoYXQgaGFzIGFscmVhZHkgYmVlblxuXHQgKiBjb252ZXJ0ZWQgdG8gVW5pY29kZS5cblx0ICogQG1lbWJlck9mIHB1bnljb2RlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgUHVueWNvZGVkIGRvbWFpbiBuYW1lIG9yIGVtYWlsIGFkZHJlc3MgdG9cblx0ICogY29udmVydCB0byBVbmljb2RlLlxuXHQgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgVW5pY29kZSByZXByZXNlbnRhdGlvbiBvZiB0aGUgZ2l2ZW4gUHVueWNvZGVcblx0ICogc3RyaW5nLlxuXHQgKi9cblx0ZnVuY3Rpb24gdG9Vbmljb2RlKGlucHV0KSB7XG5cdFx0cmV0dXJuIG1hcERvbWFpbihpbnB1dCwgZnVuY3Rpb24oc3RyaW5nKSB7XG5cdFx0XHRyZXR1cm4gcmVnZXhQdW55Y29kZS50ZXN0KHN0cmluZylcblx0XHRcdFx0PyBkZWNvZGUoc3RyaW5nLnNsaWNlKDQpLnRvTG93ZXJDYXNlKCkpXG5cdFx0XHRcdDogc3RyaW5nO1xuXHRcdH0pO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgVW5pY29kZSBzdHJpbmcgcmVwcmVzZW50aW5nIGEgZG9tYWluIG5hbWUgb3IgYW4gZW1haWwgYWRkcmVzcyB0b1xuXHQgKiBQdW55Y29kZS4gT25seSB0aGUgbm9uLUFTQ0lJIHBhcnRzIG9mIHRoZSBkb21haW4gbmFtZSB3aWxsIGJlIGNvbnZlcnRlZCxcblx0ICogaS5lLiBpdCBkb2Vzbid0IG1hdHRlciBpZiB5b3UgY2FsbCBpdCB3aXRoIGEgZG9tYWluIHRoYXQncyBhbHJlYWR5IGluXG5cdCAqIEFTQ0lJLlxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IGlucHV0IFRoZSBkb21haW4gbmFtZSBvciBlbWFpbCBhZGRyZXNzIHRvIGNvbnZlcnQsIGFzIGFcblx0ICogVW5pY29kZSBzdHJpbmcuXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBQdW55Y29kZSByZXByZXNlbnRhdGlvbiBvZiB0aGUgZ2l2ZW4gZG9tYWluIG5hbWUgb3Jcblx0ICogZW1haWwgYWRkcmVzcy5cblx0ICovXG5cdGZ1bmN0aW9uIHRvQVNDSUkoaW5wdXQpIHtcblx0XHRyZXR1cm4gbWFwRG9tYWluKGlucHV0LCBmdW5jdGlvbihzdHJpbmcpIHtcblx0XHRcdHJldHVybiByZWdleE5vbkFTQ0lJLnRlc3Qoc3RyaW5nKVxuXHRcdFx0XHQ/ICd4bi0tJyArIGVuY29kZShzdHJpbmcpXG5cdFx0XHRcdDogc3RyaW5nO1xuXHRcdH0pO1xuXHR9XG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0LyoqIERlZmluZSB0aGUgcHVibGljIEFQSSAqL1xuXHRwdW55Y29kZSA9IHtcblx0XHQvKipcblx0XHQgKiBBIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIGN1cnJlbnQgUHVueWNvZGUuanMgdmVyc2lvbiBudW1iZXIuXG5cdFx0ICogQG1lbWJlck9mIHB1bnljb2RlXG5cdFx0ICogQHR5cGUgU3RyaW5nXG5cdFx0ICovXG5cdFx0J3ZlcnNpb24nOiAnMS4zLjInLFxuXHRcdC8qKlxuXHRcdCAqIEFuIG9iamVjdCBvZiBtZXRob2RzIHRvIGNvbnZlcnQgZnJvbSBKYXZhU2NyaXB0J3MgaW50ZXJuYWwgY2hhcmFjdGVyXG5cdFx0ICogcmVwcmVzZW50YXRpb24gKFVDUy0yKSB0byBVbmljb2RlIGNvZGUgcG9pbnRzLCBhbmQgYmFjay5cblx0XHQgKiBAc2VlIDxodHRwczovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvamF2YXNjcmlwdC1lbmNvZGluZz5cblx0XHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0XHQgKiBAdHlwZSBPYmplY3Rcblx0XHQgKi9cblx0XHQndWNzMic6IHtcblx0XHRcdCdkZWNvZGUnOiB1Y3MyZGVjb2RlLFxuXHRcdFx0J2VuY29kZSc6IHVjczJlbmNvZGVcblx0XHR9LFxuXHRcdCdkZWNvZGUnOiBkZWNvZGUsXG5cdFx0J2VuY29kZSc6IGVuY29kZSxcblx0XHQndG9BU0NJSSc6IHRvQVNDSUksXG5cdFx0J3RvVW5pY29kZSc6IHRvVW5pY29kZVxuXHR9O1xuXG5cdC8qKiBFeHBvc2UgYHB1bnljb2RlYCAqL1xuXHQvLyBTb21lIEFNRCBidWlsZCBvcHRpbWl6ZXJzLCBsaWtlIHIuanMsIGNoZWNrIGZvciBzcGVjaWZpYyBjb25kaXRpb24gcGF0dGVybnNcblx0Ly8gbGlrZSB0aGUgZm9sbG93aW5nOlxuXHRpZiAoXG5cdFx0dHlwZW9mIGRlZmluZSA9PSAnZnVuY3Rpb24nICYmXG5cdFx0dHlwZW9mIGRlZmluZS5hbWQgPT0gJ29iamVjdCcgJiZcblx0XHRkZWZpbmUuYW1kXG5cdCkge1xuXHRcdGRlZmluZSgncHVueWNvZGUnLCBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiBwdW55Y29kZTtcblx0XHR9KTtcblx0fSBlbHNlIGlmIChmcmVlRXhwb3J0cyAmJiBmcmVlTW9kdWxlKSB7XG5cdFx0aWYgKG1vZHVsZS5leHBvcnRzID09IGZyZWVFeHBvcnRzKSB7IC8vIGluIE5vZGUuanMgb3IgUmluZ29KUyB2MC44LjArXG5cdFx0XHRmcmVlTW9kdWxlLmV4cG9ydHMgPSBwdW55Y29kZTtcblx0XHR9IGVsc2UgeyAvLyBpbiBOYXJ3aGFsIG9yIFJpbmdvSlMgdjAuNy4wLVxuXHRcdFx0Zm9yIChrZXkgaW4gcHVueWNvZGUpIHtcblx0XHRcdFx0cHVueWNvZGUuaGFzT3duUHJvcGVydHkoa2V5KSAmJiAoZnJlZUV4cG9ydHNba2V5XSA9IHB1bnljb2RlW2tleV0pO1xuXHRcdFx0fVxuXHRcdH1cblx0fSBlbHNlIHsgLy8gaW4gUmhpbm8gb3IgYSB3ZWIgYnJvd3NlclxuXHRcdHJvb3QucHVueWNvZGUgPSBwdW55Y29kZTtcblx0fVxuXG59KHRoaXMpKTtcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGlzU3RyaW5nOiBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gdHlwZW9mKGFyZykgPT09ICdzdHJpbmcnO1xuICB9LFxuICBpc09iamVjdDogZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIHR5cGVvZihhcmcpID09PSAnb2JqZWN0JyAmJiBhcmcgIT09IG51bGw7XG4gIH0sXG4gIGlzTnVsbDogZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIGFyZyA9PT0gbnVsbDtcbiAgfSxcbiAgaXNOdWxsT3JVbmRlZmluZWQ6IGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiBhcmcgPT0gbnVsbDtcbiAgfVxufTtcbiIsIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG4ndXNlIHN0cmljdCc7XG5cbi8vIElmIG9iai5oYXNPd25Qcm9wZXJ0eSBoYXMgYmVlbiBvdmVycmlkZGVuLCB0aGVuIGNhbGxpbmdcbi8vIG9iai5oYXNPd25Qcm9wZXJ0eShwcm9wKSB3aWxsIGJyZWFrLlxuLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vam95ZW50L25vZGUvaXNzdWVzLzE3MDdcbmZ1bmN0aW9uIGhhc093blByb3BlcnR5KG9iaiwgcHJvcCkge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ocXMsIHNlcCwgZXEsIG9wdGlvbnMpIHtcbiAgc2VwID0gc2VwIHx8ICcmJztcbiAgZXEgPSBlcSB8fCAnPSc7XG4gIHZhciBvYmogPSB7fTtcblxuICBpZiAodHlwZW9mIHFzICE9PSAnc3RyaW5nJyB8fCBxcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gb2JqO1xuICB9XG5cbiAgdmFyIHJlZ2V4cCA9IC9cXCsvZztcbiAgcXMgPSBxcy5zcGxpdChzZXApO1xuXG4gIHZhciBtYXhLZXlzID0gMTAwMDtcbiAgaWYgKG9wdGlvbnMgJiYgdHlwZW9mIG9wdGlvbnMubWF4S2V5cyA9PT0gJ251bWJlcicpIHtcbiAgICBtYXhLZXlzID0gb3B0aW9ucy5tYXhLZXlzO1xuICB9XG5cbiAgdmFyIGxlbiA9IHFzLmxlbmd0aDtcbiAgLy8gbWF4S2V5cyA8PSAwIG1lYW5zIHRoYXQgd2Ugc2hvdWxkIG5vdCBsaW1pdCBrZXlzIGNvdW50XG4gIGlmIChtYXhLZXlzID4gMCAmJiBsZW4gPiBtYXhLZXlzKSB7XG4gICAgbGVuID0gbWF4S2V5cztcbiAgfVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcbiAgICB2YXIgeCA9IHFzW2ldLnJlcGxhY2UocmVnZXhwLCAnJTIwJyksXG4gICAgICAgIGlkeCA9IHguaW5kZXhPZihlcSksXG4gICAgICAgIGtzdHIsIHZzdHIsIGssIHY7XG5cbiAgICBpZiAoaWR4ID49IDApIHtcbiAgICAgIGtzdHIgPSB4LnN1YnN0cigwLCBpZHgpO1xuICAgICAgdnN0ciA9IHguc3Vic3RyKGlkeCArIDEpO1xuICAgIH0gZWxzZSB7XG4gICAgICBrc3RyID0geDtcbiAgICAgIHZzdHIgPSAnJztcbiAgICB9XG5cbiAgICBrID0gZGVjb2RlVVJJQ29tcG9uZW50KGtzdHIpO1xuICAgIHYgPSBkZWNvZGVVUklDb21wb25lbnQodnN0cik7XG5cbiAgICBpZiAoIWhhc093blByb3BlcnR5KG9iaiwgaykpIHtcbiAgICAgIG9ialtrXSA9IHY7XG4gICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KG9ialtrXSkpIHtcbiAgICAgIG9ialtrXS5wdXNoKHYpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvYmpba10gPSBbb2JqW2tdLCB2XTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gb2JqO1xufTtcbiIsIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBzdHJpbmdpZnlQcmltaXRpdmUgPSBmdW5jdGlvbih2KSB7XG4gIHN3aXRjaCAodHlwZW9mIHYpIHtcbiAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgcmV0dXJuIHY7XG5cbiAgICBjYXNlICdib29sZWFuJzpcbiAgICAgIHJldHVybiB2ID8gJ3RydWUnIDogJ2ZhbHNlJztcblxuICAgIGNhc2UgJ251bWJlcic6XG4gICAgICByZXR1cm4gaXNGaW5pdGUodikgPyB2IDogJyc7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuICcnO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9iaiwgc2VwLCBlcSwgbmFtZSkge1xuICBzZXAgPSBzZXAgfHwgJyYnO1xuICBlcSA9IGVxIHx8ICc9JztcbiAgaWYgKG9iaiA9PT0gbnVsbCkge1xuICAgIG9iaiA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGlmICh0eXBlb2Ygb2JqID09PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhvYmopLm1hcChmdW5jdGlvbihrKSB7XG4gICAgICB2YXIga3MgPSBlbmNvZGVVUklDb21wb25lbnQoc3RyaW5naWZ5UHJpbWl0aXZlKGspKSArIGVxO1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkob2JqW2tdKSkge1xuICAgICAgICByZXR1cm4gb2JqW2tdLm1hcChmdW5jdGlvbih2KSB7XG4gICAgICAgICAgcmV0dXJuIGtzICsgZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZ2lmeVByaW1pdGl2ZSh2KSk7XG4gICAgICAgIH0pLmpvaW4oc2VwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBrcyArIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUob2JqW2tdKSk7XG4gICAgICB9XG4gICAgfSkuam9pbihzZXApO1xuXG4gIH1cblxuICBpZiAoIW5hbWUpIHJldHVybiAnJztcbiAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUobmFtZSkpICsgZXEgK1xuICAgICAgICAgZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZ2lmeVByaW1pdGl2ZShvYmopKTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuZGVjb2RlID0gZXhwb3J0cy5wYXJzZSA9IHJlcXVpcmUoJy4vZGVjb2RlJyk7XG5leHBvcnRzLmVuY29kZSA9IGV4cG9ydHMuc3RyaW5naWZ5ID0gcmVxdWlyZSgnLi9lbmNvZGUnKTtcbiIsIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBwdW55Y29kZSA9IHJlcXVpcmUoJ3B1bnljb2RlJyk7XG52YXIgdXRpbCA9IHJlcXVpcmUoJy4vdXRpbCcpO1xuXG5leHBvcnRzLnBhcnNlID0gdXJsUGFyc2U7XG5leHBvcnRzLnJlc29sdmUgPSB1cmxSZXNvbHZlO1xuZXhwb3J0cy5yZXNvbHZlT2JqZWN0ID0gdXJsUmVzb2x2ZU9iamVjdDtcbmV4cG9ydHMuZm9ybWF0ID0gdXJsRm9ybWF0O1xuXG5leHBvcnRzLlVybCA9IFVybDtcblxuZnVuY3Rpb24gVXJsKCkge1xuICB0aGlzLnByb3RvY29sID0gbnVsbDtcbiAgdGhpcy5zbGFzaGVzID0gbnVsbDtcbiAgdGhpcy5hdXRoID0gbnVsbDtcbiAgdGhpcy5ob3N0ID0gbnVsbDtcbiAgdGhpcy5wb3J0ID0gbnVsbDtcbiAgdGhpcy5ob3N0bmFtZSA9IG51bGw7XG4gIHRoaXMuaGFzaCA9IG51bGw7XG4gIHRoaXMuc2VhcmNoID0gbnVsbDtcbiAgdGhpcy5xdWVyeSA9IG51bGw7XG4gIHRoaXMucGF0aG5hbWUgPSBudWxsO1xuICB0aGlzLnBhdGggPSBudWxsO1xuICB0aGlzLmhyZWYgPSBudWxsO1xufVxuXG4vLyBSZWZlcmVuY2U6IFJGQyAzOTg2LCBSRkMgMTgwOCwgUkZDIDIzOTZcblxuLy8gZGVmaW5lIHRoZXNlIGhlcmUgc28gYXQgbGVhc3QgdGhleSBvbmx5IGhhdmUgdG8gYmVcbi8vIGNvbXBpbGVkIG9uY2Ugb24gdGhlIGZpcnN0IG1vZHVsZSBsb2FkLlxudmFyIHByb3RvY29sUGF0dGVybiA9IC9eKFthLXowLTkuKy1dKzopL2ksXG4gICAgcG9ydFBhdHRlcm4gPSAvOlswLTldKiQvLFxuXG4gICAgLy8gU3BlY2lhbCBjYXNlIGZvciBhIHNpbXBsZSBwYXRoIFVSTFxuICAgIHNpbXBsZVBhdGhQYXR0ZXJuID0gL14oXFwvXFwvPyg/IVxcLylbXlxcP1xcc10qKShcXD9bXlxcc10qKT8kLyxcblxuICAgIC8vIFJGQyAyMzk2OiBjaGFyYWN0ZXJzIHJlc2VydmVkIGZvciBkZWxpbWl0aW5nIFVSTHMuXG4gICAgLy8gV2UgYWN0dWFsbHkganVzdCBhdXRvLWVzY2FwZSB0aGVzZS5cbiAgICBkZWxpbXMgPSBbJzwnLCAnPicsICdcIicsICdgJywgJyAnLCAnXFxyJywgJ1xcbicsICdcXHQnXSxcblxuICAgIC8vIFJGQyAyMzk2OiBjaGFyYWN0ZXJzIG5vdCBhbGxvd2VkIGZvciB2YXJpb3VzIHJlYXNvbnMuXG4gICAgdW53aXNlID0gWyd7JywgJ30nLCAnfCcsICdcXFxcJywgJ14nLCAnYCddLmNvbmNhdChkZWxpbXMpLFxuXG4gICAgLy8gQWxsb3dlZCBieSBSRkNzLCBidXQgY2F1c2Ugb2YgWFNTIGF0dGFja3MuICBBbHdheXMgZXNjYXBlIHRoZXNlLlxuICAgIGF1dG9Fc2NhcGUgPSBbJ1xcJyddLmNvbmNhdCh1bndpc2UpLFxuICAgIC8vIENoYXJhY3RlcnMgdGhhdCBhcmUgbmV2ZXIgZXZlciBhbGxvd2VkIGluIGEgaG9zdG5hbWUuXG4gICAgLy8gTm90ZSB0aGF0IGFueSBpbnZhbGlkIGNoYXJzIGFyZSBhbHNvIGhhbmRsZWQsIGJ1dCB0aGVzZVxuICAgIC8vIGFyZSB0aGUgb25lcyB0aGF0IGFyZSAqZXhwZWN0ZWQqIHRvIGJlIHNlZW4sIHNvIHdlIGZhc3QtcGF0aFxuICAgIC8vIHRoZW0uXG4gICAgbm9uSG9zdENoYXJzID0gWyclJywgJy8nLCAnPycsICc7JywgJyMnXS5jb25jYXQoYXV0b0VzY2FwZSksXG4gICAgaG9zdEVuZGluZ0NoYXJzID0gWycvJywgJz8nLCAnIyddLFxuICAgIGhvc3RuYW1lTWF4TGVuID0gMjU1LFxuICAgIGhvc3RuYW1lUGFydFBhdHRlcm4gPSAvXlsrYS16MC05QS1aXy1dezAsNjN9JC8sXG4gICAgaG9zdG5hbWVQYXJ0U3RhcnQgPSAvXihbK2EtejAtOUEtWl8tXXswLDYzfSkoLiopJC8sXG4gICAgLy8gcHJvdG9jb2xzIHRoYXQgY2FuIGFsbG93IFwidW5zYWZlXCIgYW5kIFwidW53aXNlXCIgY2hhcnMuXG4gICAgdW5zYWZlUHJvdG9jb2wgPSB7XG4gICAgICAnamF2YXNjcmlwdCc6IHRydWUsXG4gICAgICAnamF2YXNjcmlwdDonOiB0cnVlXG4gICAgfSxcbiAgICAvLyBwcm90b2NvbHMgdGhhdCBuZXZlciBoYXZlIGEgaG9zdG5hbWUuXG4gICAgaG9zdGxlc3NQcm90b2NvbCA9IHtcbiAgICAgICdqYXZhc2NyaXB0JzogdHJ1ZSxcbiAgICAgICdqYXZhc2NyaXB0Oic6IHRydWVcbiAgICB9LFxuICAgIC8vIHByb3RvY29scyB0aGF0IGFsd2F5cyBjb250YWluIGEgLy8gYml0LlxuICAgIHNsYXNoZWRQcm90b2NvbCA9IHtcbiAgICAgICdodHRwJzogdHJ1ZSxcbiAgICAgICdodHRwcyc6IHRydWUsXG4gICAgICAnZnRwJzogdHJ1ZSxcbiAgICAgICdnb3BoZXInOiB0cnVlLFxuICAgICAgJ2ZpbGUnOiB0cnVlLFxuICAgICAgJ2h0dHA6JzogdHJ1ZSxcbiAgICAgICdodHRwczonOiB0cnVlLFxuICAgICAgJ2Z0cDonOiB0cnVlLFxuICAgICAgJ2dvcGhlcjonOiB0cnVlLFxuICAgICAgJ2ZpbGU6JzogdHJ1ZVxuICAgIH0sXG4gICAgcXVlcnlzdHJpbmcgPSByZXF1aXJlKCdxdWVyeXN0cmluZycpO1xuXG5mdW5jdGlvbiB1cmxQYXJzZSh1cmwsIHBhcnNlUXVlcnlTdHJpbmcsIHNsYXNoZXNEZW5vdGVIb3N0KSB7XG4gIGlmICh1cmwgJiYgdXRpbC5pc09iamVjdCh1cmwpICYmIHVybCBpbnN0YW5jZW9mIFVybCkgcmV0dXJuIHVybDtcblxuICB2YXIgdSA9IG5ldyBVcmw7XG4gIHUucGFyc2UodXJsLCBwYXJzZVF1ZXJ5U3RyaW5nLCBzbGFzaGVzRGVub3RlSG9zdCk7XG4gIHJldHVybiB1O1xufVxuXG5VcmwucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24odXJsLCBwYXJzZVF1ZXJ5U3RyaW5nLCBzbGFzaGVzRGVub3RlSG9zdCkge1xuICBpZiAoIXV0aWwuaXNTdHJpbmcodXJsKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQYXJhbWV0ZXIgJ3VybCcgbXVzdCBiZSBhIHN0cmluZywgbm90IFwiICsgdHlwZW9mIHVybCk7XG4gIH1cblxuICAvLyBDb3B5IGNocm9tZSwgSUUsIG9wZXJhIGJhY2tzbGFzaC1oYW5kbGluZyBiZWhhdmlvci5cbiAgLy8gQmFjayBzbGFzaGVzIGJlZm9yZSB0aGUgcXVlcnkgc3RyaW5nIGdldCBjb252ZXJ0ZWQgdG8gZm9yd2FyZCBzbGFzaGVzXG4gIC8vIFNlZTogaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTI1OTE2XG4gIHZhciBxdWVyeUluZGV4ID0gdXJsLmluZGV4T2YoJz8nKSxcbiAgICAgIHNwbGl0dGVyID1cbiAgICAgICAgICAocXVlcnlJbmRleCAhPT0gLTEgJiYgcXVlcnlJbmRleCA8IHVybC5pbmRleE9mKCcjJykpID8gJz8nIDogJyMnLFxuICAgICAgdVNwbGl0ID0gdXJsLnNwbGl0KHNwbGl0dGVyKSxcbiAgICAgIHNsYXNoUmVnZXggPSAvXFxcXC9nO1xuICB1U3BsaXRbMF0gPSB1U3BsaXRbMF0ucmVwbGFjZShzbGFzaFJlZ2V4LCAnLycpO1xuICB1cmwgPSB1U3BsaXQuam9pbihzcGxpdHRlcik7XG5cbiAgdmFyIHJlc3QgPSB1cmw7XG5cbiAgLy8gdHJpbSBiZWZvcmUgcHJvY2VlZGluZy5cbiAgLy8gVGhpcyBpcyB0byBzdXBwb3J0IHBhcnNlIHN0dWZmIGxpa2UgXCIgIGh0dHA6Ly9mb28uY29tICBcXG5cIlxuICByZXN0ID0gcmVzdC50cmltKCk7XG5cbiAgaWYgKCFzbGFzaGVzRGVub3RlSG9zdCAmJiB1cmwuc3BsaXQoJyMnKS5sZW5ndGggPT09IDEpIHtcbiAgICAvLyBUcnkgZmFzdCBwYXRoIHJlZ2V4cFxuICAgIHZhciBzaW1wbGVQYXRoID0gc2ltcGxlUGF0aFBhdHRlcm4uZXhlYyhyZXN0KTtcbiAgICBpZiAoc2ltcGxlUGF0aCkge1xuICAgICAgdGhpcy5wYXRoID0gcmVzdDtcbiAgICAgIHRoaXMuaHJlZiA9IHJlc3Q7XG4gICAgICB0aGlzLnBhdGhuYW1lID0gc2ltcGxlUGF0aFsxXTtcbiAgICAgIGlmIChzaW1wbGVQYXRoWzJdKSB7XG4gICAgICAgIHRoaXMuc2VhcmNoID0gc2ltcGxlUGF0aFsyXTtcbiAgICAgICAgaWYgKHBhcnNlUXVlcnlTdHJpbmcpIHtcbiAgICAgICAgICB0aGlzLnF1ZXJ5ID0gcXVlcnlzdHJpbmcucGFyc2UodGhpcy5zZWFyY2guc3Vic3RyKDEpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnF1ZXJ5ID0gdGhpcy5zZWFyY2guc3Vic3RyKDEpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHBhcnNlUXVlcnlTdHJpbmcpIHtcbiAgICAgICAgdGhpcy5zZWFyY2ggPSAnJztcbiAgICAgICAgdGhpcy5xdWVyeSA9IHt9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9XG5cbiAgdmFyIHByb3RvID0gcHJvdG9jb2xQYXR0ZXJuLmV4ZWMocmVzdCk7XG4gIGlmIChwcm90bykge1xuICAgIHByb3RvID0gcHJvdG9bMF07XG4gICAgdmFyIGxvd2VyUHJvdG8gPSBwcm90by50b0xvd2VyQ2FzZSgpO1xuICAgIHRoaXMucHJvdG9jb2wgPSBsb3dlclByb3RvO1xuICAgIHJlc3QgPSByZXN0LnN1YnN0cihwcm90by5sZW5ndGgpO1xuICB9XG5cbiAgLy8gZmlndXJlIG91dCBpZiBpdCdzIGdvdCBhIGhvc3RcbiAgLy8gdXNlckBzZXJ2ZXIgaXMgKmFsd2F5cyogaW50ZXJwcmV0ZWQgYXMgYSBob3N0bmFtZSwgYW5kIHVybFxuICAvLyByZXNvbHV0aW9uIHdpbGwgdHJlYXQgLy9mb28vYmFyIGFzIGhvc3Q9Zm9vLHBhdGg9YmFyIGJlY2F1c2UgdGhhdCdzXG4gIC8vIGhvdyB0aGUgYnJvd3NlciByZXNvbHZlcyByZWxhdGl2ZSBVUkxzLlxuICBpZiAoc2xhc2hlc0Rlbm90ZUhvc3QgfHwgcHJvdG8gfHwgcmVzdC5tYXRjaCgvXlxcL1xcL1teQFxcL10rQFteQFxcL10rLykpIHtcbiAgICB2YXIgc2xhc2hlcyA9IHJlc3Quc3Vic3RyKDAsIDIpID09PSAnLy8nO1xuICAgIGlmIChzbGFzaGVzICYmICEocHJvdG8gJiYgaG9zdGxlc3NQcm90b2NvbFtwcm90b10pKSB7XG4gICAgICByZXN0ID0gcmVzdC5zdWJzdHIoMik7XG4gICAgICB0aGlzLnNsYXNoZXMgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIGlmICghaG9zdGxlc3NQcm90b2NvbFtwcm90b10gJiZcbiAgICAgIChzbGFzaGVzIHx8IChwcm90byAmJiAhc2xhc2hlZFByb3RvY29sW3Byb3RvXSkpKSB7XG5cbiAgICAvLyB0aGVyZSdzIGEgaG9zdG5hbWUuXG4gICAgLy8gdGhlIGZpcnN0IGluc3RhbmNlIG9mIC8sID8sIDssIG9yICMgZW5kcyB0aGUgaG9zdC5cbiAgICAvL1xuICAgIC8vIElmIHRoZXJlIGlzIGFuIEAgaW4gdGhlIGhvc3RuYW1lLCB0aGVuIG5vbi1ob3N0IGNoYXJzICphcmUqIGFsbG93ZWRcbiAgICAvLyB0byB0aGUgbGVmdCBvZiB0aGUgbGFzdCBAIHNpZ24sIHVubGVzcyBzb21lIGhvc3QtZW5kaW5nIGNoYXJhY3RlclxuICAgIC8vIGNvbWVzICpiZWZvcmUqIHRoZSBALXNpZ24uXG4gICAgLy8gVVJMcyBhcmUgb2Jub3hpb3VzLlxuICAgIC8vXG4gICAgLy8gZXg6XG4gICAgLy8gaHR0cDovL2FAYkBjLyA9PiB1c2VyOmFAYiBob3N0OmNcbiAgICAvLyBodHRwOi8vYUBiP0BjID0+IHVzZXI6YSBob3N0OmMgcGF0aDovP0BjXG5cbiAgICAvLyB2MC4xMiBUT0RPKGlzYWFjcyk6IFRoaXMgaXMgbm90IHF1aXRlIGhvdyBDaHJvbWUgZG9lcyB0aGluZ3MuXG4gICAgLy8gUmV2aWV3IG91ciB0ZXN0IGNhc2UgYWdhaW5zdCBicm93c2VycyBtb3JlIGNvbXByZWhlbnNpdmVseS5cblxuICAgIC8vIGZpbmQgdGhlIGZpcnN0IGluc3RhbmNlIG9mIGFueSBob3N0RW5kaW5nQ2hhcnNcbiAgICB2YXIgaG9zdEVuZCA9IC0xO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaG9zdEVuZGluZ0NoYXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaGVjID0gcmVzdC5pbmRleE9mKGhvc3RFbmRpbmdDaGFyc1tpXSk7XG4gICAgICBpZiAoaGVjICE9PSAtMSAmJiAoaG9zdEVuZCA9PT0gLTEgfHwgaGVjIDwgaG9zdEVuZCkpXG4gICAgICAgIGhvc3RFbmQgPSBoZWM7XG4gICAgfVxuXG4gICAgLy8gYXQgdGhpcyBwb2ludCwgZWl0aGVyIHdlIGhhdmUgYW4gZXhwbGljaXQgcG9pbnQgd2hlcmUgdGhlXG4gICAgLy8gYXV0aCBwb3J0aW9uIGNhbm5vdCBnbyBwYXN0LCBvciB0aGUgbGFzdCBAIGNoYXIgaXMgdGhlIGRlY2lkZXIuXG4gICAgdmFyIGF1dGgsIGF0U2lnbjtcbiAgICBpZiAoaG9zdEVuZCA9PT0gLTEpIHtcbiAgICAgIC8vIGF0U2lnbiBjYW4gYmUgYW55d2hlcmUuXG4gICAgICBhdFNpZ24gPSByZXN0Lmxhc3RJbmRleE9mKCdAJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGF0U2lnbiBtdXN0IGJlIGluIGF1dGggcG9ydGlvbi5cbiAgICAgIC8vIGh0dHA6Ly9hQGIvY0BkID0+IGhvc3Q6YiBhdXRoOmEgcGF0aDovY0BkXG4gICAgICBhdFNpZ24gPSByZXN0Lmxhc3RJbmRleE9mKCdAJywgaG9zdEVuZCk7XG4gICAgfVxuXG4gICAgLy8gTm93IHdlIGhhdmUgYSBwb3J0aW9uIHdoaWNoIGlzIGRlZmluaXRlbHkgdGhlIGF1dGguXG4gICAgLy8gUHVsbCB0aGF0IG9mZi5cbiAgICBpZiAoYXRTaWduICE9PSAtMSkge1xuICAgICAgYXV0aCA9IHJlc3Quc2xpY2UoMCwgYXRTaWduKTtcbiAgICAgIHJlc3QgPSByZXN0LnNsaWNlKGF0U2lnbiArIDEpO1xuICAgICAgdGhpcy5hdXRoID0gZGVjb2RlVVJJQ29tcG9uZW50KGF1dGgpO1xuICAgIH1cblxuICAgIC8vIHRoZSBob3N0IGlzIHRoZSByZW1haW5pbmcgdG8gdGhlIGxlZnQgb2YgdGhlIGZpcnN0IG5vbi1ob3N0IGNoYXJcbiAgICBob3N0RW5kID0gLTE7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub25Ib3N0Q2hhcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBoZWMgPSByZXN0LmluZGV4T2Yobm9uSG9zdENoYXJzW2ldKTtcbiAgICAgIGlmIChoZWMgIT09IC0xICYmIChob3N0RW5kID09PSAtMSB8fCBoZWMgPCBob3N0RW5kKSlcbiAgICAgICAgaG9zdEVuZCA9IGhlYztcbiAgICB9XG4gICAgLy8gaWYgd2Ugc3RpbGwgaGF2ZSBub3QgaGl0IGl0LCB0aGVuIHRoZSBlbnRpcmUgdGhpbmcgaXMgYSBob3N0LlxuICAgIGlmIChob3N0RW5kID09PSAtMSlcbiAgICAgIGhvc3RFbmQgPSByZXN0Lmxlbmd0aDtcblxuICAgIHRoaXMuaG9zdCA9IHJlc3Quc2xpY2UoMCwgaG9zdEVuZCk7XG4gICAgcmVzdCA9IHJlc3Quc2xpY2UoaG9zdEVuZCk7XG5cbiAgICAvLyBwdWxsIG91dCBwb3J0LlxuICAgIHRoaXMucGFyc2VIb3N0KCk7XG5cbiAgICAvLyB3ZSd2ZSBpbmRpY2F0ZWQgdGhhdCB0aGVyZSBpcyBhIGhvc3RuYW1lLFxuICAgIC8vIHNvIGV2ZW4gaWYgaXQncyBlbXB0eSwgaXQgaGFzIHRvIGJlIHByZXNlbnQuXG4gICAgdGhpcy5ob3N0bmFtZSA9IHRoaXMuaG9zdG5hbWUgfHwgJyc7XG5cbiAgICAvLyBpZiBob3N0bmFtZSBiZWdpbnMgd2l0aCBbIGFuZCBlbmRzIHdpdGggXVxuICAgIC8vIGFzc3VtZSB0aGF0IGl0J3MgYW4gSVB2NiBhZGRyZXNzLlxuICAgIHZhciBpcHY2SG9zdG5hbWUgPSB0aGlzLmhvc3RuYW1lWzBdID09PSAnWycgJiZcbiAgICAgICAgdGhpcy5ob3N0bmFtZVt0aGlzLmhvc3RuYW1lLmxlbmd0aCAtIDFdID09PSAnXSc7XG5cbiAgICAvLyB2YWxpZGF0ZSBhIGxpdHRsZS5cbiAgICBpZiAoIWlwdjZIb3N0bmFtZSkge1xuICAgICAgdmFyIGhvc3RwYXJ0cyA9IHRoaXMuaG9zdG5hbWUuc3BsaXQoL1xcLi8pO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBob3N0cGFydHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIHZhciBwYXJ0ID0gaG9zdHBhcnRzW2ldO1xuICAgICAgICBpZiAoIXBhcnQpIGNvbnRpbnVlO1xuICAgICAgICBpZiAoIXBhcnQubWF0Y2goaG9zdG5hbWVQYXJ0UGF0dGVybikpIHtcbiAgICAgICAgICB2YXIgbmV3cGFydCA9ICcnO1xuICAgICAgICAgIGZvciAodmFyIGogPSAwLCBrID0gcGFydC5sZW5ndGg7IGogPCBrOyBqKyspIHtcbiAgICAgICAgICAgIGlmIChwYXJ0LmNoYXJDb2RlQXQoaikgPiAxMjcpIHtcbiAgICAgICAgICAgICAgLy8gd2UgcmVwbGFjZSBub24tQVNDSUkgY2hhciB3aXRoIGEgdGVtcG9yYXJ5IHBsYWNlaG9sZGVyXG4gICAgICAgICAgICAgIC8vIHdlIG5lZWQgdGhpcyB0byBtYWtlIHN1cmUgc2l6ZSBvZiBob3N0bmFtZSBpcyBub3RcbiAgICAgICAgICAgICAgLy8gYnJva2VuIGJ5IHJlcGxhY2luZyBub24tQVNDSUkgYnkgbm90aGluZ1xuICAgICAgICAgICAgICBuZXdwYXJ0ICs9ICd4JztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG5ld3BhcnQgKz0gcGFydFtqXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gd2UgdGVzdCBhZ2FpbiB3aXRoIEFTQ0lJIGNoYXIgb25seVxuICAgICAgICAgIGlmICghbmV3cGFydC5tYXRjaChob3N0bmFtZVBhcnRQYXR0ZXJuKSkge1xuICAgICAgICAgICAgdmFyIHZhbGlkUGFydHMgPSBob3N0cGFydHMuc2xpY2UoMCwgaSk7XG4gICAgICAgICAgICB2YXIgbm90SG9zdCA9IGhvc3RwYXJ0cy5zbGljZShpICsgMSk7XG4gICAgICAgICAgICB2YXIgYml0ID0gcGFydC5tYXRjaChob3N0bmFtZVBhcnRTdGFydCk7XG4gICAgICAgICAgICBpZiAoYml0KSB7XG4gICAgICAgICAgICAgIHZhbGlkUGFydHMucHVzaChiaXRbMV0pO1xuICAgICAgICAgICAgICBub3RIb3N0LnVuc2hpZnQoYml0WzJdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChub3RIb3N0Lmxlbmd0aCkge1xuICAgICAgICAgICAgICByZXN0ID0gJy8nICsgbm90SG9zdC5qb2luKCcuJykgKyByZXN0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5ob3N0bmFtZSA9IHZhbGlkUGFydHMuam9pbignLicpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuaG9zdG5hbWUubGVuZ3RoID4gaG9zdG5hbWVNYXhMZW4pIHtcbiAgICAgIHRoaXMuaG9zdG5hbWUgPSAnJztcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gaG9zdG5hbWVzIGFyZSBhbHdheXMgbG93ZXIgY2FzZS5cbiAgICAgIHRoaXMuaG9zdG5hbWUgPSB0aGlzLmhvc3RuYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuXG4gICAgaWYgKCFpcHY2SG9zdG5hbWUpIHtcbiAgICAgIC8vIElETkEgU3VwcG9ydDogUmV0dXJucyBhIHB1bnljb2RlZCByZXByZXNlbnRhdGlvbiBvZiBcImRvbWFpblwiLlxuICAgICAgLy8gSXQgb25seSBjb252ZXJ0cyBwYXJ0cyBvZiB0aGUgZG9tYWluIG5hbWUgdGhhdFxuICAgICAgLy8gaGF2ZSBub24tQVNDSUkgY2hhcmFjdGVycywgaS5lLiBpdCBkb2Vzbid0IG1hdHRlciBpZlxuICAgICAgLy8geW91IGNhbGwgaXQgd2l0aCBhIGRvbWFpbiB0aGF0IGFscmVhZHkgaXMgQVNDSUktb25seS5cbiAgICAgIHRoaXMuaG9zdG5hbWUgPSBwdW55Y29kZS50b0FTQ0lJKHRoaXMuaG9zdG5hbWUpO1xuICAgIH1cblxuICAgIHZhciBwID0gdGhpcy5wb3J0ID8gJzonICsgdGhpcy5wb3J0IDogJyc7XG4gICAgdmFyIGggPSB0aGlzLmhvc3RuYW1lIHx8ICcnO1xuICAgIHRoaXMuaG9zdCA9IGggKyBwO1xuICAgIHRoaXMuaHJlZiArPSB0aGlzLmhvc3Q7XG5cbiAgICAvLyBzdHJpcCBbIGFuZCBdIGZyb20gdGhlIGhvc3RuYW1lXG4gICAgLy8gdGhlIGhvc3QgZmllbGQgc3RpbGwgcmV0YWlucyB0aGVtLCB0aG91Z2hcbiAgICBpZiAoaXB2Nkhvc3RuYW1lKSB7XG4gICAgICB0aGlzLmhvc3RuYW1lID0gdGhpcy5ob3N0bmFtZS5zdWJzdHIoMSwgdGhpcy5ob3N0bmFtZS5sZW5ndGggLSAyKTtcbiAgICAgIGlmIChyZXN0WzBdICE9PSAnLycpIHtcbiAgICAgICAgcmVzdCA9ICcvJyArIHJlc3Q7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gbm93IHJlc3QgaXMgc2V0IHRvIHRoZSBwb3N0LWhvc3Qgc3R1ZmYuXG4gIC8vIGNob3Agb2ZmIGFueSBkZWxpbSBjaGFycy5cbiAgaWYgKCF1bnNhZmVQcm90b2NvbFtsb3dlclByb3RvXSkge1xuXG4gICAgLy8gRmlyc3QsIG1ha2UgMTAwJSBzdXJlIHRoYXQgYW55IFwiYXV0b0VzY2FwZVwiIGNoYXJzIGdldFxuICAgIC8vIGVzY2FwZWQsIGV2ZW4gaWYgZW5jb2RlVVJJQ29tcG9uZW50IGRvZXNuJ3QgdGhpbmsgdGhleVxuICAgIC8vIG5lZWQgdG8gYmUuXG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSBhdXRvRXNjYXBlLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgdmFyIGFlID0gYXV0b0VzY2FwZVtpXTtcbiAgICAgIGlmIChyZXN0LmluZGV4T2YoYWUpID09PSAtMSlcbiAgICAgICAgY29udGludWU7XG4gICAgICB2YXIgZXNjID0gZW5jb2RlVVJJQ29tcG9uZW50KGFlKTtcbiAgICAgIGlmIChlc2MgPT09IGFlKSB7XG4gICAgICAgIGVzYyA9IGVzY2FwZShhZSk7XG4gICAgICB9XG4gICAgICByZXN0ID0gcmVzdC5zcGxpdChhZSkuam9pbihlc2MpO1xuICAgIH1cbiAgfVxuXG5cbiAgLy8gY2hvcCBvZmYgZnJvbSB0aGUgdGFpbCBmaXJzdC5cbiAgdmFyIGhhc2ggPSByZXN0LmluZGV4T2YoJyMnKTtcbiAgaWYgKGhhc2ggIT09IC0xKSB7XG4gICAgLy8gZ290IGEgZnJhZ21lbnQgc3RyaW5nLlxuICAgIHRoaXMuaGFzaCA9IHJlc3Quc3Vic3RyKGhhc2gpO1xuICAgIHJlc3QgPSByZXN0LnNsaWNlKDAsIGhhc2gpO1xuICB9XG4gIHZhciBxbSA9IHJlc3QuaW5kZXhPZignPycpO1xuICBpZiAocW0gIT09IC0xKSB7XG4gICAgdGhpcy5zZWFyY2ggPSByZXN0LnN1YnN0cihxbSk7XG4gICAgdGhpcy5xdWVyeSA9IHJlc3Quc3Vic3RyKHFtICsgMSk7XG4gICAgaWYgKHBhcnNlUXVlcnlTdHJpbmcpIHtcbiAgICAgIHRoaXMucXVlcnkgPSBxdWVyeXN0cmluZy5wYXJzZSh0aGlzLnF1ZXJ5KTtcbiAgICB9XG4gICAgcmVzdCA9IHJlc3Quc2xpY2UoMCwgcW0pO1xuICB9IGVsc2UgaWYgKHBhcnNlUXVlcnlTdHJpbmcpIHtcbiAgICAvLyBubyBxdWVyeSBzdHJpbmcsIGJ1dCBwYXJzZVF1ZXJ5U3RyaW5nIHN0aWxsIHJlcXVlc3RlZFxuICAgIHRoaXMuc2VhcmNoID0gJyc7XG4gICAgdGhpcy5xdWVyeSA9IHt9O1xuICB9XG4gIGlmIChyZXN0KSB0aGlzLnBhdGhuYW1lID0gcmVzdDtcbiAgaWYgKHNsYXNoZWRQcm90b2NvbFtsb3dlclByb3RvXSAmJlxuICAgICAgdGhpcy5ob3N0bmFtZSAmJiAhdGhpcy5wYXRobmFtZSkge1xuICAgIHRoaXMucGF0aG5hbWUgPSAnLyc7XG4gIH1cblxuICAvL3RvIHN1cHBvcnQgaHR0cC5yZXF1ZXN0XG4gIGlmICh0aGlzLnBhdGhuYW1lIHx8IHRoaXMuc2VhcmNoKSB7XG4gICAgdmFyIHAgPSB0aGlzLnBhdGhuYW1lIHx8ICcnO1xuICAgIHZhciBzID0gdGhpcy5zZWFyY2ggfHwgJyc7XG4gICAgdGhpcy5wYXRoID0gcCArIHM7XG4gIH1cblxuICAvLyBmaW5hbGx5LCByZWNvbnN0cnVjdCB0aGUgaHJlZiBiYXNlZCBvbiB3aGF0IGhhcyBiZWVuIHZhbGlkYXRlZC5cbiAgdGhpcy5ocmVmID0gdGhpcy5mb3JtYXQoKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vLyBmb3JtYXQgYSBwYXJzZWQgb2JqZWN0IGludG8gYSB1cmwgc3RyaW5nXG5mdW5jdGlvbiB1cmxGb3JtYXQob2JqKSB7XG4gIC8vIGVuc3VyZSBpdCdzIGFuIG9iamVjdCwgYW5kIG5vdCBhIHN0cmluZyB1cmwuXG4gIC8vIElmIGl0J3MgYW4gb2JqLCB0aGlzIGlzIGEgbm8tb3AuXG4gIC8vIHRoaXMgd2F5LCB5b3UgY2FuIGNhbGwgdXJsX2Zvcm1hdCgpIG9uIHN0cmluZ3NcbiAgLy8gdG8gY2xlYW4gdXAgcG90ZW50aWFsbHkgd29ua3kgdXJscy5cbiAgaWYgKHV0aWwuaXNTdHJpbmcob2JqKSkgb2JqID0gdXJsUGFyc2Uob2JqKTtcbiAgaWYgKCEob2JqIGluc3RhbmNlb2YgVXJsKSkgcmV0dXJuIFVybC5wcm90b3R5cGUuZm9ybWF0LmNhbGwob2JqKTtcbiAgcmV0dXJuIG9iai5mb3JtYXQoKTtcbn1cblxuVXJsLnByb3RvdHlwZS5mb3JtYXQgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGF1dGggPSB0aGlzLmF1dGggfHwgJyc7XG4gIGlmIChhdXRoKSB7XG4gICAgYXV0aCA9IGVuY29kZVVSSUNvbXBvbmVudChhdXRoKTtcbiAgICBhdXRoID0gYXV0aC5yZXBsYWNlKC8lM0EvaSwgJzonKTtcbiAgICBhdXRoICs9ICdAJztcbiAgfVxuXG4gIHZhciBwcm90b2NvbCA9IHRoaXMucHJvdG9jb2wgfHwgJycsXG4gICAgICBwYXRobmFtZSA9IHRoaXMucGF0aG5hbWUgfHwgJycsXG4gICAgICBoYXNoID0gdGhpcy5oYXNoIHx8ICcnLFxuICAgICAgaG9zdCA9IGZhbHNlLFxuICAgICAgcXVlcnkgPSAnJztcblxuICBpZiAodGhpcy5ob3N0KSB7XG4gICAgaG9zdCA9IGF1dGggKyB0aGlzLmhvc3Q7XG4gIH0gZWxzZSBpZiAodGhpcy5ob3N0bmFtZSkge1xuICAgIGhvc3QgPSBhdXRoICsgKHRoaXMuaG9zdG5hbWUuaW5kZXhPZignOicpID09PSAtMSA/XG4gICAgICAgIHRoaXMuaG9zdG5hbWUgOlxuICAgICAgICAnWycgKyB0aGlzLmhvc3RuYW1lICsgJ10nKTtcbiAgICBpZiAodGhpcy5wb3J0KSB7XG4gICAgICBob3N0ICs9ICc6JyArIHRoaXMucG9ydDtcbiAgICB9XG4gIH1cblxuICBpZiAodGhpcy5xdWVyeSAmJlxuICAgICAgdXRpbC5pc09iamVjdCh0aGlzLnF1ZXJ5KSAmJlxuICAgICAgT2JqZWN0LmtleXModGhpcy5xdWVyeSkubGVuZ3RoKSB7XG4gICAgcXVlcnkgPSBxdWVyeXN0cmluZy5zdHJpbmdpZnkodGhpcy5xdWVyeSk7XG4gIH1cblxuICB2YXIgc2VhcmNoID0gdGhpcy5zZWFyY2ggfHwgKHF1ZXJ5ICYmICgnPycgKyBxdWVyeSkpIHx8ICcnO1xuXG4gIGlmIChwcm90b2NvbCAmJiBwcm90b2NvbC5zdWJzdHIoLTEpICE9PSAnOicpIHByb3RvY29sICs9ICc6JztcblxuICAvLyBvbmx5IHRoZSBzbGFzaGVkUHJvdG9jb2xzIGdldCB0aGUgLy8uICBOb3QgbWFpbHRvOiwgeG1wcDosIGV0Yy5cbiAgLy8gdW5sZXNzIHRoZXkgaGFkIHRoZW0gdG8gYmVnaW4gd2l0aC5cbiAgaWYgKHRoaXMuc2xhc2hlcyB8fFxuICAgICAgKCFwcm90b2NvbCB8fCBzbGFzaGVkUHJvdG9jb2xbcHJvdG9jb2xdKSAmJiBob3N0ICE9PSBmYWxzZSkge1xuICAgIGhvc3QgPSAnLy8nICsgKGhvc3QgfHwgJycpO1xuICAgIGlmIChwYXRobmFtZSAmJiBwYXRobmFtZS5jaGFyQXQoMCkgIT09ICcvJykgcGF0aG5hbWUgPSAnLycgKyBwYXRobmFtZTtcbiAgfSBlbHNlIGlmICghaG9zdCkge1xuICAgIGhvc3QgPSAnJztcbiAgfVxuXG4gIGlmIChoYXNoICYmIGhhc2guY2hhckF0KDApICE9PSAnIycpIGhhc2ggPSAnIycgKyBoYXNoO1xuICBpZiAoc2VhcmNoICYmIHNlYXJjaC5jaGFyQXQoMCkgIT09ICc/Jykgc2VhcmNoID0gJz8nICsgc2VhcmNoO1xuXG4gIHBhdGhuYW1lID0gcGF0aG5hbWUucmVwbGFjZSgvWz8jXS9nLCBmdW5jdGlvbihtYXRjaCkge1xuICAgIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQobWF0Y2gpO1xuICB9KTtcbiAgc2VhcmNoID0gc2VhcmNoLnJlcGxhY2UoJyMnLCAnJTIzJyk7XG5cbiAgcmV0dXJuIHByb3RvY29sICsgaG9zdCArIHBhdGhuYW1lICsgc2VhcmNoICsgaGFzaDtcbn07XG5cbmZ1bmN0aW9uIHVybFJlc29sdmUoc291cmNlLCByZWxhdGl2ZSkge1xuICByZXR1cm4gdXJsUGFyc2Uoc291cmNlLCBmYWxzZSwgdHJ1ZSkucmVzb2x2ZShyZWxhdGl2ZSk7XG59XG5cblVybC5wcm90b3R5cGUucmVzb2x2ZSA9IGZ1bmN0aW9uKHJlbGF0aXZlKSB7XG4gIHJldHVybiB0aGlzLnJlc29sdmVPYmplY3QodXJsUGFyc2UocmVsYXRpdmUsIGZhbHNlLCB0cnVlKSkuZm9ybWF0KCk7XG59O1xuXG5mdW5jdGlvbiB1cmxSZXNvbHZlT2JqZWN0KHNvdXJjZSwgcmVsYXRpdmUpIHtcbiAgaWYgKCFzb3VyY2UpIHJldHVybiByZWxhdGl2ZTtcbiAgcmV0dXJuIHVybFBhcnNlKHNvdXJjZSwgZmFsc2UsIHRydWUpLnJlc29sdmVPYmplY3QocmVsYXRpdmUpO1xufVxuXG5VcmwucHJvdG90eXBlLnJlc29sdmVPYmplY3QgPSBmdW5jdGlvbihyZWxhdGl2ZSkge1xuICBpZiAodXRpbC5pc1N0cmluZyhyZWxhdGl2ZSkpIHtcbiAgICB2YXIgcmVsID0gbmV3IFVybCgpO1xuICAgIHJlbC5wYXJzZShyZWxhdGl2ZSwgZmFsc2UsIHRydWUpO1xuICAgIHJlbGF0aXZlID0gcmVsO1xuICB9XG5cbiAgdmFyIHJlc3VsdCA9IG5ldyBVcmwoKTtcbiAgdmFyIHRrZXlzID0gT2JqZWN0LmtleXModGhpcyk7XG4gIGZvciAodmFyIHRrID0gMDsgdGsgPCB0a2V5cy5sZW5ndGg7IHRrKyspIHtcbiAgICB2YXIgdGtleSA9IHRrZXlzW3RrXTtcbiAgICByZXN1bHRbdGtleV0gPSB0aGlzW3RrZXldO1xuICB9XG5cbiAgLy8gaGFzaCBpcyBhbHdheXMgb3ZlcnJpZGRlbiwgbm8gbWF0dGVyIHdoYXQuXG4gIC8vIGV2ZW4gaHJlZj1cIlwiIHdpbGwgcmVtb3ZlIGl0LlxuICByZXN1bHQuaGFzaCA9IHJlbGF0aXZlLmhhc2g7XG5cbiAgLy8gaWYgdGhlIHJlbGF0aXZlIHVybCBpcyBlbXB0eSwgdGhlbiB0aGVyZSdzIG5vdGhpbmcgbGVmdCB0byBkbyBoZXJlLlxuICBpZiAocmVsYXRpdmUuaHJlZiA9PT0gJycpIHtcbiAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLy8gaHJlZnMgbGlrZSAvL2Zvby9iYXIgYWx3YXlzIGN1dCB0byB0aGUgcHJvdG9jb2wuXG4gIGlmIChyZWxhdGl2ZS5zbGFzaGVzICYmICFyZWxhdGl2ZS5wcm90b2NvbCkge1xuICAgIC8vIHRha2UgZXZlcnl0aGluZyBleGNlcHQgdGhlIHByb3RvY29sIGZyb20gcmVsYXRpdmVcbiAgICB2YXIgcmtleXMgPSBPYmplY3Qua2V5cyhyZWxhdGl2ZSk7XG4gICAgZm9yICh2YXIgcmsgPSAwOyByayA8IHJrZXlzLmxlbmd0aDsgcmsrKykge1xuICAgICAgdmFyIHJrZXkgPSBya2V5c1tya107XG4gICAgICBpZiAocmtleSAhPT0gJ3Byb3RvY29sJylcbiAgICAgICAgcmVzdWx0W3JrZXldID0gcmVsYXRpdmVbcmtleV07XG4gICAgfVxuXG4gICAgLy91cmxQYXJzZSBhcHBlbmRzIHRyYWlsaW5nIC8gdG8gdXJscyBsaWtlIGh0dHA6Ly93d3cuZXhhbXBsZS5jb21cbiAgICBpZiAoc2xhc2hlZFByb3RvY29sW3Jlc3VsdC5wcm90b2NvbF0gJiZcbiAgICAgICAgcmVzdWx0Lmhvc3RuYW1lICYmICFyZXN1bHQucGF0aG5hbWUpIHtcbiAgICAgIHJlc3VsdC5wYXRoID0gcmVzdWx0LnBhdGhuYW1lID0gJy8nO1xuICAgIH1cblxuICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBpZiAocmVsYXRpdmUucHJvdG9jb2wgJiYgcmVsYXRpdmUucHJvdG9jb2wgIT09IHJlc3VsdC5wcm90b2NvbCkge1xuICAgIC8vIGlmIGl0J3MgYSBrbm93biB1cmwgcHJvdG9jb2wsIHRoZW4gY2hhbmdpbmdcbiAgICAvLyB0aGUgcHJvdG9jb2wgZG9lcyB3ZWlyZCB0aGluZ3NcbiAgICAvLyBmaXJzdCwgaWYgaXQncyBub3QgZmlsZTosIHRoZW4gd2UgTVVTVCBoYXZlIGEgaG9zdCxcbiAgICAvLyBhbmQgaWYgdGhlcmUgd2FzIGEgcGF0aFxuICAgIC8vIHRvIGJlZ2luIHdpdGgsIHRoZW4gd2UgTVVTVCBoYXZlIGEgcGF0aC5cbiAgICAvLyBpZiBpdCBpcyBmaWxlOiwgdGhlbiB0aGUgaG9zdCBpcyBkcm9wcGVkLFxuICAgIC8vIGJlY2F1c2UgdGhhdCdzIGtub3duIHRvIGJlIGhvc3RsZXNzLlxuICAgIC8vIGFueXRoaW5nIGVsc2UgaXMgYXNzdW1lZCB0byBiZSBhYnNvbHV0ZS5cbiAgICBpZiAoIXNsYXNoZWRQcm90b2NvbFtyZWxhdGl2ZS5wcm90b2NvbF0pIHtcbiAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMocmVsYXRpdmUpO1xuICAgICAgZm9yICh2YXIgdiA9IDA7IHYgPCBrZXlzLmxlbmd0aDsgdisrKSB7XG4gICAgICAgIHZhciBrID0ga2V5c1t2XTtcbiAgICAgICAgcmVzdWx0W2tdID0gcmVsYXRpdmVba107XG4gICAgICB9XG4gICAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgcmVzdWx0LnByb3RvY29sID0gcmVsYXRpdmUucHJvdG9jb2w7XG4gICAgaWYgKCFyZWxhdGl2ZS5ob3N0ICYmICFob3N0bGVzc1Byb3RvY29sW3JlbGF0aXZlLnByb3RvY29sXSkge1xuICAgICAgdmFyIHJlbFBhdGggPSAocmVsYXRpdmUucGF0aG5hbWUgfHwgJycpLnNwbGl0KCcvJyk7XG4gICAgICB3aGlsZSAocmVsUGF0aC5sZW5ndGggJiYgIShyZWxhdGl2ZS5ob3N0ID0gcmVsUGF0aC5zaGlmdCgpKSk7XG4gICAgICBpZiAoIXJlbGF0aXZlLmhvc3QpIHJlbGF0aXZlLmhvc3QgPSAnJztcbiAgICAgIGlmICghcmVsYXRpdmUuaG9zdG5hbWUpIHJlbGF0aXZlLmhvc3RuYW1lID0gJyc7XG4gICAgICBpZiAocmVsUGF0aFswXSAhPT0gJycpIHJlbFBhdGgudW5zaGlmdCgnJyk7XG4gICAgICBpZiAocmVsUGF0aC5sZW5ndGggPCAyKSByZWxQYXRoLnVuc2hpZnQoJycpO1xuICAgICAgcmVzdWx0LnBhdGhuYW1lID0gcmVsUGF0aC5qb2luKCcvJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdC5wYXRobmFtZSA9IHJlbGF0aXZlLnBhdGhuYW1lO1xuICAgIH1cbiAgICByZXN1bHQuc2VhcmNoID0gcmVsYXRpdmUuc2VhcmNoO1xuICAgIHJlc3VsdC5xdWVyeSA9IHJlbGF0aXZlLnF1ZXJ5O1xuICAgIHJlc3VsdC5ob3N0ID0gcmVsYXRpdmUuaG9zdCB8fCAnJztcbiAgICByZXN1bHQuYXV0aCA9IHJlbGF0aXZlLmF1dGg7XG4gICAgcmVzdWx0Lmhvc3RuYW1lID0gcmVsYXRpdmUuaG9zdG5hbWUgfHwgcmVsYXRpdmUuaG9zdDtcbiAgICByZXN1bHQucG9ydCA9IHJlbGF0aXZlLnBvcnQ7XG4gICAgLy8gdG8gc3VwcG9ydCBodHRwLnJlcXVlc3RcbiAgICBpZiAocmVzdWx0LnBhdGhuYW1lIHx8IHJlc3VsdC5zZWFyY2gpIHtcbiAgICAgIHZhciBwID0gcmVzdWx0LnBhdGhuYW1lIHx8ICcnO1xuICAgICAgdmFyIHMgPSByZXN1bHQuc2VhcmNoIHx8ICcnO1xuICAgICAgcmVzdWx0LnBhdGggPSBwICsgcztcbiAgICB9XG4gICAgcmVzdWx0LnNsYXNoZXMgPSByZXN1bHQuc2xhc2hlcyB8fCByZWxhdGl2ZS5zbGFzaGVzO1xuICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICB2YXIgaXNTb3VyY2VBYnMgPSAocmVzdWx0LnBhdGhuYW1lICYmIHJlc3VsdC5wYXRobmFtZS5jaGFyQXQoMCkgPT09ICcvJyksXG4gICAgICBpc1JlbEFicyA9IChcbiAgICAgICAgICByZWxhdGl2ZS5ob3N0IHx8XG4gICAgICAgICAgcmVsYXRpdmUucGF0aG5hbWUgJiYgcmVsYXRpdmUucGF0aG5hbWUuY2hhckF0KDApID09PSAnLydcbiAgICAgICksXG4gICAgICBtdXN0RW5kQWJzID0gKGlzUmVsQWJzIHx8IGlzU291cmNlQWJzIHx8XG4gICAgICAgICAgICAgICAgICAgIChyZXN1bHQuaG9zdCAmJiByZWxhdGl2ZS5wYXRobmFtZSkpLFxuICAgICAgcmVtb3ZlQWxsRG90cyA9IG11c3RFbmRBYnMsXG4gICAgICBzcmNQYXRoID0gcmVzdWx0LnBhdGhuYW1lICYmIHJlc3VsdC5wYXRobmFtZS5zcGxpdCgnLycpIHx8IFtdLFxuICAgICAgcmVsUGF0aCA9IHJlbGF0aXZlLnBhdGhuYW1lICYmIHJlbGF0aXZlLnBhdGhuYW1lLnNwbGl0KCcvJykgfHwgW10sXG4gICAgICBwc3ljaG90aWMgPSByZXN1bHQucHJvdG9jb2wgJiYgIXNsYXNoZWRQcm90b2NvbFtyZXN1bHQucHJvdG9jb2xdO1xuXG4gIC8vIGlmIHRoZSB1cmwgaXMgYSBub24tc2xhc2hlZCB1cmwsIHRoZW4gcmVsYXRpdmVcbiAgLy8gbGlua3MgbGlrZSAuLi8uLiBzaG91bGQgYmUgYWJsZVxuICAvLyB0byBjcmF3bCB1cCB0byB0aGUgaG9zdG5hbWUsIGFzIHdlbGwuICBUaGlzIGlzIHN0cmFuZ2UuXG4gIC8vIHJlc3VsdC5wcm90b2NvbCBoYXMgYWxyZWFkeSBiZWVuIHNldCBieSBub3cuXG4gIC8vIExhdGVyIG9uLCBwdXQgdGhlIGZpcnN0IHBhdGggcGFydCBpbnRvIHRoZSBob3N0IGZpZWxkLlxuICBpZiAocHN5Y2hvdGljKSB7XG4gICAgcmVzdWx0Lmhvc3RuYW1lID0gJyc7XG4gICAgcmVzdWx0LnBvcnQgPSBudWxsO1xuICAgIGlmIChyZXN1bHQuaG9zdCkge1xuICAgICAgaWYgKHNyY1BhdGhbMF0gPT09ICcnKSBzcmNQYXRoWzBdID0gcmVzdWx0Lmhvc3Q7XG4gICAgICBlbHNlIHNyY1BhdGgudW5zaGlmdChyZXN1bHQuaG9zdCk7XG4gICAgfVxuICAgIHJlc3VsdC5ob3N0ID0gJyc7XG4gICAgaWYgKHJlbGF0aXZlLnByb3RvY29sKSB7XG4gICAgICByZWxhdGl2ZS5ob3N0bmFtZSA9IG51bGw7XG4gICAgICByZWxhdGl2ZS5wb3J0ID0gbnVsbDtcbiAgICAgIGlmIChyZWxhdGl2ZS5ob3N0KSB7XG4gICAgICAgIGlmIChyZWxQYXRoWzBdID09PSAnJykgcmVsUGF0aFswXSA9IHJlbGF0aXZlLmhvc3Q7XG4gICAgICAgIGVsc2UgcmVsUGF0aC51bnNoaWZ0KHJlbGF0aXZlLmhvc3QpO1xuICAgICAgfVxuICAgICAgcmVsYXRpdmUuaG9zdCA9IG51bGw7XG4gICAgfVxuICAgIG11c3RFbmRBYnMgPSBtdXN0RW5kQWJzICYmIChyZWxQYXRoWzBdID09PSAnJyB8fCBzcmNQYXRoWzBdID09PSAnJyk7XG4gIH1cblxuICBpZiAoaXNSZWxBYnMpIHtcbiAgICAvLyBpdCdzIGFic29sdXRlLlxuICAgIHJlc3VsdC5ob3N0ID0gKHJlbGF0aXZlLmhvc3QgfHwgcmVsYXRpdmUuaG9zdCA9PT0gJycpID9cbiAgICAgICAgICAgICAgICAgIHJlbGF0aXZlLmhvc3QgOiByZXN1bHQuaG9zdDtcbiAgICByZXN1bHQuaG9zdG5hbWUgPSAocmVsYXRpdmUuaG9zdG5hbWUgfHwgcmVsYXRpdmUuaG9zdG5hbWUgPT09ICcnKSA/XG4gICAgICAgICAgICAgICAgICAgICAgcmVsYXRpdmUuaG9zdG5hbWUgOiByZXN1bHQuaG9zdG5hbWU7XG4gICAgcmVzdWx0LnNlYXJjaCA9IHJlbGF0aXZlLnNlYXJjaDtcbiAgICByZXN1bHQucXVlcnkgPSByZWxhdGl2ZS5xdWVyeTtcbiAgICBzcmNQYXRoID0gcmVsUGF0aDtcbiAgICAvLyBmYWxsIHRocm91Z2ggdG8gdGhlIGRvdC1oYW5kbGluZyBiZWxvdy5cbiAgfSBlbHNlIGlmIChyZWxQYXRoLmxlbmd0aCkge1xuICAgIC8vIGl0J3MgcmVsYXRpdmVcbiAgICAvLyB0aHJvdyBhd2F5IHRoZSBleGlzdGluZyBmaWxlLCBhbmQgdGFrZSB0aGUgbmV3IHBhdGggaW5zdGVhZC5cbiAgICBpZiAoIXNyY1BhdGgpIHNyY1BhdGggPSBbXTtcbiAgICBzcmNQYXRoLnBvcCgpO1xuICAgIHNyY1BhdGggPSBzcmNQYXRoLmNvbmNhdChyZWxQYXRoKTtcbiAgICByZXN1bHQuc2VhcmNoID0gcmVsYXRpdmUuc2VhcmNoO1xuICAgIHJlc3VsdC5xdWVyeSA9IHJlbGF0aXZlLnF1ZXJ5O1xuICB9IGVsc2UgaWYgKCF1dGlsLmlzTnVsbE9yVW5kZWZpbmVkKHJlbGF0aXZlLnNlYXJjaCkpIHtcbiAgICAvLyBqdXN0IHB1bGwgb3V0IHRoZSBzZWFyY2guXG4gICAgLy8gbGlrZSBocmVmPSc/Zm9vJy5cbiAgICAvLyBQdXQgdGhpcyBhZnRlciB0aGUgb3RoZXIgdHdvIGNhc2VzIGJlY2F1c2UgaXQgc2ltcGxpZmllcyB0aGUgYm9vbGVhbnNcbiAgICBpZiAocHN5Y2hvdGljKSB7XG4gICAgICByZXN1bHQuaG9zdG5hbWUgPSByZXN1bHQuaG9zdCA9IHNyY1BhdGguc2hpZnQoKTtcbiAgICAgIC8vb2NjYXRpb25hbHkgdGhlIGF1dGggY2FuIGdldCBzdHVjayBvbmx5IGluIGhvc3RcbiAgICAgIC8vdGhpcyBlc3BlY2lhbGx5IGhhcHBlbnMgaW4gY2FzZXMgbGlrZVxuICAgICAgLy91cmwucmVzb2x2ZU9iamVjdCgnbWFpbHRvOmxvY2FsMUBkb21haW4xJywgJ2xvY2FsMkBkb21haW4yJylcbiAgICAgIHZhciBhdXRoSW5Ib3N0ID0gcmVzdWx0Lmhvc3QgJiYgcmVzdWx0Lmhvc3QuaW5kZXhPZignQCcpID4gMCA/XG4gICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5ob3N0LnNwbGl0KCdAJykgOiBmYWxzZTtcbiAgICAgIGlmIChhdXRoSW5Ib3N0KSB7XG4gICAgICAgIHJlc3VsdC5hdXRoID0gYXV0aEluSG9zdC5zaGlmdCgpO1xuICAgICAgICByZXN1bHQuaG9zdCA9IHJlc3VsdC5ob3N0bmFtZSA9IGF1dGhJbkhvc3Quc2hpZnQoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmVzdWx0LnNlYXJjaCA9IHJlbGF0aXZlLnNlYXJjaDtcbiAgICByZXN1bHQucXVlcnkgPSByZWxhdGl2ZS5xdWVyeTtcbiAgICAvL3RvIHN1cHBvcnQgaHR0cC5yZXF1ZXN0XG4gICAgaWYgKCF1dGlsLmlzTnVsbChyZXN1bHQucGF0aG5hbWUpIHx8ICF1dGlsLmlzTnVsbChyZXN1bHQuc2VhcmNoKSkge1xuICAgICAgcmVzdWx0LnBhdGggPSAocmVzdWx0LnBhdGhuYW1lID8gcmVzdWx0LnBhdGhuYW1lIDogJycpICtcbiAgICAgICAgICAgICAgICAgICAgKHJlc3VsdC5zZWFyY2ggPyByZXN1bHQuc2VhcmNoIDogJycpO1xuICAgIH1cbiAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgaWYgKCFzcmNQYXRoLmxlbmd0aCkge1xuICAgIC8vIG5vIHBhdGggYXQgYWxsLiAgZWFzeS5cbiAgICAvLyB3ZSd2ZSBhbHJlYWR5IGhhbmRsZWQgdGhlIG90aGVyIHN0dWZmIGFib3ZlLlxuICAgIHJlc3VsdC5wYXRobmFtZSA9IG51bGw7XG4gICAgLy90byBzdXBwb3J0IGh0dHAucmVxdWVzdFxuICAgIGlmIChyZXN1bHQuc2VhcmNoKSB7XG4gICAgICByZXN1bHQucGF0aCA9ICcvJyArIHJlc3VsdC5zZWFyY2g7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdC5wYXRoID0gbnVsbDtcbiAgICB9XG4gICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8vIGlmIGEgdXJsIEVORHMgaW4gLiBvciAuLiwgdGhlbiBpdCBtdXN0IGdldCBhIHRyYWlsaW5nIHNsYXNoLlxuICAvLyBob3dldmVyLCBpZiBpdCBlbmRzIGluIGFueXRoaW5nIGVsc2Ugbm9uLXNsYXNoeSxcbiAgLy8gdGhlbiBpdCBtdXN0IE5PVCBnZXQgYSB0cmFpbGluZyBzbGFzaC5cbiAgdmFyIGxhc3QgPSBzcmNQYXRoLnNsaWNlKC0xKVswXTtcbiAgdmFyIGhhc1RyYWlsaW5nU2xhc2ggPSAoXG4gICAgICAocmVzdWx0Lmhvc3QgfHwgcmVsYXRpdmUuaG9zdCB8fCBzcmNQYXRoLmxlbmd0aCA+IDEpICYmXG4gICAgICAobGFzdCA9PT0gJy4nIHx8IGxhc3QgPT09ICcuLicpIHx8IGxhc3QgPT09ICcnKTtcblxuICAvLyBzdHJpcCBzaW5nbGUgZG90cywgcmVzb2x2ZSBkb3VibGUgZG90cyB0byBwYXJlbnQgZGlyXG4gIC8vIGlmIHRoZSBwYXRoIHRyaWVzIHRvIGdvIGFib3ZlIHRoZSByb290LCBgdXBgIGVuZHMgdXAgPiAwXG4gIHZhciB1cCA9IDA7XG4gIGZvciAodmFyIGkgPSBzcmNQYXRoLmxlbmd0aDsgaSA+PSAwOyBpLS0pIHtcbiAgICBsYXN0ID0gc3JjUGF0aFtpXTtcbiAgICBpZiAobGFzdCA9PT0gJy4nKSB7XG4gICAgICBzcmNQYXRoLnNwbGljZShpLCAxKTtcbiAgICB9IGVsc2UgaWYgKGxhc3QgPT09ICcuLicpIHtcbiAgICAgIHNyY1BhdGguc3BsaWNlKGksIDEpO1xuICAgICAgdXArKztcbiAgICB9IGVsc2UgaWYgKHVwKSB7XG4gICAgICBzcmNQYXRoLnNwbGljZShpLCAxKTtcbiAgICAgIHVwLS07XG4gICAgfVxuICB9XG5cbiAgLy8gaWYgdGhlIHBhdGggaXMgYWxsb3dlZCB0byBnbyBhYm92ZSB0aGUgcm9vdCwgcmVzdG9yZSBsZWFkaW5nIC4uc1xuICBpZiAoIW11c3RFbmRBYnMgJiYgIXJlbW92ZUFsbERvdHMpIHtcbiAgICBmb3IgKDsgdXAtLTsgdXApIHtcbiAgICAgIHNyY1BhdGgudW5zaGlmdCgnLi4nKTtcbiAgICB9XG4gIH1cblxuICBpZiAobXVzdEVuZEFicyAmJiBzcmNQYXRoWzBdICE9PSAnJyAmJlxuICAgICAgKCFzcmNQYXRoWzBdIHx8IHNyY1BhdGhbMF0uY2hhckF0KDApICE9PSAnLycpKSB7XG4gICAgc3JjUGF0aC51bnNoaWZ0KCcnKTtcbiAgfVxuXG4gIGlmIChoYXNUcmFpbGluZ1NsYXNoICYmIChzcmNQYXRoLmpvaW4oJy8nKS5zdWJzdHIoLTEpICE9PSAnLycpKSB7XG4gICAgc3JjUGF0aC5wdXNoKCcnKTtcbiAgfVxuXG4gIHZhciBpc0Fic29sdXRlID0gc3JjUGF0aFswXSA9PT0gJycgfHxcbiAgICAgIChzcmNQYXRoWzBdICYmIHNyY1BhdGhbMF0uY2hhckF0KDApID09PSAnLycpO1xuXG4gIC8vIHB1dCB0aGUgaG9zdCBiYWNrXG4gIGlmIChwc3ljaG90aWMpIHtcbiAgICByZXN1bHQuaG9zdG5hbWUgPSByZXN1bHQuaG9zdCA9IGlzQWJzb2x1dGUgPyAnJyA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcmNQYXRoLmxlbmd0aCA/IHNyY1BhdGguc2hpZnQoKSA6ICcnO1xuICAgIC8vb2NjYXRpb25hbHkgdGhlIGF1dGggY2FuIGdldCBzdHVjayBvbmx5IGluIGhvc3RcbiAgICAvL3RoaXMgZXNwZWNpYWxseSBoYXBwZW5zIGluIGNhc2VzIGxpa2VcbiAgICAvL3VybC5yZXNvbHZlT2JqZWN0KCdtYWlsdG86bG9jYWwxQGRvbWFpbjEnLCAnbG9jYWwyQGRvbWFpbjInKVxuICAgIHZhciBhdXRoSW5Ib3N0ID0gcmVzdWx0Lmhvc3QgJiYgcmVzdWx0Lmhvc3QuaW5kZXhPZignQCcpID4gMCA/XG4gICAgICAgICAgICAgICAgICAgICByZXN1bHQuaG9zdC5zcGxpdCgnQCcpIDogZmFsc2U7XG4gICAgaWYgKGF1dGhJbkhvc3QpIHtcbiAgICAgIHJlc3VsdC5hdXRoID0gYXV0aEluSG9zdC5zaGlmdCgpO1xuICAgICAgcmVzdWx0Lmhvc3QgPSByZXN1bHQuaG9zdG5hbWUgPSBhdXRoSW5Ib3N0LnNoaWZ0KCk7XG4gICAgfVxuICB9XG5cbiAgbXVzdEVuZEFicyA9IG11c3RFbmRBYnMgfHwgKHJlc3VsdC5ob3N0ICYmIHNyY1BhdGgubGVuZ3RoKTtcblxuICBpZiAobXVzdEVuZEFicyAmJiAhaXNBYnNvbHV0ZSkge1xuICAgIHNyY1BhdGgudW5zaGlmdCgnJyk7XG4gIH1cblxuICBpZiAoIXNyY1BhdGgubGVuZ3RoKSB7XG4gICAgcmVzdWx0LnBhdGhuYW1lID0gbnVsbDtcbiAgICByZXN1bHQucGF0aCA9IG51bGw7XG4gIH0gZWxzZSB7XG4gICAgcmVzdWx0LnBhdGhuYW1lID0gc3JjUGF0aC5qb2luKCcvJyk7XG4gIH1cblxuICAvL3RvIHN1cHBvcnQgcmVxdWVzdC5odHRwXG4gIGlmICghdXRpbC5pc051bGwocmVzdWx0LnBhdGhuYW1lKSB8fCAhdXRpbC5pc051bGwocmVzdWx0LnNlYXJjaCkpIHtcbiAgICByZXN1bHQucGF0aCA9IChyZXN1bHQucGF0aG5hbWUgPyByZXN1bHQucGF0aG5hbWUgOiAnJykgK1xuICAgICAgICAgICAgICAgICAgKHJlc3VsdC5zZWFyY2ggPyByZXN1bHQuc2VhcmNoIDogJycpO1xuICB9XG4gIHJlc3VsdC5hdXRoID0gcmVsYXRpdmUuYXV0aCB8fCByZXN1bHQuYXV0aDtcbiAgcmVzdWx0LnNsYXNoZXMgPSByZXN1bHQuc2xhc2hlcyB8fCByZWxhdGl2ZS5zbGFzaGVzO1xuICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cblVybC5wcm90b3R5cGUucGFyc2VIb3N0ID0gZnVuY3Rpb24oKSB7XG4gIHZhciBob3N0ID0gdGhpcy5ob3N0O1xuICB2YXIgcG9ydCA9IHBvcnRQYXR0ZXJuLmV4ZWMoaG9zdCk7XG4gIGlmIChwb3J0KSB7XG4gICAgcG9ydCA9IHBvcnRbMF07XG4gICAgaWYgKHBvcnQgIT09ICc6Jykge1xuICAgICAgdGhpcy5wb3J0ID0gcG9ydC5zdWJzdHIoMSk7XG4gICAgfVxuICAgIGhvc3QgPSBob3N0LnN1YnN0cigwLCBob3N0Lmxlbmd0aCAtIHBvcnQubGVuZ3RoKTtcbiAgfVxuICBpZiAoaG9zdCkgdGhpcy5ob3N0bmFtZSA9IGhvc3Q7XG59O1xuIiwiLyoqXG4gKiBEaWZmZXJlbnQgdHlwZXMgb2YgZW52aXJvbm1lbnRzIGZvciBXZWJHTC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQG5hbWUgRU5WXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFdFQkdMX0xFR0FDWSAtIFVzZWQgZm9yIG9sZGVyIHYxIFdlYkdMIGRldmljZXMuIFBpeGlKUyB3aWxsIGFpbSB0byBlbnN1cmUgY29tcGF0aWJpbGl0eVxuICogIHdpdGggb2xkZXIgLyBsZXNzIGFkdmFuY2VkIGRldmljZXMuIElmIHlvdSBleHBlcmllbmNlIHVuZXhwbGFpbmVkIGZsaWNrZXJpbmcgcHJlZmVyIHRoaXMgZW52aXJvbm1lbnQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gV0VCR0wgLSBWZXJzaW9uIDEgb2YgV2ViR0xcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBXRUJHTDIgLSBWZXJzaW9uIDIgb2YgV2ViR0xcbiAqL1xuZXhwb3J0IGVudW0gRU5WIHtcbiAgICBXRUJHTF9MRUdBQ1ksXG4gICAgV0VCR0wsXG4gICAgV0VCR0wyLFxufVxuXG4vKipcbiAqIENvbnN0YW50IHRvIGlkZW50aWZ5IHRoZSBSZW5kZXJlciBUeXBlLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAbmFtZSBSRU5ERVJFUl9UWVBFXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFVOS05PV04gLSBVbmtub3duIHJlbmRlciB0eXBlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFdFQkdMIC0gV2ViR0wgcmVuZGVyIHR5cGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gQ0FOVkFTIC0gQ2FudmFzIHJlbmRlciB0eXBlLlxuICovXG5leHBvcnQgZW51bSBSRU5ERVJFUl9UWVBFIHtcbiAgICBVTktOT1dOLFxuICAgIFdFQkdMLFxuICAgIENBTlZBUyxcbn1cblxuLyoqXG4gKiBCaXR3aXNlIE9SIG9mIG1hc2tzIHRoYXQgaW5kaWNhdGUgdGhlIGJ1ZmZlcnMgdG8gYmUgY2xlYXJlZC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQG5hbWUgQlVGRkVSX0JJVFNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gQ09MT1IgLSBJbmRpY2F0ZXMgdGhlIGJ1ZmZlcnMgY3VycmVudGx5IGVuYWJsZWQgZm9yIGNvbG9yIHdyaXRpbmcuXG4gKiBAcHJvcGVydHkge251bWJlcn0gREVQVEggLSBJbmRpY2F0ZXMgdGhlIGRlcHRoIGJ1ZmZlci5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTVEVOQ0lMIC0gSW5kaWNhdGVzIHRoZSBzdGVuY2lsIGJ1ZmZlci5cbiAqL1xuZXhwb3J0IGVudW0gQlVGRkVSX0JJVFMge1xuICAgIENPTE9SID0gMHgwMDAwNDAwMCxcbiAgICBERVBUSCA9IDB4MDAwMDAxMDAsXG4gICAgU1RFTkNJTCA9IDB4MDAwMDA0MDBcbn1cblxuLyoqXG4gKiBWYXJpb3VzIGJsZW5kIG1vZGVzIHN1cHBvcnRlZCBieSBQSVhJLlxuICpcbiAqIElNUE9SVEFOVCAtIFRoZSBXZWJHTCByZW5kZXJlciBvbmx5IHN1cHBvcnRzIHRoZSBOT1JNQUwsIEFERCwgTVVMVElQTFkgYW5kIFNDUkVFTiBibGVuZCBtb2Rlcy5cbiAqIEFueXRoaW5nIGVsc2Ugd2lsbCBzaWxlbnRseSBhY3QgbGlrZSBOT1JNQUwuXG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBuYW1lIEJMRU5EX01PREVTXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IE5PUk1BTFxuICogQHByb3BlcnR5IHtudW1iZXJ9IEFERFxuICogQHByb3BlcnR5IHtudW1iZXJ9IE1VTFRJUExZXG4gKiBAcHJvcGVydHkge251bWJlcn0gU0NSRUVOXG4gKiBAcHJvcGVydHkge251bWJlcn0gT1ZFUkxBWVxuICogQHByb3BlcnR5IHtudW1iZXJ9IERBUktFTlxuICogQHByb3BlcnR5IHtudW1iZXJ9IExJR0hURU5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBDT0xPUl9ET0RHRVxuICogQHByb3BlcnR5IHtudW1iZXJ9IENPTE9SX0JVUk5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBIQVJEX0xJR0hUXG4gKiBAcHJvcGVydHkge251bWJlcn0gU09GVF9MSUdIVFxuICogQHByb3BlcnR5IHtudW1iZXJ9IERJRkZFUkVOQ0VcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBFWENMVVNJT05cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBIVUVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTQVRVUkFUSU9OXG4gKiBAcHJvcGVydHkge251bWJlcn0gQ09MT1JcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMVU1JTk9TSVRZXG4gKiBAcHJvcGVydHkge251bWJlcn0gTk9STUFMX05QTVxuICogQHByb3BlcnR5IHtudW1iZXJ9IEFERF9OUE1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTQ1JFRU5fTlBNXG4gKiBAcHJvcGVydHkge251bWJlcn0gTk9ORVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNSQ19JTlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNSQ19PVVRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTUkNfQVRPUFxuICogQHByb3BlcnR5IHtudW1iZXJ9IERTVF9PVkVSXG4gKiBAcHJvcGVydHkge251bWJlcn0gRFNUX0lOXG4gKiBAcHJvcGVydHkge251bWJlcn0gRFNUX09VVFxuICogQHByb3BlcnR5IHtudW1iZXJ9IERTVF9BVE9QXG4gKiBAcHJvcGVydHkge251bWJlcn0gU1VCVFJBQ1RcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTUkNfT1ZFUlxuICogQHByb3BlcnR5IHtudW1iZXJ9IEVSQVNFXG4gKiBAcHJvcGVydHkge251bWJlcn0gWE9SXG4gKi9cbmV4cG9ydCBlbnVtIEJMRU5EX01PREVTIHtcbiAgICBOT1JNQUwgPSAwLFxuICAgIEFERCA9IDEsXG4gICAgTVVMVElQTFkgPSAyLFxuICAgIFNDUkVFTiA9IDMsXG4gICAgT1ZFUkxBWSA9IDQsXG4gICAgREFSS0VOID0gNSxcbiAgICBMSUdIVEVOID0gNixcbiAgICBDT0xPUl9ET0RHRSA9IDcsXG4gICAgQ09MT1JfQlVSTiA9IDgsXG4gICAgSEFSRF9MSUdIVCA9IDksXG4gICAgU09GVF9MSUdIVCA9IDEwLFxuICAgIERJRkZFUkVOQ0UgPSAxMSxcbiAgICBFWENMVVNJT04gPSAxMixcbiAgICBIVUUgPSAxMyxcbiAgICBTQVRVUkFUSU9OID0gMTQsXG4gICAgQ09MT1IgPSAxNSxcbiAgICBMVU1JTk9TSVRZID0gMTYsXG4gICAgTk9STUFMX05QTSA9IDE3LFxuICAgIEFERF9OUE0gPSAxOCxcbiAgICBTQ1JFRU5fTlBNID0gMTksXG4gICAgTk9ORSA9IDIwLFxuXG4gICAgU1JDX09WRVIgPSAwLFxuICAgIFNSQ19JTiA9IDIxLFxuICAgIFNSQ19PVVQgPSAyMixcbiAgICBTUkNfQVRPUCA9IDIzLFxuICAgIERTVF9PVkVSID0gMjQsXG4gICAgRFNUX0lOID0gMjUsXG4gICAgRFNUX09VVCA9IDI2LFxuICAgIERTVF9BVE9QID0gMjcsXG4gICAgRVJBU0UgPSAyNixcbiAgICBTVUJUUkFDVCA9IDI4LFxuICAgIFhPUiA9IDI5LFxufVxuXG4vKipcbiAqIFZhcmlvdXMgd2ViZ2wgZHJhdyBtb2Rlcy4gVGhlc2UgY2FuIGJlIHVzZWQgdG8gc3BlY2lmeSB3aGljaCBHTCBkcmF3TW9kZSB0byB1c2VcbiAqIHVuZGVyIGNlcnRhaW4gc2l0dWF0aW9ucyBhbmQgcmVuZGVyZXJzLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAbmFtZSBEUkFXX01PREVTXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFBPSU5UU1xuICogQHByb3BlcnR5IHtudW1iZXJ9IExJTkVTXG4gKiBAcHJvcGVydHkge251bWJlcn0gTElORV9MT09QXG4gKiBAcHJvcGVydHkge251bWJlcn0gTElORV9TVFJJUFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFRSSUFOR0xFU1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFRSSUFOR0xFX1NUUklQXG4gKiBAcHJvcGVydHkge251bWJlcn0gVFJJQU5HTEVfRkFOXG4gKi9cbmV4cG9ydCBlbnVtIERSQVdfTU9ERVMge1xuICAgIFBPSU5UUyxcbiAgICBMSU5FUyxcbiAgICBMSU5FX0xPT1AsXG4gICAgTElORV9TVFJJUCxcbiAgICBUUklBTkdMRVMsXG4gICAgVFJJQU5HTEVfU1RSSVAsXG4gICAgVFJJQU5HTEVfRkFOLFxufVxuXG4vKipcbiAqIFZhcmlvdXMgR0wgdGV4dHVyZS9yZXNvdXJjZXMgZm9ybWF0cy5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQG5hbWUgRk9STUFUU1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBSR0JBPTY0MDhcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBSR0I9NjQwN1xuICogQHByb3BlcnR5IHtudW1iZXJ9IEFMUEhBPTY0MDZcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMVU1JTkFOQ0U9NjQwOVxuICogQHByb3BlcnR5IHtudW1iZXJ9IExVTUlOQU5DRV9BTFBIQT02NDEwXG4gKiBAcHJvcGVydHkge251bWJlcn0gREVQVEhfQ09NUE9ORU5UPTY0MDJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBERVBUSF9TVEVOQ0lMPTM0MDQxXG4gKi9cbmV4cG9ydCBlbnVtIEZPUk1BVFMge1xuICAgIFJHQkEgPSA2NDA4LFxuICAgIFJHQiA9IDY0MDcsXG4gICAgQUxQSEEgPSA2NDA2LFxuICAgIExVTUlOQU5DRSA9IDY0MDksXG4gICAgTFVNSU5BTkNFX0FMUEhBID0gNjQxMCxcbiAgICBERVBUSF9DT01QT05FTlQgPSA2NDAyLFxuICAgIERFUFRIX1NURU5DSUwgPSAzNDA0MSxcbn1cblxuLyoqXG4gKiBWYXJpb3VzIEdMIHRhcmdldCB0eXBlcy5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQG5hbWUgVEFSR0VUU1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBURVhUVVJFXzJEPTM1NTNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBURVhUVVJFX0NVQkVfTUFQPTM0MDY3XG4gKiBAcHJvcGVydHkge251bWJlcn0gVEVYVFVSRV8yRF9BUlJBWT0zNTg2NlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWD0zNDA2OVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWD0zNDA3MFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWT0zNDA3MVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWT0zNDA3MlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWj0zNDA3M1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWj0zNDA3NFxuICovXG5leHBvcnQgZW51bSBUQVJHRVRTIHtcbiAgICBURVhUVVJFXzJEID0gMzU1MyxcbiAgICBURVhUVVJFX0NVQkVfTUFQID0gMzQwNjcsXG4gICAgVEVYVFVSRV8yRF9BUlJBWSA9IDM1ODY2LFxuICAgIFRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWCA9IDM0MDY5LFxuICAgIFRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWCA9IDM0MDcwLFxuICAgIFRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWSA9IDM0MDcxLFxuICAgIFRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWSA9IDM0MDcyLFxuICAgIFRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWiA9IDM0MDczLFxuICAgIFRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWiA9IDM0MDc0LFxufVxuXG4vKipcbiAqIFZhcmlvdXMgR0wgZGF0YSBmb3JtYXQgdHlwZXMuXG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBuYW1lIFRZUEVTXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFVOU0lHTkVEX0JZVEU9NTEyMVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFVOU0lHTkVEX1NIT1JUPTUxMjNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBVTlNJR05FRF9TSE9SVF81XzZfNT0zMzYzNVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFVOU0lHTkVEX1NIT1JUXzRfNF80XzQ9MzI4MTlcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBVTlNJR05FRF9TSE9SVF81XzVfNV8xPTMyODIwXG4gKiBAcHJvcGVydHkge251bWJlcn0gRkxPQVQ9NTEyNlxuICogQHByb3BlcnR5IHtudW1iZXJ9IEhBTEZfRkxPQVQ9MzYxOTNcbiAqL1xuZXhwb3J0IGVudW0gVFlQRVMge1xuICAgIFVOU0lHTkVEX0JZVEUgPSA1MTIxLFxuICAgIFVOU0lHTkVEX1NIT1JUID0gNTEyMyxcbiAgICBVTlNJR05FRF9TSE9SVF81XzZfNSA9IDMzNjM1LFxuICAgIFVOU0lHTkVEX1NIT1JUXzRfNF80XzQgPSAzMjgxOSxcbiAgICBVTlNJR05FRF9TSE9SVF81XzVfNV8xID0gMzI4MjAsXG4gICAgRkxPQVQgPSA1MTI2LFxuICAgIEhBTEZfRkxPQVQgPSAzNjE5Myxcbn1cblxuLyoqXG4gKiBUaGUgc2NhbGUgbW9kZXMgdGhhdCBhcmUgc3VwcG9ydGVkIGJ5IHBpeGkuXG4gKlxuICogVGhlIHtAbGluayBQSVhJLnNldHRpbmdzLlNDQUxFX01PREV9IHNjYWxlIG1vZGUgYWZmZWN0cyB0aGUgZGVmYXVsdCBzY2FsaW5nIG1vZGUgb2YgZnV0dXJlIG9wZXJhdGlvbnMuXG4gKiBJdCBjYW4gYmUgcmUtYXNzaWduZWQgdG8gZWl0aGVyIExJTkVBUiBvciBORUFSRVNULCBkZXBlbmRpbmcgdXBvbiBzdWl0YWJpbGl0eS5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQG5hbWUgU0NBTEVfTU9ERVNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gTElORUFSIFNtb290aCBzY2FsaW5nXG4gKiBAcHJvcGVydHkge251bWJlcn0gTkVBUkVTVCBQaXhlbGF0aW5nIHNjYWxpbmdcbiAqL1xuZXhwb3J0IGVudW0gU0NBTEVfTU9ERVMge1xuICAgIE5FQVJFU1QsXG4gICAgTElORUFSLFxufVxuXG4vKipcbiAqIFRoZSB3cmFwIG1vZGVzIHRoYXQgYXJlIHN1cHBvcnRlZCBieSBwaXhpLlxuICpcbiAqIFRoZSB7QGxpbmsgUElYSS5zZXR0aW5ncy5XUkFQX01PREV9IHdyYXAgbW9kZSBhZmZlY3RzIHRoZSBkZWZhdWx0IHdyYXBwaW5nIG1vZGUgb2YgZnV0dXJlIG9wZXJhdGlvbnMuXG4gKiBJdCBjYW4gYmUgcmUtYXNzaWduZWQgdG8gZWl0aGVyIENMQU1QIG9yIFJFUEVBVCwgZGVwZW5kaW5nIHVwb24gc3VpdGFiaWxpdHkuXG4gKiBJZiB0aGUgdGV4dHVyZSBpcyBub24gcG93ZXIgb2YgdHdvIHRoZW4gY2xhbXAgd2lsbCBiZSB1c2VkIHJlZ2FyZGxlc3MgYXMgV2ViR0wgY2FuXG4gKiBvbmx5IHVzZSBSRVBFQVQgaWYgdGhlIHRleHR1cmUgaXMgcG8yLlxuICpcbiAqIFRoaXMgcHJvcGVydHkgb25seSBhZmZlY3RzIFdlYkdMLlxuICpcbiAqIEBuYW1lIFdSQVBfTU9ERVNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IENMQU1QIC0gVGhlIHRleHR1cmVzIHV2cyBhcmUgY2xhbXBlZFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFJFUEVBVCAtIFRoZSB0ZXh0dXJlIHV2cyB0aWxlIGFuZCByZXBlYXRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBNSVJST1JFRF9SRVBFQVQgLSBUaGUgdGV4dHVyZSB1dnMgdGlsZSBhbmQgcmVwZWF0IHdpdGggbWlycm9yaW5nXG4gKi9cbmV4cG9ydCBlbnVtIFdSQVBfTU9ERVMge1xuICAgIENMQU1QID0gMzMwNzEsXG4gICAgUkVQRUFUID0gMTA0OTcsXG4gICAgTUlSUk9SRURfUkVQRUFUID0gMzM2NDgsXG59XG5cbi8qKlxuICogTWlwbWFwIGZpbHRlcmluZyBtb2RlcyB0aGF0IGFyZSBzdXBwb3J0ZWQgYnkgcGl4aS5cbiAqXG4gKiBUaGUge0BsaW5rIFBJWEkuc2V0dGluZ3MuTUlQTUFQX1RFWFRVUkVTfSBhZmZlY3RzIGRlZmF1bHQgdGV4dHVyZSBmaWx0ZXJpbmcuXG4gKiBNaXBtYXBzIGFyZSBnZW5lcmF0ZWQgZm9yIGEgYmFzZVRleHR1cmUgaWYgaXRzIGBtaXBtYXBgIGZpZWxkIGlzIGBPTmAsXG4gKiBvciBpdHMgYFBPVzJgIGFuZCB0ZXh0dXJlIGRpbWVuc2lvbnMgYXJlIHBvd2VycyBvZiAyLlxuICogRHVlIHRvIHBsYXRmb3JtIHJlc3RyaWN0aW9uLCBgT05gIG9wdGlvbiB3aWxsIHdvcmsgbGlrZSBgUE9XMmAgZm9yIHdlYmdsLTEuXG4gKlxuICogVGhpcyBwcm9wZXJ0eSBvbmx5IGFmZmVjdHMgV2ViR0wuXG4gKlxuICogQG5hbWUgTUlQTUFQX01PREVTXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBPRkYgLSBObyBtaXBtYXBzXG4gKiBAcHJvcGVydHkge251bWJlcn0gUE9XMiAtIEdlbmVyYXRlIG1pcG1hcHMgaWYgdGV4dHVyZSBkaW1lbnNpb25zIGFyZSBwb3cyXG4gKiBAcHJvcGVydHkge251bWJlcn0gT04gLSBBbHdheXMgZ2VuZXJhdGUgbWlwbWFwc1xuICovXG5leHBvcnQgZW51bSBNSVBNQVBfTU9ERVMge1xuICAgIE9GRixcbiAgICBQT1cyLFxuICAgIE9OLFxufVxuXG4vKipcbiAqIEhvdyB0byB0cmVhdCB0ZXh0dXJlcyB3aXRoIHByZW11bHRpcGxpZWQgYWxwaGFcbiAqXG4gKiBAbmFtZSBBTFBIQV9NT0RFU1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gTk9fUFJFTVVMVElQTElFRF9BTFBIQSAtIFNvdXJjZSBpcyBub3QgcHJlbXVsdGlwbGllZCwgbGVhdmUgaXQgbGlrZSB0aGF0LlxuICogIE9wdGlvbiBmb3IgY29tcHJlc3NlZCBhbmQgZGF0YSB0ZXh0dXJlcyB0aGF0IGFyZSBjcmVhdGVkIGZyb20gdHlwZWQgYXJyYXlzLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFBSRU1VTFRJUExZX09OX1VQTE9BRCAtIFNvdXJjZSBpcyBub3QgcHJlbXVsdGlwbGllZCwgcHJlbXVsdGlwbHkgb24gdXBsb2FkLlxuICogIERlZmF1bHQgb3B0aW9uLCB1c2VkIGZvciBhbGwgbG9hZGVkIGltYWdlcy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBQUkVNVUxUSVBMSUVEX0FMUEhBIC0gU291cmNlIGlzIGFscmVhZHkgcHJlbXVsdGlwbGllZFxuICogIEV4YW1wbGU6IHNwaW5lIGF0bGFzZXMgd2l0aCBgX3BtYWAgc3VmZml4LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IE5QTSAtIEFsaWFzIGZvciBOT19QUkVNVUxUSVBMSUVEX0FMUEhBLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFVOUEFDSyAtIERlZmF1bHQgb3B0aW9uLCBhbGlhcyBmb3IgUFJFTVVMVElQTFlfT05fVVBMT0FELlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFBNQSAtIEFsaWFzIGZvciBQUkVNVUxUSVBMSUVEX0FMUEhBLlxuICovXG5leHBvcnQgZW51bSBBTFBIQV9NT0RFUyB7XG4gICAgTlBNID0gMCxcbiAgICBVTlBBQ0sgPSAxLFxuICAgIFBNQSA9IDIsXG4gICAgTk9fUFJFTVVMVElQTElFRF9BTFBIQSA9IDAsXG4gICAgUFJFTVVMVElQTFlfT05fVVBMT0FEID0gMSxcbiAgICBQUkVNVUxUSVBMWV9BTFBIQSA9IDIsXG59XG5cbi8qKlxuICogSG93IHRvIGNsZWFyIHJlbmRlclRleHR1cmVzIGluIGZpbHRlclxuICpcbiAqIEBuYW1lIENMRUFSX01PREVTXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBCTEVORCAtIFByZXNlcnZlIHRoZSBpbmZvcm1hdGlvbiBpbiB0aGUgdGV4dHVyZSwgYmxlbmQgYWJvdmVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBDTEVBUiAtIE11c3QgdXNlIGBnbC5jbGVhcmAgb3BlcmF0aW9uXG4gKiBAcHJvcGVydHkge251bWJlcn0gQkxJVCAtIENsZWFyIG9yIGJsaXQgaXQsIGRlcGVuZHMgb24gZGV2aWNlIGFuZCBsZXZlbCBvZiBwYXJhbm9pYVxuICogQHByb3BlcnR5IHtudW1iZXJ9IE5PIC0gQWxpYXMgZm9yIEJMRU5ELCBzYW1lIGFzIGBmYWxzZWAgaW4gZWFybGllciB2ZXJzaW9uc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFlFUyAtIEFsaWFzIGZvciBDTEVBUiwgc2FtZSBhcyBgdHJ1ZWAgaW4gZWFybGllciB2ZXJzaW9uc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IEFVVE8gLSBBbGlhcyBmb3IgQkxJVFxuICovXG5leHBvcnQgZW51bSBDTEVBUl9NT0RFUyB7XG4gICAgTk8gPSAwLFxuICAgIFlFUyA9IDEsXG4gICAgQVVUTyA9IDIsXG4gICAgQkxFTkQgPSAwLFxuICAgIENMRUFSID0gMSxcbiAgICBCTElUID0gMixcbn1cblxuLyoqXG4gKiBUaGUgZ2MgbW9kZXMgdGhhdCBhcmUgc3VwcG9ydGVkIGJ5IHBpeGkuXG4gKlxuICogVGhlIHtAbGluayBQSVhJLnNldHRpbmdzLkdDX01PREV9IEdhcmJhZ2UgQ29sbGVjdGlvbiBtb2RlIGZvciBQaXhpSlMgdGV4dHVyZXMgaXMgQVVUT1xuICogSWYgc2V0IHRvIEdDX01PREUsIHRoZSByZW5kZXJlciB3aWxsIG9jY2FzaW9uYWxseSBjaGVjayB0ZXh0dXJlcyB1c2FnZS4gSWYgdGhleSBhcmUgbm90XG4gKiB1c2VkIGZvciBhIHNwZWNpZmllZCBwZXJpb2Qgb2YgdGltZSB0aGV5IHdpbGwgYmUgcmVtb3ZlZCBmcm9tIHRoZSBHUFUuIFRoZXkgd2lsbCBvZiBjb3Vyc2VcbiAqIGJlIHVwbG9hZGVkIGFnYWluIHdoZW4gdGhleSBhcmUgcmVxdWlyZWQuIFRoaXMgaXMgYSBzaWxlbnQgYmVoaW5kIHRoZSBzY2VuZXMgcHJvY2VzcyB0aGF0XG4gKiBzaG91bGQgZW5zdXJlIHRoYXQgdGhlIEdQVSBkb2VzIG5vdCAgZ2V0IGZpbGxlZCB1cC5cbiAqXG4gKiBIYW5keSBmb3IgbW9iaWxlIGRldmljZXMhXG4gKiBUaGlzIHByb3BlcnR5IG9ubHkgYWZmZWN0cyBXZWJHTC5cbiAqXG4gKiBAbmFtZSBHQ19NT0RFU1xuICogQGVudW0ge251bWJlcn1cbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAcHJvcGVydHkge251bWJlcn0gQVVUTyAtIEdhcmJhZ2UgY29sbGVjdGlvbiB3aWxsIGhhcHBlbiBwZXJpb2RpY2FsbHkgYXV0b21hdGljYWxseVxuICogQHByb3BlcnR5IHtudW1iZXJ9IE1BTlVBTCAtIEdhcmJhZ2UgY29sbGVjdGlvbiB3aWxsIG5lZWQgdG8gYmUgY2FsbGVkIG1hbnVhbGx5XG4gKi9cbmV4cG9ydCBlbnVtIEdDX01PREVTIHtcbiAgICBBVVRPLFxuICAgIE1BTlVBTCxcbn1cblxuLyoqXG4gKiBDb25zdGFudHMgdGhhdCBzcGVjaWZ5IGZsb2F0IHByZWNpc2lvbiBpbiBzaGFkZXJzLlxuICpcbiAqIEBuYW1lIFBSRUNJU0lPTlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBjb25zdGFudFxuICogQHN0YXRpY1xuICogQGVudW0ge3N0cmluZ31cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBMT1c9J2xvd3AnXG4gKiBAcHJvcGVydHkge3N0cmluZ30gTUVESVVNPSdtZWRpdW1wJ1xuICogQHByb3BlcnR5IHtzdHJpbmd9IEhJR0g9J2hpZ2hwJ1xuICovXG5leHBvcnQgZW51bSBQUkVDSVNJT04ge1xuICAgIExPVyA9ICdsb3dwJyxcbiAgICBNRURJVU0gPSAnbWVkaXVtcCcsXG4gICAgSElHSCA9ICdoaWdocCcsXG59XG5cbi8qKlxuICogQ29uc3RhbnRzIGZvciBtYXNrIGltcGxlbWVudGF0aW9ucy5cbiAqIFdlIHVzZSBgdHlwZWAgc3VmZml4IGJlY2F1c2UgaXQgbGVhZHMgdG8gdmVyeSBkaWZmZXJlbnQgYmVoYXZpb3Vyc1xuICpcbiAqIEBuYW1lIE1BU0tfVFlQRVNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IE5PTkUgLSBNYXNrIGlzIGlnbm9yZWRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTQ0lTU09SIC0gU2Npc3NvciBtYXNrLCByZWN0YW5nbGUgb24gc2NyZWVuLCBjaGVhcFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNURU5DSUwgLSBTdGVuY2lsIG1hc2ssIDEtYml0LCBtZWRpdW0sIHdvcmtzIG9ubHkgaWYgcmVuZGVyZXIgc3VwcG9ydHMgc3RlbmNpbFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNQUklURSAtIE1hc2sgdGhhdCB1c2VzIFNwcml0ZU1hc2tGaWx0ZXIsIHVzZXMgdGVtcG9yYXJ5IFJlbmRlclRleHR1cmVcbiAqL1xuZXhwb3J0IGVudW0gTUFTS19UWVBFUyB7XG4gICAgTk9ORSA9IDAsXG4gICAgU0NJU1NPUiA9IDEsXG4gICAgU1RFTkNJTCA9IDIsXG4gICAgU1BSSVRFID0gMyxcbn1cblxuLyoqXG4gKiBDb25zdGFudHMgZm9yIG11bHRpLXNhbXBsaW5nIGFudGlhbGlhc2luZy5cbiAqXG4gKiBAc2VlIFBJWEkuRnJhbWVidWZmZXIjbXVsdGlzYW1wbGVcbiAqXG4gKiBAbmFtZSBNU0FBX1FVQUxJVFlcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IE5PTkUgLSBObyBtdWx0aXNhbXBsaW5nIGZvciB0aGlzIHJlbmRlclRleHR1cmVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMT1cgLSBUcnkgMiBzYW1wbGVzXG4gKiBAcHJvcGVydHkge251bWJlcn0gTUVESVVNIC0gVHJ5IDQgc2FtcGxlc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IEhJR0ggLSBUcnkgOCBzYW1wbGVzXG4gKi9cbmV4cG9ydCBlbnVtIE1TQUFfUVVBTElUWSB7XG4gICAgTk9ORSA9IDAsXG4gICAgTE9XID0gMixcbiAgICBNRURJVU0gPSA0LFxuICAgIEhJR0ggPSA4XG59XG4iLCJpbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcblxuLyoqXG4gKiBUaGUgcHJlZml4IHRoYXQgZGVub3RlcyBhIFVSTCBpcyBmb3IgYSByZXRpbmEgYXNzZXQuXG4gKlxuICogQHN0YXRpY1xuICogQG5hbWUgUkVUSU5BX1BSRUZJWFxuICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAqIEB0eXBlIHtSZWdFeHB9XG4gKiBAZGVmYXVsdCAvQChbMC05XFwuXSspeC9cbiAqIEBleGFtcGxlIGBAMnhgXG4gKi9cbnNldHRpbmdzLlJFVElOQV9QUkVGSVggPSAvQChbMC05XFwuXSspeC87XG5cbi8qKlxuICogU2hvdWxkIHRoZSBgZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdGAgZmxhZyBiZSBlbmFibGVkIGFzIGEgY29udGV4dCBvcHRpb24gdXNlZCBpbiB0aGUgYGlzV2ViR0xTdXBwb3J0ZWRgIGZ1bmN0aW9uLlxuICogRm9yIG1vc3Qgc2NlbmFyaW9zIHRoaXMgc2hvdWxkIGJlIGxlZnQgYXMgdHJ1ZSwgYXMgb3RoZXJ3aXNlIHRoZSB1c2VyIG1heSBoYXZlIGEgcG9vciBleHBlcmllbmNlLlxuICogSG93ZXZlciwgaXQgY2FuIGJlIHVzZWZ1bCB0byBkaXNhYmxlIHVuZGVyIGNlcnRhaW4gc2NlbmFyaW9zLCBzdWNoIGFzIGhlYWRsZXNzIHVuaXQgdGVzdHMuXG4gKlxuICogQHN0YXRpY1xuICogQG5hbWUgRkFJTF9JRl9NQUpPUl9QRVJGT1JNQU5DRV9DQVZFQVRcbiAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gKiBAdHlwZSB7Ym9vbGVhbn1cbiAqIEBkZWZhdWx0IHRydWVcbiAqL1xuc2V0dGluZ3MuRkFJTF9JRl9NQUpPUl9QRVJGT1JNQU5DRV9DQVZFQVQgPSB0cnVlO1xuXG5leHBvcnQgeyBzZXR0aW5ncyB9O1xuIiwibGV0IHNhaWRIZWxsbyA9IGZhbHNlO1xuY29uc3QgVkVSU0lPTiA9ICdfX1ZFUlNJT05fXyc7XG5cbi8qKlxuICogU2tpcHMgdGhlIGhlbGxvIG1lc3NhZ2Ugb2YgcmVuZGVyZXJzIHRoYXQgYXJlIGNyZWF0ZWQgYWZ0ZXIgdGhpcyBpcyBydW4uXG4gKlxuICogQGZ1bmN0aW9uIHNraXBIZWxsb1xuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNraXBIZWxsbygpOiB2b2lkXG57XG4gICAgc2FpZEhlbGxvID0gdHJ1ZTtcbn1cblxuLyoqXG4gKiBMb2dzIG91dCB0aGUgdmVyc2lvbiBhbmQgcmVuZGVyZXIgaW5mb3JtYXRpb24gZm9yIHRoaXMgcnVubmluZyBpbnN0YW5jZSBvZiBQSVhJLlxuICogSWYgeW91IGRvbid0IHdhbnQgdG8gc2VlIHRoaXMgbWVzc2FnZSB5b3UgY2FuIHJ1biBgUElYSS51dGlscy5za2lwSGVsbG8oKWAgYmVmb3JlXG4gKiBjcmVhdGluZyB5b3VyIHJlbmRlcmVyLiBLZWVwIGluIG1pbmQgdGhhdCBkb2luZyB0aGF0IHdpbGwgZm9yZXZlciBtYWtlIHlvdSBhIGplcmsgZmFjZS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAZnVuY3Rpb24gc2F5SGVsbG9cbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAtIFRoZSBzdHJpbmcgcmVuZGVyZXIgdHlwZSB0byBsb2cuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzYXlIZWxsbyh0eXBlOiBzdHJpbmcpOiB2b2lkXG57XG4gICAgaWYgKHNhaWRIZWxsbylcbiAgICB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAobmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoJ2Nocm9tZScpID4gLTEpXG4gICAge1xuICAgICAgICBjb25zdCBhcmdzID0gW1xuICAgICAgICAgICAgYFxcbiAlYyAlYyAlYyBQaXhpSlMgJHtWRVJTSU9OfSAtIOKcsCAke3R5cGV9IOKcsCAgJWMgICVjICBodHRwOi8vd3d3LnBpeGlqcy5jb20vICAlYyAlYyDimaUlY+KZpSVj4pmlIFxcblxcbmAsXG4gICAgICAgICAgICAnYmFja2dyb3VuZDogI2ZmNjZhNTsgcGFkZGluZzo1cHggMDsnLFxuICAgICAgICAgICAgJ2JhY2tncm91bmQ6ICNmZjY2YTU7IHBhZGRpbmc6NXB4IDA7JyxcbiAgICAgICAgICAgICdjb2xvcjogI2ZmNjZhNTsgYmFja2dyb3VuZDogIzAzMDMwNzsgcGFkZGluZzo1cHggMDsnLFxuICAgICAgICAgICAgJ2JhY2tncm91bmQ6ICNmZjY2YTU7IHBhZGRpbmc6NXB4IDA7JyxcbiAgICAgICAgICAgICdiYWNrZ3JvdW5kOiAjZmZjM2RjOyBwYWRkaW5nOjVweCAwOycsXG4gICAgICAgICAgICAnYmFja2dyb3VuZDogI2ZmNjZhNTsgcGFkZGluZzo1cHggMDsnLFxuICAgICAgICAgICAgJ2NvbG9yOiAjZmYyNDI0OyBiYWNrZ3JvdW5kOiAjZmZmOyBwYWRkaW5nOjVweCAwOycsXG4gICAgICAgICAgICAnY29sb3I6ICNmZjI0MjQ7IGJhY2tncm91bmQ6ICNmZmY7IHBhZGRpbmc6NXB4IDA7JyxcbiAgICAgICAgICAgICdjb2xvcjogI2ZmMjQyNDsgYmFja2dyb3VuZDogI2ZmZjsgcGFkZGluZzo1cHggMDsnLFxuICAgICAgICBdO1xuXG4gICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyguLi5hcmdzKTtcbiAgICB9XG4gICAgZWxzZSBpZiAod2luZG93LmNvbnNvbGUpXG4gICAge1xuICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coYFBpeGlKUyAke1ZFUlNJT059IC0gJHt0eXBlfSAtIGh0dHA6Ly93d3cucGl4aWpzLmNvbS9gKTtcbiAgICB9XG5cbiAgICBzYWlkSGVsbG8gPSB0cnVlO1xufVxuIiwiaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICcuLi9zZXR0aW5ncyc7XG5cbmxldCBzdXBwb3J0ZWQ6IGJvb2xlYW58dW5kZWZpbmVkO1xuXG4vKipcbiAqIEhlbHBlciBmb3IgY2hlY2tpbmcgZm9yIFdlYkdMIHN1cHBvcnQuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBpc1dlYkdMU3VwcG9ydGVkXG4gKiBAcmV0dXJuIHtib29sZWFufSBJcyBXZWJHTCBzdXBwb3J0ZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1dlYkdMU3VwcG9ydGVkKCk6IGJvb2xlYW5cbntcbiAgICBpZiAodHlwZW9mIHN1cHBvcnRlZCA9PT0gJ3VuZGVmaW5lZCcpXG4gICAge1xuICAgICAgICBzdXBwb3J0ZWQgPSAoZnVuY3Rpb24gc3VwcG9ydGVkKCk6IGJvb2xlYW5cbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgY29udGV4dE9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgc3RlbmNpbDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0OiBzZXR0aW5ncy5GQUlMX0lGX01BSk9SX1BFUkZPUk1BTkNFX0NBVkVBVCxcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHRyeVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICghd2luZG93LldlYkdMUmVuZGVyaW5nQ29udGV4dClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgICAgICAgICBsZXQgZ2wgPSAoXG4gICAgICAgICAgICAgICAgICAgIGNhbnZhcy5nZXRDb250ZXh0KCd3ZWJnbCcsIGNvbnRleHRPcHRpb25zKVxuICAgICAgICAgICAgICAgICAgICB8fCBjYW52YXMuZ2V0Q29udGV4dCgnZXhwZXJpbWVudGFsLXdlYmdsJywgY29udGV4dE9wdGlvbnMpXG4gICAgICAgICAgICAgICAgKSBhcyBXZWJHTFJlbmRlcmluZ0NvbnRleHQ7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBzdWNjZXNzID0gISEoZ2wgJiYgZ2wuZ2V0Q29udGV4dEF0dHJpYnV0ZXMoKS5zdGVuY2lsKTtcblxuICAgICAgICAgICAgICAgIGlmIChnbClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxvc2VDb250ZXh0ID0gZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9sb3NlX2NvbnRleHQnKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAobG9zZUNvbnRleHQpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvc2VDb250ZXh0Lmxvc2VDb250ZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBnbCA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gc3VjY2VzcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gc3VwcG9ydGVkO1xufVxuIiwiLyoqXG4gKiBDb252ZXJ0cyBhIGhleGFkZWNpbWFsIGNvbG9yIG51bWJlciB0byBhbiBbUiwgRywgQl0gYXJyYXkgb2Ygbm9ybWFsaXplZCBmbG9hdHMgKG51bWJlcnMgZnJvbSAwLjAgdG8gMS4wKS5cbiAqXG4gKiBAZXhhbXBsZVxuICogUElYSS51dGlscy5oZXgycmdiKDB4ZmZmZmZmKTsgLy8gcmV0dXJucyBbMSwgMSwgMV1cbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gaGV4MnJnYlxuICogQHBhcmFtIHtudW1iZXJ9IGhleCAtIFRoZSBoZXhhZGVjaW1hbCBudW1iZXIgdG8gY29udmVydFxuICogQHBhcmFtICB7bnVtYmVyW119IFtvdXQ9W11dIC0gSWYgc3VwcGxpZWQsIHRoaXMgYXJyYXkgd2lsbCBiZSB1c2VkIHJhdGhlciB0aGFuIHJldHVybmluZyBhIG5ldyBvbmVcbiAqIEByZXR1cm4ge251bWJlcltdfSBBbiBhcnJheSByZXByZXNlbnRpbmcgdGhlIFtSLCBHLCBCXSBvZiB0aGUgY29sb3Igd2hlcmUgYWxsIHZhbHVlcyBhcmUgZmxvYXRzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaGV4MnJnYihoZXg6IG51bWJlciwgb3V0OiBBcnJheTxudW1iZXI+IHwgRmxvYXQzMkFycmF5ID0gW10pOiBBcnJheTxudW1iZXI+IHwgRmxvYXQzMkFycmF5XG57XG4gICAgb3V0WzBdID0gKChoZXggPj4gMTYpICYgMHhGRikgLyAyNTU7XG4gICAgb3V0WzFdID0gKChoZXggPj4gOCkgJiAweEZGKSAvIDI1NTtcbiAgICBvdXRbMl0gPSAoaGV4ICYgMHhGRikgLyAyNTU7XG5cbiAgICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGEgaGV4YWRlY2ltYWwgY29sb3IgbnVtYmVyIHRvIGEgc3RyaW5nLlxuICpcbiAqIEBleGFtcGxlXG4gKiBQSVhJLnV0aWxzLmhleDJzdHJpbmcoMHhmZmZmZmYpOyAvLyByZXR1cm5zIFwiI2ZmZmZmZlwiXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIGhleDJzdHJpbmdcbiAqIEBwYXJhbSB7bnVtYmVyfSBoZXggLSBOdW1iZXIgaW4gaGV4IChlLmcuLCBgMHhmZmZmZmZgKVxuICogQHJldHVybiB7c3RyaW5nfSBUaGUgc3RyaW5nIGNvbG9yIChlLmcuLCBgXCIjZmZmZmZmXCJgKS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhleDJzdHJpbmcoaGV4OiBudW1iZXIpOiBzdHJpbmdcbntcbiAgICBsZXQgaGV4U3RyaW5nID0gaGV4LnRvU3RyaW5nKDE2KTtcblxuICAgIGhleFN0cmluZyA9ICcwMDAwMDAnLnN1YnN0cigwLCA2IC0gaGV4U3RyaW5nLmxlbmd0aCkgKyBoZXhTdHJpbmc7XG5cbiAgICByZXR1cm4gYCMke2hleFN0cmluZ31gO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGEgaGV4YWRlY2ltYWwgc3RyaW5nIHRvIGEgaGV4YWRlY2ltYWwgY29sb3IgbnVtYmVyLlxuICpcbiAqIEBleGFtcGxlXG4gKiBQSVhJLnV0aWxzLnN0cmluZzJoZXgoXCIjZmZmZmZmXCIpOyAvLyByZXR1cm5zIDB4ZmZmZmZmXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIHN0cmluZzJoZXhcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgLSBUaGUgc3RyaW5nIGNvbG9yIChlLmcuLCBgXCIjZmZmZmZmXCJgKVxuICogQHJldHVybiB7bnVtYmVyfSBOdW1iZXIgaW4gaGV4YWRlY2ltYWwuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdHJpbmcyaGV4KHN0cmluZzogc3RyaW5nKTogbnVtYmVyXG57XG4gICAgaWYgKHR5cGVvZiBzdHJpbmcgPT09ICdzdHJpbmcnICYmIHN0cmluZ1swXSA9PT0gJyMnKVxuICAgIHtcbiAgICAgICAgc3RyaW5nID0gc3RyaW5nLnN1YnN0cigxKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGFyc2VJbnQoc3RyaW5nLCAxNik7XG59XG5cbi8qKlxuICogQ29udmVydHMgYSBjb2xvciBhcyBhbiBbUiwgRywgQl0gYXJyYXkgb2Ygbm9ybWFsaXplZCBmbG9hdHMgdG8gYSBoZXhhZGVjaW1hbCBudW1iZXIuXG4gKlxuICogQGV4YW1wbGVcbiAqIFBJWEkudXRpbHMucmdiMmhleChbMSwgMSwgMV0pOyAvLyByZXR1cm5zIDB4ZmZmZmZmXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIHJnYjJoZXhcbiAqIEBwYXJhbSB7bnVtYmVyW119IHJnYiAtIEFycmF5IG9mIG51bWJlcnMgd2hlcmUgYWxsIHZhbHVlcyBhcmUgbm9ybWFsaXplZCBmbG9hdHMgZnJvbSAwLjAgdG8gMS4wLlxuICogQHJldHVybiB7bnVtYmVyfSBOdW1iZXIgaW4gaGV4YWRlY2ltYWwuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZ2IyaGV4KHJnYjogbnVtYmVyW10gfCBGbG9hdDMyQXJyYXkpOiBudW1iZXJcbntcbiAgICByZXR1cm4gKCgocmdiWzBdICogMjU1KSA8PCAxNikgKyAoKHJnYlsxXSAqIDI1NSkgPDwgOCkgKyAocmdiWzJdICogMjU1IHwgMCkpO1xufVxuIiwiaW1wb3J0IHsgQkxFTkRfTU9ERVMgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuXG4vKipcbiAqIENvcnJlY3RzIFBpeGlKUyBibGVuZCwgdGFrZXMgcHJlbXVsdGlwbGllZCBhbHBoYSBpbnRvIGFjY291bnRcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIG1hcFByZW11bHRpcGxpZWRCbGVuZE1vZGVzXG4gKiBAcHJpdmF0ZVxuICogQHJldHVybiB7QXJyYXk8bnVtYmVyW10+fSBNYXBwZWQgbW9kZXMuXG4gKi9cbmZ1bmN0aW9uIG1hcFByZW11bHRpcGxpZWRCbGVuZE1vZGVzKCk6IG51bWJlcltdW11cbntcbiAgICBjb25zdCBwbSA9IFtdO1xuICAgIGNvbnN0IG5wbSA9IFtdO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAzMjsgaSsrKVxuICAgIHtcbiAgICAgICAgcG1baV0gPSBpO1xuICAgICAgICBucG1baV0gPSBpO1xuICAgIH1cblxuICAgIHBtW0JMRU5EX01PREVTLk5PUk1BTF9OUE1dID0gQkxFTkRfTU9ERVMuTk9STUFMO1xuICAgIHBtW0JMRU5EX01PREVTLkFERF9OUE1dID0gQkxFTkRfTU9ERVMuQUREO1xuICAgIHBtW0JMRU5EX01PREVTLlNDUkVFTl9OUE1dID0gQkxFTkRfTU9ERVMuU0NSRUVOO1xuXG4gICAgbnBtW0JMRU5EX01PREVTLk5PUk1BTF0gPSBCTEVORF9NT0RFUy5OT1JNQUxfTlBNO1xuICAgIG5wbVtCTEVORF9NT0RFUy5BRERdID0gQkxFTkRfTU9ERVMuQUREX05QTTtcbiAgICBucG1bQkxFTkRfTU9ERVMuU0NSRUVOXSA9IEJMRU5EX01PREVTLlNDUkVFTl9OUE07XG5cbiAgICBjb25zdCBhcnJheTogbnVtYmVyW11bXSA9IFtdO1xuXG4gICAgYXJyYXkucHVzaChucG0pO1xuICAgIGFycmF5LnB1c2gocG0pO1xuXG4gICAgcmV0dXJuIGFycmF5O1xufVxuXG4vKipcbiAqIG1hcHMgcHJlbXVsdGlwbHkgZmxhZyBhbmQgYmxlbmRNb2RlIHRvIGFkanVzdGVkIGJsZW5kTW9kZVxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBjb25zdCBwcmVtdWx0aXBseUJsZW5kTW9kZVxuICogQHR5cGUge0FycmF5PG51bWJlcltdPn1cbiAqL1xuZXhwb3J0IGNvbnN0IHByZW11bHRpcGx5QmxlbmRNb2RlID0gbWFwUHJlbXVsdGlwbGllZEJsZW5kTW9kZXMoKTtcblxuLyoqXG4gKiBjaGFuZ2VzIGJsZW5kTW9kZSBhY2NvcmRpbmcgdG8gdGV4dHVyZSBmb3JtYXRcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIGNvcnJlY3RCbGVuZE1vZGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBibGVuZE1vZGUgLSBzdXBwb3NlZCBibGVuZCBtb2RlXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHByZW11bHRpcGxpZWQgLSB3aGV0aGVyIHNvdXJjZSBpcyBwcmVtdWx0aXBsaWVkXG4gKiBAcmV0dXJucyB7bnVtYmVyfSB0cnVlIGJsZW5kIG1vZGUgZm9yIHRoaXMgdGV4dHVyZVxuICovXG5leHBvcnQgZnVuY3Rpb24gY29ycmVjdEJsZW5kTW9kZShibGVuZE1vZGU6IG51bWJlciwgcHJlbXVsdGlwbGllZDogYm9vbGVhbik6IG51bWJlclxue1xuICAgIHJldHVybiBwcmVtdWx0aXBseUJsZW5kTW9kZVtwcmVtdWx0aXBsaWVkID8gMSA6IDBdW2JsZW5kTW9kZV07XG59XG5cbi8qKlxuICogY29tYmluZXMgcmdiIGFuZCBhbHBoYSB0byBvdXQgYXJyYXlcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIHByZW11bHRpcGx5UmdiYVxuICogQHBhcmFtIHtGbG9hdDMyQXJyYXl8bnVtYmVyW119IHJnYiAtIGlucHV0IHJnYlxuICogQHBhcmFtIHtudW1iZXJ9IGFscGhhIC0gYWxwaGEgcGFyYW1cbiAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSBbb3V0XSAtIG91dHB1dFxuICogQHBhcmFtIHtib29sZWFufSBbcHJlbXVsdGlwbHk9dHJ1ZV0gLSBkbyBwcmVtdWx0aXBseSBpdFxuICogQHJldHVybnMge0Zsb2F0MzJBcnJheX0gdmVjNCByZ2JhXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwcmVtdWx0aXBseVJnYmEoXG4gICAgcmdiOiBGbG9hdDMyQXJyYXl8bnVtYmVyW10sXG4gICAgYWxwaGE6IG51bWJlcixcbiAgICBvdXQ6IEZsb2F0MzJBcnJheSxcbiAgICBwcmVtdWx0aXBseTogYm9vbGVhblxuKTogRmxvYXQzMkFycmF5XG57XG4gICAgb3V0ID0gb3V0IHx8IG5ldyBGbG9hdDMyQXJyYXkoNCk7XG4gICAgaWYgKHByZW11bHRpcGx5IHx8IHByZW11bHRpcGx5ID09PSB1bmRlZmluZWQpXG4gICAge1xuICAgICAgICBvdXRbMF0gPSByZ2JbMF0gKiBhbHBoYTtcbiAgICAgICAgb3V0WzFdID0gcmdiWzFdICogYWxwaGE7XG4gICAgICAgIG91dFsyXSA9IHJnYlsyXSAqIGFscGhhO1xuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICBvdXRbMF0gPSByZ2JbMF07XG4gICAgICAgIG91dFsxXSA9IHJnYlsxXTtcbiAgICAgICAgb3V0WzJdID0gcmdiWzJdO1xuICAgIH1cbiAgICBvdXRbM10gPSBhbHBoYTtcblxuICAgIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogcHJlbXVsdGlwbGllcyB0aW50XG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBwcmVtdWx0aXBseVRpbnRcbiAqIEBwYXJhbSB7bnVtYmVyfSB0aW50IC0gaW50ZWdlciBSR0JcbiAqIEBwYXJhbSB7bnVtYmVyfSBhbHBoYSAtIGZsb2F0aW5nIHBvaW50IGFscGhhICgwLjAtMS4wKVxuICogQHJldHVybnMge251bWJlcn0gdGludCBtdWx0aXBsaWVkIGJ5IGFscGhhXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwcmVtdWx0aXBseVRpbnQodGludDogbnVtYmVyLCBhbHBoYTogbnVtYmVyKTogbnVtYmVyXG57XG4gICAgaWYgKGFscGhhID09PSAxLjApXG4gICAge1xuICAgICAgICByZXR1cm4gKGFscGhhICogMjU1IDw8IDI0KSArIHRpbnQ7XG4gICAgfVxuICAgIGlmIChhbHBoYSA9PT0gMC4wKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIGxldCBSID0gKCh0aW50ID4+IDE2KSAmIDB4RkYpO1xuICAgIGxldCBHID0gKCh0aW50ID4+IDgpICYgMHhGRik7XG4gICAgbGV0IEIgPSAodGludCAmIDB4RkYpO1xuXG4gICAgUiA9ICgoUiAqIGFscGhhKSArIDAuNSkgfCAwO1xuICAgIEcgPSAoKEcgKiBhbHBoYSkgKyAwLjUpIHwgMDtcbiAgICBCID0gKChCICogYWxwaGEpICsgMC41KSB8IDA7XG5cbiAgICByZXR1cm4gKGFscGhhICogMjU1IDw8IDI0KSArIChSIDw8IDE2KSArIChHIDw8IDgpICsgQjtcbn1cblxuLyoqXG4gKiBjb252ZXJ0cyBpbnRlZ2VyIHRpbnQgYW5kIGZsb2F0IGFscGhhIHRvIHZlYzQgZm9ybSwgcHJlbXVsdGlwbGllcyBieSBkZWZhdWx0XG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBwcmVtdWx0aXBseVRpbnRUb1JnYmFcbiAqIEBwYXJhbSB7bnVtYmVyfSB0aW50IC0gaW5wdXQgdGludFxuICogQHBhcmFtIHtudW1iZXJ9IGFscGhhIC0gYWxwaGEgcGFyYW1cbiAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSBbb3V0XSBvdXRwdXRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3ByZW11bHRpcGx5PXRydWVdIC0gZG8gcHJlbXVsdGlwbHkgaXRcbiAqIEByZXR1cm5zIHtGbG9hdDMyQXJyYXl9IHZlYzQgcmdiYVxuICovXG5leHBvcnQgZnVuY3Rpb24gcHJlbXVsdGlwbHlUaW50VG9SZ2JhKHRpbnQ6IG51bWJlciwgYWxwaGE6IG51bWJlciwgb3V0OiBGbG9hdDMyQXJyYXksIHByZW11bHRpcGx5OiBib29sZWFuKTogRmxvYXQzMkFycmF5XG57XG4gICAgb3V0ID0gb3V0IHx8IG5ldyBGbG9hdDMyQXJyYXkoNCk7XG4gICAgb3V0WzBdID0gKCh0aW50ID4+IDE2KSAmIDB4RkYpIC8gMjU1LjA7XG4gICAgb3V0WzFdID0gKCh0aW50ID4+IDgpICYgMHhGRikgLyAyNTUuMDtcbiAgICBvdXRbMl0gPSAodGludCAmIDB4RkYpIC8gMjU1LjA7XG4gICAgaWYgKHByZW11bHRpcGx5IHx8IHByZW11bHRpcGx5ID09PSB1bmRlZmluZWQpXG4gICAge1xuICAgICAgICBvdXRbMF0gKj0gYWxwaGE7XG4gICAgICAgIG91dFsxXSAqPSBhbHBoYTtcbiAgICAgICAgb3V0WzJdICo9IGFscGhhO1xuICAgIH1cbiAgICBvdXRbM10gPSBhbHBoYTtcblxuICAgIHJldHVybiBvdXQ7XG59XG4iLCIvKipcbiAqIEdlbmVyaWMgTWFzayBTdGFjayBkYXRhIHN0cnVjdHVyZVxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gY3JlYXRlSW5kaWNlc0ZvclF1YWRzXG4gKiBAcGFyYW0ge251bWJlcn0gc2l6ZSAtIE51bWJlciBvZiBxdWFkc1xuICogQHBhcmFtIHtVaW50MTZBcnJheXxVaW50MzJBcnJheX0gW291dEJ1ZmZlcl0gLSBCdWZmZXIgZm9yIG91dHB1dCwgbGVuZ3RoIGhhcyB0byBiZSBgNiAqIHNpemVgXG4gKiBAcmV0dXJuIHtVaW50MTZBcnJheXxVaW50MzJBcnJheX0gLSBSZXN1bHRpbmcgaW5kZXggYnVmZmVyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVJbmRpY2VzRm9yUXVhZHMoc2l6ZTogbnVtYmVyLCBvdXRCdWZmZXI6IFVpbnQxNkFycmF5fFVpbnQzMkFycmF5ID0gbnVsbCk6IFVpbnQxNkFycmF5fFVpbnQzMkFycmF5XG57XG4gICAgLy8gdGhlIHRvdGFsIG51bWJlciBvZiBpbmRpY2VzIGluIG91ciBhcnJheSwgdGhlcmUgYXJlIDYgcG9pbnRzIHBlciBxdWFkLlxuICAgIGNvbnN0IHRvdGFsSW5kaWNlcyA9IHNpemUgKiA2O1xuXG4gICAgb3V0QnVmZmVyID0gb3V0QnVmZmVyIHx8IG5ldyBVaW50MTZBcnJheSh0b3RhbEluZGljZXMpO1xuXG4gICAgaWYgKG91dEJ1ZmZlci5sZW5ndGggIT09IHRvdGFsSW5kaWNlcylcbiAgICB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgT3V0IGJ1ZmZlciBsZW5ndGggaXMgaW5jb3JyZWN0LCBnb3QgJHtvdXRCdWZmZXIubGVuZ3RofSBhbmQgZXhwZWN0ZWQgJHt0b3RhbEluZGljZXN9YCk7XG4gICAgfVxuXG4gICAgLy8gZmlsbCB0aGUgaW5kaWNlcyB3aXRoIHRoZSBxdWFkcyB0byBkcmF3XG4gICAgZm9yIChsZXQgaSA9IDAsIGogPSAwOyBpIDwgdG90YWxJbmRpY2VzOyBpICs9IDYsIGogKz0gNClcbiAgICB7XG4gICAgICAgIG91dEJ1ZmZlcltpICsgMF0gPSBqICsgMDtcbiAgICAgICAgb3V0QnVmZmVyW2kgKyAxXSA9IGogKyAxO1xuICAgICAgICBvdXRCdWZmZXJbaSArIDJdID0gaiArIDI7XG4gICAgICAgIG91dEJ1ZmZlcltpICsgM10gPSBqICsgMDtcbiAgICAgICAgb3V0QnVmZmVyW2kgKyA0XSA9IGogKyAyO1xuICAgICAgICBvdXRCdWZmZXJbaSArIDVdID0gaiArIDM7XG4gICAgfVxuXG4gICAgcmV0dXJuIG91dEJ1ZmZlcjtcbn1cbiIsImltcG9ydCB0eXBlIHsgSVR5cGVkQXJyYXkgfSBmcm9tICdAcGl4aS9jb3JlJztcblxuZXhwb3J0IGZ1bmN0aW9uIGdldEJ1ZmZlclR5cGUoYXJyYXk6IElUeXBlZEFycmF5KTogJ0Zsb2F0MzJBcnJheSd8J1VpbnQzMkFycmF5J3wnSW50MzJBcnJheSd8J1VpbnQxNkFycmF5J3wnVWludDhBcnJheSd8bnVsbFxue1xuICAgIGlmIChhcnJheS5CWVRFU19QRVJfRUxFTUVOVCA9PT0gNClcbiAgICB7XG4gICAgICAgIGlmIChhcnJheSBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuICdGbG9hdDMyQXJyYXknO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGFycmF5IGluc3RhbmNlb2YgVWludDMyQXJyYXkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiAnVWludDMyQXJyYXknO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICdJbnQzMkFycmF5JztcbiAgICB9XG4gICAgZWxzZSBpZiAoYXJyYXkuQllURVNfUEVSX0VMRU1FTlQgPT09IDIpXG4gICAge1xuICAgICAgICBpZiAoYXJyYXkgaW5zdGFuY2VvZiBVaW50MTZBcnJheSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuICdVaW50MTZBcnJheSc7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoYXJyYXkuQllURVNfUEVSX0VMRU1FTlQgPT09IDEpXG4gICAge1xuICAgICAgICBpZiAoYXJyYXkgaW5zdGFuY2VvZiBVaW50OEFycmF5KVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gJ1VpbnQ4QXJyYXknO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gVE9ETyBtYXAgb3V0IHRoZSByZXN0IG9mIHRoZSBhcnJheSBlbGVtZW50cyFcbiAgICByZXR1cm4gbnVsbDtcbn1cbiIsImltcG9ydCB7IGdldEJ1ZmZlclR5cGUgfSBmcm9tICcuL2dldEJ1ZmZlclR5cGUnO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBvYmplY3Qtc2hvcnRoYW5kICovXG5jb25zdCBtYXAgPSB7IEZsb2F0MzJBcnJheTogRmxvYXQzMkFycmF5LCBVaW50MzJBcnJheTogVWludDMyQXJyYXksIEludDMyQXJyYXk6IEludDMyQXJyYXksIFVpbnQ4QXJyYXk6IFVpbnQ4QXJyYXkgfTtcblxudHlwZSBQYWNrZWRBcnJheSA9IEZsb2F0MzJBcnJheXxVaW50MzJBcnJheXxJbnQzMkFycmF5fFVpbnQ4QXJyYXk7XG5cbmV4cG9ydCBmdW5jdGlvbiBpbnRlcmxlYXZlVHlwZWRBcnJheXMoYXJyYXlzOiBQYWNrZWRBcnJheVtdLCBzaXplczogbnVtYmVyW10pOiBGbG9hdDMyQXJyYXlcbntcbiAgICBsZXQgb3V0U2l6ZSA9IDA7XG4gICAgbGV0IHN0cmlkZSA9IDA7XG4gICAgY29uc3Qgdmlld3M6IHtba2V5OiBzdHJpbmddOiBQYWNrZWRBcnJheX0gPSB7fTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyYXlzLmxlbmd0aDsgaSsrKVxuICAgIHtcbiAgICAgICAgc3RyaWRlICs9IHNpemVzW2ldO1xuICAgICAgICBvdXRTaXplICs9IGFycmF5c1tpXS5sZW5ndGg7XG4gICAgfVxuXG4gICAgY29uc3QgYnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKG91dFNpemUgKiA0KTtcblxuICAgIGxldCBvdXQgPSBudWxsO1xuICAgIGxldCBsaXR0bGVPZmZzZXQgPSAwO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheXMubGVuZ3RoOyBpKyspXG4gICAge1xuICAgICAgICBjb25zdCBzaXplID0gc2l6ZXNbaV07XG4gICAgICAgIGNvbnN0IGFycmF5ID0gYXJyYXlzW2ldO1xuXG4gICAgICAgIC8qXG4gICAgICAgIEB0b2RvIFRoaXMgaXMgdW5zYWZlIGNhc3RpbmcgYnV0IGNvbnNpc3RlbnQgd2l0aCBob3cgdGhlIGNvZGUgd29ya2VkIHByZXZpb3VzbHkuIFNob3VsZCBpdCBzdGF5IHRoaXMgd2F5XG4gICAgICAgICAgICAgIG9yIHNob3VsZCBhbmQgYGdldEJ1ZmZlclR5cGVVbnNhZmVgIGZ1bmN0aW9uIGJlIGV4cG9zZWQgdGhhdCB0aHJvd3MgYW4gRXJyb3IgaWYgdW5zdXBwb3J0ZWQgdHlwZSBpcyBwYXNzZWQ/XG4gICAgICAgICAqL1xuICAgICAgICBjb25zdCB0eXBlID0gZ2V0QnVmZmVyVHlwZShhcnJheSkgYXMga2V5b2YgdHlwZW9mIG1hcDtcblxuICAgICAgICBpZiAoIXZpZXdzW3R5cGVdKVxuICAgICAgICB7XG4gICAgICAgICAgICB2aWV3c1t0eXBlXSA9IG5ldyBtYXBbdHlwZV0oYnVmZmVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG91dCA9IHZpZXdzW3R5cGVdO1xuXG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgYXJyYXkubGVuZ3RoOyBqKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4U3RhcnQgPSAoKGogLyBzaXplIHwgMCkgKiBzdHJpZGUpICsgbGl0dGxlT2Zmc2V0O1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBqICUgc2l6ZTtcblxuICAgICAgICAgICAgb3V0W2luZGV4U3RhcnQgKyBpbmRleF0gPSBhcnJheVtqXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxpdHRsZU9mZnNldCArPSBzaXplO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KGJ1ZmZlcik7XG59XG4iLCIvLyBUYWtlbiBmcm9tIHRoZSBiaXQtdHdpZGRsZSBwYWNrYWdlXG5cbi8qKlxuICogUm91bmRzIHRvIG5leHQgcG93ZXIgb2YgdHdvLlxuICpcbiAqIEBmdW5jdGlvbiBuZXh0UG93MlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBwYXJhbSB7bnVtYmVyfSB2IC0gaW5wdXQgdmFsdWVcbiAqIEByZXR1cm4ge251bWJlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5leHRQb3cyKHY6IG51bWJlcik6IG51bWJlclxue1xuICAgIHYgKz0gdiA9PT0gMCA/IDEgOiAwO1xuICAgIC0tdjtcbiAgICB2IHw9IHYgPj4+IDE7XG4gICAgdiB8PSB2ID4+PiAyO1xuICAgIHYgfD0gdiA+Pj4gNDtcbiAgICB2IHw9IHYgPj4+IDg7XG4gICAgdiB8PSB2ID4+PiAxNjtcblxuICAgIHJldHVybiB2ICsgMTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBudW1iZXIgaXMgYSBwb3dlciBvZiB0d28uXG4gKlxuICogQGZ1bmN0aW9uIGlzUG93MlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBwYXJhbSB7bnVtYmVyfSB2IC0gaW5wdXQgdmFsdWVcbiAqIEByZXR1cm4ge2Jvb2xlYW59IGB0cnVlYCBpZiB2YWx1ZSBpcyBwb3dlciBvZiB0d29cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzUG93Mih2OiBudW1iZXIpOiBib29sZWFuXG57XG4gICAgcmV0dXJuICEodiAmICh2IC0gMSkpICYmICghIXYpO1xufVxuXG4vKipcbiAqIENvbXB1dGVzIGNlaWwgb2YgbG9nIGJhc2UgMlxuICpcbiAqIEBmdW5jdGlvbiBsb2cyXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQHBhcmFtIHtudW1iZXJ9IHYgLSBpbnB1dCB2YWx1ZVxuICogQHJldHVybiB7bnVtYmVyfSBsb2dhcml0aG0gYmFzZSAyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsb2cyKHY6IG51bWJlcik6IG51bWJlclxue1xuICAgIGxldCByID0gKHYgPiAweEZGRkYgPyAxIDogMCkgPDwgNDtcblxuICAgIHYgPj4+PSByO1xuXG4gICAgbGV0IHNoaWZ0ID0gKHYgPiAweEZGID8gMSA6IDApIDw8IDM7XG5cbiAgICB2ID4+Pj0gc2hpZnQ7IHIgfD0gc2hpZnQ7XG4gICAgc2hpZnQgPSAodiA+IDB4RiA/IDEgOiAwKSA8PCAyO1xuICAgIHYgPj4+PSBzaGlmdDsgciB8PSBzaGlmdDtcbiAgICBzaGlmdCA9ICh2ID4gMHgzID8gMSA6IDApIDw8IDE7XG4gICAgdiA+Pj49IHNoaWZ0OyByIHw9IHNoaWZ0O1xuXG4gICAgcmV0dXJuIHIgfCAodiA+PiAxKTtcbn1cbiIsIi8qKlxuICogUmVtb3ZlIGl0ZW1zIGZyb20gYSBqYXZhc2NyaXB0IGFycmF5IHdpdGhvdXQgZ2VuZXJhdGluZyBnYXJiYWdlXG4gKlxuICogQGZ1bmN0aW9uIHJlbW92ZUl0ZW1zXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQHBhcmFtIHtBcnJheTxhbnk+fSBhcnIgLSBBcnJheSB0byByZW1vdmUgZWxlbWVudHMgZnJvbVxuICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0SWR4IC0gc3RhcnRpbmcgaW5kZXhcbiAqIEBwYXJhbSB7bnVtYmVyfSByZW1vdmVDb3VudCAtIGhvdyBtYW55IHRvIHJlbW92ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlSXRlbXMoYXJyOiBhbnlbXSwgc3RhcnRJZHg6IG51bWJlciwgcmVtb3ZlQ291bnQ6IG51bWJlcik6IHZvaWRcbntcbiAgICBjb25zdCBsZW5ndGggPSBhcnIubGVuZ3RoO1xuICAgIGxldCBpO1xuXG4gICAgaWYgKHN0YXJ0SWR4ID49IGxlbmd0aCB8fCByZW1vdmVDb3VudCA9PT0gMClcbiAgICB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICByZW1vdmVDb3VudCA9IChzdGFydElkeCArIHJlbW92ZUNvdW50ID4gbGVuZ3RoID8gbGVuZ3RoIC0gc3RhcnRJZHggOiByZW1vdmVDb3VudCk7XG5cbiAgICBjb25zdCBsZW4gPSBsZW5ndGggLSByZW1vdmVDb3VudDtcblxuICAgIGZvciAoaSA9IHN0YXJ0SWR4OyBpIDwgbGVuOyArK2kpXG4gICAge1xuICAgICAgICBhcnJbaV0gPSBhcnJbaSArIHJlbW92ZUNvdW50XTtcbiAgICB9XG5cbiAgICBhcnIubGVuZ3RoID0gbGVuO1xufVxuIiwiLyoqXG4gKiBSZXR1cm5zIHNpZ24gb2YgbnVtYmVyXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBzaWduXG4gKiBAcGFyYW0ge251bWJlcn0gbiAtIHRoZSBudW1iZXIgdG8gY2hlY2sgdGhlIHNpZ24gb2ZcbiAqIEByZXR1cm5zIHtudW1iZXJ9IDAgaWYgYG5gIGlzIDAsIC0xIGlmIGBuYCBpcyBuZWdhdGl2ZSwgMSBpZiBgbmAgaXMgcG9zaXRpdmVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNpZ24objogbnVtYmVyKTogLTF8MHwxXG57XG4gICAgaWYgKG4gPT09IDApIHJldHVybiAwO1xuXG4gICAgcmV0dXJuIG4gPCAwID8gLTEgOiAxO1xufVxuIiwibGV0IG5leHRVaWQgPSAwO1xuXG4vKipcbiAqIEdldHMgdGhlIG5leHQgdW5pcXVlIGlkZW50aWZpZXJcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIHVpZFxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgbmV4dCB1bmlxdWUgaWRlbnRpZmllciB0byB1c2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1aWQoKTogbnVtYmVyXG57XG4gICAgcmV0dXJuICsrbmV4dFVpZDtcbn1cbiIsImltcG9ydCB0eXBlIHsgRGljdCB9IGZyb20gJy4uL3R5cGVzJztcblxuLy8gQSBtYXAgb2Ygd2FybmluZyBtZXNzYWdlcyBhbHJlYWR5IGZpcmVkXG5jb25zdCB3YXJuaW5nczogRGljdDxib29sZWFuPiA9IHt9O1xuXG4vKipcbiAqIEhlbHBlciBmb3Igd2FybmluZyBkZXZlbG9wZXJzIGFib3V0IGRlcHJlY2F0ZWQgZmVhdHVyZXMgJiBzZXR0aW5ncy5cbiAqIEEgc3RhY2sgdHJhY2sgZm9yIHdhcm5pbmdzIGlzIGdpdmVuOyB1c2VmdWwgZm9yIHRyYWNraW5nLWRvd24gd2hlcmVcbiAqIGRlcHJlY2F0ZWQgbWV0aG9kcy9wcm9wZXJ0aWVzL2NsYXNzZXMgYXJlIGJlaW5nIHVzZWQgd2l0aGluIHRoZSBjb2RlLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gZGVwcmVjYXRpb25cbiAqIEBwYXJhbSB7c3RyaW5nfSB2ZXJzaW9uIC0gVGhlIHZlcnNpb24gd2hlcmUgdGhlIGZlYXR1cmUgYmVjYW1lIGRlcHJlY2F0ZWRcbiAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlIC0gTWVzc2FnZSBzaG91bGQgaW5jbHVkZSB3aGF0IGlzIGRlcHJlY2F0ZWQsIHdoZXJlLCBhbmQgdGhlIG5ldyBzb2x1dGlvblxuICogQHBhcmFtIHtudW1iZXJ9IFtpZ25vcmVEZXB0aD0zXSAtIFRoZSBudW1iZXIgb2Ygc3RlcHMgdG8gaWdub3JlIGF0IHRoZSB0b3Agb2YgdGhlIGVycm9yIHN0YWNrXG4gKiAgICAgICAgdGhpcyBpcyBtb3N0bHkgdG8gaWdub3JlIGludGVybmFsIGRlcHJlY2F0aW9uIGNhbGxzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVwcmVjYXRpb24odmVyc2lvbjogc3RyaW5nLCBtZXNzYWdlOiBzdHJpbmcsIGlnbm9yZURlcHRoID0gMyk6IHZvaWRcbntcbiAgICAvLyBJZ25vcmUgZHVwbGljYXRcbiAgICBpZiAod2FybmluZ3NbbWVzc2FnZV0pXG4gICAge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqL1xuICAgIGxldCBzdGFjayA9IG5ldyBFcnJvcigpLnN0YWNrO1xuXG4gICAgLy8gSGFuZGxlIElFIDwgMTAgYW5kIFNhZmFyaSA8IDZcbiAgICBpZiAodHlwZW9mIHN0YWNrID09PSAndW5kZWZpbmVkJylcbiAgICB7XG4gICAgICAgIGNvbnNvbGUud2FybignUGl4aUpTIERlcHJlY2F0aW9uIFdhcm5pbmc6ICcsIGAke21lc3NhZ2V9XFxuRGVwcmVjYXRlZCBzaW5jZSB2JHt2ZXJzaW9ufWApO1xuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICAvLyBjaG9wIG9mZiB0aGUgc3RhY2sgdHJhY2Ugd2hpY2ggaW5jbHVkZXMgUGl4aUpTIGludGVybmFsIGNhbGxzXG4gICAgICAgIHN0YWNrID0gc3RhY2suc3BsaXQoJ1xcbicpLnNwbGljZShpZ25vcmVEZXB0aCkuam9pbignXFxuJyk7XG5cbiAgICAgICAgaWYgKGNvbnNvbGUuZ3JvdXBDb2xsYXBzZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZ3JvdXBDb2xsYXBzZWQoXG4gICAgICAgICAgICAgICAgJyVjUGl4aUpTIERlcHJlY2F0aW9uIFdhcm5pbmc6ICVjJXMnLFxuICAgICAgICAgICAgICAgICdjb2xvcjojNjE0MTA4O2JhY2tncm91bmQ6I2ZmZmJlNicsXG4gICAgICAgICAgICAgICAgJ2ZvbnQtd2VpZ2h0Om5vcm1hbDtjb2xvcjojNjE0MTA4O2JhY2tncm91bmQ6I2ZmZmJlNicsXG4gICAgICAgICAgICAgICAgYCR7bWVzc2FnZX1cXG5EZXByZWNhdGVkIHNpbmNlIHYke3ZlcnNpb259YFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihzdGFjayk7XG4gICAgICAgICAgICBjb25zb2xlLmdyb3VwRW5kKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1BpeGlKUyBEZXByZWNhdGlvbiBXYXJuaW5nOiAnLCBgJHttZXNzYWdlfVxcbkRlcHJlY2F0ZWQgc2luY2UgdiR7dmVyc2lvbn1gKTtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihzdGFjayk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyogZXNsaW50LWVuYWJsZSBuby1jb25zb2xlICovXG5cbiAgICB3YXJuaW5nc1ttZXNzYWdlXSA9IHRydWU7XG59XG4iLCJpbXBvcnQgdHlwZSB7IFByb2dyYW0sIFRleHR1cmUsIEJhc2VUZXh0dXJlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5cbi8qKlxuICogQHRvZG8gRGVzY3JpYmUgcHJvcGVydHkgdXNhZ2VcbiAqXG4gKiBAc3RhdGljXG4gKiBAbmFtZSBQcm9ncmFtQ2FjaGVcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAdHlwZSB7T2JqZWN0fVxuICovXG5leHBvcnQgY29uc3QgUHJvZ3JhbUNhY2hlOiB7W2tleTogc3RyaW5nXTogUHJvZ3JhbX0gPSB7fTtcblxuLyoqXG4gKiBAdG9kbyBEZXNjcmliZSBwcm9wZXJ0eSB1c2FnZVxuICpcbiAqIEBzdGF0aWNcbiAqIEBuYW1lIFRleHR1cmVDYWNoZVxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEB0eXBlIHtPYmplY3R9XG4gKi9cbmV4cG9ydCBjb25zdCBUZXh0dXJlQ2FjaGU6IHtba2V5OiBzdHJpbmddOiBUZXh0dXJlfSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cbi8qKlxuICogQHRvZG8gRGVzY3JpYmUgcHJvcGVydHkgdXNhZ2VcbiAqXG4gKiBAc3RhdGljXG4gKiBAbmFtZSBCYXNlVGV4dHVyZUNhY2hlXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQHR5cGUge09iamVjdH1cbiAqL1xuZXhwb3J0IGNvbnN0IEJhc2VUZXh0dXJlQ2FjaGU6IHtba2V5OiBzdHJpbmddOiBCYXNlVGV4dHVyZX0gPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG4vKipcbiAqIERlc3Ryb3lzIGFsbCB0ZXh0dXJlIGluIHRoZSBjYWNoZVxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gZGVzdHJveVRleHR1cmVDYWNoZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVzdHJveVRleHR1cmVDYWNoZSgpOiB2b2lkXG57XG4gICAgbGV0IGtleTtcblxuICAgIGZvciAoa2V5IGluIFRleHR1cmVDYWNoZSlcbiAgICB7XG4gICAgICAgIFRleHR1cmVDYWNoZVtrZXldLmRlc3Ryb3koKTtcbiAgICB9XG4gICAgZm9yIChrZXkgaW4gQmFzZVRleHR1cmVDYWNoZSlcbiAgICB7XG4gICAgICAgIEJhc2VUZXh0dXJlQ2FjaGVba2V5XS5kZXN0cm95KCk7XG4gICAgfVxufVxuXG4vKipcbiAqIFJlbW92ZXMgYWxsIHRleHR1cmVzIGZyb20gY2FjaGUsIGJ1dCBkb2VzIG5vdCBkZXN0cm95IHRoZW1cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIGNsZWFyVGV4dHVyZUNhY2hlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbGVhclRleHR1cmVDYWNoZSgpOiB2b2lkXG57XG4gICAgbGV0IGtleTtcblxuICAgIGZvciAoa2V5IGluIFRleHR1cmVDYWNoZSlcbiAgICB7XG4gICAgICAgIGRlbGV0ZSBUZXh0dXJlQ2FjaGVba2V5XTtcbiAgICB9XG4gICAgZm9yIChrZXkgaW4gQmFzZVRleHR1cmVDYWNoZSlcbiAgICB7XG4gICAgICAgIGRlbGV0ZSBCYXNlVGV4dHVyZUNhY2hlW2tleV07XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5cbi8qKlxuICogQ3JlYXRlcyBhIENhbnZhcyBlbGVtZW50IG9mIHRoZSBnaXZlbiBzaXplIHRvIGJlIHVzZWQgYXMgYSB0YXJnZXQgZm9yIHJlbmRlcmluZyB0by5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKi9cbmV4cG9ydCBjbGFzcyBDYW52YXNSZW5kZXJUYXJnZXRcbntcbiAgICBwdWJsaWMgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudDtcblxuICAgIHB1YmxpYyBjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XG5cbiAgICBwdWJsaWMgcmVzb2x1dGlvbjogbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gdGhlIHdpZHRoIGZvciB0aGUgbmV3bHkgY3JlYXRlZCBjYW52YXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gdGhlIGhlaWdodCBmb3IgdGhlIG5ld2x5IGNyZWF0ZWQgY2FudmFzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyZXNvbHV0aW9uPTFdIC0gVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIGNhbnZhc1xuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyLCByZXNvbHV0aW9uOiBudW1iZXIpXG4gICAge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIENhbnZhcyBvYmplY3QgdGhhdCBiZWxvbmdzIHRvIHRoaXMgQ2FudmFzUmVuZGVyVGFyZ2V0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtIVE1MQ2FudmFzRWxlbWVudH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEIG9iamVjdCByZXByZXNlbnRpbmcgYSB0d28tZGltZW5zaW9uYWwgcmVuZGVyaW5nIGNvbnRleHQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY29udGV4dCA9IHRoaXMuY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbiAgICAgICAgdGhpcy5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbiB8fCBzZXR0aW5ncy5SRVNPTFVUSU9OO1xuXG4gICAgICAgIHRoaXMucmVzaXplKHdpZHRoLCBoZWlnaHQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENsZWFycyB0aGUgY2FudmFzIHRoYXQgd2FzIGNyZWF0ZWQgYnkgdGhlIENhbnZhc1JlbmRlclRhcmdldCBjbGFzcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgY2xlYXIoKTogdm9pZFxuICAgIHtcbiAgICAgICAgdGhpcy5jb250ZXh0LnNldFRyYW5zZm9ybSgxLCAwLCAwLCAxLCAwLCAwKTtcbiAgICAgICAgdGhpcy5jb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB0aGlzLmNhbnZhcy53aWR0aCwgdGhpcy5jYW52YXMuaGVpZ2h0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXNpemVzIHRoZSBjYW52YXMgdG8gdGhlIHNwZWNpZmllZCB3aWR0aCBhbmQgaGVpZ2h0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gdGhlIG5ldyB3aWR0aCBvZiB0aGUgY2FudmFzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIHRoZSBuZXcgaGVpZ2h0IG9mIHRoZSBjYW52YXNcbiAgICAgKi9cbiAgICByZXNpemUod2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpOiB2b2lkXG4gICAge1xuICAgICAgICB0aGlzLmNhbnZhcy53aWR0aCA9IHdpZHRoICogdGhpcy5yZXNvbHV0aW9uO1xuICAgICAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSBoZWlnaHQgKiB0aGlzLnJlc29sdXRpb247XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyBjYW52YXMuXG4gICAgICpcbiAgICAgKi9cbiAgICBkZXN0cm95KCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IG51bGw7XG4gICAgICAgIHRoaXMuY2FudmFzID0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgd2lkdGggb2YgdGhlIGNhbnZhcyBidWZmZXIgaW4gcGl4ZWxzLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIGdldCB3aWR0aCgpOiBudW1iZXJcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbnZhcy53aWR0aDtcbiAgICB9XG5cbiAgICBzZXQgd2lkdGgodmFsOiBudW1iZXIpXG4gICAge1xuICAgICAgICB0aGlzLmNhbnZhcy53aWR0aCA9IHZhbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBjYW52YXMgYnVmZmVyIGluIHBpeGVscy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgaGVpZ2h0KCk6IG51bWJlclxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FudmFzLmhlaWdodDtcbiAgICB9XG5cbiAgICBzZXQgaGVpZ2h0KHZhbDogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gdmFsO1xuICAgIH1cbn1cbiIsImludGVyZmFjZSBJbnNldCB7XG4gICAgdG9wPzogbnVtYmVyO1xuICAgIGxlZnQ/OiBudW1iZXI7XG4gICAgcmlnaHQ/OiBudW1iZXI7XG4gICAgYm90dG9tPzogbnVtYmVyO1xufVxuXG4vKipcbiAqIFRyaW0gdHJhbnNwYXJlbnQgYm9yZGVycyBmcm9tIGEgY2FudmFzXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiB0cmltQ2FudmFzXG4gKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBjYW52YXMgLSB0aGUgY2FudmFzIHRvIHRyaW1cbiAqIEByZXR1cm5zIHtvYmplY3R9IFRyaW0gZGF0YVxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJpbUNhbnZhcyhjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50KToge3dpZHRoOiBudW1iZXI7IGhlaWdodDogbnVtYmVyOyBkYXRhPzogSW1hZ2VEYXRhfVxue1xuICAgIC8vIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL3JlbXkvNzg0NTA4XG5cbiAgICBsZXQgd2lkdGggPSBjYW52YXMud2lkdGg7XG4gICAgbGV0IGhlaWdodCA9IGNhbnZhcy5oZWlnaHQ7XG5cbiAgICBjb25zdCBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgY29uc3QgaW1hZ2VEYXRhID0gY29udGV4dC5nZXRJbWFnZURhdGEoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG4gICAgY29uc3QgcGl4ZWxzID0gaW1hZ2VEYXRhLmRhdGE7XG4gICAgY29uc3QgbGVuID0gcGl4ZWxzLmxlbmd0aDtcblxuICAgIGNvbnN0IGJvdW5kOiBJbnNldCA9IHtcbiAgICAgICAgdG9wOiBudWxsLFxuICAgICAgICBsZWZ0OiBudWxsLFxuICAgICAgICByaWdodDogbnVsbCxcbiAgICAgICAgYm90dG9tOiBudWxsLFxuICAgIH07XG4gICAgbGV0IGRhdGEgPSBudWxsO1xuICAgIGxldCBpO1xuICAgIGxldCB4O1xuICAgIGxldCB5O1xuXG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSArPSA0KVxuICAgIHtcbiAgICAgICAgaWYgKHBpeGVsc1tpICsgM10gIT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHggPSAoaSAvIDQpICUgd2lkdGg7XG4gICAgICAgICAgICB5ID0gfn4oKGkgLyA0KSAvIHdpZHRoKTtcblxuICAgICAgICAgICAgaWYgKGJvdW5kLnRvcCA9PT0gbnVsbClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBib3VuZC50b3AgPSB5O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoYm91bmQubGVmdCA9PT0gbnVsbClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBib3VuZC5sZWZ0ID0geDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHggPCBib3VuZC5sZWZ0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGJvdW5kLmxlZnQgPSB4O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoYm91bmQucmlnaHQgPT09IG51bGwpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYm91bmQucmlnaHQgPSB4ICsgMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGJvdW5kLnJpZ2h0IDwgeClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBib3VuZC5yaWdodCA9IHggKyAxO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoYm91bmQuYm90dG9tID09PSBudWxsKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGJvdW5kLmJvdHRvbSA9IHk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChib3VuZC5ib3R0b20gPCB5KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGJvdW5kLmJvdHRvbSA9IHk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoYm91bmQudG9wICE9PSBudWxsKVxuICAgIHtcbiAgICAgICAgd2lkdGggPSBib3VuZC5yaWdodCAtIGJvdW5kLmxlZnQ7XG4gICAgICAgIGhlaWdodCA9IGJvdW5kLmJvdHRvbSAtIGJvdW5kLnRvcCArIDE7XG4gICAgICAgIGRhdGEgPSBjb250ZXh0LmdldEltYWdlRGF0YShib3VuZC5sZWZ0LCBib3VuZC50b3AsIHdpZHRoLCBoZWlnaHQpO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIGhlaWdodCxcbiAgICAgICAgd2lkdGgsXG4gICAgICAgIGRhdGEsXG4gICAgfTtcbn1cbiIsIi8qKlxuICogUmVnZXhwIGZvciBkYXRhIFVSSS5cbiAqIEJhc2VkIG9uOiB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL3JhZ2luZ3dpbmQvZGF0YS11cmktcmVnZXh9XG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50IHtSZWdFeHB8c3RyaW5nfSBEQVRBX1VSSVxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBleGFtcGxlIGRhdGE6aW1hZ2UvcG5nO2Jhc2U2NFxuICovXG5leHBvcnQgY29uc3QgREFUQV9VUkkgPSAvXlxccypkYXRhOig/OihbXFx3LV0rKVxcLyhbXFx3Ky4tXSspKT8oPzo7Y2hhcnNldD0oW1xcdy1dKykpPyg/OjsoYmFzZTY0KSk/LCguKikvaTtcbiIsImltcG9ydCAqIGFzIF91cmwgZnJvbSAndXJsJztcblxubGV0IHRlbXBBbmNob3I6IEhUTUxBbmNob3JFbGVtZW50fHVuZGVmaW5lZDtcblxuLyoqXG4gKiBTZXRzIHRoZSBgY3Jvc3NPcmlnaW5gIHByb3BlcnR5IGZvciB0aGlzIHJlc291cmNlIGJhc2VkIG9uIGlmIHRoZSB1cmxcbiAqIGZvciB0aGlzIHJlc291cmNlIGlzIGNyb3NzLW9yaWdpbi4gSWYgY3Jvc3NPcmlnaW4gd2FzIG1hbnVhbGx5IHNldCwgdGhpc1xuICogZnVuY3Rpb24gZG9lcyBub3RoaW5nLlxuICogTmlwcGVkIGZyb20gdGhlIHJlc291cmNlIGxvYWRlciFcbiAqXG4gKiBAaWdub3JlXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gVGhlIHVybCB0byB0ZXN0LlxuICogQHBhcmFtIHtvYmplY3R9IFtsb2M9d2luZG93LmxvY2F0aW9uXSAtIFRoZSBsb2NhdGlvbiBvYmplY3QgdG8gdGVzdCBhZ2FpbnN0LlxuICogQHJldHVybiB7c3RyaW5nfSBUaGUgY3Jvc3NPcmlnaW4gdmFsdWUgdG8gdXNlIChvciBlbXB0eSBzdHJpbmcgZm9yIG5vbmUpLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4odXJsOiBzdHJpbmcsIGxvYzogTG9jYXRpb24gPSB3aW5kb3cubG9jYXRpb24pOiBzdHJpbmdcbntcbiAgICAvLyBkYXRhOiBhbmQgamF2YXNjcmlwdDogdXJscyBhcmUgY29uc2lkZXJlZCBzYW1lLW9yaWdpblxuICAgIGlmICh1cmwuaW5kZXhPZignZGF0YTonKSA9PT0gMClcbiAgICB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICB9XG5cbiAgICAvLyBkZWZhdWx0IGlzIHdpbmRvdy5sb2NhdGlvblxuICAgIGxvYyA9IGxvYyB8fCB3aW5kb3cubG9jYXRpb247XG5cbiAgICBpZiAoIXRlbXBBbmNob3IpXG4gICAge1xuICAgICAgICB0ZW1wQW5jaG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgIH1cblxuICAgIC8vIGxldCB0aGUgYnJvd3NlciBkZXRlcm1pbmUgdGhlIGZ1bGwgaHJlZiBmb3IgdGhlIHVybCBvZiB0aGlzIHJlc291cmNlIGFuZCB0aGVuXG4gICAgLy8gcGFyc2Ugd2l0aCB0aGUgbm9kZSB1cmwgbGliLCB3ZSBjYW4ndCB1c2UgdGhlIHByb3BlcnRpZXMgb2YgdGhlIGFuY2hvciBlbGVtZW50XG4gICAgLy8gYmVjYXVzZSB0aGV5IGRvbid0IHdvcmsgaW4gSUU5IDooXG4gICAgdGVtcEFuY2hvci5ocmVmID0gdXJsO1xuICAgIGNvbnN0IHBhcnNlZFVybCA9IF91cmwucGFyc2UodGVtcEFuY2hvci5ocmVmKTtcblxuICAgIGNvbnN0IHNhbWVQb3J0ID0gKCFwYXJzZWRVcmwucG9ydCAmJiBsb2MucG9ydCA9PT0gJycpIHx8IChwYXJzZWRVcmwucG9ydCA9PT0gbG9jLnBvcnQpO1xuXG4gICAgLy8gaWYgY3Jvc3Mgb3JpZ2luXG4gICAgaWYgKHBhcnNlZFVybC5ob3N0bmFtZSAhPT0gbG9jLmhvc3RuYW1lIHx8ICFzYW1lUG9ydCB8fCBwYXJzZWRVcmwucHJvdG9jb2wgIT09IGxvYy5wcm90b2NvbClcbiAgICB7XG4gICAgICAgIHJldHVybiAnYW5vbnltb3VzJztcbiAgICB9XG5cbiAgICByZXR1cm4gJyc7XG59XG4iLCJpbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJy4uL3NldHRpbmdzJztcblxuLyoqXG4gKiBnZXQgdGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgYW4gYXNzZXQgYnkgbG9va2luZyBmb3IgdGhlIHByZWZpeFxuICogdXNlZCBieSBzcHJpdGVzaGVldHMgYW5kIGltYWdlIHVybHNcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIGdldFJlc29sdXRpb25PZlVybFxuICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIHRoZSBpbWFnZSBwYXRoXG4gKiBAcGFyYW0ge251bWJlcn0gW2RlZmF1bHRWYWx1ZT0xXSAtIHRoZSBkZWZhdWx0VmFsdWUgaWYgbm8gZmlsZW5hbWUgcHJlZml4IGlzIHNldC5cbiAqIEByZXR1cm4ge251bWJlcn0gcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiBhbiBhc3NldFxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0UmVzb2x1dGlvbk9mVXJsKHVybDogc3RyaW5nLCBkZWZhdWx0VmFsdWU/OiBudW1iZXIpOiBudW1iZXJcbntcbiAgICBjb25zdCByZXNvbHV0aW9uID0gc2V0dGluZ3MuUkVUSU5BX1BSRUZJWC5leGVjKHVybCk7XG5cbiAgICBpZiAocmVzb2x1dGlvbilcbiAgICB7XG4gICAgICAgIHJldHVybiBwYXJzZUZsb2F0KHJlc29sdXRpb25bMV0pO1xuICAgIH1cblxuICAgIHJldHVybiBkZWZhdWx0VmFsdWUgIT09IHVuZGVmaW5lZCA/IGRlZmF1bHRWYWx1ZSA6IDE7XG59XG4iLCIvKipcbiAqIFR3byBQaS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnQge251bWJlcn0gUElfMlxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGNvbnN0IFBJXzIgPSBNYXRoLlBJICogMjtcblxuLyoqXG4gKiBDb252ZXJzaW9uIGZhY3RvciBmb3IgY29udmVydGluZyByYWRpYW5zIHRvIGRlZ3JlZXMuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50IHtudW1iZXJ9IFJBRF9UT19ERUdcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBjb25zdCBSQURfVE9fREVHID0gMTgwIC8gTWF0aC5QSTtcblxuLyoqXG4gKiBDb252ZXJzaW9uIGZhY3RvciBmb3IgY29udmVydGluZyBkZWdyZWVzIHRvIHJhZGlhbnMuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50IHtudW1iZXJ9IERFR19UT19SQURcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBjb25zdCBERUdfVE9fUkFEID0gTWF0aC5QSSAvIDE4MDtcblxuZXhwb3J0IGVudW0gU0hBUEVTIHtcbiAgICBQT0xZID0gMCxcbiAgICBSRUNUID0gMSxcbiAgICBDSVJDID0gMixcbiAgICBFTElQID0gMyxcbiAgICBSUkVDID0gNCxcbn1cbi8qKlxuICogQ29uc3RhbnRzIHRoYXQgaWRlbnRpZnkgc2hhcGVzLCBtYWlubHkgdG8gcHJldmVudCBgaW5zdGFuY2VvZmAgY2FsbHMuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbmFtZSBTSEFQRVNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZSB7ZW51bX1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBQT0xZIFBvbHlnb25cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBSRUNUIFJlY3RhbmdsZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IENJUkMgQ2lyY2xlXG4gKiBAcHJvcGVydHkge251bWJlcn0gRUxJUCBFbGxpcHNlXG4gKiBAcHJvcGVydHkge251bWJlcn0gUlJFQyBSb3VuZGVkIFJlY3RhbmdsZVxuICogQGVudW0ge251bWJlcn1cbiAqL1xuIiwiaW1wb3J0IHsgREFUQV9VUkkgfSBmcm9tICcuLi9jb25zdCc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGVjb21wb3NlZERhdGFVcmkge1xuICAgIG1lZGlhVHlwZTogc3RyaW5nO1xuICAgIHN1YlR5cGU6IHN0cmluZztcbiAgICBjaGFyc2V0OiBzdHJpbmc7XG4gICAgZW5jb2Rpbmc6IHN0cmluZztcbiAgICBkYXRhOiBzdHJpbmc7XG59XG5cbi8qKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBpbnRlcmZhY2UgRGVjb21wb3NlZERhdGFVcmlcbiAqL1xuXG4vKipcbiAqIHR5cGUsIGVnLiBgaW1hZ2VgXG4gKiBAbWVtYmVyb2YgUElYSS51dGlscy5EZWNvbXBvc2VkRGF0YVVyaSNcbiAqIEBtZW1iZXIge3N0cmluZ30gbWVkaWFUeXBlXG4gKi9cblxuLyoqXG4gKiBTdWIgdHlwZSwgZWcuIGBwbmdgXG4gKiBAbWVtYmVyb2YgUElYSS51dGlscy5EZWNvbXBvc2VkRGF0YVVyaSNcbiAqIEBtZW1iZXIge3N0cmluZ30gc3ViVHlwZVxuICovXG5cbi8qKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHMuRGVjb21wb3NlZERhdGFVcmkjXG4gKiBAbWVtYmVyIHtzdHJpbmd9IGNoYXJzZXRcbiAqL1xuXG4vKipcbiAqIERhdGEgZW5jb2RpbmcsIGVnLiBgYmFzZTY0YFxuICogQG1lbWJlcm9mIFBJWEkudXRpbHMuRGVjb21wb3NlZERhdGFVcmkjXG4gKiBAbWVtYmVyIHtzdHJpbmd9IGVuY29kaW5nXG4gKi9cblxuLyoqXG4gKiBUaGUgYWN0dWFsIGRhdGFcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzLkRlY29tcG9zZWREYXRhVXJpI1xuICogQG1lbWJlciB7c3RyaW5nfSBkYXRhXG4gKi9cblxuLyoqXG4gKiBTcGxpdCBhIGRhdGEgVVJJIGludG8gY29tcG9uZW50cy4gUmV0dXJucyB1bmRlZmluZWQgaWZcbiAqIHBhcmFtZXRlciBgZGF0YVVyaWAgaXMgbm90IGEgdmFsaWQgZGF0YSBVUkkuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBkZWNvbXBvc2VEYXRhVXJpXG4gKiBAcGFyYW0ge3N0cmluZ30gZGF0YVVyaSAtIHRoZSBkYXRhIFVSSSB0byBjaGVja1xuICogQHJldHVybiB7UElYSS51dGlscy5EZWNvbXBvc2VkRGF0YVVyaXx1bmRlZmluZWR9IFRoZSBkZWNvbXBvc2VkIGRhdGEgdXJpIG9yIHVuZGVmaW5lZFxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVjb21wb3NlRGF0YVVyaShkYXRhVXJpOiBzdHJpbmcpOiBEZWNvbXBvc2VkRGF0YVVyaVxue1xuICAgIGNvbnN0IGRhdGFVcmlNYXRjaCA9IERBVEFfVVJJLmV4ZWMoZGF0YVVyaSk7XG5cbiAgICBpZiAoZGF0YVVyaU1hdGNoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1lZGlhVHlwZTogZGF0YVVyaU1hdGNoWzFdID8gZGF0YVVyaU1hdGNoWzFdLnRvTG93ZXJDYXNlKCkgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBzdWJUeXBlOiBkYXRhVXJpTWF0Y2hbMl0gPyBkYXRhVXJpTWF0Y2hbMl0udG9Mb3dlckNhc2UoKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGNoYXJzZXQ6IGRhdGFVcmlNYXRjaFszXSA/IGRhdGFVcmlNYXRjaFszXS50b0xvd2VyQ2FzZSgpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgZW5jb2Rpbmc6IGRhdGFVcmlNYXRjaFs0XSA/IGRhdGFVcmlNYXRjaFs0XS50b0xvd2VyQ2FzZSgpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgZGF0YTogZGF0YVVyaU1hdGNoWzVdLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG4iLCJpbXBvcnQgeyBTSEFQRVMgfSBmcm9tICcuLi9jb25zdCc7XG5cbi8qKlxuICogU2l6ZSBvYmplY3QsIGNvbnRhaW5zIHdpZHRoIGFuZCBoZWlnaHRcbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHR5cGVkZWYge29iamVjdH0gSVNpemVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB3aWR0aCAtIFdpZHRoIGNvbXBvbmVudFxuICogQHByb3BlcnR5IHtudW1iZXJ9IGhlaWdodCAtIEhlaWdodCBjb21wb25lbnRcbiAqL1xuXG4vKipcbiAqIFJlY3RhbmdsZSBvYmplY3QgaXMgYW4gYXJlYSBkZWZpbmVkIGJ5IGl0cyBwb3NpdGlvbiwgYXMgaW5kaWNhdGVkIGJ5IGl0cyB0b3AtbGVmdCBjb3JuZXJcbiAqIHBvaW50ICh4LCB5KSBhbmQgYnkgaXRzIHdpZHRoIGFuZCBpdHMgaGVpZ2h0LlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGNsYXNzIFJlY3RhbmdsZVxue1xuICAgIHB1YmxpYyB4OiBudW1iZXI7XG4gICAgcHVibGljIHk6IG51bWJlcjtcbiAgICBwdWJsaWMgd2lkdGg6IG51bWJlcjtcbiAgICBwdWJsaWMgaGVpZ2h0OiBudW1iZXI7XG4gICAgcHVibGljIHJlYWRvbmx5IHR5cGU6IFNIQVBFUy5SRUNUO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt4PTBdIC0gVGhlIFggY29vcmRpbmF0ZSBvZiB0aGUgdXBwZXItbGVmdCBjb3JuZXIgb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeT0wXSAtIFRoZSBZIGNvb3JkaW5hdGUgb2YgdGhlIHVwcGVyLWxlZnQgY29ybmVyIG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3dpZHRoPTBdIC0gVGhlIG92ZXJhbGwgd2lkdGggb2YgdGhpcyByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2hlaWdodD0wXSAtIFRoZSBvdmVyYWxsIGhlaWdodCBvZiB0aGlzIHJlY3RhbmdsZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHggPSAwLCB5ID0gMCwgd2lkdGggPSAwLCBoZWlnaHQgPSAwKVxuICAgIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy54ID0gTnVtYmVyKHgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueSA9IE51bWJlcih5KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLndpZHRoID0gTnVtYmVyKHdpZHRoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmhlaWdodCA9IE51bWJlcihoZWlnaHQpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHlwZSBvZiB0aGUgb2JqZWN0LCBtYWlubHkgdXNlZCB0byBhdm9pZCBgaW5zdGFuY2VvZmAgY2hlY2tzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRPbmx5XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuU0hBUEVTLlJFQ1RcbiAgICAgICAgICogQHNlZSBQSVhJLlNIQVBFU1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50eXBlID0gU0hBUEVTLlJFQ1Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogcmV0dXJucyB0aGUgbGVmdCBlZGdlIG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgbGVmdCgpOiBudW1iZXJcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLng7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogcmV0dXJucyB0aGUgcmlnaHQgZWRnZSBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IHJpZ2h0KCk6IG51bWJlclxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMueCArIHRoaXMud2lkdGg7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogcmV0dXJucyB0aGUgdG9wIGVkZ2Ugb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIGdldCB0b3AoKTogbnVtYmVyXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy55O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHJldHVybnMgdGhlIGJvdHRvbSBlZGdlIG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgYm90dG9tKCk6IG51bWJlclxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMueSArIHRoaXMuaGVpZ2h0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgY29uc3RhbnQgZW1wdHkgcmVjdGFuZ2xlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBjb25zdGFudFxuICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSBBbiBlbXB0eSByZWN0YW5nbGVcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IEVNUFRZKCk6IFJlY3RhbmdsZVxuICAgIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZWN0YW5nbGUoMCwgMCwgMCwgMCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoaXMgUmVjdGFuZ2xlXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gYSBjb3B5IG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKi9cbiAgICBjbG9uZSgpOiBSZWN0YW5nbGVcbiAgICB7XG4gICAgICAgIHJldHVybiBuZXcgUmVjdGFuZ2xlKHRoaXMueCwgdGhpcy55LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29waWVzIGFub3RoZXIgcmVjdGFuZ2xlIHRvIHRoaXMgb25lLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gcmVjdGFuZ2xlIC0gVGhlIHJlY3RhbmdsZSB0byBjb3B5IGZyb20uXG4gICAgICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuICAgIGNvcHlGcm9tKHJlY3RhbmdsZTogUmVjdGFuZ2xlKTogUmVjdGFuZ2xlXG4gICAge1xuICAgICAgICB0aGlzLnggPSByZWN0YW5nbGUueDtcbiAgICAgICAgdGhpcy55ID0gcmVjdGFuZ2xlLnk7XG4gICAgICAgIHRoaXMud2lkdGggPSByZWN0YW5nbGUud2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gcmVjdGFuZ2xlLmhlaWdodDtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb3BpZXMgdGhpcyByZWN0YW5nbGUgdG8gYW5vdGhlciBvbmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSByZWN0YW5nbGUgLSBUaGUgcmVjdGFuZ2xlIHRvIGNvcHkgdG8uXG4gICAgICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IFJldHVybnMgZ2l2ZW4gcGFyYW1ldGVyLlxuICAgICAqL1xuICAgIGNvcHlUbyhyZWN0YW5nbGU6IFJlY3RhbmdsZSk6IFJlY3RhbmdsZVxuICAgIHtcbiAgICAgICAgcmVjdGFuZ2xlLnggPSB0aGlzLng7XG4gICAgICAgIHJlY3RhbmdsZS55ID0gdGhpcy55O1xuICAgICAgICByZWN0YW5nbGUud2lkdGggPSB0aGlzLndpZHRoO1xuICAgICAgICByZWN0YW5nbGUuaGVpZ2h0ID0gdGhpcy5oZWlnaHQ7XG5cbiAgICAgICAgcmV0dXJuIHJlY3RhbmdsZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3Mgd2hldGhlciB0aGUgeCBhbmQgeSBjb29yZGluYXRlcyBnaXZlbiBhcmUgY29udGFpbmVkIHdpdGhpbiB0aGlzIFJlY3RhbmdsZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgeC95IGNvb3JkaW5hdGVzIGFyZSB3aXRoaW4gdGhpcyBSZWN0YW5nbGVcbiAgICAgKi9cbiAgICBjb250YWlucyh4OiBudW1iZXIsIHk6IG51bWJlcik6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIGlmICh0aGlzLndpZHRoIDw9IDAgfHwgdGhpcy5oZWlnaHQgPD0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHggPj0gdGhpcy54ICYmIHggPCB0aGlzLnggKyB0aGlzLndpZHRoKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoeSA+PSB0aGlzLnkgJiYgeSA8IHRoaXMueSArIHRoaXMuaGVpZ2h0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBhZHMgdGhlIHJlY3RhbmdsZSBtYWtpbmcgaXQgZ3JvdyBpbiBhbGwgZGlyZWN0aW9ucy5cbiAgICAgKiBJZiBwYWRkaW5nWSBpcyBvbWl0dGVkLCBib3RoIHBhZGRpbmdYIGFuZCBwYWRkaW5nWSB3aWxsIGJlIHNldCB0byBwYWRkaW5nWC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcGFkZGluZ1g9MF0gLSBUaGUgaG9yaXpvbnRhbCBwYWRkaW5nIGFtb3VudC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3BhZGRpbmdZPTBdIC0gVGhlIHZlcnRpY2FsIHBhZGRpbmcgYW1vdW50LlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICBwYWQocGFkZGluZ1ggPSAwLCBwYWRkaW5nWSA9IHBhZGRpbmdYKTogdGhpc1xuICAgIHtcbiAgICAgICAgdGhpcy54IC09IHBhZGRpbmdYO1xuICAgICAgICB0aGlzLnkgLT0gcGFkZGluZ1k7XG5cbiAgICAgICAgdGhpcy53aWR0aCArPSBwYWRkaW5nWCAqIDI7XG4gICAgICAgIHRoaXMuaGVpZ2h0ICs9IHBhZGRpbmdZICogMjtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGaXRzIHRoaXMgcmVjdGFuZ2xlIGFyb3VuZCB0aGUgcGFzc2VkIG9uZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IHJlY3RhbmdsZSAtIFRoZSByZWN0YW5nbGUgdG8gZml0LlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICBmaXQocmVjdGFuZ2xlOiBSZWN0YW5nbGUpOiB0aGlzXG4gICAge1xuICAgICAgICBjb25zdCB4MSA9IE1hdGgubWF4KHRoaXMueCwgcmVjdGFuZ2xlLngpO1xuICAgICAgICBjb25zdCB4MiA9IE1hdGgubWluKHRoaXMueCArIHRoaXMud2lkdGgsIHJlY3RhbmdsZS54ICsgcmVjdGFuZ2xlLndpZHRoKTtcbiAgICAgICAgY29uc3QgeTEgPSBNYXRoLm1heCh0aGlzLnksIHJlY3RhbmdsZS55KTtcbiAgICAgICAgY29uc3QgeTIgPSBNYXRoLm1pbih0aGlzLnkgKyB0aGlzLmhlaWdodCwgcmVjdGFuZ2xlLnkgKyByZWN0YW5nbGUuaGVpZ2h0KTtcblxuICAgICAgICB0aGlzLnggPSB4MTtcbiAgICAgICAgdGhpcy53aWR0aCA9IE1hdGgubWF4KHgyIC0geDEsIDApO1xuICAgICAgICB0aGlzLnkgPSB5MTtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBNYXRoLm1heCh5MiAtIHkxLCAwKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbmxhcmdlcyByZWN0YW5nbGUgdGhhdCB3YXkgaXRzIGNvcm5lcnMgbGllIG9uIGdyaWRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmVzb2x1dGlvbj0xXSByZXNvbHV0aW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtlcHM9MC4wMDFdIHByZWNpc2lvblxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICBjZWlsKHJlc29sdXRpb24gPSAxLCBlcHMgPSAwLjAwMSk6IHRoaXNcbiAgICB7XG4gICAgICAgIGNvbnN0IHgyID0gTWF0aC5jZWlsKCh0aGlzLnggKyB0aGlzLndpZHRoIC0gZXBzKSAqIHJlc29sdXRpb24pIC8gcmVzb2x1dGlvbjtcbiAgICAgICAgY29uc3QgeTIgPSBNYXRoLmNlaWwoKHRoaXMueSArIHRoaXMuaGVpZ2h0IC0gZXBzKSAqIHJlc29sdXRpb24pIC8gcmVzb2x1dGlvbjtcblxuICAgICAgICB0aGlzLnggPSBNYXRoLmZsb29yKCh0aGlzLnggKyBlcHMpICogcmVzb2x1dGlvbikgLyByZXNvbHV0aW9uO1xuICAgICAgICB0aGlzLnkgPSBNYXRoLmZsb29yKCh0aGlzLnkgKyBlcHMpICogcmVzb2x1dGlvbikgLyByZXNvbHV0aW9uO1xuXG4gICAgICAgIHRoaXMud2lkdGggPSB4MiAtIHRoaXMueDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSB5MiAtIHRoaXMueTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbmxhcmdlcyB0aGlzIHJlY3RhbmdsZSB0byBpbmNsdWRlIHRoZSBwYXNzZWQgcmVjdGFuZ2xlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gcmVjdGFuZ2xlIC0gVGhlIHJlY3RhbmdsZSB0byBpbmNsdWRlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICBlbmxhcmdlKHJlY3RhbmdsZTogUmVjdGFuZ2xlKTogdGhpc1xuICAgIHtcbiAgICAgICAgY29uc3QgeDEgPSBNYXRoLm1pbih0aGlzLngsIHJlY3RhbmdsZS54KTtcbiAgICAgICAgY29uc3QgeDIgPSBNYXRoLm1heCh0aGlzLnggKyB0aGlzLndpZHRoLCByZWN0YW5nbGUueCArIHJlY3RhbmdsZS53aWR0aCk7XG4gICAgICAgIGNvbnN0IHkxID0gTWF0aC5taW4odGhpcy55LCByZWN0YW5nbGUueSk7XG4gICAgICAgIGNvbnN0IHkyID0gTWF0aC5tYXgodGhpcy55ICsgdGhpcy5oZWlnaHQsIHJlY3RhbmdsZS55ICsgcmVjdGFuZ2xlLmhlaWdodCk7XG5cbiAgICAgICAgdGhpcy54ID0geDE7XG4gICAgICAgIHRoaXMud2lkdGggPSB4MiAtIHgxO1xuICAgICAgICB0aGlzLnkgPSB5MTtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSB5MiAtIHkxO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFNIQVBFUyB9IGZyb20gJy4vLi4vY29uc3QnO1xuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSAnLi9SZWN0YW5nbGUnO1xuXG4vKipcbiAqIFRoZSBDaXJjbGUgb2JqZWN0IGlzIHVzZWQgdG8gaGVscCBkcmF3IGdyYXBoaWNzIGFuZCBjYW4gYWxzbyBiZSB1c2VkIHRvIHNwZWNpZnkgYSBoaXQgYXJlYSBmb3IgZGlzcGxheU9iamVjdHMuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgY2xhc3MgQ2lyY2xlXG57XG4gICAgcHVibGljIHg6IG51bWJlcjtcbiAgICBwdWJsaWMgeTogbnVtYmVyO1xuICAgIHB1YmxpYyByYWRpdXM6IG51bWJlcjtcbiAgICBwdWJsaWMgcmVhZG9ubHkgdHlwZTogU0hBUEVTLkNJUkM7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3g9MF0gLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhpcyBjaXJjbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3k9MF0gLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhpcyBjaXJjbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3JhZGl1cz0wXSAtIFRoZSByYWRpdXMgb2YgdGhlIGNpcmNsZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHggPSAwLCB5ID0gMCwgcmFkaXVzID0gMClcbiAgICB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueCA9IHg7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy55ID0geTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJhZGl1cyA9IHJhZGl1cztcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHR5cGUgb2YgdGhlIG9iamVjdCwgbWFpbmx5IHVzZWQgdG8gYXZvaWQgYGluc3RhbmNlb2ZgIGNoZWNrc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkT25seVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLlNIQVBFUy5DSVJDXG4gICAgICAgICAqIEBzZWUgUElYSS5TSEFQRVNcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHlwZSA9IFNIQVBFUy5DSVJDO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGlzIENpcmNsZSBpbnN0YW5jZVxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5DaXJjbGV9IGEgY29weSBvZiB0aGUgQ2lyY2xlXG4gICAgICovXG4gICAgY2xvbmUoKTogQ2lyY2xlXG4gICAge1xuICAgICAgICByZXR1cm4gbmV3IENpcmNsZSh0aGlzLngsIHRoaXMueSwgdGhpcy5yYWRpdXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyB3aGV0aGVyIHRoZSB4IGFuZCB5IGNvb3JkaW5hdGVzIGdpdmVuIGFyZSBjb250YWluZWQgd2l0aGluIHRoaXMgY2lyY2xlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50IHRvIHRlc3RcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIFRoZSBZIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50IHRvIHRlc3RcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSB4L3kgY29vcmRpbmF0ZXMgYXJlIHdpdGhpbiB0aGlzIENpcmNsZVxuICAgICAqL1xuICAgIGNvbnRhaW5zKHg6IG51bWJlciwgeTogbnVtYmVyKTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMucmFkaXVzIDw9IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHIyID0gdGhpcy5yYWRpdXMgKiB0aGlzLnJhZGl1cztcbiAgICAgICAgbGV0IGR4ID0gKHRoaXMueCAtIHgpO1xuICAgICAgICBsZXQgZHkgPSAodGhpcy55IC0geSk7XG5cbiAgICAgICAgZHggKj0gZHg7XG4gICAgICAgIGR5ICo9IGR5O1xuXG4gICAgICAgIHJldHVybiAoZHggKyBkeSA8PSByMik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgKiBSZXR1cm5zIHRoZSBmcmFtaW5nIHJlY3RhbmdsZSBvZiB0aGUgY2lyY2xlIGFzIGEgUmVjdGFuZ2xlIG9iamVjdFxuICAgICpcbiAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSB0aGUgZnJhbWluZyByZWN0YW5nbGVcbiAgICAqL1xuICAgIGdldEJvdW5kcygpOiBSZWN0YW5nbGVcbiAgICB7XG4gICAgICAgIHJldHVybiBuZXcgUmVjdGFuZ2xlKHRoaXMueCAtIHRoaXMucmFkaXVzLCB0aGlzLnkgLSB0aGlzLnJhZGl1cywgdGhpcy5yYWRpdXMgKiAyLCB0aGlzLnJhZGl1cyAqIDIpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gJy4vUmVjdGFuZ2xlJztcbmltcG9ydCB7IFNIQVBFUyB9IGZyb20gJy4uL2NvbnN0JztcblxuLyoqXG4gKiBUaGUgRWxsaXBzZSBvYmplY3QgaXMgdXNlZCB0byBoZWxwIGRyYXcgZ3JhcGhpY3MgYW5kIGNhbiBhbHNvIGJlIHVzZWQgdG8gc3BlY2lmeSBhIGhpdCBhcmVhIGZvciBkaXNwbGF5T2JqZWN0cy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBjbGFzcyBFbGxpcHNlXG57XG4gICAgcHVibGljIHg6IG51bWJlcjtcbiAgICBwdWJsaWMgeTogbnVtYmVyO1xuICAgIHB1YmxpYyB3aWR0aDogbnVtYmVyO1xuICAgIHB1YmxpYyBoZWlnaHQ6IG51bWJlcjtcbiAgICBwdWJsaWMgcmVhZG9ubHkgdHlwZTogU0hBUEVTLkVMSVA7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3g9MF0gLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhpcyBlbGxpcHNlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt5PTBdIC0gVGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoaXMgZWxsaXBzZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbaGFsZldpZHRoPTBdIC0gVGhlIGhhbGYgd2lkdGggb2YgdGhpcyBlbGxpcHNlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtoYWxmSGVpZ2h0PTBdIC0gVGhlIGhhbGYgaGVpZ2h0IG9mIHRoaXMgZWxsaXBzZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHggPSAwLCB5ID0gMCwgaGFsZldpZHRoID0gMCwgaGFsZkhlaWdodCA9IDApXG4gICAge1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnggPSB4O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueSA9IHk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy53aWR0aCA9IGhhbGZXaWR0aDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhhbGZIZWlnaHQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0eXBlIG9mIHRoZSBvYmplY3QsIG1haW5seSB1c2VkIHRvIGF2b2lkIGBpbnN0YW5jZW9mYCBjaGVja3NcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZE9ubHlcbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5TSEFQRVMuRUxJUFxuICAgICAgICAgKiBAc2VlIFBJWEkuU0hBUEVTXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR5cGUgPSBTSEFQRVMuRUxJUDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgdGhpcyBFbGxpcHNlIGluc3RhbmNlXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkVsbGlwc2V9IGEgY29weSBvZiB0aGUgZWxsaXBzZVxuICAgICAqL1xuICAgIGNsb25lKCk6IEVsbGlwc2VcbiAgICB7XG4gICAgICAgIHJldHVybiBuZXcgRWxsaXBzZSh0aGlzLngsIHRoaXMueSwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyB3aGV0aGVyIHRoZSB4IGFuZCB5IGNvb3JkaW5hdGVzIGdpdmVuIGFyZSBjb250YWluZWQgd2l0aGluIHRoaXMgZWxsaXBzZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgeC95IGNvb3JkcyBhcmUgd2l0aGluIHRoaXMgZWxsaXBzZVxuICAgICAqL1xuICAgIGNvbnRhaW5zKHg6IG51bWJlciwgeTogbnVtYmVyKTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMud2lkdGggPD0gMCB8fCB0aGlzLmhlaWdodCA8PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBub3JtYWxpemUgdGhlIGNvb3JkcyB0byBhbiBlbGxpcHNlIHdpdGggY2VudGVyIDAsMFxuICAgICAgICBsZXQgbm9ybXggPSAoKHggLSB0aGlzLngpIC8gdGhpcy53aWR0aCk7XG4gICAgICAgIGxldCBub3JteSA9ICgoeSAtIHRoaXMueSkgLyB0aGlzLmhlaWdodCk7XG5cbiAgICAgICAgbm9ybXggKj0gbm9ybXg7XG4gICAgICAgIG5vcm15ICo9IG5vcm15O1xuXG4gICAgICAgIHJldHVybiAobm9ybXggKyBub3JteSA8PSAxKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBmcmFtaW5nIHJlY3RhbmdsZSBvZiB0aGUgZWxsaXBzZSBhcyBhIFJlY3RhbmdsZSBvYmplY3RcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSB0aGUgZnJhbWluZyByZWN0YW5nbGVcbiAgICAgKi9cbiAgICBnZXRCb3VuZHMoKTogUmVjdGFuZ2xlXG4gICAge1xuICAgICAgICByZXR1cm4gbmV3IFJlY3RhbmdsZSh0aGlzLnggLSB0aGlzLndpZHRoLCB0aGlzLnkgLSB0aGlzLmhlaWdodCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFNIQVBFUyB9IGZyb20gJy4uL2NvbnN0JztcbmltcG9ydCB0eXBlIHsgSVBvaW50IH0gZnJvbSAnLi4vSVBvaW50JztcblxuLyoqXG4gKiBBIGNsYXNzIHRvIGRlZmluZSBhIHNoYXBlIHZpYSB1c2VyIGRlZmluZWQgY28tb3JpbmF0ZXMuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgY2xhc3MgUG9seWdvblxue1xuICAgIHB1YmxpYyBwb2ludHM6IG51bWJlcltdO1xuICAgIHB1YmxpYyBjbG9zZVN0cm9rZTogYm9vbGVhbjtcbiAgICBwdWJsaWMgcmVhZG9ubHkgdHlwZTogU0hBUEVTLlBPTFk7XG5cbiAgICBjb25zdHJ1Y3Rvcihwb2ludHM6IElQb2ludFtdfG51bWJlcltdKTtcbiAgICBjb25zdHJ1Y3RvciguLi5wb2ludHM6IElQb2ludFtdfG51bWJlcltdKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuSVBvaW50W118bnVtYmVyW119IHBvaW50cyAtIFRoaXMgY2FuIGJlIGFuIGFycmF5IG9mIFBvaW50c1xuICAgICAqICB0aGF0IGZvcm0gdGhlIHBvbHlnb24sIGEgZmxhdCBhcnJheSBvZiBudW1iZXJzIHRoYXQgd2lsbCBiZSBpbnRlcnByZXRlZCBhcyBbeCx5LCB4LHksIC4uLl0sIG9yXG4gICAgICogIHRoZSBhcmd1bWVudHMgcGFzc2VkIGNhbiBiZSBhbGwgdGhlIHBvaW50cyBvZiB0aGUgcG9seWdvbiBlLmcuXG4gICAgICogIGBuZXcgUElYSS5Qb2x5Z29uKG5ldyBQSVhJLlBvaW50KCksIG5ldyBQSVhJLlBvaW50KCksIC4uLilgLCBvciB0aGUgYXJndW1lbnRzIHBhc3NlZCBjYW4gYmUgZmxhdFxuICAgICAqICB4LHkgdmFsdWVzIGUuZy4gYG5ldyBQb2x5Z29uKHgseSwgeCx5LCB4LHksIC4uLilgIHdoZXJlIGB4YCBhbmQgYHlgIGFyZSBOdW1iZXJzLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKC4uLnBvaW50czogYW55W10pXG4gICAge1xuICAgICAgICBsZXQgZmxhdDogSVBvaW50W118bnVtYmVyW10gPSBBcnJheS5pc0FycmF5KHBvaW50c1swXSkgPyBwb2ludHNbMF0gOiBwb2ludHM7XG5cbiAgICAgICAgLy8gaWYgdGhpcyBpcyBhbiBhcnJheSBvZiBwb2ludHMsIGNvbnZlcnQgaXQgdG8gYSBmbGF0IGFycmF5IG9mIG51bWJlcnNcbiAgICAgICAgaWYgKHR5cGVvZiBmbGF0WzBdICE9PSAnbnVtYmVyJylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgcDogbnVtYmVyW10gPSBbXTtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGlsID0gZmxhdC5sZW5ndGg7IGkgPCBpbDsgaSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHAucHVzaCgoZmxhdFtpXSBhcyBJUG9pbnQpLngsIChmbGF0W2ldIGFzIElQb2ludCkueSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZsYXQgPSBwO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIGFycmF5IG9mIHRoZSBwb2ludHMgb2YgdGhpcyBwb2x5Z29uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wb2ludHMgPSBmbGF0IGFzIG51bWJlcltdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHlwZSBvZiB0aGUgb2JqZWN0LCBtYWlubHkgdXNlZCB0byBhdm9pZCBgaW5zdGFuY2VvZmAgY2hlY2tzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRPbmx5XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuU0hBUEVTLlBPTFlcbiAgICAgICAgICogQHNlZSBQSVhJLlNIQVBFU1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50eXBlID0gU0hBUEVTLlBPTFk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGBmYWxzZWAgYWZ0ZXIgbW92ZVRvLCBgdHJ1ZWAgYWZ0ZXIgYGNsb3NlUGF0aGAuIEluIGFsbCBvdGhlciBjYXNlcyBpdCBpcyBgdHJ1ZWAuXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2xvc2VTdHJva2UgPSB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGlzIHBvbHlnb25cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuUG9seWdvbn0gYSBjb3B5IG9mIHRoZSBwb2x5Z29uXG4gICAgICovXG4gICAgY2xvbmUoKTogUG9seWdvblxuICAgIHtcbiAgICAgICAgY29uc3QgcG9pbnRzID0gdGhpcy5wb2ludHMuc2xpY2UoKTtcbiAgICAgICAgY29uc3QgcG9seWdvbiA9IG5ldyBQb2x5Z29uKHBvaW50cyk7XG5cbiAgICAgICAgcG9seWdvbi5jbG9zZVN0cm9rZSA9IHRoaXMuY2xvc2VTdHJva2U7XG5cbiAgICAgICAgcmV0dXJuIHBvbHlnb247XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHdoZXRoZXIgdGhlIHggYW5kIHkgY29vcmRpbmF0ZXMgcGFzc2VkIHRvIHRoaXMgZnVuY3Rpb24gYXJlIGNvbnRhaW5lZCB3aXRoaW4gdGhpcyBwb2x5Z29uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50IHRvIHRlc3RcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIFRoZSBZIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50IHRvIHRlc3RcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSB4L3kgY29vcmRpbmF0ZXMgYXJlIHdpdGhpbiB0aGlzIHBvbHlnb25cbiAgICAgKi9cbiAgICBjb250YWlucyh4OiBudW1iZXIsIHk6IG51bWJlcik6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIGxldCBpbnNpZGUgPSBmYWxzZTtcblxuICAgICAgICAvLyB1c2Ugc29tZSByYXljYXN0aW5nIHRvIHRlc3QgaGl0c1xuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3Vic3RhY2svcG9pbnQtaW4tcG9seWdvbi9ibG9iL21hc3Rlci9pbmRleC5qc1xuICAgICAgICBjb25zdCBsZW5ndGggPSB0aGlzLnBvaW50cy5sZW5ndGggLyAyO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBqID0gbGVuZ3RoIC0gMTsgaSA8IGxlbmd0aDsgaiA9IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgeGkgPSB0aGlzLnBvaW50c1tpICogMl07XG4gICAgICAgICAgICBjb25zdCB5aSA9IHRoaXMucG9pbnRzWyhpICogMikgKyAxXTtcbiAgICAgICAgICAgIGNvbnN0IHhqID0gdGhpcy5wb2ludHNbaiAqIDJdO1xuICAgICAgICAgICAgY29uc3QgeWogPSB0aGlzLnBvaW50c1soaiAqIDIpICsgMV07XG4gICAgICAgICAgICBjb25zdCBpbnRlcnNlY3QgPSAoKHlpID4geSkgIT09ICh5aiA+IHkpKSAmJiAoeCA8ICgoeGogLSB4aSkgKiAoKHkgLSB5aSkgLyAoeWogLSB5aSkpKSArIHhpKTtcblxuICAgICAgICAgICAgaWYgKGludGVyc2VjdClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbnNpZGUgPSAhaW5zaWRlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGluc2lkZTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBTSEFQRVMgfSBmcm9tICcuLi9jb25zdCc7XG5cbi8qKlxuICogVGhlIFJvdW5kZWQgUmVjdGFuZ2xlIG9iamVjdCBpcyBhbiBhcmVhIHRoYXQgaGFzIG5pY2Ugcm91bmRlZCBjb3JuZXJzLCBhcyBpbmRpY2F0ZWQgYnkgaXRzXG4gKiB0b3AtbGVmdCBjb3JuZXIgcG9pbnQgKHgsIHkpIGFuZCBieSBpdHMgd2lkdGggYW5kIGl0cyBoZWlnaHQgYW5kIGl0cyByYWRpdXMuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgY2xhc3MgUm91bmRlZFJlY3RhbmdsZVxue1xuICAgIHB1YmxpYyB4OiBudW1iZXI7XG4gICAgcHVibGljIHk6IG51bWJlcjtcbiAgICBwdWJsaWMgd2lkdGg6IG51bWJlcjtcbiAgICBwdWJsaWMgaGVpZ2h0OiBudW1iZXI7XG4gICAgcHVibGljIHJhZGl1czogbnVtYmVyO1xuICAgIHB1YmxpYyByZWFkb25seSB0eXBlOiBTSEFQRVMuUlJFQztcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeD0wXSAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIHVwcGVyLWxlZnQgY29ybmVyIG9mIHRoZSByb3VuZGVkIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeT0wXSAtIFRoZSBZIGNvb3JkaW5hdGUgb2YgdGhlIHVwcGVyLWxlZnQgY29ybmVyIG9mIHRoZSByb3VuZGVkIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbd2lkdGg9MF0gLSBUaGUgb3ZlcmFsbCB3aWR0aCBvZiB0aGlzIHJvdW5kZWQgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtoZWlnaHQ9MF0gLSBUaGUgb3ZlcmFsbCBoZWlnaHQgb2YgdGhpcyByb3VuZGVkIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmFkaXVzPTIwXSAtIENvbnRyb2xzIHRoZSByYWRpdXMgb2YgdGhlIHJvdW5kZWQgY29ybmVyc1xuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHggPSAwLCB5ID0gMCwgd2lkdGggPSAwLCBoZWlnaHQgPSAwLCByYWRpdXMgPSAyMClcbiAgICB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueCA9IHg7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy55ID0geTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMjBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmFkaXVzID0gcmFkaXVzO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHlwZSBvZiB0aGUgb2JqZWN0LCBtYWlubHkgdXNlZCB0byBhdm9pZCBgaW5zdGFuY2VvZmAgY2hlY2tzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuU0hBUEVTLlJSRUNcbiAgICAgICAgICogQHNlZSBQSVhJLlNIQVBFU1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50eXBlID0gU0hBUEVTLlJSRUM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoaXMgUm91bmRlZCBSZWN0YW5nbGVcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuUm91bmRlZFJlY3RhbmdsZX0gYSBjb3B5IG9mIHRoZSByb3VuZGVkIHJlY3RhbmdsZVxuICAgICAqL1xuICAgIGNsb25lKCk6IFJvdW5kZWRSZWN0YW5nbGVcbiAgICB7XG4gICAgICAgIHJldHVybiBuZXcgUm91bmRlZFJlY3RhbmdsZSh0aGlzLngsIHRoaXMueSwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQsIHRoaXMucmFkaXVzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3Mgd2hldGhlciB0aGUgeCBhbmQgeSBjb29yZGluYXRlcyBnaXZlbiBhcmUgY29udGFpbmVkIHdpdGhpbiB0aGlzIFJvdW5kZWQgUmVjdGFuZ2xlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50IHRvIHRlc3RcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIFRoZSBZIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50IHRvIHRlc3RcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSB4L3kgY29vcmRpbmF0ZXMgYXJlIHdpdGhpbiB0aGlzIFJvdW5kZWQgUmVjdGFuZ2xlXG4gICAgICovXG4gICAgY29udGFpbnMoeDogbnVtYmVyLCB5OiBudW1iZXIpOiBib29sZWFuXG4gICAge1xuICAgICAgICBpZiAodGhpcy53aWR0aCA8PSAwIHx8IHRoaXMuaGVpZ2h0IDw9IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoeCA+PSB0aGlzLnggJiYgeCA8PSB0aGlzLnggKyB0aGlzLndpZHRoKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoeSA+PSB0aGlzLnkgJiYgeSA8PSB0aGlzLnkgKyB0aGlzLmhlaWdodClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoKHkgPj0gdGhpcy55ICsgdGhpcy5yYWRpdXMgJiYgeSA8PSB0aGlzLnkgKyB0aGlzLmhlaWdodCAtIHRoaXMucmFkaXVzKVxuICAgICAgICAgICAgICAgIHx8ICh4ID49IHRoaXMueCArIHRoaXMucmFkaXVzICYmIHggPD0gdGhpcy54ICsgdGhpcy53aWR0aCAtIHRoaXMucmFkaXVzKSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsZXQgZHggPSB4IC0gKHRoaXMueCArIHRoaXMucmFkaXVzKTtcbiAgICAgICAgICAgICAgICBsZXQgZHkgPSB5IC0gKHRoaXMueSArIHRoaXMucmFkaXVzKTtcbiAgICAgICAgICAgICAgICBjb25zdCByYWRpdXMyID0gdGhpcy5yYWRpdXMgKiB0aGlzLnJhZGl1cztcblxuICAgICAgICAgICAgICAgIGlmICgoZHggKiBkeCkgKyAoZHkgKiBkeSkgPD0gcmFkaXVzMilcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkeCA9IHggLSAodGhpcy54ICsgdGhpcy53aWR0aCAtIHRoaXMucmFkaXVzKTtcbiAgICAgICAgICAgICAgICBpZiAoKGR4ICogZHgpICsgKGR5ICogZHkpIDw9IHJhZGl1czIpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZHkgPSB5IC0gKHRoaXMueSArIHRoaXMuaGVpZ2h0IC0gdGhpcy5yYWRpdXMpO1xuICAgICAgICAgICAgICAgIGlmICgoZHggKiBkeCkgKyAoZHkgKiBkeSkgPD0gcmFkaXVzMilcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkeCA9IHggLSAodGhpcy54ICsgdGhpcy5yYWRpdXMpO1xuICAgICAgICAgICAgICAgIGlmICgoZHggKiBkeCkgKyAoZHkgKiBkeSkgPD0gcmFkaXVzMilcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG4iLCJpbXBvcnQgdHlwZSB7IElQb2ludCB9IGZyb20gJy4vSVBvaW50JztcbmltcG9ydCB0eXBlIHsgSVBvaW50RGF0YSB9IGZyb20gJy4vSVBvaW50RGF0YSc7XG5cbi8qKlxuICogVGhlIFBvaW50IG9iamVjdCByZXByZXNlbnRzIGEgbG9jYXRpb24gaW4gYSB0d28tZGltZW5zaW9uYWwgY29vcmRpbmF0ZSBzeXN0ZW0sIHdoZXJlIHggcmVwcmVzZW50c1xuICogdGhlIGhvcml6b250YWwgYXhpcyBhbmQgeSByZXByZXNlbnRzIHRoZSB2ZXJ0aWNhbCBheGlzLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBpbXBsZW1lbnRzIElQb2ludFxuICovXG5leHBvcnQgY2xhc3MgUG9pbnQgaW1wbGVtZW50cyBJUG9pbnRcbntcbiAgICBwdWJsaWMgeDogbnVtYmVyO1xuICAgIHB1YmxpYyB5OiBudW1iZXI7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3g9MF0gLSBwb3NpdGlvbiBvZiB0aGUgcG9pbnQgb24gdGhlIHggYXhpc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeT0wXSAtIHBvc2l0aW9uIG9mIHRoZSBwb2ludCBvbiB0aGUgeSBheGlzXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoeCA9IDAsIHkgPSAwKVxuICAgIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy54ID0geDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnkgPSB5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGlzIHBvaW50XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlBvaW50fSBhIGNvcHkgb2YgdGhlIHBvaW50XG4gICAgICovXG4gICAgY2xvbmUoKTogUG9pbnRcbiAgICB7XG4gICAgICAgIHJldHVybiBuZXcgUG9pbnQodGhpcy54LCB0aGlzLnkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvcGllcyB4IGFuZCB5IGZyb20gdGhlIGdpdmVuIHBvaW50XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuSVBvaW50RGF0YX0gcCAtIFRoZSBwb2ludCB0byBjb3B5IGZyb21cbiAgICAgKiBAcmV0dXJucyB7dGhpc30gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG4gICAgY29weUZyb20ocDogSVBvaW50RGF0YSk6IHRoaXNcbiAgICB7XG4gICAgICAgIHRoaXMuc2V0KHAueCwgcC55KTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb3BpZXMgeCBhbmQgeSBpbnRvIHRoZSBnaXZlbiBwb2ludFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLklQb2ludH0gcCAtIFRoZSBwb2ludCB0byBjb3B5LlxuICAgICAqIEByZXR1cm5zIHtQSVhJLklQb2ludH0gR2l2ZW4gcG9pbnQgd2l0aCB2YWx1ZXMgdXBkYXRlZFxuICAgICAqL1xuICAgIGNvcHlUbzxUIGV4dGVuZHMgSVBvaW50PihwOiBUKTogVFxuICAgIHtcbiAgICAgICAgcC5zZXQodGhpcy54LCB0aGlzLnkpO1xuXG4gICAgICAgIHJldHVybiBwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gcG9pbnQgaXMgZXF1YWwgdG8gdGhpcyBwb2ludFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLklQb2ludERhdGF9IHAgLSBUaGUgcG9pbnQgdG8gY2hlY2tcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gV2hldGhlciB0aGUgZ2l2ZW4gcG9pbnQgZXF1YWwgdG8gdGhpcyBwb2ludFxuICAgICAqL1xuICAgIGVxdWFscyhwOiBJUG9pbnREYXRhKTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgcmV0dXJuIChwLnggPT09IHRoaXMueCkgJiYgKHAueSA9PT0gdGhpcy55KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBwb2ludCB0byBhIG5ldyB4IGFuZCB5IHBvc2l0aW9uLlxuICAgICAqIElmIHkgaXMgb21pdHRlZCwgYm90aCB4IGFuZCB5IHdpbGwgYmUgc2V0IHRvIHguXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3g9MF0gLSBwb3NpdGlvbiBvZiB0aGUgcG9pbnQgb24gdGhlIHggYXhpc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeT14XSAtIHBvc2l0aW9uIG9mIHRoZSBwb2ludCBvbiB0aGUgeSBheGlzXG4gICAgICogQHJldHVybnMge3RoaXN9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuICAgIHNldCh4ID0gMCwgeSA9IHgpOiB0aGlzXG4gICAge1xuICAgICAgICB0aGlzLnggPSB4O1xuICAgICAgICB0aGlzLnkgPSB5O1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cbiIsImltcG9ydCB0eXBlIHsgSVBvaW50RGF0YSB9IGZyb20gJy4vSVBvaW50RGF0YSc7XG5pbXBvcnQgdHlwZSB7IElQb2ludCB9IGZyb20gJy4vSVBvaW50JztcblxuLyoqXG4gKiBUaGUgUG9pbnQgb2JqZWN0IHJlcHJlc2VudHMgYSBsb2NhdGlvbiBpbiBhIHR3by1kaW1lbnNpb25hbCBjb29yZGluYXRlIHN5c3RlbSwgd2hlcmUgeCByZXByZXNlbnRzXG4gKiB0aGUgaG9yaXpvbnRhbCBheGlzIGFuZCB5IHJlcHJlc2VudHMgdGhlIHZlcnRpY2FsIGF4aXMuXG4gKlxuICogQW4gT2JzZXJ2YWJsZVBvaW50IGlzIGEgcG9pbnQgdGhhdCB0cmlnZ2VycyBhIGNhbGxiYWNrIHdoZW4gdGhlIHBvaW50J3MgcG9zaXRpb24gaXMgY2hhbmdlZC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAaW1wbGVtZW50cyBJUG9pbnRcbiAqL1xuZXhwb3J0IGNsYXNzIE9ic2VydmFibGVQb2ludDxUID0gYW55PiBpbXBsZW1lbnRzIElQb2ludFxue1xuICAgIHB1YmxpYyBjYjogKHRoaXM6IFQpID0+IGFueTtcbiAgICBwdWJsaWMgc2NvcGU6IGFueTtcbiAgICBfeDogbnVtYmVyO1xuICAgIF95OiBudW1iZXI7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYiAtIGNhbGxiYWNrIHdoZW4gY2hhbmdlZFxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBzY29wZSAtIG93bmVyIG9mIGNhbGxiYWNrXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt4PTBdIC0gcG9zaXRpb24gb2YgdGhlIHBvaW50IG9uIHRoZSB4IGF4aXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3k9MF0gLSBwb3NpdGlvbiBvZiB0aGUgcG9pbnQgb24gdGhlIHkgYXhpc1xuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGNiOiAodGhpczogVCkgPT4gYW55LCBzY29wZTogVCwgeCA9IDAsIHkgPSAwKVxuICAgIHtcbiAgICAgICAgdGhpcy5feCA9IHg7XG4gICAgICAgIHRoaXMuX3kgPSB5O1xuXG4gICAgICAgIHRoaXMuY2IgPSBjYjtcbiAgICAgICAgdGhpcy5zY29wZSA9IHNjb3BlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGlzIHBvaW50LlxuICAgICAqIFRoZSBjYWxsYmFjayBhbmQgc2NvcGUgcGFyYW1zIGNhbiBiZSBvdmVyaWRkZW4gb3RoZXJ3aXNlIHRoZXkgd2lsbCBkZWZhdWx0XG4gICAgICogdG8gdGhlIGNsb25lIG9iamVjdCdzIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYj1udWxsXSAtIGNhbGxiYWNrIHdoZW4gY2hhbmdlZFxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbc2NvcGU9bnVsbF0gLSBvd25lciBvZiBjYWxsYmFja1xuICAgICAqIEByZXR1cm4ge1BJWEkuT2JzZXJ2YWJsZVBvaW50fSBhIGNvcHkgb2YgdGhlIHBvaW50XG4gICAgICovXG4gICAgY2xvbmUoY2IgPSB0aGlzLmNiLCBzY29wZSA9IHRoaXMuc2NvcGUpOiBPYnNlcnZhYmxlUG9pbnRcbiAgICB7XG4gICAgICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZVBvaW50KGNiLCBzY29wZSwgdGhpcy5feCwgdGhpcy5feSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgcG9pbnQgdG8gYSBuZXcgeCBhbmQgeSBwb3NpdGlvbi5cbiAgICAgKiBJZiB5IGlzIG9taXR0ZWQsIGJvdGggeCBhbmQgeSB3aWxsIGJlIHNldCB0byB4LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt4PTBdIC0gcG9zaXRpb24gb2YgdGhlIHBvaW50IG9uIHRoZSB4IGF4aXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3k9eF0gLSBwb3NpdGlvbiBvZiB0aGUgcG9pbnQgb24gdGhlIHkgYXhpc1xuICAgICAqIEByZXR1cm5zIHt0aGlzfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICBzZXQoeCA9IDAsIHkgPSB4KTogdGhpc1xuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX3ggIT09IHggfHwgdGhpcy5feSAhPT0geSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5feCA9IHg7XG4gICAgICAgICAgICB0aGlzLl95ID0geTtcbiAgICAgICAgICAgIHRoaXMuY2IuY2FsbCh0aGlzLnNjb3BlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvcGllcyB4IGFuZCB5IGZyb20gdGhlIGdpdmVuIHBvaW50XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuSVBvaW50RGF0YX0gcCAtIFRoZSBwb2ludCB0byBjb3B5IGZyb20uXG4gICAgICogQHJldHVybnMge3RoaXN9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuICAgIGNvcHlGcm9tKHA6IElQb2ludERhdGEpOiB0aGlzXG4gICAge1xuICAgICAgICBpZiAodGhpcy5feCAhPT0gcC54IHx8IHRoaXMuX3kgIT09IHAueSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5feCA9IHAueDtcbiAgICAgICAgICAgIHRoaXMuX3kgPSBwLnk7XG4gICAgICAgICAgICB0aGlzLmNiLmNhbGwodGhpcy5zY29wZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb3BpZXMgeCBhbmQgeSBpbnRvIHRoZSBnaXZlbiBwb2ludFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLklQb2ludH0gcCAtIFRoZSBwb2ludCB0byBjb3B5LlxuICAgICAqIEByZXR1cm5zIHtQSVhJLklQb2ludH0gR2l2ZW4gcG9pbnQgd2l0aCB2YWx1ZXMgdXBkYXRlZFxuICAgICAqL1xuICAgIGNvcHlUbzxUIGV4dGVuZHMgSVBvaW50PihwOiBUKTogVFxuICAgIHtcbiAgICAgICAgcC5zZXQodGhpcy5feCwgdGhpcy5feSk7XG5cbiAgICAgICAgcmV0dXJuIHA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiBwb2ludCBpcyBlcXVhbCB0byB0aGlzIHBvaW50XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuSVBvaW50RGF0YX0gcCAtIFRoZSBwb2ludCB0byBjaGVja1xuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBXaGV0aGVyIHRoZSBnaXZlbiBwb2ludCBlcXVhbCB0byB0aGlzIHBvaW50XG4gICAgICovXG4gICAgZXF1YWxzKHA6IElQb2ludERhdGEpOiBib29sZWFuXG4gICAge1xuICAgICAgICByZXR1cm4gKHAueCA9PT0gdGhpcy5feCkgJiYgKHAueSA9PT0gdGhpcy5feSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIHBvc2l0aW9uIG9mIHRoZSBkaXNwbGF5T2JqZWN0IG9uIHRoZSB4IGF4aXMgcmVsYXRpdmUgdG8gdGhlIGxvY2FsIGNvb3JkaW5hdGVzIG9mIHRoZSBwYXJlbnQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IHgoKTogbnVtYmVyXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5feDtcbiAgICB9XG5cbiAgICBzZXQgeCh2YWx1ZTogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX3ggIT09IHZhbHVlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl94ID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLmNiLmNhbGwodGhpcy5zY29wZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcG9zaXRpb24gb2YgdGhlIGRpc3BsYXlPYmplY3Qgb24gdGhlIHggYXhpcyByZWxhdGl2ZSB0byB0aGUgbG9jYWwgY29vcmRpbmF0ZXMgb2YgdGhlIHBhcmVudC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgeSgpOiBudW1iZXJcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl95O1xuICAgIH1cblxuICAgIHNldCB5KHZhbHVlOiBudW1iZXIpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5feSAhPT0gdmFsdWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3kgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuY2IuY2FsbCh0aGlzLnNjb3BlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7IFBvaW50IH0gZnJvbSAnLi9Qb2ludCc7XG5pbXBvcnQgeyBQSV8yIH0gZnJvbSAnLi9jb25zdCc7XG5cbmltcG9ydCB0eXBlIHsgVHJhbnNmb3JtIH0gZnJvbSAnLi9UcmFuc2Zvcm0nO1xuaW1wb3J0IHR5cGUgeyBJUG9pbnREYXRhIH0gZnJvbSAnLi9JUG9pbnREYXRhJztcblxuLyoqXG4gKiBUaGUgUGl4aUpTIE1hdHJpeCBhcyBhIGNsYXNzIG1ha2VzIGl0IGEgbG90IGZhc3Rlci5cbiAqXG4gKiBIZXJlIGlzIGEgcmVwcmVzZW50YXRpb24gb2YgaXQ6XG4gKiBgYGBqc1xuICogfCBhIHwgYyB8IHR4fFxuICogfCBiIHwgZCB8IHR5fFxuICogfCAwIHwgMCB8IDEgfFxuICogYGBgXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBjbGFzcyBNYXRyaXhcbntcbiAgICBwdWJsaWMgYTogbnVtYmVyO1xuICAgIHB1YmxpYyBiOiBudW1iZXI7XG4gICAgcHVibGljIGM6IG51bWJlcjtcbiAgICBwdWJsaWMgZDogbnVtYmVyO1xuICAgIHB1YmxpYyB0eDogbnVtYmVyO1xuICAgIHB1YmxpYyB0eTogbnVtYmVyO1xuXG4gICAgcHVibGljIGFycmF5OiBGbG9hdDMyQXJyYXl8bnVsbCA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2E9MV0gLSB4IHNjYWxlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtiPTBdIC0geCBza2V3XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtjPTBdIC0geSBza2V3XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtkPTFdIC0geSBzY2FsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbdHg9MF0gLSB4IHRyYW5zbGF0aW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt0eT0wXSAtIHkgdHJhbnNsYXRpb25cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihhID0gMSwgYiA9IDAsIGMgPSAwLCBkID0gMSwgdHggPSAwLCB0eSA9IDApXG4gICAge1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmEgPSBhO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYiA9IGI7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jID0gYztcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmQgPSBkO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHggPSB0eDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR5ID0gdHk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIE1hdHJpeCBvYmplY3QgYmFzZWQgb24gdGhlIGdpdmVuIGFycmF5LiBUaGUgRWxlbWVudCB0byBNYXRyaXggbWFwcGluZyBvcmRlciBpcyBhcyBmb2xsb3dzOlxuICAgICAqXG4gICAgICogYSA9IGFycmF5WzBdXG4gICAgICogYiA9IGFycmF5WzFdXG4gICAgICogYyA9IGFycmF5WzNdXG4gICAgICogZCA9IGFycmF5WzRdXG4gICAgICogdHggPSBhcnJheVsyXVxuICAgICAqIHR5ID0gYXJyYXlbNV1cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGFycmF5IC0gVGhlIGFycmF5IHRoYXQgdGhlIG1hdHJpeCB3aWxsIGJlIHBvcHVsYXRlZCBmcm9tLlxuICAgICAqL1xuICAgIGZyb21BcnJheShhcnJheTogbnVtYmVyW10pOiB2b2lkXG4gICAge1xuICAgICAgICB0aGlzLmEgPSBhcnJheVswXTtcbiAgICAgICAgdGhpcy5iID0gYXJyYXlbMV07XG4gICAgICAgIHRoaXMuYyA9IGFycmF5WzNdO1xuICAgICAgICB0aGlzLmQgPSBhcnJheVs0XTtcbiAgICAgICAgdGhpcy50eCA9IGFycmF5WzJdO1xuICAgICAgICB0aGlzLnR5ID0gYXJyYXlbNV07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogc2V0cyB0aGUgbWF0cml4IHByb3BlcnRpZXNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhIC0gTWF0cml4IGNvbXBvbmVudFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiIC0gTWF0cml4IGNvbXBvbmVudFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjIC0gTWF0cml4IGNvbXBvbmVudFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkIC0gTWF0cml4IGNvbXBvbmVudFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0eCAtIE1hdHJpeCBjb21wb25lbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdHkgLSBNYXRyaXggY29tcG9uZW50XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhpcyBtYXRyaXguIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cbiAgICAgKi9cbiAgICBzZXQoYTogbnVtYmVyLCBiOiBudW1iZXIsIGM6IG51bWJlciwgZDogbnVtYmVyLCB0eDogbnVtYmVyLCB0eTogbnVtYmVyKTogdGhpc1xuICAgIHtcbiAgICAgICAgdGhpcy5hID0gYTtcbiAgICAgICAgdGhpcy5iID0gYjtcbiAgICAgICAgdGhpcy5jID0gYztcbiAgICAgICAgdGhpcy5kID0gZDtcbiAgICAgICAgdGhpcy50eCA9IHR4O1xuICAgICAgICB0aGlzLnR5ID0gdHk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBmcm9tIHRoZSBjdXJyZW50IE1hdHJpeCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHRyYW5zcG9zZSAtIFdoZXRoZXIgd2UgbmVlZCB0byB0cmFuc3Bvc2UgdGhlIG1hdHJpeCBvciBub3RcbiAgICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheX0gW291dD1uZXcgRmxvYXQzMkFycmF5KDkpXSAtIElmIHByb3ZpZGVkIHRoZSBhcnJheSB3aWxsIGJlIGFzc2lnbmVkIHRvIG91dFxuICAgICAqIEByZXR1cm4ge251bWJlcltdfSB0aGUgbmV3bHkgY3JlYXRlZCBhcnJheSB3aGljaCBjb250YWlucyB0aGUgbWF0cml4XG4gICAgICovXG4gICAgdG9BcnJheSh0cmFuc3Bvc2U6IGJvb2xlYW4sIG91dD86IEZsb2F0MzJBcnJheSk6IEZsb2F0MzJBcnJheVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLmFycmF5KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmFycmF5ID0gbmV3IEZsb2F0MzJBcnJheSg5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGFycmF5ID0gb3V0IHx8IHRoaXMuYXJyYXk7XG5cbiAgICAgICAgaWYgKHRyYW5zcG9zZSlcbiAgICAgICAge1xuICAgICAgICAgICAgYXJyYXlbMF0gPSB0aGlzLmE7XG4gICAgICAgICAgICBhcnJheVsxXSA9IHRoaXMuYjtcbiAgICAgICAgICAgIGFycmF5WzJdID0gMDtcbiAgICAgICAgICAgIGFycmF5WzNdID0gdGhpcy5jO1xuICAgICAgICAgICAgYXJyYXlbNF0gPSB0aGlzLmQ7XG4gICAgICAgICAgICBhcnJheVs1XSA9IDA7XG4gICAgICAgICAgICBhcnJheVs2XSA9IHRoaXMudHg7XG4gICAgICAgICAgICBhcnJheVs3XSA9IHRoaXMudHk7XG4gICAgICAgICAgICBhcnJheVs4XSA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBhcnJheVswXSA9IHRoaXMuYTtcbiAgICAgICAgICAgIGFycmF5WzFdID0gdGhpcy5jO1xuICAgICAgICAgICAgYXJyYXlbMl0gPSB0aGlzLnR4O1xuICAgICAgICAgICAgYXJyYXlbM10gPSB0aGlzLmI7XG4gICAgICAgICAgICBhcnJheVs0XSA9IHRoaXMuZDtcbiAgICAgICAgICAgIGFycmF5WzVdID0gdGhpcy50eTtcbiAgICAgICAgICAgIGFycmF5WzZdID0gMDtcbiAgICAgICAgICAgIGFycmF5WzddID0gMDtcbiAgICAgICAgICAgIGFycmF5WzhdID0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgYSBuZXcgcG9zaXRpb24gd2l0aCB0aGUgY3VycmVudCB0cmFuc2Zvcm1hdGlvbiBhcHBsaWVkLlxuICAgICAqIENhbiBiZSB1c2VkIHRvIGdvIGZyb20gYSBjaGlsZCdzIGNvb3JkaW5hdGUgc3BhY2UgdG8gdGhlIHdvcmxkIGNvb3JkaW5hdGUgc3BhY2UuIChlLmcuIHJlbmRlcmluZylcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5JUG9pbnREYXRhfSBwb3MgLSBUaGUgb3JpZ2luXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBbbmV3UG9zXSAtIFRoZSBwb2ludCB0aGF0IHRoZSBuZXcgcG9zaXRpb24gaXMgYXNzaWduZWQgdG8gKGFsbG93ZWQgdG8gYmUgc2FtZSBhcyBpbnB1dClcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlBvaW50fSBUaGUgbmV3IHBvaW50LCB0cmFuc2Zvcm1lZCB0aHJvdWdoIHRoaXMgbWF0cml4XG4gICAgICovXG4gICAgYXBwbHk8UCBleHRlbmRzIElQb2ludERhdGEgPSBQb2ludD4ocG9zOiBJUG9pbnREYXRhLCBuZXdQb3M/OiBQKTogUFxuICAgIHtcbiAgICAgICAgbmV3UG9zID0gKG5ld1BvcyB8fCBuZXcgUG9pbnQoKSkgYXMgUDtcblxuICAgICAgICBjb25zdCB4ID0gcG9zLng7XG4gICAgICAgIGNvbnN0IHkgPSBwb3MueTtcblxuICAgICAgICBuZXdQb3MueCA9ICh0aGlzLmEgKiB4KSArICh0aGlzLmMgKiB5KSArIHRoaXMudHg7XG4gICAgICAgIG5ld1Bvcy55ID0gKHRoaXMuYiAqIHgpICsgKHRoaXMuZCAqIHkpICsgdGhpcy50eTtcblxuICAgICAgICByZXR1cm4gbmV3UG9zO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBhIG5ldyBwb3NpdGlvbiB3aXRoIHRoZSBpbnZlcnNlIG9mIHRoZSBjdXJyZW50IHRyYW5zZm9ybWF0aW9uIGFwcGxpZWQuXG4gICAgICogQ2FuIGJlIHVzZWQgdG8gZ28gZnJvbSB0aGUgd29ybGQgY29vcmRpbmF0ZSBzcGFjZSB0byBhIGNoaWxkJ3MgY29vcmRpbmF0ZSBzcGFjZS4gKGUuZy4gaW5wdXQpXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuSVBvaW50RGF0YX0gcG9zIC0gVGhlIG9yaWdpblxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gW25ld1Bvc10gLSBUaGUgcG9pbnQgdGhhdCB0aGUgbmV3IHBvc2l0aW9uIGlzIGFzc2lnbmVkIHRvIChhbGxvd2VkIHRvIGJlIHNhbWUgYXMgaW5wdXQpXG4gICAgICogQHJldHVybiB7UElYSS5Qb2ludH0gVGhlIG5ldyBwb2ludCwgaW52ZXJzZS10cmFuc2Zvcm1lZCB0aHJvdWdoIHRoaXMgbWF0cml4XG4gICAgICovXG4gICAgYXBwbHlJbnZlcnNlPFAgZXh0ZW5kcyBJUG9pbnREYXRhID0gUG9pbnQ+KHBvczogSVBvaW50RGF0YSwgbmV3UG9zPzogUCk6IFBcbiAgICB7XG4gICAgICAgIG5ld1BvcyA9IChuZXdQb3MgfHwgbmV3IFBvaW50KCkpIGFzIFA7XG5cbiAgICAgICAgY29uc3QgaWQgPSAxIC8gKCh0aGlzLmEgKiB0aGlzLmQpICsgKHRoaXMuYyAqIC10aGlzLmIpKTtcblxuICAgICAgICBjb25zdCB4ID0gcG9zLng7XG4gICAgICAgIGNvbnN0IHkgPSBwb3MueTtcblxuICAgICAgICBuZXdQb3MueCA9ICh0aGlzLmQgKiBpZCAqIHgpICsgKC10aGlzLmMgKiBpZCAqIHkpICsgKCgodGhpcy50eSAqIHRoaXMuYykgLSAodGhpcy50eCAqIHRoaXMuZCkpICogaWQpO1xuICAgICAgICBuZXdQb3MueSA9ICh0aGlzLmEgKiBpZCAqIHkpICsgKC10aGlzLmIgKiBpZCAqIHgpICsgKCgoLXRoaXMudHkgKiB0aGlzLmEpICsgKHRoaXMudHggKiB0aGlzLmIpKSAqIGlkKTtcblxuICAgICAgICByZXR1cm4gbmV3UG9zO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRyYW5zbGF0ZXMgdGhlIG1hdHJpeCBvbiB0aGUgeCBhbmQgeS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gSG93IG11Y2ggdG8gdHJhbnNsYXRlIHggYnlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIEhvdyBtdWNoIHRvIHRyYW5zbGF0ZSB5IGJ5XG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gICAgICovXG4gICAgdHJhbnNsYXRlKHg6IG51bWJlciwgeTogbnVtYmVyKTogdGhpc1xuICAgIHtcbiAgICAgICAgdGhpcy50eCArPSB4O1xuICAgICAgICB0aGlzLnR5ICs9IHk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyBhIHNjYWxlIHRyYW5zZm9ybWF0aW9uIHRvIHRoZSBtYXRyaXguXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFRoZSBhbW91bnQgdG8gc2NhbGUgaG9yaXpvbnRhbGx5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgYW1vdW50IHRvIHNjYWxlIHZlcnRpY2FsbHlcbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhpcyBtYXRyaXguIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cbiAgICAgKi9cbiAgICBzY2FsZSh4OiBudW1iZXIsIHk6IG51bWJlcik6IHRoaXNcbiAgICB7XG4gICAgICAgIHRoaXMuYSAqPSB4O1xuICAgICAgICB0aGlzLmQgKj0geTtcbiAgICAgICAgdGhpcy5jICo9IHg7XG4gICAgICAgIHRoaXMuYiAqPSB5O1xuICAgICAgICB0aGlzLnR4ICo9IHg7XG4gICAgICAgIHRoaXMudHkgKj0geTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIGEgcm90YXRpb24gdHJhbnNmb3JtYXRpb24gdG8gdGhlIG1hdHJpeC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbmdsZSAtIFRoZSBhbmdsZSBpbiByYWRpYW5zLlxuICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGlzIG1hdHJpeC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuICAgICAqL1xuICAgIHJvdGF0ZShhbmdsZTogbnVtYmVyKTogdGhpc1xuICAgIHtcbiAgICAgICAgY29uc3QgY29zID0gTWF0aC5jb3MoYW5nbGUpO1xuICAgICAgICBjb25zdCBzaW4gPSBNYXRoLnNpbihhbmdsZSk7XG5cbiAgICAgICAgY29uc3QgYTEgPSB0aGlzLmE7XG4gICAgICAgIGNvbnN0IGMxID0gdGhpcy5jO1xuICAgICAgICBjb25zdCB0eDEgPSB0aGlzLnR4O1xuXG4gICAgICAgIHRoaXMuYSA9IChhMSAqIGNvcykgLSAodGhpcy5iICogc2luKTtcbiAgICAgICAgdGhpcy5iID0gKGExICogc2luKSArICh0aGlzLmIgKiBjb3MpO1xuICAgICAgICB0aGlzLmMgPSAoYzEgKiBjb3MpIC0gKHRoaXMuZCAqIHNpbik7XG4gICAgICAgIHRoaXMuZCA9IChjMSAqIHNpbikgKyAodGhpcy5kICogY29zKTtcbiAgICAgICAgdGhpcy50eCA9ICh0eDEgKiBjb3MpIC0gKHRoaXMudHkgKiBzaW4pO1xuICAgICAgICB0aGlzLnR5ID0gKHR4MSAqIHNpbikgKyAodGhpcy50eSAqIGNvcyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXBwZW5kcyB0aGUgZ2l2ZW4gTWF0cml4IHRvIHRoaXMgTWF0cml4LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gVGhlIG1hdHJpeCB0byBhcHBlbmQuXG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gICAgICovXG4gICAgYXBwZW5kKG1hdHJpeDogTWF0cml4KTogdGhpc1xuICAgIHtcbiAgICAgICAgY29uc3QgYTEgPSB0aGlzLmE7XG4gICAgICAgIGNvbnN0IGIxID0gdGhpcy5iO1xuICAgICAgICBjb25zdCBjMSA9IHRoaXMuYztcbiAgICAgICAgY29uc3QgZDEgPSB0aGlzLmQ7XG5cbiAgICAgICAgdGhpcy5hID0gKG1hdHJpeC5hICogYTEpICsgKG1hdHJpeC5iICogYzEpO1xuICAgICAgICB0aGlzLmIgPSAobWF0cml4LmEgKiBiMSkgKyAobWF0cml4LmIgKiBkMSk7XG4gICAgICAgIHRoaXMuYyA9IChtYXRyaXguYyAqIGExKSArIChtYXRyaXguZCAqIGMxKTtcbiAgICAgICAgdGhpcy5kID0gKG1hdHJpeC5jICogYjEpICsgKG1hdHJpeC5kICogZDEpO1xuXG4gICAgICAgIHRoaXMudHggPSAobWF0cml4LnR4ICogYTEpICsgKG1hdHJpeC50eSAqIGMxKSArIHRoaXMudHg7XG4gICAgICAgIHRoaXMudHkgPSAobWF0cml4LnR4ICogYjEpICsgKG1hdHJpeC50eSAqIGQxKSArIHRoaXMudHk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbWF0cml4IGJhc2VkIG9uIGFsbCB0aGUgYXZhaWxhYmxlIHByb3BlcnRpZXNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gUG9zaXRpb24gb24gdGhlIHggYXhpc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gUG9zaXRpb24gb24gdGhlIHkgYXhpc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwaXZvdFggLSBQaXZvdCBvbiB0aGUgeCBheGlzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBpdm90WSAtIFBpdm90IG9uIHRoZSB5IGF4aXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NhbGVYIC0gU2NhbGUgb24gdGhlIHggYXhpc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY2FsZVkgLSBTY2FsZSBvbiB0aGUgeSBheGlzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJvdGF0aW9uIC0gUm90YXRpb24gaW4gcmFkaWFuc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBza2V3WCAtIFNrZXcgb24gdGhlIHggYXhpc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBza2V3WSAtIFNrZXcgb24gdGhlIHkgYXhpc1xuICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGlzIG1hdHJpeC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuICAgICAqL1xuICAgIHNldFRyYW5zZm9ybSh4OiBudW1iZXIsIHk6IG51bWJlciwgcGl2b3RYOiBudW1iZXIsIHBpdm90WTogbnVtYmVyLCBzY2FsZVg6IG51bWJlcixcbiAgICAgICAgc2NhbGVZOiBudW1iZXIsIHJvdGF0aW9uOiBudW1iZXIsIHNrZXdYOiBudW1iZXIsIHNrZXdZOiBudW1iZXIpOiB0aGlzXG4gICAge1xuICAgICAgICB0aGlzLmEgPSBNYXRoLmNvcyhyb3RhdGlvbiArIHNrZXdZKSAqIHNjYWxlWDtcbiAgICAgICAgdGhpcy5iID0gTWF0aC5zaW4ocm90YXRpb24gKyBza2V3WSkgKiBzY2FsZVg7XG4gICAgICAgIHRoaXMuYyA9IC1NYXRoLnNpbihyb3RhdGlvbiAtIHNrZXdYKSAqIHNjYWxlWTtcbiAgICAgICAgdGhpcy5kID0gTWF0aC5jb3Mocm90YXRpb24gLSBza2V3WCkgKiBzY2FsZVk7XG5cbiAgICAgICAgdGhpcy50eCA9IHggLSAoKHBpdm90WCAqIHRoaXMuYSkgKyAocGl2b3RZICogdGhpcy5jKSk7XG4gICAgICAgIHRoaXMudHkgPSB5IC0gKChwaXZvdFggKiB0aGlzLmIpICsgKHBpdm90WSAqIHRoaXMuZCkpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFByZXBlbmRzIHRoZSBnaXZlbiBNYXRyaXggdG8gdGhpcyBNYXRyaXguXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBtYXRyaXggLSBUaGUgbWF0cml4IHRvIHByZXBlbmRcbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhpcyBtYXRyaXguIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cbiAgICAgKi9cbiAgICBwcmVwZW5kKG1hdHJpeDogTWF0cml4KTogdGhpc1xuICAgIHtcbiAgICAgICAgY29uc3QgdHgxID0gdGhpcy50eDtcblxuICAgICAgICBpZiAobWF0cml4LmEgIT09IDEgfHwgbWF0cml4LmIgIT09IDAgfHwgbWF0cml4LmMgIT09IDAgfHwgbWF0cml4LmQgIT09IDEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGExID0gdGhpcy5hO1xuICAgICAgICAgICAgY29uc3QgYzEgPSB0aGlzLmM7XG5cbiAgICAgICAgICAgIHRoaXMuYSA9IChhMSAqIG1hdHJpeC5hKSArICh0aGlzLmIgKiBtYXRyaXguYyk7XG4gICAgICAgICAgICB0aGlzLmIgPSAoYTEgKiBtYXRyaXguYikgKyAodGhpcy5iICogbWF0cml4LmQpO1xuICAgICAgICAgICAgdGhpcy5jID0gKGMxICogbWF0cml4LmEpICsgKHRoaXMuZCAqIG1hdHJpeC5jKTtcbiAgICAgICAgICAgIHRoaXMuZCA9IChjMSAqIG1hdHJpeC5iKSArICh0aGlzLmQgKiBtYXRyaXguZCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnR4ID0gKHR4MSAqIG1hdHJpeC5hKSArICh0aGlzLnR5ICogbWF0cml4LmMpICsgbWF0cml4LnR4O1xuICAgICAgICB0aGlzLnR5ID0gKHR4MSAqIG1hdHJpeC5iKSArICh0aGlzLnR5ICogbWF0cml4LmQpICsgbWF0cml4LnR5O1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlY29tcG9zZXMgdGhlIG1hdHJpeCAoeCwgeSwgc2NhbGVYLCBzY2FsZVksIGFuZCByb3RhdGlvbikgYW5kIHNldHMgdGhlIHByb3BlcnRpZXMgb24gdG8gYSB0cmFuc2Zvcm0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuVHJhbnNmb3JtfSB0cmFuc2Zvcm0gLSBUaGUgdHJhbnNmb3JtIHRvIGFwcGx5IHRoZSBwcm9wZXJ0aWVzIHRvLlxuICAgICAqIEByZXR1cm4ge1BJWEkuVHJhbnNmb3JtfSBUaGUgdHJhbnNmb3JtIHdpdGggdGhlIG5ld2x5IGFwcGxpZWQgcHJvcGVydGllc1xuICAgICAqL1xuICAgIGRlY29tcG9zZSh0cmFuc2Zvcm06IFRyYW5zZm9ybSk6IFRyYW5zZm9ybVxuICAgIHtcbiAgICAgICAgLy8gc29ydCBvdXQgcm90YXRpb24gLyBza2V3Li5cbiAgICAgICAgY29uc3QgYSA9IHRoaXMuYTtcbiAgICAgICAgY29uc3QgYiA9IHRoaXMuYjtcbiAgICAgICAgY29uc3QgYyA9IHRoaXMuYztcbiAgICAgICAgY29uc3QgZCA9IHRoaXMuZDtcblxuICAgICAgICBjb25zdCBza2V3WCA9IC1NYXRoLmF0YW4yKC1jLCBkKTtcbiAgICAgICAgY29uc3Qgc2tld1kgPSBNYXRoLmF0YW4yKGIsIGEpO1xuXG4gICAgICAgIGNvbnN0IGRlbHRhID0gTWF0aC5hYnMoc2tld1ggKyBza2V3WSk7XG5cbiAgICAgICAgaWYgKGRlbHRhIDwgMC4wMDAwMSB8fCBNYXRoLmFicyhQSV8yIC0gZGVsdGEpIDwgMC4wMDAwMSlcbiAgICAgICAge1xuICAgICAgICAgICAgdHJhbnNmb3JtLnJvdGF0aW9uID0gc2tld1k7XG4gICAgICAgICAgICB0cmFuc2Zvcm0uc2tldy54ID0gdHJhbnNmb3JtLnNrZXcueSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0cmFuc2Zvcm0ucm90YXRpb24gPSAwO1xuICAgICAgICAgICAgdHJhbnNmb3JtLnNrZXcueCA9IHNrZXdYO1xuICAgICAgICAgICAgdHJhbnNmb3JtLnNrZXcueSA9IHNrZXdZO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbmV4dCBzZXQgc2NhbGVcbiAgICAgICAgdHJhbnNmb3JtLnNjYWxlLnggPSBNYXRoLnNxcnQoKGEgKiBhKSArIChiICogYikpO1xuICAgICAgICB0cmFuc2Zvcm0uc2NhbGUueSA9IE1hdGguc3FydCgoYyAqIGMpICsgKGQgKiBkKSk7XG5cbiAgICAgICAgLy8gbmV4dCBzZXQgcG9zaXRpb25cbiAgICAgICAgdHJhbnNmb3JtLnBvc2l0aW9uLnggPSB0aGlzLnR4O1xuICAgICAgICB0cmFuc2Zvcm0ucG9zaXRpb24ueSA9IHRoaXMudHk7XG5cbiAgICAgICAgcmV0dXJuIHRyYW5zZm9ybTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbnZlcnRzIHRoaXMgbWF0cml4XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhpcyBtYXRyaXguIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cbiAgICAgKi9cbiAgICBpbnZlcnQoKTogdGhpc1xuICAgIHtcbiAgICAgICAgY29uc3QgYTEgPSB0aGlzLmE7XG4gICAgICAgIGNvbnN0IGIxID0gdGhpcy5iO1xuICAgICAgICBjb25zdCBjMSA9IHRoaXMuYztcbiAgICAgICAgY29uc3QgZDEgPSB0aGlzLmQ7XG4gICAgICAgIGNvbnN0IHR4MSA9IHRoaXMudHg7XG4gICAgICAgIGNvbnN0IG4gPSAoYTEgKiBkMSkgLSAoYjEgKiBjMSk7XG5cbiAgICAgICAgdGhpcy5hID0gZDEgLyBuO1xuICAgICAgICB0aGlzLmIgPSAtYjEgLyBuO1xuICAgICAgICB0aGlzLmMgPSAtYzEgLyBuO1xuICAgICAgICB0aGlzLmQgPSBhMSAvIG47XG4gICAgICAgIHRoaXMudHggPSAoKGMxICogdGhpcy50eSkgLSAoZDEgKiB0eDEpKSAvIG47XG4gICAgICAgIHRoaXMudHkgPSAtKChhMSAqIHRoaXMudHkpIC0gKGIxICogdHgxKSkgLyBuO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlc2V0cyB0aGlzIE1hdHJpeCB0byBhbiBpZGVudGl0eSAoZGVmYXVsdCkgbWF0cml4LlxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gICAgICovXG4gICAgaWRlbnRpdHkoKTogdGhpc1xuICAgIHtcbiAgICAgICAgdGhpcy5hID0gMTtcbiAgICAgICAgdGhpcy5iID0gMDtcbiAgICAgICAgdGhpcy5jID0gMDtcbiAgICAgICAgdGhpcy5kID0gMTtcbiAgICAgICAgdGhpcy50eCA9IDA7XG4gICAgICAgIHRoaXMudHkgPSAwO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgTWF0cml4IG9iamVjdCB3aXRoIHRoZSBzYW1lIHZhbHVlcyBhcyB0aGlzIG9uZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBBIGNvcHkgb2YgdGhpcyBtYXRyaXguIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cbiAgICAgKi9cbiAgICBjbG9uZSgpOiBNYXRyaXhcbiAgICB7XG4gICAgICAgIGNvbnN0IG1hdHJpeCA9IG5ldyBNYXRyaXgoKTtcblxuICAgICAgICBtYXRyaXguYSA9IHRoaXMuYTtcbiAgICAgICAgbWF0cml4LmIgPSB0aGlzLmI7XG4gICAgICAgIG1hdHJpeC5jID0gdGhpcy5jO1xuICAgICAgICBtYXRyaXguZCA9IHRoaXMuZDtcbiAgICAgICAgbWF0cml4LnR4ID0gdGhpcy50eDtcbiAgICAgICAgbWF0cml4LnR5ID0gdGhpcy50eTtcblxuICAgICAgICByZXR1cm4gbWF0cml4O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoYW5nZXMgdGhlIHZhbHVlcyBvZiB0aGUgZ2l2ZW4gbWF0cml4IHRvIGJlIHRoZSBzYW1lIGFzIHRoZSBvbmVzIGluIHRoaXMgbWF0cml4XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBtYXRyaXggLSBUaGUgbWF0cml4IHRvIGNvcHkgdG8uXG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoZSBtYXRyaXggZ2l2ZW4gaW4gcGFyYW1ldGVyIHdpdGggaXRzIHZhbHVlcyB1cGRhdGVkLlxuICAgICAqL1xuICAgIGNvcHlUbyhtYXRyaXg6IE1hdHJpeCk6IE1hdHJpeFxuICAgIHtcbiAgICAgICAgbWF0cml4LmEgPSB0aGlzLmE7XG4gICAgICAgIG1hdHJpeC5iID0gdGhpcy5iO1xuICAgICAgICBtYXRyaXguYyA9IHRoaXMuYztcbiAgICAgICAgbWF0cml4LmQgPSB0aGlzLmQ7XG4gICAgICAgIG1hdHJpeC50eCA9IHRoaXMudHg7XG4gICAgICAgIG1hdHJpeC50eSA9IHRoaXMudHk7XG5cbiAgICAgICAgcmV0dXJuIG1hdHJpeDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSB2YWx1ZXMgb2YgdGhlIG1hdHJpeCB0byBiZSB0aGUgc2FtZSBhcyB0aGUgb25lcyBpbiBnaXZlbiBtYXRyaXhcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG1hdHJpeCAtIFRoZSBtYXRyaXggdG8gY29weSBmcm9tLlxuICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSB0aGlzXG4gICAgICovXG4gICAgY29weUZyb20obWF0cml4OiBNYXRyaXgpOiB0aGlzXG4gICAge1xuICAgICAgICB0aGlzLmEgPSBtYXRyaXguYTtcbiAgICAgICAgdGhpcy5iID0gbWF0cml4LmI7XG4gICAgICAgIHRoaXMuYyA9IG1hdHJpeC5jO1xuICAgICAgICB0aGlzLmQgPSBtYXRyaXguZDtcbiAgICAgICAgdGhpcy50eCA9IG1hdHJpeC50eDtcbiAgICAgICAgdGhpcy50eSA9IG1hdHJpeC50eTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIGRlZmF1bHQgKGlkZW50aXR5KSBtYXRyaXhcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAY29uc3RcbiAgICAgKiBAbWVtYmVyIHtQSVhJLk1hdHJpeH1cbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IElERU5USVRZKCk6IE1hdHJpeFxuICAgIHtcbiAgICAgICAgcmV0dXJuIG5ldyBNYXRyaXgoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHRlbXAgbWF0cml4XG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQGNvbnN0XG4gICAgICogQG1lbWJlciB7UElYSS5NYXRyaXh9XG4gICAgICovXG4gICAgc3RhdGljIGdldCBURU1QX01BVFJJWCgpOiBNYXRyaXhcbiAgICB7XG4gICAgICAgIHJldHVybiBuZXcgTWF0cml4KCk7XG4gICAgfVxufVxuIiwiLy8gWW91ciBmcmllbmRseSBuZWlnaGJvdXIgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvRGloZWRyYWxfZ3JvdXBcbi8vXG4vLyBUaGlzIGZpbGUgaW1wbGVtZW50cyB0aGUgZGloZWRyYWwgZ3JvdXAgb2Ygb3JkZXIgMTYsIGFsc28gY2FsbGVkXG4vLyBvZiBkZWdyZWUgOC4gVGhhdCdzIHdoeSBpdHMgY2FsbGVkIGdyb3VwRDguXG5cbmltcG9ydCB7IE1hdHJpeCB9IGZyb20gJy4vTWF0cml4JztcblxuLypcbiAqIFRyYW5zZm9ybSBtYXRyaXggZm9yIG9wZXJhdGlvbiBuIGlzOlxuICogfCB1eCB8IHZ4IHxcbiAqIHwgdXkgfCB2eSB8XG4gKi9cblxuY29uc3QgdXggPSBbMSwgMSwgMCwgLTEsIC0xLCAtMSwgMCwgMSwgMSwgMSwgMCwgLTEsIC0xLCAtMSwgMCwgMV07XG5jb25zdCB1eSA9IFswLCAxLCAxLCAxLCAwLCAtMSwgLTEsIC0xLCAwLCAxLCAxLCAxLCAwLCAtMSwgLTEsIC0xXTtcbmNvbnN0IHZ4ID0gWzAsIC0xLCAtMSwgLTEsIDAsIDEsIDEsIDEsIDAsIDEsIDEsIDEsIDAsIC0xLCAtMSwgLTFdO1xuY29uc3QgdnkgPSBbMSwgMSwgMCwgLTEsIC0xLCAtMSwgMCwgMSwgLTEsIC0xLCAwLCAxLCAxLCAxLCAwLCAtMV07XG5cbi8qKlxuICogW0NheWxleSBUYWJsZV17QGxpbmsgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ2F5bGV5X3RhYmxlfVxuICogZm9yIHRoZSBjb21wb3NpdGlvbiBvZiBlYWNoIHJvdGF0aW9uIGluIHRoZSBkaWhlZGVyYWwgZ3JvdXAgRDguXG4gKlxuICogQHR5cGUgbnVtYmVyW11bXVxuICogQHByaXZhdGVcbiAqL1xuY29uc3Qgcm90YXRpb25DYXlsZXk6IG51bWJlcltdW10gPSBbXTtcblxuLyoqXG4gKiBNYXRyaWNlcyBmb3IgZWFjaCBgR0Q4U3ltbWV0cnlgIHJvdGF0aW9uLlxuICpcbiAqIEB0eXBlIE1hdHJpeFtdXG4gKiBAcHJpdmF0ZVxuICovXG5jb25zdCByb3RhdGlvbk1hdHJpY2VzOiBNYXRyaXhbXSA9IFtdO1xuXG4vKlxuICogQWxpYXMgZm9yIHtAY29kZSBNYXRoLnNpZ259LlxuICovXG5jb25zdCBzaWdudW0gPSBNYXRoLnNpZ247XG5cbi8qXG4gKiBJbml0aWFsaXplcyBgcm90YXRpb25DYXlsZXlgIGFuZCBgcm90YXRpb25NYXRyaWNlc2AuIEl0IGlzIGNhbGxlZFxuICogb25seSBvbmNlIGJlbG93LlxuICovXG5mdW5jdGlvbiBpbml0KCk6IHZvaWRcbntcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDE2OyBpKyspXG4gICAge1xuICAgICAgICBjb25zdCByb3c6IG51bWJlcltdID0gW107XG5cbiAgICAgICAgcm90YXRpb25DYXlsZXkucHVzaChyb3cpO1xuXG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgMTY7IGorKylcbiAgICAgICAge1xuICAgICAgICAgICAgLyogTXVsdGlwbGllcyByb3RhdGlvbiBtYXRyaWNlcyBpIGFuZCBqLiAqL1xuICAgICAgICAgICAgY29uc3QgX3V4ID0gc2lnbnVtKCh1eFtpXSAqIHV4W2pdKSArICh2eFtpXSAqIHV5W2pdKSk7XG4gICAgICAgICAgICBjb25zdCBfdXkgPSBzaWdudW0oKHV5W2ldICogdXhbal0pICsgKHZ5W2ldICogdXlbal0pKTtcbiAgICAgICAgICAgIGNvbnN0IF92eCA9IHNpZ251bSgodXhbaV0gKiB2eFtqXSkgKyAodnhbaV0gKiB2eVtqXSkpO1xuICAgICAgICAgICAgY29uc3QgX3Z5ID0gc2lnbnVtKCh1eVtpXSAqIHZ4W2pdKSArICh2eVtpXSAqIHZ5W2pdKSk7XG5cbiAgICAgICAgICAgIC8qIEZpbmRzIHJvdGF0aW9uIG1hdHJpeCBtYXRjaGluZyB0aGUgcHJvZHVjdCBhbmQgcHVzaGVzIGl0LiAqL1xuICAgICAgICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCAxNjsgaysrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICh1eFtrXSA9PT0gX3V4ICYmIHV5W2tdID09PSBfdXlcbiAgICAgICAgICAgICAgICAgICAgICAmJiB2eFtrXSA9PT0gX3Z4ICYmIHZ5W2tdID09PSBfdnkpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByb3cucHVzaChrKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxNjsgaSsrKVxuICAgIHtcbiAgICAgICAgY29uc3QgbWF0ID0gbmV3IE1hdHJpeCgpO1xuXG4gICAgICAgIG1hdC5zZXQodXhbaV0sIHV5W2ldLCB2eFtpXSwgdnlbaV0sIDAsIDApO1xuICAgICAgICByb3RhdGlvbk1hdHJpY2VzLnB1c2gobWF0KTtcbiAgICB9XG59XG5cbmluaXQoKTtcblxudHlwZSBHRDhTeW1tZXRyeSA9IG51bWJlcjtcbi8qKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlZGVmIHtudW1iZXJ9IEdEOFN5bW1ldHJ5XG4gKiBAc2VlIFBJWEkuZ3JvdXBEOFxuICovXG5cbi8qKlxuICogSW1wbGVtZW50cyB0aGUgZGloZWRyYWwgZ3JvdXAgRDgsIHdoaWNoIGlzIHNpbWlsYXIgdG9cbiAqIFtncm91cCBENF17QGxpbmsgaHR0cDovL21hdGh3b3JsZC53b2xmcmFtLmNvbS9EaWhlZHJhbEdyb3VwRDQuaHRtbH07XG4gKiBEOCBpcyB0aGUgc2FtZSBidXQgd2l0aCBkaWFnb25hbHMsIGFuZCBpdCBpcyB1c2VkIGZvciB0ZXh0dXJlXG4gKiByb3RhdGlvbnMuXG4gKlxuICogVGhlIGRpcmVjdGlvbnMgdGhlIFUtIGFuZCBWLSBheGVzIGFmdGVyIHJvdGF0aW9uXG4gKiBvZiBhbiBhbmdsZSBvZiBgYTogR0Q4Q29uc3RhbnRgIGFyZSB0aGUgdmVjdG9ycyBgKHVYKGEpLCB1WShhKSlgXG4gKiBhbmQgYCh2WChhKSwgdlkoYSkpYC4gVGhlc2UgYXJlbid0IG5lY2Vzc2FyaWx5IHVuaXQgdmVjdG9ycy5cbiAqXG4gKiAqKk9yaWdpbjoqKjxicj5cbiAqICBUaGlzIGlzIHRoZSBzbWFsbCBwYXJ0IG9mIGdhbWVvZmJvbWJzLmNvbSBwb3J0YWwgc3lzdGVtLiBJdCB3b3Jrcy5cbiAqXG4gKiBAc2VlIFBJWEkuZ3JvdXBEOC5FXG4gKiBAc2VlIFBJWEkuZ3JvdXBEOC5TRVxuICogQHNlZSBQSVhJLmdyb3VwRDguU1xuICogQHNlZSBQSVhJLmdyb3VwRDguU1dcbiAqIEBzZWUgUElYSS5ncm91cEQ4LldcbiAqIEBzZWUgUElYSS5ncm91cEQ4Lk5XXG4gKiBAc2VlIFBJWEkuZ3JvdXBEOC5OXG4gKiBAc2VlIFBJWEkuZ3JvdXBEOC5ORVxuICogQGF1dGhvciBJdmFuIEBpdmFucG9wZWx5c2hldlxuICogQG5hbWVzcGFjZSBQSVhJLmdyb3VwRDhcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBjb25zdCBncm91cEQ4ID0ge1xuICAgIC8qKlxuICAgICAqIHwgUm90YXRpb24gfCBEaXJlY3Rpb24gfFxuICAgICAqIHwtLS0tLS0tLS0tfC0tLS0tLS0tLS0tfFxuICAgICAqIHwgMMKwICAgICAgIHwgRWFzdCAgICAgIHxcbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAY29uc3RhbnQge1BJWEkuR0Q4U3ltbWV0cnl9XG4gICAgICovXG4gICAgRTogMCxcblxuICAgIC8qKlxuICAgICAqIHwgUm90YXRpb24gfCBEaXJlY3Rpb24gfFxuICAgICAqIHwtLS0tLS0tLS0tfC0tLS0tLS0tLS0tfFxuICAgICAqIHwgNDXCsOKGuyAgICAgfCBTb3V0aGVhc3QgfFxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuZ3JvdXBEOFxuICAgICAqIEBjb25zdGFudCB7UElYSS5HRDhTeW1tZXRyeX1cbiAgICAgKi9cbiAgICBTRTogMSxcblxuICAgIC8qKlxuICAgICAqIHwgUm90YXRpb24gfCBEaXJlY3Rpb24gfFxuICAgICAqIHwtLS0tLS0tLS0tfC0tLS0tLS0tLS0tfFxuICAgICAqIHwgOTDCsOKGuyAgICAgfCBTb3V0aCAgICAgfFxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuZ3JvdXBEOFxuICAgICAqIEBjb25zdGFudCB7UElYSS5HRDhTeW1tZXRyeX1cbiAgICAgKi9cbiAgICBTOiAyLFxuXG4gICAgLyoqXG4gICAgICogfCBSb3RhdGlvbiB8IERpcmVjdGlvbiB8XG4gICAgICogfC0tLS0tLS0tLS18LS0tLS0tLS0tLS18XG4gICAgICogfCAxMzXCsOKGuyAgICB8IFNvdXRod2VzdCB8XG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQGNvbnN0YW50IHtQSVhJLkdEOFN5bW1ldHJ5fVxuICAgICAqL1xuICAgIFNXOiAzLFxuXG4gICAgLyoqXG4gICAgICogfCBSb3RhdGlvbiB8IERpcmVjdGlvbiB8XG4gICAgICogfC0tLS0tLS0tLS18LS0tLS0tLS0tLS18XG4gICAgICogfCAxODDCsCAgICAgfCBXZXN0ICAgICAgfFxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuZ3JvdXBEOFxuICAgICAqIEBjb25zdGFudCB7UElYSS5HRDhTeW1tZXRyeX1cbiAgICAgKi9cbiAgICBXOiA0LFxuXG4gICAgLyoqXG4gICAgICogfCBSb3RhdGlvbiAgICB8IERpcmVjdGlvbiAgICB8XG4gICAgICogfC0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS18XG4gICAgICogfCAtMTM1wrAvMjI1wrDihrsgfCBOb3J0aHdlc3QgICAgfFxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuZ3JvdXBEOFxuICAgICAqIEBjb25zdGFudCB7UElYSS5HRDhTeW1tZXRyeX1cbiAgICAgKi9cbiAgICBOVzogNSxcblxuICAgIC8qKlxuICAgICAqIHwgUm90YXRpb24gICAgfCBEaXJlY3Rpb24gICAgfFxuICAgICAqIHwtLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tfFxuICAgICAqIHwgLTkwwrAvMjcwwrDihrsgIHwgTm9ydGggICAgICAgIHxcbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAY29uc3RhbnQge1BJWEkuR0Q4U3ltbWV0cnl9XG4gICAgICovXG4gICAgTjogNixcblxuICAgIC8qKlxuICAgICAqIHwgUm90YXRpb24gICAgfCBEaXJlY3Rpb24gICAgfFxuICAgICAqIHwtLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tfFxuICAgICAqIHwgLTQ1wrAvMzE1wrDihrsgIHwgTm9ydGhlYXN0ICAgIHxcbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAY29uc3RhbnQge1BJWEkuR0Q4U3ltbWV0cnl9XG4gICAgICovXG4gICAgTkU6IDcsXG5cbiAgICAvKipcbiAgICAgKiBSZWZsZWN0aW9uIGFib3V0IFktYXhpcy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAY29uc3RhbnQge1BJWEkuR0Q4U3ltbWV0cnl9XG4gICAgICovXG4gICAgTUlSUk9SX1ZFUlRJQ0FMOiA4LFxuXG4gICAgLyoqXG4gICAgICogUmVmbGVjdGlvbiBhYm91dCB0aGUgbWFpbiBkaWFnb25hbC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAY29uc3RhbnQge1BJWEkuR0Q4U3ltbWV0cnl9XG4gICAgICovXG4gICAgTUFJTl9ESUFHT05BTDogMTAsXG5cbiAgICAvKipcbiAgICAgKiBSZWZsZWN0aW9uIGFib3V0IFgtYXhpcy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAY29uc3RhbnQge1BJWEkuR0Q4U3ltbWV0cnl9XG4gICAgICovXG4gICAgTUlSUk9SX0hPUklaT05UQUw6IDEyLFxuXG4gICAgLyoqXG4gICAgICogUmVmbGVjdGlvbiBhYm91dCByZXZlcnNlIGRpYWdvbmFsLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuZ3JvdXBEOFxuICAgICAqIEBjb25zdGFudCB7UElYSS5HRDhTeW1tZXRyeX1cbiAgICAgKi9cbiAgICBSRVZFUlNFX0RJQUdPTkFMOiAxNCxcblxuICAgIC8qKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAcGFyYW0ge1BJWEkuR0Q4U3ltbWV0cnl9IGluZCAtIHNwcml0ZSByb3RhdGlvbiBhbmdsZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdEOFN5bW1ldHJ5fSBUaGUgWC1jb21wb25lbnQgb2YgdGhlIFUtYXhpc1xuICAgICAqICAgIGFmdGVyIHJvdGF0aW5nIHRoZSBheGVzLlxuICAgICAqL1xuICAgIHVYOiAoaW5kOiBHRDhTeW1tZXRyeSk6IEdEOFN5bW1ldHJ5ID0+IHV4W2luZF0sXG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQHBhcmFtIHtQSVhJLkdEOFN5bW1ldHJ5fSBpbmQgLSBzcHJpdGUgcm90YXRpb24gYW5nbGUuXG4gICAgICogQHJldHVybiB7UElYSS5HRDhTeW1tZXRyeX0gVGhlIFktY29tcG9uZW50IG9mIHRoZSBVLWF4aXNcbiAgICAgKiAgICBhZnRlciByb3RhdGluZyB0aGUgYXhlcy5cbiAgICAgKi9cbiAgICB1WTogKGluZDogR0Q4U3ltbWV0cnkpOiBHRDhTeW1tZXRyeSA9PiB1eVtpbmRdLFxuXG4gICAgLyoqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuZ3JvdXBEOFxuICAgICAqIEBwYXJhbSB7UElYSS5HRDhTeW1tZXRyeX0gaW5kIC0gc3ByaXRlIHJvdGF0aW9uIGFuZ2xlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuR0Q4U3ltbWV0cnl9IFRoZSBYLWNvbXBvbmVudCBvZiB0aGUgVi1heGlzXG4gICAgICogICAgYWZ0ZXIgcm90YXRpbmcgdGhlIGF4ZXMuXG4gICAgICovXG4gICAgdlg6IChpbmQ6IEdEOFN5bW1ldHJ5KTogR0Q4U3ltbWV0cnkgPT4gdnhbaW5kXSxcblxuICAgIC8qKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAcGFyYW0ge1BJWEkuR0Q4U3ltbWV0cnl9IGluZCAtIHNwcml0ZSByb3RhdGlvbiBhbmdsZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdEOFN5bW1ldHJ5fSBUaGUgWS1jb21wb25lbnQgb2YgdGhlIFYtYXhpc1xuICAgICAqICAgIGFmdGVyIHJvdGF0aW5nIHRoZSBheGVzLlxuICAgICAqL1xuICAgIHZZOiAoaW5kOiBHRDhTeW1tZXRyeSk6IEdEOFN5bW1ldHJ5ID0+IHZ5W2luZF0sXG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQHBhcmFtIHtQSVhJLkdEOFN5bW1ldHJ5fSByb3RhdGlvbiAtIHN5bW1ldHJ5IHdob3NlIG9wcG9zaXRlXG4gICAgICogICBpcyBuZWVkZWQuIE9ubHkgcm90YXRpb25zIGhhdmUgb3Bwb3NpdGUgc3ltbWV0cmllcyB3aGlsZVxuICAgICAqICAgcmVmbGVjdGlvbnMgZG9uJ3QuXG4gICAgICogQHJldHVybiB7UElYSS5HRDhTeW1tZXRyeX0gVGhlIG9wcG9zaXRlIHN5bW1ldHJ5IG9mIGByb3RhdGlvbmBcbiAgICAgKi9cbiAgICBpbnY6IChyb3RhdGlvbjogR0Q4U3ltbWV0cnkpOiBHRDhTeW1tZXRyeSA9PlxuICAgIHtcbiAgICAgICAgaWYgKHJvdGF0aW9uICYgOCkvLyB0cnVlIG9ubHkgaWYgYmV0d2VlbiA4ICYgMTUgKHJlZmxlY3Rpb25zKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gcm90YXRpb24gJiAxNTsvLyBvciByb3RhdGlvbiAlIDE2XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gKC1yb3RhdGlvbikgJiA3Oy8vIG9yICg4IC0gcm90YXRpb24pICUgOFxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDb21wb3NlcyB0aGUgdHdvIEQ4IG9wZXJhdGlvbnMuXG4gICAgICpcbiAgICAgKiBUYWtpbmcgYF5gIGFzIHJlZmxlY3Rpb246XG4gICAgICpcbiAgICAgKiB8ICAgICAgIHwgRT0wIHwgUz0yIHwgVz00IHwgTj02IHwgRV49OCB8IFNePTEwIHwgV149MTIgfCBOXj0xNCB8XG4gICAgICogfC0tLS0tLS18LS0tLS18LS0tLS18LS0tLS18LS0tLS18LS0tLS0tfC0tLS0tLS18LS0tLS0tLXwtLS0tLS0tfFxuICAgICAqIHwgRT0wICAgfCBFICAgfCBTICAgfCBXICAgfCBOICAgfCBFXiAgIHwgU14gICAgfCBXXiAgICB8IE5eICAgIHxcbiAgICAgKiB8IFM9MiAgIHwgUyAgIHwgVyAgIHwgTiAgIHwgRSAgIHwgU14gICB8IFdeICAgIHwgTl4gICAgfCBFXiAgICB8XG4gICAgICogfCBXPTQgICB8IFcgICB8IE4gICB8IEUgICB8IFMgICB8IFdeICAgfCBOXiAgICB8IEVeICAgIHwgU14gICAgfFxuICAgICAqIHwgTj02ICAgfCBOICAgfCBFICAgfCBTICAgfCBXICAgfCBOXiAgIHwgRV4gICAgfCBTXiAgICB8IFdeICAgIHxcbiAgICAgKiB8IEVePTggIHwgRV4gIHwgTl4gIHwgV14gIHwgU14gIHwgRSAgICB8IE4gICAgIHwgVyAgICAgfCBTICAgICB8XG4gICAgICogfCBTXj0xMCB8IFNeICB8IEVeICB8IE5eICB8IFdeICB8IFMgICAgfCBFICAgICB8IE4gICAgIHwgVyAgICAgfFxuICAgICAqIHwgV149MTIgfCBXXiAgfCBTXiAgfCBFXiAgfCBOXiAgfCBXICAgIHwgUyAgICAgfCBFICAgICB8IE4gICAgIHxcbiAgICAgKiB8IE5ePTE0IHwgTl4gIHwgV14gIHwgU14gIHwgRV4gIHwgTiAgICB8IFcgICAgIHwgUyAgICAgfCBFICAgICB8XG4gICAgICpcbiAgICAgKiBbVGhpcyBpcyBhIENheWxleSB0YWJsZV17QGxpbmsgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ2F5bGV5X3RhYmxlfVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAcGFyYW0ge1BJWEkuR0Q4U3ltbWV0cnl9IHJvdGF0aW9uU2Vjb25kIC0gU2Vjb25kIG9wZXJhdGlvbiwgd2hpY2hcbiAgICAgKiAgIGlzIHRoZSByb3cgaW4gdGhlIGFib3ZlIGNheWxleSB0YWJsZS5cbiAgICAgKiBAcGFyYW0ge1BJWEkuR0Q4U3ltbWV0cnl9IHJvdGF0aW9uRmlyc3QgLSBGaXJzdCBvcGVyYXRpb24sIHdoaWNoXG4gICAgICogICBpcyB0aGUgY29sdW1uIGluIHRoZSBhYm92ZSBjYXlsZXkgdGFibGUuXG4gICAgICogQHJldHVybiB7UElYSS5HRDhTeW1tZXRyeX0gQ29tcG9zZWQgb3BlcmF0aW9uXG4gICAgICovXG4gICAgYWRkOiAocm90YXRpb25TZWNvbmQ6IEdEOFN5bW1ldHJ5LCByb3RhdGlvbkZpcnN0OiBHRDhTeW1tZXRyeSk6IEdEOFN5bW1ldHJ5ID0+IChcbiAgICAgICAgcm90YXRpb25DYXlsZXlbcm90YXRpb25TZWNvbmRdW3JvdGF0aW9uRmlyc3RdXG4gICAgKSxcblxuICAgIC8qKlxuICAgICAqIFJldmVyc2Ugb2YgYGFkZGAuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQHBhcmFtIHtQSVhJLkdEOFN5bW1ldHJ5fSByb3RhdGlvblNlY29uZCAtIFNlY29uZCBvcGVyYXRpb25cbiAgICAgKiBAcGFyYW0ge1BJWEkuR0Q4U3ltbWV0cnl9IHJvdGF0aW9uRmlyc3QgLSBGaXJzdCBvcGVyYXRpb25cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdEOFN5bW1ldHJ5fSBSZXN1bHRcbiAgICAgKi9cbiAgICBzdWI6IChyb3RhdGlvblNlY29uZDogR0Q4U3ltbWV0cnksIHJvdGF0aW9uRmlyc3Q6IEdEOFN5bW1ldHJ5KTogR0Q4U3ltbWV0cnkgPT4gKFxuICAgICAgICByb3RhdGlvbkNheWxleVtyb3RhdGlvblNlY29uZF1bZ3JvdXBEOC5pbnYocm90YXRpb25GaXJzdCldXG4gICAgKSxcblxuICAgIC8qKlxuICAgICAqIEFkZHMgMTgwIGRlZ3JlZXMgdG8gcm90YXRpb24sIHdoaWNoIGlzIGEgY29tbXV0YXRpdmVcbiAgICAgKiBvcGVyYXRpb24uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJvdGF0aW9uIC0gVGhlIG51bWJlciB0byByb3RhdGUuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUm90YXRlZCBudW1iZXJcbiAgICAgKi9cbiAgICByb3RhdGUxODA6IChyb3RhdGlvbjogbnVtYmVyKTogbnVtYmVyID0+IHJvdGF0aW9uIF4gNCxcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiB0aGUgcm90YXRpb24gYW5nbGUgaXMgdmVydGljYWwsIGkuZS4gc291dGhcbiAgICAgKiBvciBub3J0aC4gSXQgZG9lc24ndCB3b3JrIGZvciByZWZsZWN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAcGFyYW0ge1BJWEkuR0Q4U3ltbWV0cnl9IHJvdGF0aW9uIC0gVGhlIG51bWJlciB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gV2hldGhlciBvciBub3QgdGhlIGRpcmVjdGlvbiBpcyB2ZXJ0aWNhbFxuICAgICAqL1xuICAgIGlzVmVydGljYWw6IChyb3RhdGlvbjogR0Q4U3ltbWV0cnkpOiBib29sZWFuID0+IChyb3RhdGlvbiAmIDMpID09PSAyLCAvLyByb3RhdGlvbiAlIDQgPT09IDJcblxuICAgIC8qKlxuICAgICAqIEFwcHJveGltYXRlcyB0aGUgdmVjdG9yIGBWKGR4LGR5KWAgaW50byBvbmUgb2YgdGhlXG4gICAgICogZWlnaHQgZGlyZWN0aW9ucyBwcm92aWRlZCBieSBgZ3JvdXBEOGAuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGR4IC0gWC1jb21wb25lbnQgb2YgdGhlIHZlY3RvclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkeSAtIFktY29tcG9uZW50IG9mIHRoZSB2ZWN0b3JcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdEOFN5bW1ldHJ5fSBBcHByb3hpbWF0aW9uIG9mIHRoZSB2ZWN0b3IgaW50b1xuICAgICAqICBvbmUgb2YgdGhlIGVpZ2h0IHN5bW1ldHJpZXMuXG4gICAgICovXG4gICAgYnlEaXJlY3Rpb246IChkeDogbnVtYmVyLCBkeTogbnVtYmVyKTogR0Q4U3ltbWV0cnkgPT5cbiAgICB7XG4gICAgICAgIGlmIChNYXRoLmFicyhkeCkgKiAyIDw9IE1hdGguYWJzKGR5KSlcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKGR5ID49IDApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdyb3VwRDguUztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGdyb3VwRDguTjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChNYXRoLmFicyhkeSkgKiAyIDw9IE1hdGguYWJzKGR4KSlcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKGR4ID4gMClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ3JvdXBEOC5FO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZ3JvdXBEOC5XO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGR5ID4gMClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKGR4ID4gMClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ3JvdXBEOC5TRTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGdyb3VwRDguU1c7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZHggPiAwKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gZ3JvdXBEOC5ORTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBncm91cEQ4Lk5XO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBIZWxwcyBzcHJpdGUgdG8gY29tcGVuc2F0ZSB0ZXh0dXJlIHBhY2tlciByb3RhdGlvbi5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBtYXRyaXggLSBzcHJpdGUgd29ybGQgbWF0cml4XG4gICAgICogQHBhcmFtIHtQSVhJLkdEOFN5bW1ldHJ5fSByb3RhdGlvbiAtIFRoZSByb3RhdGlvbiBmYWN0b3IgdG8gdXNlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0eCAtIHNwcml0ZSBhbmNob3JpbmdcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdHkgLSBzcHJpdGUgYW5jaG9yaW5nXG4gICAgICovXG4gICAgbWF0cml4QXBwZW5kUm90YXRpb25JbnY6IChtYXRyaXg6IE1hdHJpeCwgcm90YXRpb246IEdEOFN5bW1ldHJ5LCB0eCA9IDAsIHR5ID0gMCk6IHZvaWQgPT5cbiAgICB7XG4gICAgICAgIC8vIFBhY2tlciB1c2VkIFwicm90YXRpb25cIiwgd2UgdXNlIFwiaW52KHJvdGF0aW9uKVwiXG4gICAgICAgIGNvbnN0IG1hdDogTWF0cml4ID0gcm90YXRpb25NYXRyaWNlc1tncm91cEQ4Lmludihyb3RhdGlvbildO1xuXG4gICAgICAgIG1hdC50eCA9IHR4O1xuICAgICAgICBtYXQudHkgPSB0eTtcbiAgICAgICAgbWF0cml4LmFwcGVuZChtYXQpO1xuICAgIH0sXG59O1xuIiwiaW1wb3J0IHsgT2JzZXJ2YWJsZVBvaW50IH0gZnJvbSAnLi9PYnNlcnZhYmxlUG9pbnQnO1xuaW1wb3J0IHsgTWF0cml4IH0gZnJvbSAnLi9NYXRyaXgnO1xuXG4vKipcbiAqIFRyYW5zZm9ybSB0aGF0IHRha2VzIGNhcmUgYWJvdXQgaXRzIHZlcnNpb25zXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgY2xhc3MgVHJhbnNmb3JtXG57XG4gICAgLyoqXG4gICAgICogQSBkZWZhdWx0IChpZGVudGl0eSkgdHJhbnNmb3JtXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQGNvbnN0YW50XG4gICAgICogQG1lbWJlciB7UElYSS5UcmFuc2Zvcm19XG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBJREVOVElUWSA9IG5ldyBUcmFuc2Zvcm0oKTtcblxuICAgIHB1YmxpYyB3b3JsZFRyYW5zZm9ybTogTWF0cml4O1xuICAgIHB1YmxpYyBsb2NhbFRyYW5zZm9ybTogTWF0cml4O1xuICAgIHB1YmxpYyBwb3NpdGlvbjogT2JzZXJ2YWJsZVBvaW50O1xuICAgIHB1YmxpYyBzY2FsZTogT2JzZXJ2YWJsZVBvaW50O1xuICAgIHB1YmxpYyBwaXZvdDogT2JzZXJ2YWJsZVBvaW50O1xuICAgIHB1YmxpYyBza2V3OiBPYnNlcnZhYmxlUG9pbnQ7XG4gICAgcHVibGljIF9wYXJlbnRJRDogbnVtYmVyO1xuICAgIF93b3JsZElEOiBudW1iZXI7XG5cbiAgICBwcm90ZWN0ZWQgX3JvdGF0aW9uOiBudW1iZXI7XG4gICAgcHJvdGVjdGVkIF9jeDogbnVtYmVyO1xuICAgIHByb3RlY3RlZCBfc3g6IG51bWJlcjtcbiAgICBwcm90ZWN0ZWQgX2N5OiBudW1iZXI7XG4gICAgcHJvdGVjdGVkIF9zeTogbnVtYmVyO1xuICAgIHByb3RlY3RlZCBfbG9jYWxJRDogbnVtYmVyO1xuICAgIHByb3RlY3RlZCBfY3VycmVudExvY2FsSUQ6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKClcbiAgICB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd29ybGQgdHJhbnNmb3JtYXRpb24gbWF0cml4LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1hdHJpeH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMud29ybGRUcmFuc2Zvcm0gPSBuZXcgTWF0cml4KCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBsb2NhbCB0cmFuc2Zvcm1hdGlvbiBtYXRyaXguXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5sb2NhbFRyYW5zZm9ybSA9IG5ldyBNYXRyaXgoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNvb3JkaW5hdGUgb2YgdGhlIG9iamVjdCByZWxhdGl2ZSB0byB0aGUgbG9jYWwgY29vcmRpbmF0ZXMgb2YgdGhlIHBhcmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBvc2l0aW9uID0gbmV3IE9ic2VydmFibGVQb2ludCh0aGlzLm9uQ2hhbmdlLCB0aGlzLCAwLCAwKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNjYWxlIGZhY3RvciBvZiB0aGUgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2NhbGUgPSBuZXcgT2JzZXJ2YWJsZVBvaW50KHRoaXMub25DaGFuZ2UsIHRoaXMsIDEsIDEpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcGl2b3QgcG9pbnQgb2YgdGhlIGRpc3BsYXlPYmplY3QgdGhhdCBpdCByb3RhdGVzIGFyb3VuZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBpdm90ID0gbmV3IE9ic2VydmFibGVQb2ludCh0aGlzLm9uQ2hhbmdlLCB0aGlzLCAwLCAwKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNrZXcgYW1vdW50LCBvbiB0aGUgeCBhbmQgeSBheGlzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2tldyA9IG5ldyBPYnNlcnZhYmxlUG9pbnQodGhpcy51cGRhdGVTa2V3LCB0aGlzLCAwLCAwKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJvdGF0aW9uIGFtb3VudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9yb3RhdGlvbiA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBYLWNvb3JkaW5hdGUgdmFsdWUgb2YgdGhlIG5vcm1hbGl6ZWQgbG9jYWwgWCBheGlzLFxuICAgICAgICAgKiB0aGUgZmlyc3QgY29sdW1uIG9mIHRoZSBsb2NhbCB0cmFuc2Zvcm1hdGlvbiBtYXRyaXggd2l0aG91dCBhIHNjYWxlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2N4ID0gMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFktY29vcmRpbmF0ZSB2YWx1ZSBvZiB0aGUgbm9ybWFsaXplZCBsb2NhbCBYIGF4aXMsXG4gICAgICAgICAqIHRoZSBmaXJzdCBjb2x1bW4gb2YgdGhlIGxvY2FsIHRyYW5zZm9ybWF0aW9uIG1hdHJpeCB3aXRob3V0IGEgc2NhbGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fc3ggPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgWC1jb29yZGluYXRlIHZhbHVlIG9mIHRoZSBub3JtYWxpemVkIGxvY2FsIFkgYXhpcyxcbiAgICAgICAgICogdGhlIHNlY29uZCBjb2x1bW4gb2YgdGhlIGxvY2FsIHRyYW5zZm9ybWF0aW9uIG1hdHJpeCB3aXRob3V0IGEgc2NhbGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fY3kgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgWS1jb29yZGluYXRlIHZhbHVlIG9mIHRoZSBub3JtYWxpemVkIGxvY2FsIFkgYXhpcyxcbiAgICAgICAgICogdGhlIHNlY29uZCBjb2x1bW4gb2YgdGhlIGxvY2FsIHRyYW5zZm9ybWF0aW9uIG1hdHJpeCB3aXRob3V0IGEgc2NhbGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fc3kgPSAxO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbG9jYWxseSB1bmlxdWUgSUQgb2YgdGhlIGxvY2FsIHRyYW5zZm9ybS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9sb2NhbElEID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGxvY2FsbHkgdW5pcXVlIElEIG9mIHRoZSBsb2NhbCB0cmFuc2Zvcm1cbiAgICAgICAgICogdXNlZCB0byBjYWxjdWxhdGUgdGhlIGN1cnJlbnQgbG9jYWwgdHJhbnNmb3JtYXRpb24gbWF0cml4LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2N1cnJlbnRMb2NhbElEID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGxvY2FsbHkgdW5pcXVlIElEIG9mIHRoZSB3b3JsZCB0cmFuc2Zvcm0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fd29ybGRJRCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBsb2NhbGx5IHVuaXF1ZSBJRCBvZiB0aGUgcGFyZW50J3Mgd29ybGQgdHJhbnNmb3JtXG4gICAgICAgICAqIHVzZWQgdG8gY2FsY3VsYXRlIHRoZSBjdXJyZW50IHdvcmxkIHRyYW5zZm9ybWF0aW9uIG1hdHJpeC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9wYXJlbnRJRCA9IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gYSB2YWx1ZSBjaGFuZ2VzLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIHByb3RlY3RlZCBvbkNoYW5nZSgpOiB2b2lkXG4gICAge1xuICAgICAgICB0aGlzLl9sb2NhbElEKys7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gdGhlIHNrZXcgb3IgdGhlIHJvdGF0aW9uIGNoYW5nZXMuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgcHJvdGVjdGVkIHVwZGF0ZVNrZXcoKTogdm9pZFxuICAgIHtcbiAgICAgICAgdGhpcy5fY3ggPSBNYXRoLmNvcyh0aGlzLl9yb3RhdGlvbiArIHRoaXMuc2tldy55KTtcbiAgICAgICAgdGhpcy5fc3ggPSBNYXRoLnNpbih0aGlzLl9yb3RhdGlvbiArIHRoaXMuc2tldy55KTtcbiAgICAgICAgdGhpcy5fY3kgPSAtTWF0aC5zaW4odGhpcy5fcm90YXRpb24gLSB0aGlzLnNrZXcueCk7IC8vIGNvcywgYWRkZWQgUEkvMlxuICAgICAgICB0aGlzLl9zeSA9IE1hdGguY29zKHRoaXMuX3JvdGF0aW9uIC0gdGhpcy5za2V3LngpOyAvLyBzaW4sIGFkZGVkIFBJLzJcblxuICAgICAgICB0aGlzLl9sb2NhbElEKys7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgbG9jYWwgdHJhbnNmb3JtYXRpb24gbWF0cml4LlxuICAgICAqL1xuICAgIHVwZGF0ZUxvY2FsVHJhbnNmb3JtKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIGNvbnN0IGx0ID0gdGhpcy5sb2NhbFRyYW5zZm9ybTtcblxuICAgICAgICBpZiAodGhpcy5fbG9jYWxJRCAhPT0gdGhpcy5fY3VycmVudExvY2FsSUQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIGdldCB0aGUgbWF0cml4IHZhbHVlcyBvZiB0aGUgZGlzcGxheW9iamVjdCBiYXNlZCBvbiBpdHMgdHJhbnNmb3JtIHByb3BlcnRpZXMuLlxuICAgICAgICAgICAgbHQuYSA9IHRoaXMuX2N4ICogdGhpcy5zY2FsZS54O1xuICAgICAgICAgICAgbHQuYiA9IHRoaXMuX3N4ICogdGhpcy5zY2FsZS54O1xuICAgICAgICAgICAgbHQuYyA9IHRoaXMuX2N5ICogdGhpcy5zY2FsZS55O1xuICAgICAgICAgICAgbHQuZCA9IHRoaXMuX3N5ICogdGhpcy5zY2FsZS55O1xuXG4gICAgICAgICAgICBsdC50eCA9IHRoaXMucG9zaXRpb24ueCAtICgodGhpcy5waXZvdC54ICogbHQuYSkgKyAodGhpcy5waXZvdC55ICogbHQuYykpO1xuICAgICAgICAgICAgbHQudHkgPSB0aGlzLnBvc2l0aW9uLnkgLSAoKHRoaXMucGl2b3QueCAqIGx0LmIpICsgKHRoaXMucGl2b3QueSAqIGx0LmQpKTtcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRMb2NhbElEID0gdGhpcy5fbG9jYWxJRDtcblxuICAgICAgICAgICAgLy8gZm9yY2UgYW4gdXBkYXRlLi5cbiAgICAgICAgICAgIHRoaXMuX3BhcmVudElEID0gLTE7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBsb2NhbCBhbmQgdGhlIHdvcmxkIHRyYW5zZm9ybWF0aW9uIG1hdHJpY2VzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlRyYW5zZm9ybX0gcGFyZW50VHJhbnNmb3JtIC0gVGhlIHBhcmVudCB0cmFuc2Zvcm1cbiAgICAgKi9cbiAgICB1cGRhdGVUcmFuc2Zvcm0ocGFyZW50VHJhbnNmb3JtOiBUcmFuc2Zvcm0pOiB2b2lkXG4gICAge1xuICAgICAgICBjb25zdCBsdCA9IHRoaXMubG9jYWxUcmFuc2Zvcm07XG5cbiAgICAgICAgaWYgKHRoaXMuX2xvY2FsSUQgIT09IHRoaXMuX2N1cnJlbnRMb2NhbElEKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBnZXQgdGhlIG1hdHJpeCB2YWx1ZXMgb2YgdGhlIGRpc3BsYXlvYmplY3QgYmFzZWQgb24gaXRzIHRyYW5zZm9ybSBwcm9wZXJ0aWVzLi5cbiAgICAgICAgICAgIGx0LmEgPSB0aGlzLl9jeCAqIHRoaXMuc2NhbGUueDtcbiAgICAgICAgICAgIGx0LmIgPSB0aGlzLl9zeCAqIHRoaXMuc2NhbGUueDtcbiAgICAgICAgICAgIGx0LmMgPSB0aGlzLl9jeSAqIHRoaXMuc2NhbGUueTtcbiAgICAgICAgICAgIGx0LmQgPSB0aGlzLl9zeSAqIHRoaXMuc2NhbGUueTtcblxuICAgICAgICAgICAgbHQudHggPSB0aGlzLnBvc2l0aW9uLnggLSAoKHRoaXMucGl2b3QueCAqIGx0LmEpICsgKHRoaXMucGl2b3QueSAqIGx0LmMpKTtcbiAgICAgICAgICAgIGx0LnR5ID0gdGhpcy5wb3NpdGlvbi55IC0gKCh0aGlzLnBpdm90LnggKiBsdC5iKSArICh0aGlzLnBpdm90LnkgKiBsdC5kKSk7XG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50TG9jYWxJRCA9IHRoaXMuX2xvY2FsSUQ7XG5cbiAgICAgICAgICAgIC8vIGZvcmNlIGFuIHVwZGF0ZS4uXG4gICAgICAgICAgICB0aGlzLl9wYXJlbnRJRCA9IC0xO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX3BhcmVudElEICE9PSBwYXJlbnRUcmFuc2Zvcm0uX3dvcmxkSUQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIGNvbmNhdCB0aGUgcGFyZW50IG1hdHJpeCB3aXRoIHRoZSBvYmplY3RzIHRyYW5zZm9ybS5cbiAgICAgICAgICAgIGNvbnN0IHB0ID0gcGFyZW50VHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuICAgICAgICAgICAgY29uc3Qgd3QgPSB0aGlzLndvcmxkVHJhbnNmb3JtO1xuXG4gICAgICAgICAgICB3dC5hID0gKGx0LmEgKiBwdC5hKSArIChsdC5iICogcHQuYyk7XG4gICAgICAgICAgICB3dC5iID0gKGx0LmEgKiBwdC5iKSArIChsdC5iICogcHQuZCk7XG4gICAgICAgICAgICB3dC5jID0gKGx0LmMgKiBwdC5hKSArIChsdC5kICogcHQuYyk7XG4gICAgICAgICAgICB3dC5kID0gKGx0LmMgKiBwdC5iKSArIChsdC5kICogcHQuZCk7XG4gICAgICAgICAgICB3dC50eCA9IChsdC50eCAqIHB0LmEpICsgKGx0LnR5ICogcHQuYykgKyBwdC50eDtcbiAgICAgICAgICAgIHd0LnR5ID0gKGx0LnR4ICogcHQuYikgKyAobHQudHkgKiBwdC5kKSArIHB0LnR5O1xuXG4gICAgICAgICAgICB0aGlzLl9wYXJlbnRJRCA9IHBhcmVudFRyYW5zZm9ybS5fd29ybGRJRDtcblxuICAgICAgICAgICAgLy8gdXBkYXRlIHRoZSBpZCBvZiB0aGUgdHJhbnNmb3JtLi5cbiAgICAgICAgICAgIHRoaXMuX3dvcmxkSUQrKztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlY29tcG9zZXMgYSBtYXRyaXggYW5kIHNldHMgdGhlIHRyYW5zZm9ybXMgcHJvcGVydGllcyBiYXNlZCBvbiBpdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG1hdHJpeCAtIFRoZSBtYXRyaXggdG8gZGVjb21wb3NlXG4gICAgICovXG4gICAgc2V0RnJvbU1hdHJpeChtYXRyaXg6IE1hdHJpeCk6IHZvaWRcbiAgICB7XG4gICAgICAgIG1hdHJpeC5kZWNvbXBvc2UodGhpcyk7XG4gICAgICAgIHRoaXMuX2xvY2FsSUQrKztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcm90YXRpb24gb2YgdGhlIG9iamVjdCBpbiByYWRpYW5zLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIGdldCByb3RhdGlvbigpOiBudW1iZXJcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yb3RhdGlvbjtcbiAgICB9XG5cbiAgICBzZXQgcm90YXRpb24odmFsdWU6IG51bWJlcilcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9yb3RhdGlvbiAhPT0gdmFsdWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3JvdGF0aW9uID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVNrZXcoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuXG4vKipcbiAqIFNldHMgdGhlIGRlZmF1bHQgdmFsdWUgZm9yIHRoZSBjb250YWluZXIgcHJvcGVydHkgJ3NvcnRhYmxlQ2hpbGRyZW4nLlxuICogSWYgc2V0IHRvIHRydWUsIHRoZSBjb250YWluZXIgd2lsbCBzb3J0IGl0cyBjaGlsZHJlbiBieSB6SW5kZXggdmFsdWVcbiAqIHdoZW4gdXBkYXRlVHJhbnNmb3JtKCkgaXMgY2FsbGVkLCBvciBtYW51YWxseSBpZiBzb3J0Q2hpbGRyZW4oKSBpcyBjYWxsZWQuXG4gKlxuICogVGhpcyBhY3R1YWxseSBjaGFuZ2VzIHRoZSBvcmRlciBvZiBlbGVtZW50cyBpbiB0aGUgYXJyYXksIHNvIHNob3VsZCBiZSB0cmVhdGVkXG4gKiBhcyBhIGJhc2ljIHNvbHV0aW9uIHRoYXQgaXMgbm90IHBlcmZvcm1hbnQgY29tcGFyZWQgdG8gb3RoZXIgc29sdXRpb25zLFxuICogc3VjaCBhcyBAbGluayBodHRwczovL2dpdGh1Yi5jb20vcGl4aWpzL3BpeGktZGlzcGxheVxuICpcbiAqIEFsc28gYmUgYXdhcmUgb2YgdGhhdCB0aGlzIG1heSBub3Qgd29yayBuaWNlbHkgd2l0aCB0aGUgYWRkQ2hpbGRBdCgpIGZ1bmN0aW9uLFxuICogYXMgdGhlIHpJbmRleCBzb3J0aW5nIG1heSBjYXVzZSB0aGUgY2hpbGQgdG8gYXV0b21hdGljYWxseSBzb3J0ZWQgdG8gYW5vdGhlciBwb3NpdGlvbi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBuYW1lIFNPUlRBQkxFX0NISUxEUkVOXG4gKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICogQHR5cGUge2Jvb2xlYW59XG4gKiBAZGVmYXVsdCBmYWxzZVxuICovXG5zZXR0aW5ncy5TT1JUQUJMRV9DSElMRFJFTiA9IGZhbHNlO1xuXG5leHBvcnQgeyBzZXR0aW5ncyB9O1xuIiwiaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5cbmltcG9ydCB0eXBlIHsgSVBvaW50RGF0YSwgVHJhbnNmb3JtLCBNYXRyaXggfSBmcm9tICdAcGl4aS9tYXRoJztcblxuLyoqXG4gKiAnQnVpbGRlcicgcGF0dGVybiBmb3IgYm91bmRzIHJlY3RhbmdsZXMuXG4gKlxuICogVGhpcyBjb3VsZCBiZSBjYWxsZWQgYW4gQXhpcy1BbGlnbmVkIEJvdW5kaW5nIEJveC5cbiAqIEl0IGlzIG5vdCBhbiBhY3R1YWwgc2hhcGUuIEl0IGlzIGEgbXV0YWJsZSB0aGluZzsgbm8gJ0VNUFRZJyBvciB0aG9zZSBraW5kIG9mIHByb2JsZW1zLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGNsYXNzIEJvdW5kc1xue1xuICAgIHB1YmxpYyBtaW5YOiBudW1iZXI7XG4gICAgcHVibGljIG1pblk6IG51bWJlcjtcbiAgICBwdWJsaWMgbWF4WDogbnVtYmVyO1xuICAgIHB1YmxpYyBtYXhZOiBudW1iZXI7XG4gICAgcHVibGljIHJlY3Q6IFJlY3RhbmdsZTtcbiAgICBwdWJsaWMgdXBkYXRlSUQ6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKClcbiAgICB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWluWCA9IEluZmluaXR5O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWluWSA9IEluZmluaXR5O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWF4WCA9IC1JbmZpbml0eTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1heFkgPSAtSW5maW5pdHk7XG5cbiAgICAgICAgdGhpcy5yZWN0ID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSXQgaXMgdXBkYXRlZCB0byBfYm91bmRzSUQgb2YgY29ycmVzcG9uZGluZyBvYmplY3QgdG8ga2VlcCBib3VuZHMgaW4gc3luYyB3aXRoIGNvbnRlbnQuXG4gICAgICAgICAqIFVwZGF0ZWQgZnJvbSBvdXRzaWRlLCB0aHVzIHB1YmxpYyBtb2RpZmllci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHVibGljXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnVwZGF0ZUlEID0gLTE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGJvdW5kcyBhcmUgZW1wdHkuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIGVtcHR5LlxuICAgICAqL1xuICAgIGlzRW1wdHkoKTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWluWCA+IHRoaXMubWF4WCB8fCB0aGlzLm1pblkgPiB0aGlzLm1heFk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2xlYXJzIHRoZSBib3VuZHMgYW5kIHJlc2V0cy5cbiAgICAgKlxuICAgICAqL1xuICAgIGNsZWFyKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHRoaXMubWluWCA9IEluZmluaXR5O1xuICAgICAgICB0aGlzLm1pblkgPSBJbmZpbml0eTtcbiAgICAgICAgdGhpcy5tYXhYID0gLUluZmluaXR5O1xuICAgICAgICB0aGlzLm1heFkgPSAtSW5maW5pdHk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FuIHJldHVybiBSZWN0YW5nbGUuRU1QVFkgY29uc3RhbnQsIGVpdGhlciBjb25zdHJ1Y3QgbmV3IHJlY3RhbmdsZSwgZWl0aGVyIHVzZSB5b3VyIHJlY3RhbmdsZVxuICAgICAqIEl0IGlzIG5vdCBndWFyYW50ZWVkIHRoYXQgaXQgd2lsbCByZXR1cm4gdGVtcFJlY3RcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IHJlY3QgLSB0ZW1wb3Jhcnkgb2JqZWN0IHdpbGwgYmUgdXNlZCBpZiBBQUJCIGlzIG5vdCBlbXB0eVxuICAgICAqIEByZXR1cm5zIHtQSVhJLlJlY3RhbmdsZX0gQSByZWN0YW5nbGUgb2YgdGhlIGJvdW5kc1xuICAgICAqL1xuICAgIGdldFJlY3RhbmdsZShyZWN0PzogUmVjdGFuZ2xlKTogUmVjdGFuZ2xlXG4gICAge1xuICAgICAgICBpZiAodGhpcy5taW5YID4gdGhpcy5tYXhYIHx8IHRoaXMubWluWSA+IHRoaXMubWF4WSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIFJlY3RhbmdsZS5FTVBUWTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlY3QgPSByZWN0IHx8IG5ldyBSZWN0YW5nbGUoMCwgMCwgMSwgMSk7XG5cbiAgICAgICAgcmVjdC54ID0gdGhpcy5taW5YO1xuICAgICAgICByZWN0LnkgPSB0aGlzLm1pblk7XG4gICAgICAgIHJlY3Qud2lkdGggPSB0aGlzLm1heFggLSB0aGlzLm1pblg7XG4gICAgICAgIHJlY3QuaGVpZ2h0ID0gdGhpcy5tYXhZIC0gdGhpcy5taW5ZO1xuXG4gICAgICAgIHJldHVybiByZWN0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gc2hvdWxkIGJlIGlubGluZWQgd2hlbiBpdHMgcG9zc2libGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuSVBvaW50RGF0YX0gcG9pbnQgLSBUaGUgcG9pbnQgdG8gYWRkLlxuICAgICAqL1xuICAgIGFkZFBvaW50KHBvaW50OiBJUG9pbnREYXRhKTogdm9pZFxuICAgIHtcbiAgICAgICAgdGhpcy5taW5YID0gTWF0aC5taW4odGhpcy5taW5YLCBwb2ludC54KTtcbiAgICAgICAgdGhpcy5tYXhYID0gTWF0aC5tYXgodGhpcy5tYXhYLCBwb2ludC54KTtcbiAgICAgICAgdGhpcy5taW5ZID0gTWF0aC5taW4odGhpcy5taW5ZLCBwb2ludC55KTtcbiAgICAgICAgdGhpcy5tYXhZID0gTWF0aC5tYXgodGhpcy5tYXhZLCBwb2ludC55KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgcXVhZCwgbm90IHRyYW5zZm9ybWVkXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheX0gdmVydGljZXMgLSBUaGUgdmVydHMgdG8gYWRkLlxuICAgICAqL1xuICAgIGFkZFF1YWQodmVydGljZXM6IEZsb2F0MzJBcnJheSk6IHZvaWRcbiAgICB7XG4gICAgICAgIGxldCBtaW5YID0gdGhpcy5taW5YO1xuICAgICAgICBsZXQgbWluWSA9IHRoaXMubWluWTtcbiAgICAgICAgbGV0IG1heFggPSB0aGlzLm1heFg7XG4gICAgICAgIGxldCBtYXhZID0gdGhpcy5tYXhZO1xuXG4gICAgICAgIGxldCB4ID0gdmVydGljZXNbMF07XG4gICAgICAgIGxldCB5ID0gdmVydGljZXNbMV07XG5cbiAgICAgICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgICAgIG1pblkgPSB5IDwgbWluWSA/IHkgOiBtaW5ZO1xuICAgICAgICBtYXhYID0geCA+IG1heFggPyB4IDogbWF4WDtcbiAgICAgICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG5cbiAgICAgICAgeCA9IHZlcnRpY2VzWzJdO1xuICAgICAgICB5ID0gdmVydGljZXNbM107XG4gICAgICAgIG1pblggPSB4IDwgbWluWCA/IHggOiBtaW5YO1xuICAgICAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICAgICAgbWF4WCA9IHggPiBtYXhYID8geCA6IG1heFg7XG4gICAgICAgIG1heFkgPSB5ID4gbWF4WSA/IHkgOiBtYXhZO1xuXG4gICAgICAgIHggPSB2ZXJ0aWNlc1s0XTtcbiAgICAgICAgeSA9IHZlcnRpY2VzWzVdO1xuICAgICAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICAgICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgICAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcblxuICAgICAgICB4ID0gdmVydGljZXNbNl07XG4gICAgICAgIHkgPSB2ZXJ0aWNlc1s3XTtcbiAgICAgICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgICAgIG1pblkgPSB5IDwgbWluWSA/IHkgOiBtaW5ZO1xuICAgICAgICBtYXhYID0geCA+IG1heFggPyB4IDogbWF4WDtcbiAgICAgICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG5cbiAgICAgICAgdGhpcy5taW5YID0gbWluWDtcbiAgICAgICAgdGhpcy5taW5ZID0gbWluWTtcbiAgICAgICAgdGhpcy5tYXhYID0gbWF4WDtcbiAgICAgICAgdGhpcy5tYXhZID0gbWF4WTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIHNwcml0ZSBmcmFtZSwgdHJhbnNmb3JtZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuVHJhbnNmb3JtfSB0cmFuc2Zvcm0gLSB0cmFuc2Zvcm0gdG8gYXBwbHlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geDAgLSBsZWZ0IFggb2YgZnJhbWVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geTAgLSB0b3AgWSBvZiBmcmFtZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4MSAtIHJpZ2h0IFggb2YgZnJhbWVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geTEgLSBib3R0b20gWSBvZiBmcmFtZVxuICAgICAqL1xuICAgIGFkZEZyYW1lKHRyYW5zZm9ybTogVHJhbnNmb3JtLCB4MDogbnVtYmVyLCB5MDogbnVtYmVyLCB4MTogbnVtYmVyLCB5MTogbnVtYmVyKTogdm9pZFxuICAgIHtcbiAgICAgICAgdGhpcy5hZGRGcmFtZU1hdHJpeCh0cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm0sIHgwLCB5MCwgeDEsIHkxKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIHNwcml0ZSBmcmFtZSwgbXVsdGlwbGllZCBieSBtYXRyaXhcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG1hdHJpeCAtIG1hdHJpeCB0byBhcHBseVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4MCAtIGxlZnQgWCBvZiBmcmFtZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5MCAtIHRvcCBZIG9mIGZyYW1lXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHgxIC0gcmlnaHQgWCBvZiBmcmFtZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5MSAtIGJvdHRvbSBZIG9mIGZyYW1lXG4gICAgICovXG4gICAgYWRkRnJhbWVNYXRyaXgobWF0cml4OiBNYXRyaXgsIHgwOiBudW1iZXIsIHkwOiBudW1iZXIsIHgxOiBudW1iZXIsIHkxOiBudW1iZXIpOiB2b2lkXG4gICAge1xuICAgICAgICBjb25zdCBhID0gbWF0cml4LmE7XG4gICAgICAgIGNvbnN0IGIgPSBtYXRyaXguYjtcbiAgICAgICAgY29uc3QgYyA9IG1hdHJpeC5jO1xuICAgICAgICBjb25zdCBkID0gbWF0cml4LmQ7XG4gICAgICAgIGNvbnN0IHR4ID0gbWF0cml4LnR4O1xuICAgICAgICBjb25zdCB0eSA9IG1hdHJpeC50eTtcblxuICAgICAgICBsZXQgbWluWCA9IHRoaXMubWluWDtcbiAgICAgICAgbGV0IG1pblkgPSB0aGlzLm1pblk7XG4gICAgICAgIGxldCBtYXhYID0gdGhpcy5tYXhYO1xuICAgICAgICBsZXQgbWF4WSA9IHRoaXMubWF4WTtcblxuICAgICAgICBsZXQgeCA9IChhICogeDApICsgKGMgKiB5MCkgKyB0eDtcbiAgICAgICAgbGV0IHkgPSAoYiAqIHgwKSArIChkICogeTApICsgdHk7XG5cbiAgICAgICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgICAgIG1pblkgPSB5IDwgbWluWSA/IHkgOiBtaW5ZO1xuICAgICAgICBtYXhYID0geCA+IG1heFggPyB4IDogbWF4WDtcbiAgICAgICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG5cbiAgICAgICAgeCA9IChhICogeDEpICsgKGMgKiB5MCkgKyB0eDtcbiAgICAgICAgeSA9IChiICogeDEpICsgKGQgKiB5MCkgKyB0eTtcbiAgICAgICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgICAgIG1pblkgPSB5IDwgbWluWSA/IHkgOiBtaW5ZO1xuICAgICAgICBtYXhYID0geCA+IG1heFggPyB4IDogbWF4WDtcbiAgICAgICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG5cbiAgICAgICAgeCA9IChhICogeDApICsgKGMgKiB5MSkgKyB0eDtcbiAgICAgICAgeSA9IChiICogeDApICsgKGQgKiB5MSkgKyB0eTtcbiAgICAgICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgICAgIG1pblkgPSB5IDwgbWluWSA/IHkgOiBtaW5ZO1xuICAgICAgICBtYXhYID0geCA+IG1heFggPyB4IDogbWF4WDtcbiAgICAgICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG5cbiAgICAgICAgeCA9IChhICogeDEpICsgKGMgKiB5MSkgKyB0eDtcbiAgICAgICAgeSA9IChiICogeDEpICsgKGQgKiB5MSkgKyB0eTtcbiAgICAgICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgICAgIG1pblkgPSB5IDwgbWluWSA/IHkgOiBtaW5ZO1xuICAgICAgICBtYXhYID0geCA+IG1heFggPyB4IDogbWF4WDtcbiAgICAgICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG5cbiAgICAgICAgdGhpcy5taW5YID0gbWluWDtcbiAgICAgICAgdGhpcy5taW5ZID0gbWluWTtcbiAgICAgICAgdGhpcy5tYXhYID0gbWF4WDtcbiAgICAgICAgdGhpcy5tYXhZID0gbWF4WTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIHNjcmVlbiB2ZXJ0aWNlcyBmcm9tIGFycmF5XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheX0gdmVydGV4RGF0YSAtIGNhbGN1bGF0ZWQgdmVydGljZXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYmVnaW5PZmZzZXQgLSBiZWdpbiBvZmZzZXRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kT2Zmc2V0IC0gZW5kIG9mZnNldCwgZXhjbHVkZWRcbiAgICAgKi9cbiAgICBhZGRWZXJ0ZXhEYXRhKHZlcnRleERhdGE6IEZsb2F0MzJBcnJheSwgYmVnaW5PZmZzZXQ6IG51bWJlciwgZW5kT2Zmc2V0OiBudW1iZXIpOiB2b2lkXG4gICAge1xuICAgICAgICBsZXQgbWluWCA9IHRoaXMubWluWDtcbiAgICAgICAgbGV0IG1pblkgPSB0aGlzLm1pblk7XG4gICAgICAgIGxldCBtYXhYID0gdGhpcy5tYXhYO1xuICAgICAgICBsZXQgbWF4WSA9IHRoaXMubWF4WTtcblxuICAgICAgICBmb3IgKGxldCBpID0gYmVnaW5PZmZzZXQ7IGkgPCBlbmRPZmZzZXQ7IGkgKz0gMilcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgeCA9IHZlcnRleERhdGFbaV07XG4gICAgICAgICAgICBjb25zdCB5ID0gdmVydGV4RGF0YVtpICsgMV07XG5cbiAgICAgICAgICAgIG1pblggPSB4IDwgbWluWCA/IHggOiBtaW5YO1xuICAgICAgICAgICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgICAgICAgICBtYXhYID0geCA+IG1heFggPyB4IDogbWF4WDtcbiAgICAgICAgICAgIG1heFkgPSB5ID4gbWF4WSA/IHkgOiBtYXhZO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5taW5YID0gbWluWDtcbiAgICAgICAgdGhpcy5taW5ZID0gbWluWTtcbiAgICAgICAgdGhpcy5tYXhYID0gbWF4WDtcbiAgICAgICAgdGhpcy5tYXhZID0gbWF4WTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGQgYW4gYXJyYXkgb2YgbWVzaCB2ZXJ0aWNlc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlRyYW5zZm9ybX0gdHJhbnNmb3JtIC0gbWVzaCB0cmFuc2Zvcm1cbiAgICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheX0gdmVydGljZXMgLSBtZXNoIGNvb3JkaW5hdGVzIGluIGFycmF5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJlZ2luT2Zmc2V0IC0gYmVnaW4gb2Zmc2V0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZE9mZnNldCAtIGVuZCBvZmZzZXQsIGV4Y2x1ZGVkXG4gICAgICovXG4gICAgYWRkVmVydGljZXModHJhbnNmb3JtOiBUcmFuc2Zvcm0sIHZlcnRpY2VzOiBGbG9hdDMyQXJyYXksIGJlZ2luT2Zmc2V0OiBudW1iZXIsIGVuZE9mZnNldDogbnVtYmVyKTogdm9pZFxuICAgIHtcbiAgICAgICAgdGhpcy5hZGRWZXJ0aWNlc01hdHJpeCh0cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm0sIHZlcnRpY2VzLCBiZWdpbk9mZnNldCwgZW5kT2Zmc2V0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGQgYW4gYXJyYXkgb2YgbWVzaCB2ZXJ0aWNlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG1hdHJpeCAtIG1lc2ggbWF0cml4XG4gICAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IHZlcnRpY2VzIC0gbWVzaCBjb29yZGluYXRlcyBpbiBhcnJheVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiZWdpbk9mZnNldCAtIGJlZ2luIG9mZnNldFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmRPZmZzZXQgLSBlbmQgb2Zmc2V0LCBleGNsdWRlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcGFkWD0wXSAtIHggcGFkZGluZ1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcGFkWT0wXSAtIHkgcGFkZGluZ1xuICAgICAqL1xuICAgIGFkZFZlcnRpY2VzTWF0cml4KG1hdHJpeDogTWF0cml4LCB2ZXJ0aWNlczogRmxvYXQzMkFycmF5LCBiZWdpbk9mZnNldDogbnVtYmVyLFxuICAgICAgICBlbmRPZmZzZXQ6IG51bWJlciwgcGFkWCA9IDAsIHBhZFkgPSBwYWRYKTogdm9pZFxuICAgIHtcbiAgICAgICAgY29uc3QgYSA9IG1hdHJpeC5hO1xuICAgICAgICBjb25zdCBiID0gbWF0cml4LmI7XG4gICAgICAgIGNvbnN0IGMgPSBtYXRyaXguYztcbiAgICAgICAgY29uc3QgZCA9IG1hdHJpeC5kO1xuICAgICAgICBjb25zdCB0eCA9IG1hdHJpeC50eDtcbiAgICAgICAgY29uc3QgdHkgPSBtYXRyaXgudHk7XG5cbiAgICAgICAgbGV0IG1pblggPSB0aGlzLm1pblg7XG4gICAgICAgIGxldCBtaW5ZID0gdGhpcy5taW5ZO1xuICAgICAgICBsZXQgbWF4WCA9IHRoaXMubWF4WDtcbiAgICAgICAgbGV0IG1heFkgPSB0aGlzLm1heFk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IGJlZ2luT2Zmc2V0OyBpIDwgZW5kT2Zmc2V0OyBpICs9IDIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHJhd1ggPSB2ZXJ0aWNlc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IHJhd1kgPSB2ZXJ0aWNlc1tpICsgMV07XG4gICAgICAgICAgICBjb25zdCB4ID0gKGEgKiByYXdYKSArIChjICogcmF3WSkgKyB0eDtcbiAgICAgICAgICAgIGNvbnN0IHkgPSAoZCAqIHJhd1kpICsgKGIgKiByYXdYKSArIHR5O1xuXG4gICAgICAgICAgICBtaW5YID0gTWF0aC5taW4obWluWCwgeCAtIHBhZFgpO1xuICAgICAgICAgICAgbWF4WCA9IE1hdGgubWF4KG1heFgsIHggKyBwYWRYKTtcbiAgICAgICAgICAgIG1pblkgPSBNYXRoLm1pbihtaW5ZLCB5IC0gcGFkWSk7XG4gICAgICAgICAgICBtYXhZID0gTWF0aC5tYXgobWF4WSwgeSArIHBhZFkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5taW5YID0gbWluWDtcbiAgICAgICAgdGhpcy5taW5ZID0gbWluWTtcbiAgICAgICAgdGhpcy5tYXhYID0gbWF4WDtcbiAgICAgICAgdGhpcy5tYXhZID0gbWF4WTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIG90aGVyIEJvdW5kcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Cb3VuZHN9IGJvdW5kcyAtIFRoZSBCb3VuZHMgdG8gYmUgYWRkZWRcbiAgICAgKi9cbiAgICBhZGRCb3VuZHMoYm91bmRzOiBCb3VuZHMpOiB2b2lkXG4gICAge1xuICAgICAgICBjb25zdCBtaW5YID0gdGhpcy5taW5YO1xuICAgICAgICBjb25zdCBtaW5ZID0gdGhpcy5taW5ZO1xuICAgICAgICBjb25zdCBtYXhYID0gdGhpcy5tYXhYO1xuICAgICAgICBjb25zdCBtYXhZID0gdGhpcy5tYXhZO1xuXG4gICAgICAgIHRoaXMubWluWCA9IGJvdW5kcy5taW5YIDwgbWluWCA/IGJvdW5kcy5taW5YIDogbWluWDtcbiAgICAgICAgdGhpcy5taW5ZID0gYm91bmRzLm1pblkgPCBtaW5ZID8gYm91bmRzLm1pblkgOiBtaW5ZO1xuICAgICAgICB0aGlzLm1heFggPSBib3VuZHMubWF4WCA+IG1heFggPyBib3VuZHMubWF4WCA6IG1heFg7XG4gICAgICAgIHRoaXMubWF4WSA9IGJvdW5kcy5tYXhZID4gbWF4WSA/IGJvdW5kcy5tYXhZIDogbWF4WTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIG90aGVyIEJvdW5kcywgbWFza2VkIHdpdGggQm91bmRzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkJvdW5kc30gYm91bmRzIC0gVGhlIEJvdW5kcyB0byBiZSBhZGRlZC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuQm91bmRzfSBtYXNrIC0gVE9ET1xuICAgICAqL1xuICAgIGFkZEJvdW5kc01hc2soYm91bmRzOiBCb3VuZHMsIG1hc2s6IEJvdW5kcyk6IHZvaWRcbiAgICB7XG4gICAgICAgIGNvbnN0IF9taW5YID0gYm91bmRzLm1pblggPiBtYXNrLm1pblggPyBib3VuZHMubWluWCA6IG1hc2subWluWDtcbiAgICAgICAgY29uc3QgX21pblkgPSBib3VuZHMubWluWSA+IG1hc2subWluWSA/IGJvdW5kcy5taW5ZIDogbWFzay5taW5ZO1xuICAgICAgICBjb25zdCBfbWF4WCA9IGJvdW5kcy5tYXhYIDwgbWFzay5tYXhYID8gYm91bmRzLm1heFggOiBtYXNrLm1heFg7XG4gICAgICAgIGNvbnN0IF9tYXhZID0gYm91bmRzLm1heFkgPCBtYXNrLm1heFkgPyBib3VuZHMubWF4WSA6IG1hc2subWF4WTtcblxuICAgICAgICBpZiAoX21pblggPD0gX21heFggJiYgX21pblkgPD0gX21heFkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IG1pblggPSB0aGlzLm1pblg7XG4gICAgICAgICAgICBjb25zdCBtaW5ZID0gdGhpcy5taW5ZO1xuICAgICAgICAgICAgY29uc3QgbWF4WCA9IHRoaXMubWF4WDtcbiAgICAgICAgICAgIGNvbnN0IG1heFkgPSB0aGlzLm1heFk7XG5cbiAgICAgICAgICAgIHRoaXMubWluWCA9IF9taW5YIDwgbWluWCA/IF9taW5YIDogbWluWDtcbiAgICAgICAgICAgIHRoaXMubWluWSA9IF9taW5ZIDwgbWluWSA/IF9taW5ZIDogbWluWTtcbiAgICAgICAgICAgIHRoaXMubWF4WCA9IF9tYXhYID4gbWF4WCA/IF9tYXhYIDogbWF4WDtcbiAgICAgICAgICAgIHRoaXMubWF4WSA9IF9tYXhZID4gbWF4WSA/IF9tYXhZIDogbWF4WTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZHMgb3RoZXIgQm91bmRzLCBtdWx0aXBsaWVkIGJ5IG1hdHJpeC4gQm91bmRzIHNob3VsZG4ndCBiZSBlbXB0eS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Cb3VuZHN9IGJvdW5kcyAtIG90aGVyIGJvdW5kc1xuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG1hdHJpeCAtIG11bHRpcGxpY2F0b3JcbiAgICAgKi9cbiAgICBhZGRCb3VuZHNNYXRyaXgoYm91bmRzOiBCb3VuZHMsIG1hdHJpeDogTWF0cml4KTogdm9pZFxuICAgIHtcbiAgICAgICAgdGhpcy5hZGRGcmFtZU1hdHJpeChtYXRyaXgsIGJvdW5kcy5taW5YLCBib3VuZHMubWluWSwgYm91bmRzLm1heFgsIGJvdW5kcy5tYXhZKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIG90aGVyIEJvdW5kcywgbWFza2VkIHdpdGggUmVjdGFuZ2xlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkJvdW5kc30gYm91bmRzIC0gVE9ET1xuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IGFyZWEgLSBUT0RPXG4gICAgICovXG4gICAgYWRkQm91bmRzQXJlYShib3VuZHM6IEJvdW5kcywgYXJlYTogUmVjdGFuZ2xlKTogdm9pZFxuICAgIHtcbiAgICAgICAgY29uc3QgX21pblggPSBib3VuZHMubWluWCA+IGFyZWEueCA/IGJvdW5kcy5taW5YIDogYXJlYS54O1xuICAgICAgICBjb25zdCBfbWluWSA9IGJvdW5kcy5taW5ZID4gYXJlYS55ID8gYm91bmRzLm1pblkgOiBhcmVhLnk7XG4gICAgICAgIGNvbnN0IF9tYXhYID0gYm91bmRzLm1heFggPCBhcmVhLnggKyBhcmVhLndpZHRoID8gYm91bmRzLm1heFggOiAoYXJlYS54ICsgYXJlYS53aWR0aCk7XG4gICAgICAgIGNvbnN0IF9tYXhZID0gYm91bmRzLm1heFkgPCBhcmVhLnkgKyBhcmVhLmhlaWdodCA/IGJvdW5kcy5tYXhZIDogKGFyZWEueSArIGFyZWEuaGVpZ2h0KTtcblxuICAgICAgICBpZiAoX21pblggPD0gX21heFggJiYgX21pblkgPD0gX21heFkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IG1pblggPSB0aGlzLm1pblg7XG4gICAgICAgICAgICBjb25zdCBtaW5ZID0gdGhpcy5taW5ZO1xuICAgICAgICAgICAgY29uc3QgbWF4WCA9IHRoaXMubWF4WDtcbiAgICAgICAgICAgIGNvbnN0IG1heFkgPSB0aGlzLm1heFk7XG5cbiAgICAgICAgICAgIHRoaXMubWluWCA9IF9taW5YIDwgbWluWCA/IF9taW5YIDogbWluWDtcbiAgICAgICAgICAgIHRoaXMubWluWSA9IF9taW5ZIDwgbWluWSA/IF9taW5ZIDogbWluWTtcbiAgICAgICAgICAgIHRoaXMubWF4WCA9IF9tYXhYID4gbWF4WCA/IF9tYXhYIDogbWF4WDtcbiAgICAgICAgICAgIHRoaXMubWF4WSA9IF9tYXhZID4gbWF4WSA/IF9tYXhZIDogbWF4WTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBhZHMgYm91bmRzIG9iamVjdCwgbWFraW5nIGl0IGdyb3cgaW4gYWxsIGRpcmVjdGlvbnMuXG4gICAgICogSWYgcGFkZGluZ1kgaXMgb21pdHRlZCwgYm90aCBwYWRkaW5nWCBhbmQgcGFkZGluZ1kgd2lsbCBiZSBzZXQgdG8gcGFkZGluZ1guXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3BhZGRpbmdYPTBdIC0gVGhlIGhvcml6b250YWwgcGFkZGluZyBhbW91bnQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwYWRkaW5nWT0wXSAtIFRoZSB2ZXJ0aWNhbCBwYWRkaW5nIGFtb3VudC5cbiAgICAgKi9cbiAgICBwYWQocGFkZGluZ1ggPSAwLCBwYWRkaW5nWSA9IHBhZGRpbmdYKTogdm9pZFxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzRW1wdHkoKSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5taW5YIC09IHBhZGRpbmdYO1xuICAgICAgICAgICAgdGhpcy5tYXhYICs9IHBhZGRpbmdYO1xuICAgICAgICAgICAgdGhpcy5taW5ZIC09IHBhZGRpbmdZO1xuICAgICAgICAgICAgdGhpcy5tYXhZICs9IHBhZGRpbmdZO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkcyBwYWRkZWQgZnJhbWUuICh4MCwgeTApIHNob3VsZCBiZSBzdHJpY3RseSBsZXNzIHRoYW4gKHgxLCB5MSlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4MCAtIGxlZnQgWCBvZiBmcmFtZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5MCAtIHRvcCBZIG9mIGZyYW1lXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHgxIC0gcmlnaHQgWCBvZiBmcmFtZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5MSAtIGJvdHRvbSBZIG9mIGZyYW1lXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBhZFggLSBwYWRkaW5nIFhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGFkWSAtIHBhZGRpbmcgWVxuICAgICAqL1xuICAgIGFkZEZyYW1lUGFkKHgwOiBudW1iZXIsIHkwOiBudW1iZXIsIHgxOiBudW1iZXIsIHkxOiBudW1iZXIsIHBhZFg6IG51bWJlciwgcGFkWTogbnVtYmVyKTogdm9pZFxuICAgIHtcbiAgICAgICAgeDAgLT0gcGFkWDtcbiAgICAgICAgeTAgLT0gcGFkWTtcbiAgICAgICAgeDEgKz0gcGFkWDtcbiAgICAgICAgeTEgKz0gcGFkWTtcblxuICAgICAgICB0aGlzLm1pblggPSB0aGlzLm1pblggPCB4MCA/IHRoaXMubWluWCA6IHgwO1xuICAgICAgICB0aGlzLm1heFggPSB0aGlzLm1heFggPiB4MSA/IHRoaXMubWF4WCA6IHgxO1xuICAgICAgICB0aGlzLm1pblkgPSB0aGlzLm1pblkgPCB5MCA/IHRoaXMubWluWSA6IHkwO1xuICAgICAgICB0aGlzLm1heFkgPSB0aGlzLm1heFkgPiB5MSA/IHRoaXMubWF4WSA6IHkxO1xuICAgIH1cbn1cbiIsIi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXHJcbkxpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG5USElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbktJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcclxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcclxuTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xyXG5hbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XHJcblxyXG5leHBvcnQgdmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XHJcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xyXG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH1cclxuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZXN0KHMsIGUpIHtcclxuICAgIHZhciB0ID0ge307XHJcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcclxuICAgICAgICB0W3BdID0gc1twXTtcclxuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMClcclxuICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XHJcbiAgICByZXR1cm4gdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcclxuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xyXG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcclxuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3BhcmFtKHBhcmFtSW5kZXgsIGRlY29yYXRvcikge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkgeyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHBhcmFtSW5kZXgpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKSB7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdGVyKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZShyZXN1bHQudmFsdWUpOyB9KS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XHJcbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2dlbmVyYXRvcih0aGlzQXJnLCBib2R5KSB7XHJcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xyXG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcclxuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XHJcbiAgICAgICAgd2hpbGUgKF8pIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcclxuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cclxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXhwb3J0U3RhcihtLCBleHBvcnRzKSB7XHJcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3ZhbHVlcyhvKSB7XHJcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl0sIGkgPSAwO1xyXG4gICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcclxuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9O1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3JlYWQobywgbikge1xyXG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xyXG4gICAgaWYgKCFtKSByZXR1cm4gbztcclxuICAgIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxyXG4gICAgZmluYWxseSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWQoKSB7XHJcbiAgICBmb3IgKHZhciBhciA9IFtdLCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKylcclxuICAgICAgICBhciA9IGFyLmNvbmNhdChfX3JlYWQoYXJndW1lbnRzW2ldKSk7XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0KHYpIHtcclxuICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgX19hd2FpdCA/ICh0aGlzLnYgPSB2LCB0aGlzKSA6IG5ldyBfX2F3YWl0KHYpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0dlbmVyYXRvcih0aGlzQXJnLCBfYXJndW1lbnRzLCBnZW5lcmF0b3IpIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgZyA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSwgaSwgcSA9IFtdO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlmIChnW25dKSBpW25dID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChhLCBiKSB7IHEucHVzaChbbiwgdiwgYSwgYl0pID4gMSB8fCByZXN1bWUobiwgdik7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiByZXN1bWUobiwgdikgeyB0cnkgeyBzdGVwKGdbbl0odikpOyB9IGNhdGNoIChlKSB7IHNldHRsZShxWzBdWzNdLCBlKTsgfSB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKHIpIHsgci52YWx1ZSBpbnN0YW5jZW9mIF9fYXdhaXQgPyBQcm9taXNlLnJlc29sdmUoci52YWx1ZS52KS50aGVuKGZ1bGZpbGwsIHJlamVjdCkgOiBzZXR0bGUocVswXVsyXSwgcik7IH1cclxuICAgIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHsgcmVzdW1lKFwibmV4dFwiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHJlamVjdCh2YWx1ZSkgeyByZXN1bWUoXCJ0aHJvd1wiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShmLCB2KSB7IGlmIChmKHYpLCBxLnNoaWZ0KCksIHEubGVuZ3RoKSByZXN1bWUocVswXVswXSwgcVswXVsxXSk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNEZWxlZ2F0b3Iobykge1xyXG4gICAgdmFyIGksIHA7XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIsIGZ1bmN0aW9uIChlKSB7IHRocm93IGU7IH0pLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlbbl0gPSBvW25dID8gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIChwID0gIXApID8geyB2YWx1ZTogX19hd2FpdChvW25dKHYpKSwgZG9uZTogbiA9PT0gXCJyZXR1cm5cIiB9IDogZiA/IGYodikgOiB2OyB9IDogZjsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY1ZhbHVlcyhvKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIG0gPSBvW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSwgaTtcclxuICAgIHJldHVybiBtID8gbS5jYWxsKG8pIDogKG8gPSB0eXBlb2YgX192YWx1ZXMgPT09IFwiZnVuY3Rpb25cIiA/IF9fdmFsdWVzKG8pIDogb1tTeW1ib2wuaXRlcmF0b3JdKCksIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpKTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpW25dID0gb1tuXSAmJiBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2ID0gb1tuXSh2KSwgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgdi5kb25lLCB2LnZhbHVlKTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIGQsIHYpIHsgUHJvbWlzZS5yZXNvbHZlKHYpLnRoZW4oZnVuY3Rpb24odikgeyByZXNvbHZlKHsgdmFsdWU6IHYsIGRvbmU6IGQgfSk7IH0sIHJlamVjdCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWFrZVRlbXBsYXRlT2JqZWN0KGNvb2tlZCwgcmF3KSB7XHJcbiAgICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb29rZWQsIFwicmF3XCIsIHsgdmFsdWU6IHJhdyB9KTsgfSBlbHNlIHsgY29va2VkLnJhdyA9IHJhdzsgfVxyXG4gICAgcmV0dXJuIGNvb2tlZDtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydFN0YXIobW9kKSB7XHJcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xyXG4gICAgdmFyIHJlc3VsdCA9IHt9O1xyXG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIHJlc3VsdFtrXSA9IG1vZFtrXTtcclxuICAgIHJlc3VsdC5kZWZhdWx0ID0gbW9kO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0RGVmYXVsdChtb2QpIHtcclxuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgZGVmYXVsdDogbW9kIH07XHJcbn1cclxuIiwiaW1wb3J0IHsgREVHX1RPX1JBRCwgTWF0cml4LCBQb2ludCwgUkFEX1RPX0RFRywgUmVjdGFuZ2xlLCBUcmFuc2Zvcm0gfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB7IEV2ZW50RW1pdHRlciB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCB7IENvbnRhaW5lciB9IGZyb20gJy4vQ29udGFpbmVyJztcbmltcG9ydCB7IEJvdW5kcyB9IGZyb20gJy4vQm91bmRzJztcblxuaW1wb3J0IHR5cGUgeyBGaWx0ZXIsIE1hc2tEYXRhLCBSZW5kZXJlciB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHR5cGUgeyBJUG9pbnREYXRhLCBPYnNlcnZhYmxlUG9pbnQgfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB0eXBlIHsgRGljdCB9IGZyb20gJ0BwaXhpL3V0aWxzJztcblxuZXhwb3J0IGludGVyZmFjZSBJRGVzdHJveU9wdGlvbnMge1xuICAgIGNoaWxkcmVuPzogYm9vbGVhbjtcbiAgICB0ZXh0dXJlPzogYm9vbGVhbjtcbiAgICBiYXNlVGV4dHVyZT86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGlzcGxheU9iamVjdCBleHRlbmRzIEdsb2JhbE1peGlucy5EaXNwbGF5T2JqZWN0LCBFdmVudEVtaXR0ZXIge31cblxuLyoqXG4gKiBUaGUgYmFzZSBjbGFzcyBmb3IgYWxsIG9iamVjdHMgdGhhdCBhcmUgcmVuZGVyZWQgb24gdGhlIHNjcmVlbi5cbiAqXG4gKiBUaGlzIGlzIGFuIGFic3RyYWN0IGNsYXNzIGFuZCBzaG91bGQgbm90IGJlIHVzZWQgb24gaXRzIG93bjsgcmF0aGVyIGl0IHNob3VsZCBiIGUgZXh0ZW5kZWQuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnV0aWxzLkV2ZW50RW1pdHRlclxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGFic3RyYWN0IGNsYXNzIERpc3BsYXlPYmplY3QgZXh0ZW5kcyBFdmVudEVtaXR0ZXJcbntcbiAgICBhYnN0cmFjdCBzb3J0RGlydHk6IGJvb2xlYW47XG5cbiAgICBwdWJsaWMgcGFyZW50OiBEaXNwbGF5T2JqZWN0O1xuICAgIHB1YmxpYyB3b3JsZEFscGhhOiBudW1iZXI7XG4gICAgcHVibGljIHRyYW5zZm9ybTogVHJhbnNmb3JtO1xuICAgIHB1YmxpYyBhbHBoYTogbnVtYmVyO1xuICAgIHB1YmxpYyB2aXNpYmxlOiBib29sZWFuO1xuICAgIHB1YmxpYyByZW5kZXJhYmxlOiBib29sZWFuO1xuICAgIHB1YmxpYyBmaWx0ZXJBcmVhOiBSZWN0YW5nbGU7XG4gICAgcHVibGljIGZpbHRlcnM6IEZpbHRlcltdO1xuICAgIHB1YmxpYyBpc1Nwcml0ZTogYm9vbGVhbjtcbiAgICBwdWJsaWMgaXNNYXNrOiBib29sZWFuO1xuICAgIHB1YmxpYyBfbGFzdFNvcnRlZEluZGV4OiBudW1iZXI7XG4gICAgcHVibGljIF9tYXNrOiBDb250YWluZXJ8TWFza0RhdGE7XG4gICAgcHVibGljIF9ib3VuZHM6IEJvdW5kcztcbiAgICBwdWJsaWMgX2xvY2FsQm91bmRzOiBCb3VuZHM7XG5cbiAgICBwcm90ZWN0ZWQgX3pJbmRleDogbnVtYmVyO1xuICAgIHByb3RlY3RlZCBfZW5hYmxlZEZpbHRlcnM6IEZpbHRlcltdO1xuICAgIHByb3RlY3RlZCBfYm91bmRzSUQ6IG51bWJlcjtcbiAgICBwcm90ZWN0ZWQgX2JvdW5kc1JlY3Q6IFJlY3RhbmdsZTtcbiAgICBwcm90ZWN0ZWQgX2xvY2FsQm91bmRzUmVjdDogUmVjdGFuZ2xlO1xuICAgIHByb3RlY3RlZCBfZGVzdHJveWVkOiBib29sZWFuO1xuXG4gICAgcHJpdmF0ZSB0ZW1wRGlzcGxheU9iamVjdFBhcmVudDogVGVtcG9yYXJ5RGlzcGxheU9iamVjdDtcbiAgICBwdWJsaWMgZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybTogKCkgPT4gdm9pZDtcblxuICAgIC8qKlxuICAgICAqIE1peGVzIGFsbCBlbnVtZXJhYmxlIHByb3BlcnRpZXMgYW5kIG1ldGhvZHMgZnJvbSBhIHNvdXJjZSBvYmplY3QgdG8gRGlzcGxheU9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBzb3VyY2UgLSBUaGUgc291cmNlIG9mIHByb3BlcnRpZXMgYW5kIG1ldGhvZHMgdG8gbWl4IGluLlxuICAgICAqL1xuICAgIHN0YXRpYyBtaXhpbihzb3VyY2U6IERpY3Q8YW55Pik6IHZvaWRcbiAgICB7XG4gICAgICAgIC8vIGluIEVTOC9FUzIwMTcsIHRoaXMgd291bGQgYmUgcmVhbGx5IGVhc3k6XG4gICAgICAgIC8vIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKERpc3BsYXlPYmplY3QucHJvdG90eXBlLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTtcblxuICAgICAgICAvLyBnZXQgYWxsIHRoZSBlbnVtZXJhYmxlIHByb3BlcnR5IGtleXNcbiAgICAgICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7XG5cbiAgICAgICAgLy8gbG9vcCB0aHJvdWdoIHByb3BlcnRpZXNcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBwcm9wZXJ0eU5hbWUgPSBrZXlzW2ldO1xuXG4gICAgICAgICAgICAvLyBTZXQgdGhlIHByb3BlcnR5IHVzaW5nIHRoZSBwcm9wZXJ0eSBkZXNjcmlwdG9yIC0gdGhpcyB3b3JrcyBmb3IgYWNjZXNzb3JzIGFuZCBub3JtYWwgdmFsdWUgcHJvcGVydGllc1xuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFxuICAgICAgICAgICAgICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLFxuICAgICAgICAgICAgICAgIHByb3BlcnR5TmFtZSxcbiAgICAgICAgICAgICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwgcHJvcGVydHlOYW1lKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKClcbiAgICB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgdGhpcy50ZW1wRGlzcGxheU9iamVjdFBhcmVudCA9IG51bGw7XG5cbiAgICAgICAgLy8gVE9ETzogbmVlZCB0byBjcmVhdGUgVHJhbnNmb3JtIGZyb20gZmFjdG9yeVxuICAgICAgICAvKipcbiAgICAgICAgICogV29ybGQgdHJhbnNmb3JtIGFuZCBsb2NhbCB0cmFuc2Zvcm0gb2YgdGhpcyBvYmplY3QuXG4gICAgICAgICAqIFRoaXMgd2lsbCBiZWNvbWUgcmVhZC1vbmx5IGxhdGVyLCBwbGVhc2UgZG8gbm90IGFzc2lnbiBhbnl0aGluZyB0aGVyZSB1bmxlc3MgeW91IGtub3cgd2hhdCBhcmUgeW91IGRvaW5nLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRyYW5zZm9ybX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHJhbnNmb3JtID0gbmV3IFRyYW5zZm9ybSgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgb3BhY2l0eSBvZiB0aGUgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmFscGhhID0gMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHZpc2liaWxpdHkgb2YgdGhlIG9iamVjdC4gSWYgZmFsc2UgdGhlIG9iamVjdCB3aWxsIG5vdCBiZSBkcmF3biwgYW5kXG4gICAgICAgICAqIHRoZSB1cGRhdGVUcmFuc2Zvcm0gZnVuY3Rpb24gd2lsbCBub3QgYmUgY2FsbGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBPbmx5IGFmZmVjdHMgcmVjdXJzaXZlIGNhbGxzIGZyb20gcGFyZW50LiBZb3UgY2FuIGFzayBmb3IgYm91bmRzIG9yIGNhbGwgdXBkYXRlVHJhbnNmb3JtIG1hbnVhbGx5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy52aXNpYmxlID0gdHJ1ZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ2FuIHRoaXMgb2JqZWN0IGJlIHJlbmRlcmVkLCBpZiBmYWxzZSB0aGUgb2JqZWN0IHdpbGwgbm90IGJlIGRyYXduIGJ1dCB0aGUgdXBkYXRlVHJhbnNmb3JtXG4gICAgICAgICAqIG1ldGhvZHMgd2lsbCBzdGlsbCBiZSBjYWxsZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIE9ubHkgYWZmZWN0cyByZWN1cnNpdmUgY2FsbHMgZnJvbSBwYXJlbnQuIFlvdSBjYW4gYXNrIGZvciBib3VuZHMgbWFudWFsbHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlbmRlcmFibGUgPSB0cnVlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZGlzcGxheSBvYmplY3QgY29udGFpbmVyIHRoYXQgY29udGFpbnMgdGhpcyBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Db250YWluZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBhcmVudCA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtdWx0aXBsaWVkIGFscGhhIG9mIHRoZSBkaXNwbGF5T2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy53b3JsZEFscGhhID0gMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hpY2ggaW5kZXggaW4gdGhlIGNoaWxkcmVuIGFycmF5IHRoZSBkaXNwbGF5IGNvbXBvbmVudCB3YXMgYmVmb3JlIHRoZSBwcmV2aW91cyB6SW5kZXggc29ydC5cbiAgICAgICAgICogVXNlZCBieSBjb250YWluZXJzIHRvIGhlbHAgc29ydCBvYmplY3RzIHdpdGggdGhlIHNhbWUgekluZGV4LCBieSB1c2luZyBwcmV2aW91cyBhcnJheSBpbmRleCBhcyB0aGUgZGVjaWRlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9sYXN0U29ydGVkSW5kZXggPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgekluZGV4IG9mIHRoZSBkaXNwbGF5T2JqZWN0LlxuICAgICAgICAgKiBBIGhpZ2hlciB2YWx1ZSB3aWxsIG1lYW4gaXQgd2lsbCBiZSByZW5kZXJlZCBvbiB0b3Agb2Ygb3RoZXIgZGlzcGxheU9iamVjdHMgd2l0aGluIHRoZSBzYW1lIGNvbnRhaW5lci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl96SW5kZXggPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYXJlYSB0aGUgZmlsdGVyIGlzIGFwcGxpZWQgdG8uIFRoaXMgaXMgdXNlZCBhcyBtb3JlIG9mIGFuIG9wdGltaXphdGlvblxuICAgICAgICAgKiByYXRoZXIgdGhhbiBmaWd1cmluZyBvdXQgdGhlIGRpbWVuc2lvbnMgb2YgdGhlIGRpc3BsYXlPYmplY3QgZWFjaCBmcmFtZSB5b3UgY2FuIHNldCB0aGlzIHJlY3RhbmdsZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQWxzbyB3b3JrcyBhcyBhbiBpbnRlcmFjdGlvbiBtYXNrLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHs/UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZpbHRlckFyZWEgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXRzIHRoZSBmaWx0ZXJzIGZvciB0aGUgZGlzcGxheU9iamVjdC5cbiAgICAgICAgICogKiBJTVBPUlRBTlQ6IFRoaXMgaXMgYSBXZWJHTCBvbmx5IGZlYXR1cmUgYW5kIHdpbGwgYmUgaWdub3JlZCBieSB0aGUgY2FudmFzIHJlbmRlcmVyLlxuICAgICAgICAgKiBUbyByZW1vdmUgZmlsdGVycyBzaW1wbHkgc2V0IHRoaXMgcHJvcGVydHkgdG8gYCdudWxsJ2AuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIgez9QSVhJLkZpbHRlcltdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5maWx0ZXJzID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ3VycmVudGx5IGVuYWJsZWQgZmlsdGVyc1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkZpbHRlcltdfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9lbmFibGVkRmlsdGVycyA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBib3VuZHMgb2JqZWN0LCB0aGlzIGlzIHVzZWQgdG8gY2FsY3VsYXRlIGFuZCBzdG9yZSB0aGUgYm91bmRzIG9mIHRoZSBkaXNwbGF5T2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJvdW5kc31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2JvdW5kcyA9IG5ldyBCb3VuZHMoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTG9jYWwgYm91bmRzIG9iamVjdCwgc3dhcHBlZCB3aXRoIGBfYm91bmRzYCB3aGVuIHVzaW5nIGBnZXRMb2NhbEJvdW5kcygpYC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Cb3VuZHN9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9sb2NhbEJvdW5kcyA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZsYWdzIHRoZSBjYWNoZWQgYm91bmRzIGFzIGRpcnR5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2JvdW5kc0lEID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ2FjaGUgb2YgdGhpcyBkaXNwbGF5LW9iamVjdCdzIGJvdW5kcy1yZWN0YW5nbGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQm91bmRzfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9ib3VuZHNSZWN0ID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ2FjaGUgb2YgdGhpcyBkaXNwbGF5LW9iamVjdCdzIGxvY2FsLWJvdW5kcyByZWN0YW5nbGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQm91bmRzfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9sb2NhbEJvdW5kc1JlY3QgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgb3JpZ2luYWwsIGNhY2hlZCBtYXNrIG9mIHRoZSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQ29udGFpbmVyfFBJWEkuTWFza0RhdGF8bnVsbH1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fbWFzayA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gdGhpcyBEaXNwbGF5T2JqZWN0IGlzIGFkZGVkIHRvIGEgQ29udGFpbmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I2FkZGVkXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ9IGNvbnRhaW5lciAtIFRoZSBjb250YWluZXIgYWRkZWQgdG8uXG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIHRoaXMgRGlzcGxheU9iamVjdCBpcyByZW1vdmVkIGZyb20gYSBDb250YWluZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcmVtb3ZlZFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfSBjb250YWluZXIgLSBUaGUgY29udGFpbmVyIHJlbW92ZWQgZnJvbS5cbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRoZSBvYmplY3QgaGFzIGJlZW4gZGVzdHJveWVkIHZpYSBkZXN0cm95KCkuIElmIHRydWUsIGl0IHNob3VsZCBub3QgYmUgdXNlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fZGVzdHJveWVkID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHVzZWQgdG8gZmFzdCBjaGVjayBpZiBhIHNwcml0ZSBpcy4uIGEgc3ByaXRlIVxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pc1Nwcml0ZSA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEb2VzIGFueSBvdGhlciBkaXNwbGF5T2JqZWN0IHVzZSB0aGlzIG9iamVjdCBhcyBhIG1hc2s/XG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmlzTWFzayA9IGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlY2FsY3VsYXRlcyB0aGUgYm91bmRzIG9mIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgKi9cbiAgICBhYnN0cmFjdCBjYWxjdWxhdGVCb3VuZHMoKTogdm9pZDtcblxuICAgIGFic3RyYWN0IHJlbW92ZUNoaWxkKGNoaWxkOiBEaXNwbGF5T2JqZWN0KTogdm9pZDtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIG9iamVjdCB1c2luZyB0aGUgV2ViR0wgcmVuZGVyZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyLlxuICAgICAqL1xuICAgIGFic3RyYWN0IHJlbmRlcihyZW5kZXJlcjogUmVuZGVyZXIpOiB2b2lkO1xuXG4gICAgLyoqXG4gICAgICogUmVjdXJzaXZlbHkgdXBkYXRlcyB0cmFuc2Zvcm0gb2YgYWxsIG9iamVjdHMgZnJvbSB0aGUgcm9vdCB0byB0aGlzIG9uZVxuICAgICAqIGludGVybmFsIGZ1bmN0aW9uIGZvciB0b0xvY2FsKClcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgX3JlY3Vyc2l2ZVBvc3RVcGRhdGVUcmFuc2Zvcm0oKTogdm9pZFxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMucGFyZW50KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnBhcmVudC5fcmVjdXJzaXZlUG9zdFVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0udXBkYXRlVHJhbnNmb3JtKHRoaXMucGFyZW50LnRyYW5zZm9ybSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS51cGRhdGVUcmFuc2Zvcm0odGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQudHJhbnNmb3JtKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIG9iamVjdCB0cmFuc2Zvcm0gZm9yIHJlbmRlcmluZy5cbiAgICAgKlxuICAgICAqIFRPRE8gLSBPcHRpbWl6YXRpb24gcGFzcyFcbiAgICAgKi9cbiAgICB1cGRhdGVUcmFuc2Zvcm0oKTogdm9pZFxuICAgIHtcbiAgICAgICAgdGhpcy5fYm91bmRzSUQrKztcblxuICAgICAgICB0aGlzLnRyYW5zZm9ybS51cGRhdGVUcmFuc2Zvcm0odGhpcy5wYXJlbnQudHJhbnNmb3JtKTtcbiAgICAgICAgLy8gbXVsdGlwbHkgdGhlIGFscGhhcy4uXG4gICAgICAgIHRoaXMud29ybGRBbHBoYSA9IHRoaXMuYWxwaGEgKiB0aGlzLnBhcmVudC53b3JsZEFscGhhO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyB0aGUgYm91bmRzIG9mIHRoZSBkaXNwbGF5T2JqZWN0IGFzIGEgcmVjdGFuZ2xlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3NraXBVcGRhdGVdIC0gU2V0dGluZyB0byBgdHJ1ZWAgd2lsbCBzdG9wIHRoZSB0cmFuc2Zvcm1zIG9mIHRoZSBzY2VuZSBncmFwaCBmcm9tXG4gICAgICogIGJlaW5nIHVwZGF0ZWQuIFRoaXMgbWVhbnMgdGhlIGNhbGN1bGF0aW9uIHJldHVybmVkIE1BWSBiZSBvdXQgb2YgZGF0ZSBCVVQgd2lsbCBnaXZlIHlvdSBhXG4gICAgICogIG5pY2UgcGVyZm9ybWFuY2UgYm9vc3QuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gW3JlY3RdIC0gT3B0aW9uYWwgcmVjdGFuZ2xlIHRvIHN0b3JlIHRoZSByZXN1bHQgb2YgdGhlIGJvdW5kcyBjYWxjdWxhdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gVGhlIHJlY3Rhbmd1bGFyIGJvdW5kaW5nIGFyZWEuXG4gICAgICovXG4gICAgZ2V0Qm91bmRzKHNraXBVcGRhdGU/OiBib29sZWFuLCByZWN0PzogUmVjdGFuZ2xlKTogUmVjdGFuZ2xlXG4gICAge1xuICAgICAgICBpZiAoIXNraXBVcGRhdGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5wYXJlbnQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQgPSB0aGlzLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudDtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZWN1cnNpdmVQb3N0VXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9ib3VuZHMudXBkYXRlSUQgIT09IHRoaXMuX2JvdW5kc0lEKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZUJvdW5kcygpO1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLnVwZGF0ZUlEID0gdGhpcy5fYm91bmRzSUQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXJlY3QpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fYm91bmRzUmVjdClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9ib3VuZHNSZWN0ID0gbmV3IFJlY3RhbmdsZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZWN0ID0gdGhpcy5fYm91bmRzUmVjdDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLl9ib3VuZHMuZ2V0UmVjdGFuZ2xlKHJlY3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyB0aGUgbG9jYWwgYm91bmRzIG9mIHRoZSBkaXNwbGF5T2JqZWN0IGFzIGEgcmVjdGFuZ2xlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IFtyZWN0XSAtIE9wdGlvbmFsIHJlY3RhbmdsZSB0byBzdG9yZSB0aGUgcmVzdWx0IG9mIHRoZSBib3VuZHMgY2FsY3VsYXRpb24uXG4gICAgICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IFRoZSByZWN0YW5ndWxhciBib3VuZGluZyBhcmVhLlxuICAgICAqL1xuICAgIGdldExvY2FsQm91bmRzKHJlY3Q/OiBSZWN0YW5nbGUpOiBSZWN0YW5nbGVcbiAgICB7XG4gICAgICAgIGlmICghcmVjdClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9sb2NhbEJvdW5kc1JlY3QpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbG9jYWxCb3VuZHNSZWN0ID0gbmV3IFJlY3RhbmdsZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZWN0ID0gdGhpcy5fbG9jYWxCb3VuZHNSZWN0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLl9sb2NhbEJvdW5kcylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fbG9jYWxCb3VuZHMgPSBuZXcgQm91bmRzKCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB0cmFuc2Zvcm1SZWYgPSB0aGlzLnRyYW5zZm9ybTtcbiAgICAgICAgY29uc3QgcGFyZW50UmVmID0gdGhpcy5wYXJlbnQ7XG5cbiAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgICAgICB0aGlzLnRyYW5zZm9ybSA9IHRoaXMuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50LnRyYW5zZm9ybTtcblxuICAgICAgICBjb25zdCB3b3JsZEJvdW5kcyA9IHRoaXMuX2JvdW5kcztcbiAgICAgICAgY29uc3Qgd29ybGRCb3VuZHNJRCA9IHRoaXMuX2JvdW5kc0lEO1xuXG4gICAgICAgIHRoaXMuX2JvdW5kcyA9IHRoaXMuX2xvY2FsQm91bmRzO1xuXG4gICAgICAgIGNvbnN0IGJvdW5kcyA9IHRoaXMuZ2V0Qm91bmRzKGZhbHNlLCByZWN0KTtcblxuICAgICAgICB0aGlzLnBhcmVudCA9IHBhcmVudFJlZjtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0gPSB0cmFuc2Zvcm1SZWY7XG5cbiAgICAgICAgdGhpcy5fYm91bmRzID0gd29ybGRCb3VuZHM7XG4gICAgICAgIHRoaXMuX2JvdW5kcy51cGRhdGVJRCArPSB0aGlzLl9ib3VuZHNJRCAtIHdvcmxkQm91bmRzSUQ7Ly8gcmVmbGVjdCBzaWRlLWVmZmVjdHNcblxuICAgICAgICByZXR1cm4gYm91bmRzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgdGhlIGdsb2JhbCBwb3NpdGlvbiBvZiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuSVBvaW50RGF0YX0gcG9zaXRpb24gLSBUaGUgd29ybGQgb3JpZ2luIHRvIGNhbGN1bGF0ZSBmcm9tLlxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gW3BvaW50XSAtIEEgUG9pbnQgb2JqZWN0IGluIHdoaWNoIHRvIHN0b3JlIHRoZSB2YWx1ZSwgb3B0aW9uYWxcbiAgICAgKiAgKG90aGVyd2lzZSB3aWxsIGNyZWF0ZSBhIG5ldyBQb2ludCkuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc2tpcFVwZGF0ZT1mYWxzZV0gLSBTaG91bGQgd2Ugc2tpcCB0aGUgdXBkYXRlIHRyYW5zZm9ybS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlBvaW50fSBBIHBvaW50IG9iamVjdCByZXByZXNlbnRpbmcgdGhlIHBvc2l0aW9uIG9mIHRoaXMgb2JqZWN0LlxuICAgICAqL1xuICAgIHRvR2xvYmFsPFAgZXh0ZW5kcyBJUG9pbnREYXRhID0gUG9pbnQ+KHBvc2l0aW9uOiBJUG9pbnREYXRhLCBwb2ludD86IFAsIHNraXBVcGRhdGUgPSBmYWxzZSk6IFBcbiAgICB7XG4gICAgICAgIGlmICghc2tpcFVwZGF0ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fcmVjdXJzaXZlUG9zdFVwZGF0ZVRyYW5zZm9ybSgpO1xuXG4gICAgICAgICAgICAvLyB0aGlzIHBhcmVudCBjaGVjayBpcyBmb3IganVzdCBpbiBjYXNlIHRoZSBpdGVtIGlzIGEgcm9vdCBvYmplY3QuXG4gICAgICAgICAgICAvLyBJZiBpdCBpcyB3ZSBuZWVkIHRvIGdpdmUgaXQgYSB0ZW1wb3JhcnkgcGFyZW50IHNvIHRoYXQgZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSB3b3JrcyBjb3JyZWN0bHlcbiAgICAgICAgICAgIC8vIHRoaXMgaXMgbWFpbmx5IHRvIGF2b2lkIGEgcGFyZW50IGNoZWNrIGluIHRoZSBtYWluIGxvb3AuIEV2ZXJ5IGxpdHRsZSBoZWxwcyBmb3IgcGVyZm9ybWFuY2UgOilcbiAgICAgICAgICAgIGlmICghdGhpcy5wYXJlbnQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQgPSB0aGlzLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudDtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBkb24ndCBuZWVkIHRvIHVwZGF0ZSB0aGUgbG90XG4gICAgICAgIHJldHVybiB0aGlzLndvcmxkVHJhbnNmb3JtLmFwcGx5PFA+KHBvc2l0aW9uLCBwb2ludCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyB0aGUgbG9jYWwgcG9zaXRpb24gb2YgdGhlIGRpc3BsYXkgb2JqZWN0IHJlbGF0aXZlIHRvIGFub3RoZXIgcG9pbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuSVBvaW50RGF0YX0gcG9zaXRpb24gLSBUaGUgd29ybGQgb3JpZ2luIHRvIGNhbGN1bGF0ZSBmcm9tLlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBbZnJvbV0gLSBUaGUgRGlzcGxheU9iamVjdCB0byBjYWxjdWxhdGUgdGhlIGdsb2JhbCBwb3NpdGlvbiBmcm9tLlxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gW3BvaW50XSAtIEEgUG9pbnQgb2JqZWN0IGluIHdoaWNoIHRvIHN0b3JlIHRoZSB2YWx1ZSwgb3B0aW9uYWxcbiAgICAgKiAgKG90aGVyd2lzZSB3aWxsIGNyZWF0ZSBhIG5ldyBQb2ludCkuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc2tpcFVwZGF0ZT1mYWxzZV0gLSBTaG91bGQgd2Ugc2tpcCB0aGUgdXBkYXRlIHRyYW5zZm9ybVxuICAgICAqIEByZXR1cm4ge1BJWEkuUG9pbnR9IEEgcG9pbnQgb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgcG9zaXRpb24gb2YgdGhpcyBvYmplY3RcbiAgICAgKi9cbiAgICB0b0xvY2FsPFAgZXh0ZW5kcyBJUG9pbnREYXRhID0gUG9pbnQ+KHBvc2l0aW9uOiBJUG9pbnREYXRhLCBmcm9tOiBEaXNwbGF5T2JqZWN0LCBwb2ludD86IFAsIHNraXBVcGRhdGU/OiBib29sZWFuKTogUFxuICAgIHtcbiAgICAgICAgaWYgKGZyb20pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHBvc2l0aW9uID0gZnJvbS50b0dsb2JhbChwb3NpdGlvbiwgcG9pbnQsIHNraXBVcGRhdGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFza2lwVXBkYXRlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9yZWN1cnNpdmVQb3N0VXBkYXRlVHJhbnNmb3JtKCk7XG5cbiAgICAgICAgICAgIC8vIHRoaXMgcGFyZW50IGNoZWNrIGlzIGZvciBqdXN0IGluIGNhc2UgdGhlIGl0ZW0gaXMgYSByb290IG9iamVjdC5cbiAgICAgICAgICAgIC8vIElmIGl0IGlzIHdlIG5lZWQgdG8gZ2l2ZSBpdCBhIHRlbXBvcmFyeSBwYXJlbnQgc28gdGhhdCBkaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtIHdvcmtzIGNvcnJlY3RseVxuICAgICAgICAgICAgLy8gdGhpcyBpcyBtYWlubHkgdG8gYXZvaWQgYSBwYXJlbnQgY2hlY2sgaW4gdGhlIG1haW4gbG9vcC4gRXZlcnkgbGl0dGxlIGhlbHBzIGZvciBwZXJmb3JtYW5jZSA6KVxuICAgICAgICAgICAgaWYgKCF0aGlzLnBhcmVudClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudCA9IHRoaXMuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50O1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNpbXBseSBhcHBseSB0aGUgbWF0cml4Li5cbiAgICAgICAgcmV0dXJuIHRoaXMud29ybGRUcmFuc2Zvcm0uYXBwbHlJbnZlcnNlPFA+KHBvc2l0aW9uLCBwb2ludCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBwYXJlbnQgQ29udGFpbmVyIG9mIHRoaXMgRGlzcGxheU9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ9IGNvbnRhaW5lciAtIFRoZSBDb250YWluZXIgdG8gYWRkIHRoaXMgRGlzcGxheU9iamVjdCB0by5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkNvbnRhaW5lcn0gVGhlIENvbnRhaW5lciB0aGF0IHRoaXMgRGlzcGxheU9iamVjdCB3YXMgYWRkZWQgdG8uXG4gICAgICovXG4gICAgc2V0UGFyZW50KGNvbnRhaW5lcjogQ29udGFpbmVyKTogQ29udGFpbmVyXG4gICAge1xuICAgICAgICBpZiAoIWNvbnRhaW5lciB8fCAhY29udGFpbmVyLmFkZENoaWxkKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFBhcmVudDogQXJndW1lbnQgbXVzdCBiZSBhIENvbnRhaW5lcicpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29udGFpbmVyLmFkZENoaWxkKHRoaXMpO1xuXG4gICAgICAgIHJldHVybiBjb250YWluZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVuaWVuY2UgZnVuY3Rpb24gdG8gc2V0IHRoZSBwb3NpdGlvbiwgc2NhbGUsIHNrZXcgYW5kIHBpdm90IGF0IG9uY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3g9MF0gLSBUaGUgWCBwb3NpdGlvblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeT0wXSAtIFRoZSBZIHBvc2l0aW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzY2FsZVg9MV0gLSBUaGUgWCBzY2FsZSB2YWx1ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2NhbGVZPTFdIC0gVGhlIFkgc2NhbGUgdmFsdWVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3JvdGF0aW9uPTBdIC0gVGhlIHJvdGF0aW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtza2V3WD0wXSAtIFRoZSBYIHNrZXcgdmFsdWVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NrZXdZPTBdIC0gVGhlIFkgc2tldyB2YWx1ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcGl2b3RYPTBdIC0gVGhlIFggcGl2b3QgdmFsdWVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Bpdm90WT0wXSAtIFRoZSBZIHBpdm90IHZhbHVlXG4gICAgICogQHJldHVybiB7UElYSS5EaXNwbGF5T2JqZWN0fSBUaGUgRGlzcGxheU9iamVjdCBpbnN0YW5jZVxuICAgICAqL1xuICAgIHNldFRyYW5zZm9ybSh4ID0gMCwgeSA9IDAsIHNjYWxlWCA9IDEsIHNjYWxlWSA9IDEsIHJvdGF0aW9uID0gMCwgc2tld1ggPSAwLCBza2V3WSA9IDAsIHBpdm90WCA9IDAsIHBpdm90WSA9IDApOiB0aGlzXG4gICAge1xuICAgICAgICB0aGlzLnBvc2l0aW9uLnggPSB4O1xuICAgICAgICB0aGlzLnBvc2l0aW9uLnkgPSB5O1xuICAgICAgICB0aGlzLnNjYWxlLnggPSAhc2NhbGVYID8gMSA6IHNjYWxlWDtcbiAgICAgICAgdGhpcy5zY2FsZS55ID0gIXNjYWxlWSA/IDEgOiBzY2FsZVk7XG4gICAgICAgIHRoaXMucm90YXRpb24gPSByb3RhdGlvbjtcbiAgICAgICAgdGhpcy5za2V3LnggPSBza2V3WDtcbiAgICAgICAgdGhpcy5za2V3LnkgPSBza2V3WTtcbiAgICAgICAgdGhpcy5waXZvdC54ID0gcGl2b3RYO1xuICAgICAgICB0aGlzLnBpdm90LnkgPSBwaXZvdFk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQmFzZSBkZXN0cm95IG1ldGhvZCBmb3IgZ2VuZXJpYyBkaXNwbGF5IG9iamVjdHMuIFRoaXMgd2lsbCBhdXRvbWF0aWNhbGx5XG4gICAgICogcmVtb3ZlIHRoZSBkaXNwbGF5IG9iamVjdCBmcm9tIGl0cyBwYXJlbnQgQ29udGFpbmVyIGFzIHdlbGwgYXMgcmVtb3ZlXG4gICAgICogYWxsIGN1cnJlbnQgZXZlbnQgbGlzdGVuZXJzIGFuZCBpbnRlcm5hbCByZWZlcmVuY2VzLiBEbyBub3QgdXNlIGEgRGlzcGxheU9iamVjdFxuICAgICAqIGFmdGVyIGNhbGxpbmcgYGRlc3Ryb3koKWAuXG4gICAgICpcbiAgICAgKi9cbiAgICBkZXN0cm95KF9vcHRpb25zPzogSURlc3Ryb3lPcHRpb25zfGJvb2xlYW4pOiB2b2lkXG4gICAge1xuICAgICAgICBpZiAodGhpcy5wYXJlbnQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucGFyZW50LnJlbW92ZUNoaWxkKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtID0gbnVsbDtcblxuICAgICAgICB0aGlzLnBhcmVudCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2JvdW5kcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX21hc2sgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuZmlsdGVycyA9IG51bGw7XG4gICAgICAgIHRoaXMuZmlsdGVyQXJlYSA9IG51bGw7XG4gICAgICAgIHRoaXMuaGl0QXJlYSA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5pbnRlcmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmludGVyYWN0aXZlQ2hpbGRyZW4gPSBmYWxzZTtcblxuICAgICAgICB0aGlzLl9kZXN0cm95ZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAbWVtYmVyIHtQSVhJLkNvbnRhaW5lcn1cbiAgICAgKi9cbiAgICBnZXQgX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50KCk6IFRlbXBvcmFyeURpc3BsYXlPYmplY3RcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnRlbXBEaXNwbGF5T2JqZWN0UGFyZW50ID09PSBudWxsKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgICAgICAgICAgIHRoaXMudGVtcERpc3BsYXlPYmplY3RQYXJlbnQgPSBuZXcgVGVtcG9yYXJ5RGlzcGxheU9iamVjdCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMudGVtcERpc3BsYXlPYmplY3RQYXJlbnQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXNlZCBpbiBSZW5kZXJlciwgY2FjaGVBc0JpdG1hcCBhbmQgb3RoZXIgcGxhY2VzIHdoZXJlIHlvdSBjYWxsIGFuIGB1cGRhdGVUcmFuc2Zvcm1gIG9uIHJvb3RcbiAgICAgKlxuICAgICAqIGBgYFxuICAgICAqIGNvbnN0IGNhY2hlUGFyZW50ID0gZWxlbS5lbmFibGVUZW1wUGFyZW50KCk7XG4gICAgICogZWxlbS51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgKiBlbGVtLmRpc2FibGVUZW1wUGFyZW50KGNhY2hlUGFyZW50KTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtQSVhJLkRpc3BsYXlPYmplY3R9IGN1cnJlbnQgcGFyZW50XG4gICAgICovXG4gICAgZW5hYmxlVGVtcFBhcmVudCgpOiBEaXNwbGF5T2JqZWN0XG4gICAge1xuICAgICAgICBjb25zdCBteVBhcmVudCA9IHRoaXMucGFyZW50O1xuXG4gICAgICAgIHRoaXMucGFyZW50ID0gdGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQ7XG5cbiAgICAgICAgcmV0dXJuIG15UGFyZW50O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBhaXIgbWV0aG9kIGZvciBgZW5hYmxlVGVtcFBhcmVudGBcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gY2FjaGVQYXJlbnQgYWN0dWFsIHBhcmVudCBvZiBlbGVtZW50XG4gICAgICovXG4gICAgZGlzYWJsZVRlbXBQYXJlbnQoY2FjaGVQYXJlbnQ6IERpc3BsYXlPYmplY3QpOiB2b2lkXG4gICAge1xuICAgICAgICB0aGlzLnBhcmVudCA9IGNhY2hlUGFyZW50O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBwb3NpdGlvbiBvZiB0aGUgZGlzcGxheU9iamVjdCBvbiB0aGUgeCBheGlzIHJlbGF0aXZlIHRvIHRoZSBsb2NhbCBjb29yZGluYXRlcyBvZiB0aGUgcGFyZW50LlxuICAgICAqIEFuIGFsaWFzIHRvIHBvc2l0aW9uLnhcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgeCgpOiBudW1iZXJcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnBvc2l0aW9uLng7XG4gICAgfVxuXG4gICAgc2V0IHgodmFsdWU6IG51bWJlcilcbiAgICB7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uLnggPSB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcG9zaXRpb24gb2YgdGhlIGRpc3BsYXlPYmplY3Qgb24gdGhlIHkgYXhpcyByZWxhdGl2ZSB0byB0aGUgbG9jYWwgY29vcmRpbmF0ZXMgb2YgdGhlIHBhcmVudC5cbiAgICAgKiBBbiBhbGlhcyB0byBwb3NpdGlvbi55XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IHkoKTogbnVtYmVyXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5wb3NpdGlvbi55O1xuICAgIH1cblxuICAgIHNldCB5KHZhbHVlOiBudW1iZXIpXG4gICAge1xuICAgICAgICB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbi55ID0gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3VycmVudCB0cmFuc2Zvcm0gb2YgdGhlIG9iamVjdCBiYXNlZCBvbiB3b3JsZCAocGFyZW50KSBmYWN0b3JzLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5NYXRyaXh9XG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgZ2V0IHdvcmxkVHJhbnNmb3JtKCk6IE1hdHJpeFxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEN1cnJlbnQgdHJhbnNmb3JtIG9mIHRoZSBvYmplY3QgYmFzZWQgb24gbG9jYWwgZmFjdG9yczogcG9zaXRpb24sIHNjYWxlLCBvdGhlciBzdHVmZi5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuICAgIGdldCBsb2NhbFRyYW5zZm9ybSgpOiBNYXRyaXhcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5sb2NhbFRyYW5zZm9ybTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgY29vcmRpbmF0ZSBvZiB0aGUgb2JqZWN0IHJlbGF0aXZlIHRvIHRoZSBsb2NhbCBjb29yZGluYXRlcyBvZiB0aGUgcGFyZW50LlxuICAgICAqIEFzc2lnbm1lbnQgYnkgdmFsdWUgc2luY2UgcGl4aS12NC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAqL1xuICAgIGdldCBwb3NpdGlvbigpOiBPYnNlcnZhYmxlUG9pbnRcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbjtcbiAgICB9XG5cbiAgICBzZXQgcG9zaXRpb24odmFsdWU6IE9ic2VydmFibGVQb2ludClcbiAgICB7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uLmNvcHlGcm9tKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2NhbGUgZmFjdG9yIG9mIHRoZSBvYmplY3QuXG4gICAgICogQXNzaWdubWVudCBieSB2YWx1ZSBzaW5jZSBwaXhpLXY0LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICovXG4gICAgZ2V0IHNjYWxlKCk6IE9ic2VydmFibGVQb2ludFxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtLnNjYWxlO1xuICAgIH1cblxuICAgIHNldCBzY2FsZSh2YWx1ZTogT2JzZXJ2YWJsZVBvaW50KVxuICAgIHtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0uc2NhbGUuY29weUZyb20odmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBwaXZvdCBwb2ludCBvZiB0aGUgZGlzcGxheU9iamVjdCB0aGF0IGl0IHJvdGF0ZXMgYXJvdW5kLlxuICAgICAqIEFzc2lnbm1lbnQgYnkgdmFsdWUgc2luY2UgcGl4aS12NC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAqL1xuICAgIGdldCBwaXZvdCgpOiBPYnNlcnZhYmxlUG9pbnRcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5waXZvdDtcbiAgICB9XG5cbiAgICBzZXQgcGl2b3QodmFsdWU6IE9ic2VydmFibGVQb2ludClcbiAgICB7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtLnBpdm90LmNvcHlGcm9tKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2tldyBmYWN0b3IgZm9yIHRoZSBvYmplY3QgaW4gcmFkaWFucy5cbiAgICAgKiBBc3NpZ25tZW50IGJ5IHZhbHVlIHNpbmNlIHBpeGktdjQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgKi9cbiAgICBnZXQgc2tldygpOiBPYnNlcnZhYmxlUG9pbnRcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5za2V3O1xuICAgIH1cblxuICAgIHNldCBza2V3KHZhbHVlOiBPYnNlcnZhYmxlUG9pbnQpXG4gICAge1xuICAgICAgICB0aGlzLnRyYW5zZm9ybS5za2V3LmNvcHlGcm9tKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcm90YXRpb24gb2YgdGhlIG9iamVjdCBpbiByYWRpYW5zLlxuICAgICAqICdyb3RhdGlvbicgYW5kICdhbmdsZScgaGF2ZSB0aGUgc2FtZSBlZmZlY3Qgb24gYSBkaXNwbGF5IG9iamVjdDsgcm90YXRpb24gaXMgaW4gcmFkaWFucywgYW5nbGUgaXMgaW4gZGVncmVlcy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgcm90YXRpb24oKTogbnVtYmVyXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm0ucm90YXRpb247XG4gICAgfVxuXG4gICAgc2V0IHJvdGF0aW9uKHZhbHVlOiBudW1iZXIpXG4gICAge1xuICAgICAgICB0aGlzLnRyYW5zZm9ybS5yb3RhdGlvbiA9IHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBhbmdsZSBvZiB0aGUgb2JqZWN0IGluIGRlZ3JlZXMuXG4gICAgICogJ3JvdGF0aW9uJyBhbmQgJ2FuZ2xlJyBoYXZlIHRoZSBzYW1lIGVmZmVjdCBvbiBhIGRpc3BsYXkgb2JqZWN0OyByb3RhdGlvbiBpcyBpbiByYWRpYW5zLCBhbmdsZSBpcyBpbiBkZWdyZWVzLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIGdldCBhbmdsZSgpOiBudW1iZXJcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5yb3RhdGlvbiAqIFJBRF9UT19ERUc7XG4gICAgfVxuXG4gICAgc2V0IGFuZ2xlKHZhbHVlOiBudW1iZXIpXG4gICAge1xuICAgICAgICB0aGlzLnRyYW5zZm9ybS5yb3RhdGlvbiA9IHZhbHVlICogREVHX1RPX1JBRDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgekluZGV4IG9mIHRoZSBkaXNwbGF5T2JqZWN0LlxuICAgICAqIElmIGEgY29udGFpbmVyIGhhcyB0aGUgc29ydGFibGVDaGlsZHJlbiBwcm9wZXJ0eSBzZXQgdG8gdHJ1ZSwgY2hpbGRyZW4gd2lsbCBiZSBhdXRvbWF0aWNhbGx5XG4gICAgICogc29ydGVkIGJ5IHpJbmRleCB2YWx1ZTsgYSBoaWdoZXIgdmFsdWUgd2lsbCBtZWFuIGl0IHdpbGwgYmUgbW92ZWQgdG93YXJkcyB0aGUgZW5kIG9mIHRoZSBhcnJheSxcbiAgICAgKiBhbmQgdGh1cyByZW5kZXJlZCBvbiB0b3Agb2Ygb3RoZXIgZGlzcGxheU9iamVjdHMgd2l0aGluIHRoZSBzYW1lIGNvbnRhaW5lci5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgekluZGV4KCk6IG51bWJlclxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3pJbmRleDtcbiAgICB9XG5cbiAgICBzZXQgekluZGV4KHZhbHVlOiBudW1iZXIpXG4gICAge1xuICAgICAgICB0aGlzLl96SW5kZXggPSB2YWx1ZTtcbiAgICAgICAgaWYgKHRoaXMucGFyZW50KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnBhcmVudC5zb3J0RGlydHkgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIGlmIHRoZSBvYmplY3QgaXMgZ2xvYmFsbHkgdmlzaWJsZS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgZ2V0IHdvcmxkVmlzaWJsZSgpOiBib29sZWFuXG4gICAge1xuICAgICAgICBsZXQgaXRlbSA9IHRoaXMgYXMgRGlzcGxheU9iamVjdDtcblxuICAgICAgICBkb1xuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIWl0ZW0udmlzaWJsZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGl0ZW0gPSBpdGVtLnBhcmVudDtcbiAgICAgICAgfSB3aGlsZSAoaXRlbSk7XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyBhIG1hc2sgZm9yIHRoZSBkaXNwbGF5T2JqZWN0LiBBIG1hc2sgaXMgYW4gb2JqZWN0IHRoYXQgbGltaXRzIHRoZSB2aXNpYmlsaXR5IG9mIGFuXG4gICAgICogb2JqZWN0IHRvIHRoZSBzaGFwZSBvZiB0aGUgbWFzayBhcHBsaWVkIHRvIGl0LiBJbiBQaXhpSlMgYSByZWd1bGFyIG1hc2sgbXVzdCBiZSBhXG4gICAgICoge0BsaW5rIFBJWEkuR3JhcGhpY3N9IG9yIGEge0BsaW5rIFBJWEkuU3ByaXRlfSBvYmplY3QuIFRoaXMgYWxsb3dzIGZvciBtdWNoIGZhc3RlciBtYXNraW5nIGluIGNhbnZhcyBhcyBpdFxuICAgICAqIHV0aWxpdGllcyBzaGFwZSBjbGlwcGluZy4gVG8gcmVtb3ZlIGEgbWFzaywgc2V0IHRoaXMgcHJvcGVydHkgdG8gYG51bGxgLlxuICAgICAqXG4gICAgICogRm9yIHNwcml0ZSBtYXNrIGJvdGggYWxwaGEgYW5kIHJlZCBjaGFubmVsIGFyZSB1c2VkLiBCbGFjayBtYXNrIGlzIHRoZSBzYW1lIGFzIHRyYW5zcGFyZW50IG1hc2suXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBncmFwaGljcyA9IG5ldyBQSVhJLkdyYXBoaWNzKCk7XG4gICAgICogZ3JhcGhpY3MuYmVnaW5GaWxsKDB4RkYzMzAwKTtcbiAgICAgKiBncmFwaGljcy5kcmF3UmVjdCg1MCwgMjUwLCAxMDAsIDEwMCk7XG4gICAgICogZ3JhcGhpY3MuZW5kRmlsbCgpO1xuICAgICAqXG4gICAgICogY29uc3Qgc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlKHRleHR1cmUpO1xuICAgICAqIHNwcml0ZS5tYXNrID0gZ3JhcGhpY3M7XG4gICAgICogQHRvZG8gQXQgdGhlIG1vbWVudCwgUElYSS5DYW52YXNSZW5kZXJlciBkb2Vzbid0IHN1cHBvcnQgUElYSS5TcHJpdGUgYXMgbWFzay5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuQ29udGFpbmVyfFBJWEkuTWFza0RhdGF8bnVsbH1cbiAgICAgKi9cbiAgICBnZXQgbWFzaygpOiBDb250YWluZXJ8TWFza0RhdGF8bnVsbFxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21hc2s7XG4gICAgfVxuXG4gICAgc2V0IG1hc2sodmFsdWU6IENvbnRhaW5lcnxNYXNrRGF0YXxudWxsKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX21hc2spXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IG1hc2tPYmplY3QgPSAoKHRoaXMuX21hc2sgYXMgTWFza0RhdGEpLm1hc2tPYmplY3QgfHwgdGhpcy5fbWFzaykgYXMgQ29udGFpbmVyO1xuXG4gICAgICAgICAgICBtYXNrT2JqZWN0LnJlbmRlcmFibGUgPSB0cnVlO1xuICAgICAgICAgICAgbWFza09iamVjdC5pc01hc2sgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX21hc2sgPSB2YWx1ZTtcblxuICAgICAgICBpZiAodGhpcy5fbWFzaylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgbWFza09iamVjdCA9ICgodGhpcy5fbWFzayBhcyBNYXNrRGF0YSkubWFza09iamVjdCB8fCB0aGlzLl9tYXNrKSBhcyBDb250YWluZXI7XG5cbiAgICAgICAgICAgIG1hc2tPYmplY3QucmVuZGVyYWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgbWFza09iamVjdC5pc01hc2sgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgVGVtcG9yYXJ5RGlzcGxheU9iamVjdCBleHRlbmRzIERpc3BsYXlPYmplY3RcbntcbiAgICBjYWxjdWxhdGVCb3VuZHM6ICgpID0+IG51bGw7XG4gICAgcmVtb3ZlQ2hpbGQ6IChjaGlsZDogRGlzcGxheU9iamVjdCkgPT4gbnVsbDtcbiAgICByZW5kZXI6IChyZW5kZXJlcjogUmVuZGVyZXIpID0+IG51bGw7XG4gICAgc29ydERpcnR5OiBib29sZWFuID0gbnVsbDtcbn1cblxuLyoqXG4gKiBEaXNwbGF5T2JqZWN0IGRlZmF1bHQgdXBkYXRlVHJhbnNmb3JtLCBkb2VzIG5vdCB1cGRhdGUgY2hpbGRyZW4gb2YgY29udGFpbmVyLlxuICogV2lsbCBjcmFzaCBpZiB0aGVyZSdzIG5vIHBhcmVudCBlbGVtZW50LlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gKiBAZnVuY3Rpb24gZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybVxuICovXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtID0gRGlzcGxheU9iamVjdC5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtO1xuIiwiaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5pbXBvcnQgeyByZW1vdmVJdGVtcyB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCB7IERpc3BsYXlPYmplY3QgfSBmcm9tICcuL0Rpc3BsYXlPYmplY3QnO1xuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5cbmltcG9ydCB0eXBlIHsgTWFza0RhdGEsIFJlbmRlcmVyIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgdHlwZSB7IElEZXN0cm95T3B0aW9ucyB9IGZyb20gJy4vRGlzcGxheU9iamVjdCc7XG5cbmZ1bmN0aW9uIHNvcnRDaGlsZHJlbihhOiBEaXNwbGF5T2JqZWN0LCBiOiBEaXNwbGF5T2JqZWN0KTogbnVtYmVyXG57XG4gICAgaWYgKGEuekluZGV4ID09PSBiLnpJbmRleClcbiAgICB7XG4gICAgICAgIHJldHVybiBhLl9sYXN0U29ydGVkSW5kZXggLSBiLl9sYXN0U29ydGVkSW5kZXg7XG4gICAgfVxuXG4gICAgcmV0dXJuIGEuekluZGV4IC0gYi56SW5kZXg7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29udGFpbmVyIGV4dGVuZHMgR2xvYmFsTWl4aW5zLkNvbnRhaW5lciwgRGlzcGxheU9iamVjdCB7fVxuXG4vKipcbiAqIEEgQ29udGFpbmVyIHJlcHJlc2VudHMgYSBjb2xsZWN0aW9uIG9mIGRpc3BsYXkgb2JqZWN0cy5cbiAqXG4gKiBJdCBpcyB0aGUgYmFzZSBjbGFzcyBvZiBhbGwgZGlzcGxheSBvYmplY3RzIHRoYXQgYWN0IGFzIGEgY29udGFpbmVyIGZvciBvdGhlciBvYmplY3RzIChsaWtlIFNwcml0ZXMpLlxuICpcbiAqYGBganNcbiAqIGxldCBjb250YWluZXIgPSBuZXcgUElYSS5Db250YWluZXIoKTtcbiAqIGNvbnRhaW5lci5hZGRDaGlsZChzcHJpdGUpO1xuICogYGBgXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkRpc3BsYXlPYmplY3RcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBjbGFzcyBDb250YWluZXIgZXh0ZW5kcyBEaXNwbGF5T2JqZWN0XG57XG4gICAgcHVibGljIHJlYWRvbmx5IGNoaWxkcmVuOiBEaXNwbGF5T2JqZWN0W107XG4gICAgcHVibGljIHNvcnRhYmxlQ2hpbGRyZW46IGJvb2xlYW47XG4gICAgcHVibGljIHNvcnREaXJ0eTogYm9vbGVhbjtcbiAgICBwdWJsaWMgY29udGFpbmVyVXBkYXRlVHJhbnNmb3JtOiAoKSA9PiB2b2lkO1xuXG4gICAgcHJvdGVjdGVkIF93aWR0aDogbnVtYmVyO1xuICAgIHByb3RlY3RlZCBfaGVpZ2h0OiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3RvcigpXG4gICAge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYXJyYXkgb2YgY2hpbGRyZW4gb2YgdGhpcyBjb250YWluZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuRGlzcGxheU9iamVjdFtdfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2hpbGRyZW4gPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgc2V0IHRvIHRydWUsIHRoZSBjb250YWluZXIgd2lsbCBzb3J0IGl0cyBjaGlsZHJlbiBieSB6SW5kZXggdmFsdWVcbiAgICAgICAgICogd2hlbiB1cGRhdGVUcmFuc2Zvcm0oKSBpcyBjYWxsZWQsIG9yIG1hbnVhbGx5IGlmIHNvcnRDaGlsZHJlbigpIGlzIGNhbGxlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhpcyBhY3R1YWxseSBjaGFuZ2VzIHRoZSBvcmRlciBvZiBlbGVtZW50cyBpbiB0aGUgYXJyYXksIHNvIHNob3VsZCBiZSB0cmVhdGVkXG4gICAgICAgICAqIGFzIGEgYmFzaWMgc29sdXRpb24gdGhhdCBpcyBub3QgcGVyZm9ybWFudCBjb21wYXJlZCB0byBvdGhlciBzb2x1dGlvbnMsXG4gICAgICAgICAqIHN1Y2ggYXMgQGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL3BpeGlqcy9waXhpLWRpc3BsYXlcbiAgICAgICAgICpcbiAgICAgICAgICogQWxzbyBiZSBhd2FyZSBvZiB0aGF0IHRoaXMgbWF5IG5vdCB3b3JrIG5pY2VseSB3aXRoIHRoZSBhZGRDaGlsZEF0KCkgZnVuY3Rpb24sXG4gICAgICAgICAqIGFzIHRoZSB6SW5kZXggc29ydGluZyBtYXkgY2F1c2UgdGhlIGNoaWxkIHRvIGF1dG9tYXRpY2FsbHkgc29ydGVkIHRvIGFub3RoZXIgcG9zaXRpb24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzZWUgUElYSS5zZXR0aW5ncy5TT1JUQUJMRV9DSElMRFJFTlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zb3J0YWJsZUNoaWxkcmVuID0gc2V0dGluZ3MuU09SVEFCTEVfQ0hJTERSRU47XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNob3VsZCBjaGlsZHJlbiBiZSBzb3J0ZWQgYnkgekluZGV4IGF0IHRoZSBuZXh0IHVwZGF0ZVRyYW5zZm9ybSBjYWxsLlxuICAgICAgICAgKiBXaWxsIGdldCBhdXRvbWF0aWNhbGx5IHNldCB0byB0cnVlIGlmIGEgbmV3IGNoaWxkIGlzIGFkZGVkLCBvciBpZiBhIGNoaWxkJ3MgekluZGV4IGNoYW5nZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNvcnREaXJ0eSA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgRGlzcGxheU9iamVjdCBpcyBhZGRlZCB0byB0aGlzIENvbnRhaW5lci5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuQ29udGFpbmVyI2NoaWxkQWRkZWRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGNoaWxkIC0gVGhlIGNoaWxkIGFkZGVkIHRvIHRoZSBDb250YWluZXIuXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ9IGNvbnRhaW5lciAtIFRoZSBjb250YWluZXIgdGhhdCBhZGRlZCB0aGUgY2hpbGQuXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCAtIFRoZSBjaGlsZHJlbidzIGluZGV4IG9mIHRoZSBhZGRlZCBjaGlsZC5cbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBEaXNwbGF5T2JqZWN0IGlzIHJlbW92ZWQgZnJvbSB0aGlzIENvbnRhaW5lci5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNyZW1vdmVkRnJvbVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gY2hpbGQgLSBUaGUgY2hpbGQgcmVtb3ZlZCBmcm9tIHRoZSBDb250YWluZXIuXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ9IGNvbnRhaW5lciAtIFRoZSBjb250YWluZXIgdGhhdCByZW1vdmVkIHJlbW92ZWQgdGhlIGNoaWxkLlxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggLSBUaGUgZm9ybWVyIGNoaWxkcmVuJ3MgaW5kZXggb2YgdGhlIHJlbW92ZWQgY2hpbGRcbiAgICAgICAgICovXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGFibGUgbWV0aG9kIHRoYXQgY2FuIGJlIHVzZWQgYnkgQ29udGFpbmVyIHN1YmNsYXNzZXMgd2hlbmV2ZXIgdGhlIGNoaWxkcmVuIGFycmF5IGlzIG1vZGlmaWVkXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgcHJvdGVjdGVkIG9uQ2hpbGRyZW5DaGFuZ2UoX2xlbmd0aDogbnVtYmVyKTogdm9pZFxuICAgIHtcbiAgICAgICAgLyogZW1wdHkgKi9cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIG9uZSBvciBtb3JlIGNoaWxkcmVuIHRvIHRoZSBjb250YWluZXIuXG4gICAgICpcbiAgICAgKiBNdWx0aXBsZSBpdGVtcyBjYW4gYmUgYWRkZWQgbGlrZSBzbzogYG15Q29udGFpbmVyLmFkZENoaWxkKHRoaW5nT25lLCB0aGluZ1R3bywgdGhpbmdUaHJlZSlgXG4gICAgICpcbiAgICAgKiBAcGFyYW0gey4uLlBJWEkuRGlzcGxheU9iamVjdH0gY2hpbGRyZW4gLSBUaGUgRGlzcGxheU9iamVjdChzKSB0byBhZGQgdG8gdGhlIGNvbnRhaW5lclxuICAgICAqIEByZXR1cm4ge1BJWEkuRGlzcGxheU9iamVjdH0gVGhlIGZpcnN0IGNoaWxkIHRoYXQgd2FzIGFkZGVkLlxuICAgICAqL1xuICAgIGFkZENoaWxkPFQgZXh0ZW5kcyBEaXNwbGF5T2JqZWN0W10+KC4uLmNoaWxkcmVuOiBUKTogVFswXVxuICAgIHtcbiAgICAgICAgLy8gaWYgdGhlcmUgaXMgb25seSBvbmUgYXJndW1lbnQgd2UgY2FuIGJ5cGFzcyBsb29waW5nIHRocm91Z2ggdGhlIHRoZW1cbiAgICAgICAgaWYgKGNoaWxkcmVuLmxlbmd0aCA+IDEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIGxvb3AgdGhyb3VnaCB0aGUgYXJyYXkgYW5kIGFkZCBhbGwgY2hpbGRyZW5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1yZXN0LXBhcmFtc1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGQoY2hpbGRyZW5baV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgY2hpbGQgPSBjaGlsZHJlblswXTtcbiAgICAgICAgICAgIC8vIGlmIHRoZSBjaGlsZCBoYXMgYSBwYXJlbnQgdGhlbiBsZXRzIHJlbW92ZSBpdCBhcyBQaXhpSlMgb2JqZWN0cyBjYW4gb25seSBleGlzdCBpbiBvbmUgcGxhY2VcblxuICAgICAgICAgICAgaWYgKGNoaWxkLnBhcmVudClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjaGlsZC5wYXJlbnQucmVtb3ZlQ2hpbGQoY2hpbGQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjaGlsZC5wYXJlbnQgPSB0aGlzO1xuICAgICAgICAgICAgdGhpcy5zb3J0RGlydHkgPSB0cnVlO1xuXG4gICAgICAgICAgICAvLyBlbnN1cmUgY2hpbGQgdHJhbnNmb3JtIHdpbGwgYmUgcmVjYWxjdWxhdGVkXG4gICAgICAgICAgICBjaGlsZC50cmFuc2Zvcm0uX3BhcmVudElEID0gLTE7XG5cbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaChjaGlsZCk7XG5cbiAgICAgICAgICAgIC8vIGVuc3VyZSBib3VuZHMgd2lsbCBiZSByZWNhbGN1bGF0ZWRcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kc0lEKys7XG5cbiAgICAgICAgICAgIC8vIFRPRE8gLSBsZXRzIGVpdGhlciBkbyBhbGwgY2FsbGJhY2tzIG9yIGFsbCBldmVudHMuLiBub3QgYm90aCFcbiAgICAgICAgICAgIHRoaXMub25DaGlsZHJlbkNoYW5nZSh0aGlzLmNoaWxkcmVuLmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdjaGlsZEFkZGVkJywgY2hpbGQsIHRoaXMsIHRoaXMuY2hpbGRyZW4ubGVuZ3RoIC0gMSk7XG4gICAgICAgICAgICBjaGlsZC5lbWl0KCdhZGRlZCcsIHRoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNoaWxkcmVuWzBdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBjaGlsZCB0byB0aGUgY29udGFpbmVyIGF0IGEgc3BlY2lmaWVkIGluZGV4LiBJZiB0aGUgaW5kZXggaXMgb3V0IG9mIGJvdW5kcyBhbiBlcnJvciB3aWxsIGJlIHRocm93blxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGNoaWxkIC0gVGhlIGNoaWxkIHRvIGFkZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCAtIFRoZSBpbmRleCB0byBwbGFjZSB0aGUgY2hpbGQgaW5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkRpc3BsYXlPYmplY3R9IFRoZSBjaGlsZCB0aGF0IHdhcyBhZGRlZC5cbiAgICAgKi9cbiAgICBhZGRDaGlsZEF0PFQgZXh0ZW5kcyBEaXNwbGF5T2JqZWN0PihjaGlsZDogVCwgaW5kZXg6IG51bWJlcik6IFRcbiAgICB7XG4gICAgICAgIGlmIChpbmRleCA8IDAgfHwgaW5kZXggPiB0aGlzLmNoaWxkcmVuLmxlbmd0aClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGAke2NoaWxkfWFkZENoaWxkQXQ6IFRoZSBpbmRleCAke2luZGV4fSBzdXBwbGllZCBpcyBvdXQgb2YgYm91bmRzICR7dGhpcy5jaGlsZHJlbi5sZW5ndGh9YCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY2hpbGQucGFyZW50KVxuICAgICAgICB7XG4gICAgICAgICAgICBjaGlsZC5wYXJlbnQucmVtb3ZlQ2hpbGQoY2hpbGQpO1xuICAgICAgICB9XG5cbiAgICAgICAgY2hpbGQucGFyZW50ID0gdGhpcztcbiAgICAgICAgdGhpcy5zb3J0RGlydHkgPSB0cnVlO1xuXG4gICAgICAgIC8vIGVuc3VyZSBjaGlsZCB0cmFuc2Zvcm0gd2lsbCBiZSByZWNhbGN1bGF0ZWRcbiAgICAgICAgY2hpbGQudHJhbnNmb3JtLl9wYXJlbnRJRCA9IC0xO1xuXG4gICAgICAgIHRoaXMuY2hpbGRyZW4uc3BsaWNlKGluZGV4LCAwLCBjaGlsZCk7XG5cbiAgICAgICAgLy8gZW5zdXJlIGJvdW5kcyB3aWxsIGJlIHJlY2FsY3VsYXRlZFxuICAgICAgICB0aGlzLl9ib3VuZHNJRCsrO1xuXG4gICAgICAgIC8vIFRPRE8gLSBsZXRzIGVpdGhlciBkbyBhbGwgY2FsbGJhY2tzIG9yIGFsbCBldmVudHMuLiBub3QgYm90aCFcbiAgICAgICAgdGhpcy5vbkNoaWxkcmVuQ2hhbmdlKGluZGV4KTtcbiAgICAgICAgY2hpbGQuZW1pdCgnYWRkZWQnLCB0aGlzKTtcbiAgICAgICAgdGhpcy5lbWl0KCdjaGlsZEFkZGVkJywgY2hpbGQsIHRoaXMsIGluZGV4KTtcblxuICAgICAgICByZXR1cm4gY2hpbGQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU3dhcHMgdGhlIHBvc2l0aW9uIG9mIDIgRGlzcGxheSBPYmplY3RzIHdpdGhpbiB0aGlzIGNvbnRhaW5lci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBjaGlsZCAtIEZpcnN0IGRpc3BsYXkgb2JqZWN0IHRvIHN3YXBcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gY2hpbGQyIC0gU2Vjb25kIGRpc3BsYXkgb2JqZWN0IHRvIHN3YXBcbiAgICAgKi9cbiAgICBzd2FwQ2hpbGRyZW4oY2hpbGQ6IERpc3BsYXlPYmplY3QsIGNoaWxkMjogRGlzcGxheU9iamVjdCk6IHZvaWRcbiAgICB7XG4gICAgICAgIGlmIChjaGlsZCA9PT0gY2hpbGQyKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBpbmRleDEgPSB0aGlzLmdldENoaWxkSW5kZXgoY2hpbGQpO1xuICAgICAgICBjb25zdCBpbmRleDIgPSB0aGlzLmdldENoaWxkSW5kZXgoY2hpbGQyKTtcblxuICAgICAgICB0aGlzLmNoaWxkcmVuW2luZGV4MV0gPSBjaGlsZDI7XG4gICAgICAgIHRoaXMuY2hpbGRyZW5baW5kZXgyXSA9IGNoaWxkO1xuICAgICAgICB0aGlzLm9uQ2hpbGRyZW5DaGFuZ2UoaW5kZXgxIDwgaW5kZXgyID8gaW5kZXgxIDogaW5kZXgyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBpbmRleCBwb3NpdGlvbiBvZiBhIGNoaWxkIERpc3BsYXlPYmplY3QgaW5zdGFuY2VcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBjaGlsZCAtIFRoZSBEaXNwbGF5T2JqZWN0IGluc3RhbmNlIHRvIGlkZW50aWZ5XG4gICAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgaW5kZXggcG9zaXRpb24gb2YgdGhlIGNoaWxkIGRpc3BsYXkgb2JqZWN0IHRvIGlkZW50aWZ5XG4gICAgICovXG4gICAgZ2V0Q2hpbGRJbmRleChjaGlsZDogRGlzcGxheU9iamVjdCk6IG51bWJlclxuICAgIHtcbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLmNoaWxkcmVuLmluZGV4T2YoY2hpbGQpO1xuXG4gICAgICAgIGlmIChpbmRleCA9PT0gLTEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIHN1cHBsaWVkIERpc3BsYXlPYmplY3QgbXVzdCBiZSBhIGNoaWxkIG9mIHRoZSBjYWxsZXInKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSBwb3NpdGlvbiBvZiBhbiBleGlzdGluZyBjaGlsZCBpbiB0aGUgZGlzcGxheSBvYmplY3QgY29udGFpbmVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gY2hpbGQgLSBUaGUgY2hpbGQgRGlzcGxheU9iamVjdCBpbnN0YW5jZSBmb3Igd2hpY2ggeW91IHdhbnQgdG8gY2hhbmdlIHRoZSBpbmRleCBudW1iZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggLSBUaGUgcmVzdWx0aW5nIGluZGV4IG51bWJlciBmb3IgdGhlIGNoaWxkIGRpc3BsYXkgb2JqZWN0XG4gICAgICovXG4gICAgc2V0Q2hpbGRJbmRleChjaGlsZDogRGlzcGxheU9iamVjdCwgaW5kZXg6IG51bWJlcik6IHZvaWRcbiAgICB7XG4gICAgICAgIGlmIChpbmRleCA8IDAgfHwgaW5kZXggPj0gdGhpcy5jaGlsZHJlbi5sZW5ndGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVGhlIGluZGV4ICR7aW5kZXh9IHN1cHBsaWVkIGlzIG91dCBvZiBib3VuZHMgJHt0aGlzLmNoaWxkcmVuLmxlbmd0aH1gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGN1cnJlbnRJbmRleCA9IHRoaXMuZ2V0Q2hpbGRJbmRleChjaGlsZCk7XG5cbiAgICAgICAgcmVtb3ZlSXRlbXModGhpcy5jaGlsZHJlbiwgY3VycmVudEluZGV4LCAxKTsgLy8gcmVtb3ZlIGZyb20gb2xkIHBvc2l0aW9uXG4gICAgICAgIHRoaXMuY2hpbGRyZW4uc3BsaWNlKGluZGV4LCAwLCBjaGlsZCk7IC8vIGFkZCBhdCBuZXcgcG9zaXRpb25cblxuICAgICAgICB0aGlzLm9uQ2hpbGRyZW5DaGFuZ2UoaW5kZXgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGNoaWxkIGF0IHRoZSBzcGVjaWZpZWQgaW5kZXhcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCAtIFRoZSBpbmRleCB0byBnZXQgdGhlIGNoaWxkIGF0XG4gICAgICogQHJldHVybiB7UElYSS5EaXNwbGF5T2JqZWN0fSBUaGUgY2hpbGQgYXQgdGhlIGdpdmVuIGluZGV4LCBpZiBhbnkuXG4gICAgICovXG4gICAgZ2V0Q2hpbGRBdChpbmRleDogbnVtYmVyKTogRGlzcGxheU9iamVjdFxuICAgIHtcbiAgICAgICAgaWYgKGluZGV4IDwgMCB8fCBpbmRleCA+PSB0aGlzLmNoaWxkcmVuLmxlbmd0aClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBnZXRDaGlsZEF0OiBJbmRleCAoJHtpbmRleH0pIGRvZXMgbm90IGV4aXN0LmApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuY2hpbGRyZW5baW5kZXhdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgb25lIG9yIG1vcmUgY2hpbGRyZW4gZnJvbSB0aGUgY29udGFpbmVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHsuLi5QSVhJLkRpc3BsYXlPYmplY3R9IGNoaWxkcmVuIC0gVGhlIERpc3BsYXlPYmplY3QocykgdG8gcmVtb3ZlXG4gICAgICogQHJldHVybiB7UElYSS5EaXNwbGF5T2JqZWN0fSBUaGUgZmlyc3QgY2hpbGQgdGhhdCB3YXMgcmVtb3ZlZC5cbiAgICAgKi9cbiAgICByZW1vdmVDaGlsZDxUIGV4dGVuZHMgRGlzcGxheU9iamVjdFtdPiguLi5jaGlsZHJlbjogVCk6IFRbMF1cbiAgICB7XG4gICAgICAgIC8vIGlmIHRoZXJlIGlzIG9ubHkgb25lIGFyZ3VtZW50IHdlIGNhbiBieXBhc3MgbG9vcGluZyB0aHJvdWdoIHRoZSB0aGVtXG4gICAgICAgIGlmIChjaGlsZHJlbi5sZW5ndGggPiAxKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBsb29wIHRocm91Z2ggdGhlIGFyZ3VtZW50cyBwcm9wZXJ0eSBhbmQgcmVtb3ZlIGFsbCBjaGlsZHJlblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUNoaWxkKGNoaWxkcmVuW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkID0gY2hpbGRyZW5bMF07XG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuY2hpbGRyZW4uaW5kZXhPZihjaGlsZCk7XG5cbiAgICAgICAgICAgIGlmIChpbmRleCA9PT0gLTEpIHJldHVybiBudWxsO1xuXG4gICAgICAgICAgICBjaGlsZC5wYXJlbnQgPSBudWxsO1xuICAgICAgICAgICAgLy8gZW5zdXJlIGNoaWxkIHRyYW5zZm9ybSB3aWxsIGJlIHJlY2FsY3VsYXRlZFxuICAgICAgICAgICAgY2hpbGQudHJhbnNmb3JtLl9wYXJlbnRJRCA9IC0xO1xuICAgICAgICAgICAgcmVtb3ZlSXRlbXModGhpcy5jaGlsZHJlbiwgaW5kZXgsIDEpO1xuXG4gICAgICAgICAgICAvLyBlbnN1cmUgYm91bmRzIHdpbGwgYmUgcmVjYWxjdWxhdGVkXG4gICAgICAgICAgICB0aGlzLl9ib3VuZHNJRCsrO1xuXG4gICAgICAgICAgICAvLyBUT0RPIC0gbGV0cyBlaXRoZXIgZG8gYWxsIGNhbGxiYWNrcyBvciBhbGwgZXZlbnRzLi4gbm90IGJvdGghXG4gICAgICAgICAgICB0aGlzLm9uQ2hpbGRyZW5DaGFuZ2UoaW5kZXgpO1xuICAgICAgICAgICAgY2hpbGQuZW1pdCgncmVtb3ZlZCcsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdjaGlsZFJlbW92ZWQnLCBjaGlsZCwgdGhpcywgaW5kZXgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNoaWxkcmVuWzBdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYSBjaGlsZCBmcm9tIHRoZSBzcGVjaWZpZWQgaW5kZXggcG9zaXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggLSBUaGUgaW5kZXggdG8gZ2V0IHRoZSBjaGlsZCBmcm9tXG4gICAgICogQHJldHVybiB7UElYSS5EaXNwbGF5T2JqZWN0fSBUaGUgY2hpbGQgdGhhdCB3YXMgcmVtb3ZlZC5cbiAgICAgKi9cbiAgICByZW1vdmVDaGlsZEF0KGluZGV4OiBudW1iZXIpOiBEaXNwbGF5T2JqZWN0XG4gICAge1xuICAgICAgICBjb25zdCBjaGlsZCA9IHRoaXMuZ2V0Q2hpbGRBdChpbmRleCk7XG5cbiAgICAgICAgLy8gZW5zdXJlIGNoaWxkIHRyYW5zZm9ybSB3aWxsIGJlIHJlY2FsY3VsYXRlZC4uXG4gICAgICAgIGNoaWxkLnBhcmVudCA9IG51bGw7XG4gICAgICAgIGNoaWxkLnRyYW5zZm9ybS5fcGFyZW50SUQgPSAtMTtcbiAgICAgICAgcmVtb3ZlSXRlbXModGhpcy5jaGlsZHJlbiwgaW5kZXgsIDEpO1xuXG4gICAgICAgIC8vIGVuc3VyZSBib3VuZHMgd2lsbCBiZSByZWNhbGN1bGF0ZWRcbiAgICAgICAgdGhpcy5fYm91bmRzSUQrKztcblxuICAgICAgICAvLyBUT0RPIC0gbGV0cyBlaXRoZXIgZG8gYWxsIGNhbGxiYWNrcyBvciBhbGwgZXZlbnRzLi4gbm90IGJvdGghXG4gICAgICAgIHRoaXMub25DaGlsZHJlbkNoYW5nZShpbmRleCk7XG4gICAgICAgIGNoaWxkLmVtaXQoJ3JlbW92ZWQnLCB0aGlzKTtcbiAgICAgICAgdGhpcy5lbWl0KCdjaGlsZFJlbW92ZWQnLCBjaGlsZCwgdGhpcywgaW5kZXgpO1xuXG4gICAgICAgIHJldHVybiBjaGlsZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBjaGlsZHJlbiBmcm9tIHRoaXMgY29udGFpbmVyIHRoYXQgYXJlIHdpdGhpbiB0aGUgYmVnaW4gYW5kIGVuZCBpbmRleGVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtiZWdpbkluZGV4PTBdIC0gVGhlIGJlZ2lubmluZyBwb3NpdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2VuZEluZGV4PXRoaXMuY2hpbGRyZW4ubGVuZ3RoXSAtIFRoZSBlbmRpbmcgcG9zaXRpb24uIERlZmF1bHQgdmFsdWUgaXMgc2l6ZSBvZiB0aGUgY29udGFpbmVyLlxuICAgICAqIEByZXR1cm5zIHtQSVhJLkRpc3BsYXlPYmplY3RbXX0gTGlzdCBvZiByZW1vdmVkIGNoaWxkcmVuXG4gICAgICovXG4gICAgcmVtb3ZlQ2hpbGRyZW4oYmVnaW5JbmRleCA9IDAsIGVuZEluZGV4ID0gdGhpcy5jaGlsZHJlbi5sZW5ndGgpOiBEaXNwbGF5T2JqZWN0W11cbiAgICB7XG4gICAgICAgIGNvbnN0IGJlZ2luID0gYmVnaW5JbmRleDtcbiAgICAgICAgY29uc3QgZW5kID0gZW5kSW5kZXg7XG4gICAgICAgIGNvbnN0IHJhbmdlID0gZW5kIC0gYmVnaW47XG4gICAgICAgIGxldCByZW1vdmVkO1xuXG4gICAgICAgIGlmIChyYW5nZSA+IDAgJiYgcmFuZ2UgPD0gZW5kKVxuICAgICAgICB7XG4gICAgICAgICAgICByZW1vdmVkID0gdGhpcy5jaGlsZHJlbi5zcGxpY2UoYmVnaW4sIHJhbmdlKTtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZW1vdmVkLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJlbW92ZWRbaV0ucGFyZW50ID0gbnVsbDtcbiAgICAgICAgICAgICAgICBpZiAocmVtb3ZlZFtpXS50cmFuc2Zvcm0pXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZW1vdmVkW2ldLnRyYW5zZm9ybS5fcGFyZW50SUQgPSAtMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2JvdW5kc0lEKys7XG5cbiAgICAgICAgICAgIHRoaXMub25DaGlsZHJlbkNoYW5nZShiZWdpbkluZGV4KTtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZW1vdmVkLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJlbW92ZWRbaV0uZW1pdCgncmVtb3ZlZCcsIHRoaXMpO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnY2hpbGRSZW1vdmVkJywgcmVtb3ZlZFtpXSwgdGhpcywgaSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiByZW1vdmVkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHJhbmdlID09PSAwICYmIHRoaXMuY2hpbGRyZW4ubGVuZ3RoID09PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cblxuICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcigncmVtb3ZlQ2hpbGRyZW46IG51bWVyaWMgdmFsdWVzIGFyZSBvdXRzaWRlIHRoZSBhY2NlcHRhYmxlIHJhbmdlLicpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNvcnRzIGNoaWxkcmVuIGJ5IHpJbmRleC4gUHJldmlvdXMgb3JkZXIgaXMgbWFudGFpbmVkIGZvciAyIGNoaWxkcmVuIHdpdGggdGhlIHNhbWUgekluZGV4LlxuICAgICAqL1xuICAgIHNvcnRDaGlsZHJlbigpOiB2b2lkXG4gICAge1xuICAgICAgICBsZXQgc29ydFJlcXVpcmVkID0gZmFsc2U7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGogPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSA8IGo7ICsraSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgY2hpbGQgPSB0aGlzLmNoaWxkcmVuW2ldO1xuXG4gICAgICAgICAgICBjaGlsZC5fbGFzdFNvcnRlZEluZGV4ID0gaTtcblxuICAgICAgICAgICAgaWYgKCFzb3J0UmVxdWlyZWQgJiYgY2hpbGQuekluZGV4ICE9PSAwKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNvcnRSZXF1aXJlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc29ydFJlcXVpcmVkICYmIHRoaXMuY2hpbGRyZW4ubGVuZ3RoID4gMSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5zb3J0KHNvcnRDaGlsZHJlbik7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNvcnREaXJ0eSA9IGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIHRyYW5zZm9ybSBvbiBhbGwgY2hpbGRyZW4gb2YgdGhpcyBjb250YWluZXIgZm9yIHJlbmRlcmluZ1xuICAgICAqL1xuICAgIHVwZGF0ZVRyYW5zZm9ybSgpOiB2b2lkXG4gICAge1xuICAgICAgICBpZiAodGhpcy5zb3J0YWJsZUNoaWxkcmVuICYmIHRoaXMuc29ydERpcnR5KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnNvcnRDaGlsZHJlbigpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fYm91bmRzSUQrKztcblxuICAgICAgICB0aGlzLnRyYW5zZm9ybS51cGRhdGVUcmFuc2Zvcm0odGhpcy5wYXJlbnQudHJhbnNmb3JtKTtcblxuICAgICAgICAvLyBUT0RPOiBjaGVjayByZW5kZXIgZmxhZ3MsIGhvdyB0byBwcm9jZXNzIHN0dWZmIGhlcmVcbiAgICAgICAgdGhpcy53b3JsZEFscGhhID0gdGhpcy5hbHBoYSAqIHRoaXMucGFyZW50LndvcmxkQWxwaGE7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGogPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSA8IGo7ICsraSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgY2hpbGQgPSB0aGlzLmNoaWxkcmVuW2ldO1xuXG4gICAgICAgICAgICBpZiAoY2hpbGQudmlzaWJsZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjaGlsZC51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlY2FsY3VsYXRlcyB0aGUgYm91bmRzIG9mIHRoZSBjb250YWluZXIuXG4gICAgICpcbiAgICAgKi9cbiAgICBjYWxjdWxhdGVCb3VuZHMoKTogdm9pZFxuICAgIHtcbiAgICAgICAgdGhpcy5fYm91bmRzLmNsZWFyKCk7XG5cbiAgICAgICAgdGhpcy5fY2FsY3VsYXRlQm91bmRzKCk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBjaGlsZCA9IHRoaXMuY2hpbGRyZW5baV07XG5cbiAgICAgICAgICAgIGlmICghY2hpbGQudmlzaWJsZSB8fCAhY2hpbGQucmVuZGVyYWJsZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2hpbGQuY2FsY3VsYXRlQm91bmRzKCk7XG5cbiAgICAgICAgICAgIC8vIFRPRE86IGZpbHRlcittYXNrLCBuZWVkIHRvIG1hc2sgYm90aCBzb21laG93XG4gICAgICAgICAgICBpZiAoY2hpbGQuX21hc2spXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWFza09iamVjdCA9ICgoY2hpbGQuX21hc2sgYXMgTWFza0RhdGEpLm1hc2tPYmplY3QgfHwgY2hpbGQuX21hc2spIGFzIENvbnRhaW5lcjtcblxuICAgICAgICAgICAgICAgIG1hc2tPYmplY3QuY2FsY3VsYXRlQm91bmRzKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fYm91bmRzLmFkZEJvdW5kc01hc2soY2hpbGQuX2JvdW5kcywgbWFza09iamVjdC5fYm91bmRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoaWxkLmZpbHRlckFyZWEpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYm91bmRzLmFkZEJvdW5kc0FyZWEoY2hpbGQuX2JvdW5kcywgY2hpbGQuZmlsdGVyQXJlYSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYm91bmRzLmFkZEJvdW5kcyhjaGlsZC5fYm91bmRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2JvdW5kcy51cGRhdGVJRCA9IHRoaXMuX2JvdW5kc0lEO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyB0aGUgbG9jYWwgYm91bmRzIG9mIHRoZSBkaXNwbGF5T2JqZWN0IGFzIGEgcmVjdGFuZ2xlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IFtyZWN0XSAtIE9wdGlvbmFsIHJlY3RhbmdsZSB0byBzdG9yZSB0aGUgcmVzdWx0IG9mIHRoZSBib3VuZHMgY2FsY3VsYXRpb24uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc2tpcENoaWxkcmVuVXBkYXRlPWZhbHNlXSAtIFNldHRpbmcgdG8gYHRydWVgIHdpbGwgc3RvcCByZS1jYWxjdWxhdGlvbiBvZiBjaGlsZHJlbiB0cmFuc2Zvcm1zLFxuICAgICAqICBpdCB3YXMgZGVmYXVsdCBiZWhhdmlvdXIgb2YgcGl4aSA0LjAtNS4yIGFuZCBjYXVzZWQgbWFueSBwcm9ibGVtcyB0byB1c2Vycy5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gVGhlIHJlY3Rhbmd1bGFyIGJvdW5kaW5nIGFyZWEuXG4gICAgICovXG4gICAgcHVibGljIGdldExvY2FsQm91bmRzKHJlY3Q/OiBSZWN0YW5nbGUsIHNraXBDaGlsZHJlblVwZGF0ZSA9IGZhbHNlKTogUmVjdGFuZ2xlXG4gICAge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBzdXBlci5nZXRMb2NhbEJvdW5kcyhyZWN0KTtcblxuICAgICAgICBpZiAoIXNraXBDaGlsZHJlblVwZGF0ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGogPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSA8IGo7ICsraSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZCA9IHRoaXMuY2hpbGRyZW5baV07XG5cbiAgICAgICAgICAgICAgICBpZiAoY2hpbGQudmlzaWJsZSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkLnVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVjYWxjdWxhdGVzIHRoZSBib3VuZHMgb2YgdGhlIG9iamVjdC4gT3ZlcnJpZGUgdGhpcyB0b1xuICAgICAqIGNhbGN1bGF0ZSB0aGUgYm91bmRzIG9mIHRoZSBzcGVjaWZpYyBvYmplY3QgKG5vdCBpbmNsdWRpbmcgY2hpbGRyZW4pLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIHByb3RlY3RlZCBfY2FsY3VsYXRlQm91bmRzKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIC8vIEZJTEwgSU4vL1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIG9iamVjdCB1c2luZyB0aGUgV2ViR0wgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXJcbiAgICAgKi9cbiAgICByZW5kZXIocmVuZGVyZXI6IFJlbmRlcmVyKTogdm9pZFxuICAgIHtcbiAgICAgICAgLy8gaWYgdGhlIG9iamVjdCBpcyBub3QgdmlzaWJsZSBvciB0aGUgYWxwaGEgaXMgMCB0aGVuIG5vIG5lZWQgdG8gcmVuZGVyIHRoaXMgZWxlbWVudFxuICAgICAgICBpZiAoIXRoaXMudmlzaWJsZSB8fCB0aGlzLndvcmxkQWxwaGEgPD0gMCB8fCAhdGhpcy5yZW5kZXJhYmxlKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBkbyBhIHF1aWNrIGNoZWNrIHRvIHNlZSBpZiB0aGlzIGVsZW1lbnQgaGFzIGEgbWFzayBvciBhIGZpbHRlci5cbiAgICAgICAgaWYgKHRoaXMuX21hc2sgfHwgKHRoaXMuZmlsdGVycyAmJiB0aGlzLmZpbHRlcnMubGVuZ3RoKSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJBZHZhbmNlZChyZW5kZXJlcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9yZW5kZXIocmVuZGVyZXIpO1xuXG4gICAgICAgICAgICAvLyBzaW1wbGUgcmVuZGVyIGNoaWxkcmVuIVxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGogPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSA8IGo7ICsraSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNoaWxkcmVuW2ldLnJlbmRlcihyZW5kZXJlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXIgdGhlIG9iamVjdCB1c2luZyB0aGUgV2ViR0wgcmVuZGVyZXIgYW5kIGFkdmFuY2VkIGZlYXR1cmVzLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgcmVuZGVyQWR2YW5jZWQocmVuZGVyZXI6IFJlbmRlcmVyKTogdm9pZFxuICAgIHtcbiAgICAgICAgcmVuZGVyZXIuYmF0Y2guZmx1c2goKTtcblxuICAgICAgICBjb25zdCBmaWx0ZXJzID0gdGhpcy5maWx0ZXJzO1xuICAgICAgICBjb25zdCBtYXNrID0gdGhpcy5fbWFzaztcblxuICAgICAgICAvLyBwdXNoIGZpbHRlciBmaXJzdCBhcyB3ZSBuZWVkIHRvIGVuc3VyZSB0aGUgc3RlbmNpbCBidWZmZXIgaXMgY29ycmVjdCBmb3IgYW55IG1hc2tpbmdcbiAgICAgICAgaWYgKGZpbHRlcnMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fZW5hYmxlZEZpbHRlcnMpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZW5hYmxlZEZpbHRlcnMgPSBbXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fZW5hYmxlZEZpbHRlcnMubGVuZ3RoID0gMDtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmaWx0ZXJzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChmaWx0ZXJzW2ldLmVuYWJsZWQpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbmFibGVkRmlsdGVycy5wdXNoKGZpbHRlcnNbaV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMuX2VuYWJsZWRGaWx0ZXJzLmxlbmd0aClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZW5kZXJlci5maWx0ZXIucHVzaCh0aGlzLCB0aGlzLl9lbmFibGVkRmlsdGVycyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobWFzaylcbiAgICAgICAge1xuICAgICAgICAgICAgcmVuZGVyZXIubWFzay5wdXNoKHRoaXMsIHRoaXMuX21hc2spO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYWRkIHRoaXMgb2JqZWN0IHRvIHRoZSBiYXRjaCwgb25seSByZW5kZXJlZCBpZiBpdCBoYXMgYSB0ZXh0dXJlLlxuICAgICAgICB0aGlzLl9yZW5kZXIocmVuZGVyZXIpO1xuXG4gICAgICAgIC8vIG5vdyBsb29wIHRocm91Z2ggdGhlIGNoaWxkcmVuIGFuZCBtYWtlIHN1cmUgdGhleSBnZXQgcmVuZGVyZWRcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGogPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSA8IGo7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbltpXS5yZW5kZXIocmVuZGVyZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVuZGVyZXIuYmF0Y2guZmx1c2goKTtcblxuICAgICAgICBpZiAobWFzaylcbiAgICAgICAge1xuICAgICAgICAgICAgcmVuZGVyZXIubWFzay5wb3AodGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZmlsdGVycyAmJiB0aGlzLl9lbmFibGVkRmlsdGVycyAmJiB0aGlzLl9lbmFibGVkRmlsdGVycy5sZW5ndGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJlbmRlcmVyLmZpbHRlci5wb3AoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRvIGJlIG92ZXJyaWRkZW4gYnkgdGhlIHN1YmNsYXNzZXMuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuICAgIHByb3RlY3RlZCBfcmVuZGVyKF9yZW5kZXJlcjogUmVuZGVyZXIpOiB2b2lkIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgICB7XG4gICAgICAgIC8vIHRoaXMgaXMgd2hlcmUgY29udGVudCBpdHNlbGYgZ2V0cyByZW5kZXJlZC4uLlxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGludGVybmFsIHJlZmVyZW5jZXMgYW5kIGxpc3RlbmVycyBhcyB3ZWxsIGFzIHJlbW92ZXMgY2hpbGRyZW4gZnJvbSB0aGUgZGlzcGxheSBsaXN0LlxuICAgICAqIERvIG5vdCB1c2UgYSBDb250YWluZXIgYWZ0ZXIgY2FsbGluZyBgZGVzdHJveWAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdHxib29sZWFufSBbb3B0aW9uc10gLSBPcHRpb25zIHBhcmFtZXRlci4gQSBib29sZWFuIHdpbGwgYWN0IGFzIGlmIGFsbCBvcHRpb25zXG4gICAgICogIGhhdmUgYmVlbiBzZXQgdG8gdGhhdCB2YWx1ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2hpbGRyZW49ZmFsc2VdIC0gaWYgc2V0IHRvIHRydWUsIGFsbCB0aGUgY2hpbGRyZW4gd2lsbCBoYXZlIHRoZWlyIGRlc3Ryb3lcbiAgICAgKiAgbWV0aG9kIGNhbGxlZCBhcyB3ZWxsLiAnb3B0aW9ucycgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhvc2UgY2FsbHMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50ZXh0dXJlPWZhbHNlXSAtIE9ubHkgdXNlZCBmb3IgY2hpbGQgU3ByaXRlcyBpZiBvcHRpb25zLmNoaWxkcmVuIGlzIHNldCB0byB0cnVlXG4gICAgICogIFNob3VsZCBpdCBkZXN0cm95IHRoZSB0ZXh0dXJlIG9mIHRoZSBjaGlsZCBzcHJpdGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmJhc2VUZXh0dXJlPWZhbHNlXSAtIE9ubHkgdXNlZCBmb3IgY2hpbGQgU3ByaXRlcyBpZiBvcHRpb25zLmNoaWxkcmVuIGlzIHNldCB0byB0cnVlXG4gICAgICogIFNob3VsZCBpdCBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgb2YgdGhlIGNoaWxkIHNwcml0ZVxuICAgICAqL1xuICAgIGRlc3Ryb3kob3B0aW9ucz86IElEZXN0cm95T3B0aW9uc3xib29sZWFuKTogdm9pZFxuICAgIHtcbiAgICAgICAgc3VwZXIuZGVzdHJveSgpO1xuXG4gICAgICAgIHRoaXMuc29ydERpcnR5ID0gZmFsc2U7XG5cbiAgICAgICAgY29uc3QgZGVzdHJveUNoaWxkcmVuID0gdHlwZW9mIG9wdGlvbnMgPT09ICdib29sZWFuJyA/IG9wdGlvbnMgOiBvcHRpb25zICYmIG9wdGlvbnMuY2hpbGRyZW47XG5cbiAgICAgICAgY29uc3Qgb2xkQ2hpbGRyZW4gPSB0aGlzLnJlbW92ZUNoaWxkcmVuKDAsIHRoaXMuY2hpbGRyZW4ubGVuZ3RoKTtcblxuICAgICAgICBpZiAoZGVzdHJveUNoaWxkcmVuKVxuICAgICAgICB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9sZENoaWxkcmVuLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG9sZENoaWxkcmVuW2ldLmRlc3Ryb3kob3B0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgd2lkdGggb2YgdGhlIENvbnRhaW5lciwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSBzY2FsZSB0byBhY2hpZXZlIHRoZSB2YWx1ZSBzZXRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgd2lkdGgoKTogbnVtYmVyXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5zY2FsZS54ICogdGhpcy5nZXRMb2NhbEJvdW5kcygpLndpZHRoO1xuICAgIH1cblxuICAgIHNldCB3aWR0aCh2YWx1ZTogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgY29uc3Qgd2lkdGggPSB0aGlzLmdldExvY2FsQm91bmRzKCkud2lkdGg7XG5cbiAgICAgICAgaWYgKHdpZHRoICE9PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnNjYWxlLnggPSB2YWx1ZSAvIHdpZHRoO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5zY2FsZS54ID0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3dpZHRoID0gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGhlaWdodCBvZiB0aGUgQ29udGFpbmVyLCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHNjYWxlIHRvIGFjaGlldmUgdGhlIHZhbHVlIHNldFxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIGdldCBoZWlnaHQoKTogbnVtYmVyXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5zY2FsZS55ICogdGhpcy5nZXRMb2NhbEJvdW5kcygpLmhlaWdodDtcbiAgICB9XG5cbiAgICBzZXQgaGVpZ2h0KHZhbHVlOiBudW1iZXIpXG4gICAge1xuICAgICAgICBjb25zdCBoZWlnaHQgPSB0aGlzLmdldExvY2FsQm91bmRzKCkuaGVpZ2h0O1xuXG4gICAgICAgIGlmIChoZWlnaHQgIT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuc2NhbGUueSA9IHZhbHVlIC8gaGVpZ2h0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5zY2FsZS55ID0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2hlaWdodCA9IHZhbHVlO1xuICAgIH1cbn1cblxuLyoqXG4gKiBDb250YWluZXIgZGVmYXVsdCB1cGRhdGVUcmFuc2Zvcm0sIGRvZXMgdXBkYXRlIGNoaWxkcmVuIG9mIGNvbnRhaW5lci5cbiAqIFdpbGwgY3Jhc2ggaWYgdGhlcmUncyBubyBwYXJlbnQgZWxlbWVudC5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS5Db250YWluZXIjXG4gKiBAZnVuY3Rpb24gY29udGFpbmVyVXBkYXRlVHJhbnNmb3JtXG4gKi9cbkNvbnRhaW5lci5wcm90b3R5cGUuY29udGFpbmVyVXBkYXRlVHJhbnNmb3JtID0gQ29udGFpbmVyLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm07XG4iLCJpbXBvcnQgdHlwZSB7IERpc3BsYXlPYmplY3QgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcblxuZXhwb3J0IHR5cGUgUG9pbnRlckV2ZW50cyA9ICdhdXRvJ1xufCAnbm9uZSdcbnwgJ3Zpc2libGVQYWludGVkJ1xufCAndmlzaWJsZUZpbGwnXG58ICd2aXNpYmxlU3Ryb2tlJ1xufCAndmlzaWJsZSdcbnwgJ3BhaW50ZWQnXG58ICdmaWxsJ1xufCAnc3Ryb2tlJ1xufCAnYWxsJ1xufCAnaW5oZXJpdCc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUFjY2Vzc2libGVUYXJnZXQge1xuICAgIGFjY2Vzc2libGU6IGJvb2xlYW47XG4gICAgYWNjZXNzaWJsZVRpdGxlOiBzdHJpbmc7XG4gICAgYWNjZXNzaWJsZUhpbnQ6IHN0cmluZztcbiAgICB0YWJJbmRleDogbnVtYmVyO1xuICAgIF9hY2Nlc3NpYmxlQWN0aXZlOiBib29sZWFuO1xuICAgIF9hY2Nlc3NpYmxlRGl2OiBJQWNjZXNzaWJsZUhUTUxFbGVtZW50O1xuICAgIGFjY2Vzc2libGVUeXBlOiBzdHJpbmc7XG4gICAgYWNjZXNzaWJsZVBvaW50ZXJFdmVudHM6IFBvaW50ZXJFdmVudHM7XG4gICAgYWNjZXNzaWJsZUNoaWxkcmVuOiB0cnVlO1xuICAgIHJlbmRlcklkOiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUFjY2Vzc2libGVIVE1MRWxlbWVudCBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgICB0eXBlPzogc3RyaW5nO1xuICAgIGRpc3BsYXlPYmplY3Q/OiBEaXNwbGF5T2JqZWN0O1xufVxuXG4vKipcbiAqIERlZmF1bHQgcHJvcGVydHkgdmFsdWVzIG9mIGFjY2Vzc2libGUgb2JqZWN0c1xuICogdXNlZCBieSB7QGxpbmsgUElYSS5BY2Nlc3NpYmlsaXR5TWFuYWdlcn0uXG4gKlxuICogQHByaXZhdGVcbiAqIEBmdW5jdGlvbiBhY2Nlc3NpYmxlVGFyZ2V0XG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHR5cGUge09iamVjdH1cbiAqIEBleGFtcGxlXG4gKiAgICAgIGZ1bmN0aW9uIE15T2JqZWN0KCkge31cbiAqXG4gKiAgICAgIE9iamVjdC5hc3NpZ24oXG4gKiAgICAgICAgICBNeU9iamVjdC5wcm90b3R5cGUsXG4gKiAgICAgICAgICBQSVhJLmFjY2Vzc2libGVUYXJnZXRcbiAqICAgICAgKTtcbiAqL1xuZXhwb3J0IGNvbnN0IGFjY2Vzc2libGVUYXJnZXQ6IElBY2Nlc3NpYmxlVGFyZ2V0ID0ge1xuICAgIC8qKlxuICAgICAqICBGbGFnIGZvciBpZiB0aGUgb2JqZWN0IGlzIGFjY2Vzc2libGUuIElmIHRydWUgQWNjZXNzaWJpbGl0eU1hbmFnZXIgd2lsbCBvdmVybGF5IGFcbiAgICAgKiAgIHNoYWRvdyBkaXYgd2l0aCBhdHRyaWJ1dGVzIHNldFxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICAgICAqL1xuICAgIGFjY2Vzc2libGU6IGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgdGl0bGUgYXR0cmlidXRlIG9mIHRoZSBzaGFkb3cgZGl2XG4gICAgICogSWYgYWNjZXNzaWJsZVRpdGxlIEFORCBhY2Nlc3NpYmxlSGludCBoYXMgbm90IGJlZW4gdGhpcyB3aWxsIGRlZmF1bHQgdG8gJ2Rpc3BsYXlPYmplY3QgW3RhYkluZGV4XSdcbiAgICAgKlxuICAgICAqIEBtZW1iZXIgez9zdHJpbmd9XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKi9cbiAgICBhY2Nlc3NpYmxlVGl0bGU6IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBhcmlhLWxhYmVsIGF0dHJpYnV0ZSBvZiB0aGUgc2hhZG93IGRpdlxuICAgICAqXG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICovXG4gICAgYWNjZXNzaWJsZUhpbnQ6IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0b2RvIE5lZWRzIGRvY3MuXG4gICAgICovXG4gICAgdGFiSW5kZXg6IDAsXG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICogQHRvZG8gTmVlZHMgZG9jcy5cbiAgICAgKi9cbiAgICBfYWNjZXNzaWJsZUFjdGl2ZTogZmFsc2UsXG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICogQHRvZG8gTmVlZHMgZG9jcy5cbiAgICAgKi9cbiAgICBfYWNjZXNzaWJsZURpdjogbnVsbCxcblxuICAgIC8qKlxuICAgICAqIFNwZWNpZnkgdGhlIHR5cGUgb2YgZGl2IHRoZSBhY2Nlc3NpYmxlIGxheWVyIGlzLiBTY3JlZW4gcmVhZGVycyB0cmVhdCB0aGUgZWxlbWVudCBkaWZmZXJlbnRseVxuICAgICAqIGRlcGVuZGluZyBvbiB0aGlzIHR5cGUuIERlZmF1bHRzIHRvIGJ1dHRvbi5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICAgICAqIEBkZWZhdWx0ICdidXR0b24nXG4gICAgICovXG4gICAgYWNjZXNzaWJsZVR5cGU6ICdidXR0b24nLFxuXG4gICAgLyoqXG4gICAgICogU3BlY2lmeSB0aGUgcG9pbnRlci1ldmVudHMgdGhlIGFjY2Vzc2libGUgZGl2IHdpbGwgdXNlXG4gICAgICogRGVmYXVsdHMgdG8gYXV0by5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICAgICAqIEBkZWZhdWx0ICdhdXRvJ1xuICAgICAqL1xuICAgIGFjY2Vzc2libGVQb2ludGVyRXZlbnRzOiAnYXV0bycsXG5cbiAgICAvKipcbiAgICAgKiBTZXR0aW5nIHRvIGZhbHNlIHdpbGwgcHJldmVudCBhbnkgY2hpbGRyZW4gaW5zaWRlIHRoaXMgY29udGFpbmVyIHRvXG4gICAgICogYmUgYWNjZXNzaWJsZS4gRGVmYXVsdHMgdG8gdHJ1ZS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICovXG4gICAgYWNjZXNzaWJsZUNoaWxkcmVuOiB0cnVlLFxuXG4gICAgcmVuZGVySWQ6IC0xLFxufTtcbiIsImltcG9ydCB7IERpc3BsYXlPYmplY3QgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcbmltcG9ydCB7IGlzTW9iaWxlLCByZW1vdmVJdGVtcyB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCB7IGFjY2Vzc2libGVUYXJnZXQgfSBmcm9tICcuL2FjY2Vzc2libGVUYXJnZXQnO1xuXG5pbXBvcnQgdHlwZSB7IFJlY3RhbmdsZSB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IHR5cGUgeyBDb250YWluZXIgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcbmltcG9ydCB0eXBlIHsgUmVuZGVyZXIsIEFic3RyYWN0UmVuZGVyZXIgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB0eXBlIHsgSUFjY2Vzc2libGVIVE1MRWxlbWVudCB9IGZyb20gJy4vYWNjZXNzaWJsZVRhcmdldCc7XG5cbi8vIGFkZCBzb21lIGV4dHJhIHZhcmlhYmxlcyB0byB0aGUgY29udGFpbmVyLi5cbkRpc3BsYXlPYmplY3QubWl4aW4oYWNjZXNzaWJsZVRhcmdldCk7XG5cbmNvbnN0IEtFWV9DT0RFX1RBQiA9IDk7XG5cbmNvbnN0IERJVl9UT1VDSF9TSVpFID0gMTAwO1xuY29uc3QgRElWX1RPVUNIX1BPU19YID0gMDtcbmNvbnN0IERJVl9UT1VDSF9QT1NfWSA9IDA7XG5jb25zdCBESVZfVE9VQ0hfWklOREVYID0gMjtcblxuY29uc3QgRElWX0hPT0tfU0laRSA9IDE7XG5jb25zdCBESVZfSE9PS19QT1NfWCA9IC0xMDAwO1xuY29uc3QgRElWX0hPT0tfUE9TX1kgPSAtMTAwMDtcbmNvbnN0IERJVl9IT09LX1pJTkRFWCA9IDI7XG5cbi8qKlxuICogVGhlIEFjY2Vzc2liaWxpdHkgbWFuYWdlciByZWNyZWF0ZXMgdGhlIGFiaWxpdHkgdG8gdGFiIGFuZCBoYXZlIGNvbnRlbnQgcmVhZCBieSBzY3JlZW4gcmVhZGVycy5cbiAqIFRoaXMgaXMgdmVyeSBpbXBvcnRhbnQgYXMgaXQgY2FuIHBvc3NpYmx5IGhlbHAgcGVvcGxlIHdpdGggZGlzYWJpbGl0aWVzIGFjY2VzcyBQaXhpSlMgY29udGVudC5cbiAqXG4gKiBBIERpc3BsYXlPYmplY3QgY2FuIGJlIG1hZGUgYWNjZXNzaWJsZSBqdXN0IGxpa2UgaXQgY2FuIGJlIG1hZGUgaW50ZXJhY3RpdmUuIFRoaXMgbWFuYWdlciB3aWxsIG1hcCB0aGVcbiAqIGV2ZW50cyBhcyBpZiB0aGUgbW91c2Ugd2FzIGJlaW5nIHVzZWQsIG1pbmltaXppbmcgdGhlIGVmZm9ydCByZXF1aXJlZCB0byBpbXBsZW1lbnQuXG4gKlxuICogQW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcyBpcyBhdXRvbWF0aWNhbGx5IGNyZWF0ZWQgYnkgZGVmYXVsdCwgYW5kIGNhbiBiZSBmb3VuZCBhdCBgcmVuZGVyZXIucGx1Z2lucy5hY2Nlc3NpYmlsaXR5YFxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGNsYXNzIEFjY2Vzc2liaWxpdHlNYW5hZ2VyXG57XG4gICAgcHVibGljIGRlYnVnOiBib29sZWFuO1xuICAgIHB1YmxpYyByZW5kZXJlcjogQWJzdHJhY3RSZW5kZXJlcnxSZW5kZXJlcjtcblxuICAgIHByaXZhdGUgX2lzQWN0aXZlOiBib29sZWFuO1xuICAgIHByaXZhdGUgX2lzTW9iaWxlQWNjZXNzaWJpbGl0eTogYm9vbGVhbjtcbiAgICBwcml2YXRlIF9ob29rRGl2OiBIVE1MRWxlbWVudDtcbiAgICBwcml2YXRlIGRpdjogSFRNTEVsZW1lbnQ7XG4gICAgcHJpdmF0ZSBwb29sOiBJQWNjZXNzaWJsZUhUTUxFbGVtZW50W107XG4gICAgcHJpdmF0ZSByZW5kZXJJZDogbnVtYmVyO1xuICAgIHByaXZhdGUgY2hpbGRyZW46IERpc3BsYXlPYmplY3RbXTtcbiAgICBwcml2YXRlIGFuZHJvaWRVcGRhdGVDb3VudDogbnVtYmVyO1xuICAgIHByaXZhdGUgYW5kcm9pZFVwZGF0ZUZyZXF1ZW5jeTogbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLkNhbnZhc1JlbmRlcmVyfFBJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gQSByZWZlcmVuY2UgdG8gdGhlIGN1cnJlbnQgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihyZW5kZXJlcjogQWJzdHJhY3RSZW5kZXJlcnxSZW5kZXJlcilcbiAgICB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7P0hUTUxFbGVtZW50fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5faG9va0RpdiA9IG51bGw7XG5cbiAgICAgICAgaWYgKGlzTW9iaWxlLnRhYmxldCB8fCBpc01vYmlsZS5waG9uZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVUb3VjaEhvb2soKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGZpcnN0IHdlIGNyZWF0ZSBhIGRpdiB0aGF0IHdpbGwgc2l0IG92ZXIgdGhlIFBpeGlKUyBlbGVtZW50LiBUaGlzIGlzIHdoZXJlIHRoZSBkaXYgb3ZlcmxheXMgd2lsbCBnby5cbiAgICAgICAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgICAgICAgZGl2LnN0eWxlLndpZHRoID0gYCR7RElWX1RPVUNIX1NJWkV9cHhgO1xuICAgICAgICBkaXYuc3R5bGUuaGVpZ2h0ID0gYCR7RElWX1RPVUNIX1NJWkV9cHhgO1xuICAgICAgICBkaXYuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgICBkaXYuc3R5bGUudG9wID0gYCR7RElWX1RPVUNIX1BPU19YfXB4YDtcbiAgICAgICAgZGl2LnN0eWxlLmxlZnQgPSBgJHtESVZfVE9VQ0hfUE9TX1l9cHhgO1xuICAgICAgICBkaXYuc3R5bGUuekluZGV4ID0gRElWX1RPVUNIX1pJTkRFWC50b1N0cmluZygpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIGlzIHRoZSBkb20gZWxlbWVudCB0aGF0IHdpbGwgc2l0IG92ZXIgdGhlIFBpeGlKUyBlbGVtZW50LiBUaGlzIGlzIHdoZXJlIHRoZSBkaXYgb3ZlcmxheXMgd2lsbCBnby5cbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge0hUTUxFbGVtZW50fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kaXYgPSBkaXY7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgc2ltcGxlIHBvb2wgZm9yIHN0b3JpbmcgZGl2cy5cbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUgeyp9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBvb2wgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBpcyBhIHRpY2sgdXNlZCB0byBjaGVjayBpZiBhbiBvYmplY3QgaXMgbm8gbG9uZ2VyIGJlaW5nIHJlbmRlcmVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZW5kZXJJZCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHRpbmcgdGhpcyB0byB0cnVlIHdpbGwgdmlzdWFsbHkgc2hvdyB0aGUgZGl2cy5cbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRlYnVnID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByZW5kZXJlciB0aGlzIGFjY2Vzc2liaWxpdHkgbWFuYWdlciB3b3JrcyBmb3IuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQWJzdHJhY3RSZW5kZXJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFycmF5IG9mIGN1cnJlbnRseSBhY3RpdmUgYWNjZXNzaWJsZSBpdGVtcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7QXJyYXk8Kj59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNoaWxkcmVuID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHByZS1iaW5kIHRoZSBmdW5jdGlvbnNcbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge0Z1bmN0aW9ufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fb25LZXlEb3duID0gdGhpcy5fb25LZXlEb3duLmJpbmQodGhpcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHByZS1iaW5kIHRoZSBmdW5jdGlvbnNcbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge0Z1bmN0aW9ufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fb25Nb3VzZU1vdmUgPSB0aGlzLl9vbk1vdXNlTW92ZS5iaW5kKHRoaXMpO1xuXG4gICAgICAgIHRoaXMuX2lzQWN0aXZlID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5faXNNb2JpbGVBY2Nlc3NpYmlsaXR5ID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGNvdW50IHRvIHRocm90dGxlIGRpdiB1cGRhdGVzIG9uIGFuZHJvaWQgZGV2aWNlc1xuICAgICAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYW5kcm9pZFVwZGF0ZUNvdW50ID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogdGhlIGZyZXF1ZW5jeSB0byB1cGRhdGUgdGhlIGRpdiBlbGVtZW50cyAoKVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hbmRyb2lkVXBkYXRlRnJlcXVlbmN5ID0gNTAwOyAvLyAyZnBzXG5cbiAgICAgICAgLy8gbGV0IGxpc3RlbiBmb3IgdGFiLi4gb25jZSBwcmVzc2VkIHdlIGNhbiBmaXJlIHVwIGFuZCBzaG93IHRoZSBhY2Nlc3NpYmlsaXR5IGxheWVyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5fb25LZXlEb3duLCBmYWxzZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBmbGFnXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICBnZXQgaXNBY3RpdmUoKTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzQWN0aXZlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgZmxhZ1xuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgZ2V0IGlzTW9iaWxlQWNjZXNzaWJpbGl0eSgpOiBib29sZWFuXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNNb2JpbGVBY2Nlc3NpYmlsaXR5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgdGhlIHRvdWNoIGhvb2tzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBwcml2YXRlIGNyZWF0ZVRvdWNoSG9vaygpOiB2b2lkXG4gICAge1xuICAgICAgICBjb25zdCBob29rRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG5cbiAgICAgICAgaG9va0Rpdi5zdHlsZS53aWR0aCA9IGAke0RJVl9IT09LX1NJWkV9cHhgO1xuICAgICAgICBob29rRGl2LnN0eWxlLmhlaWdodCA9IGAke0RJVl9IT09LX1NJWkV9cHhgO1xuICAgICAgICBob29rRGl2LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICAgICAgaG9va0Rpdi5zdHlsZS50b3AgPSBgJHtESVZfSE9PS19QT1NfWH1weGA7XG4gICAgICAgIGhvb2tEaXYuc3R5bGUubGVmdCA9IGAke0RJVl9IT09LX1BPU19ZfXB4YDtcbiAgICAgICAgaG9va0Rpdi5zdHlsZS56SW5kZXggPSBESVZfSE9PS19aSU5ERVgudG9TdHJpbmcoKTtcbiAgICAgICAgaG9va0Rpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnI0ZGMDAwMCc7XG4gICAgICAgIGhvb2tEaXYudGl0bGUgPSAnc2VsZWN0IHRvIGVuYWJsZSBhY2Nlc3NhYmlsaXR5IGZvciB0aGlzIGNvbnRlbnQnO1xuXG4gICAgICAgIGhvb2tEaXYuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCAoKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9pc01vYmlsZUFjY2Vzc2liaWxpdHkgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5hY3RpdmF0ZSgpO1xuICAgICAgICAgICAgdGhpcy5kZXN0cm95VG91Y2hIb29rKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoaG9va0Rpdik7XG4gICAgICAgIHRoaXMuX2hvb2tEaXYgPSBob29rRGl2O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSB0b3VjaCBob29rcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgcHJpdmF0ZSBkZXN0cm95VG91Y2hIb29rKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5faG9va0RpdilcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGhpcy5faG9va0Rpdik7XG4gICAgICAgIHRoaXMuX2hvb2tEaXYgPSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFjdGl2YXRpbmcgd2lsbCBjYXVzZSB0aGUgQWNjZXNzaWJpbGl0eSBsYXllciB0byBiZSBzaG93bi5cbiAgICAgKiBUaGlzIGlzIGNhbGxlZCB3aGVuIGEgdXNlciBwcmVzc2VzIHRoZSB0YWIga2V5LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBwcml2YXRlIGFjdGl2YXRlKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9pc0FjdGl2ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5faXNBY3RpdmUgPSB0cnVlO1xuXG4gICAgICAgIHdpbmRvdy5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLl9vbk1vdXNlTW92ZSwgdHJ1ZSk7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5fb25LZXlEb3duLCBmYWxzZSk7XG5cbiAgICAgICAgLy8gVE9ETzogUmVtb3ZlIGNhc3Rpbmcgd2hlbiBDYW52YXNSZW5kZXJlciBpcyBjb252ZXJ0ZWRcbiAgICAgICAgKHRoaXMucmVuZGVyZXIgYXMgQWJzdHJhY3RSZW5kZXJlcikub24oJ3Bvc3RyZW5kZXInLCB0aGlzLnVwZGF0ZSwgdGhpcyk7XG5cbiAgICAgICAgaWYgKCh0aGlzLnJlbmRlcmVyIGFzIEFic3RyYWN0UmVuZGVyZXIpLnZpZXcucGFyZW50Tm9kZSlcbiAgICAgICAge1xuICAgICAgICAgICAgKHRoaXMucmVuZGVyZXIgYXMgQWJzdHJhY3RSZW5kZXJlcikudmlldy5wYXJlbnROb2RlLmFwcGVuZENoaWxkKHRoaXMuZGl2KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlYWN0aXZhdGluZyB3aWxsIGNhdXNlIHRoZSBBY2Nlc3NpYmlsaXR5IGxheWVyIHRvIGJlIGhpZGRlbi5cbiAgICAgKiBUaGlzIGlzIGNhbGxlZCB3aGVuIGEgdXNlciBtb3ZlcyB0aGUgbW91c2UuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHByaXZhdGUgZGVhY3RpdmF0ZSgpOiB2b2lkXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMuX2lzQWN0aXZlIHx8IHRoaXMuX2lzTW9iaWxlQWNjZXNzaWJpbGl0eSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5faXNBY3RpdmUgPSBmYWxzZTtcblxuICAgICAgICB3aW5kb3cuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5fb25Nb3VzZU1vdmUsIHRydWUpO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX29uS2V5RG93biwgZmFsc2UpO1xuXG4gICAgICAgIC8vIFRPRE86IFJlbW92ZSBjYXN0aW5nIHdoZW4gQ2FudmFzUmVuZGVyZXIgaXMgY29udmVydGVkXG4gICAgICAgICh0aGlzLnJlbmRlcmVyIGFzIEFic3RyYWN0UmVuZGVyZXIpLm9mZigncG9zdHJlbmRlcicsIHRoaXMudXBkYXRlKTtcblxuICAgICAgICBpZiAodGhpcy5kaXYucGFyZW50Tm9kZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5kaXYucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmRpdik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIHJlY3Vyc2l2ZSBmdW5jdGlvbiB3aWxsIHJ1biB0aHJvdWdoIHRoZSBzY2VuZSBncmFwaCBhbmQgYWRkIGFueSBuZXcgYWNjZXNzaWJsZSBvYmplY3RzIHRvIHRoZSBET00gbGF5ZXIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ9IGRpc3BsYXlPYmplY3QgLSBUaGUgRGlzcGxheU9iamVjdCB0byBjaGVjay5cbiAgICAgKi9cbiAgICBwcml2YXRlIHVwZGF0ZUFjY2Vzc2libGVPYmplY3RzKGRpc3BsYXlPYmplY3Q6IENvbnRhaW5lcik6IHZvaWRcbiAgICB7XG4gICAgICAgIGlmICghZGlzcGxheU9iamVjdC52aXNpYmxlIHx8ICFkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVDaGlsZHJlbilcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRpc3BsYXlPYmplY3QuYWNjZXNzaWJsZSAmJiBkaXNwbGF5T2JqZWN0LmludGVyYWN0aXZlKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIWRpc3BsYXlPYmplY3QuX2FjY2Vzc2libGVBY3RpdmUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRDaGlsZChkaXNwbGF5T2JqZWN0KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZGlzcGxheU9iamVjdC5yZW5kZXJJZCA9IHRoaXMucmVuZGVySWQ7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjaGlsZHJlbiA9IGRpc3BsYXlPYmplY3QuY2hpbGRyZW47XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVBY2Nlc3NpYmxlT2JqZWN0cyhjaGlsZHJlbltpXSBhcyBDb250YWluZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQmVmb3JlIGVhY2ggcmVuZGVyIHRoaXMgZnVuY3Rpb24gd2lsbCBlbnN1cmUgdGhhdCBhbGwgZGl2cyBhcmUgbWFwcGVkIGNvcnJlY3RseSB0byB0aGVpciBEaXNwbGF5T2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgcHJpdmF0ZSB1cGRhdGUoKTogdm9pZFxuICAgIHtcbiAgICAgICAgLyogT24gQW5kcm9pZCBkZWZhdWx0IHdlYiBicm93c2VyLCB0YWIgb3JkZXIgc2VlbXMgdG8gYmUgY2FsY3VsYXRlZCBieSBwb3NpdGlvbiByYXRoZXIgdGhhbiB0YWJJbmRleCxcbiAgICAgICAgKiAgbW92aW5nIGJ1dHRvbnMgY2FuIGNhdXNlIGZvY3VzIHRvIGZsaWNrZXIgYmV0d2VlbiB0d28gYnV0dG9ucyBtYWtpbmcgaXQgaGFyZC9pbXBvc3NpYmxlIHRvIG5hdmlnYXRlLFxuICAgICAgICAqICBzbyBJIGFtIGp1c3QgcnVubmluZyB1cGRhdGUgZXZlcnkgaGFsZiBhIHNlY29uZCwgc2VlbXMgdG8gZml4IGl0LlxuICAgICAgICAqL1xuICAgICAgICBjb25zdCBub3cgPSBwZXJmb3JtYW5jZS5ub3coKTtcblxuICAgICAgICBpZiAoaXNNb2JpbGUuYW5kcm9pZC5kZXZpY2UgJiYgbm93IDwgdGhpcy5hbmRyb2lkVXBkYXRlQ291bnQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYW5kcm9pZFVwZGF0ZUNvdW50ID0gbm93ICsgdGhpcy5hbmRyb2lkVXBkYXRlRnJlcXVlbmN5O1xuXG4gICAgICAgIGlmICghKHRoaXMucmVuZGVyZXIgYXMgUmVuZGVyZXIpLnJlbmRlcmluZ1RvU2NyZWVuKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyB1cGRhdGUgY2hpbGRyZW4uLi5cbiAgICAgICAgaWYgKHRoaXMucmVuZGVyZXIuX2xhc3RPYmplY3RSZW5kZXJlZClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVBY2Nlc3NpYmxlT2JqZWN0cyh0aGlzLnJlbmRlcmVyLl9sYXN0T2JqZWN0UmVuZGVyZWQgYXMgQ29udGFpbmVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRPRE86IFJlbW92ZSBjYXN0aW5nIHdoZW4gQ2FudmFzUmVuZGVyZXIgaXMgY29udmVydGVkXG4gICAgICAgIGNvbnN0IHJlY3QgPSAodGhpcy5yZW5kZXJlciBhcyBBYnN0cmFjdFJlbmRlcmVyKS52aWV3LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICAgIGNvbnN0IHJlc29sdXRpb24gPSB0aGlzLnJlbmRlcmVyLnJlc29sdXRpb247XG5cbiAgICAgICAgY29uc3Qgc3ggPSAocmVjdC53aWR0aCAvICh0aGlzLnJlbmRlcmVyIGFzIEFic3RyYWN0UmVuZGVyZXIpLndpZHRoKSAqIHJlc29sdXRpb247XG4gICAgICAgIGNvbnN0IHN5ID0gKHJlY3QuaGVpZ2h0IC8gKHRoaXMucmVuZGVyZXIgYXMgQWJzdHJhY3RSZW5kZXJlcikuaGVpZ2h0KSAqIHJlc29sdXRpb247XG5cbiAgICAgICAgbGV0IGRpdiA9IHRoaXMuZGl2O1xuXG4gICAgICAgIGRpdi5zdHlsZS5sZWZ0ID0gYCR7cmVjdC5sZWZ0fXB4YDtcbiAgICAgICAgZGl2LnN0eWxlLnRvcCA9IGAke3JlY3QudG9wfXB4YDtcbiAgICAgICAgZGl2LnN0eWxlLndpZHRoID0gYCR7KHRoaXMucmVuZGVyZXIgYXMgQWJzdHJhY3RSZW5kZXJlcikud2lkdGh9cHhgO1xuICAgICAgICBkaXYuc3R5bGUuaGVpZ2h0ID0gYCR7KHRoaXMucmVuZGVyZXIgYXMgQWJzdHJhY3RSZW5kZXJlcikuaGVpZ2h0fXB4YDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXTtcblxuICAgICAgICAgICAgaWYgKGNoaWxkLnJlbmRlcklkICE9PSB0aGlzLnJlbmRlcklkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNoaWxkLl9hY2Nlc3NpYmxlQWN0aXZlID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICByZW1vdmVJdGVtcyh0aGlzLmNoaWxkcmVuLCBpLCAxKTtcbiAgICAgICAgICAgICAgICB0aGlzLmRpdi5yZW1vdmVDaGlsZChjaGlsZC5fYWNjZXNzaWJsZURpdik7XG4gICAgICAgICAgICAgICAgdGhpcy5wb29sLnB1c2goY2hpbGQuX2FjY2Vzc2libGVEaXYpO1xuICAgICAgICAgICAgICAgIGNoaWxkLl9hY2Nlc3NpYmxlRGl2ID0gbnVsbDtcblxuICAgICAgICAgICAgICAgIGktLTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBtYXAgZGl2IHRvIGRpc3BsYXkuLlxuICAgICAgICAgICAgICAgIGRpdiA9IGNoaWxkLl9hY2Nlc3NpYmxlRGl2O1xuICAgICAgICAgICAgICAgIGxldCBoaXRBcmVhID0gY2hpbGQuaGl0QXJlYSBhcyBSZWN0YW5nbGU7XG4gICAgICAgICAgICAgICAgY29uc3Qgd3QgPSBjaGlsZC53b3JsZFRyYW5zZm9ybTtcblxuICAgICAgICAgICAgICAgIGlmIChjaGlsZC5oaXRBcmVhKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLmxlZnQgPSBgJHsod3QudHggKyAoaGl0QXJlYS54ICogd3QuYSkpICogc3h9cHhgO1xuICAgICAgICAgICAgICAgICAgICBkaXYuc3R5bGUudG9wID0gYCR7KHd0LnR5ICsgKGhpdEFyZWEueSAqIHd0LmQpKSAqIHN5fXB4YDtcblxuICAgICAgICAgICAgICAgICAgICBkaXYuc3R5bGUud2lkdGggPSBgJHtoaXRBcmVhLndpZHRoICogd3QuYSAqIHN4fXB4YDtcbiAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLmhlaWdodCA9IGAke2hpdEFyZWEuaGVpZ2h0ICogd3QuZCAqIHN5fXB4YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaGl0QXJlYSA9IGNoaWxkLmdldEJvdW5kcygpO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FwSGl0QXJlYShoaXRBcmVhKTtcblxuICAgICAgICAgICAgICAgICAgICBkaXYuc3R5bGUubGVmdCA9IGAke2hpdEFyZWEueCAqIHN4fXB4YDtcbiAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLnRvcCA9IGAke2hpdEFyZWEueSAqIHN5fXB4YDtcblxuICAgICAgICAgICAgICAgICAgICBkaXYuc3R5bGUud2lkdGggPSBgJHtoaXRBcmVhLndpZHRoICogc3h9cHhgO1xuICAgICAgICAgICAgICAgICAgICBkaXYuc3R5bGUuaGVpZ2h0ID0gYCR7aGl0QXJlYS5oZWlnaHQgKiBzeX1weGA7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gdXBkYXRlIGJ1dHRvbiB0aXRsZXMgYW5kIGhpbnRzIGlmIHRoZXkgZXhpc3QgYW5kIHRoZXkndmUgY2hhbmdlZFxuICAgICAgICAgICAgICAgICAgICBpZiAoZGl2LnRpdGxlICE9PSBjaGlsZC5hY2Nlc3NpYmxlVGl0bGUgJiYgY2hpbGQuYWNjZXNzaWJsZVRpdGxlICE9PSBudWxsKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXYudGl0bGUgPSBjaGlsZC5hY2Nlc3NpYmxlVGl0bGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpdi5nZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnKSAhPT0gY2hpbGQuYWNjZXNzaWJsZUhpbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICYmIGNoaWxkLmFjY2Vzc2libGVIaW50ICE9PSBudWxsKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXYuc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgY2hpbGQuYWNjZXNzaWJsZUhpbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gdGhlIHRpdGxlIG9yIGluZGV4IG1heSBoYXZlIGNoYW5nZWQsIGlmIHNvIGxldHMgdXBkYXRlIGl0IVxuICAgICAgICAgICAgICAgIGlmIChjaGlsZC5hY2Nlc3NpYmxlVGl0bGUgIT09IGRpdi50aXRsZSB8fCBjaGlsZC50YWJJbmRleCAhPT0gZGl2LnRhYkluZGV4KVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZGl2LnRpdGxlID0gY2hpbGQuYWNjZXNzaWJsZVRpdGxlO1xuICAgICAgICAgICAgICAgICAgICBkaXYudGFiSW5kZXggPSBjaGlsZC50YWJJbmRleDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZGVidWcpIHRoaXMudXBkYXRlRGVidWdIVE1MKGRpdik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gaW5jcmVtZW50IHRoZSByZW5kZXIgaWQuLlxuICAgICAgICB0aGlzLnJlbmRlcklkKys7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogcHJpdmF0ZSBmdW5jdGlvbiB0aGF0IHdpbGwgdmlzdWFsbHkgYWRkIHRoZSBpbmZvcm1hdGlvbiB0byB0aGVcbiAgICAgKiBhY2Nlc3NhYmlsaXR5IGRpdlxuICAgICAqXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZGl2XG4gICAgICovXG4gICAgcHVibGljIHVwZGF0ZURlYnVnSFRNTChkaXY6IElBY2Nlc3NpYmxlSFRNTEVsZW1lbnQpOiB2b2lkXG4gICAge1xuICAgICAgICBkaXYuaW5uZXJIVE1MID0gYHR5cGU6ICR7ZGl2LnR5cGV9PC9icj4gdGl0bGUgOiAke2Rpdi50aXRsZX08L2JyPiB0YWJJbmRleDogJHtkaXYudGFiSW5kZXh9YDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGp1c3QgdGhlIGhpdCBhcmVhIGJhc2VkIG9uIHRoZSBib3VuZHMgb2YgYSBkaXNwbGF5IG9iamVjdFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gaGl0QXJlYSAtIEJvdW5kcyBvZiB0aGUgY2hpbGRcbiAgICAgKi9cbiAgICBwdWJsaWMgY2FwSGl0QXJlYShoaXRBcmVhOiBSZWN0YW5nbGUpOiB2b2lkXG4gICAge1xuICAgICAgICBpZiAoaGl0QXJlYS54IDwgMClcbiAgICAgICAge1xuICAgICAgICAgICAgaGl0QXJlYS53aWR0aCArPSBoaXRBcmVhLng7XG4gICAgICAgICAgICBoaXRBcmVhLnggPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhpdEFyZWEueSA8IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIGhpdEFyZWEuaGVpZ2h0ICs9IGhpdEFyZWEueTtcbiAgICAgICAgICAgIGhpdEFyZWEueSA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUT0RPOiBSZW1vdmUgY2FzdGluZyB3aGVuIENhbnZhc1JlbmRlcmVyIGlzIGNvbnZlcnRlZFxuICAgICAgICBpZiAoaGl0QXJlYS54ICsgaGl0QXJlYS53aWR0aCA+ICh0aGlzLnJlbmRlcmVyIGFzIEFic3RyYWN0UmVuZGVyZXIpLndpZHRoKVxuICAgICAgICB7XG4gICAgICAgICAgICBoaXRBcmVhLndpZHRoID0gKHRoaXMucmVuZGVyZXIgYXMgQWJzdHJhY3RSZW5kZXJlcikud2lkdGggLSBoaXRBcmVhLng7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGl0QXJlYS55ICsgaGl0QXJlYS5oZWlnaHQgPiAodGhpcy5yZW5kZXJlciBhcyBBYnN0cmFjdFJlbmRlcmVyKS5oZWlnaHQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGhpdEFyZWEuaGVpZ2h0ID0gKHRoaXMucmVuZGVyZXIgYXMgQWJzdHJhY3RSZW5kZXJlcikuaGVpZ2h0IC0gaGl0QXJlYS55O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkcyBhIERpc3BsYXlPYmplY3QgdG8gdGhlIGFjY2Vzc2liaWxpdHkgbWFuYWdlclxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gZGlzcGxheU9iamVjdCAtIFRoZSBjaGlsZCB0byBtYWtlIGFjY2Vzc2libGUuXG4gICAgICovXG4gICAgcHJpdmF0ZSBhZGRDaGlsZDxUIGV4dGVuZHMgRGlzcGxheU9iamVjdD4oZGlzcGxheU9iamVjdDogVCk6IHZvaWRcbiAgICB7XG4gICAgICAgIC8vICAgIHRoaXMuYWN0aXZhdGUoKTtcblxuICAgICAgICBsZXQgZGl2ID0gdGhpcy5wb29sLnBvcCgpO1xuXG4gICAgICAgIGlmICghZGl2KVxuICAgICAgICB7XG4gICAgICAgICAgICBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcblxuICAgICAgICAgICAgZGl2LnN0eWxlLndpZHRoID0gYCR7RElWX1RPVUNIX1NJWkV9cHhgO1xuICAgICAgICAgICAgZGl2LnN0eWxlLmhlaWdodCA9IGAke0RJVl9UT1VDSF9TSVpFfXB4YDtcbiAgICAgICAgICAgIGRpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSB0aGlzLmRlYnVnID8gJ3JnYmEoMjU1LDI1NSwyNTUsMC41KScgOiAndHJhbnNwYXJlbnQnO1xuICAgICAgICAgICAgZGl2LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICAgICAgICAgIGRpdi5zdHlsZS56SW5kZXggPSBESVZfVE9VQ0hfWklOREVYLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICBkaXYuc3R5bGUuYm9yZGVyU3R5bGUgPSAnbm9uZSc7XG5cbiAgICAgICAgICAgIC8vIEFSSUEgYXR0cmlidXRlcyBlbnN1cmUgdGhhdCBidXR0b24gdGl0bGUgYW5kIGhpbnQgdXBkYXRlcyBhcmUgYW5ub3VuY2VkIHByb3Blcmx5XG4gICAgICAgICAgICBpZiAobmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoJ2Nocm9tZScpID4gLTEpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gQ2hyb21lIGRvZXNuJ3QgbmVlZCBhcmlhLWxpdmUgdG8gd29yayBhcyBpbnRlbmRlZDsgaW4gZmFjdCBpdCBqdXN0IGdldHMgbW9yZSBjb25mdXNlZC5cbiAgICAgICAgICAgICAgICBkaXYuc2V0QXR0cmlidXRlKCdhcmlhLWxpdmUnLCAnb2ZmJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGl2LnNldEF0dHJpYnV0ZSgnYXJpYS1saXZlJywgJ3BvbGl0ZScpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvcnY6LipHZWNrb1xcLy8pKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIEZpcmVGb3ggbmVlZHMgdGhpcyB0byBhbm5vdW5jZSBvbmx5IHRoZSBuZXcgYnV0dG9uIG5hbWVcbiAgICAgICAgICAgICAgICBkaXYuc2V0QXR0cmlidXRlKCdhcmlhLXJlbGV2YW50JywgJ2FkZGl0aW9ucycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIHJlcXVpcmVkIGJ5IElFLCBvdGhlciBicm93c2VycyBkb24ndCBtdWNoIGNhcmVcbiAgICAgICAgICAgICAgICBkaXYuc2V0QXR0cmlidXRlKCdhcmlhLXJlbGV2YW50JywgJ3RleHQnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZGl2LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5fb25DbGljay5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIGRpdi5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsIHRoaXMuX29uRm9jdXMuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICBkaXYuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXNvdXQnLCB0aGlzLl9vbkZvY3VzT3V0LmJpbmQodGhpcykpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2V0IHBvaW50ZXIgZXZlbnRzXG4gICAgICAgIGRpdi5zdHlsZS5wb2ludGVyRXZlbnRzID0gZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlUG9pbnRlckV2ZW50cztcbiAgICAgICAgLy8gc2V0IHRoZSB0eXBlLCB0aGlzIGRlZmF1bHRzIHRvIGJ1dHRvbiFcbiAgICAgICAgZGl2LnR5cGUgPSBkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVUeXBlO1xuXG4gICAgICAgIGlmIChkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVUaXRsZSAmJiBkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVUaXRsZSAhPT0gbnVsbClcbiAgICAgICAge1xuICAgICAgICAgICAgZGl2LnRpdGxlID0gZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlVGl0bGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIWRpc3BsYXlPYmplY3QuYWNjZXNzaWJsZUhpbnRcbiAgICAgICAgICAgICAgICAgfHwgZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlSGludCA9PT0gbnVsbClcbiAgICAgICAge1xuICAgICAgICAgICAgZGl2LnRpdGxlID0gYGRpc3BsYXlPYmplY3QgJHtkaXNwbGF5T2JqZWN0LnRhYkluZGV4fWA7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlSGludFxuICAgICAgICAgICAgJiYgZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlSGludCAhPT0gbnVsbClcbiAgICAgICAge1xuICAgICAgICAgICAgZGl2LnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsIGRpc3BsYXlPYmplY3QuYWNjZXNzaWJsZUhpbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuZGVidWcpIHRoaXMudXBkYXRlRGVidWdIVE1MKGRpdik7XG5cbiAgICAgICAgZGlzcGxheU9iamVjdC5fYWNjZXNzaWJsZUFjdGl2ZSA9IHRydWU7XG4gICAgICAgIGRpc3BsYXlPYmplY3QuX2FjY2Vzc2libGVEaXYgPSBkaXY7XG4gICAgICAgIGRpdi5kaXNwbGF5T2JqZWN0ID0gZGlzcGxheU9iamVjdDtcblxuICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2goZGlzcGxheU9iamVjdCk7XG4gICAgICAgIHRoaXMuZGl2LmFwcGVuZENoaWxkKGRpc3BsYXlPYmplY3QuX2FjY2Vzc2libGVEaXYpO1xuICAgICAgICBkaXNwbGF5T2JqZWN0Ll9hY2Nlc3NpYmxlRGl2LnRhYkluZGV4ID0gZGlzcGxheU9iamVjdC50YWJJbmRleDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNYXBzIHRoZSBkaXYgYnV0dG9uIHByZXNzIHRvIHBpeGkncyBJbnRlcmFjdGlvbk1hbmFnZXIgKGNsaWNrKVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge01vdXNlRXZlbnR9IGUgLSBUaGUgY2xpY2sgZXZlbnQuXG4gICAgICovXG4gICAgcHJpdmF0ZSBfb25DbGljayhlOiBNb3VzZUV2ZW50KTogdm9pZFxuICAgIHtcbiAgICAgICAgLy8gVE9ETzogUmVtb3ZlIGNhc3Rpbmcgd2hlbiBDYW52YXNSZW5kZXJlciBpcyBjb252ZXJ0ZWRcbiAgICAgICAgY29uc3QgaW50ZXJhY3Rpb25NYW5hZ2VyID0gKHRoaXMucmVuZGVyZXIgYXMgQWJzdHJhY3RSZW5kZXJlcikucGx1Z2lucy5pbnRlcmFjdGlvbjtcblxuICAgICAgICBpbnRlcmFjdGlvbk1hbmFnZXIuZGlzcGF0Y2hFdmVudChcbiAgICAgICAgICAgIChlLnRhcmdldCBhcyBJQWNjZXNzaWJsZUhUTUxFbGVtZW50KS5kaXNwbGF5T2JqZWN0LCAnY2xpY2snLCBpbnRlcmFjdGlvbk1hbmFnZXIuZXZlbnREYXRhXG4gICAgICAgICk7XG4gICAgICAgIGludGVyYWN0aW9uTWFuYWdlci5kaXNwYXRjaEV2ZW50KFxuICAgICAgICAgICAgKGUudGFyZ2V0IGFzIElBY2Nlc3NpYmxlSFRNTEVsZW1lbnQpLmRpc3BsYXlPYmplY3QsICdwb2ludGVydGFwJywgaW50ZXJhY3Rpb25NYW5hZ2VyLmV2ZW50RGF0YVxuICAgICAgICApO1xuICAgICAgICBpbnRlcmFjdGlvbk1hbmFnZXIuZGlzcGF0Y2hFdmVudChcbiAgICAgICAgICAgIChlLnRhcmdldCBhcyBJQWNjZXNzaWJsZUhUTUxFbGVtZW50KS5kaXNwbGF5T2JqZWN0LCAndGFwJywgaW50ZXJhY3Rpb25NYW5hZ2VyLmV2ZW50RGF0YVxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1hcHMgdGhlIGRpdiBmb2N1cyBldmVudHMgdG8gcGl4aSdzIEludGVyYWN0aW9uTWFuYWdlciAobW91c2VvdmVyKVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0ZvY3VzRXZlbnR9IGUgLSBUaGUgZm9jdXMgZXZlbnQuXG4gICAgICovXG4gICAgcHJpdmF0ZSBfb25Gb2N1cyhlOiBGb2N1c0V2ZW50KTogdm9pZFxuICAgIHtcbiAgICAgICAgaWYgKCEoZS50YXJnZXQgYXMgRWxlbWVudCkuZ2V0QXR0cmlidXRlKCdhcmlhLWxpdmUnKSlcbiAgICAgICAge1xuICAgICAgICAgICAgKGUudGFyZ2V0IGFzIEVsZW1lbnQpLnNldEF0dHJpYnV0ZSgnYXJpYS1saXZlJywgJ2Fzc2VydGl2ZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVE9ETzogUmVtb3ZlIGNhc3Rpbmcgd2hlbiBDYW52YXNSZW5kZXJlciBpcyBjb252ZXJ0ZWRcbiAgICAgICAgY29uc3QgaW50ZXJhY3Rpb25NYW5hZ2VyID0gKHRoaXMucmVuZGVyZXIgYXMgQWJzdHJhY3RSZW5kZXJlcikucGx1Z2lucy5pbnRlcmFjdGlvbjtcblxuICAgICAgICBpbnRlcmFjdGlvbk1hbmFnZXIuZGlzcGF0Y2hFdmVudChcbiAgICAgICAgICAgIChlLnRhcmdldCBhcyBJQWNjZXNzaWJsZUhUTUxFbGVtZW50KS5kaXNwbGF5T2JqZWN0LCAnbW91c2VvdmVyJywgaW50ZXJhY3Rpb25NYW5hZ2VyLmV2ZW50RGF0YVxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1hcHMgdGhlIGRpdiBmb2N1cyBldmVudHMgdG8gcGl4aSdzIEludGVyYWN0aW9uTWFuYWdlciAobW91c2VvdXQpXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Rm9jdXNFdmVudH0gZSAtIFRoZSBmb2N1c291dCBldmVudC5cbiAgICAgKi9cbiAgICBwcml2YXRlIF9vbkZvY3VzT3V0KGU6IEZvY3VzRXZlbnQpOiB2b2lkXG4gICAge1xuICAgICAgICBpZiAoIShlLnRhcmdldCBhcyBFbGVtZW50KS5nZXRBdHRyaWJ1dGUoJ2FyaWEtbGl2ZScpKVxuICAgICAgICB7XG4gICAgICAgICAgICAoZS50YXJnZXQgYXMgRWxlbWVudCkuc2V0QXR0cmlidXRlKCdhcmlhLWxpdmUnLCAncG9saXRlJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUT0RPOiBSZW1vdmUgY2FzdGluZyB3aGVuIENhbnZhc1JlbmRlcmVyIGlzIGNvbnZlcnRlZFxuICAgICAgICBjb25zdCBpbnRlcmFjdGlvbk1hbmFnZXIgPSAodGhpcy5yZW5kZXJlciBhcyBBYnN0cmFjdFJlbmRlcmVyKS5wbHVnaW5zLmludGVyYWN0aW9uO1xuXG4gICAgICAgIGludGVyYWN0aW9uTWFuYWdlci5kaXNwYXRjaEV2ZW50KChlLnRhcmdldCBhcyBhbnkpLmRpc3BsYXlPYmplY3QsICdtb3VzZW91dCcsIGludGVyYWN0aW9uTWFuYWdlci5ldmVudERhdGEpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIElzIGNhbGxlZCB3aGVuIGEga2V5IGlzIHByZXNzZWRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtLZXlib2FyZEV2ZW50fSBlIC0gVGhlIGtleWRvd24gZXZlbnQuXG4gICAgICovXG4gICAgcHJpdmF0ZSBfb25LZXlEb3duKGU6IEtleWJvYXJkRXZlbnQpOiB2b2lkXG4gICAge1xuICAgICAgICBpZiAoZS5rZXlDb2RlICE9PSBLRVlfQ09ERV9UQUIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYWN0aXZhdGUoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJcyBjYWxsZWQgd2hlbiB0aGUgbW91c2UgbW92ZXMgYWNyb3NzIHRoZSByZW5kZXJlciBlbGVtZW50XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7TW91c2VFdmVudH0gZSAtIFRoZSBtb3VzZSBldmVudC5cbiAgICAgKi9cbiAgICBwcml2YXRlIF9vbk1vdXNlTW92ZShlOiBNb3VzZUV2ZW50KTogdm9pZFxuICAgIHtcbiAgICAgICAgaWYgKGUubW92ZW1lbnRYID09PSAwICYmIGUubW92ZW1lbnRZID09PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmRlYWN0aXZhdGUoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgYWNjZXNzaWJpbGl0eSBtYW5hZ2VyXG4gICAgICpcbiAgICAgKi9cbiAgICBwdWJsaWMgZGVzdHJveSgpOiB2b2lkXG4gICAge1xuICAgICAgICB0aGlzLmRlc3Ryb3lUb3VjaEhvb2soKTtcbiAgICAgICAgdGhpcy5kaXYgPSBudWxsO1xuXG4gICAgICAgIHdpbmRvdy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLl9vbk1vdXNlTW92ZSwgdHJ1ZSk7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5fb25LZXlEb3duKTtcblxuICAgICAgICB0aGlzLnBvb2wgPSBudWxsO1xuICAgICAgICB0aGlzLmNoaWxkcmVuID0gbnVsbDtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBSZXByZXNlbnRzIHRoZSB1cGRhdGUgcHJpb3JpdGllcyB1c2VkIGJ5IGludGVybmFsIFBJWEkgY2xhc3NlcyB3aGVuIHJlZ2lzdGVyZWQgd2l0aFxuICogdGhlIHtAbGluayBQSVhJLlRpY2tlcn0gb2JqZWN0LiBIaWdoZXIgcHJpb3JpdHkgaXRlbXMgYXJlIHVwZGF0ZWQgZmlyc3QgYW5kIGxvd2VyXG4gKiBwcmlvcml0eSBpdGVtcywgc3VjaCBhcyByZW5kZXIsIHNob3VsZCBnbyBsYXRlci5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBuYW1lIFVQREFURV9QUklPUklUWVxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gSU5URVJBQ1RJT049NTAgSGlnaGVzdCBwcmlvcml0eSwgdXNlZCBmb3Ige0BsaW5rIFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IEhJR0g9MjUgSGlnaCBwcmlvcml0eSB1cGRhdGluZywge0BsaW5rIFBJWEkuVmlkZW9CYXNlVGV4dHVyZX0gYW5kIHtAbGluayBQSVhJLkFuaW1hdGVkU3ByaXRlfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IE5PUk1BTD0wIERlZmF1bHQgcHJpb3JpdHkgZm9yIHRpY2tlciBldmVudHMsIHNlZSB7QGxpbmsgUElYSS5UaWNrZXIjYWRkfS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMT1c9LTI1IExvdyBwcmlvcml0eSB1c2VkIGZvciB7QGxpbmsgUElYSS5BcHBsaWNhdGlvbn0gcmVuZGVyaW5nLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFVUSUxJVFk9LTUwIExvd2VzdCBwcmlvcml0eSB1c2VkIGZvciB7QGxpbmsgUElYSS5CYXNlUHJlcGFyZX0gdXRpbGl0eS5cbiAqL1xuZXhwb3J0IGVudW0gVVBEQVRFX1BSSU9SSVRZIHtcbiAgICBJTlRFUkFDVElPTiA9IDUwLFxuICAgIEhJR0ggPSAyNSxcbiAgICBOT1JNQUwgPSAwLFxuICAgIExPVyA9IC0yNSxcbiAgICBVVElMSVRZID0gLTUwLFxufVxuIiwiaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5cbi8qKlxuICogVGFyZ2V0IGZyYW1lcyBwZXIgbWlsbGlzZWNvbmQuXG4gKlxuICogQHN0YXRpY1xuICogQG5hbWUgVEFSR0VUX0ZQTVNcbiAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQGRlZmF1bHQgMC4wNlxuICovXG5zZXR0aW5ncy5UQVJHRVRfRlBNUyA9IDAuMDY7XG5cbmV4cG9ydCB7IHNldHRpbmdzIH07XG4iLCJpbXBvcnQgeyBUaWNrZXJDYWxsYmFjayB9IGZyb20gJy4vVGlja2VyJztcblxuLyoqXG4gKiBJbnRlcm5hbCBjbGFzcyBmb3IgaGFuZGxpbmcgdGhlIHByaW9yaXR5IHNvcnRpbmcgb2YgdGlja2VyIGhhbmRsZXJzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBjbGFzcyBUaWNrZXJMaXN0ZW5lcjxUID0gYW55Plxue1xuICAgIHB1YmxpYyBwcmlvcml0eTogbnVtYmVyO1xuICAgIHB1YmxpYyBuZXh0OiBUaWNrZXJMaXN0ZW5lcjtcbiAgICBwdWJsaWMgcHJldmlvdXM6IFRpY2tlckxpc3RlbmVyO1xuXG4gICAgcHJpdmF0ZSBmbjogVGlja2VyQ2FsbGJhY2s8VD47XG4gICAgcHJpdmF0ZSBjb250ZXh0OiBUO1xuICAgIHByaXZhdGUgb25jZTogYm9vbGVhbjtcbiAgICBwcml2YXRlIF9kZXN0cm95ZWQ6IGJvb2xlYW47XG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RvclxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gLSBUaGUgbGlzdGVuZXIgZnVuY3Rpb24gdG8gYmUgYWRkZWQgZm9yIG9uZSB1cGRhdGVcbiAgICAgKiBAcGFyYW0geyp9IFtjb250ZXh0PW51bGxdIC0gVGhlIGxpc3RlbmVyIGNvbnRleHRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3ByaW9yaXR5PTBdIC0gVGhlIHByaW9yaXR5IGZvciBlbWl0dGluZ1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29uY2U9ZmFsc2VdIC0gSWYgdGhlIGhhbmRsZXIgc2hvdWxkIGZpcmUgb25jZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGZuOiBUaWNrZXJDYWxsYmFjazxUPiwgY29udGV4dDogVCA9IG51bGwsIHByaW9yaXR5ID0gMCwgb25jZSA9IGZhbHNlKVxuICAgIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoYW5kbGVyIGZ1bmN0aW9uIHRvIGV4ZWN1dGUuXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mbiA9IGZuO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY2FsbGluZyB0byBleGVjdXRlLlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHsqfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGN1cnJlbnQgcHJpb3JpdHkuXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucHJpb3JpdHkgPSBwcmlvcml0eTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdGhpcyBzaG91bGQgb25seSBleGVjdXRlIG9uY2UuXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uY2UgPSBvbmNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbmV4dCBpdGVtIGluIGNoYWluLlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtUaWNrZXJMaXN0ZW5lcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubmV4dCA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBwcmV2aW91cyBpdGVtIGluIGNoYWluLlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtUaWNrZXJMaXN0ZW5lcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucHJldmlvdXMgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBgdHJ1ZWAgaWYgdGhpcyBsaXN0ZW5lciBoYXMgYmVlbiBkZXN0cm95ZWQgYWxyZWFkeS5cbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2Rlc3Ryb3llZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNpbXBsZSBjb21wYXJlIGZ1bmN0aW9uIHRvIGZpZ3VyZSBvdXQgaWYgYSBmdW5jdGlvbiBhbmQgY29udGV4dCBtYXRjaC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIC0gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uIHRvIGJlIGFkZGVkIGZvciBvbmUgdXBkYXRlXG4gICAgICogQHBhcmFtIHthbnl9IFtjb250ZXh0XSAtIFRoZSBsaXN0ZW5lciBjb250ZXh0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gYHRydWVgIGlmIHRoZSBsaXN0ZW5lciBtYXRjaCB0aGUgYXJndW1lbnRzXG4gICAgICovXG4gICAgbWF0Y2goZm46IFRpY2tlckNhbGxiYWNrPFQ+LCBjb250ZXh0OiBhbnkgPSBudWxsKTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZm4gPT09IGZuICYmIHRoaXMuY29udGV4dCA9PT0gY29udGV4dDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbWl0IGJ5IGNhbGxpbmcgdGhlIGN1cnJlbnQgZnVuY3Rpb24uXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGVsdGFUaW1lIC0gdGltZSBzaW5jZSB0aGUgbGFzdCBlbWl0LlxuICAgICAqIEByZXR1cm4ge1RpY2tlckxpc3RlbmVyfSBOZXh0IHRpY2tlclxuICAgICAqL1xuICAgIGVtaXQoZGVsdGFUaW1lOiBudW1iZXIpOiBUaWNrZXJMaXN0ZW5lclxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuZm4pXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbnRleHQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5mbi5jYWxsKHRoaXMuY29udGV4dCwgZGVsdGFUaW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAodGhpcyBhcyBUaWNrZXJMaXN0ZW5lcjxhbnk+KS5mbihkZWx0YVRpbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcmVkaXJlY3QgPSB0aGlzLm5leHQ7XG5cbiAgICAgICAgaWYgKHRoaXMub25jZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5kZXN0cm95KHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU29mdC1kZXN0cm95aW5nIHNob3VsZCByZW1vdmVcbiAgICAgICAgLy8gdGhlIG5leHQgcmVmZXJlbmNlXG4gICAgICAgIGlmICh0aGlzLl9kZXN0cm95ZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMubmV4dCA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVkaXJlY3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29ubmVjdCB0byB0aGUgbGlzdC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7VGlja2VyTGlzdGVuZXJ9IHByZXZpb3VzIC0gSW5wdXQgbm9kZSwgcHJldmlvdXMgbGlzdGVuZXJcbiAgICAgKi9cbiAgICBjb25uZWN0KHByZXZpb3VzOiBUaWNrZXJMaXN0ZW5lcik6IHZvaWRcbiAgICB7XG4gICAgICAgIHRoaXMucHJldmlvdXMgPSBwcmV2aW91cztcbiAgICAgICAgaWYgKHByZXZpb3VzLm5leHQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHByZXZpb3VzLm5leHQucHJldmlvdXMgPSB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubmV4dCA9IHByZXZpb3VzLm5leHQ7XG4gICAgICAgIHByZXZpb3VzLm5leHQgPSB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3kgYW5kIGRvbid0IHVzZSBhZnRlciB0aGlzLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaGFyZCA9IGZhbHNlXSBgdHJ1ZWAgdG8gcmVtb3ZlIHRoZSBgbmV4dGAgcmVmZXJlbmNlLCB0aGlzXG4gICAgICogICAgICAgIGlzIGNvbnNpZGVyZWQgYSBoYXJkIGRlc3Ryb3kuIFNvZnQgZGVzdHJveSBtYWludGFpbnMgdGhlIG5leHQgcmVmZXJlbmNlLlxuICAgICAqIEByZXR1cm4ge1RpY2tlckxpc3RlbmVyfSBUaGUgbGlzdGVuZXIgdG8gcmVkaXJlY3Qgd2hpbGUgZW1pdHRpbmcgb3IgcmVtb3ZpbmcuXG4gICAgICovXG4gICAgZGVzdHJveShoYXJkID0gZmFsc2UpOiBUaWNrZXJMaXN0ZW5lclxuICAgIHtcbiAgICAgICAgdGhpcy5fZGVzdHJveWVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5mbiA9IG51bGw7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IG51bGw7XG5cbiAgICAgICAgLy8gRGlzY29ubmVjdCwgaG9vayB1cCBuZXh0IGFuZCBwcmV2aW91c1xuICAgICAgICBpZiAodGhpcy5wcmV2aW91cylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5wcmV2aW91cy5uZXh0ID0gdGhpcy5uZXh0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMubmV4dClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5uZXh0LnByZXZpb3VzID0gdGhpcy5wcmV2aW91cztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJlZGlyZWN0IHRvIHRoZSBuZXh0IGl0ZW1cbiAgICAgICAgY29uc3QgcmVkaXJlY3QgPSB0aGlzLm5leHQ7XG5cbiAgICAgICAgLy8gUmVtb3ZlIHJlZmVyZW5jZXNcbiAgICAgICAgdGhpcy5uZXh0ID0gaGFyZCA/IG51bGwgOiByZWRpcmVjdDtcbiAgICAgICAgdGhpcy5wcmV2aW91cyA9IG51bGw7XG5cbiAgICAgICAgcmV0dXJuIHJlZGlyZWN0O1xuICAgIH1cbn1cbiIsImltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnLi9zZXR0aW5ncyc7XG5pbXBvcnQgeyBVUERBVEVfUFJJT1JJVFkgfSBmcm9tICcuL2NvbnN0JztcbmltcG9ydCB7IFRpY2tlckxpc3RlbmVyIH0gZnJvbSAnLi9UaWNrZXJMaXN0ZW5lcic7XG5cbmV4cG9ydCB0eXBlIFRpY2tlckNhbGxiYWNrPFQ+ID0gKHRoaXM6IFQsIGR0OiBudW1iZXIpID0+IGFueTtcblxuLyoqXG4gKiBBIFRpY2tlciBjbGFzcyB0aGF0IHJ1bnMgYW4gdXBkYXRlIGxvb3AgdGhhdCBvdGhlciBvYmplY3RzIGxpc3RlbiB0by5cbiAqXG4gKiBUaGlzIGNsYXNzIGlzIGNvbXBvc2VkIGFyb3VuZCBsaXN0ZW5lcnMgbWVhbnQgZm9yIGV4ZWN1dGlvbiBvbiB0aGUgbmV4dCByZXF1ZXN0ZWQgYW5pbWF0aW9uIGZyYW1lLlxuICogQW5pbWF0aW9uIGZyYW1lcyBhcmUgcmVxdWVzdGVkIG9ubHkgd2hlbiBuZWNlc3NhcnksIGUuZy4gV2hlbiB0aGUgdGlja2VyIGlzIHN0YXJ0ZWQgYW5kIHRoZSBlbWl0dGVyIGhhcyBsaXN0ZW5lcnMuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgY2xhc3MgVGlja2VyXG57XG4gICAgc3RhdGljIF9zaGFyZWQ6IFRpY2tlcjtcbiAgICBzdGF0aWMgX3N5c3RlbTogVGlja2VyO1xuXG4gICAgcHVibGljIGF1dG9TdGFydDogYm9vbGVhbjtcbiAgICBwdWJsaWMgZGVsdGFUaW1lOiBudW1iZXI7XG4gICAgcHVibGljIGRlbHRhTVM6IG51bWJlcjtcbiAgICBwdWJsaWMgZWxhcHNlZE1TOiBudW1iZXI7XG4gICAgcHVibGljIGxhc3RUaW1lOiBudW1iZXI7XG4gICAgcHVibGljIHNwZWVkOiBudW1iZXI7XG4gICAgcHVibGljIHN0YXJ0ZWQ6IGJvb2xlYW47XG5cbiAgICBwcml2YXRlIF9oZWFkOiBUaWNrZXJMaXN0ZW5lcjtcbiAgICBwcml2YXRlIF9yZXF1ZXN0SWQ6IG51bWJlcjtcbiAgICBwcml2YXRlIF9tYXhFbGFwc2VkTVM6IG51bWJlcjtcbiAgICBwcml2YXRlIF9taW5FbGFwc2VkTVM6IG51bWJlcjtcbiAgICBwcml2YXRlIF9wcm90ZWN0ZWQ6IGJvb2xlYW47XG4gICAgcHJpdmF0ZSBfbGFzdEZyYW1lOiBudW1iZXI7XG4gICAgcHJpdmF0ZSBfdGljazogKHRpbWU6IG51bWJlcikgPT4gYW55O1xuXG4gICAgY29uc3RydWN0b3IoKVxuICAgIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBmaXJzdCBsaXN0ZW5lci4gQWxsIG5ldyBsaXN0ZW5lcnMgYWRkZWQgYXJlIGNoYWluZWQgb24gdGhpcy5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge1RpY2tlckxpc3RlbmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5faGVhZCA9IG5ldyBUaWNrZXJMaXN0ZW5lcihudWxsLCBudWxsLCBJbmZpbml0eSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVybmFsIGN1cnJlbnQgZnJhbWUgcmVxdWVzdCBJRFxuICAgICAgICAgKiBAdHlwZSB7P251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3JlcXVlc3RJZCA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVybmFsIHZhbHVlIG1hbmFnZWQgYnkgbWluRlBTIHByb3BlcnR5IHNldHRlciBhbmQgZ2V0dGVyLlxuICAgICAgICAgKiBUaGlzIGlzIHRoZSBtYXhpbXVtIGFsbG93ZWQgbWlsbGlzZWNvbmRzIGJldHdlZW4gdXBkYXRlcy5cbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX21heEVsYXBzZWRNUyA9IDEwMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJuYWwgdmFsdWUgbWFuYWdlZCBieSBtYXhGUFMgcHJvcGVydHkgc2V0dGVyIGFuZCBnZXR0ZXIuXG4gICAgICAgICAqIFRoaXMgaXMgdGhlIG1pbmltdW0gYWxsb3dlZCBtaWxsaXNlY29uZHMgYmV0d2VlbiB1cGRhdGVzLlxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fbWluRWxhcHNlZE1TID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciBvciBub3QgdGhpcyB0aWNrZXIgc2hvdWxkIGludm9rZSB0aGUgbWV0aG9kXG4gICAgICAgICAqIHtAbGluayBQSVhJLlRpY2tlciNzdGFydH0gYXV0b21hdGljYWxseVxuICAgICAgICAgKiB3aGVuIGEgbGlzdGVuZXIgaXMgYWRkZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmF1dG9TdGFydCA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTY2FsYXIgdGltZSB2YWx1ZSBmcm9tIGxhc3QgZnJhbWUgdG8gdGhpcyBmcmFtZS5cbiAgICAgICAgICogVGhpcyB2YWx1ZSBpcyBjYXBwZWQgYnkgc2V0dGluZyB7QGxpbmsgUElYSS5UaWNrZXIjbWluRlBTfVxuICAgICAgICAgKiBhbmQgaXMgc2NhbGVkIHdpdGgge0BsaW5rIFBJWEkuVGlja2VyI3NwZWVkfS5cbiAgICAgICAgICogKipOb3RlOioqIFRoZSBjYXAgbWF5IGJlIGV4Y2VlZGVkIGJ5IHNjYWxpbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kZWx0YVRpbWUgPSAxO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTY2FsZXIgdGltZSBlbGFwc2VkIGluIG1pbGxpc2Vjb25kcyBmcm9tIGxhc3QgZnJhbWUgdG8gdGhpcyBmcmFtZS5cbiAgICAgICAgICogVGhpcyB2YWx1ZSBpcyBjYXBwZWQgYnkgc2V0dGluZyB7QGxpbmsgUElYSS5UaWNrZXIjbWluRlBTfVxuICAgICAgICAgKiBhbmQgaXMgc2NhbGVkIHdpdGgge0BsaW5rIFBJWEkuVGlja2VyI3NwZWVkfS5cbiAgICAgICAgICogKipOb3RlOioqIFRoZSBjYXAgbWF5IGJlIGV4Y2VlZGVkIGJ5IHNjYWxpbmcuXG4gICAgICAgICAqIElmIHRoZSBwbGF0Zm9ybSBzdXBwb3J0cyBET01IaWdoUmVzVGltZVN0YW1wLFxuICAgICAgICAgKiB0aGlzIHZhbHVlIHdpbGwgaGF2ZSBhIHByZWNpc2lvbiBvZiAxIMK1cy5cbiAgICAgICAgICogRGVmYXVsdHMgdG8gdGFyZ2V0IGZyYW1lIHRpbWVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxNi42NlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kZWx0YU1TID0gMSAvIHNldHRpbmdzLlRBUkdFVF9GUE1TO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaW1lIGVsYXBzZWQgaW4gbWlsbGlzZWNvbmRzIGZyb20gbGFzdCBmcmFtZSB0byB0aGlzIGZyYW1lLlxuICAgICAgICAgKiBPcHBvc2VkIHRvIHdoYXQgdGhlIHNjYWxhciB7QGxpbmsgUElYSS5UaWNrZXIjZGVsdGFUaW1lfVxuICAgICAgICAgKiBpcyBiYXNlZCwgdGhpcyB2YWx1ZSBpcyBuZWl0aGVyIGNhcHBlZCBub3Igc2NhbGVkLlxuICAgICAgICAgKiBJZiB0aGUgcGxhdGZvcm0gc3VwcG9ydHMgRE9NSGlnaFJlc1RpbWVTdGFtcCxcbiAgICAgICAgICogdGhpcyB2YWx1ZSB3aWxsIGhhdmUgYSBwcmVjaXNpb24gb2YgMSDCtXMuXG4gICAgICAgICAqIERlZmF1bHRzIHRvIHRhcmdldCBmcmFtZSB0aW1lXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMTYuNjZcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZWxhcHNlZE1TID0gMSAvIHNldHRpbmdzLlRBUkdFVF9GUE1TO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbGFzdCB0aW1lIHtAbGluayBQSVhJLlRpY2tlciN1cGRhdGV9IHdhcyBpbnZva2VkLlxuICAgICAgICAgKiBUaGlzIHZhbHVlIGlzIGFsc28gcmVzZXQgaW50ZXJuYWxseSBvdXRzaWRlIG9mIGludm9raW5nXG4gICAgICAgICAqIHVwZGF0ZSwgYnV0IG9ubHkgd2hlbiBhIG5ldyBhbmltYXRpb24gZnJhbWUgaXMgcmVxdWVzdGVkLlxuICAgICAgICAgKiBJZiB0aGUgcGxhdGZvcm0gc3VwcG9ydHMgRE9NSGlnaFJlc1RpbWVTdGFtcCxcbiAgICAgICAgICogdGhpcyB2YWx1ZSB3aWxsIGhhdmUgYSBwcmVjaXNpb24gb2YgMSDCtXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgLTFcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubGFzdFRpbWUgPSAtMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRmFjdG9yIG9mIGN1cnJlbnQge0BsaW5rIFBJWEkuVGlja2VyI2RlbHRhVGltZX0uXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIC8vIFNjYWxlcyB0aWNrZXIuZGVsdGFUaW1lIHRvIHdoYXQgd291bGQgYmVcbiAgICAgICAgICogLy8gdGhlIGVxdWl2YWxlbnQgb2YgYXBwcm94aW1hdGVseSAxMjAgRlBTXG4gICAgICAgICAqIHRpY2tlci5zcGVlZCA9IDI7XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zcGVlZCA9IDE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgb3Igbm90IHRoaXMgdGlja2VyIGhhcyBiZWVuIHN0YXJ0ZWQuXG4gICAgICAgICAqIGB0cnVlYCBpZiB7QGxpbmsgUElYSS5UaWNrZXIjc3RhcnR9IGhhcyBiZWVuIGNhbGxlZC5cbiAgICAgICAgICogYGZhbHNlYCBpZiB7QGxpbmsgUElYSS5UaWNrZXIjc3RvcH0gaGFzIGJlZW4gY2FsbGVkLlxuICAgICAgICAgKiBXaGlsZSBgZmFsc2VgLCB0aGlzIHZhbHVlIG1heSBjaGFuZ2UgdG8gYHRydWVgIGluIHRoZVxuICAgICAgICAgKiBldmVudCBvZiB7QGxpbmsgUElYSS5UaWNrZXIjYXV0b1N0YXJ0fSBiZWluZyBgdHJ1ZWBcbiAgICAgICAgICogYW5kIGEgbGlzdGVuZXIgaXMgYWRkZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgZW5hYmxlZCwgZGVsZXRpbmcgaXMgZGlzYWJsZWQuXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9wcm90ZWN0ZWQgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGxhc3QgdGltZSBrZXlmcmFtZSB3YXMgZXhlY3V0ZWQuXG4gICAgICAgICAqIE1haW50YWlucyBhIHJlbGF0aXZlbHkgZml4ZWQgaW50ZXJ2YWwgd2l0aCB0aGUgcHJldmlvdXMgdmFsdWUuXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgLTFcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2xhc3RGcmFtZSA9IC0xO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnRlcm5hbCB0aWNrIG1ldGhvZCBib3VuZCB0byB0aWNrZXIgaW5zdGFuY2UuXG4gICAgICAgICAqIFRoaXMgaXMgYmVjYXVzZSBpbiBlYXJseSAyMDE1LCBGdW5jdGlvbi5iaW5kXG4gICAgICAgICAqIGlzIHN0aWxsIDYwJSBzbG93ZXIgaW4gaGlnaCBwZXJmb3JtYW5jZSBzY2VuYXJpb3MuXG4gICAgICAgICAqIEFsc28gc2VwYXJhdGluZyBmcmFtZSByZXF1ZXN0cyBmcm9tIHVwZGF0ZSBtZXRob2RcbiAgICAgICAgICogc28gbGlzdGVuZXJzIG1heSBiZSBjYWxsZWQgYXQgYW55IHRpbWUgYW5kIHdpdGhcbiAgICAgICAgICogYW55IGFuaW1hdGlvbiBBUEksIGp1c3QgaW52b2tlIHRpY2tlci51cGRhdGUodGltZSkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0aW1lIC0gVGltZSBzaW5jZSBsYXN0IHRpY2suXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl90aWNrID0gKHRpbWU6IG51bWJlcik6IHZvaWQgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fcmVxdWVzdElkID0gbnVsbDtcblxuICAgICAgICAgICAgaWYgKHRoaXMuc3RhcnRlZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBJbnZva2UgbGlzdGVuZXJzIG5vd1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlKHRpbWUpO1xuICAgICAgICAgICAgICAgIC8vIExpc3RlbmVyIHNpZGUgZWZmZWN0cyBtYXkgaGF2ZSBtb2RpZmllZCB0aWNrZXIgc3RhdGUuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RhcnRlZCAmJiB0aGlzLl9yZXF1ZXN0SWQgPT09IG51bGwgJiYgdGhpcy5faGVhZC5uZXh0KVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmVxdWVzdElkID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuX3RpY2spO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb25kaXRpb25hbGx5IHJlcXVlc3RzIGEgbmV3IGFuaW1hdGlvbiBmcmFtZS5cbiAgICAgKiBJZiBhIGZyYW1lIGhhcyBub3QgYWxyZWFkeSBiZWVuIHJlcXVlc3RlZCwgYW5kIGlmIHRoZSBpbnRlcm5hbFxuICAgICAqIGVtaXR0ZXIgaGFzIGxpc3RlbmVycywgYSBuZXcgZnJhbWUgaXMgcmVxdWVzdGVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBwcml2YXRlIF9yZXF1ZXN0SWZOZWVkZWQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX3JlcXVlc3RJZCA9PT0gbnVsbCAmJiB0aGlzLl9oZWFkLm5leHQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIGVuc3VyZSBjYWxsYmFja3MgZ2V0IGNvcnJlY3QgZGVsdGFcbiAgICAgICAgICAgIHRoaXMubGFzdFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgICAgIHRoaXMuX2xhc3RGcmFtZSA9IHRoaXMubGFzdFRpbWU7XG4gICAgICAgICAgICB0aGlzLl9yZXF1ZXN0SWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5fdGljayk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb25kaXRpb25hbGx5IGNhbmNlbHMgYSBwZW5kaW5nIGFuaW1hdGlvbiBmcmFtZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgcHJpdmF0ZSBfY2FuY2VsSWZOZWVkZWQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX3JlcXVlc3RJZCAhPT0gbnVsbClcbiAgICAgICAge1xuICAgICAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5fcmVxdWVzdElkKTtcbiAgICAgICAgICAgIHRoaXMuX3JlcXVlc3RJZCA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb25kaXRpb25hbGx5IHJlcXVlc3RzIGEgbmV3IGFuaW1hdGlvbiBmcmFtZS5cbiAgICAgKiBJZiB0aGUgdGlja2VyIGhhcyBiZWVuIHN0YXJ0ZWQgaXQgY2hlY2tzIGlmIGEgZnJhbWUgaGFzIG5vdCBhbHJlYWR5XG4gICAgICogYmVlbiByZXF1ZXN0ZWQsIGFuZCBpZiB0aGUgaW50ZXJuYWwgZW1pdHRlciBoYXMgbGlzdGVuZXJzLiBJZiB0aGVzZVxuICAgICAqIGNvbmRpdGlvbnMgYXJlIG1ldCwgYSBuZXcgZnJhbWUgaXMgcmVxdWVzdGVkLiBJZiB0aGUgdGlja2VyIGhhcyBub3RcbiAgICAgKiBiZWVuIHN0YXJ0ZWQsIGJ1dCBhdXRvU3RhcnQgaXMgYHRydWVgLCB0aGVuIHRoZSB0aWNrZXIgc3RhcnRzIG5vdyxcbiAgICAgKiBhbmQgY29udGludWVzIHdpdGggdGhlIHByZXZpb3VzIGNvbmRpdGlvbnMgdG8gcmVxdWVzdCBhIG5ldyBmcmFtZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgcHJpdmF0ZSBfc3RhcnRJZlBvc3NpYmxlKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnN0YXJ0ZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3JlcXVlc3RJZk5lZWRlZCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuYXV0b1N0YXJ0KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZWdpc3RlciBhIGhhbmRsZXIgZm9yIHRpY2sgZXZlbnRzLiBDYWxscyBjb250aW51b3VzbHkgdW5sZXNzXG4gICAgICogaXQgaXMgcmVtb3ZlZCBvciB0aGUgdGlja2VyIGlzIHN0b3BwZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiAtIFRoZSBsaXN0ZW5lciBmdW5jdGlvbiB0byBiZSBhZGRlZCBmb3IgdXBkYXRlc1xuICAgICAqIEBwYXJhbSB7Kn0gW2NvbnRleHRdIC0gVGhlIGxpc3RlbmVyIGNvbnRleHRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3ByaW9yaXR5PVBJWEkuVVBEQVRFX1BSSU9SSVRZLk5PUk1BTF0gLSBUaGUgcHJpb3JpdHkgZm9yIGVtaXR0aW5nXG4gICAgICogQHJldHVybnMge1BJWEkuVGlja2VyfSBUaGlzIGluc3RhbmNlIG9mIGEgdGlja2VyXG4gICAgICovXG4gICAgYWRkPFQgPSBhbnk+KGZuOiBUaWNrZXJDYWxsYmFjazxUPiwgY29udGV4dDogVCwgcHJpb3JpdHkgPSBVUERBVEVfUFJJT1JJVFkuTk9STUFMKTogdGhpc1xuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZExpc3RlbmVyKG5ldyBUaWNrZXJMaXN0ZW5lcihmbiwgY29udGV4dCwgcHJpb3JpdHkpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGQgYSBoYW5kbGVyIGZvciB0aGUgdGljayBldmVudCB3aGljaCBpcyBvbmx5IGV4ZWN1dGUgb25jZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIC0gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uIHRvIGJlIGFkZGVkIGZvciBvbmUgdXBkYXRlXG4gICAgICogQHBhcmFtIHsqfSBbY29udGV4dF0gLSBUaGUgbGlzdGVuZXIgY29udGV4dFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcHJpb3JpdHk9UElYSS5VUERBVEVfUFJJT1JJVFkuTk9STUFMXSAtIFRoZSBwcmlvcml0eSBmb3IgZW1pdHRpbmdcbiAgICAgKiBAcmV0dXJucyB7UElYSS5UaWNrZXJ9IFRoaXMgaW5zdGFuY2Ugb2YgYSB0aWNrZXJcbiAgICAgKi9cbiAgICBhZGRPbmNlPFQgPSBhbnk+KGZuOiBUaWNrZXJDYWxsYmFjazxUPiwgY29udGV4dDogVCwgcHJpb3JpdHkgPSBVUERBVEVfUFJJT1JJVFkuTk9STUFMKTogdGhpc1xuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZExpc3RlbmVyKG5ldyBUaWNrZXJMaXN0ZW5lcihmbiwgY29udGV4dCwgcHJpb3JpdHksIHRydWUpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbnRlcm5hbGx5IGFkZHMgdGhlIGV2ZW50IGhhbmRsZXIgc28gdGhhdCBpdCBjYW4gYmUgc29ydGVkIGJ5IHByaW9yaXR5LlxuICAgICAqIFByaW9yaXR5IGFsbG93cyBjZXJ0YWluIGhhbmRsZXIgKHVzZXIsIEFuaW1hdGVkU3ByaXRlLCBJbnRlcmFjdGlvbikgdG8gYmUgcnVuXG4gICAgICogYmVmb3JlIHRoZSByZW5kZXJpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7VGlja2VyTGlzdGVuZXJ9IGxpc3RlbmVyIC0gQ3VycmVudCBsaXN0ZW5lciBiZWluZyBhZGRlZC5cbiAgICAgKiBAcmV0dXJucyB7UElYSS5UaWNrZXJ9IFRoaXMgaW5zdGFuY2Ugb2YgYSB0aWNrZXJcbiAgICAgKi9cbiAgICBwcml2YXRlIF9hZGRMaXN0ZW5lcihsaXN0ZW5lcjogVGlja2VyTGlzdGVuZXIpOiB0aGlzXG4gICAge1xuICAgICAgICAvLyBGb3IgYXR0YWNoaW5nIHRvIGhlYWRcbiAgICAgICAgbGV0IGN1cnJlbnQgPSB0aGlzLl9oZWFkLm5leHQ7XG4gICAgICAgIGxldCBwcmV2aW91cyA9IHRoaXMuX2hlYWQ7XG5cbiAgICAgICAgLy8gQWRkIHRoZSBmaXJzdCBpdGVtXG4gICAgICAgIGlmICghY3VycmVudClcbiAgICAgICAge1xuICAgICAgICAgICAgbGlzdGVuZXIuY29ubmVjdChwcmV2aW91cyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBHbyBmcm9tIGhpZ2hlc3QgdG8gbG93ZXN0IHByaW9yaXR5XG4gICAgICAgICAgICB3aGlsZSAoY3VycmVudClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAobGlzdGVuZXIucHJpb3JpdHkgPiBjdXJyZW50LnByaW9yaXR5KVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXIuY29ubmVjdChwcmV2aW91cyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwcmV2aW91cyA9IGN1cnJlbnQ7XG4gICAgICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQubmV4dDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gTm90IHlldCBjb25uZWN0ZWRcbiAgICAgICAgICAgIGlmICghbGlzdGVuZXIucHJldmlvdXMpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXIuY29ubmVjdChwcmV2aW91cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9zdGFydElmUG9zc2libGUoKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFueSBoYW5kbGVycyBtYXRjaGluZyB0aGUgZnVuY3Rpb24gYW5kIGNvbnRleHQgcGFyYW1ldGVycy5cbiAgICAgKiBJZiBubyBoYW5kbGVycyBhcmUgbGVmdCBhZnRlciByZW1vdmluZywgdGhlbiBpdCBjYW5jZWxzIHRoZSBhbmltYXRpb24gZnJhbWUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiAtIFRoZSBsaXN0ZW5lciBmdW5jdGlvbiB0byBiZSByZW1vdmVkXG4gICAgICogQHBhcmFtIHsqfSBbY29udGV4dF0gLSBUaGUgbGlzdGVuZXIgY29udGV4dCB0byBiZSByZW1vdmVkXG4gICAgICogQHJldHVybnMge1BJWEkuVGlja2VyfSBUaGlzIGluc3RhbmNlIG9mIGEgdGlja2VyXG4gICAgICovXG4gICAgcmVtb3ZlPFQgPSBhbnk+KGZuOiBUaWNrZXJDYWxsYmFjazxUPiwgY29udGV4dDogVCk6IHRoaXNcbiAgICB7XG4gICAgICAgIGxldCBsaXN0ZW5lciA9IHRoaXMuX2hlYWQubmV4dDtcblxuICAgICAgICB3aGlsZSAobGlzdGVuZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIFdlIGZvdW5kIGEgbWF0Y2gsIGxldHMgcmVtb3ZlIGl0XG4gICAgICAgICAgICAvLyBubyBicmVhayB0byBkZWxldGUgYWxsIHBvc3NpYmxlIG1hdGNoZXNcbiAgICAgICAgICAgIC8vIGluY2FzZSBhIGxpc3RlbmVyIHdhcyBhZGRlZCAyKyB0aW1lc1xuICAgICAgICAgICAgaWYgKGxpc3RlbmVyLm1hdGNoKGZuLCBjb250ZXh0KSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lciA9IGxpc3RlbmVyLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lciA9IGxpc3RlbmVyLm5leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuX2hlYWQubmV4dClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fY2FuY2VsSWZOZWVkZWQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2YgbGlzdGVuZXJzIG9uIHRoaXMgdGlja2VyLCBjYWxjdWxhdGVkIGJ5IHdhbGtpbmcgdGhyb3VnaCBsaW5rZWQgbGlzdFxuICAgICAqXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIGdldCBjb3VudCgpOiBudW1iZXJcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5faGVhZClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgY291bnQgPSAwO1xuICAgICAgICBsZXQgY3VycmVudCA9IHRoaXMuX2hlYWQ7XG5cbiAgICAgICAgd2hpbGUgKChjdXJyZW50ID0gY3VycmVudC5uZXh0KSlcbiAgICAgICAge1xuICAgICAgICAgICAgY291bnQrKztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjb3VudDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTdGFydHMgdGhlIHRpY2tlci4gSWYgdGhlIHRpY2tlciBoYXMgbGlzdGVuZXJzXG4gICAgICogYSBuZXcgYW5pbWF0aW9uIGZyYW1lIGlzIHJlcXVlc3RlZCBhdCB0aGlzIHBvaW50LlxuICAgICAqL1xuICAgIHN0YXJ0KCk6IHZvaWRcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5zdGFydGVkKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fcmVxdWVzdElmTmVlZGVkKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTdG9wcyB0aGUgdGlja2VyLiBJZiB0aGUgdGlja2VyIGhhcyByZXF1ZXN0ZWRcbiAgICAgKiBhbiBhbmltYXRpb24gZnJhbWUgaXQgaXMgY2FuY2VsZWQgYXQgdGhpcyBwb2ludC5cbiAgICAgKi9cbiAgICBzdG9wKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnN0YXJ0ZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5fY2FuY2VsSWZOZWVkZWQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3kgdGhlIHRpY2tlciBhbmQgZG9uJ3QgdXNlIGFmdGVyIHRoaXMuIENhbGxpbmdcbiAgICAgKiB0aGlzIG1ldGhvZCByZW1vdmVzIGFsbCByZWZlcmVuY2VzIHRvIGludGVybmFsIGV2ZW50cy5cbiAgICAgKi9cbiAgICBkZXN0cm95KCk6IHZvaWRcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5fcHJvdGVjdGVkKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnN0b3AoKTtcblxuICAgICAgICAgICAgbGV0IGxpc3RlbmVyID0gdGhpcy5faGVhZC5uZXh0O1xuXG4gICAgICAgICAgICB3aGlsZSAobGlzdGVuZXIpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXIgPSBsaXN0ZW5lci5kZXN0cm95KHRydWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9oZWFkLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMuX2hlYWQgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVHJpZ2dlcnMgYW4gdXBkYXRlLiBBbiB1cGRhdGUgZW50YWlscyBzZXR0aW5nIHRoZVxuICAgICAqIGN1cnJlbnQge0BsaW5rIFBJWEkuVGlja2VyI2VsYXBzZWRNU30sXG4gICAgICogdGhlIGN1cnJlbnQge0BsaW5rIFBJWEkuVGlja2VyI2RlbHRhVGltZX0sXG4gICAgICogaW52b2tpbmcgYWxsIGxpc3RlbmVycyB3aXRoIGN1cnJlbnQgZGVsdGFUaW1lLFxuICAgICAqIGFuZCB0aGVuIGZpbmFsbHkgc2V0dGluZyB7QGxpbmsgUElYSS5UaWNrZXIjbGFzdFRpbWV9XG4gICAgICogd2l0aCB0aGUgdmFsdWUgb2YgY3VycmVudFRpbWUgdGhhdCB3YXMgcHJvdmlkZWQuXG4gICAgICogVGhpcyBtZXRob2Qgd2lsbCBiZSBjYWxsZWQgYXV0b21hdGljYWxseSBieSBhbmltYXRpb25cbiAgICAgKiBmcmFtZSBjYWxsYmFja3MgaWYgdGhlIHRpY2tlciBpbnN0YW5jZSBoYXMgYmVlbiBzdGFydGVkXG4gICAgICogYW5kIGxpc3RlbmVycyBhcmUgYWRkZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2N1cnJlbnRUaW1lPXBlcmZvcm1hbmNlLm5vdygpXSAtIHRoZSBjdXJyZW50IHRpbWUgb2YgZXhlY3V0aW9uXG4gICAgICovXG4gICAgdXBkYXRlKGN1cnJlbnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCkpOiB2b2lkXG4gICAge1xuICAgICAgICBsZXQgZWxhcHNlZE1TO1xuXG4gICAgICAgIC8vIElmIHRoZSBkaWZmZXJlbmNlIGluIHRpbWUgaXMgemVybyBvciBuZWdhdGl2ZSwgd2UgaWdub3JlIG1vc3Qgb2YgdGhlIHdvcmsgZG9uZSBoZXJlLlxuICAgICAgICAvLyBJZiB0aGVyZSBpcyBubyB2YWxpZCBkaWZmZXJlbmNlLCB0aGVuIHNob3VsZCBiZSBubyByZWFzb24gdG8gbGV0IGFueW9uZSBrbm93IGFib3V0IGl0LlxuICAgICAgICAvLyBBIHplcm8gZGVsdGEsIGlzIGV4YWN0bHkgdGhhdCwgbm90aGluZyBzaG91bGQgdXBkYXRlLlxuICAgICAgICAvL1xuICAgICAgICAvLyBUaGUgZGlmZmVyZW5jZSBpbiB0aW1lIGNhbiBiZSBuZWdhdGl2ZSwgYW5kIG5vIHRoaXMgZG9lcyBub3QgbWVhbiB0aW1lIHRyYXZlbGluZy5cbiAgICAgICAgLy8gVGhpcyBjYW4gYmUgdGhlIHJlc3VsdCBvZiBhIHJhY2UgY29uZGl0aW9uIGJldHdlZW4gd2hlbiBhbiBhbmltYXRpb24gZnJhbWUgaXMgcmVxdWVzdGVkXG4gICAgICAgIC8vIG9uIHRoZSBjdXJyZW50IEphdmFTY3JpcHQgZW5naW5lIGV2ZW50IGxvb3AsIGFuZCB3aGVuIHRoZSB0aWNrZXIncyBzdGFydCBtZXRob2QgaXMgaW52b2tlZFxuICAgICAgICAvLyAod2hpY2ggaW52b2tlcyB0aGUgaW50ZXJuYWwgX3JlcXVlc3RJZk5lZWRlZCBtZXRob2QpLiBJZiBhIGZyYW1lIGlzIHJlcXVlc3RlZCBiZWZvcmVcbiAgICAgICAgLy8gX3JlcXVlc3RJZk5lZWRlZCBpcyBpbnZva2VkLCB0aGVuIHRoZSBjYWxsYmFjayBmb3IgdGhlIGFuaW1hdGlvbiBmcmFtZSB0aGUgdGlja2VyIHJlcXVlc3RzLFxuICAgICAgICAvLyBjYW4gcmVjZWl2ZSBhIHRpbWUgYXJndW1lbnQgdGhhdCBjYW4gYmUgbGVzcyB0aGFuIHRoZSBsYXN0VGltZSB2YWx1ZSB0aGF0IHdhcyBzZXQgd2l0aGluXG4gICAgICAgIC8vIF9yZXF1ZXN0SWZOZWVkZWQuIFRoaXMgZGlmZmVyZW5jZSBpcyBpbiBtaWNyb3NlY29uZHMsIGJ1dCB0aGlzIGlzIGVub3VnaCB0byBjYXVzZSBwcm9ibGVtcy5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gVGhpcyBjaGVjayBjb3ZlcnMgdGhpcyBicm93c2VyIGVuZ2luZSB0aW1pbmcgaXNzdWUsIGFzIHdlbGwgYXMgaWYgY29uc3VtZXJzIHBhc3MgYW4gaW52YWxpZFxuICAgICAgICAvLyBjdXJyZW50VGltZSB2YWx1ZS4gVGhpcyBtYXkgaGFwcGVuIGlmIGNvbnN1bWVycyBvcHQtb3V0IG9mIHRoZSBhdXRvU3RhcnQsIGFuZCB1cGRhdGUgdGhlbXNlbHZlcy5cblxuICAgICAgICBpZiAoY3VycmVudFRpbWUgPiB0aGlzLmxhc3RUaW1lKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBTYXZlIHVuY2FwcGVkIGVsYXBzZWRNUyBmb3IgbWVhc3VyZW1lbnRcbiAgICAgICAgICAgIGVsYXBzZWRNUyA9IHRoaXMuZWxhcHNlZE1TID0gY3VycmVudFRpbWUgLSB0aGlzLmxhc3RUaW1lO1xuXG4gICAgICAgICAgICAvLyBjYXAgdGhlIG1pbGxpc2Vjb25kcyBlbGFwc2VkIHVzZWQgZm9yIGRlbHRhVGltZVxuICAgICAgICAgICAgaWYgKGVsYXBzZWRNUyA+IHRoaXMuX21heEVsYXBzZWRNUylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBlbGFwc2VkTVMgPSB0aGlzLl9tYXhFbGFwc2VkTVM7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGVsYXBzZWRNUyAqPSB0aGlzLnNwZWVkO1xuXG4gICAgICAgICAgICAvLyBJZiBub3QgZW5vdWdoIHRpbWUgaGFzIHBhc3NlZCwgZXhpdCB0aGUgZnVuY3Rpb24uXG4gICAgICAgICAgICAvLyBHZXQgcmVhZHkgZm9yIG5leHQgZnJhbWUgYnkgc2V0dGluZyBfbGFzdEZyYW1lLCBidXQgYmFzZWQgb24gX21pbkVsYXBzZWRNU1xuICAgICAgICAgICAgLy8gYWRqdXN0bWVudCB0byBlbnN1cmUgYSByZWxhdGl2ZWx5IHN0YWJsZSBpbnRlcnZhbC5cbiAgICAgICAgICAgIGlmICh0aGlzLl9taW5FbGFwc2VkTVMpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVsdGEgPSBjdXJyZW50VGltZSAtIHRoaXMuX2xhc3RGcmFtZSB8IDA7XG5cbiAgICAgICAgICAgICAgICBpZiAoZGVsdGEgPCB0aGlzLl9taW5FbGFwc2VkTVMpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5fbGFzdEZyYW1lID0gY3VycmVudFRpbWUgLSAoZGVsdGEgJSB0aGlzLl9taW5FbGFwc2VkTVMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmRlbHRhTVMgPSBlbGFwc2VkTVM7XG4gICAgICAgICAgICB0aGlzLmRlbHRhVGltZSA9IHRoaXMuZGVsdGFNUyAqIHNldHRpbmdzLlRBUkdFVF9GUE1TO1xuXG4gICAgICAgICAgICAvLyBDYWNoZSBhIGxvY2FsIHJlZmVyZW5jZSwgaW4tY2FzZSB0aWNrZXIgaXMgZGVzdHJveWVkXG4gICAgICAgICAgICAvLyBkdXJpbmcgdGhlIGVtaXQsIHdlIGNhbiBzdGlsbCBjaGVjayBmb3IgaGVhZC5uZXh0XG4gICAgICAgICAgICBjb25zdCBoZWFkID0gdGhpcy5faGVhZDtcblxuICAgICAgICAgICAgLy8gSW52b2tlIGxpc3RlbmVycyBhZGRlZCB0byBpbnRlcm5hbCBlbWl0dGVyXG4gICAgICAgICAgICBsZXQgbGlzdGVuZXIgPSBoZWFkLm5leHQ7XG5cbiAgICAgICAgICAgIHdoaWxlIChsaXN0ZW5lcilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lciA9IGxpc3RlbmVyLmVtaXQodGhpcy5kZWx0YVRpbWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIWhlYWQubmV4dClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jYW5jZWxJZk5lZWRlZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5kZWx0YVRpbWUgPSB0aGlzLmRlbHRhTVMgPSB0aGlzLmVsYXBzZWRNUyA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmxhc3RUaW1lID0gY3VycmVudFRpbWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGZyYW1lcyBwZXIgc2Vjb25kIGF0IHdoaWNoIHRoaXMgdGlja2VyIGlzIHJ1bm5pbmcuXG4gICAgICogVGhlIGRlZmF1bHQgaXMgYXBwcm94aW1hdGVseSA2MCBpbiBtb3N0IG1vZGVybiBicm93c2Vycy5cbiAgICAgKiAqKk5vdGU6KiogVGhpcyBkb2VzIG5vdCBmYWN0b3IgaW4gdGhlIHZhbHVlIG9mXG4gICAgICoge0BsaW5rIFBJWEkuVGlja2VyI3NwZWVkfSwgd2hpY2ggaXMgc3BlY2lmaWNcbiAgICAgKiB0byBzY2FsaW5nIHtAbGluayBQSVhJLlRpY2tlciNkZWx0YVRpbWV9LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuICAgIGdldCBGUFMoKTogbnVtYmVyXG4gICAge1xuICAgICAgICByZXR1cm4gMTAwMCAvIHRoaXMuZWxhcHNlZE1TO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1hbmFnZXMgdGhlIG1heGltdW0gYW1vdW50IG9mIG1pbGxpc2Vjb25kcyBhbGxvd2VkIHRvXG4gICAgICogZWxhcHNlIGJldHdlZW4gaW52b2tpbmcge0BsaW5rIFBJWEkuVGlja2VyI3VwZGF0ZX0uXG4gICAgICogVGhpcyB2YWx1ZSBpcyB1c2VkIHRvIGNhcCB7QGxpbmsgUElYSS5UaWNrZXIjZGVsdGFUaW1lfSxcbiAgICAgKiBidXQgZG9lcyBub3QgZWZmZWN0IHRoZSBtZWFzdXJlZCB2YWx1ZSBvZiB7QGxpbmsgUElYSS5UaWNrZXIjRlBTfS5cbiAgICAgKiBXaGVuIHNldHRpbmcgdGhpcyBwcm9wZXJ0eSBpdCBpcyBjbGFtcGVkIHRvIGEgdmFsdWUgYmV0d2VlblxuICAgICAqIGAwYCBhbmQgYFBJWEkuc2V0dGluZ3MuVEFSR0VUX0ZQTVMgKiAxMDAwYC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAxMFxuICAgICAqL1xuICAgIGdldCBtaW5GUFMoKTogbnVtYmVyXG4gICAge1xuICAgICAgICByZXR1cm4gMTAwMCAvIHRoaXMuX21heEVsYXBzZWRNUztcbiAgICB9XG5cbiAgICBzZXQgbWluRlBTKGZwczogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgLy8gTWluaW11bSBtdXN0IGJlIGJlbG93IHRoZSBtYXhGUFNcbiAgICAgICAgY29uc3QgbWluRlBTID0gTWF0aC5taW4odGhpcy5tYXhGUFMsIGZwcyk7XG5cbiAgICAgICAgLy8gTXVzdCBiZSBhdCBsZWFzdCAwLCBidXQgYmVsb3cgMSAvIHNldHRpbmdzLlRBUkdFVF9GUE1TXG4gICAgICAgIGNvbnN0IG1pbkZQTVMgPSBNYXRoLm1pbihNYXRoLm1heCgwLCBtaW5GUFMpIC8gMTAwMCwgc2V0dGluZ3MuVEFSR0VUX0ZQTVMpO1xuXG4gICAgICAgIHRoaXMuX21heEVsYXBzZWRNUyA9IDEgLyBtaW5GUE1TO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1hbmFnZXMgdGhlIG1pbmltdW0gYW1vdW50IG9mIG1pbGxpc2Vjb25kcyByZXF1aXJlZCB0b1xuICAgICAqIGVsYXBzZSBiZXR3ZWVuIGludm9raW5nIHtAbGluayBQSVhJLlRpY2tlciN1cGRhdGV9LlxuICAgICAqIFRoaXMgd2lsbCBlZmZlY3QgdGhlIG1lYXN1cmVkIHZhbHVlIG9mIHtAbGluayBQSVhJLlRpY2tlciNGUFN9LlxuICAgICAqIElmIGl0IGlzIHNldCB0byBgMGAsIHRoZW4gdGhlcmUgaXMgbm8gbGltaXQ7IFBpeGlKUyB3aWxsIHJlbmRlciBhcyBtYW55IGZyYW1lcyBhcyBpdCBjYW4uXG4gICAgICogT3RoZXJ3aXNlIGl0IHdpbGwgYmUgYXQgbGVhc3QgYG1pbkZQU2BcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG4gICAgZ2V0IG1heEZQUygpOiBudW1iZXJcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9taW5FbGFwc2VkTVMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLnJvdW5kKDEwMDAgLyB0aGlzLl9taW5FbGFwc2VkTVMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuXG4gICAgc2V0IG1heEZQUyhmcHM6IG51bWJlcilcbiAgICB7XG4gICAgICAgIGlmIChmcHMgPT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX21pbkVsYXBzZWRNUyA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBNYXggbXVzdCBiZSBhdCBsZWFzdCB0aGUgbWluRlBTXG4gICAgICAgICAgICBjb25zdCBtYXhGUFMgPSBNYXRoLm1heCh0aGlzLm1pbkZQUywgZnBzKTtcblxuICAgICAgICAgICAgdGhpcy5fbWluRWxhcHNlZE1TID0gMSAvIChtYXhGUFMgLyAxMDAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBzaGFyZWQgdGlja2VyIGluc3RhbmNlIHVzZWQgYnkge0BsaW5rIFBJWEkuQW5pbWF0ZWRTcHJpdGV9IGFuZCBieVxuICAgICAqIHtAbGluayBQSVhJLlZpZGVvUmVzb3VyY2V9IHRvIHVwZGF0ZSBhbmltYXRpb24gZnJhbWVzIC8gdmlkZW8gdGV4dHVyZXMuXG4gICAgICpcbiAgICAgKiBJdCBtYXkgYWxzbyBiZSB1c2VkIGJ5IHtAbGluayBQSVhJLkFwcGxpY2F0aW9ufSBpZiBjcmVhdGVkIHdpdGggdGhlIGBzaGFyZWRUaWNrZXJgIG9wdGlvbiBwcm9wZXJ0eSBzZXQgdG8gdHJ1ZS5cbiAgICAgKlxuICAgICAqIFRoZSBwcm9wZXJ0eSB7QGxpbmsgUElYSS5UaWNrZXIjYXV0b1N0YXJ0fSBpcyBzZXQgdG8gYHRydWVgIGZvciB0aGlzIGluc3RhbmNlLlxuICAgICAqIFBsZWFzZSBmb2xsb3cgdGhlIGV4YW1wbGVzIGZvciB1c2FnZSwgaW5jbHVkaW5nIGhvdyB0byBvcHQtb3V0IG9mIGF1dG8tc3RhcnRpbmcgdGhlIHNoYXJlZCB0aWNrZXIuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGxldCB0aWNrZXIgPSBQSVhJLlRpY2tlci5zaGFyZWQ7XG4gICAgICogLy8gU2V0IHRoaXMgdG8gcHJldmVudCBzdGFydGluZyB0aGlzIHRpY2tlciB3aGVuIGxpc3RlbmVycyBhcmUgYWRkZWQuXG4gICAgICogLy8gQnkgZGVmYXVsdCB0aGlzIGlzIHRydWUgb25seSBmb3IgdGhlIFBJWEkuVGlja2VyLnNoYXJlZCBpbnN0YW5jZS5cbiAgICAgKiB0aWNrZXIuYXV0b1N0YXJ0ID0gZmFsc2U7XG4gICAgICogLy8gRllJLCBjYWxsIHRoaXMgdG8gZW5zdXJlIHRoZSB0aWNrZXIgaXMgc3RvcHBlZC4gSXQgc2hvdWxkIGJlIHN0b3BwZWRcbiAgICAgKiAvLyBpZiB5b3UgaGF2ZSBub3QgYXR0ZW1wdGVkIHRvIHJlbmRlciBhbnl0aGluZyB5ZXQuXG4gICAgICogdGlja2VyLnN0b3AoKTtcbiAgICAgKiAvLyBDYWxsIHRoaXMgd2hlbiB5b3UgYXJlIHJlYWR5IGZvciBhIHJ1bm5pbmcgc2hhcmVkIHRpY2tlci5cbiAgICAgKiB0aWNrZXIuc3RhcnQoKTtcbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gWW91IG1heSB1c2UgdGhlIHNoYXJlZCB0aWNrZXIgdG8gcmVuZGVyLi4uXG4gICAgICogbGV0IHJlbmRlcmVyID0gUElYSS5hdXRvRGV0ZWN0UmVuZGVyZXIoKTtcbiAgICAgKiBsZXQgc3RhZ2UgPSBuZXcgUElYSS5Db250YWluZXIoKTtcbiAgICAgKiBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHJlbmRlcmVyLnZpZXcpO1xuICAgICAqIHRpY2tlci5hZGQoZnVuY3Rpb24gKHRpbWUpIHtcbiAgICAgKiAgICAgcmVuZGVyZXIucmVuZGVyKHN0YWdlKTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gT3IgeW91IGNhbiBqdXN0IHVwZGF0ZSBpdCBtYW51YWxseS5cbiAgICAgKiB0aWNrZXIuYXV0b1N0YXJ0ID0gZmFsc2U7XG4gICAgICogdGlja2VyLnN0b3AoKTtcbiAgICAgKiBmdW5jdGlvbiBhbmltYXRlKHRpbWUpIHtcbiAgICAgKiAgICAgdGlja2VyLnVwZGF0ZSh0aW1lKTtcbiAgICAgKiAgICAgcmVuZGVyZXIucmVuZGVyKHN0YWdlKTtcbiAgICAgKiAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGUpO1xuICAgICAqIH1cbiAgICAgKiBhbmltYXRlKHBlcmZvcm1hbmNlLm5vdygpKTtcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuVGlja2VyfVxuICAgICAqIEBzdGF0aWNcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IHNoYXJlZCgpOiBUaWNrZXJcbiAgICB7XG4gICAgICAgIGlmICghVGlja2VyLl9zaGFyZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHNoYXJlZCA9IFRpY2tlci5fc2hhcmVkID0gbmV3IFRpY2tlcigpO1xuXG4gICAgICAgICAgICBzaGFyZWQuYXV0b1N0YXJ0ID0gdHJ1ZTtcbiAgICAgICAgICAgIHNoYXJlZC5fcHJvdGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBUaWNrZXIuX3NoYXJlZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc3lzdGVtIHRpY2tlciBpbnN0YW5jZSB1c2VkIGJ5IHtAbGluayBQSVhJLkludGVyYWN0aW9uTWFuYWdlcn0gYW5kIGJ5XG4gICAgICoge0BsaW5rIFBJWEkuQmFzZVByZXBhcmV9IGZvciBjb3JlIHRpbWluZyBmdW5jdGlvbmFsaXR5IHRoYXQgc2hvdWxkbid0IHVzdWFsbHkgbmVlZCB0byBiZSBwYXVzZWQsXG4gICAgICogdW5saWtlIHRoZSBgc2hhcmVkYCB0aWNrZXIgd2hpY2ggZHJpdmVzIHZpc3VhbCBhbmltYXRpb25zIGFuZCByZW5kZXJpbmcgd2hpY2ggbWF5IHdhbnQgdG8gYmUgcGF1c2VkLlxuICAgICAqXG4gICAgICogVGhlIHByb3BlcnR5IHtAbGluayBQSVhJLlRpY2tlciNhdXRvU3RhcnR9IGlzIHNldCB0byBgdHJ1ZWAgZm9yIHRoaXMgaW5zdGFuY2UuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLlRpY2tlcn1cbiAgICAgKiBAc3RhdGljXG4gICAgICovXG4gICAgc3RhdGljIGdldCBzeXN0ZW0oKTogVGlja2VyXG4gICAge1xuICAgICAgICBpZiAoIVRpY2tlci5fc3lzdGVtKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBzeXN0ZW0gPSBUaWNrZXIuX3N5c3RlbSA9IG5ldyBUaWNrZXIoKTtcblxuICAgICAgICAgICAgc3lzdGVtLmF1dG9TdGFydCA9IHRydWU7XG4gICAgICAgICAgICBzeXN0ZW0uX3Byb3RlY3RlZCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gVGlja2VyLl9zeXN0ZW07XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgVVBEQVRFX1BSSU9SSVRZIH0gZnJvbSAnLi9jb25zdCc7XG5pbXBvcnQgeyBUaWNrZXIgfSBmcm9tICcuL1RpY2tlcic7XG5cbmltcG9ydCB0eXBlIHsgSUFwcGxpY2F0aW9uT3B0aW9ucyB9IGZyb20gJ0BwaXhpL2FwcCc7XG5cbi8qKlxuICogTWlkZGxld2FyZSBmb3IgZm9yIEFwcGxpY2F0aW9uIFRpY2tlci5cbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHtUaWNrZXJQbHVnaW59IGZyb20gJ0BwaXhpL3RpY2tlcic7XG4gKiBpbXBvcnQge0FwcGxpY2F0aW9ufSBmcm9tICdAcGl4aS9hcHAnO1xuICogQXBwbGljYXRpb24ucmVnaXN0ZXJQbHVnaW4oVGlja2VyUGx1Z2luKTtcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBjbGFzcyBUaWNrZXJQbHVnaW5cbntcbiAgICBzdGF0aWMgc3RhcnQ6ICgpID0+IHZvaWQ7XG4gICAgc3RhdGljIHN0b3A6ICgpID0+IHZvaWQ7XG4gICAgc3RhdGljIF90aWNrZXI6IFRpY2tlcjtcbiAgICBzdGF0aWMgdGlja2VyOiBUaWNrZXI7XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIHRoZSBwbHVnaW4gd2l0aCBzY29wZSBvZiBhcHBsaWNhdGlvbiBpbnN0YW5jZVxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIFNlZSBhcHBsaWNhdGlvbiBvcHRpb25zXG4gICAgICovXG4gICAgc3RhdGljIGluaXQob3B0aW9ucz86IElBcHBsaWNhdGlvbk9wdGlvbnMpOiB2b2lkXG4gICAge1xuICAgICAgICAvLyBTZXQgZGVmYXVsdFxuICAgICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICBhdXRvU3RhcnQ6IHRydWUsXG4gICAgICAgICAgICBzaGFyZWRUaWNrZXI6IGZhbHNlLFxuICAgICAgICB9LCBvcHRpb25zKTtcblxuICAgICAgICAvLyBDcmVhdGUgdGlja2VyIHNldHRlclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ3RpY2tlcicsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc2V0KHRpY2tlcilcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl90aWNrZXIpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3RpY2tlci5yZW1vdmUodGhpcy5yZW5kZXIsIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RpY2tlciA9IHRpY2tlcjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRpY2tlcilcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGlja2VyLmFkZCh0aGlzLnJlbmRlciwgdGhpcywgVVBEQVRFX1BSSU9SSVRZLkxPVyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGdldCgpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fdGlja2VyO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ29udmVuaWVuY2UgbWV0aG9kIGZvciBzdG9wcGluZyB0aGUgcmVuZGVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWV0aG9kIFBJWEkuQXBwbGljYXRpb24jc3RvcFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdG9wID0gKCk6IHZvaWQgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fdGlja2VyLnN0b3AoKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ29udmVuaWVuY2UgbWV0aG9kIGZvciBzdGFydGluZyB0aGUgcmVuZGVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWV0aG9kIFBJWEkuQXBwbGljYXRpb24jc3RhcnRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RhcnQgPSAoKTogdm9pZCA9PlxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl90aWNrZXIuc3RhcnQoKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJuYWwgcmVmZXJlbmNlIHRvIHRoZSB0aWNrZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0eXBlIHtQSVhJLlRpY2tlcn1cbiAgICAgICAgICogQG5hbWUgX3RpY2tlclxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5BcHBsaWNhdGlvbiNcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3RpY2tlciA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRpY2tlciBmb3IgZG9pbmcgcmVuZGVyIHVwZGF0ZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0eXBlIHtQSVhJLlRpY2tlcn1cbiAgICAgICAgICogQG5hbWUgdGlja2VyXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLkFwcGxpY2F0aW9uI1xuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLlRpY2tlci5zaGFyZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGlja2VyID0gb3B0aW9ucy5zaGFyZWRUaWNrZXIgPyBUaWNrZXIuc2hhcmVkIDogbmV3IFRpY2tlcigpO1xuXG4gICAgICAgIC8vIFN0YXJ0IHRoZSByZW5kZXJpbmdcbiAgICAgICAgaWYgKG9wdGlvbnMuYXV0b1N0YXJ0KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDbGVhbiB1cCB0aGUgdGlja2VyLCBzY29wZWQgdG8gYXBwbGljYXRpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBzdGF0aWMgZGVzdHJveSgpOiB2b2lkXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fdGlja2VyKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBvbGRUaWNrZXIgPSB0aGlzLl90aWNrZXI7XG5cbiAgICAgICAgICAgIHRoaXMudGlja2VyID0gbnVsbDtcbiAgICAgICAgICAgIG9sZFRpY2tlci5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgeyBQb2ludCwgSVBvaW50RGF0YSB9IGZyb20gJ0BwaXhpL21hdGgnO1xuXG5pbXBvcnQgdHlwZSB7IERpc3BsYXlPYmplY3QgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcblxuZXhwb3J0IHR5cGUgSW50ZXJhY3RpdmVQb2ludGVyRXZlbnQgPSBQb2ludGVyRXZlbnQgfCBUb3VjaEV2ZW50IHwgTW91c2VFdmVudDtcblxuLyoqXG4gKiBIb2xkcyBhbGwgaW5mb3JtYXRpb24gcmVsYXRlZCB0byBhbiBJbnRlcmFjdGlvbiBldmVudFxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGNsYXNzIEludGVyYWN0aW9uRGF0YVxue1xuICAgIHB1YmxpYyBnbG9iYWw6IFBvaW50O1xuICAgIHB1YmxpYyB0YXJnZXQ6IERpc3BsYXlPYmplY3Q7XG4gICAgcHVibGljIG9yaWdpbmFsRXZlbnQ6IEludGVyYWN0aXZlUG9pbnRlckV2ZW50O1xuICAgIHB1YmxpYyBpZGVudGlmaWVyOiBudW1iZXI7XG4gICAgcHVibGljIGlzUHJpbWFyeTogYm9vbGVhbjtcbiAgICBwdWJsaWMgYnV0dG9uOiBudW1iZXI7XG4gICAgcHVibGljIGJ1dHRvbnM6IG51bWJlcjtcbiAgICBwdWJsaWMgd2lkdGg6IG51bWJlcjtcbiAgICBwdWJsaWMgaGVpZ2h0OiBudW1iZXI7XG4gICAgcHVibGljIHRpbHRYOiBudW1iZXI7XG4gICAgcHVibGljIHRpbHRZOiBudW1iZXI7XG4gICAgcHVibGljIHBvaW50ZXJUeXBlOiBzdHJpbmc7XG4gICAgcHVibGljIHByZXNzdXJlID0gMDtcbiAgICBwdWJsaWMgcm90YXRpb25BbmdsZSA9IDA7XG4gICAgcHVibGljIHR3aXN0ID0gMDtcbiAgICBwdWJsaWMgdGFuZ2VudGlhbFByZXNzdXJlID0gMDtcblxuICAgIGNvbnN0cnVjdG9yKClcbiAgICB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIHBvaW50IHN0b3JlcyB0aGUgZ2xvYmFsIGNvb3JkcyBvZiB3aGVyZSB0aGUgdG91Y2gvbW91c2UgZXZlbnQgaGFwcGVuZWRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Qb2ludH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZ2xvYmFsID0gbmV3IFBvaW50KCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0YXJnZXQgU3ByaXRlIHRoYXQgd2FzIGludGVyYWN0ZWQgd2l0aFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlNwcml0ZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGFyZ2V0ID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hlbiBwYXNzZWQgdG8gYW4gZXZlbnQgaGFuZGxlciwgdGhpcyB3aWxsIGJlIHRoZSBvcmlnaW5hbCBET00gRXZlbnQgdGhhdCB3YXMgY2FwdHVyZWRcbiAgICAgICAgICpcbiAgICAgICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvTW91c2VFdmVudFxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Ub3VjaEV2ZW50XG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudFxuICAgICAgICAgKiBAbWVtYmVyIHtNb3VzZUV2ZW50fFRvdWNoRXZlbnR8UG9pbnRlckV2ZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vcmlnaW5hbEV2ZW50ID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoaXMgaW50ZXJhY3Rpb25cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pZGVudGlmaWVyID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW5kaWNhdGVzIHdoZXRoZXIgb3Igbm90IHRoZSBwb2ludGVyIGRldmljZSB0aGF0IGNyZWF0ZWQgdGhlIGV2ZW50IGlzIHRoZSBwcmltYXJ5IHBvaW50ZXIuXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudC9pc1ByaW1hcnlcbiAgICAgICAgICogQHR5cGUge0Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmlzUHJpbWFyeSA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbmRpY2F0ZXMgd2hpY2ggYnV0dG9uIHdhcyBwcmVzc2VkIG9uIHRoZSBtb3VzZSBvciBwb2ludGVyIGRldmljZSB0byB0cmlnZ2VyIHRoZSBldmVudC5cbiAgICAgICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvTW91c2VFdmVudC9idXR0b25cbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYnV0dG9uID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW5kaWNhdGVzIHdoaWNoIGJ1dHRvbnMgYXJlIHByZXNzZWQgb24gdGhlIG1vdXNlIG9yIHBvaW50ZXIgZGV2aWNlIHdoZW4gdGhlIGV2ZW50IGlzIHRyaWdnZXJlZC5cbiAgICAgICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvTW91c2VFdmVudC9idXR0b25zXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmJ1dHRvbnMgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIHBvaW50ZXIncyBjb250YWN0IGFsb25nIHRoZSB4LWF4aXMsIG1lYXN1cmVkIGluIENTUyBwaXhlbHMuXG4gICAgICAgICAqIHJhZGl1c1ggb2YgVG91Y2hFdmVudHMgd2lsbCBiZSByZXByZXNlbnRlZCBieSB0aGlzIHZhbHVlLlxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Qb2ludGVyRXZlbnQvd2lkdGhcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMud2lkdGggPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBwb2ludGVyJ3MgY29udGFjdCBhbG9uZyB0aGUgeS1heGlzLCBtZWFzdXJlZCBpbiBDU1MgcGl4ZWxzLlxuICAgICAgICAgKiByYWRpdXNZIG9mIFRvdWNoRXZlbnRzIHdpbGwgYmUgcmVwcmVzZW50ZWQgYnkgdGhpcyB2YWx1ZS5cbiAgICAgICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUG9pbnRlckV2ZW50L2hlaWdodFxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5oZWlnaHQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYW5nbGUsIGluIGRlZ3JlZXMsIGJldHdlZW4gdGhlIHBvaW50ZXIgZGV2aWNlIGFuZCB0aGUgc2NyZWVuLlxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Qb2ludGVyRXZlbnQvdGlsdFhcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGlsdFggPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYW5nbGUsIGluIGRlZ3JlZXMsIGJldHdlZW4gdGhlIHBvaW50ZXIgZGV2aWNlIGFuZCB0aGUgc2NyZWVuLlxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Qb2ludGVyRXZlbnQvdGlsdFlcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGlsdFkgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHlwZSBvZiBwb2ludGVyIHRoYXQgdHJpZ2dlcmVkIHRoZSBldmVudC5cbiAgICAgICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUG9pbnRlckV2ZW50L3BvaW50ZXJUeXBlXG4gICAgICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBvaW50ZXJUeXBlID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUHJlc3N1cmUgYXBwbGllZCBieSB0aGUgcG9pbnRpbmcgZGV2aWNlIGR1cmluZyB0aGUgZXZlbnQuIEEgVG91Y2gncyBmb3JjZSBwcm9wZXJ0eVxuICAgICAgICAgKiB3aWxsIGJlIHJlcHJlc2VudGVkIGJ5IHRoaXMgdmFsdWUuXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudC9wcmVzc3VyZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wcmVzc3VyZSA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZyb20gVG91Y2hFdmVudHMgKG5vdCBQb2ludGVyRXZlbnRzIHRyaWdnZXJlZCBieSB0b3VjaGVzKSwgdGhlIHJvdGF0aW9uQW5nbGUgb2YgdGhlIFRvdWNoLlxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Ub3VjaC9yb3RhdGlvbkFuZ2xlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJvdGF0aW9uQW5nbGUgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUd2lzdCBvZiBhIHN0eWx1cyBwb2ludGVyLlxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdzNjLmdpdGh1Yi5pby9wb2ludGVyZXZlbnRzLyNwb2ludGVyZXZlbnQtaW50ZXJmYWNlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR3aXN0ID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQmFycmVsIHByZXNzdXJlIG9uIGEgc3R5bHVzIHBvaW50ZXIuXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly93M2MuZ2l0aHViLmlvL3BvaW50ZXJldmVudHMvI3BvaW50ZXJldmVudC1pbnRlcmZhY2VcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGFuZ2VudGlhbFByZXNzdXJlID0gMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdW5pcXVlIGlkZW50aWZpZXIgb2YgdGhlIHBvaW50ZXIuIEl0IHdpbGwgYmUgdGhlIHNhbWUgYXMgYGlkZW50aWZpZXJgLlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Qb2ludGVyRXZlbnQvcG9pbnRlcklkXG4gICAgICovXG4gICAgZ2V0IHBvaW50ZXJJZCgpOiBudW1iZXJcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmlkZW50aWZpZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyB3aWxsIHJldHVybiB0aGUgbG9jYWwgY29vcmRpbmF0ZXMgb2YgdGhlIHNwZWNpZmllZCBkaXNwbGF5T2JqZWN0IGZvciB0aGlzIEludGVyYWN0aW9uRGF0YVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGRpc3BsYXlPYmplY3QgLSBUaGUgRGlzcGxheU9iamVjdCB0aGF0IHlvdSB3b3VsZCBsaWtlIHRoZSBsb2NhbFxuICAgICAqICBjb29yZHMgb2ZmXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBbcG9pbnRdIC0gQSBQb2ludCBvYmplY3QgaW4gd2hpY2ggdG8gc3RvcmUgdGhlIHZhbHVlLCBvcHRpb25hbCAob3RoZXJ3aXNlXG4gICAgICogIHdpbGwgY3JlYXRlIGEgbmV3IHBvaW50KVxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gW2dsb2JhbFBvc10gLSBBIFBvaW50IG9iamVjdCBjb250YWluaW5nIHlvdXIgY3VzdG9tIGdsb2JhbCBjb29yZHMsIG9wdGlvbmFsXG4gICAgICogIChvdGhlcndpc2Ugd2lsbCB1c2UgdGhlIGN1cnJlbnQgZ2xvYmFsIGNvb3JkcylcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlBvaW50fSBBIHBvaW50IGNvbnRhaW5pbmcgdGhlIGNvb3JkaW5hdGVzIG9mIHRoZSBJbnRlcmFjdGlvbkRhdGEgcG9zaXRpb24gcmVsYXRpdmVcbiAgICAgKiAgdG8gdGhlIERpc3BsYXlPYmplY3RcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0TG9jYWxQb3NpdGlvbjxQIGV4dGVuZHMgSVBvaW50RGF0YSA9IFBvaW50PihkaXNwbGF5T2JqZWN0OiBEaXNwbGF5T2JqZWN0LCBwb2ludD86IFAsIGdsb2JhbFBvcz86IElQb2ludERhdGEpOiBQXG4gICAge1xuICAgICAgICByZXR1cm4gZGlzcGxheU9iamVjdC53b3JsZFRyYW5zZm9ybS5hcHBseUludmVyc2U8UD4oZ2xvYmFsUG9zIHx8IHRoaXMuZ2xvYmFsLCBwb2ludCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29waWVzIHByb3BlcnRpZXMgZnJvbSBub3JtYWxpemVkIGV2ZW50IGRhdGEuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1RvdWNofE1vdXNlRXZlbnR8UG9pbnRlckV2ZW50fSBldmVudCAtIFRoZSBub3JtYWxpemVkIGV2ZW50IGRhdGFcbiAgICAgKi9cbiAgICBwdWJsaWMgY29weUV2ZW50KGV2ZW50OiBUb3VjaCB8IEludGVyYWN0aXZlUG9pbnRlckV2ZW50KTogdm9pZFxuICAgIHtcbiAgICAgICAgLy8gaXNQcmltYXJ5IHNob3VsZCBvbmx5IGNoYW5nZSBvbiB0b3VjaHN0YXJ0L3BvaW50ZXJkb3duLCBzbyB3ZSBkb24ndCB3YW50IHRvIG92ZXJ3cml0ZVxuICAgICAgICAvLyBpdCB3aXRoIFwiZmFsc2VcIiBvbiBsYXRlciBldmVudHMgd2hlbiBvdXIgc2hpbSBmb3IgaXQgb24gdG91Y2ggZXZlbnRzIG1pZ2h0IG5vdCBiZVxuICAgICAgICAvLyBhY2N1cmF0ZVxuICAgICAgICBpZiAoJ2lzUHJpbWFyeScgaW4gZXZlbnQgJiYgZXZlbnQuaXNQcmltYXJ5KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmlzUHJpbWFyeSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5idXR0b24gPSAnYnV0dG9uJyBpbiBldmVudCAmJiBldmVudC5idXR0b247XG4gICAgICAgIC8vIGV2ZW50LmJ1dHRvbnMgaXMgbm90IGF2YWlsYWJsZSBpbiBhbGwgYnJvd3NlcnMgKGllLiBTYWZhcmkpLCBidXQgaXQgZG9lcyBoYXZlIGEgbm9uLXN0YW5kYXJkXG4gICAgICAgIC8vIGV2ZW50LndoaWNoIHByb3BlcnR5IGluc3RlYWQsIHdoaWNoIGNvbnZleXMgdGhlIHNhbWUgaW5mb3JtYXRpb24uXG4gICAgICAgIGNvbnN0IGJ1dHRvbnMgPSAnYnV0dG9ucycgaW4gZXZlbnQgJiYgZXZlbnQuYnV0dG9ucztcblxuICAgICAgICB0aGlzLmJ1dHRvbnMgPSBOdW1iZXIuaXNJbnRlZ2VyKGJ1dHRvbnMpID8gYnV0dG9ucyA6ICd3aGljaCcgaW4gZXZlbnQgJiYgZXZlbnQud2hpY2g7XG4gICAgICAgIHRoaXMud2lkdGggPSAnd2lkdGgnIGluIGV2ZW50ICYmIGV2ZW50LndpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9ICdoZWlnaHQnIGluIGV2ZW50ICYmIGV2ZW50LmhlaWdodDtcbiAgICAgICAgdGhpcy50aWx0WCA9ICd0aWx0WCcgaW4gZXZlbnQgJiYgZXZlbnQudGlsdFg7XG4gICAgICAgIHRoaXMudGlsdFkgPSAndGlsdFknIGluIGV2ZW50ICYmIGV2ZW50LnRpbHRZO1xuICAgICAgICB0aGlzLnBvaW50ZXJUeXBlID0gJ3BvaW50ZXJUeXBlJyBpbiBldmVudCAmJiBldmVudC5wb2ludGVyVHlwZTtcbiAgICAgICAgdGhpcy5wcmVzc3VyZSA9ICdwcmVzc3VyZScgaW4gZXZlbnQgJiYgZXZlbnQucHJlc3N1cmU7XG4gICAgICAgIHRoaXMucm90YXRpb25BbmdsZSA9ICdyb3RhdGlvbkFuZ2xlJyBpbiBldmVudCAmJiBldmVudC5yb3RhdGlvbkFuZ2xlO1xuICAgICAgICB0aGlzLnR3aXN0ID0gKCd0d2lzdCcgaW4gZXZlbnQgJiYgZXZlbnQudHdpc3QpIHx8IDA7XG4gICAgICAgIHRoaXMudGFuZ2VudGlhbFByZXNzdXJlID0gKCd0YW5nZW50aWFsUHJlc3N1cmUnIGluIGV2ZW50ICYmIGV2ZW50LnRhbmdlbnRpYWxQcmVzc3VyZSkgfHwgMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXNldHMgdGhlIGRhdGEgZm9yIHBvb2xpbmcuXG4gICAgICovXG4gICAgcHVibGljIHJlc2V0KCk6IHZvaWRcbiAgICB7XG4gICAgICAgIC8vIGlzUHJpbWFyeSBpcyB0aGUgb25seSBwcm9wZXJ0eSB0aGF0IHdlIHJlYWxseSBuZWVkIHRvIHJlc2V0IC0gZXZlcnl0aGluZyBlbHNlIGlzXG4gICAgICAgIC8vIGd1YXJhbnRlZWQgdG8gYmUgb3ZlcndyaXR0ZW5cbiAgICAgICAgdGhpcy5pc1ByaW1hcnkgPSBmYWxzZTtcbiAgICB9XG59XG4iLCJpbXBvcnQgdHlwZSB7IERpc3BsYXlPYmplY3QgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcbmltcG9ydCB0eXBlIHsgSW50ZXJhY3Rpb25EYXRhIH0gZnJvbSAnLi9JbnRlcmFjdGlvbkRhdGEnO1xuXG5leHBvcnQgdHlwZSBJbnRlcmFjdGlvbkNhbGxiYWNrID0gKGludGVyYWN0aW9uRXZlbnQ6IEludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3Q6IERpc3BsYXlPYmplY3QsIGhpdD86IGJvb2xlYW4pID0+IHZvaWQ7XG5cbi8qKlxuICogRXZlbnQgY2xhc3MgdGhhdCBtaW1pY3MgbmF0aXZlIERPTSBldmVudHMuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgY2xhc3MgSW50ZXJhY3Rpb25FdmVudFxue1xuICAgIHB1YmxpYyBzdG9wcGVkOiBib29sZWFuO1xuICAgIHB1YmxpYyBzdG9wc1Byb3BhZ2F0aW5nQXQ6IERpc3BsYXlPYmplY3Q7XG4gICAgcHVibGljIHN0b3BQcm9wYWdhdGlvbkhpbnQ6IGJvb2xlYW47XG4gICAgcHVibGljIHRhcmdldDogRGlzcGxheU9iamVjdDtcbiAgICBwdWJsaWMgY3VycmVudFRhcmdldDogRGlzcGxheU9iamVjdDtcbiAgICBwdWJsaWMgdHlwZTogc3RyaW5nO1xuICAgIHB1YmxpYyBkYXRhOiBJbnRlcmFjdGlvbkRhdGE7XG5cbiAgICBjb25zdHJ1Y3RvcigpXG4gICAge1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciB0aGlzIGV2ZW50IHdpbGwgY29udGludWUgcHJvcGFnYXRpbmcgaW4gdGhlIHRyZWUuXG4gICAgICAgICAqXG4gICAgICAgICAqIFJlbWFpbmluZyBldmVudHMgZm9yIHRoZSB7QGxpbmsgc3RvcHNQcm9wYWdhdGluZ0F0fSBvYmplY3RcbiAgICAgICAgICogd2lsbCBzdGlsbCBiZSBkaXNwYXRjaGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdG9wcGVkID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEF0IHdoaWNoIG9iamVjdCB0aGlzIGV2ZW50IHN0b3BzIHByb3BhZ2F0aW5nLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkRpc3BsYXlPYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0b3BzUHJvcGFnYXRpbmdBdCA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgd2UgYWxyZWFkeSByZWFjaGVkIHRoZSBlbGVtZW50IHdlIHdhbnQgdG9cbiAgICAgICAgICogc3RvcCBwcm9wYWdhdGluZyBhdC4gVGhpcyBpcyBpbXBvcnRhbnQgZm9yIGRlbGF5ZWQgZXZlbnRzLFxuICAgICAgICAgKiB3aGVyZSB3ZSBzdGFydCBvdmVyIGRlZXBlciBpbiB0aGUgdHJlZSBhZ2Fpbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RvcFByb3BhZ2F0aW9uSGludCA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgb2JqZWN0IHdoaWNoIGNhdXNlZCB0aGlzIGV2ZW50IHRvIGJlIGRpc3BhdGNoZWQuXG4gICAgICAgICAqIEZvciBsaXN0ZW5lciBjYWxsYmFjayBzZWUge0BsaW5rIFBJWEkuSW50ZXJhY3Rpb25FdmVudC5jdXJyZW50VGFyZ2V0fS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5EaXNwbGF5T2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50YXJnZXQgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgb2JqZWN0IHdob3NlIGV2ZW50IGxpc3RlbmVy4oCZcyBjYWxsYmFjayBpcyBjdXJyZW50bHkgYmVpbmcgaW52b2tlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5EaXNwbGF5T2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jdXJyZW50VGFyZ2V0ID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVHlwZSBvZiB0aGUgZXZlbnRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50eXBlID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJhY3Rpb25EYXRhIHJlbGF0ZWQgdG8gdGhpcyBldmVudFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkludGVyYWN0aW9uRGF0YX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGF0YSA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHJldmVudHMgZXZlbnQgZnJvbSByZWFjaGluZyBhbnkgb2JqZWN0cyBvdGhlciB0aGFuIHRoZSBjdXJyZW50IG9iamVjdC5cbiAgICAgKlxuICAgICAqL1xuICAgIHB1YmxpYyBzdG9wUHJvcGFnYXRpb24oKTogdm9pZFxuICAgIHtcbiAgICAgICAgdGhpcy5zdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zdG9wUHJvcGFnYXRpb25IaW50ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zdG9wc1Byb3BhZ2F0aW5nQXQgPSB0aGlzLmN1cnJlbnRUYXJnZXQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVzZXRzIHRoZSBldmVudC5cbiAgICAgKi9cbiAgICBwdWJsaWMgcmVzZXQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgdGhpcy5zdG9wcGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc3RvcHNQcm9wYWdhdGluZ0F0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5zdG9wUHJvcGFnYXRpb25IaW50ID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY3VycmVudFRhcmdldCA9IG51bGw7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gbnVsbDtcbiAgICB9XG59XG4iLCJleHBvcnQgaW50ZXJmYWNlIEludGVyYWN0aW9uVHJhY2tpbmdGbGFnc1xue1xuICAgIE9WRVI6IG51bWJlcjtcbiAgICBMRUZUX0RPV046IG51bWJlcjtcbiAgICBSSUdIVF9ET1dOOiBudW1iZXI7XG4gICAgTk9ORTogbnVtYmVyO1xufVxuXG4vKipcbiAqIERpc3BsYXlPYmplY3RzIHdpdGggdGhlIHtAbGluayBQSVhJLmludGVyYWN0aXZlVGFyZ2V0fSBtaXhpbiB1c2UgdGhpcyBjbGFzcyB0byB0cmFjayBpbnRlcmFjdGlvbnNcbiAqXG4gKiBAY2xhc3NcbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgY2xhc3MgSW50ZXJhY3Rpb25UcmFja2luZ0RhdGFcbntcbiAgICBwdWJsaWMgc3RhdGljIEZMQUdTOiBSZWFkb25seTxJbnRlcmFjdGlvblRyYWNraW5nRmxhZ3M+ID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgICAgIE5PTkU6IDAsXG4gICAgICAgIE9WRVI6IDEgPDwgMCxcbiAgICAgICAgTEVGVF9ET1dOOiAxIDw8IDEsXG4gICAgICAgIFJJR0hUX0RPV046IDEgPDwgMixcbiAgICB9KTtcblxuICAgIHByaXZhdGUgcmVhZG9ubHkgX3BvaW50ZXJJZDogbnVtYmVyO1xuICAgIHByaXZhdGUgX2ZsYWdzOiBudW1iZXI7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcG9pbnRlcklkIC0gVW5pcXVlIHBvaW50ZXIgaWQgb2YgdGhlIGV2ZW50XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihwb2ludGVySWQ6IG51bWJlcilcbiAgICB7XG4gICAgICAgIHRoaXMuX3BvaW50ZXJJZCA9IHBvaW50ZXJJZDtcbiAgICAgICAgdGhpcy5fZmxhZ3MgPSBJbnRlcmFjdGlvblRyYWNraW5nRGF0YS5GTEFHUy5OT05FO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZmxhZyAtIFRoZSBpbnRlcmFjdGlvbiBmbGFnIHRvIHNldFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0geW4gLSBTaG91bGQgdGhlIGZsYWcgYmUgc2V0IG9yIHVuc2V0XG4gICAgICovXG4gICAgcHJpdmF0ZSBfZG9TZXQoZmxhZzogbnVtYmVyLCB5bjogYm9vbGVhbik6IHZvaWRcbiAgICB7XG4gICAgICAgIGlmICh5bilcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fZmxhZ3MgPSB0aGlzLl9mbGFncyB8IGZsYWc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9mbGFncyA9IHRoaXMuX2ZsYWdzICYgKH5mbGFnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVuaXF1ZSBwb2ludGVyIGlkIG9mIHRoZSBldmVudFxuICAgICAqXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IHBvaW50ZXJJZCgpOiBudW1iZXJcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wb2ludGVySWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU3RhdGUgb2YgdGhlIHRyYWNraW5nIGRhdGEsIGV4cHJlc3NlZCBhcyBiaXQgZmxhZ3NcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIGdldCBmbGFncygpOiBudW1iZXJcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9mbGFncztcbiAgICB9XG5cbiAgICBzZXQgZmxhZ3MoZmxhZ3M6IG51bWJlcilcbiAgICB7XG4gICAgICAgIHRoaXMuX2ZsYWdzID0gZmxhZ3M7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSXMgdGhlIHRyYWNrZWQgZXZlbnQgaW5hY3RpdmUgKG5vdCBvdmVyIG9yIGRvd24pP1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IG5vbmUoKTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZsYWdzID09PSBJbnRlcmFjdGlvblRyYWNraW5nRGF0YS5GTEFHUy5OT05FO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIElzIHRoZSB0cmFja2VkIGV2ZW50IG92ZXIgdGhlIERpc3BsYXlPYmplY3Q/XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICovXG4gICAgZ2V0IG92ZXIoKTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLl9mbGFncyAmIEludGVyYWN0aW9uVHJhY2tpbmdEYXRhLkZMQUdTLk9WRVIpICE9PSAwO1xuICAgIH1cblxuICAgIHNldCBvdmVyKHluOiBib29sZWFuKVxuICAgIHtcbiAgICAgICAgdGhpcy5fZG9TZXQoSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEuRkxBR1MuT1ZFUiwgeW4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERpZCB0aGUgcmlnaHQgbW91c2UgYnV0dG9uIGNvbWUgZG93biBpbiB0aGUgRGlzcGxheU9iamVjdD9cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBnZXQgcmlnaHREb3duKCk6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIHJldHVybiAodGhpcy5fZmxhZ3MgJiBJbnRlcmFjdGlvblRyYWNraW5nRGF0YS5GTEFHUy5SSUdIVF9ET1dOKSAhPT0gMDtcbiAgICB9XG5cbiAgICBzZXQgcmlnaHREb3duKHluOiBib29sZWFuKVxuICAgIHtcbiAgICAgICAgdGhpcy5fZG9TZXQoSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEuRkxBR1MuUklHSFRfRE9XTiwgeW4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERpZCB0aGUgbGVmdCBtb3VzZSBidXR0b24gY29tZSBkb3duIGluIHRoZSBEaXNwbGF5T2JqZWN0P1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqL1xuICAgIGdldCBsZWZ0RG93bigpOiBib29sZWFuXG4gICAge1xuICAgICAgICByZXR1cm4gKHRoaXMuX2ZsYWdzICYgSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEuRkxBR1MuTEVGVF9ET1dOKSAhPT0gMDtcbiAgICB9XG5cbiAgICBzZXQgbGVmdERvd24oeW46IGJvb2xlYW4pXG4gICAge1xuICAgICAgICB0aGlzLl9kb1NldChJbnRlcmFjdGlvblRyYWNraW5nRGF0YS5GTEFHUy5MRUZUX0RPV04sIHluKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBQb2ludCB9IGZyb20gJ0BwaXhpL21hdGgnO1xuXG5pbXBvcnQgdHlwZSB7IEludGVyYWN0aW9uRXZlbnQsIEludGVyYWN0aW9uQ2FsbGJhY2sgfSBmcm9tICcuL0ludGVyYWN0aW9uRXZlbnQnO1xuaW1wb3J0IHR5cGUgeyBDb250YWluZXIsIERpc3BsYXlPYmplY3QgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcblxuLyoqXG4gKiBTdHJhdGVneSBob3cgdG8gc2VhcmNoIHRocm91Z2ggc3RhZ2UgdHJlZSBmb3IgaW50ZXJhY3RpdmUgb2JqZWN0c1xuICpcbiAqIEBwcml2YXRlXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBjbGFzcyBUcmVlU2VhcmNoXG57XG4gICAgcHJpdmF0ZSByZWFkb25seSBfdGVtcFBvaW50OiBQb2ludDtcblxuICAgIGNvbnN0cnVjdG9yKClcbiAgICB7XG4gICAgICAgIHRoaXMuX3RlbXBQb2ludCA9IG5ldyBQb2ludCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlY3Vyc2l2ZSBpbXBsZW1lbnRhdGlvbiBmb3IgZmluZEhpdFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gaW50ZXJhY3Rpb25FdmVudCAtIGV2ZW50IGNvbnRhaW5pbmcgdGhlIHBvaW50IHRoYXRcbiAgICAgKiAgaXMgdGVzdGVkIGZvciBjb2xsaXNpb25cbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfFBJWEkuU3ByaXRlfFBJWEkuVGlsaW5nU3ByaXRlfSBkaXNwbGF5T2JqZWN0IC0gdGhlIGRpc3BsYXlPYmplY3RcbiAgICAgKiAgdGhhdCB3aWxsIGJlIGhpdCB0ZXN0IChyZWN1cnNpdmVseSBjcmF3bHMgaXRzIGNoaWxkcmVuKVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtmdW5jXSAtIHRoZSBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIG9uIGVhY2ggaW50ZXJhY3RpdmUgb2JqZWN0LiBUaGVcbiAgICAgKiAgaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCBhbmQgaGl0IHdpbGwgYmUgcGFzc2VkIHRvIHRoZSBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2hpdFRlc3RdIC0gdGhpcyBpbmRpY2F0ZXMgaWYgdGhlIG9iamVjdHMgaW5zaWRlIHNob3VsZCBiZSBoaXQgdGVzdCBhZ2FpbnN0IHRoZSBwb2ludFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2ludGVyYWN0aXZlXSAtIFdoZXRoZXIgdGhlIGRpc3BsYXlPYmplY3QgaXMgaW50ZXJhY3RpdmVcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSByZXR1cm5zIHRydWUgaWYgdGhlIGRpc3BsYXlPYmplY3QgaGl0IHRoZSBwb2ludFxuICAgICAqL1xuICAgIHB1YmxpYyByZWN1cnNpdmVGaW5kSGl0KGludGVyYWN0aW9uRXZlbnQ6IEludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3Q6IERpc3BsYXlPYmplY3QsXG4gICAgICAgIGZ1bmM/OiBJbnRlcmFjdGlvbkNhbGxiYWNrLCBoaXRUZXN0PzogYm9vbGVhbiwgaW50ZXJhY3RpdmU/OiBib29sZWFuXG4gICAgKTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgaWYgKCFkaXNwbGF5T2JqZWN0IHx8ICFkaXNwbGF5T2JqZWN0LnZpc2libGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHBvaW50ID0gaW50ZXJhY3Rpb25FdmVudC5kYXRhLmdsb2JhbDtcblxuICAgICAgICAvLyBUb29rIGEgbGl0dGxlIHdoaWxlIHRvIHJld29yayB0aGlzIGZ1bmN0aW9uIGNvcnJlY3RseSEgQnV0IG5vdyBpdCBpcyBkb25lIGFuZCBuaWNlIGFuZCBvcHRpbWl6ZWQhIF5fXlxuICAgICAgICAvL1xuICAgICAgICAvLyBUaGlzIGZ1bmN0aW9uIHdpbGwgbm93IGxvb3AgdGhyb3VnaCBhbGwgb2JqZWN0cyBhbmQgdGhlbiBvbmx5IGhpdCB0ZXN0IHRoZSBvYmplY3RzIGl0IEhBU1xuICAgICAgICAvLyB0bywgbm90IGFsbCBvZiB0aGVtLiBNVUNIIGZhc3Rlci4uXG4gICAgICAgIC8vIEFuIG9iamVjdCB3aWxsIGJlIGhpdCB0ZXN0IGlmIHRoZSBmb2xsb3dpbmcgaXMgdHJ1ZTpcbiAgICAgICAgLy9cbiAgICAgICAgLy8gMTogSXQgaXMgaW50ZXJhY3RpdmUuXG4gICAgICAgIC8vIDI6IEl0IGJlbG9uZ3MgdG8gYSBwYXJlbnQgdGhhdCBpcyBpbnRlcmFjdGl2ZSBBTkQgb25lIG9mIHRoZSBwYXJlbnRzIGNoaWxkcmVuIGhhdmUgbm90IGFscmVhZHkgYmVlbiBoaXQuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIEFzIGFub3RoZXIgbGl0dGxlIG9wdGltaXphdGlvbiBvbmNlIGFuIGludGVyYWN0aXZlIG9iamVjdCBoYXMgYmVlbiBoaXQgd2UgY2FuIGNhcnJ5IG9uXG4gICAgICAgIC8vIHRocm91Z2ggdGhlIHNjZW5lZ3JhcGgsIGJ1dCB3ZSBrbm93IHRoYXQgdGhlcmUgd2lsbCBiZSBubyBtb3JlIGhpdHMhIFNvIHdlIGNhbiBhdm9pZCBleHRyYSBoaXQgdGVzdHNcbiAgICAgICAgLy8gQSBmaW5hbCBvcHRpbWl6YXRpb24gaXMgdGhhdCBhbiBvYmplY3QgaXMgbm90IGhpdCB0ZXN0IGRpcmVjdGx5IGlmIGEgY2hpbGQgaGFzIGFscmVhZHkgYmVlbiBoaXQuXG5cbiAgICAgICAgaW50ZXJhY3RpdmUgPSBkaXNwbGF5T2JqZWN0LmludGVyYWN0aXZlIHx8IGludGVyYWN0aXZlO1xuXG4gICAgICAgIGxldCBoaXQgPSBmYWxzZTtcbiAgICAgICAgbGV0IGludGVyYWN0aXZlUGFyZW50ID0gaW50ZXJhY3RpdmU7XG5cbiAgICAgICAgLy8gRmxhZyBoZXJlIGNhbiBzZXQgdG8gZmFsc2UgaWYgdGhlIGV2ZW50IGlzIG91dHNpZGUgdGhlIHBhcmVudHMgaGl0QXJlYSBvciBtYXNrXG4gICAgICAgIGxldCBoaXRUZXN0Q2hpbGRyZW4gPSB0cnVlO1xuXG4gICAgICAgIC8vIElmIHRoZXJlIGlzIGEgaGl0QXJlYSwgbm8gbmVlZCB0byB0ZXN0IGFnYWluc3QgYW55dGhpbmcgZWxzZSBpZiB0aGUgcG9pbnRlciBpcyBub3Qgd2l0aGluIHRoZSBoaXRBcmVhXG4gICAgICAgIC8vIFRoZXJlIGlzIGFsc28gbm8gbG9uZ2VyIGEgbmVlZCB0byBoaXRUZXN0IGNoaWxkcmVuLlxuICAgICAgICBpZiAoZGlzcGxheU9iamVjdC5oaXRBcmVhKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoaGl0VGVzdClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5T2JqZWN0LndvcmxkVHJhbnNmb3JtLmFwcGx5SW52ZXJzZShwb2ludCwgdGhpcy5fdGVtcFBvaW50KTtcbiAgICAgICAgICAgICAgICBpZiAoIWRpc3BsYXlPYmplY3QuaGl0QXJlYS5jb250YWlucyh0aGlzLl90ZW1wUG9pbnQueCwgdGhpcy5fdGVtcFBvaW50LnkpKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaGl0VGVzdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBoaXRUZXN0Q2hpbGRyZW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaGl0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbnRlcmFjdGl2ZVBhcmVudCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIHRoZXJlIGlzIGEgbWFzaywgbm8gbmVlZCB0byBoaXRUZXN0IGFnYWluc3QgYW55dGhpbmcgZWxzZSBpZiB0aGUgcG9pbnRlciBpcyBub3Qgd2l0aGluIHRoZSBtYXNrLlxuICAgICAgICAvLyBXZSBzdGlsbCB3YW50IHRvIGhpdFRlc3RDaGlsZHJlbiwgaG93ZXZlciwgdG8gZW5zdXJlIGEgbW91c2VvdXQgY2FuIHN0aWxsIGJlIGdlbmVyYXRlZC5cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3BpeGlqcy9waXhpLmpzL2lzc3Vlcy81MTM1XG4gICAgICAgIGVsc2UgaWYgKGRpc3BsYXlPYmplY3QuX21hc2spXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChoaXRUZXN0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICghKChkaXNwbGF5T2JqZWN0Ll9tYXNrIGFzIGFueSkuY29udGFpbnNQb2ludCAmJiAoZGlzcGxheU9iamVjdC5fbWFzayBhcyBhbnkpLmNvbnRhaW5zUG9pbnQocG9pbnQpKSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGhpdFRlc3QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyAqKiBGUkVFIFRJUCAqKiEgSWYgYW4gb2JqZWN0IGlzIG5vdCBpbnRlcmFjdGl2ZSBvciBoYXMgbm8gYnV0dG9ucyBpbiBpdFxuICAgICAgICAvLyAoc3VjaCBhcyBhIGdhbWUgc2NlbmUhKSBzZXQgaW50ZXJhY3RpdmVDaGlsZHJlbiB0byBmYWxzZSBmb3IgdGhhdCBkaXNwbGF5T2JqZWN0LlxuICAgICAgICAvLyBUaGlzIHdpbGwgYWxsb3cgUGl4aUpTIHRvIGNvbXBsZXRlbHkgaWdub3JlIGFuZCBieXBhc3MgY2hlY2tpbmcgdGhlIGRpc3BsYXlPYmplY3RzIGNoaWxkcmVuLlxuICAgICAgICBpZiAoaGl0VGVzdENoaWxkcmVuICYmIGRpc3BsYXlPYmplY3QuaW50ZXJhY3RpdmVDaGlsZHJlbiAmJiAoZGlzcGxheU9iamVjdCBhcyBDb250YWluZXIpLmNoaWxkcmVuKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBjaGlsZHJlbiA9IChkaXNwbGF5T2JqZWN0IGFzIENvbnRhaW5lcikuY2hpbGRyZW47XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSBjaGlsZHJlbi5sZW5ndGggLSAxOyBpID49IDA7IGktLSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZCA9IGNoaWxkcmVuW2ldO1xuXG4gICAgICAgICAgICAgICAgLy8gdGltZSB0byBnZXQgcmVjdXJzaXZlLi4gaWYgdGhpcyBmdW5jdGlvbiB3aWxsIHJldHVybiBpZiBzb21ldGhpbmcgaXMgaGl0Li5cbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZEhpdCA9IHRoaXMucmVjdXJzaXZlRmluZEhpdChpbnRlcmFjdGlvbkV2ZW50LCBjaGlsZCwgZnVuYywgaGl0VGVzdCwgaW50ZXJhY3RpdmVQYXJlbnQpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkSGl0KVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaXRzIGEgZ29vZCBpZGVhIHRvIGNoZWNrIGlmIGEgY2hpbGQgaGFzIGxvc3QgaXRzIHBhcmVudC5cbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyBtZWFucyBpdCBoYXMgYmVlbiByZW1vdmVkIHdoaWxzdCBsb29waW5nIHNvIGl0cyBiZXN0XG4gICAgICAgICAgICAgICAgICAgIGlmICghY2hpbGQucGFyZW50KVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIHdlIG5vIGxvbmdlciBuZWVkIHRvIGhpdCB0ZXN0IGFueSBtb3JlIG9iamVjdHMgaW4gdGhpcyBjb250YWluZXIgYXMgd2Ugd2VcbiAgICAgICAgICAgICAgICAgICAgLy8gbm93IGtub3cgdGhlIHBhcmVudCBoYXMgYmVlbiBoaXRcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJhY3RpdmVQYXJlbnQgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgY2hpbGQgaXMgaW50ZXJhY3RpdmUgLCB0aGF0IG1lYW5zIHRoYXQgdGhlIG9iamVjdCBoaXQgd2FzIGFjdHVhbGx5XG4gICAgICAgICAgICAgICAgICAgIC8vIGludGVyYWN0aXZlIGFuZCBub3QganVzdCB0aGUgY2hpbGQgb2YgYW4gaW50ZXJhY3RpdmUgb2JqZWN0LlxuICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIG1lYW5zIHdlIG5vIGxvbmdlciBuZWVkIHRvIGhpdCB0ZXN0IGFueXRoaW5nIGVsc2UuIFdlIHN0aWxsIG5lZWQgdG8gcnVuXG4gICAgICAgICAgICAgICAgICAgIC8vIHRocm91Z2ggYWxsIG9iamVjdHMsIGJ1dCB3ZSBkb24ndCBuZWVkIHRvIHBlcmZvcm0gYW55IGhpdCB0ZXN0cy5cblxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGRIaXQpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnRlcmFjdGlvbkV2ZW50LnRhcmdldClcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaXRUZXN0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBoaXQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gbm8gcG9pbnQgcnVubmluZyB0aGlzIGlmIHRoZSBpdGVtIGlzIG5vdCBpbnRlcmFjdGl2ZSBvciBkb2VzIG5vdCBoYXZlIGFuIGludGVyYWN0aXZlIHBhcmVudC5cbiAgICAgICAgaWYgKGludGVyYWN0aXZlKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBpZiB3ZSBhcmUgaGl0IHRlc3RpbmcgKGFzIGluIHdlIGhhdmUgbm8gaGl0IGFueSBvYmplY3RzIHlldClcbiAgICAgICAgICAgIC8vIFdlIGFsc28gZG9uJ3QgbmVlZCB0byB3b3JyeSBhYm91dCBoaXQgdGVzdGluZyBpZiBvbmNlIG9mIHRoZSBkaXNwbGF5T2JqZWN0cyBjaGlsZHJlblxuICAgICAgICAgICAgLy8gaGFzIGFscmVhZHkgYmVlbiBoaXQgLSBidXQgb25seSBpZiBpdCB3YXMgaW50ZXJhY3RpdmUsIG90aGVyd2lzZSB3ZSBuZWVkIHRvIGtlZXBcbiAgICAgICAgICAgIC8vIGxvb2tpbmcgZm9yIGFuIGludGVyYWN0aXZlIGNoaWxkLCBqdXN0IGluIGNhc2Ugd2UgaGl0IG9uZVxuICAgICAgICAgICAgaWYgKGhpdFRlc3QgJiYgIWludGVyYWN0aW9uRXZlbnQudGFyZ2V0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIGFscmVhZHkgdGVzdGVkIGFnYWluc3QgaGl0QXJlYSBpZiBpdCBpcyBkZWZpbmVkXG4gICAgICAgICAgICAgICAgaWYgKCFkaXNwbGF5T2JqZWN0LmhpdEFyZWEgJiYgKGRpc3BsYXlPYmplY3QgYXMgYW55KS5jb250YWluc1BvaW50KVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKChkaXNwbGF5T2JqZWN0IGFzIGFueSkuY29udGFpbnNQb2ludChwb2ludCkpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhpdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChkaXNwbGF5T2JqZWN0LmludGVyYWN0aXZlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChoaXQgJiYgIWludGVyYWN0aW9uRXZlbnQudGFyZ2V0KVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJhY3Rpb25FdmVudC50YXJnZXQgPSBkaXNwbGF5T2JqZWN0O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChmdW5jKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZnVuYyhpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0LCAhIWhpdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGhpdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIHByb3ZpZGVzIGEgbmVhdCB3YXkgb2YgY3Jhd2xpbmcgdGhyb3VnaCB0aGUgc2NlbmUgZ3JhcGggYW5kIHJ1bm5pbmcgYVxuICAgICAqIHNwZWNpZmllZCBmdW5jdGlvbiBvbiBhbGwgaW50ZXJhY3RpdmUgb2JqZWN0cyBpdCBmaW5kcy4gSXQgd2lsbCBhbHNvIHRha2UgY2FyZSBvZiBoaXRcbiAgICAgKiB0ZXN0aW5nIHRoZSBpbnRlcmFjdGl2ZSBvYmplY3RzIGFuZCBwYXNzZXMgdGhlIGhpdCBhY3Jvc3MgaW4gdGhlIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gaW50ZXJhY3Rpb25FdmVudCAtIGV2ZW50IGNvbnRhaW5pbmcgdGhlIHBvaW50IHRoYXRcbiAgICAgKiAgaXMgdGVzdGVkIGZvciBjb2xsaXNpb25cbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfFBJWEkuU3ByaXRlfFBJWEkuVGlsaW5nU3ByaXRlfSBkaXNwbGF5T2JqZWN0IC0gdGhlIGRpc3BsYXlPYmplY3RcbiAgICAgKiAgdGhhdCB3aWxsIGJlIGhpdCB0ZXN0IChyZWN1cnNpdmVseSBjcmF3bHMgaXRzIGNoaWxkcmVuKVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtmdW5jXSAtIHRoZSBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIG9uIGVhY2ggaW50ZXJhY3RpdmUgb2JqZWN0LiBUaGVcbiAgICAgKiAgaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCBhbmQgaGl0IHdpbGwgYmUgcGFzc2VkIHRvIHRoZSBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2hpdFRlc3RdIC0gdGhpcyBpbmRpY2F0ZXMgaWYgdGhlIG9iamVjdHMgaW5zaWRlIHNob3VsZCBiZSBoaXQgdGVzdCBhZ2FpbnN0IHRoZSBwb2ludFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IHJldHVybnMgdHJ1ZSBpZiB0aGUgZGlzcGxheU9iamVjdCBoaXQgdGhlIHBvaW50XG4gICAgICovXG4gICAgcHVibGljIGZpbmRIaXQoaW50ZXJhY3Rpb25FdmVudDogSW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdDogRGlzcGxheU9iamVjdCxcbiAgICAgICAgZnVuYz86IEludGVyYWN0aW9uQ2FsbGJhY2ssIGhpdFRlc3Q/OiBib29sZWFuXG4gICAgKTogdm9pZFxuICAgIHtcbiAgICAgICAgdGhpcy5yZWN1cnNpdmVGaW5kSGl0KGludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3QsIGZ1bmMsIGhpdFRlc3QsIGZhbHNlKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgdHlwZSB7IEludGVyYWN0aW9uVHJhY2tpbmdEYXRhIH0gZnJvbSAnLi9JbnRlcmFjdGlvblRyYWNraW5nRGF0YSc7XG5cbmV4cG9ydCB0eXBlIEN1cnNvciA9ICdhdXRvJ1xuICAgIHwgJ2RlZmF1bHQnXG4gICAgfCAnbm9uZSdcbiAgICB8ICdjb250ZXh0LW1lbnUnXG4gICAgfCAnaGVscCdcbiAgICB8ICdwb2ludGVyJ1xuICAgIHwgJ3Byb2dyZXNzJ1xuICAgIHwgJ3dhaXQnXG4gICAgfCAnY2VsbCdcbiAgICB8ICdjcm9zc2hhaXInXG4gICAgfCAndGV4dCdcbiAgICB8ICd2ZXJ0aWNhbC10ZXh0J1xuICAgIHwgJ2FsaWFzJ1xuICAgIHwgJ2NvcHknXG4gICAgfCAnbW92ZSdcbiAgICB8ICduby1kcm9wJ1xuICAgIHwgJ25vdC1hbGxvd2VkJ1xuICAgIHwgJ2UtcmVzaXplJ1xuICAgIHwgJ24tcmVzaXplJ1xuICAgIHwgJ25lLXJlc2l6ZSdcbiAgICB8ICdudy1yZXNpemUnXG4gICAgfCAncy1yZXNpemUnXG4gICAgfCAnc2UtcmVzaXplJ1xuICAgIHwgJ3N3LXJlc2l6ZSdcbiAgICB8ICd3LXJlc2l6ZSdcbiAgICB8ICducy1yZXNpemUnXG4gICAgfCAnZXctcmVzaXplJ1xuICAgIHwgJ25lc3ctcmVzaXplJ1xuICAgIHwgJ2NvbC1yZXNpemUnXG4gICAgfCAnbndzZS1yZXNpemUnXG4gICAgfCAncm93LXJlc2l6ZSdcbiAgICB8ICdhbGwtc2Nyb2xsJ1xuICAgIHwgJ3pvb20taW4nXG4gICAgfCAnem9vbS1vdXQnXG4gICAgfCAnZ3JhYidcbiAgICB8ICdncmFiYmluZyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUhpdEFyZWEge1xuICAgIGNvbnRhaW5zKHg6IG51bWJlciwgeTogbnVtYmVyKTogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJbnRlcmFjdGl2ZVRhcmdldCB7XG4gICAgaW50ZXJhY3RpdmU6IGJvb2xlYW47XG4gICAgaW50ZXJhY3RpdmVDaGlsZHJlbjogYm9vbGVhbjtcbiAgICBoaXRBcmVhOiBJSGl0QXJlYTtcbiAgICBjdXJzb3I6IEN1cnNvciB8IHN0cmluZztcbiAgICBidXR0b25Nb2RlOiBib29sZWFuO1xuICAgIHRyYWNrZWRQb2ludGVyczoge1t4OiBudW1iZXJdOiBJbnRlcmFjdGlvblRyYWNraW5nRGF0YX07XG4gICAgX3RyYWNrZWRQb2ludGVyczoge1t4OiBudW1iZXJdOiBJbnRlcmFjdGlvblRyYWNraW5nRGF0YX07XG59XG5cbi8qKlxuICogSW50ZXJmYWNlIGZvciBjbGFzc2VzIHRoYXQgcmVwcmVzZW50IGEgaGl0IGFyZWEuXG4gKlxuICogSXQgaXMgaW1wbGVtZW50ZWQgYnkgdGhlIGZvbGxvd2luZyBjbGFzc2VzOlxuICogLSB7QGxpbmsgUElYSS5DaXJjbGV9XG4gKiAtIHtAbGluayBQSVhJLkVsbGlwc2V9XG4gKiAtIHtAbGluayBQSVhJLlBvbHlnb259XG4gKiAtIHtAbGluayBQSVhJLlJvdW5kZWRSZWN0YW5nbGV9XG4gKlxuICogQGludGVyZmFjZSBJSGl0QXJlYVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuXG4vKipcbiAqIENoZWNrcyB3aGV0aGVyIHRoZSB4IGFuZCB5IGNvb3JkaW5hdGVzIGdpdmVuIGFyZSBjb250YWluZWQgd2l0aGluIHRoaXMgYXJlYVxuICpcbiAqIEBtZXRob2RcbiAqIEBuYW1lIGNvbnRhaW5zXG4gKiBAbWVtYmVyb2YgUElYSS5JSGl0QXJlYSNcbiAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gVGhlIFggY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQgdG8gdGVzdFxuICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSB4L3kgY29vcmRpbmF0ZXMgYXJlIHdpdGhpbiB0aGlzIGFyZWFcbiAqL1xuXG4vKipcbiAqIERlZmF1bHQgcHJvcGVydHkgdmFsdWVzIG9mIGludGVyYWN0aXZlIG9iamVjdHNcbiAqIFVzZWQgYnkge0BsaW5rIFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyfSB0byBhdXRvbWF0aWNhbGx5IGdpdmUgYWxsIERpc3BsYXlPYmplY3RzIHRoZXNlIHByb3BlcnRpZXNcbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgaW50ZXJhY3RpdmVUYXJnZXRcbiAqIEB0eXBlIHtPYmplY3R9XG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGV4YW1wbGVcbiAqICAgICAgZnVuY3Rpb24gTXlPYmplY3QoKSB7fVxuICpcbiAqICAgICAgT2JqZWN0LmFzc2lnbihcbiAqICAgICAgICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLFxuICogICAgICAgICAgUElYSS5pbnRlcmFjdGl2ZVRhcmdldFxuICogICAgICApO1xuICovXG5leHBvcnQgY29uc3QgaW50ZXJhY3RpdmVUYXJnZXQ6IEludGVyYWN0aXZlVGFyZ2V0ID0ge1xuXG4gICAgLyoqXG4gICAgICogRW5hYmxlIGludGVyYWN0aW9uIGV2ZW50cyBmb3IgdGhlIERpc3BsYXlPYmplY3QuIFRvdWNoLCBwb2ludGVyIGFuZCBtb3VzZVxuICAgICAqIGV2ZW50cyB3aWxsIG5vdCBiZSBlbWl0dGVkIHVubGVzcyBgaW50ZXJhY3RpdmVgIGlzIHNldCB0byBgdHJ1ZWAuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IHNwcml0ZSA9IG5ldyBQSVhJLlNwcml0ZSh0ZXh0dXJlKTtcbiAgICAgKiBzcHJpdGUuaW50ZXJhY3RpdmUgPSB0cnVlO1xuICAgICAqIHNwcml0ZS5vbigndGFwJywgKGV2ZW50KSA9PiB7XG4gICAgICogICAgLy9oYW5kbGUgZXZlbnRcbiAgICAgKiB9KTtcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICovXG4gICAgaW50ZXJhY3RpdmU6IGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyBpZiB0aGUgY2hpbGRyZW4gdG8gdGhlIGRpc3BsYXlPYmplY3QgY2FuIGJlIGNsaWNrZWQvdG91Y2hlZFxuICAgICAqIFNldHRpbmcgdGhpcyB0byBmYWxzZSBhbGxvd3MgUGl4aUpTIHRvIGJ5cGFzcyBhIHJlY3Vyc2l2ZSBgaGl0VGVzdGAgZnVuY3Rpb25cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQG1lbWJlcm9mIFBJWEkuQ29udGFpbmVyI1xuICAgICAqL1xuICAgIGludGVyYWN0aXZlQ2hpbGRyZW46IHRydWUsXG5cbiAgICAvKipcbiAgICAgKiBJbnRlcmFjdGlvbiBzaGFwZS4gQ2hpbGRyZW4gd2lsbCBiZSBoaXQgZmlyc3QsIHRoZW4gdGhpcyBzaGFwZSB3aWxsIGJlIGNoZWNrZWQuXG4gICAgICogU2V0dGluZyB0aGlzIHdpbGwgY2F1c2UgdGhpcyBzaGFwZSB0byBiZSBjaGVja2VkIGluIGhpdCB0ZXN0cyByYXRoZXIgdGhhbiB0aGUgZGlzcGxheU9iamVjdCdzIGJvdW5kcy5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3Qgc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlKHRleHR1cmUpO1xuICAgICAqIHNwcml0ZS5pbnRlcmFjdGl2ZSA9IHRydWU7XG4gICAgICogc3ByaXRlLmhpdEFyZWEgPSBuZXcgUElYSS5SZWN0YW5nbGUoMCwgMCwgMTAwLCAxMDApO1xuICAgICAqIEBtZW1iZXIge1BJWEkuSUhpdEFyZWF9XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKi9cbiAgICBoaXRBcmVhOiBudWxsLFxuXG4gICAgLyoqXG4gICAgICogSWYgZW5hYmxlZCwgdGhlIG1vdXNlIGN1cnNvciB1c2UgdGhlIHBvaW50ZXIgYmVoYXZpb3Igd2hlbiBob3ZlcmVkIG92ZXIgdGhlIGRpc3BsYXlPYmplY3QgaWYgaXQgaXMgaW50ZXJhY3RpdmVcbiAgICAgKiBTZXR0aW5nIHRoaXMgY2hhbmdlcyB0aGUgJ2N1cnNvcicgcHJvcGVydHkgdG8gYCdwb2ludGVyJ2AuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IHNwcml0ZSA9IG5ldyBQSVhJLlNwcml0ZSh0ZXh0dXJlKTtcbiAgICAgKiBzcHJpdGUuaW50ZXJhY3RpdmUgPSB0cnVlO1xuICAgICAqIHNwcml0ZS5idXR0b25Nb2RlID0gdHJ1ZTtcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICovXG4gICAgZ2V0IGJ1dHRvbk1vZGUoKTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3Vyc29yID09PSAncG9pbnRlcic7XG4gICAgfSxcbiAgICBzZXQgYnV0dG9uTW9kZSh2YWx1ZTogYm9vbGVhbilcbiAgICB7XG4gICAgICAgIGlmICh2YWx1ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5jdXJzb3IgPSAncG9pbnRlcic7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5jdXJzb3IgPT09ICdwb2ludGVyJylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5jdXJzb3IgPSBudWxsO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFRoaXMgZGVmaW5lcyB3aGF0IGN1cnNvciBtb2RlIGlzIHVzZWQgd2hlbiB0aGUgbW91c2UgY3Vyc29yXG4gICAgICogaXMgaG92ZXJlZCBvdmVyIHRoZSBkaXNwbGF5T2JqZWN0LlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBzcHJpdGUgPSBuZXcgUElYSS5TcHJpdGUodGV4dHVyZSk7XG4gICAgICogc3ByaXRlLmludGVyYWN0aXZlID0gdHJ1ZTtcbiAgICAgKiBzcHJpdGUuY3Vyc29yID0gJ3dhaXQnO1xuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQ1NTL2N1cnNvclxuICAgICAqXG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICovXG4gICAgY3Vyc29yOiBudWxsLFxuXG4gICAgLyoqXG4gICAgICogSW50ZXJuYWwgc2V0IG9mIGFsbCBhY3RpdmUgcG9pbnRlcnMsIGJ5IGlkZW50aWZpZXJcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge01hcDxudW1iZXIsIEludGVyYWN0aW9uVHJhY2tpbmdEYXRhPn1cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgZ2V0IHRyYWNrZWRQb2ludGVycygpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fdHJhY2tlZFBvaW50ZXJzID09PSB1bmRlZmluZWQpIHRoaXMuX3RyYWNrZWRQb2ludGVycyA9IHt9O1xuXG4gICAgICAgIHJldHVybiB0aGlzLl90cmFja2VkUG9pbnRlcnM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE1hcCBvZiBhbGwgdHJhY2tlZCBwb2ludGVycywgYnkgaWRlbnRpZmllci4gVXNlIHRyYWNrZWRQb2ludGVycyB0byBhY2Nlc3MuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtNYXA8bnVtYmVyLCBJbnRlcmFjdGlvblRyYWNraW5nRGF0YT59XG4gICAgICovXG4gICAgX3RyYWNrZWRQb2ludGVyczogdW5kZWZpbmVkLFxufTtcbiIsImltcG9ydCB7IFRpY2tlciwgVVBEQVRFX1BSSU9SSVRZIH0gZnJvbSAnQHBpeGkvdGlja2VyJztcbmltcG9ydCB7IERpc3BsYXlPYmplY3QsIFRlbXBvcmFyeURpc3BsYXlPYmplY3QgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcbmltcG9ydCB7IEludGVyYWN0aW9uRGF0YSwgSW50ZXJhY3RpdmVQb2ludGVyRXZlbnQgfSBmcm9tICcuL0ludGVyYWN0aW9uRGF0YSc7XG5pbXBvcnQgeyBJbnRlcmFjdGlvbkV2ZW50LCBJbnRlcmFjdGlvbkNhbGxiYWNrIH0gZnJvbSAnLi9JbnRlcmFjdGlvbkV2ZW50JztcbmltcG9ydCB7IEludGVyYWN0aW9uVHJhY2tpbmdEYXRhIH0gZnJvbSAnLi9JbnRlcmFjdGlvblRyYWNraW5nRGF0YSc7XG5pbXBvcnQgeyBUcmVlU2VhcmNoIH0gZnJvbSAnLi9UcmVlU2VhcmNoJztcbmltcG9ydCB7IEV2ZW50RW1pdHRlciB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCB7IGludGVyYWN0aXZlVGFyZ2V0IH0gZnJvbSAnLi9pbnRlcmFjdGl2ZVRhcmdldCc7XG5cbmltcG9ydCB0eXBlIHsgQWJzdHJhY3RSZW5kZXJlciB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHR5cGUgeyBQb2ludCwgSVBvaW50RGF0YSB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IHR5cGUgeyBEaWN0IH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuXG4vLyBNaXggaW50ZXJhY3RpdmVUYXJnZXQgaW50byBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZSxcbi8vIGFmdGVyIGRlcHJlY2F0aW9uIGhhcyBiZWVuIGhhbmRsZWRcbkRpc3BsYXlPYmplY3QubWl4aW4oaW50ZXJhY3RpdmVUYXJnZXQpO1xuXG5jb25zdCBNT1VTRV9QT0lOVEVSX0lEID0gMTtcblxuLy8gTW9jayBpbnRlcmZhY2UgZm9yIGhpdFRlc3RFdmVudCAtIG9ubHkgdXNlZCBpbnNpZGUgaGl0VGVzdCgpXG5pbnRlcmZhY2UgVGVzdEludGVyYWN0aW9uRXZlbnRcbntcbiAgICB0YXJnZXQ6IERpc3BsYXlPYmplY3Q7XG4gICAgZGF0YToge2dsb2JhbDogUG9pbnR9O1xufVxuXG4vLyBoZWxwZXJzIGZvciBoaXRUZXN0KCkgLSBvbmx5IHVzZWQgaW5zaWRlIGhpdFRlc3QoKVxuY29uc3QgaGl0VGVzdEV2ZW50OiBUZXN0SW50ZXJhY3Rpb25FdmVudCA9IHtcbiAgICB0YXJnZXQ6IG51bGwsXG4gICAgZGF0YToge1xuICAgICAgICBnbG9iYWw6IG51bGwsXG4gICAgfSxcbn07XG5cbmV4cG9ydCBpbnRlcmZhY2UgSW50ZXJhY3Rpb25NYW5hZ2VyT3B0aW9ucyB7XG4gICAgYXV0b1ByZXZlbnREZWZhdWx0PzogYm9vbGVhbjtcbiAgICBpbnRlcmFjdGlvbkZyZXF1ZW5jeT86IG51bWJlcjtcbiAgICB1c2VTeXN0ZW1UaWNrZXI/OiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIERlbGF5ZWRFdmVudCB7XG4gICAgZGlzcGxheU9iamVjdDogRGlzcGxheU9iamVjdDtcbiAgICBldmVudFN0cmluZzogc3RyaW5nO1xuICAgIGV2ZW50RGF0YTogSW50ZXJhY3Rpb25FdmVudDtcbn1cblxuaW50ZXJmYWNlIENyb3NzQ1NTU3R5bGVEZWNsYXJhdGlvbiBleHRlbmRzIENTU1N0eWxlRGVjbGFyYXRpb25cbntcbiAgICBtc0NvbnRlbnRab29taW5nOiBzdHJpbmc7XG4gICAgbXNUb3VjaEFjdGlvbjogc3RyaW5nO1xufVxuXG4vKipcbiAqIFRoZSBpbnRlcmFjdGlvbiBtYW5hZ2VyIGRlYWxzIHdpdGggbW91c2UsIHRvdWNoIGFuZCBwb2ludGVyIGV2ZW50cy5cbiAqXG4gKiBBbnkgRGlzcGxheU9iamVjdCBjYW4gYmUgaW50ZXJhY3RpdmUgaWYgaXRzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgaXMgc2V0IHRvIHRydWUuXG4gKlxuICogVGhpcyBtYW5hZ2VyIGFsc28gc3VwcG9ydHMgbXVsdGl0b3VjaC5cbiAqXG4gKiBBbiBpbnN0YW5jZSBvZiB0aGlzIGNsYXNzIGlzIGF1dG9tYXRpY2FsbHkgY3JlYXRlZCBieSBkZWZhdWx0LCBhbmQgY2FuIGJlIGZvdW5kIGF0IGByZW5kZXJlci5wbHVnaW5zLmludGVyYWN0aW9uYFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS51dGlscy5FdmVudEVtaXR0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBjbGFzcyBJbnRlcmFjdGlvbk1hbmFnZXIgZXh0ZW5kcyBFdmVudEVtaXR0ZXJcbntcbiAgICBwdWJsaWMgcmVhZG9ubHkgYWN0aXZlSW50ZXJhY3Rpb25EYXRhOiB7IFtrZXk6IG51bWJlcl06IEludGVyYWN0aW9uRGF0YSB9O1xuICAgIHB1YmxpYyByZWFkb25seSBzdXBwb3J0c1RvdWNoRXZlbnRzOiBib29sZWFuO1xuICAgIHB1YmxpYyByZWFkb25seSBzdXBwb3J0c1BvaW50ZXJFdmVudHM6IGJvb2xlYW47XG4gICAgcHVibGljIGludGVyYWN0aW9uRGF0YVBvb2w6IEludGVyYWN0aW9uRGF0YVtdO1xuICAgIHB1YmxpYyBjdXJzb3I6IHN0cmluZztcbiAgICBwdWJsaWMgZGVsYXllZEV2ZW50czogRGVsYXllZEV2ZW50W107XG4gICAgcHVibGljIHNlYXJjaDogVHJlZVNlYXJjaDtcbiAgICBwdWJsaWMgcmVuZGVyZXI6IEFic3RyYWN0UmVuZGVyZXI7XG4gICAgcHVibGljIGF1dG9QcmV2ZW50RGVmYXVsdDogYm9vbGVhbjtcbiAgICBwdWJsaWMgaW50ZXJhY3Rpb25GcmVxdWVuY3k6IG51bWJlcjtcbiAgICBwdWJsaWMgbW91c2U6IEludGVyYWN0aW9uRGF0YTtcbiAgICBwdWJsaWMgZXZlbnREYXRhOiBJbnRlcmFjdGlvbkV2ZW50O1xuICAgIHB1YmxpYyBtb3ZlV2hlbkluc2lkZTogYm9vbGVhbjtcbiAgICBwdWJsaWMgY3Vyc29yU3R5bGVzOiBEaWN0PHN0cmluZyB8ICgobW9kZTogc3RyaW5nKSA9PiB2b2lkKSB8IENTU1N0eWxlRGVjbGFyYXRpb24+O1xuICAgIHB1YmxpYyBjdXJyZW50Q3Vyc29yTW9kZTogc3RyaW5nO1xuICAgIHB1YmxpYyByZXNvbHV0aW9uOiBudW1iZXI7XG5cbiAgICBwcm90ZWN0ZWQgaW50ZXJhY3Rpb25ET01FbGVtZW50OiBIVE1MRWxlbWVudDtcbiAgICBwcm90ZWN0ZWQgZXZlbnRzQWRkZWQ6IGJvb2xlYW47XG4gICAgcHJvdGVjdGVkIHRpY2tlckFkZGVkOiBib29sZWFuO1xuICAgIHByb3RlY3RlZCBtb3VzZU92ZXJSZW5kZXJlcjogYm9vbGVhbjtcblxuICAgIHByaXZhdGUgX3VzZVN5c3RlbVRpY2tlcjogYm9vbGVhbjtcbiAgICBwcml2YXRlIF9kZWx0YVRpbWU6IG51bWJlcjtcbiAgICBwcml2YXRlIF9kaWRNb3ZlOiBib29sZWFuO1xuICAgIHByaXZhdGUgX3RlbXBEaXNwbGF5T2JqZWN0OiBEaXNwbGF5T2JqZWN0O1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLkNhbnZhc1JlbmRlcmVyfFBJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gQSByZWZlcmVuY2UgdG8gdGhlIGN1cnJlbnQgcmVuZGVyZXJcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gVGhlIG9wdGlvbnMgZm9yIHRoZSBtYW5hZ2VyLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYXV0b1ByZXZlbnREZWZhdWx0PXRydWVdIC0gU2hvdWxkIHRoZSBtYW5hZ2VyIGF1dG9tYXRpY2FsbHkgcHJldmVudCBkZWZhdWx0IGJyb3dzZXIgYWN0aW9ucy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaW50ZXJhY3Rpb25GcmVxdWVuY3k9MTBdIC0gTWF4aW11bSByZXF1ZW5jeSAobXMpIGF0IHBvaW50ZXIgb3Zlci9vdXQgc3RhdGVzIHdpbGwgYmUgY2hlY2tlZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMudXNlU3lzdGVtVGlja2VyPXRydWVdIC0gV2hldGhlciB0byBhZGQge0BsaW5rIHRpY2tlclVwZGF0ZX0gdG8ge0BsaW5rIFBJWEkuVGlja2VyLnN5c3RlbX0uXG4gICAgICovXG4gICAgY29uc3RydWN0b3IocmVuZGVyZXI6IEFic3RyYWN0UmVuZGVyZXIsIG9wdGlvbnM6IEludGVyYWN0aW9uTWFuYWdlck9wdGlvbnMpXG4gICAge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVuZGVyZXIgdGhpcyBpbnRlcmFjdGlvbiBtYW5hZ2VyIHdvcmtzIGZvci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5BYnN0cmFjdFJlbmRlcmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTaG91bGQgZGVmYXVsdCBicm93c2VyIGFjdGlvbnMgYXV0b21hdGljYWxseSBiZSBwcmV2ZW50ZWQuXG4gICAgICAgICAqIERvZXMgbm90IGFwcGx5IHRvIHBvaW50ZXIgZXZlbnRzIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eVxuICAgICAgICAgKiBwcmV2ZW50RGVmYXVsdCBvbiBwb2ludGVyIGV2ZW50cyBzdG9wcyBtb3VzZSBldmVudHMgZnJvbSBmaXJpbmdcbiAgICAgICAgICogVGh1cywgZm9yIGV2ZXJ5IHBvaW50ZXIgZXZlbnQsIHRoZXJlIHdpbGwgYWx3YXlzIGJlIGVpdGhlciBhIG1vdXNlIG9mIHRvdWNoIGV2ZW50IGFsb25nc2lkZSBpdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hdXRvUHJldmVudERlZmF1bHQgPSBvcHRpb25zLmF1dG9QcmV2ZW50RGVmYXVsdCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5hdXRvUHJldmVudERlZmF1bHQgOiB0cnVlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYXhpbXVtIHJlcXVlbmN5IGluIG1pbGxpc2Vjb25kcyBhdCB3aGljaCBwb2ludGVyIG92ZXIvb3V0IHN0YXRlcyB3aWxsIGJlIGNoZWNrZWQgYnkge0BsaW5rIHRpY2tlclVwZGF0ZX0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMTBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaW50ZXJhY3Rpb25GcmVxdWVuY3kgPSBvcHRpb25zLmludGVyYWN0aW9uRnJlcXVlbmN5IHx8IDEwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbW91c2UgZGF0YVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkludGVyYWN0aW9uRGF0YX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubW91c2UgPSBuZXcgSW50ZXJhY3Rpb25EYXRhKCk7XG4gICAgICAgIHRoaXMubW91c2UuaWRlbnRpZmllciA9IE1PVVNFX1BPSU5URVJfSUQ7XG5cbiAgICAgICAgLy8gc2V0dGluZyB0aGUgbW91c2UgdG8gc3RhcnQgb2ZmIGZhciBvZmYgc2NyZWVuIHdpbGwgbWVhbiB0aGF0IG1vdXNlIG92ZXIgZG9lc1xuICAgICAgICAvLyAgbm90IGdldCBjYWxsZWQgYmVmb3JlIHdlIGV2ZW4gbW92ZSB0aGUgbW91c2UuXG4gICAgICAgIHRoaXMubW91c2UuZ2xvYmFsLnNldCgtOTk5OTk5KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQWN0aXZlbHkgdHJhY2tlZCBJbnRlcmFjdGlvbkRhdGFcbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7T2JqZWN0LjxudW1iZXIsUElYSS5JbnRlcmFjdGlvbkRhdGE+fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hY3RpdmVJbnRlcmFjdGlvbkRhdGEgPSB7fTtcbiAgICAgICAgdGhpcy5hY3RpdmVJbnRlcmFjdGlvbkRhdGFbTU9VU0VfUE9JTlRFUl9JRF0gPSB0aGlzLm1vdXNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQb29sIG9mIHVudXNlZCBJbnRlcmFjdGlvbkRhdGFcbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5JbnRlcmFjdGlvbkRhdGFbXX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaW50ZXJhY3Rpb25EYXRhUG9vbCA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbiBldmVudCBkYXRhIG9iamVjdCB0byBoYW5kbGUgYWxsIHRoZSBldmVudCB0cmFja2luZy9kaXNwYXRjaGluZ1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmV2ZW50RGF0YSA9IG5ldyBJbnRlcmFjdGlvbkV2ZW50KCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBET00gZWxlbWVudCB0byBiaW5kIHRvLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge0hUTUxFbGVtZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIHByb3BlcnR5IGRldGVybWluZXMgaWYgbW91c2Vtb3ZlIGFuZCB0b3VjaG1vdmUgZXZlbnRzIGFyZSBmaXJlZCBvbmx5IHdoZW4gdGhlIGN1cnNvclxuICAgICAgICAgKiBpcyBvdmVyIHRoZSBvYmplY3QuXG4gICAgICAgICAqIFNldHRpbmcgdG8gdHJ1ZSB3aWxsIG1ha2UgdGhpbmdzIHdvcmsgbW9yZSBpbiBsaW5lIHdpdGggaG93IHRoZSBET00gdmVyc2lvbiB3b3Jrcy5cbiAgICAgICAgICogU2V0dGluZyB0byBmYWxzZSBjYW4gbWFrZSB0aGluZ3MgZWFzaWVyIGZvciB0aGluZ3MgbGlrZSBkcmFnZ2luZ1xuICAgICAgICAgKiBJdCBpcyBjdXJyZW50bHkgc2V0IHRvIGZhbHNlIGFzIHRoaXMgaXMgaG93IFBpeGlKUyB1c2VkIHRvIHdvcmsuIFRoaXMgd2lsbCBiZSBzZXQgdG8gdHJ1ZSBpblxuICAgICAgICAgKiBmdXR1cmUgdmVyc2lvbnMgb2YgcGl4aS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubW92ZVdoZW5JbnNpZGUgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSGF2ZSBldmVudHMgYmVlbiBhdHRhY2hlZCB0byB0aGUgZG9tIGVsZW1lbnQ/XG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZXZlbnRzQWRkZWQgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSGFzIHRoZSBzeXN0ZW0gdGlja2VyIGJlZW4gYWRkZWQ/XG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGlja2VyQWRkZWQgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSXMgdGhlIG1vdXNlIGhvdmVyaW5nIG92ZXIgdGhlIHJlbmRlcmVyP1xuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1vdXNlT3ZlclJlbmRlcmVyID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERvZXMgdGhlIGRldmljZSBzdXBwb3J0IHRvdWNoIGV2ZW50c1xuICAgICAgICAgKiBodHRwczovL3d3dy53My5vcmcvVFIvdG91Y2gtZXZlbnRzL1xuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3VwcG9ydHNUb3VjaEV2ZW50cyA9ICdvbnRvdWNoc3RhcnQnIGluIHdpbmRvdztcblxuICAgICAgICAvKipcbiAgICAgICAgICogRG9lcyB0aGUgZGV2aWNlIHN1cHBvcnQgcG9pbnRlciBldmVudHNcbiAgICAgICAgICogaHR0cHM6Ly93d3cudzMub3JnL1N1Ym1pc3Npb24vcG9pbnRlci1ldmVudHMvXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdXBwb3J0c1BvaW50ZXJFdmVudHMgPSAhIXdpbmRvdy5Qb2ludGVyRXZlbnQ7XG5cbiAgICAgICAgLy8gdGhpcyB3aWxsIG1ha2UgaXQgc28gdGhhdCB5b3UgZG9uJ3QgaGF2ZSB0byBjYWxsIGJpbmQgYWxsIHRoZSB0aW1lXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vblBvaW50ZXJVcCA9IHRoaXMub25Qb2ludGVyVXAuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5wcm9jZXNzUG9pbnRlclVwID0gdGhpcy5wcm9jZXNzUG9pbnRlclVwLmJpbmQodGhpcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vblBvaW50ZXJDYW5jZWwgPSB0aGlzLm9uUG9pbnRlckNhbmNlbC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnByb2Nlc3NQb2ludGVyQ2FuY2VsID0gdGhpcy5wcm9jZXNzUG9pbnRlckNhbmNlbC5iaW5kKHRoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25Qb2ludGVyRG93biA9IHRoaXMub25Qb2ludGVyRG93bi5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnByb2Nlc3NQb2ludGVyRG93biA9IHRoaXMucHJvY2Vzc1BvaW50ZXJEb3duLmJpbmQodGhpcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vblBvaW50ZXJNb3ZlID0gdGhpcy5vblBvaW50ZXJNb3ZlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMucHJvY2Vzc1BvaW50ZXJNb3ZlID0gdGhpcy5wcm9jZXNzUG9pbnRlck1vdmUuYmluZCh0aGlzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uUG9pbnRlck91dCA9IHRoaXMub25Qb2ludGVyT3V0LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMucHJvY2Vzc1BvaW50ZXJPdmVyT3V0ID0gdGhpcy5wcm9jZXNzUG9pbnRlck92ZXJPdXQuYmluZCh0aGlzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uUG9pbnRlck92ZXIgPSB0aGlzLm9uUG9pbnRlck92ZXIuYmluZCh0aGlzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGljdGlvbmFyeSBvZiBob3cgZGlmZmVyZW50IGN1cnNvciBtb2RlcyBhcmUgaGFuZGxlZC4gU3RyaW5ncyBhcmUgaGFuZGxlZCBhcyBDU1MgY3Vyc29yXG4gICAgICAgICAqIHZhbHVlcywgb2JqZWN0cyBhcmUgaGFuZGxlZCBhcyBkaWN0aW9uYXJpZXMgb2YgQ1NTIHZhbHVlcyBmb3IgaW50ZXJhY3Rpb25ET01FbGVtZW50LFxuICAgICAgICAgKiBhbmQgZnVuY3Rpb25zIGFyZSBjYWxsZWQgaW5zdGVhZCBvZiBjaGFuZ2luZyB0aGUgQ1NTLlxuICAgICAgICAgKiBEZWZhdWx0IENTUyBjdXJzb3IgdmFsdWVzIGFyZSBwcm92aWRlZCBmb3IgJ2RlZmF1bHQnIGFuZCAncG9pbnRlcicgbW9kZXMuXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdC48c3RyaW5nLCBPYmplY3Q+fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jdXJzb3JTdHlsZXMgPSB7XG4gICAgICAgICAgICBkZWZhdWx0OiAnaW5oZXJpdCcsXG4gICAgICAgICAgICBwb2ludGVyOiAncG9pbnRlcicsXG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtb2RlIG9mIHRoZSBjdXJzb3IgdGhhdCBpcyBiZWluZyB1c2VkLlxuICAgICAgICAgKiBUaGUgdmFsdWUgb2YgdGhpcyBpcyBhIGtleSBmcm9tIHRoZSBjdXJzb3JTdHlsZXMgZGljdGlvbmFyeS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jdXJyZW50Q3Vyc29yTW9kZSA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVybmFsIGNhY2hlZCBsZXQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY3Vyc29yID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGN1cnJlbnQgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpby5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlc29sdXRpb24gPSAxO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZWxheWVkIHBvaW50ZXIgZXZlbnRzLiBVc2VkIHRvIGd1YXJhbnRlZSBjb3JyZWN0IG9yZGVyaW5nIG9mIG92ZXIvb3V0IGV2ZW50cy5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7QXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRlbGF5ZWRFdmVudHMgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVHJlZVNlYXJjaCBjb21wb25lbnQgdGhhdCBpcyB1c2VkIHRvIGhpdFRlc3Qgc3RhZ2UgdHJlZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRyZWVTZWFyY2h9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNlYXJjaCA9IG5ldyBUcmVlU2VhcmNoKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZWQgYXMgYSBsYXN0IHJlbmRlcmVkIG9iamVjdCBpbiBjYXNlIHJlbmRlcmVyIGRvZXNudCBoYXZlIF9sYXN0T2JqZWN0UmVuZGVyZWRcbiAgICAgICAgICogQG1lbWJlciB7RGlzcGxheU9iamVjdH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3RlbXBEaXNwbGF5T2JqZWN0ID0gbmV3IFRlbXBvcmFyeURpc3BsYXlPYmplY3QoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIGxlZnQtYnV0dG9uKSBpcyBwcmVzc2VkIG9uIHRoZSBkaXNwbGF5XG4gICAgICAgICAqIG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI21vdXNlZG93blxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIHNlY29uZGFyeSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSByaWdodC1idXR0b24pIGlzIHByZXNzZWRcbiAgICAgICAgICogb24gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjcmlnaHRkb3duXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgbGVmdC1idXR0b24pIGlzIHJlbGVhc2VkIG92ZXIgdGhlIGRpc3BsYXlcbiAgICAgICAgICogb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjbW91c2V1cFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIHNlY29uZGFyeSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSByaWdodC1idXR0b24pIGlzIHJlbGVhc2VkXG4gICAgICAgICAqIG92ZXIgdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjcmlnaHR1cFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIGxlZnQtYnV0dG9uKSBpcyBwcmVzc2VkIGFuZCByZWxlYXNlZCBvblxuICAgICAgICAgKiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkludGVyYWN0aW9uTWFuYWdlciNjbGlja1xuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIHNlY29uZGFyeSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSByaWdodC1idXR0b24pIGlzIHByZXNzZWRcbiAgICAgICAgICogYW5kIHJlbGVhc2VkIG9uIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI3JpZ2h0Y2xpY2tcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSBsZWZ0LWJ1dHRvbikgaXMgcmVsZWFzZWQgb3V0c2lkZSB0aGVcbiAgICAgICAgICogZGlzcGxheSBvYmplY3QgdGhhdCBpbml0aWFsbHkgcmVnaXN0ZXJlZCBhXG4gICAgICAgICAqIFttb3VzZWRvd25de0BsaW5rIFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI2V2ZW50Om1vdXNlZG93bn0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkludGVyYWN0aW9uTWFuYWdlciNtb3VzZXVwb3V0c2lkZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIHNlY29uZGFyeSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSByaWdodC1idXR0b24pIGlzIHJlbGVhc2VkXG4gICAgICAgICAqIG91dHNpZGUgdGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgaW5pdGlhbGx5IHJlZ2lzdGVyZWQgYVxuICAgICAgICAgKiBbcmlnaHRkb3duXXtAbGluayBQSVhJLkludGVyYWN0aW9uTWFuYWdlciNldmVudDpyaWdodGRvd259LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjcmlnaHR1cG91dHNpZGVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSAodXN1YWxseSBhIG1vdXNlKSBpcyBtb3ZlZCB3aGlsZSBvdmVyIHRoZSBkaXNwbGF5IG9iamVjdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjbW91c2Vtb3ZlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgKHVzdWFsbHkgYSBtb3VzZSkgaXMgbW92ZWQgb250byB0aGUgZGlzcGxheSBvYmplY3RcbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI21vdXNlb3ZlclxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlICh1c3VhbGx5IGEgbW91c2UpIGlzIG1vdmVkIG9mZiB0aGUgZGlzcGxheSBvYmplY3RcbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI21vdXNlb3V0XG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uIGlzIHByZXNzZWQgb24gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjcG9pbnRlcmRvd25cbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gaXMgcmVsZWFzZWQgb3ZlciB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIE5vdCBhbHdheXMgZmlyZWQgd2hlbiBzb21lIGJ1dHRvbnMgYXJlIGhlbGQgZG93biB3aGlsZSBvdGhlcnMgYXJlIHJlbGVhc2VkLiBJbiB0aG9zZSBjYXNlcyxcbiAgICAgICAgICogdXNlIFttb3VzZWRvd25de0BsaW5rIFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI2V2ZW50Om1vdXNlZG93bn0gYW5kXG4gICAgICAgICAqIFttb3VzZXVwXXtAbGluayBQSVhJLkludGVyYWN0aW9uTWFuYWdlciNldmVudDptb3VzZXVwfSBpbnN0ZWFkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjcG9pbnRlcnVwXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIHRoZSBvcGVyYXRpbmcgc3lzdGVtIGNhbmNlbHMgYSBwb2ludGVyIGV2ZW50XG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkludGVyYWN0aW9uTWFuYWdlciNwb2ludGVyY2FuY2VsXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uIGlzIHByZXNzZWQgYW5kIHJlbGVhc2VkIG9uIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI3BvaW50ZXJ0YXBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gaXMgcmVsZWFzZWQgb3V0c2lkZSB0aGUgZGlzcGxheSBvYmplY3QgdGhhdCBpbml0aWFsbHlcbiAgICAgICAgICogcmVnaXN0ZXJlZCBhIFtwb2ludGVyZG93bl17QGxpbmsgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjZXZlbnQ6cG9pbnRlcmRvd259LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjcG9pbnRlcnVwb3V0c2lkZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGlzIG1vdmVkIHdoaWxlIG92ZXIgdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkludGVyYWN0aW9uTWFuYWdlciNwb2ludGVybW92ZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGlzIG1vdmVkIG9udG8gdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkludGVyYWN0aW9uTWFuYWdlciNwb2ludGVyb3ZlclxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGlzIG1vdmVkIG9mZiB0aGUgZGlzcGxheSBvYmplY3RcbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI3BvaW50ZXJvdXRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSB0b3VjaCBwb2ludCBpcyBwbGFjZWQgb24gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjdG91Y2hzdGFydFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHRvdWNoIHBvaW50IGlzIHJlbW92ZWQgZnJvbSB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkludGVyYWN0aW9uTWFuYWdlciN0b3VjaGVuZFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiB0aGUgb3BlcmF0aW5nIHN5c3RlbSBjYW5jZWxzIGEgdG91Y2hcbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI3RvdWNoY2FuY2VsXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgcGxhY2VkIGFuZCByZW1vdmVkIGZyb20gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjdGFwXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgcmVtb3ZlZCBvdXRzaWRlIG9mIHRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IGluaXRpYWxseVxuICAgICAgICAgKiByZWdpc3RlcmVkIGEgW3RvdWNoc3RhcnRde0BsaW5rIFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI2V2ZW50OnRvdWNoc3RhcnR9LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjdG91Y2hlbmRvdXRzaWRlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgbW92ZWQgYWxvbmcgdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjdG91Y2htb3ZlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgbGVmdC1idXR0b24pIGlzIHByZXNzZWQgb24gdGhlIGRpc3BsYXkuXG4gICAgICAgICAqIG9iamVjdC4gRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjbW91c2Vkb3duXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2Ugc2Vjb25kYXJ5IGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIHJpZ2h0LWJ1dHRvbikgaXMgcHJlc3NlZFxuICAgICAgICAgKiBvbiB0aGUgZGlzcGxheSBvYmplY3QuIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3JpZ2h0ZG93blxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIGxlZnQtYnV0dG9uKSBpcyByZWxlYXNlZCBvdmVyIHRoZSBkaXNwbGF5XG4gICAgICAgICAqIG9iamVjdC4gRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjbW91c2V1cFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIHNlY29uZGFyeSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSByaWdodC1idXR0b24pIGlzIHJlbGVhc2VkXG4gICAgICAgICAqIG92ZXIgdGhlIGRpc3BsYXkgb2JqZWN0LiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNyaWdodHVwXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgbGVmdC1idXR0b24pIGlzIHByZXNzZWQgYW5kIHJlbGVhc2VkIG9uXG4gICAgICAgICAqIHRoZSBkaXNwbGF5IG9iamVjdC4gRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjY2xpY2tcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBzZWNvbmRhcnkgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgcmlnaHQtYnV0dG9uKSBpcyBwcmVzc2VkXG4gICAgICAgICAqIGFuZCByZWxlYXNlZCBvbiB0aGUgZGlzcGxheSBvYmplY3QuIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3JpZ2h0Y2xpY2tcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSBsZWZ0LWJ1dHRvbikgaXMgcmVsZWFzZWQgb3V0c2lkZSB0aGVcbiAgICAgICAgICogZGlzcGxheSBvYmplY3QgdGhhdCBpbml0aWFsbHkgcmVnaXN0ZXJlZCBhXG4gICAgICAgICAqIFttb3VzZWRvd25de0BsaW5rIFBJWEkuRGlzcGxheU9iamVjdCNldmVudDptb3VzZWRvd259LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNtb3VzZXVwb3V0c2lkZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIHNlY29uZGFyeSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSByaWdodC1idXR0b24pIGlzIHJlbGVhc2VkXG4gICAgICAgICAqIG91dHNpZGUgdGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgaW5pdGlhbGx5IHJlZ2lzdGVyZWQgYVxuICAgICAgICAgKiBbcmlnaHRkb3duXXtAbGluayBQSVhJLkRpc3BsYXlPYmplY3QjZXZlbnQ6cmlnaHRkb3dufS5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcmlnaHR1cG91dHNpZGVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSAodXN1YWxseSBhIG1vdXNlKSBpcyBtb3ZlZCB3aGlsZSBvdmVyIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjbW91c2Vtb3ZlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgKHVzdWFsbHkgYSBtb3VzZSkgaXMgbW92ZWQgb250byB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I21vdXNlb3ZlclxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlICh1c3VhbGx5IGEgbW91c2UpIGlzIG1vdmVkIG9mZiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I21vdXNlb3V0XG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uIGlzIHByZXNzZWQgb24gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNwb2ludGVyZG93blxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiBpcyByZWxlYXNlZCBvdmVyIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcG9pbnRlcnVwXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIHRoZSBvcGVyYXRpbmcgc3lzdGVtIGNhbmNlbHMgYSBwb2ludGVyIGV2ZW50LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNwb2ludGVyY2FuY2VsXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uIGlzIHByZXNzZWQgYW5kIHJlbGVhc2VkIG9uIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcG9pbnRlcnRhcFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiBpcyByZWxlYXNlZCBvdXRzaWRlIHRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IGluaXRpYWxseVxuICAgICAgICAgKiByZWdpc3RlcmVkIGEgW3BvaW50ZXJkb3duXXtAbGluayBQSVhJLkRpc3BsYXlPYmplY3QjZXZlbnQ6cG9pbnRlcmRvd259LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNwb2ludGVydXBvdXRzaWRlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgaXMgbW92ZWQgd2hpbGUgb3ZlciB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3BvaW50ZXJtb3ZlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgaXMgbW92ZWQgb250byB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3BvaW50ZXJvdmVyXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgaXMgbW92ZWQgb2ZmIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcG9pbnRlcm91dFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHRvdWNoIHBvaW50IGlzIHBsYWNlZCBvbiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3RvdWNoc3RhcnRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSB0b3VjaCBwb2ludCBpcyByZW1vdmVkIGZyb20gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCN0b3VjaGVuZFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiB0aGUgb3BlcmF0aW5nIHN5c3RlbSBjYW5jZWxzIGEgdG91Y2guXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3RvdWNoY2FuY2VsXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgcGxhY2VkIGFuZCByZW1vdmVkIGZyb20gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCN0YXBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSB0b3VjaCBwb2ludCBpcyByZW1vdmVkIG91dHNpZGUgb2YgdGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgaW5pdGlhbGx5XG4gICAgICAgICAqIHJlZ2lzdGVyZWQgYSBbdG91Y2hzdGFydF17QGxpbmsgUElYSS5EaXNwbGF5T2JqZWN0I2V2ZW50OnRvdWNoc3RhcnR9LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCN0b3VjaGVuZG91dHNpZGVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSB0b3VjaCBwb2ludCBpcyBtb3ZlZCBhbG9uZyB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3RvdWNobW92ZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICB0aGlzLl91c2VTeXN0ZW1UaWNrZXIgPSBvcHRpb25zLnVzZVN5c3RlbVRpY2tlciAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy51c2VTeXN0ZW1UaWNrZXIgOiB0cnVlO1xuXG4gICAgICAgIHRoaXMuc2V0VGFyZ2V0RWxlbWVudCh0aGlzLnJlbmRlcmVyLnZpZXcsIHRoaXMucmVuZGVyZXIucmVzb2x1dGlvbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2hvdWxkIHRoZSBJbnRlcmFjdGlvbk1hbmFnZXIgYXV0b21hdGljYWxseSBhZGQge0BsaW5rIHRpY2tlclVwZGF0ZX0gdG8ge0BsaW5rIFBJWEkuVGlja2VyLnN5c3RlbX0uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgKi9cbiAgICBnZXQgdXNlU3lzdGVtVGlja2VyKCk6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl91c2VTeXN0ZW1UaWNrZXI7XG4gICAgfVxuICAgIHNldCB1c2VTeXN0ZW1UaWNrZXIodXNlU3lzdGVtVGlja2VyOiBib29sZWFuKVxuICAgIHtcbiAgICAgICAgdGhpcy5fdXNlU3lzdGVtVGlja2VyID0gdXNlU3lzdGVtVGlja2VyO1xuXG4gICAgICAgIGlmICh1c2VTeXN0ZW1UaWNrZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuYWRkVGlja2VyTGlzdGVuZXIoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlVGlja2VyTGlzdGVuZXIoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExhc3QgcmVuZGVyZWQgb2JqZWN0IG9yIHRlbXAgb2JqZWN0XG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBtZW1iZXIge1BJWEkuRGlzcGxheU9iamVjdH1cbiAgICAgKi9cbiAgICBnZXQgbGFzdE9iamVjdFJlbmRlcmVkKCk6IERpc3BsYXlPYmplY3RcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyLl9sYXN0T2JqZWN0UmVuZGVyZWQgfHwgdGhpcy5fdGVtcERpc3BsYXlPYmplY3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSGl0IHRlc3RzIGEgcG9pbnQgYWdhaW5zdCB0aGUgZGlzcGxheSB0cmVlLCByZXR1cm5pbmcgdGhlIGZpcnN0IGludGVyYWN0aXZlIG9iamVjdCB0aGF0IGlzIGhpdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gZ2xvYmFsUG9pbnQgLSBBIHBvaW50IHRvIGhpdCB0ZXN0IHdpdGgsIGluIGdsb2JhbCBzcGFjZS5cbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfSBbcm9vdF0gLSBUaGUgcm9vdCBkaXNwbGF5IG9iamVjdCB0byBzdGFydCBmcm9tLiBJZiBvbWl0dGVkLCBkZWZhdWx0c1xuICAgICAqIHRvIHRoZSBsYXN0IHJlbmRlcmVkIHJvb3Qgb2YgdGhlIGFzc29jaWF0ZWQgcmVuZGVyZXIuXG4gICAgICogQHJldHVybiB7UElYSS5EaXNwbGF5T2JqZWN0fSBUaGUgaGl0IGRpc3BsYXkgb2JqZWN0LCBpZiBhbnkuXG4gICAgICovXG4gICAgcHVibGljIGhpdFRlc3QoZ2xvYmFsUG9pbnQ6IFBvaW50LCByb290PzogRGlzcGxheU9iamVjdCk6IERpc3BsYXlPYmplY3RcbiAgICB7XG4gICAgICAgIC8vIGNsZWFyIHRoZSB0YXJnZXQgZm9yIG91ciBoaXQgdGVzdFxuICAgICAgICBoaXRUZXN0RXZlbnQudGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgLy8gYXNzaWduIHRoZSBnbG9iYWwgcG9pbnRcbiAgICAgICAgaGl0VGVzdEV2ZW50LmRhdGEuZ2xvYmFsID0gZ2xvYmFsUG9pbnQ7XG4gICAgICAgIC8vIGVuc3VyZSBzYWZldHkgb2YgdGhlIHJvb3RcbiAgICAgICAgaWYgKCFyb290KVxuICAgICAgICB7XG4gICAgICAgICAgICByb290ID0gdGhpcy5sYXN0T2JqZWN0UmVuZGVyZWQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcnVuIHRoZSBoaXQgdGVzdFxuICAgICAgICB0aGlzLnByb2Nlc3NJbnRlcmFjdGl2ZShoaXRUZXN0RXZlbnQgYXMgSW50ZXJhY3Rpb25FdmVudCwgcm9vdCwgbnVsbCwgdHJ1ZSk7XG4gICAgICAgIC8vIHJldHVybiBvdXIgZm91bmQgb2JqZWN0IC0gaXQnbGwgYmUgbnVsbCBpZiB3ZSBkaWRuJ3QgaGl0IGFueXRoaW5nXG5cbiAgICAgICAgcmV0dXJuIGhpdFRlc3RFdmVudC50YXJnZXQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgRE9NIGVsZW1lbnQgd2hpY2ggd2lsbCByZWNlaXZlIG1vdXNlL3RvdWNoIGV2ZW50cy4gVGhpcyBpcyB1c2VmdWwgZm9yIHdoZW4geW91IGhhdmVcbiAgICAgKiBvdGhlciBET00gZWxlbWVudHMgb24gdG9wIG9mIHRoZSByZW5kZXJlcnMgQ2FudmFzIGVsZW1lbnQuIFdpdGggdGhpcyB5b3UnbGwgYmUgYmFsZSB0byBkZWxlZ2F0ZVxuICAgICAqIGFub3RoZXIgRE9NIGVsZW1lbnQgdG8gcmVjZWl2ZSB0aG9zZSBldmVudHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IC0gdGhlIERPTSBlbGVtZW50IHdoaWNoIHdpbGwgcmVjZWl2ZSBtb3VzZSBhbmQgdG91Y2ggZXZlbnRzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmVzb2x1dGlvbj0xXSAtIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSBuZXcgZWxlbWVudCAocmVsYXRpdmUgdG8gdGhlIGNhbnZhcykuXG4gICAgICovXG4gICAgcHVibGljIHNldFRhcmdldEVsZW1lbnQoZWxlbWVudDogSFRNTEVsZW1lbnQsIHJlc29sdXRpb24gPSAxKTogdm9pZFxuICAgIHtcbiAgICAgICAgdGhpcy5yZW1vdmVUaWNrZXJMaXN0ZW5lcigpO1xuXG4gICAgICAgIHRoaXMucmVtb3ZlRXZlbnRzKCk7XG5cbiAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQgPSBlbGVtZW50O1xuXG4gICAgICAgIHRoaXMucmVzb2x1dGlvbiA9IHJlc29sdXRpb247XG5cbiAgICAgICAgdGhpcy5hZGRFdmVudHMoKTtcblxuICAgICAgICB0aGlzLmFkZFRpY2tlckxpc3RlbmVyKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkIHRoZSB0aWNrZXIgbGlzdGVuZXJcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgcHJpdmF0ZSBhZGRUaWNrZXJMaXN0ZW5lcigpOiB2b2lkXG4gICAge1xuICAgICAgICBpZiAodGhpcy50aWNrZXJBZGRlZCB8fCAhdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQgfHwgIXRoaXMuX3VzZVN5c3RlbVRpY2tlcilcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgVGlja2VyLnN5c3RlbS5hZGQodGhpcy50aWNrZXJVcGRhdGUsIHRoaXMsIFVQREFURV9QUklPUklUWS5JTlRFUkFDVElPTik7XG5cbiAgICAgICAgdGhpcy50aWNrZXJBZGRlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIHRoZSB0aWNrZXIgbGlzdGVuZXJcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgcHJpdmF0ZSByZW1vdmVUaWNrZXJMaXN0ZW5lcigpOiB2b2lkXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMudGlja2VyQWRkZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIFRpY2tlci5zeXN0ZW0ucmVtb3ZlKHRoaXMudGlja2VyVXBkYXRlLCB0aGlzKTtcblxuICAgICAgICB0aGlzLnRpY2tlckFkZGVkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXJzIGFsbCB0aGUgRE9NIGV2ZW50c1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBwcml2YXRlIGFkZEV2ZW50cygpOiB2b2lkXG4gICAge1xuICAgICAgICBpZiAodGhpcy5ldmVudHNBZGRlZCB8fCAhdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHN0eWxlID0gdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuc3R5bGUgYXMgQ3Jvc3NDU1NTdHlsZURlY2xhcmF0aW9uO1xuXG4gICAgICAgIGlmICh3aW5kb3cubmF2aWdhdG9yLm1zUG9pbnRlckVuYWJsZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHN0eWxlLm1zQ29udGVudFpvb21pbmcgPSAnbm9uZSc7XG4gICAgICAgICAgICBzdHlsZS5tc1RvdWNoQWN0aW9uID0gJ25vbmUnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuc3VwcG9ydHNQb2ludGVyRXZlbnRzKVxuICAgICAgICB7XG4gICAgICAgICAgICBzdHlsZS50b3VjaEFjdGlvbiA9ICdub25lJztcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGVzZSBldmVudHMgYXJlIGFkZGVkIGZpcnN0LCBzbyB0aGF0IGlmIHBvaW50ZXIgZXZlbnRzIGFyZSBub3JtYWxpemVkLCB0aGV5IGFyZSBmaXJlZFxuICAgICAgICAgKiBpbiB0aGUgc2FtZSBvcmRlciBhcyBub24tbm9ybWFsaXplZCBldmVudHMuIGllLiBwb2ludGVyIGV2ZW50IDFzdCwgbW91c2UgLyB0b3VjaCAybmRcbiAgICAgICAgICovXG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzUG9pbnRlckV2ZW50cylcbiAgICAgICAge1xuICAgICAgICAgICAgd2luZG93LmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJtb3ZlJywgdGhpcy5vblBvaW50ZXJNb3ZlLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJkb3duJywgdGhpcy5vblBvaW50ZXJEb3duLCB0cnVlKTtcbiAgICAgICAgICAgIC8vIHBvaW50ZXJvdXQgaXMgZmlyZWQgaW4gYWRkaXRpb24gdG8gcG9pbnRlcnVwIChmb3IgdG91Y2ggZXZlbnRzKSBhbmQgcG9pbnRlcmNhbmNlbFxuICAgICAgICAgICAgLy8gd2UgYWxyZWFkeSBoYW5kbGUgdGhvc2UsIHNvIGZvciB0aGUgcHVycG9zZXMgb2Ygd2hhdCB3ZSBkbyBpbiBvblBvaW50ZXJPdXQsIHdlIG9ubHlcbiAgICAgICAgICAgIC8vIGNhcmUgYWJvdXQgdGhlIHBvaW50ZXJsZWF2ZSBldmVudFxuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmxlYXZlJywgdGhpcy5vblBvaW50ZXJPdXQsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcm92ZXInLCB0aGlzLm9uUG9pbnRlck92ZXIsIHRydWUpO1xuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJjYW5jZWwnLCB0aGlzLm9uUG9pbnRlckNhbmNlbCwgdHJ1ZSk7XG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcnVwJywgdGhpcy5vblBvaW50ZXJVcCwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB3aW5kb3cuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5vblBvaW50ZXJNb3ZlLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMub25Qb2ludGVyRG93biwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsIHRoaXMub25Qb2ludGVyT3V0LCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIHRoaXMub25Qb2ludGVyT3ZlciwgdHJ1ZSk7XG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMub25Qb2ludGVyVXAsIHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYWx3YXlzIGxvb2sgZGlyZWN0bHkgZm9yIHRvdWNoIGV2ZW50cyBzbyB0aGF0IHdlIGNhbiBwcm92aWRlIG9yaWdpbmFsIGRhdGFcbiAgICAgICAgLy8gSW4gYSBmdXR1cmUgdmVyc2lvbiB3ZSBzaG91bGQgY2hhbmdlIHRoaXMgdG8gYmVpbmcganVzdCBhIGZhbGxiYWNrIGFuZCByZWx5IHNvbGVseSBvblxuICAgICAgICAvLyBQb2ludGVyRXZlbnRzIHdoZW5ldmVyIGF2YWlsYWJsZVxuICAgICAgICBpZiAodGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcy5vblBvaW50ZXJEb3duLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoY2FuY2VsJywgdGhpcy5vblBvaW50ZXJDYW5jZWwsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLm9uUG9pbnRlclVwLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMub25Qb2ludGVyTW92ZSwgdHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmV2ZW50c0FkZGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCB0aGUgRE9NIGV2ZW50cyB0aGF0IHdlcmUgcHJldmlvdXNseSByZWdpc3RlcmVkXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHByaXZhdGUgcmVtb3ZlRXZlbnRzKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5ldmVudHNBZGRlZCB8fCAhdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHN0eWxlID0gdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuc3R5bGUgYXMgQ3Jvc3NDU1NTdHlsZURlY2xhcmF0aW9uO1xuXG4gICAgICAgIGlmICh3aW5kb3cubmF2aWdhdG9yLm1zUG9pbnRlckVuYWJsZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHN0eWxlLm1zQ29udGVudFpvb21pbmcgPSAnJztcbiAgICAgICAgICAgIHN0eWxlLm1zVG91Y2hBY3Rpb24gPSAnJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLnN1cHBvcnRzUG9pbnRlckV2ZW50cylcbiAgICAgICAge1xuICAgICAgICAgICAgc3R5bGUudG91Y2hBY3Rpb24gPSAnJztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzUG9pbnRlckV2ZW50cylcbiAgICAgICAge1xuICAgICAgICAgICAgd2luZG93LmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJtb3ZlJywgdGhpcy5vblBvaW50ZXJNb3ZlLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJkb3duJywgdGhpcy5vblBvaW50ZXJEb3duLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJsZWF2ZScsIHRoaXMub25Qb2ludGVyT3V0LCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJvdmVyJywgdGhpcy5vblBvaW50ZXJPdmVyLCB0cnVlKTtcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVyY2FuY2VsJywgdGhpcy5vblBvaW50ZXJDYW5jZWwsIHRydWUpO1xuICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJ1cCcsIHRoaXMub25Qb2ludGVyVXAsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgd2luZG93LmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMub25Qb2ludGVyTW92ZSwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLm9uUG9pbnRlckRvd24sIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCB0aGlzLm9uUG9pbnRlck91dCwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCB0aGlzLm9uUG9pbnRlck92ZXIsIHRydWUpO1xuICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLm9uUG9pbnRlclVwLCB0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLm9uUG9pbnRlckRvd24sIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hjYW5jZWwnLCB0aGlzLm9uUG9pbnRlckNhbmNlbCwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMub25Qb2ludGVyVXAsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5vblBvaW50ZXJNb3ZlLCB0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50ID0gbnVsbDtcblxuICAgICAgICB0aGlzLmV2ZW50c0FkZGVkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgc3RhdGUgb2YgaW50ZXJhY3RpdmUgb2JqZWN0cyBpZiBhdCBsZWFzdCB7QGxpbmsgaW50ZXJhY3Rpb25GcmVxdWVuY3l9XG4gICAgICogbWlsbGlzZWNvbmRzIGhhdmUgcGFzc2VkIHNpbmNlIHRoZSBsYXN0IGludm9jYXRpb24uXG4gICAgICpcbiAgICAgKiBJbnZva2VkIGJ5IGEgdGhyb3R0bGVkIHRpY2tlciB1cGRhdGUgZnJvbSB7QGxpbmsgUElYSS5UaWNrZXIuc3lzdGVtfS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YVRpbWUgLSB0aW1lIGRlbHRhIHNpbmNlIHRoZSBsYXN0IGNhbGxcbiAgICAgKi9cbiAgICBwdWJsaWMgdGlja2VyVXBkYXRlKGRlbHRhVGltZTogbnVtYmVyKTogdm9pZFxuICAgIHtcbiAgICAgICAgdGhpcy5fZGVsdGFUaW1lICs9IGRlbHRhVGltZTtcblxuICAgICAgICBpZiAodGhpcy5fZGVsdGFUaW1lIDwgdGhpcy5pbnRlcmFjdGlvbkZyZXF1ZW5jeSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZGVsdGFUaW1lID0gMDtcblxuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIHN0YXRlIG9mIGludGVyYWN0aXZlIG9iamVjdHMuXG4gICAgICovXG4gICAgcHVibGljIHVwZGF0ZSgpOiB2b2lkXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50KVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiB0aGUgdXNlciBtb3ZlIHRoZSBtb3VzZSB0aGlzIGNoZWNrIGhhcyBhbHJlYWR5IGJlZW4gZG9uZSB1c2luZyB0aGUgbW91c2UgbW92ZSFcbiAgICAgICAgaWYgKHRoaXMuX2RpZE1vdmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2RpZE1vdmUgPSBmYWxzZTtcblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jdXJzb3IgPSBudWxsO1xuXG4gICAgICAgIC8vIFJlc2V0cyB0aGUgZmxhZyBhcyBzZXQgYnkgYSBzdG9wUHJvcGFnYXRpb24gY2FsbC4gVGhpcyBmbGFnIGlzIHVzdWFsbHkgcmVzZXQgYnkgYSB1c2VyIGludGVyYWN0aW9uIG9mIGFueSBraW5kLFxuICAgICAgICAvLyBidXQgdGhlcmUgd2FzIGEgc2NlbmFyaW8gb2YgYSBkaXNwbGF5IG9iamVjdCBtb3ZpbmcgdW5kZXIgYSBzdGF0aWMgbW91c2UgY3Vyc29yLlxuICAgICAgICAvLyBJbiB0aGlzIGNhc2UsIG1vdXNlb3ZlciBhbmQgbW91c2VldmVudHMgd291bGQgbm90IHBhc3MgdGhlIGZsYWcgdGVzdCBpbiBkaXNwYXRjaEV2ZW50IGZ1bmN0aW9uXG4gICAgICAgIGZvciAoY29uc3QgayBpbiB0aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXByb3RvdHlwZS1idWlsdGluc1xuICAgICAgICAgICAgaWYgKHRoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhLmhhc093blByb3BlcnR5KGspKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IGludGVyYWN0aW9uRGF0YSA9IHRoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhW2tdO1xuXG4gICAgICAgICAgICAgICAgaWYgKGludGVyYWN0aW9uRGF0YS5vcmlnaW5hbEV2ZW50ICYmIGludGVyYWN0aW9uRGF0YS5wb2ludGVyVHlwZSAhPT0gJ3RvdWNoJylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGludGVyYWN0aW9uRXZlbnQgPSB0aGlzLmNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZXZlbnREYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW50ZXJhY3Rpb25EYXRhLm9yaWdpbmFsRXZlbnQgYXMgUG9pbnRlckV2ZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgaW50ZXJhY3Rpb25EYXRhXG4gICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzSW50ZXJhY3RpdmUoXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnRlcmFjdGlvbkV2ZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sYXN0T2JqZWN0UmVuZGVyZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb2Nlc3NQb2ludGVyT3Zlck91dCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRydWVcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNldEN1cnNvck1vZGUodGhpcy5jdXJzb3IpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGN1cnJlbnQgY3Vyc29yIG1vZGUsIGhhbmRsaW5nIGFueSBjYWxsYmFja3Mgb3IgQ1NTIHN0eWxlIGNoYW5nZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbW9kZSAtIGN1cnNvciBtb2RlLCBhIGtleSBmcm9tIHRoZSBjdXJzb3JTdHlsZXMgZGljdGlvbmFyeVxuICAgICAqL1xuICAgIHB1YmxpYyBzZXRDdXJzb3JNb2RlKG1vZGU6IHN0cmluZyk6IHZvaWRcbiAgICB7XG4gICAgICAgIG1vZGUgPSBtb2RlIHx8ICdkZWZhdWx0JztcbiAgICAgICAgLy8gaWYgdGhlIG1vZGUgZGlkbid0IGFjdHVhbGx5IGNoYW5nZSwgYmFpbCBlYXJseVxuICAgICAgICBpZiAodGhpcy5jdXJyZW50Q3Vyc29yTW9kZSA9PT0gbW9kZSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY3VycmVudEN1cnNvck1vZGUgPSBtb2RlO1xuICAgICAgICBjb25zdCBzdHlsZSA9IHRoaXMuY3Vyc29yU3R5bGVzW21vZGVdO1xuXG4gICAgICAgIC8vIG9ubHkgZG8gdGhpbmdzIGlmIHRoZXJlIGlzIGEgY3Vyc29yIHN0eWxlIGZvciBpdFxuICAgICAgICBpZiAoc3R5bGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZW9mIHN0eWxlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgICAgICAgICAgICAgIC8vIHN0cmluZyBzdHlsZXMgYXJlIGhhbmRsZWQgYXMgY3Vyc29yIENTU1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5zdHlsZS5jdXJzb3IgPSBzdHlsZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnZnVuY3Rpb24nOlxuICAgICAgICAgICAgICAgICAgICAvLyBmdW5jdGlvbnMgYXJlIGp1c3QgY2FsbGVkLCBhbmQgcGFzc2VkIHRoZSBjdXJzb3IgbW9kZVxuICAgICAgICAgICAgICAgICAgICBzdHlsZShtb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgaXQgaXMgYW4gb2JqZWN0LCBhc3N1bWUgdGhhdCBpdCBpcyBhIGRpY3Rpb25hcnkgb2YgQ1NTIHN0eWxlcyxcbiAgICAgICAgICAgICAgICAgICAgLy8gYXBwbHkgaXQgdG8gdGhlIGludGVyYWN0aW9uRE9NRWxlbWVudFxuICAgICAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnN0eWxlLCBzdHlsZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBtb2RlID09PSAnc3RyaW5nJyAmJiAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuY3Vyc29yU3R5bGVzLCBtb2RlKSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gaWYgaXQgbW9kZSBpcyBhIHN0cmluZyAobm90IGEgU3ltYm9sKSBhbmQgY3Vyc29yU3R5bGVzIGRvZXNuJ3QgaGF2ZSBhbnkgZW50cnlcbiAgICAgICAgICAgIC8vIGZvciB0aGUgbW9kZSwgdGhlbiBhc3N1bWUgdGhhdCB0aGUgZGV2IHdhbnRzIGl0IHRvIGJlIENTUyBmb3IgdGhlIGN1cnNvci5cbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnN0eWxlLmN1cnNvciA9IG1vZGU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEaXNwYXRjaGVzIGFuIGV2ZW50IG9uIHRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IHdhcyBpbnRlcmFjdGVkIHdpdGhcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ8UElYSS5TcHJpdGV8UElYSS5UaWxpbmdTcHJpdGV9IGRpc3BsYXlPYmplY3QgLSB0aGUgZGlzcGxheSBvYmplY3QgaW4gcXVlc3Rpb25cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnRTdHJpbmcgLSB0aGUgbmFtZSBvZiB0aGUgZXZlbnQgKGUuZywgbW91c2Vkb3duKVxuICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudERhdGEgLSB0aGUgZXZlbnQgZGF0YSBvYmplY3RcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHByaXZhdGUgZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0OiBEaXNwbGF5T2JqZWN0LCBldmVudFN0cmluZzogc3RyaW5nLCBldmVudERhdGE6IEludGVyYWN0aW9uRXZlbnQpOiB2b2lkXG4gICAge1xuICAgICAgICAvLyBFdmVuIGlmIHRoZSBldmVudCB3YXMgc3RvcHBlZCwgYXQgbGVhc3QgZGlzcGF0Y2ggYW55IHJlbWFpbmluZyBldmVudHNcbiAgICAgICAgLy8gZm9yIHRoZSBzYW1lIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICBpZiAoIWV2ZW50RGF0YS5zdG9wUHJvcGFnYXRpb25IaW50IHx8IGRpc3BsYXlPYmplY3QgPT09IGV2ZW50RGF0YS5zdG9wc1Byb3BhZ2F0aW5nQXQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGV2ZW50RGF0YS5jdXJyZW50VGFyZ2V0ID0gZGlzcGxheU9iamVjdDtcbiAgICAgICAgICAgIGV2ZW50RGF0YS50eXBlID0gZXZlbnRTdHJpbmc7XG5cbiAgICAgICAgICAgIGRpc3BsYXlPYmplY3QuZW1pdChldmVudFN0cmluZywgZXZlbnREYXRhKTtcblxuICAgICAgICAgICAgaWYgKChkaXNwbGF5T2JqZWN0IGFzIGFueSlbZXZlbnRTdHJpbmddKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIChkaXNwbGF5T2JqZWN0IGFzIGFueSlbZXZlbnRTdHJpbmddKGV2ZW50RGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQdXRzIGEgZXZlbnQgb24gYSBxdWV1ZSB0byBiZSBkaXNwYXRjaGVkIGxhdGVyLiBUaGlzIGlzIHVzZWQgdG8gZ3VhcmFudGVlIGNvcnJlY3RcbiAgICAgKiBvcmRlcmluZyBvZiBvdmVyL291dCBldmVudHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfFBJWEkuU3ByaXRlfFBJWEkuVGlsaW5nU3ByaXRlfSBkaXNwbGF5T2JqZWN0IC0gdGhlIGRpc3BsYXkgb2JqZWN0IGluIHF1ZXN0aW9uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50U3RyaW5nIC0gdGhlIG5hbWUgb2YgdGhlIGV2ZW50IChlLmcsIG1vdXNlZG93bilcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gZXZlbnREYXRhIC0gdGhlIGV2ZW50IGRhdGEgb2JqZWN0XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBwcml2YXRlIGRlbGF5RGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0OiBEaXNwbGF5T2JqZWN0LCBldmVudFN0cmluZzogc3RyaW5nLCBldmVudERhdGE6IEludGVyYWN0aW9uRXZlbnQpOiB2b2lkXG4gICAge1xuICAgICAgICB0aGlzLmRlbGF5ZWRFdmVudHMucHVzaCh7IGRpc3BsYXlPYmplY3QsIGV2ZW50U3RyaW5nLCBldmVudERhdGEgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTWFwcyB4IGFuZCB5IGNvb3JkcyBmcm9tIGEgRE9NIG9iamVjdCBhbmQgbWFwcyB0aGVtIGNvcnJlY3RseSB0byB0aGUgUGl4aUpTIHZpZXcuIFRoZVxuICAgICAqIHJlc3VsdGluZyB2YWx1ZSBpcyBzdG9yZWQgaW4gdGhlIHBvaW50LiBUaGlzIHRha2VzIGludG8gYWNjb3VudCB0aGUgZmFjdCB0aGF0IHRoZSBET01cbiAgICAgKiBlbGVtZW50IGNvdWxkIGJlIHNjYWxlZCBhbmQgcG9zaXRpb25lZCBhbnl3aGVyZSBvbiB0aGUgc2NyZWVuLlxuICAgICAqXG4gICAgICogQHBhcmFtICB7UElYSS5JUG9pbnREYXRhfSBwb2ludCAtIHRoZSBwb2ludCB0aGF0IHRoZSByZXN1bHQgd2lsbCBiZSBzdG9yZWQgaW5cbiAgICAgKiBAcGFyYW0gIHtudW1iZXJ9IHggLSB0aGUgeCBjb29yZCBvZiB0aGUgcG9zaXRpb24gdG8gbWFwXG4gICAgICogQHBhcmFtICB7bnVtYmVyfSB5IC0gdGhlIHkgY29vcmQgb2YgdGhlIHBvc2l0aW9uIHRvIG1hcFxuICAgICAqL1xuICAgIHB1YmxpYyBtYXBQb3NpdGlvblRvUG9pbnQocG9pbnQ6IElQb2ludERhdGEsIHg6IG51bWJlciwgeTogbnVtYmVyKTogdm9pZFxuICAgIHtcbiAgICAgICAgbGV0IHJlY3Q7XG5cbiAgICAgICAgLy8gSUUgMTEgZml4XG4gICAgICAgIGlmICghdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucGFyZW50RWxlbWVudClcbiAgICAgICAge1xuICAgICAgICAgICAgcmVjdCA9IHsgeDogMCwgeTogMCwgd2lkdGg6IDAsIGhlaWdodDogMCB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgcmVjdCA9IHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcmVzb2x1dGlvbk11bHRpcGxpZXIgPSAxLjAgLyB0aGlzLnJlc29sdXRpb247XG5cbiAgICAgICAgcG9pbnQueCA9ICgoeCAtIHJlY3QubGVmdCkgKiAoKHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50IGFzIGFueSkud2lkdGggLyByZWN0LndpZHRoKSkgKiByZXNvbHV0aW9uTXVsdGlwbGllcjtcbiAgICAgICAgcG9pbnQueSA9ICgoeSAtIHJlY3QudG9wKSAqICgodGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQgYXMgYW55KS5oZWlnaHQgLyByZWN0LmhlaWdodCkpICogcmVzb2x1dGlvbk11bHRpcGxpZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jdGlvbiBpcyBwcm92aWRlcyBhIG5lYXQgd2F5IG9mIGNyYXdsaW5nIHRocm91Z2ggdGhlIHNjZW5lIGdyYXBoIGFuZCBydW5uaW5nIGFcbiAgICAgKiBzcGVjaWZpZWQgZnVuY3Rpb24gb24gYWxsIGludGVyYWN0aXZlIG9iamVjdHMgaXQgZmluZHMuIEl0IHdpbGwgYWxzbyB0YWtlIGNhcmUgb2YgaGl0XG4gICAgICogdGVzdGluZyB0aGUgaW50ZXJhY3RpdmUgb2JqZWN0cyBhbmQgcGFzc2VzIHRoZSBoaXQgYWNyb3NzIGluIHRoZSBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gaW50ZXJhY3Rpb25FdmVudCAtIGV2ZW50IGNvbnRhaW5pbmcgdGhlIHBvaW50IHRoYXRcbiAgICAgKiAgaXMgdGVzdGVkIGZvciBjb2xsaXNpb25cbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfFBJWEkuU3ByaXRlfFBJWEkuVGlsaW5nU3ByaXRlfSBkaXNwbGF5T2JqZWN0IC0gdGhlIGRpc3BsYXlPYmplY3RcbiAgICAgKiAgdGhhdCB3aWxsIGJlIGhpdCB0ZXN0IChyZWN1cnNpdmVseSBjcmF3bHMgaXRzIGNoaWxkcmVuKVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtmdW5jXSAtIHRoZSBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIG9uIGVhY2ggaW50ZXJhY3RpdmUgb2JqZWN0LiBUaGVcbiAgICAgKiAgaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCBhbmQgaGl0IHdpbGwgYmUgcGFzc2VkIHRvIHRoZSBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2hpdFRlc3RdIC0gaW5kaWNhdGVzIHdoZXRoZXIgd2Ugd2FudCB0byBjYWxjdWxhdGUgaGl0c1xuICAgICAqICBvciBqdXN0IGl0ZXJhdGUgdGhyb3VnaCBhbGwgaW50ZXJhY3RpdmUgb2JqZWN0c1xuICAgICAqL1xuICAgIHB1YmxpYyBwcm9jZXNzSW50ZXJhY3RpdmUoaW50ZXJhY3Rpb25FdmVudDogSW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdDogRGlzcGxheU9iamVjdCxcbiAgICAgICAgZnVuYz86IEludGVyYWN0aW9uQ2FsbGJhY2ssIGhpdFRlc3Q/OiBib29sZWFuXG4gICAgKTogdm9pZFxuICAgIHtcbiAgICAgICAgY29uc3QgaGl0ID0gdGhpcy5zZWFyY2guZmluZEhpdChpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0LCBmdW5jLCBoaXRUZXN0KTtcblxuICAgICAgICBjb25zdCBkZWxheWVkRXZlbnRzID0gdGhpcy5kZWxheWVkRXZlbnRzO1xuXG4gICAgICAgIGlmICghZGVsYXllZEV2ZW50cy5sZW5ndGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBoaXQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVzZXQgdGhlIHByb3BhZ2F0aW9uIGhpbnQsIGJlY2F1c2Ugd2Ugc3RhcnQgZGVlcGVyIGluIHRoZSB0cmVlIGFnYWluLlxuICAgICAgICBpbnRlcmFjdGlvbkV2ZW50LnN0b3BQcm9wYWdhdGlvbkhpbnQgPSBmYWxzZTtcblxuICAgICAgICBjb25zdCBkZWxheWVkTGVuID0gZGVsYXllZEV2ZW50cy5sZW5ndGg7XG5cbiAgICAgICAgdGhpcy5kZWxheWVkRXZlbnRzID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkZWxheWVkTGVuOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHsgZGlzcGxheU9iamVjdCwgZXZlbnRTdHJpbmcsIGV2ZW50RGF0YSB9ID0gZGVsYXllZEV2ZW50c1tpXTtcblxuICAgICAgICAgICAgLy8gV2hlbiB3ZSByZWFjaCB0aGUgb2JqZWN0IHdlIHdhbnRlZCB0byBzdG9wIHByb3BhZ2F0aW5nIGF0LFxuICAgICAgICAgICAgLy8gc2V0IHRoZSBwcm9wYWdhdGlvbiBoaW50LlxuICAgICAgICAgICAgaWYgKGV2ZW50RGF0YS5zdG9wc1Byb3BhZ2F0aW5nQXQgPT09IGRpc3BsYXlPYmplY3QpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZXZlbnREYXRhLnN0b3BQcm9wYWdhdGlvbkhpbnQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgZXZlbnRTdHJpbmcsIGV2ZW50RGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaGl0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIElzIGNhbGxlZCB3aGVuIHRoZSBwb2ludGVyIGJ1dHRvbiBpcyBwcmVzc2VkIGRvd24gb24gdGhlIHJlbmRlcmVyIGVsZW1lbnRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IG9yaWdpbmFsRXZlbnQgLSBUaGUgRE9NIGV2ZW50IG9mIGEgcG9pbnRlciBidXR0b24gYmVpbmcgcHJlc3NlZCBkb3duXG4gICAgICovXG4gICAgcHJpdmF0ZSBvblBvaW50ZXJEb3duKG9yaWdpbmFsRXZlbnQ6IEludGVyYWN0aXZlUG9pbnRlckV2ZW50KTogdm9pZFxuICAgIHtcbiAgICAgICAgLy8gaWYgd2Ugc3VwcG9ydCB0b3VjaCBldmVudHMsIHRoZW4gb25seSB1c2UgdGhvc2UgZm9yIHRvdWNoIGV2ZW50cywgbm90IHBvaW50ZXIgZXZlbnRzXG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMgJiYgKG9yaWdpbmFsRXZlbnQgYXMgUG9pbnRlckV2ZW50KS5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJykgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IGV2ZW50cyA9IHRoaXMubm9ybWFsaXplVG9Qb2ludGVyRGF0YShvcmlnaW5hbEV2ZW50KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTm8gbmVlZCB0byBwcmV2ZW50IGRlZmF1bHQgb24gbmF0dXJhbCBwb2ludGVyIGV2ZW50cywgYXMgdGhlcmUgYXJlIG5vIHNpZGUgZWZmZWN0c1xuICAgICAgICAgKiBOb3JtYWxpemVkIGV2ZW50cywgaG93ZXZlciwgbWF5IGhhdmUgdGhlIGRvdWJsZSBtb3VzZWRvd24vdG91Y2hzdGFydCBpc3N1ZSBvbiB0aGUgbmF0aXZlIGFuZHJvaWQgYnJvd3NlcixcbiAgICAgICAgICogc28gc3RpbGwgbmVlZCB0byBiZSBwcmV2ZW50ZWQuXG4gICAgICAgICAqL1xuXG4gICAgICAgIC8vIEd1YXJhbnRlZWQgdGhhdCB0aGVyZSB3aWxsIGJlIGF0IGxlYXN0IG9uZSBldmVudCBpbiBldmVudHMsIGFuZCBhbGwgZXZlbnRzIG11c3QgaGF2ZSB0aGUgc2FtZSBwb2ludGVyIHR5cGVcblxuICAgICAgICBpZiAodGhpcy5hdXRvUHJldmVudERlZmF1bHQgJiYgKGV2ZW50c1swXSBhcyBhbnkpLmlzTm9ybWFsaXplZClcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgY2FuY2VsYWJsZSA9IG9yaWdpbmFsRXZlbnQuY2FuY2VsYWJsZSB8fCAhKCdjYW5jZWxhYmxlJyBpbiBvcmlnaW5hbEV2ZW50KTtcblxuICAgICAgICAgICAgaWYgKGNhbmNlbGFibGUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgb3JpZ2luYWxFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZXZlbnRMZW4gPSBldmVudHMubGVuZ3RoO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZXZlbnRMZW47IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgZXZlbnQgPSBldmVudHNbaV07XG5cbiAgICAgICAgICAgIGNvbnN0IGludGVyYWN0aW9uRGF0YSA9IHRoaXMuZ2V0SW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkKGV2ZW50KTtcblxuICAgICAgICAgICAgY29uc3QgaW50ZXJhY3Rpb25FdmVudCA9IHRoaXMuY29uZmlndXJlSW50ZXJhY3Rpb25FdmVudEZvckRPTUV2ZW50KHRoaXMuZXZlbnREYXRhLCBldmVudCwgaW50ZXJhY3Rpb25EYXRhKTtcblxuICAgICAgICAgICAgaW50ZXJhY3Rpb25FdmVudC5kYXRhLm9yaWdpbmFsRXZlbnQgPSBvcmlnaW5hbEV2ZW50O1xuXG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NJbnRlcmFjdGl2ZShpbnRlcmFjdGlvbkV2ZW50LCB0aGlzLmxhc3RPYmplY3RSZW5kZXJlZCwgdGhpcy5wcm9jZXNzUG9pbnRlckRvd24sIHRydWUpO1xuXG4gICAgICAgICAgICB0aGlzLmVtaXQoJ3BvaW50ZXJkb3duJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCd0b3VjaHN0YXJ0JywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBlbWl0IGEgbW91c2UgZXZlbnQgZm9yIFwicGVuXCIgcG9pbnRlcnMsIHRoZSB3YXkgYSBicm93c2VyIHdvdWxkIGVtaXQgYSBmYWxsYmFjayBldmVudFxuICAgICAgICAgICAgZWxzZSBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICdtb3VzZScgfHwgZXZlbnQucG9pbnRlclR5cGUgPT09ICdwZW4nKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzUmlnaHRCdXR0b24gPSBldmVudC5idXR0b24gPT09IDI7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoaXNSaWdodEJ1dHRvbiA/ICdyaWdodGRvd24nIDogJ21vdXNlZG93bicsIHRoaXMuZXZlbnREYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFByb2Nlc3NlcyB0aGUgcmVzdWx0IG9mIHRoZSBwb2ludGVyIGRvd24gY2hlY2sgYW5kIGRpc3BhdGNoZXMgdGhlIGV2ZW50IGlmIG5lZWQgYmVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGludGVyYWN0aW9uRXZlbnQgLSBUaGUgaW50ZXJhY3Rpb24gZXZlbnQgd3JhcHBpbmcgdGhlIERPTSBldmVudFxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ8UElYSS5TcHJpdGV8UElYSS5UaWxpbmdTcHJpdGV9IGRpc3BsYXlPYmplY3QgLSBUaGUgZGlzcGxheSBvYmplY3QgdGhhdCB3YXMgdGVzdGVkXG4gICAgICogQHBhcmFtIHtib29sZWFufSBoaXQgLSB0aGUgcmVzdWx0IG9mIHRoZSBoaXQgdGVzdCBvbiB0aGUgZGlzcGxheSBvYmplY3RcbiAgICAgKi9cbiAgICBwcml2YXRlIHByb2Nlc3NQb2ludGVyRG93bihpbnRlcmFjdGlvbkV2ZW50OiBJbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0OiBEaXNwbGF5T2JqZWN0LCBoaXQ6IGJvb2xlYW4pOiB2b2lkXG4gICAge1xuICAgICAgICBjb25zdCBkYXRhID0gaW50ZXJhY3Rpb25FdmVudC5kYXRhO1xuICAgICAgICBjb25zdCBpZCA9IGludGVyYWN0aW9uRXZlbnQuZGF0YS5pZGVudGlmaWVyO1xuXG4gICAgICAgIGlmIChoaXQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXSA9IG5ldyBJbnRlcmFjdGlvblRyYWNraW5nRGF0YShpZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3BvaW50ZXJkb3duJywgaW50ZXJhY3Rpb25FdmVudCk7XG5cbiAgICAgICAgICAgIGlmIChkYXRhLnBvaW50ZXJUeXBlID09PSAndG91Y2gnKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAndG91Y2hzdGFydCcsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZGF0YS5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCBkYXRhLnBvaW50ZXJUeXBlID09PSAncGVuJylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpc1JpZ2h0QnV0dG9uID0gZGF0YS5idXR0b24gPT09IDI7XG5cbiAgICAgICAgICAgICAgICBpZiAoaXNSaWdodEJ1dHRvbilcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXS5yaWdodERvd24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF0ubGVmdERvd24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCBpc1JpZ2h0QnV0dG9uID8gJ3JpZ2h0ZG93bicgOiAnbW91c2Vkb3duJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJcyBjYWxsZWQgd2hlbiB0aGUgcG9pbnRlciBidXR0b24gaXMgcmVsZWFzZWQgb24gdGhlIHJlbmRlcmVyIGVsZW1lbnRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IG9yaWdpbmFsRXZlbnQgLSBUaGUgRE9NIGV2ZW50IG9mIGEgcG9pbnRlciBidXR0b24gYmVpbmcgcmVsZWFzZWRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNhbmNlbGxlZCAtIHRydWUgaWYgdGhlIHBvaW50ZXIgaXMgY2FuY2VsbGVkXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyAtIEZ1bmN0aW9uIHBhc3NlZCB0byB7QGxpbmsgcHJvY2Vzc0ludGVyYWN0aXZlfVxuICAgICAqL1xuICAgIHByaXZhdGUgb25Qb2ludGVyQ29tcGxldGUob3JpZ2luYWxFdmVudDogSW50ZXJhY3RpdmVQb2ludGVyRXZlbnQsIGNhbmNlbGxlZDogYm9vbGVhbiwgZnVuYzogSW50ZXJhY3Rpb25DYWxsYmFjayk6IHZvaWRcbiAgICB7XG4gICAgICAgIGNvbnN0IGV2ZW50cyA9IHRoaXMubm9ybWFsaXplVG9Qb2ludGVyRGF0YShvcmlnaW5hbEV2ZW50KTtcblxuICAgICAgICBjb25zdCBldmVudExlbiA9IGV2ZW50cy5sZW5ndGg7XG5cbiAgICAgICAgLy8gaWYgdGhlIGV2ZW50IHdhc24ndCB0YXJnZXRpbmcgb3VyIGNhbnZhcywgdGhlbiBjb25zaWRlciBpdCB0byBiZSBwb2ludGVydXBvdXRzaWRlXG4gICAgICAgIC8vIGluIGFsbCBjYXNlcyAodW5sZXNzIGl0IHdhcyBhIHBvaW50ZXJjYW5jZWwpXG4gICAgICAgIGNvbnN0IGV2ZW50QXBwZW5kID0gb3JpZ2luYWxFdmVudC50YXJnZXQgIT09IHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50ID8gJ291dHNpZGUnIDogJyc7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBldmVudExlbjsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBldmVudCA9IGV2ZW50c1tpXTtcblxuICAgICAgICAgICAgY29uc3QgaW50ZXJhY3Rpb25EYXRhID0gdGhpcy5nZXRJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQoZXZlbnQpO1xuXG4gICAgICAgICAgICBjb25zdCBpbnRlcmFjdGlvbkV2ZW50ID0gdGhpcy5jb25maWd1cmVJbnRlcmFjdGlvbkV2ZW50Rm9yRE9NRXZlbnQodGhpcy5ldmVudERhdGEsIGV2ZW50LCBpbnRlcmFjdGlvbkRhdGEpO1xuXG4gICAgICAgICAgICBpbnRlcmFjdGlvbkV2ZW50LmRhdGEub3JpZ2luYWxFdmVudCA9IG9yaWdpbmFsRXZlbnQ7XG5cbiAgICAgICAgICAgIC8vIHBlcmZvcm0gaGl0IHRlc3RpbmcgZm9yIGV2ZW50cyB0YXJnZXRpbmcgb3VyIGNhbnZhcyBvciBjYW5jZWwgZXZlbnRzXG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NJbnRlcmFjdGl2ZShpbnRlcmFjdGlvbkV2ZW50LCB0aGlzLmxhc3RPYmplY3RSZW5kZXJlZCwgZnVuYywgY2FuY2VsbGVkIHx8ICFldmVudEFwcGVuZCk7XG5cbiAgICAgICAgICAgIHRoaXMuZW1pdChjYW5jZWxsZWQgPyAncG9pbnRlcmNhbmNlbCcgOiBgcG9pbnRlcnVwJHtldmVudEFwcGVuZH1gLCBpbnRlcmFjdGlvbkV2ZW50KTtcblxuICAgICAgICAgICAgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAnbW91c2UnIHx8IGV2ZW50LnBvaW50ZXJUeXBlID09PSAncGVuJylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpc1JpZ2h0QnV0dG9uID0gZXZlbnQuYnV0dG9uID09PSAyO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KGlzUmlnaHRCdXR0b24gPyBgcmlnaHR1cCR7ZXZlbnRBcHBlbmR9YCA6IGBtb3VzZXVwJHtldmVudEFwcGVuZH1gLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdChjYW5jZWxsZWQgPyAndG91Y2hjYW5jZWwnIDogYHRvdWNoZW5kJHtldmVudEFwcGVuZH1gLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbGVhc2VJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQoZXZlbnQucG9pbnRlcklkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIElzIGNhbGxlZCB3aGVuIHRoZSBwb2ludGVyIGJ1dHRvbiBpcyBjYW5jZWxsZWRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IGV2ZW50IC0gVGhlIERPTSBldmVudCBvZiBhIHBvaW50ZXIgYnV0dG9uIGJlaW5nIHJlbGVhc2VkXG4gICAgICovXG4gICAgcHJpdmF0ZSBvblBvaW50ZXJDYW5jZWwoZXZlbnQ6IEludGVyYWN0aXZlUG9pbnRlckV2ZW50KTogdm9pZFxuICAgIHtcbiAgICAgICAgLy8gaWYgd2Ugc3VwcG9ydCB0b3VjaCBldmVudHMsIHRoZW4gb25seSB1c2UgdGhvc2UgZm9yIHRvdWNoIGV2ZW50cywgbm90IHBvaW50ZXIgZXZlbnRzXG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMgJiYgKGV2ZW50IGFzIFBvaW50ZXJFdmVudCkucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpIHJldHVybjtcblxuICAgICAgICB0aGlzLm9uUG9pbnRlckNvbXBsZXRlKGV2ZW50LCB0cnVlLCB0aGlzLnByb2Nlc3NQb2ludGVyQ2FuY2VsKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQcm9jZXNzZXMgdGhlIHJlc3VsdCBvZiB0aGUgcG9pbnRlciBjYW5jZWwgY2hlY2sgYW5kIGRpc3BhdGNoZXMgdGhlIGV2ZW50IGlmIG5lZWQgYmVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGludGVyYWN0aW9uRXZlbnQgLSBUaGUgaW50ZXJhY3Rpb24gZXZlbnQgd3JhcHBpbmcgdGhlIERPTSBldmVudFxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ8UElYSS5TcHJpdGV8UElYSS5UaWxpbmdTcHJpdGV9IGRpc3BsYXlPYmplY3QgLSBUaGUgZGlzcGxheSBvYmplY3QgdGhhdCB3YXMgdGVzdGVkXG4gICAgICovXG4gICAgcHJpdmF0ZSBwcm9jZXNzUG9pbnRlckNhbmNlbChpbnRlcmFjdGlvbkV2ZW50OiBJbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0OiBEaXNwbGF5T2JqZWN0KTogdm9pZFxuICAgIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IGludGVyYWN0aW9uRXZlbnQuZGF0YTtcblxuICAgICAgICBjb25zdCBpZCA9IGludGVyYWN0aW9uRXZlbnQuZGF0YS5pZGVudGlmaWVyO1xuXG4gICAgICAgIGlmIChkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF0gIT09IHVuZGVmaW5lZClcbiAgICAgICAge1xuICAgICAgICAgICAgZGVsZXRlIGRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXTtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAncG9pbnRlcmNhbmNlbCcsIGludGVyYWN0aW9uRXZlbnQpO1xuXG4gICAgICAgICAgICBpZiAoZGF0YS5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3RvdWNoY2FuY2VsJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJcyBjYWxsZWQgd2hlbiB0aGUgcG9pbnRlciBidXR0b24gaXMgcmVsZWFzZWQgb24gdGhlIHJlbmRlcmVyIGVsZW1lbnRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IGV2ZW50IC0gVGhlIERPTSBldmVudCBvZiBhIHBvaW50ZXIgYnV0dG9uIGJlaW5nIHJlbGVhc2VkXG4gICAgICovXG4gICAgcHJpdmF0ZSBvblBvaW50ZXJVcChldmVudDogSW50ZXJhY3RpdmVQb2ludGVyRXZlbnQpOiB2b2lkXG4gICAge1xuICAgICAgICAvLyBpZiB3ZSBzdXBwb3J0IHRvdWNoIGV2ZW50cywgdGhlbiBvbmx5IHVzZSB0aG9zZSBmb3IgdG91Y2ggZXZlbnRzLCBub3QgcG9pbnRlciBldmVudHNcbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNUb3VjaEV2ZW50cyAmJiAoZXZlbnQgYXMgUG9pbnRlckV2ZW50KS5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJykgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMub25Qb2ludGVyQ29tcGxldGUoZXZlbnQsIGZhbHNlLCB0aGlzLnByb2Nlc3NQb2ludGVyVXApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFByb2Nlc3NlcyB0aGUgcmVzdWx0IG9mIHRoZSBwb2ludGVyIHVwIGNoZWNrIGFuZCBkaXNwYXRjaGVzIHRoZSBldmVudCBpZiBuZWVkIGJlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBpbnRlcmFjdGlvbkV2ZW50IC0gVGhlIGludGVyYWN0aW9uIGV2ZW50IHdyYXBwaW5nIHRoZSBET00gZXZlbnRcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfFBJWEkuU3ByaXRlfFBJWEkuVGlsaW5nU3ByaXRlfSBkaXNwbGF5T2JqZWN0IC0gVGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgd2FzIHRlc3RlZFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaGl0IC0gdGhlIHJlc3VsdCBvZiB0aGUgaGl0IHRlc3Qgb24gdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICovXG4gICAgcHJpdmF0ZSBwcm9jZXNzUG9pbnRlclVwKGludGVyYWN0aW9uRXZlbnQ6IEludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3Q6IERpc3BsYXlPYmplY3QsIGhpdDogYm9vbGVhbik6IHZvaWRcbiAgICB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBpbnRlcmFjdGlvbkV2ZW50LmRhdGE7XG5cbiAgICAgICAgY29uc3QgaWQgPSBpbnRlcmFjdGlvbkV2ZW50LmRhdGEuaWRlbnRpZmllcjtcblxuICAgICAgICBjb25zdCB0cmFja2luZ0RhdGEgPSBkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF07XG5cbiAgICAgICAgY29uc3QgaXNUb3VjaCA9IGRhdGEucG9pbnRlclR5cGUgPT09ICd0b3VjaCc7XG5cbiAgICAgICAgY29uc3QgaXNNb3VzZSA9IChkYXRhLnBvaW50ZXJUeXBlID09PSAnbW91c2UnIHx8IGRhdGEucG9pbnRlclR5cGUgPT09ICdwZW4nKTtcbiAgICAgICAgLy8gbmVlZCB0byB0cmFjayBtb3VzZSBkb3duIHN0YXR1cyBpbiB0aGUgbW91c2UgYmxvY2sgc28gdGhhdCB3ZSBjYW4gZW1pdFxuICAgICAgICAvLyBldmVudCBpbiBhIGxhdGVyIGJsb2NrXG4gICAgICAgIGxldCBpc01vdXNlVGFwID0gZmFsc2U7XG5cbiAgICAgICAgLy8gTW91c2Ugb25seVxuICAgICAgICBpZiAoaXNNb3VzZSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgaXNSaWdodEJ1dHRvbiA9IGRhdGEuYnV0dG9uID09PSAyO1xuXG4gICAgICAgICAgICBjb25zdCBmbGFncyA9IEludGVyYWN0aW9uVHJhY2tpbmdEYXRhLkZMQUdTO1xuXG4gICAgICAgICAgICBjb25zdCB0ZXN0ID0gaXNSaWdodEJ1dHRvbiA/IGZsYWdzLlJJR0hUX0RPV04gOiBmbGFncy5MRUZUX0RPV047XG5cbiAgICAgICAgICAgIGNvbnN0IGlzRG93biA9IHRyYWNraW5nRGF0YSAhPT0gdW5kZWZpbmVkICYmICh0cmFja2luZ0RhdGEuZmxhZ3MgJiB0ZXN0KTtcblxuICAgICAgICAgICAgaWYgKGhpdClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgaXNSaWdodEJ1dHRvbiA/ICdyaWdodHVwJyA6ICdtb3VzZXVwJywgaW50ZXJhY3Rpb25FdmVudCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoaXNEb3duKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsIGlzUmlnaHRCdXR0b24gPyAncmlnaHRjbGljaycgOiAnY2xpY2snLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gYmVjYXVzZSB3ZSBjYW4gY29uZmlybSB0aGF0IHRoZSBtb3VzZWRvd24gaGFwcGVuZWQgb24gdGhpcyBvYmplY3QsIGZsYWcgZm9yIGxhdGVyIGVtaXQgb2YgcG9pbnRlcnRhcFxuICAgICAgICAgICAgICAgICAgICBpc01vdXNlVGFwID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpc0Rvd24pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsIGlzUmlnaHRCdXR0b24gPyAncmlnaHR1cG91dHNpZGUnIDogJ21vdXNldXBvdXRzaWRlJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyB1cGRhdGUgdGhlIGRvd24gc3RhdGUgb2YgdGhlIHRyYWNraW5nIGRhdGFcbiAgICAgICAgICAgIGlmICh0cmFja2luZ0RhdGEpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKGlzUmlnaHRCdXR0b24pXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0cmFja2luZ0RhdGEucmlnaHREb3duID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRyYWNraW5nRGF0YS5sZWZ0RG93biA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFBvaW50ZXJzIGFuZCBUb3VjaGVzLCBhbmQgTW91c2VcbiAgICAgICAgaWYgKGhpdClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdwb2ludGVydXAnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIGlmIChpc1RvdWNoKSB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3RvdWNoZW5kJywgaW50ZXJhY3Rpb25FdmVudCk7XG5cbiAgICAgICAgICAgIGlmICh0cmFja2luZ0RhdGEpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gZW1pdCBwb2ludGVydGFwIGlmIG5vdCBhIG1vdXNlLCBvciBpZiB0aGUgbW91c2UgYmxvY2sgZGVjaWRlZCBpdCB3YXMgYSB0YXBcbiAgICAgICAgICAgICAgICBpZiAoIWlzTW91c2UgfHwgaXNNb3VzZVRhcClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAncG9pbnRlcnRhcCcsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaXNUb3VjaClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAndGFwJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRvdWNoZXMgYXJlIG5vIGxvbmdlciBvdmVyIChpZiB0aGV5IGV2ZXIgd2VyZSkgd2hlbiB3ZSBnZXQgdGhlIHRvdWNoZW5kXG4gICAgICAgICAgICAgICAgICAgIC8vIHNvIHdlIHNob3VsZCBlbnN1cmUgdGhhdCB3ZSBkb24ndCBrZWVwIHByZXRlbmRpbmcgdGhhdCB0aGV5IGFyZVxuICAgICAgICAgICAgICAgICAgICB0cmFja2luZ0RhdGEub3ZlciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0cmFja2luZ0RhdGEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAncG9pbnRlcnVwb3V0c2lkZScsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgaWYgKGlzVG91Y2gpIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAndG91Y2hlbmRvdXRzaWRlJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gT25seSByZW1vdmUgdGhlIHRyYWNraW5nIGRhdGEgaWYgdGhlcmUgaXMgbm8gb3Zlci9kb3duIHN0YXRlIHN0aWxsIGFzc29jaWF0ZWQgd2l0aCBpdFxuICAgICAgICBpZiAodHJhY2tpbmdEYXRhICYmIHRyYWNraW5nRGF0YS5ub25lKVxuICAgICAgICB7XG4gICAgICAgICAgICBkZWxldGUgZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSXMgY2FsbGVkIHdoZW4gdGhlIHBvaW50ZXIgbW92ZXMgYWNyb3NzIHRoZSByZW5kZXJlciBlbGVtZW50XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBvcmlnaW5hbEV2ZW50IC0gVGhlIERPTSBldmVudCBvZiBhIHBvaW50ZXIgbW92aW5nXG4gICAgICovXG4gICAgcHJpdmF0ZSBvblBvaW50ZXJNb3ZlKG9yaWdpbmFsRXZlbnQ6IEludGVyYWN0aXZlUG9pbnRlckV2ZW50KTogdm9pZFxuICAgIHtcbiAgICAgICAgLy8gaWYgd2Ugc3VwcG9ydCB0b3VjaCBldmVudHMsIHRoZW4gb25seSB1c2UgdGhvc2UgZm9yIHRvdWNoIGV2ZW50cywgbm90IHBvaW50ZXIgZXZlbnRzXG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMgJiYgKG9yaWdpbmFsRXZlbnQgYXMgUG9pbnRlckV2ZW50KS5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJykgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IGV2ZW50cyA9IHRoaXMubm9ybWFsaXplVG9Qb2ludGVyRGF0YShvcmlnaW5hbEV2ZW50KTtcblxuICAgICAgICBpZiAoZXZlbnRzWzBdLnBvaW50ZXJUeXBlID09PSAnbW91c2UnIHx8IGV2ZW50c1swXS5wb2ludGVyVHlwZSA9PT0gJ3BlbicpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2RpZE1vdmUgPSB0cnVlO1xuXG4gICAgICAgICAgICB0aGlzLmN1cnNvciA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBldmVudExlbiA9IGV2ZW50cy5sZW5ndGg7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBldmVudExlbjsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBldmVudCA9IGV2ZW50c1tpXTtcblxuICAgICAgICAgICAgY29uc3QgaW50ZXJhY3Rpb25EYXRhID0gdGhpcy5nZXRJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQoZXZlbnQpO1xuXG4gICAgICAgICAgICBjb25zdCBpbnRlcmFjdGlvbkV2ZW50ID0gdGhpcy5jb25maWd1cmVJbnRlcmFjdGlvbkV2ZW50Rm9yRE9NRXZlbnQodGhpcy5ldmVudERhdGEsIGV2ZW50LCBpbnRlcmFjdGlvbkRhdGEpO1xuXG4gICAgICAgICAgICBpbnRlcmFjdGlvbkV2ZW50LmRhdGEub3JpZ2luYWxFdmVudCA9IG9yaWdpbmFsRXZlbnQ7XG5cbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc0ludGVyYWN0aXZlKGludGVyYWN0aW9uRXZlbnQsIHRoaXMubGFzdE9iamVjdFJlbmRlcmVkLCB0aGlzLnByb2Nlc3NQb2ludGVyTW92ZSwgdHJ1ZSk7XG5cbiAgICAgICAgICAgIHRoaXMuZW1pdCgncG9pbnRlcm1vdmUnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJykgdGhpcy5lbWl0KCd0b3VjaG1vdmUnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCBldmVudC5wb2ludGVyVHlwZSA9PT0gJ3BlbicpIHRoaXMuZW1pdCgnbW91c2Vtb3ZlJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXZlbnRzWzBdLnBvaW50ZXJUeXBlID09PSAnbW91c2UnKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnNldEN1cnNvck1vZGUodGhpcy5jdXJzb3IpO1xuXG4gICAgICAgICAgICAvLyBUT0RPIEJVRyBmb3IgcGFyZW50cyBpbnRlcmFjdGl2ZSBvYmplY3QgKGJvcmRlciBvcmRlciBpc3N1ZSlcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFByb2Nlc3NlcyB0aGUgcmVzdWx0IG9mIHRoZSBwb2ludGVyIG1vdmUgY2hlY2sgYW5kIGRpc3BhdGNoZXMgdGhlIGV2ZW50IGlmIG5lZWQgYmVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGludGVyYWN0aW9uRXZlbnQgLSBUaGUgaW50ZXJhY3Rpb24gZXZlbnQgd3JhcHBpbmcgdGhlIERPTSBldmVudFxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ8UElYSS5TcHJpdGV8UElYSS5UaWxpbmdTcHJpdGV9IGRpc3BsYXlPYmplY3QgLSBUaGUgZGlzcGxheSBvYmplY3QgdGhhdCB3YXMgdGVzdGVkXG4gICAgICogQHBhcmFtIHtib29sZWFufSBoaXQgLSB0aGUgcmVzdWx0IG9mIHRoZSBoaXQgdGVzdCBvbiB0aGUgZGlzcGxheSBvYmplY3RcbiAgICAgKi9cbiAgICBwcml2YXRlIHByb2Nlc3NQb2ludGVyTW92ZShpbnRlcmFjdGlvbkV2ZW50OiBJbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0OiBEaXNwbGF5T2JqZWN0LCBoaXQ6IGJvb2xlYW4pOiB2b2lkXG4gICAge1xuICAgICAgICBjb25zdCBkYXRhID0gaW50ZXJhY3Rpb25FdmVudC5kYXRhO1xuXG4gICAgICAgIGNvbnN0IGlzVG91Y2ggPSBkYXRhLnBvaW50ZXJUeXBlID09PSAndG91Y2gnO1xuXG4gICAgICAgIGNvbnN0IGlzTW91c2UgPSAoZGF0YS5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCBkYXRhLnBvaW50ZXJUeXBlID09PSAncGVuJyk7XG5cbiAgICAgICAgaWYgKGlzTW91c2UpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc1BvaW50ZXJPdmVyT3V0KGludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3QsIGhpdCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMubW92ZVdoZW5JbnNpZGUgfHwgaGl0KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3BvaW50ZXJtb3ZlJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICBpZiAoaXNUb3VjaCkgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICd0b3VjaG1vdmUnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIGlmIChpc01vdXNlKSB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ21vdXNlbW92ZScsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSXMgY2FsbGVkIHdoZW4gdGhlIHBvaW50ZXIgaXMgbW92ZWQgb3V0IG9mIHRoZSByZW5kZXJlciBlbGVtZW50XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBvcmlnaW5hbEV2ZW50IC0gVGhlIERPTSBldmVudCBvZiBhIHBvaW50ZXIgYmVpbmcgbW92ZWQgb3V0XG4gICAgICovXG4gICAgcHJpdmF0ZSBvblBvaW50ZXJPdXQob3JpZ2luYWxFdmVudDogSW50ZXJhY3RpdmVQb2ludGVyRXZlbnQpOiB2b2lkXG4gICAge1xuICAgICAgICAvLyBpZiB3ZSBzdXBwb3J0IHRvdWNoIGV2ZW50cywgdGhlbiBvbmx5IHVzZSB0aG9zZSBmb3IgdG91Y2ggZXZlbnRzLCBub3QgcG9pbnRlciBldmVudHNcbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNUb3VjaEV2ZW50cyAmJiAob3JpZ2luYWxFdmVudCBhcyBQb2ludGVyRXZlbnQpLnBvaW50ZXJUeXBlID09PSAndG91Y2gnKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgZXZlbnRzID0gdGhpcy5ub3JtYWxpemVUb1BvaW50ZXJEYXRhKG9yaWdpbmFsRXZlbnQpO1xuXG4gICAgICAgIC8vIE9ubHkgbW91c2UgYW5kIHBvaW50ZXIgY2FuIGNhbGwgb25Qb2ludGVyT3V0LCBzbyBldmVudHMgd2lsbCBhbHdheXMgYmUgbGVuZ3RoIDFcbiAgICAgICAgY29uc3QgZXZlbnQgPSBldmVudHNbMF07XG5cbiAgICAgICAgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAnbW91c2UnKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLm1vdXNlT3ZlclJlbmRlcmVyID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnNldEN1cnNvck1vZGUobnVsbCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBpbnRlcmFjdGlvbkRhdGEgPSB0aGlzLmdldEludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZChldmVudCk7XG5cbiAgICAgICAgY29uc3QgaW50ZXJhY3Rpb25FdmVudCA9IHRoaXMuY29uZmlndXJlSW50ZXJhY3Rpb25FdmVudEZvckRPTUV2ZW50KHRoaXMuZXZlbnREYXRhLCBldmVudCwgaW50ZXJhY3Rpb25EYXRhKTtcblxuICAgICAgICBpbnRlcmFjdGlvbkV2ZW50LmRhdGEub3JpZ2luYWxFdmVudCA9IGV2ZW50O1xuXG4gICAgICAgIHRoaXMucHJvY2Vzc0ludGVyYWN0aXZlKGludGVyYWN0aW9uRXZlbnQsIHRoaXMubGFzdE9iamVjdFJlbmRlcmVkLCB0aGlzLnByb2Nlc3NQb2ludGVyT3Zlck91dCwgZmFsc2UpO1xuXG4gICAgICAgIHRoaXMuZW1pdCgncG9pbnRlcm91dCcsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICdtb3VzZScgfHwgZXZlbnQucG9pbnRlclR5cGUgPT09ICdwZW4nKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ21vdXNlb3V0JywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyB3ZSBjYW4gZ2V0IHRvdWNobGVhdmUgZXZlbnRzIGFmdGVyIHRvdWNoZW5kLCBzbyB3ZSB3YW50IHRvIG1ha2Ugc3VyZSB3ZSBkb24ndFxuICAgICAgICAgICAgLy8gaW50cm9kdWNlIG1lbW9yeSBsZWFrc1xuICAgICAgICAgICAgdGhpcy5yZWxlYXNlSW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkKGludGVyYWN0aW9uRGF0YS5pZGVudGlmaWVyKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFByb2Nlc3NlcyB0aGUgcmVzdWx0IG9mIHRoZSBwb2ludGVyIG92ZXIvb3V0IGNoZWNrIGFuZCBkaXNwYXRjaGVzIHRoZSBldmVudCBpZiBuZWVkIGJlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBpbnRlcmFjdGlvbkV2ZW50IC0gVGhlIGludGVyYWN0aW9uIGV2ZW50IHdyYXBwaW5nIHRoZSBET00gZXZlbnRcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfFBJWEkuU3ByaXRlfFBJWEkuVGlsaW5nU3ByaXRlfSBkaXNwbGF5T2JqZWN0IC0gVGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgd2FzIHRlc3RlZFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaGl0IC0gdGhlIHJlc3VsdCBvZiB0aGUgaGl0IHRlc3Qgb24gdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICovXG4gICAgcHJpdmF0ZSBwcm9jZXNzUG9pbnRlck92ZXJPdXQoaW50ZXJhY3Rpb25FdmVudDogSW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdDogRGlzcGxheU9iamVjdCwgaGl0OiBib29sZWFuKTogdm9pZFxuICAgIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IGludGVyYWN0aW9uRXZlbnQuZGF0YTtcblxuICAgICAgICBjb25zdCBpZCA9IGludGVyYWN0aW9uRXZlbnQuZGF0YS5pZGVudGlmaWVyO1xuXG4gICAgICAgIGNvbnN0IGlzTW91c2UgPSAoZGF0YS5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCBkYXRhLnBvaW50ZXJUeXBlID09PSAncGVuJyk7XG5cbiAgICAgICAgbGV0IHRyYWNraW5nRGF0YSA9IGRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXTtcblxuICAgICAgICAvLyBpZiB3ZSBqdXN0IG1vdXNlZCBvdmVyIHRoZSBkaXNwbGF5IG9iamVjdCwgdGhlbiB3ZSBuZWVkIHRvIHRyYWNrIHRoYXQgc3RhdGVcbiAgICAgICAgaWYgKGhpdCAmJiAhdHJhY2tpbmdEYXRhKVxuICAgICAgICB7XG4gICAgICAgICAgICB0cmFja2luZ0RhdGEgPSBkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF0gPSBuZXcgSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEoaWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRyYWNraW5nRGF0YSA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG5cbiAgICAgICAgaWYgKGhpdCAmJiB0aGlzLm1vdXNlT3ZlclJlbmRlcmVyKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIXRyYWNraW5nRGF0YS5vdmVyKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRyYWNraW5nRGF0YS5vdmVyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmRlbGF5RGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAncG9pbnRlcm92ZXInLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgICAgICBpZiAoaXNNb3VzZSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsYXlEaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdtb3VzZW92ZXInLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIG9ubHkgY2hhbmdlIHRoZSBjdXJzb3IgaWYgaXQgaGFzIG5vdCBhbHJlYWR5IGJlZW4gY2hhbmdlZCAoYnkgc29tZXRoaW5nIGRlZXBlciBpbiB0aGVcbiAgICAgICAgICAgIC8vIGRpc3BsYXkgdHJlZSlcbiAgICAgICAgICAgIGlmIChpc01vdXNlICYmIHRoaXMuY3Vyc29yID09PSBudWxsKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuY3Vyc29yID0gZGlzcGxheU9iamVjdC5jdXJzb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHJhY2tpbmdEYXRhLm92ZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRyYWNraW5nRGF0YS5vdmVyID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3BvaW50ZXJvdXQnLCB0aGlzLmV2ZW50RGF0YSk7XG4gICAgICAgICAgICBpZiAoaXNNb3VzZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ21vdXNlb3V0JywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBpZiB0aGVyZSBpcyBubyBtb3VzZSBkb3duIGluZm9ybWF0aW9uIGZvciB0aGUgcG9pbnRlciwgdGhlbiBpdCBpcyBzYWZlIHRvIGRlbGV0ZVxuICAgICAgICAgICAgaWYgKHRyYWNraW5nRGF0YS5ub25lKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJcyBjYWxsZWQgd2hlbiB0aGUgcG9pbnRlciBpcyBtb3ZlZCBpbnRvIHRoZSByZW5kZXJlciBlbGVtZW50XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBvcmlnaW5hbEV2ZW50IC0gVGhlIERPTSBldmVudCBvZiBhIHBvaW50ZXIgYnV0dG9uIGJlaW5nIG1vdmVkIGludG8gdGhlIHJlbmRlcmVyIHZpZXdcbiAgICAgKi9cbiAgICBwcml2YXRlIG9uUG9pbnRlck92ZXIob3JpZ2luYWxFdmVudDogSW50ZXJhY3RpdmVQb2ludGVyRXZlbnQpOiB2b2lkXG4gICAge1xuICAgICAgICBjb25zdCBldmVudHMgPSB0aGlzLm5vcm1hbGl6ZVRvUG9pbnRlckRhdGEob3JpZ2luYWxFdmVudCk7XG5cbiAgICAgICAgLy8gT25seSBtb3VzZSBhbmQgcG9pbnRlciBjYW4gY2FsbCBvblBvaW50ZXJPdmVyLCBzbyBldmVudHMgd2lsbCBhbHdheXMgYmUgbGVuZ3RoIDFcbiAgICAgICAgY29uc3QgZXZlbnQgPSBldmVudHNbMF07XG5cbiAgICAgICAgY29uc3QgaW50ZXJhY3Rpb25EYXRhID0gdGhpcy5nZXRJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQoZXZlbnQpO1xuXG4gICAgICAgIGNvbnN0IGludGVyYWN0aW9uRXZlbnQgPSB0aGlzLmNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudCh0aGlzLmV2ZW50RGF0YSwgZXZlbnQsIGludGVyYWN0aW9uRGF0YSk7XG5cbiAgICAgICAgaW50ZXJhY3Rpb25FdmVudC5kYXRhLm9yaWdpbmFsRXZlbnQgPSBldmVudDtcblxuICAgICAgICBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICdtb3VzZScpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMubW91c2VPdmVyUmVuZGVyZXIgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5lbWl0KCdwb2ludGVyb3ZlcicsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICdtb3VzZScgfHwgZXZlbnQucG9pbnRlclR5cGUgPT09ICdwZW4nKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ21vdXNlb3ZlcicsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IEludGVyYWN0aW9uRGF0YSBmb3IgYSBnaXZlbiBwb2ludGVySWQuIFN0b3JlIHRoYXQgZGF0YSBhcyB3ZWxsXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBldmVudCAtIE5vcm1hbGl6ZWQgcG9pbnRlciBldmVudCwgb3V0cHV0IGZyb20gbm9ybWFsaXplVG9Qb2ludGVyRGF0YVxuICAgICAqIEByZXR1cm4ge1BJWEkuSW50ZXJhY3Rpb25EYXRhfSAtIEludGVyYWN0aW9uIGRhdGEgZm9yIHRoZSBnaXZlbiBwb2ludGVyIGlkZW50aWZpZXJcbiAgICAgKi9cbiAgICBwcml2YXRlIGdldEludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZChldmVudDogUG9pbnRlckV2ZW50KTogSW50ZXJhY3Rpb25EYXRhXG4gICAge1xuICAgICAgICBjb25zdCBwb2ludGVySWQgPSBldmVudC5wb2ludGVySWQ7XG5cbiAgICAgICAgbGV0IGludGVyYWN0aW9uRGF0YTtcblxuICAgICAgICBpZiAocG9pbnRlcklkID09PSBNT1VTRV9QT0lOVEVSX0lEIHx8IGV2ZW50LnBvaW50ZXJUeXBlID09PSAnbW91c2UnKVxuICAgICAgICB7XG4gICAgICAgICAgICBpbnRlcmFjdGlvbkRhdGEgPSB0aGlzLm1vdXNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhW3BvaW50ZXJJZF0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIGludGVyYWN0aW9uRGF0YSA9IHRoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhW3BvaW50ZXJJZF07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBpbnRlcmFjdGlvbkRhdGEgPSB0aGlzLmludGVyYWN0aW9uRGF0YVBvb2wucG9wKCkgfHwgbmV3IEludGVyYWN0aW9uRGF0YSgpO1xuICAgICAgICAgICAgaW50ZXJhY3Rpb25EYXRhLmlkZW50aWZpZXIgPSBwb2ludGVySWQ7XG4gICAgICAgICAgICB0aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YVtwb2ludGVySWRdID0gaW50ZXJhY3Rpb25EYXRhO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNvcHkgcHJvcGVydGllcyBmcm9tIHRoZSBldmVudCwgc28gdGhhdCB3ZSBjYW4gbWFrZSBzdXJlIHRoYXQgdG91Y2gvcG9pbnRlciBzcGVjaWZpY1xuICAgICAgICAvLyBkYXRhIGlzIGF2YWlsYWJsZVxuICAgICAgICBpbnRlcmFjdGlvbkRhdGEuY29weUV2ZW50KGV2ZW50KTtcblxuICAgICAgICByZXR1cm4gaW50ZXJhY3Rpb25EYXRhO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybiB1bnVzZWQgSW50ZXJhY3Rpb25EYXRhIHRvIHRoZSBwb29sLCBmb3IgYSBnaXZlbiBwb2ludGVySWRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBvaW50ZXJJZCAtIElkZW50aWZpZXIgZnJvbSBhIHBvaW50ZXIgZXZlbnRcbiAgICAgKi9cbiAgICBwcml2YXRlIHJlbGVhc2VJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQocG9pbnRlcklkOiBudW1iZXIpOiB2b2lkXG4gICAge1xuICAgICAgICBjb25zdCBpbnRlcmFjdGlvbkRhdGEgPSB0aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YVtwb2ludGVySWRdO1xuXG4gICAgICAgIGlmIChpbnRlcmFjdGlvbkRhdGEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YVtwb2ludGVySWRdO1xuICAgICAgICAgICAgaW50ZXJhY3Rpb25EYXRhLnJlc2V0KCk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRGF0YVBvb2wucHVzaChpbnRlcmFjdGlvbkRhdGEpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29uZmlndXJlIGFuIEludGVyYWN0aW9uRXZlbnQgdG8gd3JhcCBhIERPTSBQb2ludGVyRXZlbnQgYW5kIEludGVyYWN0aW9uRGF0YVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gaW50ZXJhY3Rpb25FdmVudCAtIFRoZSBldmVudCB0byBiZSBjb25maWd1cmVkXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IHBvaW50ZXJFdmVudCAtIFRoZSBET00gZXZlbnQgdGhhdCB3aWxsIGJlIHBhaXJlZCB3aXRoIHRoZSBJbnRlcmFjdGlvbkV2ZW50XG4gICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRGF0YX0gaW50ZXJhY3Rpb25EYXRhIC0gVGhlIEludGVyYWN0aW9uRGF0YSB0aGF0IHdpbGwgYmUgcGFpcmVkXG4gICAgICogICAgICAgIHdpdGggdGhlIEludGVyYWN0aW9uRXZlbnRcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IHRoZSBpbnRlcmFjdGlvbiBldmVudCB0aGF0IHdhcyBwYXNzZWQgaW5cbiAgICAgKi9cbiAgICBwcml2YXRlIGNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudChpbnRlcmFjdGlvbkV2ZW50OiBJbnRlcmFjdGlvbkV2ZW50LCBwb2ludGVyRXZlbnQ6IFBvaW50ZXJFdmVudCxcbiAgICAgICAgaW50ZXJhY3Rpb25EYXRhOiBJbnRlcmFjdGlvbkRhdGFcbiAgICApOiBJbnRlcmFjdGlvbkV2ZW50XG4gICAge1xuICAgICAgICBpbnRlcmFjdGlvbkV2ZW50LmRhdGEgPSBpbnRlcmFjdGlvbkRhdGE7XG5cbiAgICAgICAgdGhpcy5tYXBQb3NpdGlvblRvUG9pbnQoaW50ZXJhY3Rpb25EYXRhLmdsb2JhbCwgcG9pbnRlckV2ZW50LmNsaWVudFgsIHBvaW50ZXJFdmVudC5jbGllbnRZKTtcblxuICAgICAgICAvLyBOb3QgcmVhbGx5IHN1cmUgd2h5IHRoaXMgaXMgaGFwcGVuaW5nLCBidXQgaXQncyBob3cgYSBwcmV2aW91cyB2ZXJzaW9uIGhhbmRsZWQgdGhpbmdzXG4gICAgICAgIGlmIChwb2ludGVyRXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpXG4gICAgICAgIHtcbiAgICAgICAgICAgIChwb2ludGVyRXZlbnQgYXMgYW55KS5nbG9iYWxYID0gaW50ZXJhY3Rpb25EYXRhLmdsb2JhbC54O1xuICAgICAgICAgICAgKHBvaW50ZXJFdmVudCBhcyBhbnkpLmdsb2JhbFkgPSBpbnRlcmFjdGlvbkRhdGEuZ2xvYmFsLnk7XG4gICAgICAgIH1cblxuICAgICAgICBpbnRlcmFjdGlvbkRhdGEub3JpZ2luYWxFdmVudCA9IHBvaW50ZXJFdmVudDtcbiAgICAgICAgaW50ZXJhY3Rpb25FdmVudC5yZXNldCgpO1xuXG4gICAgICAgIHJldHVybiBpbnRlcmFjdGlvbkV2ZW50O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVuc3VyZXMgdGhhdCB0aGUgb3JpZ2luYWwgZXZlbnQgb2JqZWN0IGNvbnRhaW5zIGFsbCBkYXRhIHRoYXQgYSByZWd1bGFyIHBvaW50ZXIgZXZlbnQgd291bGQgaGF2ZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1RvdWNoRXZlbnR8TW91c2VFdmVudHxQb2ludGVyRXZlbnR9IGV2ZW50IC0gVGhlIG9yaWdpbmFsIGV2ZW50IGRhdGEgZnJvbSBhIHRvdWNoIG9yIG1vdXNlIGV2ZW50XG4gICAgICogQHJldHVybiB7UG9pbnRlckV2ZW50W119IEFuIGFycmF5IGNvbnRhaW5pbmcgYSBzaW5nbGUgbm9ybWFsaXplZCBwb2ludGVyIGV2ZW50LCBpbiB0aGUgY2FzZSBvZiBhIHBvaW50ZXJcbiAgICAgKiAgb3IgbW91c2UgZXZlbnQsIG9yIGEgbXVsdGlwbGUgbm9ybWFsaXplZCBwb2ludGVyIGV2ZW50cyBpZiB0aGVyZSBhcmUgbXVsdGlwbGUgY2hhbmdlZCB0b3VjaGVzXG4gICAgICovXG4gICAgcHJpdmF0ZSBub3JtYWxpemVUb1BvaW50ZXJEYXRhKGV2ZW50OiBJbnRlcmFjdGl2ZVBvaW50ZXJFdmVudCk6IFBvaW50ZXJFdmVudFtdXG4gICAge1xuICAgICAgICBjb25zdCBub3JtYWxpemVkRXZlbnRzID0gW107XG5cbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNUb3VjaEV2ZW50cyAmJiBldmVudCBpbnN0YW5jZW9mIFRvdWNoRXZlbnQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBsaSA9IGV2ZW50LmNoYW5nZWRUb3VjaGVzLmxlbmd0aDsgaSA8IGxpOyBpKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgdG91Y2ggPSBldmVudC5jaGFuZ2VkVG91Y2hlc1tpXSBhcyBQaXhpVG91Y2g7XG5cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLmJ1dHRvbiA9PT0gJ3VuZGVmaW5lZCcpIHRvdWNoLmJ1dHRvbiA9IGV2ZW50LnRvdWNoZXMubGVuZ3RoID8gMSA6IDA7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5idXR0b25zID09PSAndW5kZWZpbmVkJykgdG91Y2guYnV0dG9ucyA9IGV2ZW50LnRvdWNoZXMubGVuZ3RoID8gMSA6IDA7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5pc1ByaW1hcnkgPT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdG91Y2guaXNQcmltYXJ5ID0gZXZlbnQudG91Y2hlcy5sZW5ndGggPT09IDEgJiYgZXZlbnQudHlwZSA9PT0gJ3RvdWNoc3RhcnQnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLndpZHRoID09PSAndW5kZWZpbmVkJykgdG91Y2gud2lkdGggPSB0b3VjaC5yYWRpdXNYIHx8IDE7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5oZWlnaHQgPT09ICd1bmRlZmluZWQnKSB0b3VjaC5oZWlnaHQgPSB0b3VjaC5yYWRpdXNZIHx8IDE7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC50aWx0WCA9PT0gJ3VuZGVmaW5lZCcpIHRvdWNoLnRpbHRYID0gMDtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLnRpbHRZID09PSAndW5kZWZpbmVkJykgdG91Y2gudGlsdFkgPSAwO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2gucG9pbnRlclR5cGUgPT09ICd1bmRlZmluZWQnKSB0b3VjaC5wb2ludGVyVHlwZSA9ICd0b3VjaCc7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5wb2ludGVySWQgPT09ICd1bmRlZmluZWQnKSB0b3VjaC5wb2ludGVySWQgPSB0b3VjaC5pZGVudGlmaWVyIHx8IDA7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5wcmVzc3VyZSA9PT0gJ3VuZGVmaW5lZCcpIHRvdWNoLnByZXNzdXJlID0gdG91Y2guZm9yY2UgfHwgMC41O1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2gudHdpc3QgPT09ICd1bmRlZmluZWQnKSB0b3VjaC50d2lzdCA9IDA7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC50YW5nZW50aWFsUHJlc3N1cmUgPT09ICd1bmRlZmluZWQnKSB0b3VjaC50YW5nZW50aWFsUHJlc3N1cmUgPSAwO1xuICAgICAgICAgICAgICAgIC8vIFRPRE86IFJlbW92ZSB0aGVzZSwgYXMgbGF5ZXJYL1kgaXMgbm90IGEgc3RhbmRhcmQsIGlzIGRlcHJlY2F0ZWQsIGhhcyB1bmV2ZW5cbiAgICAgICAgICAgICAgICAvLyBzdXBwb3J0LCBhbmQgdGhlIGZpbGwgaW5zIGFyZSBub3QgcXVpdGUgdGhlIHNhbWVcbiAgICAgICAgICAgICAgICAvLyBvZmZzZXRYL1kgbWlnaHQgYmUgb2theSwgYnV0IGlzIG5vdCB0aGUgc2FtZSBhcyBjbGllbnRYL1kgd2hlbiB0aGUgY2FudmFzJ3MgdG9wXG4gICAgICAgICAgICAgICAgLy8gbGVmdCBpcyBub3QgMCwwIG9uIHRoZSBwYWdlXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5sYXllclggPT09ICd1bmRlZmluZWQnKSB0b3VjaC5sYXllclggPSB0b3VjaC5vZmZzZXRYID0gdG91Y2guY2xpZW50WDtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLmxheWVyWSA9PT0gJ3VuZGVmaW5lZCcpIHRvdWNoLmxheWVyWSA9IHRvdWNoLm9mZnNldFkgPSB0b3VjaC5jbGllbnRZO1xuXG4gICAgICAgICAgICAgICAgLy8gbWFyayB0aGUgdG91Y2ggYXMgbm9ybWFsaXplZCwganVzdCBzbyB0aGF0IHdlIGtub3cgd2UgZGlkIGl0XG4gICAgICAgICAgICAgICAgdG91Y2guaXNOb3JtYWxpemVkID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgIG5vcm1hbGl6ZWRFdmVudHMucHVzaCh0b3VjaCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gYXBwYXJlbnRseSBQb2ludGVyRXZlbnQgc3ViY2xhc3NlcyBNb3VzZUV2ZW50LCBzbyB5YXlcbiAgICAgICAgZWxzZSBpZiAoZXZlbnQgaW5zdGFuY2VvZiBNb3VzZUV2ZW50ICYmICghdGhpcy5zdXBwb3J0c1BvaW50ZXJFdmVudHMgfHwgIShldmVudCBpbnN0YW5jZW9mIHdpbmRvdy5Qb2ludGVyRXZlbnQpKSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgdGVtcEV2ZW50ID0gZXZlbnQgYXMgUGl4aVBvaW50ZXJFdmVudDtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0ZW1wRXZlbnQuaXNQcmltYXJ5ID09PSAndW5kZWZpbmVkJykgdGVtcEV2ZW50LmlzUHJpbWFyeSA9IHRydWU7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHRlbXBFdmVudC53aWR0aCA9PT0gJ3VuZGVmaW5lZCcpIHRlbXBFdmVudC53aWR0aCA9IDE7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHRlbXBFdmVudC5oZWlnaHQgPT09ICd1bmRlZmluZWQnKSB0ZW1wRXZlbnQuaGVpZ2h0ID0gMTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGVtcEV2ZW50LnRpbHRYID09PSAndW5kZWZpbmVkJykgdGVtcEV2ZW50LnRpbHRYID0gMDtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGVtcEV2ZW50LnRpbHRZID09PSAndW5kZWZpbmVkJykgdGVtcEV2ZW50LnRpbHRZID0gMDtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGVtcEV2ZW50LnBvaW50ZXJUeXBlID09PSAndW5kZWZpbmVkJykgdGVtcEV2ZW50LnBvaW50ZXJUeXBlID0gJ21vdXNlJztcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGVtcEV2ZW50LnBvaW50ZXJJZCA9PT0gJ3VuZGVmaW5lZCcpIHRlbXBFdmVudC5wb2ludGVySWQgPSBNT1VTRV9QT0lOVEVSX0lEO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB0ZW1wRXZlbnQucHJlc3N1cmUgPT09ICd1bmRlZmluZWQnKSB0ZW1wRXZlbnQucHJlc3N1cmUgPSAwLjU7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHRlbXBFdmVudC50d2lzdCA9PT0gJ3VuZGVmaW5lZCcpIHRlbXBFdmVudC50d2lzdCA9IDA7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHRlbXBFdmVudC50YW5nZW50aWFsUHJlc3N1cmUgPT09ICd1bmRlZmluZWQnKSB0ZW1wRXZlbnQudGFuZ2VudGlhbFByZXNzdXJlID0gMDtcblxuICAgICAgICAgICAgLy8gbWFyayB0aGUgbW91c2UgZXZlbnQgYXMgbm9ybWFsaXplZCwganVzdCBzbyB0aGF0IHdlIGtub3cgd2UgZGlkIGl0XG4gICAgICAgICAgICB0ZW1wRXZlbnQuaXNOb3JtYWxpemVkID0gdHJ1ZTtcblxuICAgICAgICAgICAgbm9ybWFsaXplZEV2ZW50cy5wdXNoKHRlbXBFdmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBub3JtYWxpemVkRXZlbnRzLnB1c2goZXZlbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZWRFdmVudHMgYXMgUG9pbnRlckV2ZW50W107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIGludGVyYWN0aW9uIG1hbmFnZXJcbiAgICAgKlxuICAgICAqL1xuICAgIHB1YmxpYyBkZXN0cm95KCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHRoaXMucmVtb3ZlRXZlbnRzKCk7XG5cbiAgICAgICAgdGhpcy5yZW1vdmVUaWNrZXJMaXN0ZW5lcigpO1xuXG4gICAgICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG5cbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5tb3VzZSA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5ldmVudERhdGEgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50ID0gbnVsbDtcblxuICAgICAgICB0aGlzLm9uUG9pbnRlckRvd24gPSBudWxsO1xuICAgICAgICB0aGlzLnByb2Nlc3NQb2ludGVyRG93biA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5vblBvaW50ZXJVcCA9IG51bGw7XG4gICAgICAgIHRoaXMucHJvY2Vzc1BvaW50ZXJVcCA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5vblBvaW50ZXJDYW5jZWwgPSBudWxsO1xuICAgICAgICB0aGlzLnByb2Nlc3NQb2ludGVyQ2FuY2VsID0gbnVsbDtcblxuICAgICAgICB0aGlzLm9uUG9pbnRlck1vdmUgPSBudWxsO1xuICAgICAgICB0aGlzLnByb2Nlc3NQb2ludGVyTW92ZSA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5vblBvaW50ZXJPdXQgPSBudWxsO1xuICAgICAgICB0aGlzLnByb2Nlc3NQb2ludGVyT3Zlck91dCA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5vblBvaW50ZXJPdmVyID0gbnVsbDtcblxuICAgICAgICB0aGlzLnNlYXJjaCA9IG51bGw7XG4gICAgfVxufVxuXG5pbnRlcmZhY2UgUGl4aVBvaW50ZXJFdmVudCBleHRlbmRzIFBvaW50ZXJFdmVudFxue1xuICAgIGlzUHJpbWFyeTogYm9vbGVhbjtcbiAgICB3aWR0aDogbnVtYmVyO1xuICAgIGhlaWdodDogbnVtYmVyO1xuICAgIHRpbHRYOiBudW1iZXI7XG4gICAgdGlsdFk6IG51bWJlcjtcbiAgICBwb2ludGVyVHlwZTogc3RyaW5nO1xuICAgIHBvaW50ZXJJZDogbnVtYmVyO1xuICAgIHByZXNzdXJlOiBudW1iZXI7XG4gICAgdHdpc3Q6IG51bWJlcjtcbiAgICB0YW5nZW50aWFsUHJlc3N1cmU6IG51bWJlcjtcbiAgICBpc05vcm1hbGl6ZWQ6IGJvb2xlYW47XG59XG5cbmludGVyZmFjZSBQaXhpVG91Y2ggZXh0ZW5kcyBUb3VjaFxue1xuICAgIGJ1dHRvbjogbnVtYmVyO1xuICAgIGJ1dHRvbnM6IG51bWJlcjtcbiAgICBpc1ByaW1hcnk6IGJvb2xlYW47XG4gICAgd2lkdGg6IG51bWJlcjtcbiAgICBoZWlnaHQ6IG51bWJlcjtcbiAgICB0aWx0WDogbnVtYmVyO1xuICAgIHRpbHRZOiBudW1iZXI7XG4gICAgcG9pbnRlclR5cGU6IHN0cmluZztcbiAgICBwb2ludGVySWQ6IG51bWJlcjtcbiAgICBwcmVzc3VyZTogbnVtYmVyO1xuICAgIHR3aXN0OiBudW1iZXI7XG4gICAgdGFuZ2VudGlhbFByZXNzdXJlOiBudW1iZXI7XG4gICAgbGF5ZXJYOiBudW1iZXI7XG4gICAgbGF5ZXJZOiBudW1iZXI7XG4gICAgb2Zmc2V0WDogbnVtYmVyO1xuICAgIG9mZnNldFk6IG51bWJlcjtcbiAgICBpc05vcm1hbGl6ZWQ6IGJvb2xlYW47XG59XG4iLCIvKipcbiAqIEEgUnVubmVyIGlzIGEgaGlnaGx5IHBlcmZvcm1hbnQgYW5kIHNpbXBsZSBhbHRlcm5hdGl2ZSB0byBzaWduYWxzLiBCZXN0IHVzZWQgaW4gc2l0dWF0aW9uc1xuICogd2hlcmUgZXZlbnRzIGFyZSBkaXNwYXRjaGVkIHRvIG1hbnkgb2JqZWN0cyBhdCBoaWdoIGZyZXF1ZW5jeSAoc2F5IGV2ZXJ5IGZyYW1lISlcbiAqXG4gKlxuICogbGlrZSBhIHNpZ25hbC4uXG4gKiBgYGBcbiAqIGltcG9ydCB7IFJ1bm5lciB9IGZyb20gJ0BwaXhpL3J1bm5lcic7XG4gKlxuICogY29uc3QgbXlPYmplY3QgPSB7XG4gKiAgICAgbG9hZGVkOiBuZXcgUnVubmVyKCdsb2FkZWQnKVxuICogfVxuICpcbiAqIGNvbnN0IGxpc3RlbmVyID0ge1xuICogICAgIGxvYWRlZDogZnVuY3Rpb24oKXtcbiAqICAgICAgICAgLy8gdGhpblxuICogICAgIH1cbiAqIH1cbiAqXG4gKiBteU9iamVjdC51cGRhdGUuYWRkKGxpc3RlbmVyKTtcbiAqXG4gKiBteU9iamVjdC5sb2FkZWQuZW1pdCgpO1xuICogYGBgXG4gKlxuICogT3IgZm9yIGhhbmRsaW5nIGNhbGxpbmcgdGhlIHNhbWUgZnVuY3Rpb24gb24gbWFueSBpdGVtc1xuICogYGBgXG4gKiBpbXBvcnQgeyBSdW5uZXIgfSBmcm9tICdAcGl4aS9ydW5uZXInO1xuICpcbiAqIGNvbnN0IG15R2FtZSA9IHtcbiAqICAgICB1cGRhdGU6IG5ldyBSdW5uZXIoJ3VwZGF0ZScpXG4gKiB9XG4gKlxuICogY29uc3QgZ2FtZU9iamVjdCA9IHtcbiAqICAgICB1cGRhdGU6IGZ1bmN0aW9uKHRpbWUpe1xuICogICAgICAgICAvLyB1cGRhdGUgbXkgZ2FtZXkgc3RhdGVcbiAqICAgICB9XG4gKiB9XG4gKlxuICogbXlHYW1lLnVwZGF0ZS5hZGQoZ2FtZU9iamVjdDEpO1xuICpcbiAqIG15R2FtZS51cGRhdGUuZW1pdCh0aW1lKTtcbiAqIGBgYFxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgY2xhc3MgUnVubmVyXG57XG4gICAgcHVibGljIGl0ZW1zOiBhbnlbXTtcbiAgICBwcml2YXRlIF9uYW1lOiBzdHJpbmc7XG4gICAgcHJpdmF0ZSBfYWxpYXNDb3VudDogbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICogIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gdGhlIGZ1bmN0aW9uIG5hbWUgdGhhdCB3aWxsIGJlIGV4ZWN1dGVkIG9uIHRoZSBsaXN0ZW5lcnMgYWRkZWQgdG8gdGhpcyBSdW5uZXIuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IobmFtZTogc3RyaW5nKVxuICAgIHtcbiAgICAgICAgdGhpcy5pdGVtcyA9IFtdO1xuICAgICAgICB0aGlzLl9uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5fYWxpYXNDb3VudCA9IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGlzcGF0Y2gvQnJvYWRjYXN0IFJ1bm5lciB0byBhbGwgbGlzdGVuZXJzIGFkZGVkIHRvIHRoZSBxdWV1ZS5cbiAgICAgKiBAcGFyYW0gey4uLmFueX0gcGFyYW1zIC0gb3B0aW9uYWwgcGFyYW1ldGVycyB0byBwYXNzIHRvIGVhY2ggbGlzdGVuZXJcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJ1bm5lcn1cbiAgICAgKi9cbiAgICBwdWJsaWMgZW1pdChhMD86IHVua25vd24sIGExPzogdW5rbm93biwgYTI/OiB1bmtub3duLCBhMz86IHVua25vd24sXG4gICAgICAgIGE0PzogdW5rbm93biwgYTU/OiB1bmtub3duLCBhNj86IHVua25vd24sIGE3PzogdW5rbm93bik6IHRoaXNcbiAgICB7XG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gOClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdtYXggYXJndW1lbnRzIHJlYWNoZWQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHsgbmFtZSwgaXRlbXMgfSA9IHRoaXM7XG5cbiAgICAgICAgdGhpcy5fYWxpYXNDb3VudCsrO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBpdGVtcy5sZW5ndGg7IGkgPCBsZW47IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgaXRlbXNbaV1bbmFtZV0oYTAsIGExLCBhMiwgYTMsIGE0LCBhNSwgYTYsIGE3KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpdGVtcyA9PT0gdGhpcy5pdGVtcylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fYWxpYXNDb3VudC0tO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBlbnN1cmVOb25BbGlhc2VkSXRlbXMoKTogdm9pZFxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX2FsaWFzQ291bnQgPiAwICYmIHRoaXMuaXRlbXMubGVuZ3RoID4gMSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fYWxpYXNDb3VudCA9IDA7XG4gICAgICAgICAgICB0aGlzLml0ZW1zID0gdGhpcy5pdGVtcy5zbGljZSgwKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZCBhIGxpc3RlbmVyIHRvIHRoZSBSdW5uZXJcbiAgICAgKlxuICAgICAqIFJ1bm5lcnMgZG8gbm90IG5lZWQgdG8gaGF2ZSBzY29wZSBvciBmdW5jdGlvbnMgcGFzc2VkIHRvIHRoZW0uXG4gICAgICogQWxsIHRoYXQgaXMgcmVxdWlyZWQgaXMgdG8gcGFzcyB0aGUgbGlzdGVuaW5nIG9iamVjdCBhbmQgZW5zdXJlIHRoYXQgaXQgaGFzIGNvbnRhaW5zIGEgZnVuY3Rpb24gdGhhdCBoYXMgdGhlIHNhbWUgbmFtZVxuICAgICAqIGFzIHRoZSBuYW1lIHByb3ZpZGVkIHRvIHRoZSBSdW5uZXIgd2hlbiBpdCB3YXMgY3JlYXRlZC5cbiAgICAgKlxuICAgICAqIEVnIEEgbGlzdGVuZXIgcGFzc2VkIHRvIHRoaXMgUnVubmVyIHdpbGwgcmVxdWlyZSBhICdjb21wbGV0ZScgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBgYGBcbiAgICAgKiBpbXBvcnQgeyBSdW5uZXIgfSBmcm9tICdAcGl4aS9ydW5uZXInO1xuICAgICAqXG4gICAgICogY29uc3QgY29tcGxldGUgPSBuZXcgUnVubmVyKCdjb21wbGV0ZScpO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogVGhlIHNjb3BlIHVzZWQgd2lsbCBiZSB0aGUgb2JqZWN0IGl0c2VsZi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7YW55fSBpdGVtIC0gVGhlIG9iamVjdCB0aGF0IHdpbGwgYmUgbGlzdGVuaW5nLlxuICAgICAqIEByZXR1cm4ge1BJWEkuUnVubmVyfVxuICAgICAqL1xuICAgIHB1YmxpYyBhZGQoaXRlbTogdW5rbm93bik6IHRoaXNcbiAgICB7XG4gICAgICAgIGlmICgoaXRlbSBhcyBhbnkpW3RoaXMuX25hbWVdKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmVuc3VyZU5vbkFsaWFzZWRJdGVtcygpO1xuICAgICAgICAgICAgdGhpcy5yZW1vdmUoaXRlbSk7XG4gICAgICAgICAgICB0aGlzLml0ZW1zLnB1c2goaXRlbSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYSBzaW5nbGUgbGlzdGVuZXIgZnJvbSB0aGUgZGlzcGF0Y2ggcXVldWUuXG4gICAgICogQHBhcmFtIHthbnl9IGl0ZW0gLSBUaGUgbGlzdGVuciB0aGF0IHlvdSB3b3VsZCBsaWtlIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJ1bm5lcn1cbiAgICAgKi9cbiAgICBwdWJsaWMgcmVtb3ZlKGl0ZW06IHVua25vd24pOiB0aGlzXG4gICAge1xuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuaXRlbXMuaW5kZXhPZihpdGVtKTtcblxuICAgICAgICBpZiAoaW5kZXggIT09IC0xKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmVuc3VyZU5vbkFsaWFzZWRJdGVtcygpO1xuICAgICAgICAgICAgdGhpcy5pdGVtcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgdG8gc2VlIGlmIHRoZSBsaXN0ZW5lciBpcyBhbHJlYWR5IGluIHRoZSBSdW5uZXJcbiAgICAgKiBAcGFyYW0ge2FueX0gaXRlbSAtIFRoZSBsaXN0ZW5lciB0aGF0IHlvdSB3b3VsZCBsaWtlIHRvIGNoZWNrLlxuICAgICAqL1xuICAgIHB1YmxpYyBjb250YWlucyhpdGVtOiB1bmtub3duKTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXRlbXMuaW5kZXhPZihpdGVtKSAhPT0gLTE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGFsbCBsaXN0ZW5lcnMgZnJvbSB0aGUgUnVubmVyXG4gICAgICogQHJldHVybiB7UElYSS5SdW5uZXJ9XG4gICAgICovXG4gICAgcHVibGljIHJlbW92ZUFsbCgpOiB0aGlzXG4gICAge1xuICAgICAgICB0aGlzLmVuc3VyZU5vbkFsaWFzZWRJdGVtcygpO1xuICAgICAgICB0aGlzLml0ZW1zLmxlbmd0aCA9IDA7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGFsbCByZWZlcmVuY2VzLCBkb24ndCB1c2UgYWZ0ZXIgdGhpcy5cbiAgICAgKi9cbiAgICBwdWJsaWMgZGVzdHJveSgpOiB2b2lkXG4gICAge1xuICAgICAgICB0aGlzLnJlbW92ZUFsbCgpO1xuICAgICAgICB0aGlzLml0ZW1zID0gbnVsbDtcbiAgICAgICAgdGhpcy5fbmFtZSA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogYHRydWVgIGlmIHRoZXJlIGFyZSBubyB0aGlzIFJ1bm5lciBjb250YWlucyBubyBsaXN0ZW5lcnNcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgcHVibGljIGdldCBlbXB0eSgpOiBib29sZWFuXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5pdGVtcy5sZW5ndGggPT09IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIG5hbWUgb2YgdGhlIHJ1bm5lci5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0IG5hbWUoKTogc3RyaW5nXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fbmFtZTtcbiAgICB9XG59XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFJ1bm5lci5wcm90b3R5cGUsIHtcbiAgICAvKipcbiAgICAgKiBBbGlhcyBmb3IgYGVtaXRgXG4gICAgICogQG1lbWJlcm9mIFBJWEkuUnVubmVyI1xuICAgICAqIEBtZXRob2QgZGlzcGF0Y2hcbiAgICAgKiBAc2VlIFBJWEkuUnVubmVyI2VtaXRcbiAgICAgKi9cbiAgICBkaXNwYXRjaDogeyB2YWx1ZTogUnVubmVyLnByb3RvdHlwZS5lbWl0IH0sXG4gICAgLyoqXG4gICAgICogQWxpYXMgZm9yIGBlbWl0YFxuICAgICAqIEBtZW1iZXJvZiBQSVhJLlJ1bm5lciNcbiAgICAgKiBAbWV0aG9kIHJ1blxuICAgICAqIEBzZWUgUElYSS5SdW5uZXIjZW1pdFxuICAgICAqL1xuICAgIHJ1bjogeyB2YWx1ZTogUnVubmVyLnByb3RvdHlwZS5lbWl0IH0sXG59KTtcbiIsImltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuaW1wb3J0IHsgRU5WIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmltcG9ydCB7IGlzTW9iaWxlIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuXG4vKipcbiAqIFRoZSBtYXhpbXVtIHN1cHBvcnQgZm9yIHVzaW5nIFdlYkdMLiBJZiBhIGRldmljZSBkb2VzIG5vdFxuICogc3VwcG9ydCBXZWJHTCB2ZXJzaW9uLCBmb3IgaW5zdGFuY2UgV2ViR0wgMiwgaXQgd2lsbCBzdGlsbFxuICogYXR0ZW1wdCB0byBmYWxsYmFjayBzdXBwb3J0IHRvIFdlYkdMIDEuIElmIHlvdSB3YW50IHRvXG4gKiBleHBsaWNpdGx5IHJlbW92ZSBmZWF0dXJlIHN1cHBvcnQgdG8gdGFyZ2V0IGEgbW9yZSBzdGFibGVcbiAqIGJhc2VsaW5lLCBwcmVmZXIgYSBsb3dlciBlbnZpcm9ubWVudC5cbiAqXG4gKiBEdWUgdG8ge0BsaW5rIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTkzNDgyM3xidWcgaW4gY2hyb21pdW19XG4gKiB3ZSBkaXNhYmxlIHdlYmdsMiBieSBkZWZhdWx0IGZvciBhbGwgbm9uLWFwcGxlIG1vYmlsZSBkZXZpY2VzLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBuYW1lIFBSRUZFUl9FTlZcbiAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQGRlZmF1bHQgUElYSS5FTlYuV0VCR0wyXG4gKi9cbnNldHRpbmdzLlBSRUZFUl9FTlYgPSBpc01vYmlsZS5hbnkgPyBFTlYuV0VCR0wgOiBFTlYuV0VCR0wyO1xuXG4vKipcbiAqIElmIHNldCB0byBgdHJ1ZWAsICpvbmx5KiBUZXh0dXJlcyBhbmQgQmFzZVRleHR1cmUgb2JqZWN0cyBzdG9yZWRcbiAqIGluIHRoZSBjYWNoZXMgKHtAbGluayBQSVhJLnV0aWxzLlRleHR1cmVDYWNoZSBUZXh0dXJlQ2FjaGV9IGFuZFxuICoge0BsaW5rIFBJWEkudXRpbHMuQmFzZVRleHR1cmVDYWNoZSBCYXNlVGV4dHVyZUNhY2hlfSkgY2FuIGJlXG4gKiB1c2VkIHdoZW4gY2FsbGluZyB7QGxpbmsgUElYSS5UZXh0dXJlLmZyb20gVGV4dHVyZS5mcm9tfSBvclxuICoge0BsaW5rIFBJWEkuQmFzZVRleHR1cmUuZnJvbSBCYXNlVGV4dHVyZS5mcm9tfS5cbiAqIE90aGVyd2lzZSwgdGhlc2UgYGZyb21gIGNhbGxzIHRocm93IGFuIGV4Y2VwdGlvbi4gVXNpbmcgdGhpcyBwcm9wZXJ0eVxuICogY2FuIGJlIHVzZWZ1bCBpZiB5b3Ugd2FudCB0byBlbmZvcmNlIHByZWxvYWRpbmcgYWxsIGFzc2V0cyB3aXRoXG4gKiB7QGxpbmsgUElYSS5Mb2FkZXIgTG9hZGVyfS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbmFtZSBTVFJJQ1RfVEVYVFVSRV9DQUNIRVxuICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAqIEB0eXBlIHtib29sZWFufVxuICogQGRlZmF1bHQgZmFsc2VcbiAqL1xuc2V0dGluZ3MuU1RSSUNUX1RFWFRVUkVfQ0FDSEUgPSBmYWxzZTtcblxuZXhwb3J0IHsgc2V0dGluZ3MgfTtcbiIsImltcG9ydCB7IFJlc291cmNlIH0gZnJvbSAnLi9SZXNvdXJjZSc7XG5cbmltcG9ydCB0eXBlIHsgSUltYWdlUmVzb3VyY2VPcHRpb25zIH0gZnJvbSAnLi9JbWFnZVJlc291cmNlJztcbmltcG9ydCB0eXBleyBJU2l6ZSB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IHR5cGV7IElDdWJlUmVzb3VyY2VPcHRpb25zIH0gZnJvbSAnLi9DdWJlUmVzb3VyY2UnO1xuaW1wb3J0IHR5cGV7IElTVkdSZXNvdXJjZU9wdGlvbnMgfSBmcm9tICcuL1NWR1Jlc291cmNlJztcbmltcG9ydCB0eXBleyBJVmlkZW9SZXNvdXJjZU9wdGlvbnMgfSBmcm9tICcuL1ZpZGVvUmVzb3VyY2UnO1xuXG4vKipcbiAqIEFsbG93IGZsZXhpYmxlIG9wdGlvbnMgZm9yIHJlc291cmNlIHBsdWdpbnNcbiAqL1xuZXhwb3J0IHR5cGUgSVJlc291cmNlUGx1Z2luT3B0aW9ucyA9IHsgW2tleTogc3RyaW5nXTogYW55IH07XG5cbi8qKlxuICogQWxsIGFsbG93YWJsZSBvcHRpb25zIGZvciBhdXRvRGV0ZWN0UmVzb3VyY2VcbiAqL1xuZXhwb3J0IHR5cGUgSUF1dG9EZXRlY3RPcHRpb25zID0gSVNpemVcbiAgICB8IElDdWJlUmVzb3VyY2VPcHRpb25zXG4gICAgfCBJSW1hZ2VSZXNvdXJjZU9wdGlvbnNcbiAgICB8IElTVkdSZXNvdXJjZU9wdGlvbnNcbiAgICB8IElWaWRlb1Jlc291cmNlT3B0aW9uc1xuICAgIHwgSVJlc291cmNlUGx1Z2luT3B0aW9ucztcblxuLyoqXG4gKiBTaGFwZSBvZiBzdXBwb3J0ZWQgcmVzb3VyY2UgcGx1Z2luc1xuICovXG5leHBvcnQgaW50ZXJmYWNlIElSZXNvdXJjZVBsdWdpblxue1xuICAgIHRlc3Qoc291cmNlOiB1bmtub3duLCBleHRlbnNpb246IHN0cmluZyk6IGJvb2xlYW47XG4gICAgbmV3IChzb3VyY2U6IGFueSwgb3B0aW9ucz86IGFueSk6IFJlc291cmNlO1xufVxuXG4vKipcbiAqIENvbGxlY3Rpb24gb2YgaW5zdGFsbGVkIHJlc291cmNlIHR5cGVzLCBjbGFzcyBtdXN0IGV4dGVuZCB7QGxpbmsgUElYSS5yZXNvdXJjZXMuUmVzb3VyY2V9LlxuICogQGV4YW1wbGVcbiAqIGNsYXNzIEN1c3RvbVJlc291cmNlIGV4dGVuZHMgUElYSS5yZXNvdXJjZXMuUmVzb3VyY2Uge1xuICogICAvLyBNVVNUIGhhdmUgc291cmNlLCBvcHRpb25zIGNvbnN0cnVjdG9yIHNpZ25hdHVyZVxuICogICAvLyBmb3IgYXV0by1kZXRlY3RlZCByZXNvdXJjZXMgdG8gYmUgY3JlYXRlZC5cbiAqICAgY29uc3RydWN0b3Ioc291cmNlLCBvcHRpb25zKSB7XG4gKiAgICAgc3VwZXIoKTtcbiAqICAgfVxuICogICB1cGxvYWQocmVuZGVyZXIsIGJhc2VUZXh0dXJlLCBnbFRleHR1cmUpIHtcbiAqICAgICAvLyB1cGxvYWQgd2l0aCBHTFxuICogICAgIHJldHVybiB0cnVlO1xuICogICB9XG4gKiAgIC8vIHVzZWQgdG8gYXV0by1kZXRlY3QgcmVzb3VyY2VcbiAqICAgc3RhdGljIHRlc3Qoc291cmNlLCBleHRlbnNpb24pIHtcbiAqICAgICByZXR1cm4gZXh0ZW5zaW9uID09PSAneHl6J3x8IHNvdXJjZSBpbnN0YW5jZW9mIFNvbWVDbGFzcztcbiAqICAgfVxuICogfVxuICogLy8gSW5zdGFsbCB0aGUgbmV3IHJlc291cmNlIHR5cGVcbiAqIFBJWEkucmVzb3VyY2VzLklOU1RBTExFRC5wdXNoKEN1c3RvbVJlc291cmNlKTtcbiAqXG4gKiBAbmFtZSBQSVhJLnJlc291cmNlcy5JTlNUQUxMRURcbiAqIEB0eXBlIHtBcnJheTwqPn1cbiAqIEBzdGF0aWNcbiAqIEByZWFkb25seVxuICovXG5leHBvcnQgY29uc3QgSU5TVEFMTEVEOiBBcnJheTxJUmVzb3VyY2VQbHVnaW4+ID0gW107XG5cbi8qKlxuICogQ3JlYXRlIGEgcmVzb3VyY2UgZWxlbWVudCBmcm9tIGEgc2luZ2xlIHNvdXJjZSBlbGVtZW50LiBUaGlzXG4gKiBhdXRvLWRldGVjdHMgd2hpY2ggdHlwZSBvZiByZXNvdXJjZSB0byBjcmVhdGUuIEFsbCByZXNvdXJjZXMgdGhhdFxuICogYXJlIGF1dG8tZGV0ZWN0YWJsZSBtdXN0IGhhdmUgYSBzdGF0aWMgYHRlc3RgIG1ldGhvZCBhbmQgYSBjb25zdHJ1Y3RvclxuICogd2l0aCB0aGUgYXJndW1lbnRzIGAoc291cmNlLCBvcHRpb25zPylgLiBDdXJyZW50bHksIHRoZSBzdXBwb3J0ZWRcbiAqIHJlc291cmNlcyBmb3IgYXV0by1kZXRlY3Rpb24gaW5jbHVkZTpcbiAqICAtIHtAbGluayBQSVhJLnJlc291cmNlcy5JbWFnZVJlc291cmNlfVxuICogIC0ge0BsaW5rIFBJWEkucmVzb3VyY2VzLkNhbnZhc1Jlc291cmNlfVxuICogIC0ge0BsaW5rIFBJWEkucmVzb3VyY2VzLlZpZGVvUmVzb3VyY2V9XG4gKiAgLSB7QGxpbmsgUElYSS5yZXNvdXJjZXMuU1ZHUmVzb3VyY2V9XG4gKiAgLSB7QGxpbmsgUElYSS5yZXNvdXJjZXMuQnVmZmVyUmVzb3VyY2V9XG4gKiBAc3RhdGljXG4gKiBAZnVuY3Rpb24gUElYSS5yZXNvdXJjZXMuYXV0b0RldGVjdFJlc291cmNlXG4gKiBAcGFyYW0ge3N0cmluZ3wqfSBzb3VyY2UgLSBSZXNvdXJjZSBzb3VyY2UsIHRoaXMgY2FuIGJlIHRoZSBVUkwgdG8gdGhlIHJlc291cmNlLFxuICogICAgICAgIGEgdHlwZWQtYXJyYXkgKGZvciBCdWZmZXJSZXNvdXJjZSksIEhUTUxWaWRlb0VsZW1lbnQsIFNWRyBkYXRhLXVyaVxuICogICAgICAgIG9yIGFueSBvdGhlciByZXNvdXJjZSB0aGF0IGNhbiBiZSBhdXRvLWRldGVjdGVkLiBJZiBub3QgcmVzb3VyY2UgaXNcbiAqICAgICAgICBkZXRlY3RlZCwgaXQncyBhc3N1bWVkIHRvIGJlIGFuIEltYWdlUmVzb3VyY2UuXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gUGFzcy10aHJvdWdoIG9wdGlvbnMgdG8gdXNlIGZvciBSZXNvdXJjZVxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLndpZHRoXSAtIFdpZHRoIG9mIEJ1ZmZlclJlc291cmNlIG9yIFNWRyByYXN0ZXJpemF0aW9uXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaGVpZ2h0XSAtIEhlaWdodCBvZiBCdWZmZXJSZXNvdXJjZSBvciBTVkcgcmFzdGVyaXphdGlvblxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hdXRvTG9hZD10cnVlXSAtIEltYWdlLCBTVkcgYW5kIFZpZGVvIGZsYWcgdG8gc3RhcnQgbG9hZGluZ1xuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnNjYWxlPTFdIC0gU1ZHIHNvdXJjZSBzY2FsZS4gT3ZlcnJpZGRlbiBieSB3aWR0aCwgaGVpZ2h0XG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNyZWF0ZUJpdG1hcD1QSVhJLnNldHRpbmdzLkNSRUFURV9JTUFHRV9CSVRNQVBdIC0gSW1hZ2Ugb3B0aW9uIHRvIGNyZWF0ZSBCaXRtYXAgb2JqZWN0XG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNyb3Nzb3JpZ2luPXRydWVdIC0gSW1hZ2UgYW5kIFZpZGVvIG9wdGlvbiB0byBzZXQgY3Jvc3NPcmlnaW5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYXV0b1BsYXk9dHJ1ZV0gLSBWaWRlbyBvcHRpb24gdG8gc3RhcnQgcGxheWluZyB2aWRlbyBpbW1lZGlhdGVseVxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnVwZGF0ZUZQUz0wXSAtIFZpZGVvIG9wdGlvbiB0byB1cGRhdGUgaG93IG1hbnkgdGltZXMgYSBzZWNvbmQgdGhlXG4gKiAgICAgICAgdGV4dHVyZSBzaG91bGQgYmUgdXBkYXRlZCBmcm9tIHRoZSB2aWRlby4gTGVhdmUgYXQgMCB0byB1cGRhdGUgYXQgZXZlcnkgcmVuZGVyXG4gKiBAcmV0dXJuIHtQSVhJLnJlc291cmNlcy5SZXNvdXJjZX0gVGhlIGNyZWF0ZWQgcmVzb3VyY2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhdXRvRGV0ZWN0UmVzb3VyY2Uoc291cmNlOiB1bmtub3duLCBvcHRpb25zPzogSUF1dG9EZXRlY3RPcHRpb25zKTogUmVzb3VyY2VcbntcbiAgICBpZiAoIXNvdXJjZSlcbiAgICB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGxldCBleHRlbnNpb24gPSAnJztcblxuICAgIGlmICh0eXBlb2Ygc291cmNlID09PSAnc3RyaW5nJylcbiAgICB7XG4gICAgICAgIC8vIHNlYXJjaCBmb3IgZmlsZSBleHRlbnNpb246IHBlcmlvZCwgMy00IGNoYXJzLCB0aGVuID8sICMgb3IgRU9MXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9ICgvXFwuKFxcd3szLDR9KSg/OiR8XFw/fCMpL2kpLmV4ZWMoc291cmNlKTtcblxuICAgICAgICBpZiAocmVzdWx0KVxuICAgICAgICB7XG4gICAgICAgICAgICBleHRlbnNpb24gPSByZXN1bHRbMV0udG9Mb3dlckNhc2UoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSBJTlNUQUxMRUQubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpXG4gICAge1xuICAgICAgICBjb25zdCBSZXNvdXJjZVBsdWdpbiA9IElOU1RBTExFRFtpXTtcblxuICAgICAgICBpZiAoUmVzb3VyY2VQbHVnaW4udGVzdCAmJiBSZXNvdXJjZVBsdWdpbi50ZXN0KHNvdXJjZSwgZXh0ZW5zaW9uKSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBSZXNvdXJjZVBsdWdpbihzb3VyY2UsIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdGhyb3cgbmV3IEVycm9yKCdVbnJlY29nbml6ZWQgc291cmNlIHR5cGUgdG8gYXV0by1kZXRlY3QgUmVzb3VyY2UnKTtcbn1cbiIsImltcG9ydCB7IFJ1bm5lciB9IGZyb20gJ0BwaXhpL3J1bm5lcic7XG5cbmltcG9ydCB0eXBlIHsgQmFzZVRleHR1cmUgfSBmcm9tICcuLi9CYXNlVGV4dHVyZSc7XG5pbXBvcnQgdHlwZSB7IFJlbmRlcmVyIH0gZnJvbSAnLi4vLi4vUmVuZGVyZXInO1xuaW1wb3J0IHR5cGUgeyBHTFRleHR1cmUgfSBmcm9tICcuLi9HTFRleHR1cmUnO1xuXG4vKipcbiAqIEJhc2UgcmVzb3VyY2UgY2xhc3MgZm9yIHRleHR1cmVzIHRoYXQgbWFuYWdlcyB2YWxpZGF0aW9uIGFuZCB1cGxvYWRpbmcsIGRlcGVuZGluZyBvbiBpdHMgdHlwZS5cbiAqXG4gKiBVcGxvYWRpbmcgb2YgYSBiYXNlIHRleHR1cmUgdG8gdGhlIEdQVSBpcyByZXF1aXJlZC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLnJlc291cmNlc1xuICovXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgUmVzb3VyY2VcbntcbiAgICBwdWJsaWMgZGVzdHJveWVkOiBib29sZWFuO1xuICAgIHB1YmxpYyBpbnRlcm5hbDogYm9vbGVhbjtcbiAgICBwcm90ZWN0ZWQgX3dpZHRoOiBudW1iZXI7XG4gICAgcHJvdGVjdGVkIF9oZWlnaHQ6IG51bWJlcjtcbiAgICBwcm90ZWN0ZWQgb25SZXNpemU6IFJ1bm5lcjtcbiAgICBwcm90ZWN0ZWQgb25VcGRhdGU6IFJ1bm5lcjtcbiAgICBwcm90ZWN0ZWQgb25FcnJvcjogUnVubmVyO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbd2lkdGg9MF0gLSBXaWR0aCBvZiB0aGUgcmVzb3VyY2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2hlaWdodD0wXSAtIEhlaWdodCBvZiB0aGUgcmVzb3VyY2VcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih3aWR0aCA9IDAsIGhlaWdodCA9IDApXG4gICAge1xuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJuYWwgd2lkdGggb2YgdGhlIHJlc291cmNlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fd2lkdGggPSB3aWR0aDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJuYWwgaGVpZ2h0IG9mIHRoZSByZXNvdXJjZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2hlaWdodCA9IGhlaWdodDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgcmVzb3VyY2UgaGFzIGJlZW4gZGVzdHJveWVkXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kZXN0cm95ZWQgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogYHRydWVgIGlmIHJlc291cmNlIGlzIGNyZWF0ZWQgYnkgQmFzZVRleHR1cmVcbiAgICAgICAgICogdXNlZnVsIGZvciBkb2luZyBjbGVhbnVwIHdpdGggQmFzZVRleHR1cmUgZGVzdHJveVxuICAgICAgICAgKiBhbmQgbm90IGNsZWFuaW5nIHVwIHJlc291cmNlcyB0aGF0IHdlcmUgY3JlYXRlZFxuICAgICAgICAgKiBleHRlcm5hbGx5LlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmludGVybmFsID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1pbmktcnVubmVyIGZvciBoYW5kbGluZyByZXNpemUgZXZlbnRzXG4gICAgICAgICAqIGFjY2VwdHMgMiBwYXJhbWV0ZXJzOiB3aWR0aCwgaGVpZ2h0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1J1bm5lcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25SZXNpemUgPSBuZXcgUnVubmVyKCdzZXRSZWFsU2l6ZScpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNaW5pLXJ1bm5lciBmb3IgaGFuZGxpbmcgdXBkYXRlIGV2ZW50c1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtSdW5uZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uVXBkYXRlID0gbmV3IFJ1bm5lcigndXBkYXRlJyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEhhbmRsZSBpbnRlcm5hbCBlcnJvcnMsIHN1Y2ggYXMgbG9hZGluZyBlcnJvcnNcbiAgICAgICAgICogYWNjZXB0cyAxIHBhcmFtOiBlcnJvclxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtSdW5uZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uRXJyb3IgPSBuZXcgUnVubmVyKCdvbkVycm9yJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQmluZCB0byBhIHBhcmVudCBCYXNlVGV4dHVyZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIFBhcmVudCB0ZXh0dXJlXG4gICAgICovXG4gICAgYmluZChiYXNlVGV4dHVyZTogQmFzZVRleHR1cmUpOiB2b2lkXG4gICAge1xuICAgICAgICB0aGlzLm9uUmVzaXplLmFkZChiYXNlVGV4dHVyZSk7XG4gICAgICAgIHRoaXMub25VcGRhdGUuYWRkKGJhc2VUZXh0dXJlKTtcbiAgICAgICAgdGhpcy5vbkVycm9yLmFkZChiYXNlVGV4dHVyZSk7XG5cbiAgICAgICAgLy8gQ2FsbCBhIHJlc2l6ZSBpbW1lZGlhdGUgaWYgd2UgYWxyZWFkeVxuICAgICAgICAvLyBoYXZlIHRoZSB3aWR0aCBhbmQgaGVpZ2h0IG9mIHRoZSByZXNvdXJjZVxuICAgICAgICBpZiAodGhpcy5fd2lkdGggfHwgdGhpcy5faGVpZ2h0KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLm9uUmVzaXplLmVtaXQodGhpcy5fd2lkdGgsIHRoaXMuX2hlaWdodCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVbmJpbmQgdG8gYSBwYXJlbnQgQmFzZVRleHR1cmVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBQYXJlbnQgdGV4dHVyZVxuICAgICAqL1xuICAgIHVuYmluZChiYXNlVGV4dHVyZTogQmFzZVRleHR1cmUpOiB2b2lkXG4gICAge1xuICAgICAgICB0aGlzLm9uUmVzaXplLnJlbW92ZShiYXNlVGV4dHVyZSk7XG4gICAgICAgIHRoaXMub25VcGRhdGUucmVtb3ZlKGJhc2VUZXh0dXJlKTtcbiAgICAgICAgdGhpcy5vbkVycm9yLnJlbW92ZShiYXNlVGV4dHVyZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVHJpZ2dlciBhIHJlc2l6ZSBldmVudFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIFggZGltZW5zaW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIFkgZGltZW5zaW9uXG4gICAgICovXG4gICAgcmVzaXplKHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKTogdm9pZFxuICAgIHtcbiAgICAgICAgaWYgKHdpZHRoICE9PSB0aGlzLl93aWR0aCB8fCBoZWlnaHQgIT09IHRoaXMuX2hlaWdodClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fd2lkdGggPSB3aWR0aDtcbiAgICAgICAgICAgIHRoaXMuX2hlaWdodCA9IGhlaWdodDtcbiAgICAgICAgICAgIHRoaXMub25SZXNpemUuZW1pdCh3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhhcyBiZWVuIHZhbGlkYXRlZFxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICovXG4gICAgZ2V0IHZhbGlkKCk6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX3dpZHRoICYmICEhdGhpcy5faGVpZ2h0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhhcyBiZWVuIHVwZGF0ZWQgdHJpZ2dlciBldmVudFxuICAgICAqL1xuICAgIHVwZGF0ZSgpOiB2b2lkXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMuZGVzdHJveWVkKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLm9uVXBkYXRlLmVtaXQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgY2FuIGJlIG92ZXJyaWRkZW4gdG8gc3RhcnQgcHJlbG9hZGluZyBhIHJlc291cmNlXG4gICAgICogb3IgZG8gYW55IG90aGVyIHByZXBhcmUgc3RlcC5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHJldHVybiB7UHJvbWlzZTx2b2lkPn0gSGFuZGxlIHRoZSB2YWxpZGF0ZSBldmVudFxuICAgICAqL1xuICAgIGxvYWQoKTogUHJvbWlzZTxSZXNvdXJjZT5cbiAgICB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIHdpZHRoIG9mIHRoZSByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICBnZXQgd2lkdGgoKTogbnVtYmVyXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fd2lkdGg7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGhlaWdodCBvZiB0aGUgcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgZ2V0IGhlaWdodCgpOiBudW1iZXJcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9oZWlnaHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBsb2FkcyB0aGUgdGV4dHVyZSBvciByZXR1cm5zIGZhbHNlIGlmIGl0IGNhbnQgZm9yIHNvbWUgcmVhc29uLiBPdmVycmlkZSB0aGlzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIHllYWgsIHJlbmRlcmVyIVxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSB0aGUgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7UElYSS5HTFRleHR1cmV9IGdsVGV4dHVyZSAtIHRleHR1cmUgaW5zdGFuY2UgZm9yIHRoaXMgd2ViZ2wgY29udGV4dFxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlzIHN1Y2Nlc3NcbiAgICAgKi9cbiAgICBhYnN0cmFjdCB1cGxvYWQocmVuZGVyZXI6IFJlbmRlcmVyLCBiYXNlVGV4dHVyZTogQmFzZVRleHR1cmUsIGdsVGV4dHVyZTogR0xUZXh0dXJlKTogYm9vbGVhbjtcblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgc3R5bGUsIG9wdGlvbmFsIHRvIG92ZXJyaWRlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0geWVhaCwgcmVuZGVyZXIhXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIHRoZSB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtQSVhJLkdMVGV4dHVyZX0gZ2xUZXh0dXJlIC0gdGV4dHVyZSBpbnN0YW5jZSBmb3IgdGhpcyB3ZWJnbCBjb250ZXh0XG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IGB0cnVlYCBpcyBzdWNjZXNzXG4gICAgICovXG4gICAgc3R5bGUoX3JlbmRlcmVyOiBSZW5kZXJlciwgX2Jhc2VUZXh0dXJlOiBCYXNlVGV4dHVyZSwgX2dsVGV4dHVyZTogR0xUZXh0dXJlKTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENsZWFuIHVwIGFueXRoaW5nLCB0aGlzIGhhcHBlbnMgd2hlbiBkZXN0cm95aW5nIGlzIHJlYWR5LlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIGRpc3Bvc2UoKTogdm9pZFxuICAgIHtcbiAgICAgICAgLy8gb3ZlcnJpZGVcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxsIHdoZW4gZGVzdHJveWluZyByZXNvdXJjZSwgdW5iaW5kIGFueSBCYXNlVGV4dHVyZSBvYmplY3RcbiAgICAgKiBiZWZvcmUgY2FsbGluZyB0aGlzIG1ldGhvZCwgYXMgcmVmZXJlbmNlIGNvdW50cyBhcmUgbWFpbnRhaW5lZFxuICAgICAqIGludGVybmFsbHkuXG4gICAgICovXG4gICAgZGVzdHJveSgpOiB2b2lkXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMuZGVzdHJveWVkKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmRlc3Ryb3llZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIHRoaXMub25FcnJvci5yZW1vdmVBbGwoKTtcbiAgICAgICAgICAgIHRoaXMub25FcnJvciA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLm9uUmVzaXplLnJlbW92ZUFsbCgpO1xuICAgICAgICAgICAgdGhpcy5vblJlc2l6ZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLm9uVXBkYXRlLnJlbW92ZUFsbCgpO1xuICAgICAgICAgICAgdGhpcy5vblVwZGF0ZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBYnN0cmFjdCwgdXNlZCB0byBhdXRvLWRldGVjdCByZXNvdXJjZSB0eXBlXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHsqfSBzb3VyY2UgLSBUaGUgc291cmNlIG9iamVjdFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBleHRlbnNpb24gLSBUaGUgZXh0ZW5zaW9uIG9mIHNvdXJjZSwgaWYgc2V0XG4gICAgICovXG4gICAgc3RhdGljIHRlc3QoX3NvdXJjZTogdW5rbm93biwgX2V4dGVuc2lvbj86IHN0cmluZyk6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBSZXNvdXJjZSB9IGZyb20gJy4vUmVzb3VyY2UnO1xuaW1wb3J0IHsgQUxQSEFfTU9ERVMgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuXG5pbXBvcnQgdHlwZSB7IElTaXplIH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgdHlwZSB7IEJhc2VUZXh0dXJlIH0gZnJvbSAnLi4vQmFzZVRleHR1cmUnO1xuaW1wb3J0IHR5cGUgeyBSZW5kZXJlciB9IGZyb20gJy4uLy4uL1JlbmRlcmVyJztcbmltcG9ydCB0eXBlIHsgR0xUZXh0dXJlIH0gZnJvbSAnLi4vR0xUZXh0dXJlJztcbi8qKlxuICogQGludGVyZmFjZSBTaGFyZWRBcnJheUJ1ZmZlclxuICovXG5cbi8qKlxuICogQnVmZmVyIHJlc291cmNlIHdpdGggZGF0YSBvZiB0eXBlZCBhcnJheS5cbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5yZXNvdXJjZXMuUmVzb3VyY2VcbiAqIEBtZW1iZXJvZiBQSVhJLnJlc291cmNlc1xuICovXG5leHBvcnQgY2xhc3MgQnVmZmVyUmVzb3VyY2UgZXh0ZW5kcyBSZXNvdXJjZVxue1xuICAgIGRhdGE6IEZsb2F0MzJBcnJheXxVaW50OEFycmF5fFVpbnQzMkFycmF5O1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl8VWludDhBcnJheXxVaW50MzJBcnJheX0gc291cmNlIC0gU291cmNlIGJ1ZmZlclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIC0gT3B0aW9uc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvcHRpb25zLndpZHRoIC0gV2lkdGggb2YgdGhlIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb3B0aW9ucy5oZWlnaHQgLSBIZWlnaHQgb2YgdGhlIHRleHR1cmVcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihzb3VyY2U6IEZsb2F0MzJBcnJheXxVaW50OEFycmF5fFVpbnQzMkFycmF5LCBvcHRpb25zOiBJU2l6ZSlcbiAgICB7XG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gb3B0aW9ucyB8fCB7fTtcblxuICAgICAgICBpZiAoIXdpZHRoIHx8ICFoZWlnaHQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQnVmZmVyUmVzb3VyY2Ugd2lkdGggb3IgaGVpZ2h0IGludmFsaWQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN1cGVyKHdpZHRoLCBoZWlnaHQpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTb3VyY2UgYXJyYXlcbiAgICAgICAgICogQ2Fubm90IGJlIENsYW1wZWRVaW50OEFycmF5IGJlY2F1c2UgaXQgY2FudCBiZSB1cGxvYWRlZCB0byBXZWJHTFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl8VWludDhBcnJheXxVaW50MzJBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGF0YSA9IHNvdXJjZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGxvYWQgdGhlIHRleHR1cmUgdG8gdGhlIEdQVS5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVXBsb2FkIHRvIHRoZSByZW5kZXJlclxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBSZWZlcmVuY2UgdG8gcGFyZW50IHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge1BJWEkuR0xUZXh0dXJlfSBnbFRleHR1cmUgLSBnbFRleHR1cmVcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpcyBzdWNjZXNzXG4gICAgICovXG4gICAgdXBsb2FkKHJlbmRlcmVyOiBSZW5kZXJlciwgYmFzZVRleHR1cmU6IEJhc2VUZXh0dXJlLCBnbFRleHR1cmU6IEdMVGV4dHVyZSk6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIGNvbnN0IGdsID0gcmVuZGVyZXIuZ2w7XG5cbiAgICAgICAgZ2wucGl4ZWxTdG9yZWkoZ2wuVU5QQUNLX1BSRU1VTFRJUExZX0FMUEhBX1dFQkdMLCBiYXNlVGV4dHVyZS5hbHBoYU1vZGUgPT09IEFMUEhBX01PREVTLlVOUEFDSyk7XG5cbiAgICAgICAgaWYgKGdsVGV4dHVyZS53aWR0aCA9PT0gYmFzZVRleHR1cmUud2lkdGggJiYgZ2xUZXh0dXJlLmhlaWdodCA9PT0gYmFzZVRleHR1cmUuaGVpZ2h0KVxuICAgICAgICB7XG4gICAgICAgICAgICBnbC50ZXhTdWJJbWFnZTJEKFxuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlLnRhcmdldCxcbiAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZS53aWR0aCxcbiAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZS5oZWlnaHQsXG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUuZm9ybWF0LFxuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlLnR5cGUsXG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgZ2xUZXh0dXJlLndpZHRoID0gYmFzZVRleHR1cmUud2lkdGg7XG4gICAgICAgICAgICBnbFRleHR1cmUuaGVpZ2h0ID0gYmFzZVRleHR1cmUuaGVpZ2h0O1xuXG4gICAgICAgICAgICBnbC50ZXhJbWFnZTJEKFxuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlLnRhcmdldCxcbiAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgIGdsVGV4dHVyZS5pbnRlcm5hbEZvcm1hdCxcbiAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZS53aWR0aCxcbiAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZS5oZWlnaHQsXG4gICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZS5mb3JtYXQsXG4gICAgICAgICAgICAgICAgZ2xUZXh0dXJlLnR5cGUsXG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVzdHJveSBhbmQgZG9uJ3QgdXNlIGFmdGVyIHRoaXNcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBkaXNwb3NlKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHRoaXMuZGF0YSA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXNlZCB0byBhdXRvLWRldGVjdCB0aGUgdHlwZSBvZiByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0geyp9IHNvdXJjZSAtIFRoZSBzb3VyY2Ugb2JqZWN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gYHRydWVgIGlmIDxjYW52YXM+XG4gICAgICovXG4gICAgc3RhdGljIHRlc3Qoc291cmNlOiB1bmtub3duKTogc291cmNlIGlzIEZsb2F0MzJBcnJheXxVaW50OEFycmF5fFVpbnQzMkFycmF5XG4gICAge1xuICAgICAgICByZXR1cm4gc291cmNlIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5XG4gICAgICAgICAgICB8fCBzb3VyY2UgaW5zdGFuY2VvZiBVaW50OEFycmF5XG4gICAgICAgICAgICB8fCBzb3VyY2UgaW5zdGFuY2VvZiBVaW50MzJBcnJheTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBCYXNlVGV4dHVyZUNhY2hlLCBFdmVudEVtaXR0ZXIsIGlzUG93MiwgVGV4dHVyZUNhY2hlLCB1aWQgfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgeyBGT1JNQVRTLCBTQ0FMRV9NT0RFUywgVEFSR0VUUywgVFlQRVMsIEFMUEhBX01PREVTLCBNSVBNQVBfTU9ERVMsIFdSQVBfTU9ERVMgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuaW1wb3J0IHsgUmVzb3VyY2UgfSBmcm9tICcuL3Jlc291cmNlcy9SZXNvdXJjZSc7XG5pbXBvcnQgeyBCdWZmZXJSZXNvdXJjZSB9IGZyb20gJy4vcmVzb3VyY2VzL0J1ZmZlclJlc291cmNlJztcbmltcG9ydCB7IGF1dG9EZXRlY3RSZXNvdXJjZSB9IGZyb20gJy4vcmVzb3VyY2VzL2F1dG9EZXRlY3RSZXNvdXJjZSc7XG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcblxuaW1wb3J0IHR5cGUgeyBHTFRleHR1cmUgfSBmcm9tICcuL0dMVGV4dHVyZSc7XG5cbmNvbnN0IGRlZmF1bHRCdWZmZXJPcHRpb25zID0ge1xuICAgIHNjYWxlTW9kZTogU0NBTEVfTU9ERVMuTkVBUkVTVCxcbiAgICBmb3JtYXQ6IEZPUk1BVFMuUkdCQSxcbiAgICBhbHBoYU1vZGU6IEFMUEhBX01PREVTLk5QTSxcbn07XG5cbmV4cG9ydCB0eXBlIEltYWdlU291cmNlID0gSFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fEltYWdlQml0bWFwO1xuXG5leHBvcnQgaW50ZXJmYWNlIElCYXNlVGV4dHVyZU9wdGlvbnMge1xuICAgIGFscGhhTW9kZT86IEFMUEhBX01PREVTO1xuICAgIG1pcG1hcD86IE1JUE1BUF9NT0RFUztcbiAgICBhbmlzb3Ryb3BpY0xldmVsPzogbnVtYmVyO1xuICAgIHNjYWxlTW9kZT86IFNDQUxFX01PREVTO1xuICAgIHdpZHRoPzogbnVtYmVyO1xuICAgIGhlaWdodD86IG51bWJlcjtcbiAgICB3cmFwTW9kZT86IFdSQVBfTU9ERVM7XG4gICAgZm9ybWF0PzogRk9STUFUUztcbiAgICB0eXBlPzogVFlQRVM7XG4gICAgdGFyZ2V0PzogVEFSR0VUUztcbiAgICByZXNvbHV0aW9uPzogbnVtYmVyO1xuICAgIHJlc291cmNlT3B0aW9ucz86IGFueTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCYXNlVGV4dHVyZSBleHRlbmRzIEdsb2JhbE1peGlucy5CYXNlVGV4dHVyZSwgRXZlbnRFbWl0dGVyIHt9XG5cbi8qKlxuICogQSBUZXh0dXJlIHN0b3JlcyB0aGUgaW5mb3JtYXRpb24gdGhhdCByZXByZXNlbnRzIGFuIGltYWdlLlxuICogQWxsIHRleHR1cmVzIGhhdmUgYSBiYXNlIHRleHR1cmUsIHdoaWNoIGNvbnRhaW5zIGluZm9ybWF0aW9uIGFib3V0IHRoZSBzb3VyY2UuXG4gKiBUaGVyZWZvcmUgeW91IGNhbiBoYXZlIG1hbnkgdGV4dHVyZXMgYWxsIHVzaW5nIGEgc2luZ2xlIEJhc2VUZXh0dXJlXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnV0aWxzLkV2ZW50RW1pdHRlclxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBwYXJhbSB7UElYSS5yZXNvdXJjZXMuUmVzb3VyY2V8c3RyaW5nfEhUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudH0gW3Jlc291cmNlPW51bGxdXG4gKiAgICAgICAgVGhlIGN1cnJlbnQgcmVzb3VyY2UgdG8gdXNlLCBmb3IgdGhpbmdzIHRoYXQgYXJlbid0IFJlc291cmNlIG9iamVjdHMsIHdpbGwgYmUgY29udmVydGVkXG4gKiAgICAgICAgaW50byBhIFJlc291cmNlLlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSAtIENvbGxlY3Rpb24gb2Ygb3B0aW9uc1xuICogQHBhcmFtIHtQSVhJLk1JUE1BUF9NT0RFU30gW29wdGlvbnMubWlwbWFwPVBJWEkuc2V0dGluZ3MuTUlQTUFQX1RFWFRVUkVTXSAtIElmIG1pcG1hcHBpbmcgaXMgZW5hYmxlZCBmb3IgdGV4dHVyZVxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmFuaXNvdHJvcGljTGV2ZWw9UElYSS5zZXR0aW5ncy5BTklTT1RST1BJQ19MRVZFTF0gLSBBbmlzb3Ryb3BpYyBmaWx0ZXJpbmcgbGV2ZWwgb2YgdGV4dHVyZVxuICogQHBhcmFtIHtQSVhJLldSQVBfTU9ERVN9IFtvcHRpb25zLndyYXBNb2RlPVBJWEkuc2V0dGluZ3MuV1JBUF9NT0RFXSAtIFdyYXAgbW9kZSBmb3IgdGV4dHVyZXNcbiAqIEBwYXJhbSB7UElYSS5TQ0FMRV9NT0RFU30gW29wdGlvbnMuc2NhbGVNb2RlPVBJWEkuc2V0dGluZ3MuU0NBTEVfTU9ERV0gLSBEZWZhdWx0IHNjYWxlIG1vZGUsIGxpbmVhciwgbmVhcmVzdFxuICogQHBhcmFtIHtQSVhJLkZPUk1BVFN9IFtvcHRpb25zLmZvcm1hdD1QSVhJLkZPUk1BVFMuUkdCQV0gLSBHTCBmb3JtYXQgdHlwZVxuICogQHBhcmFtIHtQSVhJLlRZUEVTfSBbb3B0aW9ucy50eXBlPVBJWEkuVFlQRVMuVU5TSUdORURfQllURV0gLSBHTCBkYXRhIHR5cGVcbiAqIEBwYXJhbSB7UElYSS5UQVJHRVRTfSBbb3B0aW9ucy50YXJnZXQ9UElYSS5UQVJHRVRTLlRFWFRVUkVfMkRdIC0gR0wgdGV4dHVyZSB0YXJnZXRcbiAqIEBwYXJhbSB7UElYSS5BTFBIQV9NT0RFU30gW29wdGlvbnMuYWxwaGFNb2RlPVBJWEkuQUxQSEFfTU9ERVMuVU5QQUNLXSAtIFByZSBtdWx0aXBseSB0aGUgaW1hZ2UgYWxwaGFcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy53aWR0aD0wXSAtIFdpZHRoIG9mIHRoZSB0ZXh0dXJlXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaGVpZ2h0PTBdIC0gSGVpZ2h0IG9mIHRoZSB0ZXh0dXJlXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMucmVzb2x1dGlvbl0gLSBSZXNvbHV0aW9uIG9mIHRoZSBiYXNlIHRleHR1cmVcbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9ucy5yZXNvdXJjZU9wdGlvbnNdIC0gT3B0aW9uYWwgcmVzb3VyY2Ugb3B0aW9ucyxcbiAqICAgICAgICBzZWUge0BsaW5rIFBJWEkucmVzb3VyY2VzLmF1dG9EZXRlY3RSZXNvdXJjZSBhdXRvRGV0ZWN0UmVzb3VyY2V9XG4gKi9cbmV4cG9ydCBjbGFzcyBCYXNlVGV4dHVyZSBleHRlbmRzIEV2ZW50RW1pdHRlclxue1xuICAgIHB1YmxpYyB3aWR0aDogbnVtYmVyO1xuICAgIHB1YmxpYyBoZWlnaHQ6IG51bWJlcjtcbiAgICBwdWJsaWMgcmVzb2x1dGlvbjogbnVtYmVyO1xuICAgIHB1YmxpYyBhbHBoYU1vZGU/OiBBTFBIQV9NT0RFUztcbiAgICBwdWJsaWMgbWlwbWFwPzogTUlQTUFQX01PREVTO1xuICAgIHB1YmxpYyBhbmlzb3Ryb3BpY0xldmVsPzogbnVtYmVyO1xuICAgIHB1YmxpYyBzY2FsZU1vZGU/OiBTQ0FMRV9NT0RFUztcbiAgICBwdWJsaWMgd3JhcE1vZGU/OiBXUkFQX01PREVTO1xuICAgIHB1YmxpYyBmb3JtYXQ/OiBGT1JNQVRTO1xuICAgIHB1YmxpYyB0eXBlPzogVFlQRVM7XG4gICAgcHVibGljIHRhcmdldD86IFRBUkdFVFM7XG5cbiAgICBwdWJsaWMgcmVhZG9ubHkgdWlkOiBudW1iZXI7XG4gICAgdG91Y2hlZDogbnVtYmVyO1xuICAgIGlzUG93ZXJPZlR3bzogYm9vbGVhbjtcblxuICAgIF9nbFRleHR1cmVzOiB7IFtrZXk6IG51bWJlcl06IEdMVGV4dHVyZSB9O1xuICAgIGRpcnR5SWQ6IG51bWJlcjtcbiAgICBkaXJ0eVN0eWxlSWQ6IG51bWJlcjtcbiAgICBwdWJsaWMgY2FjaGVJZDogc3RyaW5nO1xuICAgIHB1YmxpYyB2YWxpZDogYm9vbGVhbjtcbiAgICB0ZXh0dXJlQ2FjaGVJZHM6IEFycmF5PHN0cmluZz47XG4gICAgcHVibGljIGRlc3Ryb3llZDogYm9vbGVhbjtcbiAgICBwdWJsaWMgcmVzb3VyY2U6IFJlc291cmNlO1xuICAgIF9iYXRjaEVuYWJsZWQ6IG51bWJlcjtcbiAgICBfYmF0Y2hMb2NhdGlvbjogbnVtYmVyO1xuICAgIHBhcmVudFRleHR1cmVBcnJheTogQmFzZVRleHR1cmU7XG5cbiAgICBjb25zdHJ1Y3RvcihyZXNvdXJjZTogUmVzb3VyY2UgfCBJbWFnZVNvdXJjZSB8IHN0cmluZyB8IGFueSA9IG51bGwsIG9wdGlvbnM6IElCYXNlVGV4dHVyZU9wdGlvbnMgPSBudWxsKVxuICAgIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAgICAgICBjb25zdCB7IGFscGhhTW9kZSwgbWlwbWFwLCBhbmlzb3Ryb3BpY0xldmVsLCBzY2FsZU1vZGUsIHdpZHRoLCBoZWlnaHQsXG4gICAgICAgICAgICB3cmFwTW9kZSwgZm9ybWF0LCB0eXBlLCB0YXJnZXQsIHJlc29sdXRpb24sIHJlc291cmNlT3B0aW9ucyB9ID0gb3B0aW9ucztcblxuICAgICAgICAvLyBDb252ZXJ0IHRoZSByZXNvdXJjZSB0byBhIFJlc291cmNlIG9iamVjdFxuICAgICAgICBpZiAocmVzb3VyY2UgJiYgIShyZXNvdXJjZSBpbnN0YW5jZW9mIFJlc291cmNlKSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmVzb3VyY2UgPSBhdXRvRGV0ZWN0UmVzb3VyY2UocmVzb3VyY2UsIHJlc291cmNlT3B0aW9ucyk7XG4gICAgICAgICAgICByZXNvdXJjZS5pbnRlcm5hbCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoIG9mIHRoZSBiYXNlIHRleHR1cmUgc2V0IHdoZW4gdGhlIGltYWdlIGhhcyBsb2FkZWRcbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aCB8fCAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBiYXNlIHRleHR1cmUgc2V0IHdoZW4gdGhlIGltYWdlIGhhcyBsb2FkZWRcbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0IHx8IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSB0ZXh0dXJlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5zZXR0aW5ncy5SRVNPTFVUSU9OXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uIHx8IHNldHRpbmdzLlJFU09MVVRJT047XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1pcG1hcCBtb2RlIG9mIHRoZSB0ZXh0dXJlLCBhZmZlY3RzIGRvd25zY2FsZWQgaW1hZ2VzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTUlQTUFQX01PREVTfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLnNldHRpbmdzLk1JUE1BUF9URVhUVVJFU1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5taXBtYXAgPSBtaXBtYXAgIT09IHVuZGVmaW5lZCA/IG1pcG1hcCA6IHNldHRpbmdzLk1JUE1BUF9URVhUVVJFUztcblxuICAgICAgICAvKipcbiAgICAgICAgICogQW5pc290cm9waWMgZmlsdGVyaW5nIGxldmVsIG9mIHRleHR1cmVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLnNldHRpbmdzLkFOSVNPVFJPUElDX0xFVkVMXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmFuaXNvdHJvcGljTGV2ZWwgPSBhbmlzb3Ryb3BpY0xldmVsICE9PSB1bmRlZmluZWQgPyBhbmlzb3Ryb3BpY0xldmVsIDogc2V0dGluZ3MuQU5JU09UUk9QSUNfTEVWRUw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEhvdyB0aGUgdGV4dHVyZSB3cmFwc1xuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLndyYXBNb2RlID0gd3JhcE1vZGUgfHwgc2V0dGluZ3MuV1JBUF9NT0RFO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc2NhbGUgbW9kZSB0byBhcHBseSB3aGVuIHNjYWxpbmcgdGhpcyB0ZXh0dXJlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU0NBTEVfTU9ERVN9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuc2V0dGluZ3MuU0NBTEVfTU9ERVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zY2FsZU1vZGUgPSBzY2FsZU1vZGUgIT09IHVuZGVmaW5lZCA/IHNjYWxlTW9kZSA6IHNldHRpbmdzLlNDQUxFX01PREU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBwaXhlbCBmb3JtYXQgb2YgdGhlIHRleHR1cmVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5GT1JNQVRTfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLkZPUk1BVFMuUkdCQVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mb3JtYXQgPSBmb3JtYXQgfHwgRk9STUFUUy5SR0JBO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHlwZSBvZiByZXNvdXJjZSBkYXRhXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVFlQRVN9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuVFlQRVMuVU5TSUdORURfQllURVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50eXBlID0gdHlwZSB8fCBUWVBFUy5VTlNJR05FRF9CWVRFO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGFyZ2V0IHR5cGVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UQVJHRVRTfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLlRBUkdFVFMuVEVYVFVSRV8yRFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQgfHwgVEFSR0VUUy5URVhUVVJFXzJEO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIb3cgdG8gdHJlYXQgcHJlbXVsdGlwbGllZCBhbHBoYSwgc2VlIHtAbGluayBQSVhJLkFMUEhBX01PREVTfS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5BTFBIQV9NT0RFU31cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5BTFBIQV9NT0RFUy5VTlBBQ0tcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYWxwaGFNb2RlID0gYWxwaGFNb2RlICE9PSB1bmRlZmluZWQgPyBhbHBoYU1vZGUgOiBBTFBIQV9NT0RFUy5VTlBBQ0s7XG5cbiAgICAgICAgaWYgKChvcHRpb25zIGFzIGFueSkucHJlbXVsdGlwbHlBbHBoYSAhPT0gdW5kZWZpbmVkKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyB0cmlnZ2VycyBkZXByZWNhdGlvblxuICAgICAgICAgICAgKHRoaXMgYXMgYW55KS5wcmVtdWx0aXBseUFscGhhID0gKG9wdGlvbnMgYXMgYW55KS5wcmVtdWx0aXBseUFscGhhO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdsb2JhbCB1bmlxdWUgaWRlbnRpZmllciBmb3IgdGhpcyBCYXNlVGV4dHVyZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudWlkID0gdWlkKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZWQgYnkgYXV0b21hdGljIHRleHR1cmUgR2FyYmFnZSBDb2xsZWN0aW9uLCBzdG9yZXMgbGFzdCBHQyB0aWNrIHdoZW4gaXQgd2FzIGJvdW5kXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50b3VjaGVkID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciBvciBub3QgdGhlIHRleHR1cmUgaXMgYSBwb3dlciBvZiB0d28sIHRyeSB0byB1c2UgcG93ZXIgb2YgdHdvIHRleHR1cmVzIGFzIG11Y2hcbiAgICAgICAgICogYXMgeW91IGNhblxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaXNQb3dlck9mVHdvID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3JlZnJlc2hQT1QoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1hcCBvZiByZW5kZXIgY29udGV4dCB0ZXh0dXJlcyB3aGVyZSB0aGlzIGlzIGJvdW5kXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2dsVGV4dHVyZXMgPSB7fTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVXNlZCBieSBUZXh0dXJlU3lzdGVtIHRvIG9ubHkgdXBkYXRlIHRleHR1cmUgdG8gdGhlIEdQVSB3aGVuIG5lZWRlZC5cbiAgICAgICAgICogUGxlYXNlIGNhbGwgYHVwZGF0ZSgpYCB0byBpbmNyZW1lbnQgaXQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRpcnR5SWQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2VkIGJ5IFRleHR1cmVTeXN0ZW0gdG8gb25seSB1cGRhdGUgdGV4dHVyZSBzdHlsZSB3aGVuIG5lZWRlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRpcnR5U3R5bGVJZCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEN1cnJlbnRseSBkZWZhdWx0IGNhY2hlIElELlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNhY2hlSWQgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZW5lcmFsbHkgc3BlYWtpbmcgbWVhbnMgd2hlbiByZXNvdXJjZSBpcyBsb2FkZWQuXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy52YWxpZCA9IHdpZHRoID4gMCAmJiBoZWlnaHQgPiAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY29sbGVjdGlvbiBvZiBhbHRlcm5hdGl2ZSBjYWNoZSBpZHMsIHNpbmNlIHNvbWUgQmFzZVRleHR1cmVzXG4gICAgICAgICAqIGNhbiBoYXZlIG1vcmUgdGhhbiBvbmUgSUQsIHNob3J0IG5hbWUgYW5kIGxvbmdlciBmdWxsIFVSTFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtBcnJheTxzdHJpbmc+fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGV4dHVyZUNhY2hlSWRzID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZsYWcgaWYgQmFzZVRleHR1cmUgaGFzIGJlZW4gZGVzdHJveWVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGVzdHJveWVkID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByZXNvdXJjZSB1c2VkIGJ5IHRoaXMgQmFzZVRleHR1cmUsIHRoZXJlIGNhbiBvbmx5XG4gICAgICAgICAqIGJlIG9uZSByZXNvdXJjZSBwZXIgQmFzZVRleHR1cmUsIGJ1dCB0ZXh0dXJlcyBjYW4gc2hhcmVcbiAgICAgICAgICogcmVzb3VyY2VzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLnJlc291cmNlcy5SZXNvdXJjZX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlc291cmNlID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTnVtYmVyIG9mIHRoZSB0ZXh0dXJlIGJhdGNoLCB1c2VkIGJ5IG11bHRpLXRleHR1cmUgcmVuZGVyZXJzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2JhdGNoRW5hYmxlZCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIExvY2F0aW9uIGluc2lkZSB0ZXh0dXJlIGJhdGNoLCB1c2VkIGJ5IG11bHRpLXRleHR1cmUgcmVuZGVyZXJzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2JhdGNoTG9jYXRpb24gPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIGl0cyBhIHBhcnQgb2YgYW5vdGhlciB0ZXh0dXJlLCBoYW5kbGVkIGJ5IEFycmF5UmVzb3VyY2Ugb3IgQ3ViZVJlc291cmNlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQmFzZVRleHR1cmV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBhcmVudFRleHR1cmVBcnJheSA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBub3QtaW1tZWRpYXRlbHktYXZhaWxhYmxlIHNvdXJjZSBmaW5pc2hlcyBsb2FkaW5nLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBldmVudCBQSVhJLkJhc2VUZXh0dXJlI2xvYWRlZFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gUmVzb3VyY2UgbG9hZGVkLlxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIG5vdC1pbW1lZGlhdGVseS1hdmFpbGFibGUgc291cmNlIGZhaWxzIHRvIGxvYWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQGV2ZW50IFBJWEkuQmFzZVRleHR1cmUjZXJyb3JcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIFJlc291cmNlIGVycm9yZWQuXG4gICAgICAgICAqIEBwYXJhbSB7RXJyb3JFdmVudH0gZXZlbnQgLSBMb2FkIGVycm9yIGV2ZW50LlxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBCYXNlVGV4dHVyZSBpcyB1cGRhdGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBldmVudCBQSVhJLkJhc2VUZXh0dXJlI2xvYWRlZFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gUmVzb3VyY2UgbG9hZGVkLlxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBCYXNlVGV4dHVyZSBpcyB1cGRhdGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBldmVudCBQSVhJLkJhc2VUZXh0dXJlI3VwZGF0ZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gSW5zdGFuY2Ugb2YgdGV4dHVyZSBiZWluZyB1cGRhdGVkLlxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBCYXNlVGV4dHVyZSBpcyBkZXN0cm95ZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQGV2ZW50IFBJWEkuQmFzZVRleHR1cmUjZGlzcG9zZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gSW5zdGFuY2Ugb2YgdGV4dHVyZSBiZWluZyBkZXN0cm95ZWQuXG4gICAgICAgICAqL1xuXG4gICAgICAgIC8vIFNldCB0aGUgcmVzb3VyY2VcbiAgICAgICAgdGhpcy5zZXRSZXNvdXJjZShyZXNvdXJjZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGl4ZWwgd2lkdGggb2YgdGhlIHNvdXJjZSBvZiB0aGlzIHRleHR1cmVcbiAgICAgKlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgcmVhbFdpZHRoKCk6IG51bWJlclxuICAgIHtcbiAgICAgICAgcmV0dXJuIE1hdGguY2VpbCgodGhpcy53aWR0aCAqIHRoaXMucmVzb2x1dGlvbikgLSAxZS00KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQaXhlbCBoZWlnaHQgb2YgdGhlIHNvdXJjZSBvZiB0aGlzIHRleHR1cmVcbiAgICAgKlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgcmVhbEhlaWdodCgpOiBudW1iZXJcbiAgICB7XG4gICAgICAgIHJldHVybiBNYXRoLmNlaWwoKHRoaXMuaGVpZ2h0ICogdGhpcy5yZXNvbHV0aW9uKSAtIDFlLTQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoYW5nZXMgc3R5bGUgb3B0aW9ucyBvZiBCYXNlVGV4dHVyZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlNDQUxFX01PREVTfSBbc2NhbGVNb2RlXSAtIFBpeGkgc2NhbGVtb2RlXG4gICAgICogQHBhcmFtIHtQSVhJLk1JUE1BUF9NT0RFU30gW21pcG1hcF0gLSBlbmFibGUgbWlwbWFwc1xuICAgICAqIEByZXR1cm5zIHtQSVhJLkJhc2VUZXh0dXJlfSB0aGlzXG4gICAgICovXG4gICAgc2V0U3R5bGUoc2NhbGVNb2RlPzogU0NBTEVfTU9ERVMsIG1pcG1hcD86IE1JUE1BUF9NT0RFUyk6IHRoaXNcbiAgICB7XG4gICAgICAgIGxldCBkaXJ0eTtcblxuICAgICAgICBpZiAoc2NhbGVNb2RlICE9PSB1bmRlZmluZWQgJiYgc2NhbGVNb2RlICE9PSB0aGlzLnNjYWxlTW9kZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5zY2FsZU1vZGUgPSBzY2FsZU1vZGU7XG4gICAgICAgICAgICBkaXJ0eSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobWlwbWFwICE9PSB1bmRlZmluZWQgJiYgbWlwbWFwICE9PSB0aGlzLm1pcG1hcClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5taXBtYXAgPSBtaXBtYXA7XG4gICAgICAgICAgICBkaXJ0eSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGlydHkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZGlydHlTdHlsZUlkKys7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHcvaC9yZXNvbHV0aW9uLiBUZXh0dXJlIGJlY29tZXMgdmFsaWQgaWYgd2lkdGggYW5kIGhlaWdodCBhcmUgZ3JlYXRlciB0aGFuIHplcm8uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSBWaXN1YWwgd2lkdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gVmlzdWFsIGhlaWdodFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmVzb2x1dGlvbl0gLSBPcHRpb25hbGx5IHNldCByZXNvbHV0aW9uXG4gICAgICogQHJldHVybnMge1BJWEkuQmFzZVRleHR1cmV9IHRoaXNcbiAgICAgKi9cbiAgICBzZXRTaXplKHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyLCByZXNvbHV0aW9uPzogbnVtYmVyKTogdGhpc1xuICAgIHtcbiAgICAgICAgdGhpcy5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbiB8fCB0aGlzLnJlc29sdXRpb247XG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIHRoaXMuX3JlZnJlc2hQT1QoKTtcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHJlYWwgc2l6ZSBvZiBiYXNlVGV4dHVyZSwgcHJlc2VydmVzIGN1cnJlbnQgcmVzb2x1dGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZWFsV2lkdGggLSBGdWxsIHJlbmRlcmVkIHdpZHRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJlYWxIZWlnaHQgLSBGdWxsIHJlbmRlcmVkIGhlaWdodFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmVzb2x1dGlvbl0gLSBPcHRpb25hbGx5IHNldCByZXNvbHV0aW9uXG4gICAgICogQHJldHVybnMge1BJWEkuQmFzZVRleHR1cmV9IHRoaXNcbiAgICAgKi9cbiAgICBzZXRSZWFsU2l6ZShyZWFsV2lkdGg6IG51bWJlciwgcmVhbEhlaWdodDogbnVtYmVyLCByZXNvbHV0aW9uPzogbnVtYmVyKTogdGhpc1xuICAgIHtcbiAgICAgICAgdGhpcy5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbiB8fCB0aGlzLnJlc29sdXRpb247XG4gICAgICAgIHRoaXMud2lkdGggPSByZWFsV2lkdGggLyB0aGlzLnJlc29sdXRpb247XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gcmVhbEhlaWdodCAvIHRoaXMucmVzb2x1dGlvbjtcbiAgICAgICAgdGhpcy5fcmVmcmVzaFBPVCgpO1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlZnJlc2ggY2hlY2sgZm9yIGlzUG93ZXJPZlR3byB0ZXh0dXJlIGJhc2VkIG9uIHNpemVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgcHJvdGVjdGVkIF9yZWZyZXNoUE9UKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHRoaXMuaXNQb3dlck9mVHdvID0gaXNQb3cyKHRoaXMucmVhbFdpZHRoKSAmJiBpc1BvdzIodGhpcy5yZWFsSGVpZ2h0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHJlc29sdXRpb25cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIC0gcmVzXG4gICAgICogQHJldHVybnMge1BJWEkuQmFzZVRleHR1cmV9IHRoaXNcbiAgICAgKi9cbiAgICBzZXRSZXNvbHV0aW9uKHJlc29sdXRpb246IG51bWJlcik6IHRoaXNcbiAgICB7XG4gICAgICAgIGNvbnN0IG9sZFJlc29sdXRpb24gPSB0aGlzLnJlc29sdXRpb247XG5cbiAgICAgICAgaWYgKG9sZFJlc29sdXRpb24gPT09IHJlc29sdXRpb24pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbjtcblxuICAgICAgICBpZiAodGhpcy52YWxpZClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy53aWR0aCA9IHRoaXMud2lkdGggKiBvbGRSZXNvbHV0aW9uIC8gcmVzb2x1dGlvbjtcbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0ID0gdGhpcy5oZWlnaHQgKiBvbGRSZXNvbHV0aW9uIC8gcmVzb2x1dGlvbjtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgndXBkYXRlJywgdGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9yZWZyZXNoUE9UKCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgcmVzb3VyY2UgaWYgaXQgd2Fzbid0IHNldC4gVGhyb3dzIGVycm9yIGlmIHJlc291cmNlIGFscmVhZHkgcHJlc2VudFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLnJlc291cmNlcy5SZXNvdXJjZX0gcmVzb3VyY2UgLSB0aGF0IGlzIG1hbmFnaW5nIHRoaXMgQmFzZVRleHR1cmVcbiAgICAgKiBAcmV0dXJucyB7UElYSS5CYXNlVGV4dHVyZX0gdGhpc1xuICAgICAqL1xuICAgIHNldFJlc291cmNlKHJlc291cmNlOiBSZXNvdXJjZSk6IHRoaXNcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnJlc291cmNlID09PSByZXNvdXJjZSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5yZXNvdXJjZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXNvdXJjZSBjYW4gYmUgc2V0IG9ubHkgb25jZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVzb3VyY2UuYmluZCh0aGlzKTtcblxuICAgICAgICB0aGlzLnJlc291cmNlID0gcmVzb3VyY2U7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW52YWxpZGF0ZXMgdGhlIG9iamVjdC4gVGV4dHVyZSBiZWNvbWVzIHZhbGlkIGlmIHdpZHRoIGFuZCBoZWlnaHQgYXJlIGdyZWF0ZXIgdGhhbiB6ZXJvLlxuICAgICAqL1xuICAgIHVwZGF0ZSgpOiB2b2lkXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMudmFsaWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLndpZHRoID4gMCAmJiB0aGlzLmhlaWdodCA+IDApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy52YWxpZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdsb2FkZWQnLCB0aGlzKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ3VwZGF0ZScsIHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5kaXJ0eUlkKys7XG4gICAgICAgICAgICB0aGlzLmRpcnR5U3R5bGVJZCsrO1xuICAgICAgICAgICAgdGhpcy5lbWl0KCd1cGRhdGUnLCB0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBlcnJvcnMgd2l0aCByZXNvdXJjZXMuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Vycm9yRXZlbnR9IGV2ZW50IC0gRXJyb3IgZXZlbnQgZW1pdHRlZC5cbiAgICAgKi9cbiAgICBvbkVycm9yKGV2ZW50OiBFcnJvckV2ZW50KTogdm9pZFxuICAgIHtcbiAgICAgICAgdGhpcy5lbWl0KCdlcnJvcicsIHRoaXMsIGV2ZW50KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIGJhc2UgdGV4dHVyZS5cbiAgICAgKiBUaGUgbWV0aG9kIHN0b3BzIGlmIHJlc291cmNlIGRvZXNuJ3Qgd2FudCB0aGlzIHRleHR1cmUgdG8gYmUgZGVzdHJveWVkLlxuICAgICAqIFJlbW92ZXMgdGV4dHVyZSBmcm9tIGFsbCBjYWNoZXMuXG4gICAgICovXG4gICAgZGVzdHJveSgpOiB2b2lkXG4gICAge1xuICAgICAgICAvLyByZW1vdmUgYW5kIGRlc3Ryb3kgdGhlIHJlc291cmNlXG4gICAgICAgIGlmICh0aGlzLnJlc291cmNlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnJlc291cmNlLnVuYmluZCh0aGlzKTtcbiAgICAgICAgICAgIC8vIG9ubHkgZGVzdHJveSByZXNvdXJjZWQgY3JlYXRlZCBpbnRlcm5hbGx5XG4gICAgICAgICAgICBpZiAodGhpcy5yZXNvdXJjZS5pbnRlcm5hbClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc291cmNlLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucmVzb3VyY2UgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuY2FjaGVJZClcbiAgICAgICAge1xuICAgICAgICAgICAgZGVsZXRlIEJhc2VUZXh0dXJlQ2FjaGVbdGhpcy5jYWNoZUlkXTtcbiAgICAgICAgICAgIGRlbGV0ZSBUZXh0dXJlQ2FjaGVbdGhpcy5jYWNoZUlkXTtcblxuICAgICAgICAgICAgdGhpcy5jYWNoZUlkID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGZpbmFsbHkgbGV0IHRoZSBXZWJHTCByZW5kZXJlciBrbm93Li5cbiAgICAgICAgdGhpcy5kaXNwb3NlKCk7XG5cbiAgICAgICAgQmFzZVRleHR1cmUucmVtb3ZlRnJvbUNhY2hlKHRoaXMpO1xuICAgICAgICB0aGlzLnRleHR1cmVDYWNoZUlkcyA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5kZXN0cm95ZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZyZWVzIHRoZSB0ZXh0dXJlIGZyb20gV2ViR0wgbWVtb3J5IHdpdGhvdXQgZGVzdHJveWluZyB0aGlzIHRleHR1cmUgb2JqZWN0LlxuICAgICAqIFRoaXMgbWVhbnMgeW91IGNhbiBzdGlsbCB1c2UgdGhlIHRleHR1cmUgbGF0ZXIgd2hpY2ggd2lsbCB1cGxvYWQgaXQgdG8gR1BVXG4gICAgICogbWVtb3J5IGFnYWluLlxuICAgICAqXG4gICAgICogQGZpcmVzIFBJWEkuQmFzZVRleHR1cmUjZGlzcG9zZVxuICAgICAqL1xuICAgIGRpc3Bvc2UoKTogdm9pZFxuICAgIHtcbiAgICAgICAgdGhpcy5lbWl0KCdkaXNwb3NlJywgdGhpcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXRpbGl0eSBmdW5jdGlvbiBmb3IgQmFzZVRleHR1cmV8VGV4dHVyZSBjYXN0XG4gICAgICovXG4gICAgY2FzdFRvQmFzZVRleHR1cmUoKTogQmFzZVRleHR1cmVcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBiYXNlIHRleHR1cmUgYmFzZWQgb24gdGhlIHNvdXJjZSB5b3UgcHJvdmlkZS5cbiAgICAgKiBUaGUgc291cmNlIGNhbiBiZSAtIGltYWdlIHVybCwgaW1hZ2UgZWxlbWVudCwgY2FudmFzIGVsZW1lbnQuIElmIHRoZVxuICAgICAqIHNvdXJjZSBpcyBhbiBpbWFnZSB1cmwgb3IgYW4gaW1hZ2UgZWxlbWVudCBhbmQgbm90IGluIHRoZSBiYXNlIHRleHR1cmVcbiAgICAgKiBjYWNoZSwgaXQgd2lsbCBiZSBjcmVhdGVkIGFuZCBsb2FkZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmd8SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudHxTVkdFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR9IHNvdXJjZSAtIFRoZVxuICAgICAqICAgICAgICBzb3VyY2UgdG8gY3JlYXRlIGJhc2UgdGV4dHVyZSBmcm9tLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gU2VlIHtAbGluayBQSVhJLkJhc2VUZXh0dXJlfSdzIGNvbnN0cnVjdG9yIGZvciBvcHRpb25zLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3N0cmljdF0gLSBFbmZvcmNlIHN0cmljdC1tb2RlLCBzZWUge0BsaW5rIFBJWEkuc2V0dGluZ3MuU1RSSUNUX1RFWFRVUkVfQ0FDSEV9LlxuICAgICAqIEByZXR1cm5zIHtQSVhJLkJhc2VUZXh0dXJlfSBUaGUgbmV3IGJhc2UgdGV4dHVyZS5cbiAgICAgKi9cbiAgICBzdGF0aWMgZnJvbShzb3VyY2U6IEltYWdlU291cmNlfHN0cmluZywgb3B0aW9uczogSUJhc2VUZXh0dXJlT3B0aW9ucyxcbiAgICAgICAgc3RyaWN0ID0gc2V0dGluZ3MuU1RSSUNUX1RFWFRVUkVfQ0FDSEUpOiBCYXNlVGV4dHVyZVxuICAgIHtcbiAgICAgICAgY29uc3QgaXNGcmFtZSA9IHR5cGVvZiBzb3VyY2UgPT09ICdzdHJpbmcnO1xuICAgICAgICBsZXQgY2FjaGVJZCA9IG51bGw7XG5cbiAgICAgICAgaWYgKGlzRnJhbWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNhY2hlSWQgPSBzb3VyY2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIShzb3VyY2UgYXMgYW55KS5fcGl4aUlkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIChzb3VyY2UgYXMgYW55KS5fcGl4aUlkID0gYHBpeGlpZF8ke3VpZCgpfWA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhY2hlSWQgPSAoc291cmNlIGFzIGFueSkuX3BpeGlJZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBiYXNlVGV4dHVyZSA9IEJhc2VUZXh0dXJlQ2FjaGVbY2FjaGVJZF07XG5cbiAgICAgICAgLy8gU3RyaWN0LW1vZGUgcmVqZWN0cyBpbnZhbGlkIGNhY2hlSWRzXG4gICAgICAgIGlmIChpc0ZyYW1lICYmIHN0cmljdCAmJiAhYmFzZVRleHR1cmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVGhlIGNhY2hlSWQgXCIke2NhY2hlSWR9XCIgZG9lcyBub3QgZXhpc3QgaW4gQmFzZVRleHR1cmVDYWNoZS5gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghYmFzZVRleHR1cmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGJhc2VUZXh0dXJlID0gbmV3IEJhc2VUZXh0dXJlKHNvdXJjZSwgb3B0aW9ucyk7XG4gICAgICAgICAgICBiYXNlVGV4dHVyZS5jYWNoZUlkID0gY2FjaGVJZDtcbiAgICAgICAgICAgIEJhc2VUZXh0dXJlLmFkZFRvQ2FjaGUoYmFzZVRleHR1cmUsIGNhY2hlSWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGJhc2VUZXh0dXJlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBCYXNlVGV4dHVyZSB3aXRoIGEgQnVmZmVyUmVzb3VyY2UgZnJvbSBhIEZsb2F0MzJBcnJheS5cbiAgICAgKiBSR0JBIHZhbHVlcyBhcmUgZmxvYXRzIGZyb20gMCB0byAxLlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheXxVaW50OEFycmF5fSBidWZmZXIgLSBUaGUgb3B0aW9uYWwgYXJyYXkgdG8gdXNlLCBpZiBubyBkYXRhXG4gICAgICogICAgICAgIGlzIHByb3ZpZGVkLCBhIG5ldyBGbG9hdDMyQXJyYXkgaXMgY3JlYXRlZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSBXaWR0aCBvZiB0aGUgcmVzb3VyY2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gSGVpZ2h0IG9mIHRoZSByZXNvdXJjZVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gU2VlIHtAbGluayBQSVhJLkJhc2VUZXh0dXJlfSdzIGNvbnN0cnVjdG9yIGZvciBvcHRpb25zLlxuICAgICAqIEByZXR1cm4ge1BJWEkuQmFzZVRleHR1cmV9IFRoZSByZXN1bHRpbmcgbmV3IEJhc2VUZXh0dXJlXG4gICAgICovXG4gICAgc3RhdGljIGZyb21CdWZmZXIoYnVmZmVyOiBGbG9hdDMyQXJyYXl8VWludDhBcnJheSxcbiAgICAgICAgd2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIsIG9wdGlvbnM6IElCYXNlVGV4dHVyZU9wdGlvbnMpOiBCYXNlVGV4dHVyZVxuICAgIHtcbiAgICAgICAgYnVmZmVyID0gYnVmZmVyIHx8IG5ldyBGbG9hdDMyQXJyYXkod2lkdGggKiBoZWlnaHQgKiA0KTtcblxuICAgICAgICBjb25zdCByZXNvdXJjZSA9IG5ldyBCdWZmZXJSZXNvdXJjZShidWZmZXIsIHsgd2lkdGgsIGhlaWdodCB9KTtcbiAgICAgICAgY29uc3QgdHlwZSA9IGJ1ZmZlciBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheSA/IFRZUEVTLkZMT0FUIDogVFlQRVMuVU5TSUdORURfQllURTtcblxuICAgICAgICByZXR1cm4gbmV3IEJhc2VUZXh0dXJlKHJlc291cmNlLCBPYmplY3QuYXNzaWduKGRlZmF1bHRCdWZmZXJPcHRpb25zLCBvcHRpb25zIHx8IHsgd2lkdGgsIGhlaWdodCwgdHlwZSB9KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkcyBhIEJhc2VUZXh0dXJlIHRvIHRoZSBnbG9iYWwgQmFzZVRleHR1cmVDYWNoZS4gVGhpcyBjYWNoZSBpcyBzaGFyZWQgYWNyb3NzIHRoZSB3aG9sZSBQSVhJIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gVGhlIEJhc2VUZXh0dXJlIHRvIGFkZCB0byB0aGUgY2FjaGUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIC0gVGhlIGlkIHRoYXQgdGhlIEJhc2VUZXh0dXJlIHdpbGwgYmUgc3RvcmVkIGFnYWluc3QuXG4gICAgICovXG4gICAgc3RhdGljIGFkZFRvQ2FjaGUoYmFzZVRleHR1cmU6IEJhc2VUZXh0dXJlLCBpZDogc3RyaW5nKTogdm9pZFxuICAgIHtcbiAgICAgICAgaWYgKGlkKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoYmFzZVRleHR1cmUudGV4dHVyZUNhY2hlSWRzLmluZGV4T2YoaWQpID09PSAtMSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMucHVzaChpZCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChCYXNlVGV4dHVyZUNhY2hlW2lkXSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgQmFzZVRleHR1cmUgYWRkZWQgdG8gdGhlIGNhY2hlIHdpdGggYW4gaWQgWyR7aWR9XSB0aGF0IGFscmVhZHkgaGFkIGFuIGVudHJ5YCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIEJhc2VUZXh0dXJlQ2FjaGVbaWRdID0gYmFzZVRleHR1cmU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYSBCYXNlVGV4dHVyZSBmcm9tIHRoZSBnbG9iYWwgQmFzZVRleHR1cmVDYWNoZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIGlkIG9mIGEgQmFzZVRleHR1cmUgdG8gYmUgcmVtb3ZlZCwgb3IgYSBCYXNlVGV4dHVyZSBpbnN0YW5jZSBpdHNlbGYuXG4gICAgICogQHJldHVybiB7UElYSS5CYXNlVGV4dHVyZXxudWxsfSBUaGUgQmFzZVRleHR1cmUgdGhhdCB3YXMgcmVtb3ZlZC5cbiAgICAgKi9cbiAgICBzdGF0aWMgcmVtb3ZlRnJvbUNhY2hlKGJhc2VUZXh0dXJlOiBzdHJpbmcgfCBCYXNlVGV4dHVyZSk6IEJhc2VUZXh0dXJlfG51bGxcbiAgICB7XG4gICAgICAgIGlmICh0eXBlb2YgYmFzZVRleHR1cmUgPT09ICdzdHJpbmcnKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBiYXNlVGV4dHVyZUZyb21DYWNoZSA9IEJhc2VUZXh0dXJlQ2FjaGVbYmFzZVRleHR1cmVdO1xuXG4gICAgICAgICAgICBpZiAoYmFzZVRleHR1cmVGcm9tQ2FjaGUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSBiYXNlVGV4dHVyZUZyb21DYWNoZS50ZXh0dXJlQ2FjaGVJZHMuaW5kZXhPZihiYXNlVGV4dHVyZSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPiAtMSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlRnJvbUNhY2hlLnRleHR1cmVDYWNoZUlkcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGRlbGV0ZSBCYXNlVGV4dHVyZUNhY2hlW2Jhc2VUZXh0dXJlXTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBiYXNlVGV4dHVyZUZyb21DYWNoZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChiYXNlVGV4dHVyZSAmJiBiYXNlVGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYmFzZVRleHR1cmUudGV4dHVyZUNhY2hlSWRzLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBCYXNlVGV4dHVyZUNhY2hlW2Jhc2VUZXh0dXJlLnRleHR1cmVDYWNoZUlkc1tpXV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJhc2VUZXh0dXJlLnRleHR1cmVDYWNoZUlkcy5sZW5ndGggPSAwO1xuXG4gICAgICAgICAgICByZXR1cm4gYmFzZVRleHR1cmU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHbG9iYWwgbnVtYmVyIG9mIHRoZSB0ZXh0dXJlIGJhdGNoLCB1c2VkIGJ5IG11bHRpLXRleHR1cmUgcmVuZGVyZXJzXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHN0YXRpYyBfZ2xvYmFsQmF0Y2ggPSAwO1xufVxuIiwiaW1wb3J0IHsgUmVzb3VyY2UgfSBmcm9tICcuL1Jlc291cmNlJztcbmltcG9ydCB7IEJhc2VUZXh0dXJlIH0gZnJvbSAnLi4vQmFzZVRleHR1cmUnO1xuaW1wb3J0IHsgSVNpemUgfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB7IGF1dG9EZXRlY3RSZXNvdXJjZSwgSUF1dG9EZXRlY3RPcHRpb25zIH0gZnJvbSAnLi9hdXRvRGV0ZWN0UmVzb3VyY2UnO1xuXG4vKipcbiAqIFJlc291cmNlIHRoYXQgY2FuIG1hbmFnZSBzZXZlcmFsIHJlc291cmNlIChpdGVtcykgaW5zaWRlLlxuICogQWxsIHJlc291cmNlcyBuZWVkIHRvIGhhdmUgdGhlIHNhbWUgcGl4ZWwgc2l6ZS5cbiAqIFBhcmVudCBjbGFzcyBmb3IgQ3ViZVJlc291cmNlIGFuZCBBcnJheVJlc291cmNlXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnJlc291cmNlcy5SZXNvdXJjZVxuICogQG1lbWJlcm9mIFBJWEkucmVzb3VyY2VzXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgdG8gZm9yIFJlc291cmNlIGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGhdIC0gV2lkdGggb2YgdGhlIHJlc291cmNlXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaGVpZ2h0XSAtIEhlaWdodCBvZiB0aGUgcmVzb3VyY2VcbiAqL1xuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEFic3RyYWN0TXVsdGlSZXNvdXJjZSBleHRlbmRzIFJlc291cmNlXG57XG4gICAgcmVhZG9ubHkgbGVuZ3RoOiBudW1iZXI7XG4gICAgaXRlbXM6IEFycmF5PEJhc2VUZXh0dXJlPjtcbiAgICBpdGVtRGlydHlJZHM6IEFycmF5PG51bWJlcj47XG4gICAgcHJpdmF0ZSBfbG9hZDogUHJvbWlzZTx0aGlzPjtcblxuICAgIGJhc2VUZXh0dXJlOiBCYXNlVGV4dHVyZTtcblxuICAgIGNvbnN0cnVjdG9yKGxlbmd0aDogbnVtYmVyLCBvcHRpb25zPzogSVNpemUpXG4gICAge1xuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IG9wdGlvbnMgfHwge307XG5cbiAgICAgICAgc3VwZXIod2lkdGgsIGhlaWdodCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb2xsZWN0aW9uIG9mIHBhcnRpYWwgYmFzZVRleHR1cmVzIHRoYXQgY29ycmVzcG9uZCB0byByZXNvdXJjZXNcbiAgICAgICAgICogQG1lbWJlciB7QXJyYXk8UElYSS5CYXNlVGV4dHVyZT59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pdGVtcyA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaXJ0eSBJRHMgZm9yIGVhY2ggcGFydFxuICAgICAgICAgKiBAbWVtYmVyIHtBcnJheTxudW1iZXI+fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaXRlbURpcnR5SWRzID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgcGFydFRleHR1cmUgPSBuZXcgQmFzZVRleHR1cmUoKTtcblxuICAgICAgICAgICAgdGhpcy5pdGVtcy5wdXNoKHBhcnRUZXh0dXJlKTtcbiAgICAgICAgICAgIC8vIC0yIC0gZmlyc3QgcnVuIG9mIHRleHR1cmUgYXJyYXkgdXBsb2FkXG4gICAgICAgICAgICAvLyAtMSAtIHRleHR1cmUgaXRlbSB3YXMgYWxsb2NhdGVkXG4gICAgICAgICAgICAvLyA+PTAgLSB0ZXh0dXJlIGl0ZW0gdXBsb2FkZWQgLCBpbiBzeW5jIHdpdGggaXRlbXNbaV0uZGlydHlJZFxuICAgICAgICAgICAgdGhpcy5pdGVtRGlydHlJZHMucHVzaCgtMik7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogTnVtYmVyIG9mIGVsZW1lbnRzIGluIGFycmF5XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxlbmd0aCA9IGxlbmd0aDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvbWlzZSB3aGVuIGxvYWRpbmdcbiAgICAgICAgICogQG1lbWJlciB7UHJvbWlzZX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQGRlZmF1bHQgbnVsbFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fbG9hZCA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJvdW5kIGJhc2VUZXh0dXJlLCB0aGVyZSBjYW4gb25seSBiZSBvbmVcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5CYXNlVGV4dHVyZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYmFzZVRleHR1cmUgPSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHVzZWQgZnJvbSBBcnJheVJlc291cmNlIGFuZCBDdWJlUmVzb3VyY2UgY29uc3RydWN0b3JzXG4gICAgICogQHBhcmFtIHtBcnJheTwqPn0gcmVzb3VyY2VzIC0gQ2FuIGJlIHJlc291cmNlcywgaW1hZ2UgZWxlbWVudHMsIGNhbnZhcywgZXRjLiAsXG4gICAgICogIGxlbmd0aCBzaG91bGQgYmUgc2FtZSBhcyBjb25zdHJ1Y3RvciBsZW5ndGhcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gZGV0ZWN0IG9wdGlvbnMgZm9yIHJlc291cmNlc1xuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgaW5pdEZyb21BcnJheShyZXNvdXJjZXM6IEFycmF5PGFueT4sIG9wdGlvbnM/OiBJQXV0b0RldGVjdE9wdGlvbnMpOiB2b2lkXG4gICAge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghcmVzb3VyY2VzW2ldKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJlc291cmNlc1tpXS5jYXN0VG9CYXNlVGV4dHVyZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZEJhc2VUZXh0dXJlQXQocmVzb3VyY2VzW2ldLmNhc3RUb0Jhc2VUZXh0dXJlKCksIGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocmVzb3VyY2VzW2ldIGluc3RhbmNlb2YgUmVzb3VyY2UpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRSZXNvdXJjZUF0KHJlc291cmNlc1tpXSwgaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRSZXNvdXJjZUF0KGF1dG9EZXRlY3RSZXNvdXJjZShyZXNvdXJjZXNbaV0sIG9wdGlvbnMpLCBpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3kgdGhpcyBCYXNlSW1hZ2VSZXNvdXJjZVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIGRpc3Bvc2UoKTogdm9pZFxuICAgIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHRoaXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuaXRlbXNbaV0uZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaXRlbXMgPSBudWxsO1xuICAgICAgICB0aGlzLml0ZW1EaXJ0eUlkcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2xvYWQgPSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCBhIGJhc2VUZXh0dXJlIGJ5IElEXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IC0gWmVyby1iYXNlZCBpbmRleCBvZiByZXNvdXJjZSB0byBzZXRcbiAgICAgKiBAcmV0dXJuIHtQSVhJLnJlc291cmNlcy5BYnN0cmFjdE11bHRpUmVzb3VyY2V9IEluc3RhbmNlIGZvciBjaGFpbmluZ1xuICAgICAqL1xuICAgIGFic3RyYWN0IGFkZEJhc2VUZXh0dXJlQXQoYmFzZVRleHR1cmU6IEJhc2VUZXh0dXJlLCBpbmRleDogbnVtYmVyKTogdGhpcztcblxuICAgIC8qKlxuICAgICAqIFNldCBhIHJlc291cmNlIGJ5IElEXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkucmVzb3VyY2VzLlJlc291cmNlfSByZXNvdXJjZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCAtIFplcm8tYmFzZWQgaW5kZXggb2YgcmVzb3VyY2UgdG8gc2V0XG4gICAgICogQHJldHVybiB7UElYSS5yZXNvdXJjZXMuQXJyYXlSZXNvdXJjZX0gSW5zdGFuY2UgZm9yIGNoYWluaW5nXG4gICAgICovXG4gICAgYWRkUmVzb3VyY2VBdChyZXNvdXJjZTogUmVzb3VyY2UsIGluZGV4OiBudW1iZXIpOiB0aGlzXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMuaXRlbXNbaW5kZXhdKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEluZGV4ICR7aW5kZXh9IGlzIG91dCBvZiBib3VuZHNgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEluaGVyaXQgdGhlIGZpcnN0IHJlc291cmNlIGRpbWVuc2lvbnNcbiAgICAgICAgaWYgKHJlc291cmNlLnZhbGlkICYmICF0aGlzLnZhbGlkKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnJlc2l6ZShyZXNvdXJjZS53aWR0aCwgcmVzb3VyY2UuaGVpZ2h0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaXRlbXNbaW5kZXhdLnNldFJlc291cmNlKHJlc291cmNlKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHBhcmVudCBiYXNlIHRleHR1cmVcbiAgICAgKiBAbWVtYmVyIHtQSVhJLkJhc2VUZXh0dXJlfVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIGJpbmQoYmFzZVRleHR1cmU6IEJhc2VUZXh0dXJlKTogdm9pZFxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuYmFzZVRleHR1cmUgIT09IG51bGwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignT25seSBvbmUgYmFzZSB0ZXh0dXJlIHBlciBUZXh0dXJlQXJyYXkgaXMgYWxsb3dlZCcpO1xuICAgICAgICB9XG4gICAgICAgIHN1cGVyLmJpbmQoYmFzZVRleHR1cmUpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5pdGVtc1tpXS5wYXJlbnRUZXh0dXJlQXJyYXkgPSBiYXNlVGV4dHVyZTtcbiAgICAgICAgICAgIHRoaXMuaXRlbXNbaV0ub24oJ3VwZGF0ZScsIGJhc2VUZXh0dXJlLnVwZGF0ZSwgYmFzZVRleHR1cmUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVW5zZXQgdGhlIHBhcmVudCBiYXNlIHRleHR1cmVcbiAgICAgKiBAbWVtYmVyIHtQSVhJLkJhc2VUZXh0dXJlfVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIHVuYmluZChiYXNlVGV4dHVyZTogQmFzZVRleHR1cmUpOiB2b2lkXG4gICAge1xuICAgICAgICBzdXBlci51bmJpbmQoYmFzZVRleHR1cmUpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5pdGVtc1tpXS5wYXJlbnRUZXh0dXJlQXJyYXkgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5pdGVtc1tpXS5vZmYoJ3VwZGF0ZScsIGJhc2VUZXh0dXJlLnVwZGF0ZSwgYmFzZVRleHR1cmUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTG9hZCBhbGwgdGhlIHJlc291cmNlcyBzaW11bHRhbmVvdXNseVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8dm9pZD59IFdoZW4gbG9hZCBpcyByZXNvbHZlZFxuICAgICAqL1xuICAgIGxvYWQoKTogUHJvbWlzZTx0aGlzPlxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX2xvYWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9sb2FkO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcmVzb3VyY2VzID0gdGhpcy5pdGVtcy5tYXAoKGl0ZW0pID0+IGl0ZW0ucmVzb3VyY2UpLmZpbHRlcigoaXRlbSkgPT4gaXRlbSk7XG5cbiAgICAgICAgLy8gVE9ETzogYWxzbyBpbXBsZW1lbnQgbG9hZCBwYXJ0LWJ5LXBhcnQgc3RyYXRlZ3lcbiAgICAgICAgY29uc3QgcHJvbWlzZXMgPSByZXNvdXJjZXMubWFwKChpdGVtKSA9PiBpdGVtLmxvYWQoKSk7XG5cbiAgICAgICAgdGhpcy5fbG9hZCA9IFByb21pc2UuYWxsKHByb21pc2VzKVxuICAgICAgICAgICAgLnRoZW4oKCkgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHJlYWxXaWR0aCwgcmVhbEhlaWdodCB9ID0gdGhpcy5pdGVtc1swXTtcblxuICAgICAgICAgICAgICAgIHRoaXMucmVzaXplKHJlYWxXaWR0aCwgcmVhbEhlaWdodCk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5fbG9hZDtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBBYnN0cmFjdE11bHRpUmVzb3VyY2UgfSBmcm9tICcuL0Fic3RyYWN0TXVsdGlSZXNvdXJjZSc7XG5pbXBvcnQgeyBUQVJHRVRTIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmltcG9ydCB7IEJhc2VUZXh0dXJlIH0gZnJvbSAnLi4vQmFzZVRleHR1cmUnO1xuXG5pbXBvcnQgdHlwZSB7IEJhc2VJbWFnZVJlc291cmNlIH0gZnJvbSAnLi9CYXNlSW1hZ2VSZXNvdXJjZSc7XG5pbXBvcnQgdHlwZSB7IFJlbmRlcmVyIH0gZnJvbSAnLi4vLi4vUmVuZGVyZXInO1xuaW1wb3J0IHR5cGUgeyBHTFRleHR1cmUgfSBmcm9tICcuLi9HTFRleHR1cmUnO1xuaW1wb3J0IHR5cGUgeyBJU2l6ZSB9IGZyb20gJ0BwaXhpL21hdGgnO1xuXG4vKipcbiAqIEEgcmVzb3VyY2UgdGhhdCBjb250YWlucyBhIG51bWJlciBvZiBzb3VyY2VzLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5yZXNvdXJjZXMuUmVzb3VyY2VcbiAqIEBtZW1iZXJvZiBQSVhJLnJlc291cmNlc1xuICogQHBhcmFtIHtudW1iZXJ8QXJyYXk8Kj59IHNvdXJjZSAtIE51bWJlciBvZiBpdGVtcyBpbiBhcnJheSBvciB0aGUgY29sbGVjdGlvblxuICogICAgICAgIG9mIGltYWdlIFVSTHMgdG8gdXNlLiBDYW4gYWxzbyBiZSByZXNvdXJjZXMsIGltYWdlIGVsZW1lbnRzLCBjYW52YXMsIGV0Yy5cbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBPcHRpb25zIHRvIGFwcGx5IHRvIHtAbGluayBQSVhJLnJlc291cmNlcy5hdXRvRGV0ZWN0UmVzb3VyY2V9XG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGhdIC0gV2lkdGggb2YgdGhlIHJlc291cmNlXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaGVpZ2h0XSAtIEhlaWdodCBvZiB0aGUgcmVzb3VyY2VcbiAqL1xuZXhwb3J0IGNsYXNzIEFycmF5UmVzb3VyY2UgZXh0ZW5kcyBBYnN0cmFjdE11bHRpUmVzb3VyY2VcbntcbiAgICBjb25zdHJ1Y3Rvcihzb3VyY2U6IG51bWJlcnxBcnJheTxhbnk+LCBvcHRpb25zPzogSVNpemUpXG4gICAge1xuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IG9wdGlvbnMgfHwge307XG5cbiAgICAgICAgbGV0IHVybHM7XG4gICAgICAgIGxldCBsZW5ndGg6IG51bWJlcjtcblxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShzb3VyY2UpKVxuICAgICAgICB7XG4gICAgICAgICAgICB1cmxzID0gc291cmNlO1xuICAgICAgICAgICAgbGVuZ3RoID0gc291cmNlLmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxlbmd0aCA9IHNvdXJjZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN1cGVyKGxlbmd0aCwgeyB3aWR0aCwgaGVpZ2h0IH0pO1xuXG4gICAgICAgIGlmICh1cmxzKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmluaXRGcm9tQXJyYXkodXJscywgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IGEgYmFzZVRleHR1cmUgYnkgSUQsXG4gICAgICogQXJyYXlSZXNvdXJjZSBqdXN0IHRha2VzIHJlc291cmNlIGZyb20gaXQsIG5vdGhpbmcgbW9yZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCAtIFplcm8tYmFzZWQgaW5kZXggb2YgcmVzb3VyY2UgdG8gc2V0XG4gICAgICogQHJldHVybiB7UElYSS5yZXNvdXJjZXMuQXJyYXlSZXNvdXJjZX0gSW5zdGFuY2UgZm9yIGNoYWluaW5nXG4gICAgICovXG4gICAgYWRkQmFzZVRleHR1cmVBdChiYXNlVGV4dHVyZTogQmFzZVRleHR1cmUsIGluZGV4OiBudW1iZXIpOiB0aGlzXG4gICAge1xuICAgICAgICBpZiAoYmFzZVRleHR1cmUucmVzb3VyY2UpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuYWRkUmVzb3VyY2VBdChiYXNlVGV4dHVyZS5yZXNvdXJjZSwgaW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBcnJheVJlc291cmNlIGRvZXMgbm90IHN1cHBvcnQgUmVuZGVyVGV4dHVyZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkIGJpbmRpbmdcbiAgICAgKiBAbWVtYmVyIHtQSVhJLkJhc2VUZXh0dXJlfVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIGJpbmQoYmFzZVRleHR1cmU6IEJhc2VUZXh0dXJlKTogdm9pZFxuICAgIHtcbiAgICAgICAgc3VwZXIuYmluZChiYXNlVGV4dHVyZSk7XG5cbiAgICAgICAgYmFzZVRleHR1cmUudGFyZ2V0ID0gVEFSR0VUUy5URVhUVVJFXzJEX0FSUkFZO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwbG9hZCB0aGUgcmVzb3VyY2VzIHRvIHRoZSBHUFUuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlclxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7UElYSS5HTFRleHR1cmV9IGdsVGV4dHVyZVxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB3aGV0aGVyIHRleHR1cmUgd2FzIHVwbG9hZGVkXG4gICAgICovXG4gICAgdXBsb2FkKHJlbmRlcmVyOiBSZW5kZXJlciwgdGV4dHVyZTogQmFzZVRleHR1cmUsIGdsVGV4dHVyZTogR0xUZXh0dXJlKTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgY29uc3QgeyBsZW5ndGgsIGl0ZW1EaXJ0eUlkcywgaXRlbXMgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHsgZ2wgfSA9IHJlbmRlcmVyO1xuXG4gICAgICAgIGlmIChnbFRleHR1cmUuZGlydHlJZCA8IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsLnRleEltYWdlM0QoXG4gICAgICAgICAgICAgICAgZ2wuVEVYVFVSRV8yRF9BUlJBWSxcbiAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgIHRleHR1cmUuZm9ybWF0LFxuICAgICAgICAgICAgICAgIHRoaXMuX3dpZHRoLFxuICAgICAgICAgICAgICAgIHRoaXMuX2hlaWdodCxcbiAgICAgICAgICAgICAgICBsZW5ndGgsXG4gICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICB0ZXh0dXJlLmZvcm1hdCxcbiAgICAgICAgICAgICAgICB0ZXh0dXJlLnR5cGUsXG4gICAgICAgICAgICAgICAgbnVsbFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBpdGVtc1tpXTtcblxuICAgICAgICAgICAgaWYgKGl0ZW1EaXJ0eUlkc1tpXSA8IGl0ZW0uZGlydHlJZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpdGVtRGlydHlJZHNbaV0gPSBpdGVtLmRpcnR5SWQ7XG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0udmFsaWQpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBnbC50ZXhTdWJJbWFnZTNEKFxuICAgICAgICAgICAgICAgICAgICAgICAgZ2wuVEVYVFVSRV8yRF9BUlJBWSxcbiAgICAgICAgICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAwLCAvLyB4b2Zmc2V0XG4gICAgICAgICAgICAgICAgICAgICAgICAwLCAvLyB5b2Zmc2V0XG4gICAgICAgICAgICAgICAgICAgICAgICBpLCAvLyB6b2Zmc2V0XG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnJlc291cmNlLndpZHRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5yZXNvdXJjZS5oZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dHVyZS5mb3JtYXQsXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlLnR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAoaXRlbS5yZXNvdXJjZSBhcyBCYXNlSW1hZ2VSZXNvdXJjZSkuc291cmNlXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgUmVzb3VyY2UgfSBmcm9tICcuL1Jlc291cmNlJztcbmltcG9ydCB7IGRldGVybWluZUNyb3NzT3JpZ2luIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuaW1wb3J0IHsgQUxQSEFfTU9ERVMgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuXG5pbXBvcnQgdHlwZSB7IEJhc2VUZXh0dXJlLCBJbWFnZVNvdXJjZSB9IGZyb20gJy4uL0Jhc2VUZXh0dXJlJztcbmltcG9ydCB0eXBlIHsgUmVuZGVyZXIgfSBmcm9tICcuLi8uLi9SZW5kZXJlcic7XG5pbXBvcnQgdHlwZSB7IEdMVGV4dHVyZSB9IGZyb20gJy4uL0dMVGV4dHVyZSc7XG4vKipcbiAqIEJhc2UgZm9yIGFsbCB0aGUgaW1hZ2UvY2FudmFzIHJlc291cmNlc1xuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnJlc291cmNlcy5SZXNvdXJjZVxuICogQG1lbWJlcm9mIFBJWEkucmVzb3VyY2VzXG4gKi9cbmV4cG9ydCBjbGFzcyBCYXNlSW1hZ2VSZXNvdXJjZSBleHRlbmRzIFJlc291cmNlXG57XG4gICAgcHVibGljIHNvdXJjZTogSW1hZ2VTb3VyY2U7XG4gICAgcHVibGljIG5vU3ViSW1hZ2U6IGJvb2xlYW47XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0hUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudHxTVkdFbGVtZW50fSBzb3VyY2VcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihzb3VyY2U6IEltYWdlU291cmNlKVxuICAgIHtcbiAgICAgICAgY29uc3Qgc291cmNlQW55ID0gc291cmNlIGFzIGFueTtcbiAgICAgICAgY29uc3Qgd2lkdGggPSBzb3VyY2VBbnkubmF0dXJhbFdpZHRoIHx8IHNvdXJjZUFueS52aWRlb1dpZHRoIHx8IHNvdXJjZUFueS53aWR0aDtcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gc291cmNlQW55Lm5hdHVyYWxIZWlnaHQgfHwgc291cmNlQW55LnZpZGVvSGVpZ2h0IHx8IHNvdXJjZUFueS5oZWlnaHQ7XG5cbiAgICAgICAgc3VwZXIod2lkdGgsIGhlaWdodCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzb3VyY2UgZWxlbWVudFxuICAgICAgICAgKiBAbWVtYmVyIHtIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR8U1ZHRWxlbWVudH1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNvdXJjZSA9IHNvdXJjZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgc2V0IHRvIGB0cnVlYCwgd2lsbCBmb3JjZSBgdGV4SW1hZ2UyRGAgb3ZlciBgdGV4U3ViSW1hZ2UyRGAgZm9yIHVwbG9hZGluZy5cbiAgICAgICAgICogQ2VydGFpbiB0eXBlcyBvZiBtZWRpYSAoZS5nLiB2aWRlbykgdXNpbmcgYHRleEltYWdlMkRgIGlzIG1vcmUgcGVyZm9ybWFudC5cbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubm9TdWJJbWFnZSA9IGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCBjcm9zcyBvcmlnaW4gYmFzZWQgZGV0ZWN0aW5nIHRoZSB1cmwgYW5kIHRoZSBjcm9zc29yaWdpblxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IC0gRWxlbWVudCB0byBhcHBseSBjcm9zc09yaWdpblxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBVUkwgdG8gY2hlY2tcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW58c3RyaW5nfSBbY3Jvc3NvcmlnaW49dHJ1ZV0gLSBDcm9zcyBvcmlnaW4gdmFsdWUgdG8gdXNlXG4gICAgICovXG4gICAgc3RhdGljIGNyb3NzT3JpZ2luKGVsZW1lbnQ6IEhUTUxJbWFnZUVsZW1lbnR8SFRNTFZpZGVvRWxlbWVudCwgdXJsOiBzdHJpbmcsIGNyb3Nzb3JpZ2luOiBib29sZWFufHN0cmluZyk6IHZvaWRcbiAgICB7XG4gICAgICAgIGlmIChjcm9zc29yaWdpbiA9PT0gdW5kZWZpbmVkICYmIHVybC5pbmRleE9mKCdkYXRhOicpICE9PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICBlbGVtZW50LmNyb3NzT3JpZ2luID0gZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4odXJsKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjcm9zc29yaWdpbiAhPT0gZmFsc2UpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGVsZW1lbnQuY3Jvc3NPcmlnaW4gPSB0eXBlb2YgY3Jvc3NvcmlnaW4gPT09ICdzdHJpbmcnID8gY3Jvc3NvcmlnaW4gOiAnYW5vbnltb3VzJztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwbG9hZCB0aGUgdGV4dHVyZSB0byB0aGUgR1BVLlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBVcGxvYWQgdG8gdGhlIHJlbmRlcmVyXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIFJlZmVyZW5jZSB0byBwYXJlbnQgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7UElYSS5HTFRleHR1cmV9IGdsVGV4dHVyZVxuICAgICAqIEBwYXJhbSB7SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fFNWR0VsZW1lbnR9IFtzb3VyY2VdIChvcHRpb25hbClcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpcyBzdWNjZXNzXG4gICAgICovXG4gICAgdXBsb2FkKHJlbmRlcmVyOiBSZW5kZXJlciwgYmFzZVRleHR1cmU6IEJhc2VUZXh0dXJlLCBnbFRleHR1cmU6IEdMVGV4dHVyZSwgc291cmNlPzogSW1hZ2VTb3VyY2UpOiBib29sZWFuXG4gICAge1xuICAgICAgICBjb25zdCBnbCA9IHJlbmRlcmVyLmdsO1xuICAgICAgICBjb25zdCB3aWR0aCA9IGJhc2VUZXh0dXJlLnJlYWxXaWR0aDtcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gYmFzZVRleHR1cmUucmVhbEhlaWdodDtcblxuICAgICAgICBzb3VyY2UgPSBzb3VyY2UgfHwgdGhpcy5zb3VyY2U7XG5cbiAgICAgICAgZ2wucGl4ZWxTdG9yZWkoZ2wuVU5QQUNLX1BSRU1VTFRJUExZX0FMUEhBX1dFQkdMLCBiYXNlVGV4dHVyZS5hbHBoYU1vZGUgPT09IEFMUEhBX01PREVTLlVOUEFDSyk7XG5cbiAgICAgICAgaWYgKCF0aGlzLm5vU3ViSW1hZ2VcbiAgICAgICAgICAgICYmIGJhc2VUZXh0dXJlLnRhcmdldCA9PT0gZ2wuVEVYVFVSRV8yRFxuICAgICAgICAgICAgJiYgZ2xUZXh0dXJlLndpZHRoID09PSB3aWR0aFxuICAgICAgICAgICAgJiYgZ2xUZXh0dXJlLmhlaWdodCA9PT0gaGVpZ2h0KVxuICAgICAgICB7XG4gICAgICAgICAgICBnbC50ZXhTdWJJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIDAsIDAsIGJhc2VUZXh0dXJlLmZvcm1hdCwgYmFzZVRleHR1cmUudHlwZSwgc291cmNlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsVGV4dHVyZS53aWR0aCA9IHdpZHRoO1xuICAgICAgICAgICAgZ2xUZXh0dXJlLmhlaWdodCA9IGhlaWdodDtcblxuICAgICAgICAgICAgZ2wudGV4SW1hZ2UyRChiYXNlVGV4dHVyZS50YXJnZXQsIDAsIGJhc2VUZXh0dXJlLmZvcm1hdCwgYmFzZVRleHR1cmUuZm9ybWF0LCBiYXNlVGV4dHVyZS50eXBlLCBzb3VyY2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIHNvdXJjZSB3aWR0aC9oZWlnaHQgd2FzIGNoYW5nZWQsIHJlc2l6ZSBjYW4gY2F1c2UgZXh0cmEgYmFzZVRleHR1cmUgdXBkYXRlLlxuICAgICAqIFRyaWdnZXJzIG9uZSB1cGRhdGUgaW4gYW55IGNhc2UuXG4gICAgICovXG4gICAgdXBkYXRlKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmRlc3Ryb3llZClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc291cmNlID0gdGhpcy5zb3VyY2UgYXMgYW55O1xuXG4gICAgICAgIGNvbnN0IHdpZHRoID0gc291cmNlLm5hdHVyYWxXaWR0aCB8fCBzb3VyY2UudmlkZW9XaWR0aCB8fCBzb3VyY2Uud2lkdGg7XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IHNvdXJjZS5uYXR1cmFsSGVpZ2h0IHx8IHNvdXJjZS52aWRlb0hlaWdodCB8fCBzb3VyY2UuaGVpZ2h0O1xuXG4gICAgICAgIHRoaXMucmVzaXplKHdpZHRoLCBoZWlnaHQpO1xuXG4gICAgICAgIHN1cGVyLnVwZGF0ZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3kgdGhpcyBCYXNlSW1hZ2VSZXNvdXJjZVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIGRpc3Bvc2UoKTogdm9pZFxuICAgIHtcbiAgICAgICAgdGhpcy5zb3VyY2UgPSBudWxsO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEJhc2VJbWFnZVJlc291cmNlIH0gZnJvbSAnLi9CYXNlSW1hZ2VSZXNvdXJjZSc7XG5cbi8qKlxuICogQGludGVyZmFjZSBPZmZzY3JlZW5DYW52YXNcbiAqL1xuXG4vKipcbiAqIFJlc291cmNlIHR5cGUgZm9yIEhUTUxDYW52YXNFbGVtZW50LlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnJlc291cmNlcy5CYXNlSW1hZ2VSZXNvdXJjZVxuICogQG1lbWJlcm9mIFBJWEkucmVzb3VyY2VzXG4gKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBzb3VyY2UgLSBDYW52YXMgZWxlbWVudCB0byB1c2VcbiAqL1xuZXhwb3J0IGNsYXNzIENhbnZhc1Jlc291cmNlIGV4dGVuZHMgQmFzZUltYWdlUmVzb3VyY2VcbntcbiAgICAvKipcbiAgICAgKiBVc2VkIHRvIGF1dG8tZGV0ZWN0IHRoZSB0eXBlIG9mIHJlc291cmNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR8T2Zmc2NyZWVuQ2FudmFzfSBzb3VyY2UgLSBUaGUgc291cmNlIG9iamVjdFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IGB0cnVlYCBpZiBzb3VyY2UgaXMgSFRNTENhbnZhc0VsZW1lbnQgb3IgT2Zmc2NyZWVuQ2FudmFzXG4gICAgICovXG4gICAgc3RhdGljIHRlc3Qoc291cmNlOiB1bmtub3duKTogc291cmNlIGlzIE9mZnNjcmVlbkNhbnZhc3xIVE1MQ2FudmFzRWxlbWVudFxuICAgIHtcbiAgICAgICAgY29uc3QgeyBPZmZzY3JlZW5DYW52YXMgfSA9IHdpbmRvdztcblxuICAgICAgICAvLyBDaGVjayBmb3IgYnJvd3NlcnMgdGhhdCBkb24ndCB5ZXQgc3VwcG9ydCBPZmZzY3JlZW5DYW52YXNcbiAgICAgICAgaWYgKE9mZnNjcmVlbkNhbnZhcyAmJiBzb3VyY2UgaW5zdGFuY2VvZiBPZmZzY3JlZW5DYW52YXMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNvdXJjZSBpbnN0YW5jZW9mIEhUTUxDYW52YXNFbGVtZW50O1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEFic3RyYWN0TXVsdGlSZXNvdXJjZSB9IGZyb20gJy4vQWJzdHJhY3RNdWx0aVJlc291cmNlJztcbmltcG9ydCB7IFRBUkdFVFMgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuXG5pbXBvcnQgdHlwZSB7IFJlc291cmNlIH0gZnJvbSAnLi9SZXNvdXJjZSc7XG5pbXBvcnQgdHlwZSB7IElTaXplIH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgdHlwZSB7IEFycmF5Rml4ZWQgfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgdHlwZSB7IEJhc2VUZXh0dXJlIH0gZnJvbSAnLi4vQmFzZVRleHR1cmUnO1xuaW1wb3J0IHR5cGUgeyBSZW5kZXJlciB9IGZyb20gJy4uLy4uL1JlbmRlcmVyJztcbmltcG9ydCB0eXBlIHsgR0xUZXh0dXJlIH0gZnJvbSAnLi4vR0xUZXh0dXJlJztcblxuLyoqXG4gKiBDb25zdHJ1Y3RvciBvcHRpb25zIGZvciBDdWJlUmVzb3VyY2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJQ3ViZVJlc291cmNlT3B0aW9ucyBleHRlbmRzIElTaXplXG57XG4gICAgYXV0b0xvYWQ/OiBib29sZWFuO1xuICAgIGxpbmtCYXNlVGV4dHVyZT86IGJvb2xlYW47XG59XG5cbi8qKlxuICogUmVzb3VyY2UgZm9yIGEgQ3ViZVRleHR1cmUgd2hpY2ggY29udGFpbnMgc2l4IHJlc291cmNlcy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkucmVzb3VyY2VzLkFycmF5UmVzb3VyY2VcbiAqIEBtZW1iZXJvZiBQSVhJLnJlc291cmNlc1xuICogQHBhcmFtIHtBcnJheTxzdHJpbmd8UElYSS5yZXNvdXJjZXMuUmVzb3VyY2U+fSBbc291cmNlXSAtIENvbGxlY3Rpb24gb2YgVVJMcyBvciByZXNvdXJjZXNcbiAqICAgICAgICB0byB1c2UgYXMgdGhlIHNpZGVzIG9mIHRoZSBjdWJlLlxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIEltYWdlUmVzb3VyY2Ugb3B0aW9uc1xuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLndpZHRoXSAtIFdpZHRoIG9mIHJlc291cmNlXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaGVpZ2h0XSAtIEhlaWdodCBvZiByZXNvdXJjZVxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmF1dG9Mb2FkPXRydWVdIC0gV2hldGhlciB0byBhdXRvLWxvYWQgcmVzb3VyY2VzXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubGlua0Jhc2VUZXh0dXJlPXRydWVdIC0gSW4gY2FzZSBCYXNlVGV4dHVyZXMgYXJlIHN1cHBsaWVkLFxuICogICB3aGV0aGVyIHRvIGNvcHkgdGhlbSBvciB1c2VcbiAqL1xuZXhwb3J0IGNsYXNzIEN1YmVSZXNvdXJjZSBleHRlbmRzIEFic3RyYWN0TXVsdGlSZXNvdXJjZVxue1xuICAgIGl0ZW1zOiBBcnJheUZpeGVkPEJhc2VUZXh0dXJlLCA2PjtcblxuICAgIGxpbmtCYXNlVGV4dHVyZTogYm9vbGVhbjtcblxuICAgIGNvbnN0cnVjdG9yKHNvdXJjZT86IEFycmF5Rml4ZWQ8c3RyaW5nfFJlc291cmNlLCA2Piwgb3B0aW9ucz86IElDdWJlUmVzb3VyY2VPcHRpb25zKVxuICAgIHtcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0LCBhdXRvTG9hZCwgbGlua0Jhc2VUZXh0dXJlIH0gPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgICAgIGlmIChzb3VyY2UgJiYgc291cmNlLmxlbmd0aCAhPT0gQ3ViZVJlc291cmNlLlNJREVTKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgbGVuZ3RoLiBHb3QgJHtzb3VyY2UubGVuZ3RofSwgZXhwZWN0ZWQgNmApO1xuICAgICAgICB9XG5cbiAgICAgICAgc3VwZXIoNiwgeyB3aWR0aCwgaGVpZ2h0IH0pO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgQ3ViZVJlc291cmNlLlNJREVTOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuaXRlbXNbaV0udGFyZ2V0ID0gVEFSR0VUUy5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1ggKyBpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluIGNhc2UgQmFzZVRleHR1cmVzIGFyZSBzdXBwbGllZCwgd2hldGhlciB0byB1c2Ugc2FtZSByZXNvdXJjZSBvciBiaW5kIGJhc2VUZXh0dXJlIGl0c2VsZlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxpbmtCYXNlVGV4dHVyZSA9IGxpbmtCYXNlVGV4dHVyZSAhPT0gZmFsc2U7XG5cbiAgICAgICAgaWYgKHNvdXJjZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5pbml0RnJvbUFycmF5KHNvdXJjZSwgb3B0aW9ucyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYXV0b0xvYWQgIT09IGZhbHNlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmxvYWQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZCBiaW5kaW5nXG4gICAgICpcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gcGFyZW50IGJhc2UgdGV4dHVyZVxuICAgICAqL1xuICAgIGJpbmQoYmFzZVRleHR1cmU6IEJhc2VUZXh0dXJlKTogdm9pZFxuICAgIHtcbiAgICAgICAgc3VwZXIuYmluZChiYXNlVGV4dHVyZSk7XG5cbiAgICAgICAgYmFzZVRleHR1cmUudGFyZ2V0ID0gVEFSR0VUUy5URVhUVVJFX0NVQkVfTUFQO1xuICAgIH1cblxuICAgIGFkZEJhc2VUZXh0dXJlQXQoYmFzZVRleHR1cmU6IEJhc2VUZXh0dXJlLCBpbmRleDogbnVtYmVyLCBsaW5rQmFzZVRleHR1cmU/OiBib29sZWFuKTogdGhpc1xuICAgIHtcbiAgICAgICAgaWYgKGxpbmtCYXNlVGV4dHVyZSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICB7XG4gICAgICAgICAgICBsaW5rQmFzZVRleHR1cmUgPSB0aGlzLmxpbmtCYXNlVGV4dHVyZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5pdGVtc1tpbmRleF0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW5kZXggJHtpbmRleH0gaXMgb3V0IG9mIGJvdW5kc2ApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLmxpbmtCYXNlVGV4dHVyZVxuICAgICAgICAgICAgfHwgYmFzZVRleHR1cmUucGFyZW50VGV4dHVyZUFycmF5XG4gICAgICAgICAgICB8fCBPYmplY3Qua2V5cyhiYXNlVGV4dHVyZS5fZ2xUZXh0dXJlcykubGVuZ3RoID4gMClcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gY29weSBtb2RlXG4gICAgICAgICAgICBpZiAoYmFzZVRleHR1cmUucmVzb3VyY2UpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRSZXNvdXJjZUF0KGJhc2VUZXh0dXJlLnJlc291cmNlLCBpbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDdWJlUmVzb3VyY2UgZG9lcyBub3Qgc3VwcG9ydCBjb3B5aW5nIG9mIHJlbmRlclRleHR1cmUuYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBsaW5rIG1vZGUsIHRoZSBkaWZmaWN1bHQgb25lIVxuICAgICAgICAgICAgYmFzZVRleHR1cmUudGFyZ2V0ID0gVEFSR0VUUy5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1ggKyBpbmRleDtcbiAgICAgICAgICAgIGJhc2VUZXh0dXJlLnBhcmVudFRleHR1cmVBcnJheSA9IHRoaXMuYmFzZVRleHR1cmU7XG5cbiAgICAgICAgICAgIHRoaXMuaXRlbXNbaW5kZXhdID0gYmFzZVRleHR1cmU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYmFzZVRleHR1cmUudmFsaWQgJiYgIXRoaXMudmFsaWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucmVzaXplKGJhc2VUZXh0dXJlLnJlYWxXaWR0aCwgYmFzZVRleHR1cmUucmVhbEhlaWdodCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLml0ZW1zW2luZGV4XSA9IGJhc2VUZXh0dXJlO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwbG9hZCB0aGUgcmVzb3VyY2VcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlzIHN1Y2Nlc3NcbiAgICAgKi9cbiAgICB1cGxvYWQocmVuZGVyZXI6IFJlbmRlcmVyLCBfYmFzZVRleHR1cmU6IEJhc2VUZXh0dXJlLCBnbFRleHR1cmU6IEdMVGV4dHVyZSk6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIGNvbnN0IGRpcnR5ID0gdGhpcy5pdGVtRGlydHlJZHM7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBDdWJlUmVzb3VyY2UuU0lERVM7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3Qgc2lkZSA9IHRoaXMuaXRlbXNbaV07XG5cbiAgICAgICAgICAgIGlmIChkaXJ0eVtpXSA8IHNpZGUuZGlydHlJZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoc2lkZS52YWxpZCAmJiBzaWRlLnJlc291cmNlKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgc2lkZS5yZXNvdXJjZS51cGxvYWQocmVuZGVyZXIsIHNpZGUsIGdsVGV4dHVyZSk7XG4gICAgICAgICAgICAgICAgICAgIGRpcnR5W2ldID0gc2lkZS5kaXJ0eUlkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChkaXJ0eVtpXSA8IC0xKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZWl0aGVyIGl0ZW0gaXMgbm90IHZhbGlkIHlldCwgZWl0aGVyIGl0cyBhIHJlbmRlclRleHR1cmVcbiAgICAgICAgICAgICAgICAgICAgLy8gYWxsb2NhdGUgdGhlIG1lbW9yeVxuICAgICAgICAgICAgICAgICAgICByZW5kZXJlci5nbC50ZXhJbWFnZTJEKHNpZGUudGFyZ2V0LCAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgZ2xUZXh0dXJlLmludGVybmFsRm9ybWF0LFxuICAgICAgICAgICAgICAgICAgICAgICAgX2Jhc2VUZXh0dXJlLnJlYWxXaWR0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9iYXNlVGV4dHVyZS5yZWFsSGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9iYXNlVGV4dHVyZS5mb3JtYXQsXG4gICAgICAgICAgICAgICAgICAgICAgICBnbFRleHR1cmUudHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bGwpO1xuICAgICAgICAgICAgICAgICAgICBkaXJ0eVtpXSA9IC0xO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE51bWJlciBvZiB0ZXh0dXJlIHNpZGVzIHRvIHN0b3JlIGZvciBDdWJlUmVzb3VyY2VzXG4gICAgICpcbiAgICAgKiBAbmFtZSBQSVhJLnJlc291cmNlcy5DdWJlUmVzb3VyY2UuU0lERVNcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDZcbiAgICAgKi9cbiAgICBzdGF0aWMgU0lERVMgPSA2O1xuXG4gICAgLyoqXG4gICAgICogVXNlZCB0byBhdXRvLWRldGVjdCB0aGUgdHlwZSBvZiByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gc291cmNlIC0gVGhlIHNvdXJjZSBvYmplY3RcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBgdHJ1ZWAgaWYgc291cmNlIGlzIGFuIGFycmF5IG9mIDYgZWxlbWVudHNcbiAgICAgKi9cbiAgICBzdGF0aWMgdGVzdChzb3VyY2U6IHVua25vd24pOiBzb3VyY2UgaXMgQXJyYXlGaXhlZDxzdHJpbmd8UmVzb3VyY2UsIDY+XG4gICAge1xuICAgICAgICByZXR1cm4gQXJyYXkuaXNBcnJheShzb3VyY2UpICYmIHNvdXJjZS5sZW5ndGggPT09IEN1YmVSZXNvdXJjZS5TSURFUztcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBCYXNlSW1hZ2VSZXNvdXJjZSB9IGZyb20gJy4vQmFzZUltYWdlUmVzb3VyY2UnO1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5pbXBvcnQgeyBBTFBIQV9NT0RFUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5cbmltcG9ydCB0eXBlIHsgQmFzZVRleHR1cmUgfSBmcm9tICcuLi9CYXNlVGV4dHVyZSc7XG5pbXBvcnQgdHlwZSB7IFJlbmRlcmVyIH0gZnJvbSAnLi4vLi4vUmVuZGVyZXInO1xuaW1wb3J0IHR5cGUgeyBHTFRleHR1cmUgfSBmcm9tICcuLi9HTFRleHR1cmUnO1xuXG5leHBvcnQgaW50ZXJmYWNlIElJbWFnZVJlc291cmNlT3B0aW9uc1xue1xuICAgIGF1dG9Mb2FkPzogYm9vbGVhbjtcbiAgICBjcmVhdGVCaXRtYXA/OiBib29sZWFuO1xuICAgIGNyb3Nzb3JpZ2luPzogYm9vbGVhbnxzdHJpbmc7XG4gICAgYWxwaGFNb2RlPzogQUxQSEFfTU9ERVM7XG59XG5cbi8qKlxuICogUmVzb3VyY2UgdHlwZSBmb3IgSFRNTEltYWdlRWxlbWVudC5cbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5yZXNvdXJjZXMuQmFzZUltYWdlUmVzb3VyY2VcbiAqIEBtZW1iZXJvZiBQSVhJLnJlc291cmNlc1xuICovXG5leHBvcnQgY2xhc3MgSW1hZ2VSZXNvdXJjZSBleHRlbmRzIEJhc2VJbWFnZVJlc291cmNlXG57XG4gICAgdXJsOiBzdHJpbmc7XG4gICAgcHJpdmF0ZSBfbG9hZDogUHJvbWlzZTxJbWFnZVJlc291cmNlPjtcbiAgICBwcml2YXRlIF9wcm9jZXNzOiBQcm9taXNlPEltYWdlUmVzb3VyY2U+O1xuICAgIHByZXNlcnZlQml0bWFwOiBib29sZWFuO1xuICAgIGNyZWF0ZUJpdG1hcDogYm9vbGVhbjtcbiAgICBhbHBoYU1vZGU6IEFMUEhBX01PREVTO1xuICAgIGJpdG1hcDogSW1hZ2VCaXRtYXA7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtIVE1MSW1hZ2VFbGVtZW50fHN0cmluZ30gc291cmNlIC0gaW1hZ2Ugc291cmNlIG9yIFVSTFxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc11cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmF1dG9Mb2FkPXRydWVdIC0gc3RhcnQgbG9hZGluZyBwcm9jZXNzXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jcmVhdGVCaXRtYXA9UElYSS5zZXR0aW5ncy5DUkVBVEVfSU1BR0VfQklUTUFQXSAtIHdoZXRoZXIgaXRzIHJlcXVpcmVkIHRvIGNyZWF0ZVxuICAgICAqICAgICAgICBhIGJpdG1hcCBiZWZvcmUgdXBsb2FkXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jcm9zc29yaWdpbj10cnVlXSAtIExvYWQgaW1hZ2UgdXNpbmcgY3Jvc3Mgb3JpZ2luXG4gICAgICogQHBhcmFtIHtQSVhJLkFMUEhBX01PREVTfSBbb3B0aW9ucy5hbHBoYU1vZGU9UElYSS5BTFBIQV9NT0RFUy5VTlBBQ0tdIC0gUHJlbXVsdGlwbHkgaW1hZ2UgYWxwaGEgaW4gYml0bWFwXG4gICAgICovXG4gICAgY29uc3RydWN0b3Ioc291cmNlOiBIVE1MSW1hZ2VFbGVtZW50fHN0cmluZywgb3B0aW9ucz86IElJbWFnZVJlc291cmNlT3B0aW9ucylcbiAgICB7XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgICAgIGlmICghKHNvdXJjZSBpbnN0YW5jZW9mIEhUTUxJbWFnZUVsZW1lbnQpKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBpbWFnZUVsZW1lbnQgPSBuZXcgSW1hZ2UoKTtcblxuICAgICAgICAgICAgQmFzZUltYWdlUmVzb3VyY2UuY3Jvc3NPcmlnaW4oaW1hZ2VFbGVtZW50LCBzb3VyY2UsIG9wdGlvbnMuY3Jvc3NvcmlnaW4pO1xuXG4gICAgICAgICAgICBpbWFnZUVsZW1lbnQuc3JjID0gc291cmNlO1xuICAgICAgICAgICAgc291cmNlID0gaW1hZ2VFbGVtZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgc3VwZXIoc291cmNlKTtcblxuICAgICAgICAvLyBGaXJlRm94IDY4LCBhbmQgcG9zc2libHkgb3RoZXIgdmVyc2lvbnMsIHNlZW1zIGxpa2Ugc2V0dGluZyB0aGUgSFRNTEltYWdlRWxlbWVudCN3aWR0aCBhbmQgI2hlaWdodFxuICAgICAgICAvLyB0byBub24temVybyB2YWx1ZXMgYmVmb3JlIGl0cyBsb2FkaW5nIGNvbXBsZXRlcyBpZiBpbWFnZXMgYXJlIGluIGEgY2FjaGUuXG4gICAgICAgIC8vIEJlY2F1c2Ugb2YgdGhpcywgbmVlZCB0byBzZXQgdGhlIGBfd2lkdGhgIGFuZCB0aGUgYF9oZWlnaHRgIHRvIHplcm8gdG8gYXZvaWQgdXBsb2FkaW5nIGluY29tcGxldGUgaW1hZ2VzLlxuICAgICAgICAvLyBQbGVhc2UgcmVmZXIgdG8gdGhlIGlzc3VlICM1OTY4IChodHRwczovL2dpdGh1Yi5jb20vcGl4aWpzL3BpeGkuanMvaXNzdWVzLzU5NjgpLlxuICAgICAgICBpZiAoIXNvdXJjZS5jb21wbGV0ZSAmJiAhIXRoaXMuX3dpZHRoICYmICEhdGhpcy5faGVpZ2h0KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl93aWR0aCA9IDA7XG4gICAgICAgICAgICB0aGlzLl9oZWlnaHQgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVSTCBvZiB0aGUgaW1hZ2Ugc291cmNlXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudXJsID0gc291cmNlLnNyYztcblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hlbiBwcm9jZXNzIGlzIGNvbXBsZXRlZFxuICAgICAgICAgKiBAbWVtYmVyIHtQcm9taXNlPHZvaWQ+fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fcHJvY2VzcyA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRoZSBpbWFnZSBzaG91bGQgYmUgZGlzcG9zZWQgYWZ0ZXIgdXBsb2FkXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnByZXNlcnZlQml0bWFwID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIGNhcGFibGUsIGNvbnZlcnQgdGhlIGltYWdlIHVzaW5nIGNyZWF0ZUltYWdlQml0bWFwIEFQSVxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLnNldHRpbmdzLkNSRUFURV9JTUFHRV9CSVRNQVBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY3JlYXRlQml0bWFwID0gKG9wdGlvbnMuY3JlYXRlQml0bWFwICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgID8gb3B0aW9ucy5jcmVhdGVCaXRtYXAgOiBzZXR0aW5ncy5DUkVBVEVfSU1BR0VfQklUTUFQKSAmJiAhIXdpbmRvdy5jcmVhdGVJbWFnZUJpdG1hcDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ29udHJvbHMgdGV4dHVyZSBhbHBoYU1vZGUgZmllbGRcbiAgICAgICAgICogQ29waWVzIGZyb20gb3B0aW9uc1xuICAgICAgICAgKiBEZWZhdWx0IGlzIGBudWxsYCwgY29waWVzIG9wdGlvbiBmcm9tIGJhc2VUZXh0dXJlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQUxQSEFfTU9ERVN8bnVsbH1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmFscGhhTW9kZSA9IHR5cGVvZiBvcHRpb25zLmFscGhhTW9kZSA9PT0gJ251bWJlcicgPyBvcHRpb25zLmFscGhhTW9kZSA6IG51bGw7XG5cbiAgICAgICAgaWYgKChvcHRpb25zIGFzIGFueSkucHJlbXVsdGlwbHlBbHBoYSAhPT0gdW5kZWZpbmVkKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyB0cmlnZ2VycyBkZXByZWNhdGlvblxuICAgICAgICAgICAgKHRoaXMgYXMgYW55KS5wcmVtdWx0aXBseUFscGhhID0gKG9wdGlvbnMgYXMgYW55KS5wcmVtdWx0aXBseUFscGhhO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBJbWFnZUJpdG1hcCBlbGVtZW50IGNyZWF0ZWQgZm9yIEhUTUxJbWFnZUVsZW1lbnRcbiAgICAgICAgICogQG1lbWJlciB7SW1hZ2VCaXRtYXB9XG4gICAgICAgICAqIEBkZWZhdWx0IG51bGxcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYml0bWFwID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvbWlzZSB3aGVuIGxvYWRpbmdcbiAgICAgICAgICogQG1lbWJlciB7UHJvbWlzZTx2b2lkPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQGRlZmF1bHQgbnVsbFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fbG9hZCA9IG51bGw7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuYXV0b0xvYWQgIT09IGZhbHNlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmxvYWQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHJldHVybnMgYSBwcm9taXNlIHdoZW4gaW1hZ2Ugd2lsbCBiZSBsb2FkZWQgYW5kIHByb2Nlc3NlZFxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbY3JlYXRlQml0bWFwXSAtIHdoZXRoZXIgcHJvY2VzcyBpbWFnZSBpbnRvIGJpdG1hcFxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fVxuICAgICAqL1xuICAgIGxvYWQoY3JlYXRlQml0bWFwPzogYm9vbGVhbik6IFByb21pc2U8SW1hZ2VSZXNvdXJjZT5cbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9sb2FkKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbG9hZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjcmVhdGVCaXRtYXAgIT09IHVuZGVmaW5lZClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVCaXRtYXAgPSBjcmVhdGVCaXRtYXA7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9sb2FkID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCk6IHZvaWQgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3Qgc291cmNlID0gdGhpcy5zb3VyY2UgYXMgSFRNTEltYWdlRWxlbWVudDtcblxuICAgICAgICAgICAgdGhpcy51cmwgPSBzb3VyY2Uuc3JjO1xuXG4gICAgICAgICAgICBjb25zdCBjb21wbGV0ZWQgPSAoKTogdm9pZCA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmRlc3Ryb3llZClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc291cmNlLm9ubG9hZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgc291cmNlLm9uZXJyb3IgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5yZXNpemUoc291cmNlLndpZHRoLCBzb3VyY2UuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2FkID0gbnVsbDtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNyZWF0ZUJpdG1hcClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUodGhpcy5wcm9jZXNzKCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHRoaXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGlmIChzb3VyY2UuY29tcGxldGUgJiYgc291cmNlLnNyYylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb21wbGV0ZWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzb3VyY2Uub25sb2FkID0gY29tcGxldGVkO1xuICAgICAgICAgICAgICAgIHNvdXJjZS5vbmVycm9yID0gKGV2ZW50KTogdm9pZCA9PlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQXZvaWRzIFByb21pc2UgZnJlZXppbmcgd2hlbiByZXNvdXJjZSBicm9rZW5cbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkVycm9yLmVtaXQoZXZlbnQpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9sb2FkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIHdlIG5lZWQgdG8gY29udmVydCBpbWFnZSBpbnRvIEJpdG1hcEltYWdlLlxuICAgICAqIENhbiBiZSBjYWxsZWQgbXVsdGlwbGUgdGltZXMsIHJlYWwgcHJvbWlzZSBpcyBjYWNoZWQgaW5zaWRlLlxuICAgICAqXG4gICAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59IGNhY2hlZCBwcm9taXNlIHRvIGZpbGwgdGhhdCBiaXRtYXBcbiAgICAgKi9cbiAgICBwcm9jZXNzKCk6IFByb21pc2U8SW1hZ2VSZXNvdXJjZT5cbiAgICB7XG4gICAgICAgIGNvbnN0IHNvdXJjZSA9IHRoaXMuc291cmNlIGFzIEhUTUxJbWFnZUVsZW1lbnQ7XG5cbiAgICAgICAgaWYgKHRoaXMuX3Byb2Nlc3MgIT09IG51bGwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wcm9jZXNzO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmJpdG1hcCAhPT0gbnVsbCB8fCAhd2luZG93LmNyZWF0ZUltYWdlQml0bWFwKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fcHJvY2VzcyA9ICh3aW5kb3cuY3JlYXRlSW1hZ2VCaXRtYXAgYXMgYW55KShzb3VyY2UsXG4gICAgICAgICAgICAwLCAwLCBzb3VyY2Uud2lkdGgsIHNvdXJjZS5oZWlnaHQsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcHJlbXVsdGlwbHlBbHBoYTogdGhpcy5hbHBoYU1vZGUgPT09IEFMUEhBX01PREVTLlVOUEFDSyA/ICdwcmVtdWx0aXBseScgOiAnbm9uZScsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4oKGJpdG1hcDogSW1hZ2VCaXRtYXApID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZGVzdHJveWVkKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuYml0bWFwID0gYml0bWFwO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fcHJvY2VzcyA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3Byb2Nlc3M7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBsb2FkIHRoZSBpbWFnZSByZXNvdXJjZSB0byBHUFUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gUmVuZGVyZXIgdG8gdXBsb2FkIHRvXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIEJhc2VUZXh0dXJlIGZvciB0aGlzIHJlc291cmNlXG4gICAgICogQHBhcmFtIHtQSVhJLkdMVGV4dHVyZX0gZ2xUZXh0dXJlIC0gR0xUZXh0dXJlIHRvIHVzZVxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlzIHN1Y2Nlc3NcbiAgICAgKi9cbiAgICB1cGxvYWQocmVuZGVyZXI6IFJlbmRlcmVyLCBiYXNlVGV4dHVyZTogQmFzZVRleHR1cmUsIGdsVGV4dHVyZTogR0xUZXh0dXJlKTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLmFscGhhTW9kZSA9PT0gJ251bWJlcicpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIGJpdG1hcCBzdG9yZXMgdW5wYWNrIHByZW11bHRpcGx5IGZsYWcsIHdlIGRvbnQgaGF2ZSB0byBub3RpZnkgdGV4SW1hZ2UyRCBhYm91dCBpdFxuXG4gICAgICAgICAgICBiYXNlVGV4dHVyZS5hbHBoYU1vZGUgPSB0aGlzLmFscGhhTW9kZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5jcmVhdGVCaXRtYXApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBzdXBlci51cGxvYWQocmVuZGVyZXIsIGJhc2VUZXh0dXJlLCBnbFRleHR1cmUpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5iaXRtYXApXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIHllYWgsIGlnbm9yZSB0aGUgb3V0cHV0XG4gICAgICAgICAgICB0aGlzLnByb2Nlc3MoKTtcbiAgICAgICAgICAgIGlmICghdGhpcy5iaXRtYXApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgc3VwZXIudXBsb2FkKHJlbmRlcmVyLCBiYXNlVGV4dHVyZSwgZ2xUZXh0dXJlLCB0aGlzLmJpdG1hcCk7XG5cbiAgICAgICAgaWYgKCF0aGlzLnByZXNlcnZlQml0bWFwKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBjaGVja3MgaWYgdGhlcmUgYXJlIG90aGVyIHJlbmRlcmVycyB0aGF0IHBvc3NpYmx5IG5lZWQgdGhpcyBiaXRtYXBcblxuICAgICAgICAgICAgbGV0IGZsYWcgPSB0cnVlO1xuXG4gICAgICAgICAgICBjb25zdCBnbFRleHR1cmVzID0gYmFzZVRleHR1cmUuX2dsVGV4dHVyZXM7XG5cbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIGdsVGV4dHVyZXMpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3RoZXJUZXggPSBnbFRleHR1cmVzW2tleV07XG5cbiAgICAgICAgICAgICAgICBpZiAob3RoZXJUZXggIT09IGdsVGV4dHVyZSAmJiBvdGhlclRleC5kaXJ0eUlkICE9PSBiYXNlVGV4dHVyZS5kaXJ0eUlkKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZmxhZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChmbGFnKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJpdG1hcC5jbG9zZSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYml0bWFwLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5iaXRtYXAgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyB0ZXh0dXJlXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgZGlzcG9zZSgpOiB2b2lkXG4gICAge1xuICAgICAgICAodGhpcy5zb3VyY2UgYXMgSFRNTEltYWdlRWxlbWVudCkub25sb2FkID0gbnVsbDtcbiAgICAgICAgKHRoaXMuc291cmNlIGFzIEhUTUxJbWFnZUVsZW1lbnQpLm9uZXJyb3IgPSBudWxsO1xuXG4gICAgICAgIHN1cGVyLmRpc3Bvc2UoKTtcblxuICAgICAgICBpZiAodGhpcy5iaXRtYXApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuYml0bWFwLmNsb3NlKCk7XG4gICAgICAgICAgICB0aGlzLmJpdG1hcCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcHJvY2VzcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2xvYWQgPSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVzZWQgdG8gYXV0by1kZXRlY3QgdGhlIHR5cGUgb2YgcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmd8SFRNTEltYWdlRWxlbWVudH0gc291cmNlIC0gVGhlIHNvdXJjZSBvYmplY3RcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBgdHJ1ZWAgaWYgc291cmNlIGlzIHN0cmluZyBvciBIVE1MSW1hZ2VFbGVtZW50XG4gICAgICovXG4gICAgc3RhdGljIHRlc3Qoc291cmNlOiB1bmtub3duKTogc291cmNlIGlzIHN0cmluZ3xIVE1MSW1hZ2VFbGVtZW50XG4gICAge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHNvdXJjZSA9PT0gJ3N0cmluZycgfHwgc291cmNlIGluc3RhbmNlb2YgSFRNTEltYWdlRWxlbWVudDtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyB1aWQgfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgeyBCYXNlSW1hZ2VSZXNvdXJjZSB9IGZyb20gJy4vQmFzZUltYWdlUmVzb3VyY2UnO1xuXG5pbXBvcnQgdHlwZSB7IElTaXplIH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVNWR1Jlc291cmNlT3B0aW9uc1xue1xuICAgIHNvdXJjZT86IHN0cmluZztcbiAgICBzY2FsZT86IG51bWJlcjtcbiAgICB3aWR0aD86IG51bWJlcjtcbiAgICBoZWlnaHQ/OiBudW1iZXI7XG4gICAgYXV0b0xvYWQ/OiBib29sZWFuO1xuICAgIGNyb3Nzb3JpZ2luPzogYm9vbGVhbnxzdHJpbmc7XG59XG4vKipcbiAqIFJlc291cmNlIHR5cGUgZm9yIFNWRyBlbGVtZW50cyBhbmQgZ3JhcGhpY3MuXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkucmVzb3VyY2VzLkJhc2VJbWFnZVJlc291cmNlXG4gKiBAbWVtYmVyb2YgUElYSS5yZXNvdXJjZXNcbiAqIEBwYXJhbSB7c3RyaW5nfSBzb3VyY2UgLSBCYXNlNjQgZW5jb2RlZCBTVkcgZWxlbWVudCBvciBVUkwgZm9yIFNWRyBmaWxlLlxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIE9wdGlvbnMgdG8gdXNlXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc2NhbGU9MV0gLSBTY2FsZSB0byBhcHBseSB0byBTVkcuIE92ZXJyaWRkZW4gYnkuLi5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy53aWR0aF0gLSBSYXN0ZXJpemUgU1ZHIHRoaXMgd2lkZS4gQXNwZWN0IHJhdGlvIHByZXNlcnZlZCBpZiBoZWlnaHQgbm90IHNwZWNpZmllZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5oZWlnaHRdIC0gUmFzdGVyaXplIFNWRyB0aGlzIGhpZ2guIEFzcGVjdCByYXRpbyBwcmVzZXJ2ZWQgaWYgd2lkdGggbm90IHNwZWNpZmllZC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYXV0b0xvYWQ9dHJ1ZV0gLSBTdGFydCBsb2FkaW5nIHJpZ2h0IGF3YXkuXG4gKi9cbmV4cG9ydCBjbGFzcyBTVkdSZXNvdXJjZSBleHRlbmRzIEJhc2VJbWFnZVJlc291cmNlXG57XG4gICAgcHVibGljIHJlYWRvbmx5IHN2Zzogc3RyaW5nO1xuICAgIHB1YmxpYyByZWFkb25seSBzY2FsZTogbnVtYmVyO1xuICAgIHJlYWRvbmx5IF9vdmVycmlkZVdpZHRoOiBudW1iZXI7XG4gICAgcmVhZG9ubHkgX292ZXJyaWRlSGVpZ2h0OiBudW1iZXI7XG4gICAgcHJpdmF0ZSBfcmVzb2x2ZTogKCkgPT4gdm9pZDtcbiAgICBwcml2YXRlIF9sb2FkOiBQcm9taXNlPFNWR1Jlc291cmNlPjtcbiAgICBwcml2YXRlIF9jcm9zc29yaWdpbj86IGJvb2xlYW58c3RyaW5nO1xuXG4gICAgY29uc3RydWN0b3Ioc291cmNlQmFzZTY0OiBzdHJpbmcsIG9wdGlvbnM6IElTVkdSZXNvdXJjZU9wdGlvbnMpXG4gICAge1xuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAgICAgICBzdXBlcihkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKSk7XG4gICAgICAgIHRoaXMuX3dpZHRoID0gMDtcbiAgICAgICAgdGhpcy5faGVpZ2h0ID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQmFzZTY0IGVuY29kZWQgU1ZHIGVsZW1lbnQgb3IgVVJMIGZvciBTVkcgZmlsZVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdmcgPSBzb3VyY2VCYXNlNjQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzb3VyY2Ugc2NhbGUgdG8gYXBwbHkgd2hlbiByYXN0ZXJpemluZyBvbiBsb2FkXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNjYWxlID0gb3B0aW9ucy5zY2FsZSB8fCAxO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHdpZHRoIG92ZXJyaWRlIGZvciByYXN0ZXJpemF0aW9uIG9uIGxvYWRcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX292ZXJyaWRlV2lkdGggPSBvcHRpb25zLndpZHRoO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGhlaWdodCBvdmVycmlkZSBmb3IgcmFzdGVyaXphdGlvbiBvbiBsb2FkXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9vdmVycmlkZUhlaWdodCA9IG9wdGlvbnMuaGVpZ2h0O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWxsIHdoZW4gY29tcGxldGVseSBsb2FkZWRcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7ZnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9yZXNvbHZlID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ3Jvc3Mgb3JpZ2luIHZhbHVlIHRvIHVzZVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufHN0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2Nyb3Nzb3JpZ2luID0gb3B0aW9ucy5jcm9zc29yaWdpbjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvbWlzZSB3aGVuIGxvYWRpbmdcbiAgICAgICAgICogQG1lbWJlciB7UHJvbWlzZTx2b2lkPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQGRlZmF1bHQgbnVsbFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fbG9hZCA9IG51bGw7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuYXV0b0xvYWQgIT09IGZhbHNlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmxvYWQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGxvYWQoKTogUHJvbWlzZTxTVkdSZXNvdXJjZT5cbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9sb2FkKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbG9hZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2xvYWQgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSk6IHZvaWQgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgLy8gU2F2ZSB0aGlzIHVudGlsIGFmdGVyIGxvYWQgaXMgZmluaXNoZWRcbiAgICAgICAgICAgIHRoaXMuX3Jlc29sdmUgPSAoKTogdm9pZCA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMucmVzaXplKHRoaXMuc291cmNlLndpZHRoLCB0aGlzLnNvdXJjZS5oZWlnaHQpO1xuICAgICAgICAgICAgICAgIHJlc29sdmUodGhpcyk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyBDb252ZXJ0IFNWRyBpbmxpbmUgc3RyaW5nIHRvIGRhdGEtdXJpXG4gICAgICAgICAgICBpZiAoKC9eXFw8c3ZnLykudGVzdCh0aGlzLnN2Zy50cmltKCkpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICghYnRvYSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignWW91ciBicm93c2VyIGRvZXNuXFwndCBzdXBwb3J0IGJhc2U2NCBjb252ZXJzaW9ucy4nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKHRoaXMgYXMgYW55KS5zdmcgPSBgZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCwke2J0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KHRoaXMuc3ZnKSkpfWA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2xvYWRTdmcoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvYWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTG9hZHMgYW4gU1ZHIGltYWdlIGZyb20gYGltYWdlVXJsYCBvciBgZGF0YSBVUkxgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBwcml2YXRlIF9sb2FkU3ZnKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIGNvbnN0IHRlbXBJbWFnZSA9IG5ldyBJbWFnZSgpO1xuXG4gICAgICAgIEJhc2VJbWFnZVJlc291cmNlLmNyb3NzT3JpZ2luKHRlbXBJbWFnZSwgdGhpcy5zdmcsIHRoaXMuX2Nyb3Nzb3JpZ2luKTtcbiAgICAgICAgdGVtcEltYWdlLnNyYyA9IHRoaXMuc3ZnO1xuXG4gICAgICAgIHRlbXBJbWFnZS5vbmVycm9yID0gKGV2ZW50KTogdm9pZCA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX3Jlc29sdmUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0ZW1wSW1hZ2Uub25lcnJvciA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLm9uRXJyb3IuZW1pdChldmVudCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdGVtcEltYWdlLm9ubG9hZCA9ICgpOiB2b2lkID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fcmVzb2x2ZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHN2Z1dpZHRoID0gdGVtcEltYWdlLndpZHRoO1xuICAgICAgICAgICAgY29uc3Qgc3ZnSGVpZ2h0ID0gdGVtcEltYWdlLmhlaWdodDtcblxuICAgICAgICAgICAgaWYgKCFzdmdXaWR0aCB8fCAhc3ZnSGVpZ2h0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIFNWRyBpbWFnZSBtdXN0IGhhdmUgd2lkdGggYW5kIGhlaWdodCBkZWZpbmVkIChpbiBwaXhlbHMpLCBjYW52YXMgQVBJIG5lZWRzIHRoZW0uJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFNldCByZW5kZXIgc2l6ZVxuICAgICAgICAgICAgbGV0IHdpZHRoID0gc3ZnV2lkdGggKiB0aGlzLnNjYWxlO1xuICAgICAgICAgICAgbGV0IGhlaWdodCA9IHN2Z0hlaWdodCAqIHRoaXMuc2NhbGU7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9vdmVycmlkZVdpZHRoIHx8IHRoaXMuX292ZXJyaWRlSGVpZ2h0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHdpZHRoID0gdGhpcy5fb3ZlcnJpZGVXaWR0aCB8fCB0aGlzLl9vdmVycmlkZUhlaWdodCAvIHN2Z0hlaWdodCAqIHN2Z1dpZHRoO1xuICAgICAgICAgICAgICAgIGhlaWdodCA9IHRoaXMuX292ZXJyaWRlSGVpZ2h0IHx8IHRoaXMuX292ZXJyaWRlV2lkdGggLyBzdmdXaWR0aCAqIHN2Z0hlaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdpZHRoID0gTWF0aC5yb3VuZCh3aWR0aCk7XG4gICAgICAgICAgICBoZWlnaHQgPSBNYXRoLnJvdW5kKGhlaWdodCk7XG5cbiAgICAgICAgICAgIC8vIENyZWF0ZSBhIGNhbnZhcyBlbGVtZW50XG4gICAgICAgICAgICBjb25zdCBjYW52YXMgPSB0aGlzLnNvdXJjZSBhcyBIVE1MQ2FudmFzRWxlbWVudDtcblxuICAgICAgICAgICAgY2FudmFzLndpZHRoID0gd2lkdGg7XG4gICAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICAgICAgKGNhbnZhcyBhcyBhbnkpLl9waXhpSWQgPSBgY2FudmFzXyR7dWlkKCl9YDtcblxuICAgICAgICAgICAgLy8gRHJhdyB0aGUgU3ZnIHRvIHRoZSBjYW52YXNcbiAgICAgICAgICAgIGNhbnZhc1xuICAgICAgICAgICAgICAgIC5nZXRDb250ZXh0KCcyZCcpXG4gICAgICAgICAgICAgICAgLmRyYXdJbWFnZSh0ZW1wSW1hZ2UsIDAsIDAsIHN2Z1dpZHRoLCBzdmdIZWlnaHQsIDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuXG4gICAgICAgICAgICB0aGlzLl9yZXNvbHZlKCk7XG4gICAgICAgICAgICB0aGlzLl9yZXNvbHZlID0gbnVsbDtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgc2l6ZSBmcm9tIGFuIHN2ZyBzdHJpbmcgdXNpbmcgcmVnZXhwLlxuICAgICAqXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdmdTdHJpbmcgLSBhIHNlcmlhbGl6ZWQgc3ZnIGVsZW1lbnRcbiAgICAgKiBAcmV0dXJuIHtQSVhJLklTaXplfSBpbWFnZSBleHRlbnNpb25cbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0U2l6ZShzdmdTdHJpbmc/OiBzdHJpbmcpOiBJU2l6ZVxuICAgIHtcbiAgICAgICAgY29uc3Qgc2l6ZU1hdGNoID0gU1ZHUmVzb3VyY2UuU1ZHX1NJWkUuZXhlYyhzdmdTdHJpbmcpO1xuICAgICAgICBjb25zdCBzaXplOiBhbnkgPSB7fTtcblxuICAgICAgICBpZiAoc2l6ZU1hdGNoKVxuICAgICAgICB7XG4gICAgICAgICAgICBzaXplW3NpemVNYXRjaFsxXV0gPSBNYXRoLnJvdW5kKHBhcnNlRmxvYXQoc2l6ZU1hdGNoWzNdKSk7XG4gICAgICAgICAgICBzaXplW3NpemVNYXRjaFs1XV0gPSBNYXRoLnJvdW5kKHBhcnNlRmxvYXQoc2l6ZU1hdGNoWzddKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc2l6ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIHRleHR1cmVcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBkaXNwb3NlKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHN1cGVyLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5fcmVzb2x2ZSA9IG51bGw7XG4gICAgICAgIHRoaXMuX2Nyb3Nzb3JpZ2luID0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVc2VkIHRvIGF1dG8tZGV0ZWN0IHRoZSB0eXBlIG9mIHJlc291cmNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7Kn0gc291cmNlIC0gVGhlIHNvdXJjZSBvYmplY3RcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXh0ZW5zaW9uIC0gVGhlIGV4dGVuc2lvbiBvZiBzb3VyY2UsIGlmIHNldFxuICAgICAqL1xuICAgIHN0YXRpYyB0ZXN0KHNvdXJjZTogdW5rbm93biwgZXh0ZW5zaW9uPzogc3RyaW5nKTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgLy8gdXJsIGZpbGUgZXh0ZW5zaW9uIGlzIFNWR1xuICAgICAgICByZXR1cm4gZXh0ZW5zaW9uID09PSAnc3ZnJ1xuICAgICAgICAgICAgLy8gc291cmNlIGlzIFNWRyBkYXRhLXVyaVxuICAgICAgICAgICAgfHwgKHR5cGVvZiBzb3VyY2UgPT09ICdzdHJpbmcnICYmICgvXmRhdGE6aW1hZ2VcXC9zdmdcXCt4bWwoOyhjaGFyc2V0PXV0Zjh8dXRmOCkpPztiYXNlNjQvKS50ZXN0KHNvdXJjZSkpXG4gICAgICAgICAgICAvLyBzb3VyY2UgaXMgU1ZHIGlubGluZVxuICAgICAgICAgICAgfHwgKHR5cGVvZiBzb3VyY2UgPT09ICdzdHJpbmcnICYmIHNvdXJjZS5pbmRleE9mKCc8c3ZnJykgPT09IDApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlZ0V4cCBmb3IgU1ZHIHNpemUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQGNvbnN0YW50IHtSZWdFeHB8c3RyaW5nfSBTVkdfU0laRVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLnJlc291cmNlcy5TVkdSZXNvdXJjZVxuICAgICAqIEBleGFtcGxlICZsdDtzdmcgd2lkdGg9XCIxMDBcIiBoZWlnaHQ9XCIxMDBcIiZndDsmbHQ7L3N2ZyZndDtcbiAgICAgKi9cbiAgICBzdGF0aWMgU1ZHX1NJWkUgPSAvPHN2Z1tePl0qKD86XFxzKHdpZHRofGhlaWdodCk9KCd8XCIpKFxcZCooPzpcXC5cXGQrKT8pKD86cHgpPygnfFwiKSlbXj5dKig/Olxccyh3aWR0aHxoZWlnaHQpPSgnfFwiKShcXGQqKD86XFwuXFxkKyk/KSg/OnB4KT8oJ3xcIikpW14+XSo+L2k7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbWF4LWxlblxufVxuIiwiaW1wb3J0IHsgQmFzZUltYWdlUmVzb3VyY2UgfSBmcm9tICcuL0Jhc2VJbWFnZVJlc291cmNlJztcbmltcG9ydCB7IFRpY2tlciB9IGZyb20gJ0BwaXhpL3RpY2tlcic7XG5cbmltcG9ydCB0eXBlIHsgRGljdCB9IGZyb20gJ0BwaXhpL3V0aWxzJztcblxuZXhwb3J0IGludGVyZmFjZSBJVmlkZW9SZXNvdXJjZU9wdGlvbnNcbntcbiAgICBhdXRvTG9hZD86IGJvb2xlYW47XG4gICAgYXV0b1BsYXk/OiBib29sZWFuO1xuICAgIHVwZGF0ZUZQUz86IG51bWJlcjtcbiAgICBjcm9zc29yaWdpbj86IGJvb2xlYW58c3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElWaWRlb1Jlc291cmNlT3B0aW9uc0VsZW1lbnRcbntcbiAgICBzcmM6IHN0cmluZztcbiAgICBtaW1lOiBzdHJpbmc7XG59XG5cbi8qKlxuICogUmVzb3VyY2UgdHlwZSBmb3IgSFRNTFZpZGVvRWxlbWVudC5cbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5yZXNvdXJjZXMuQmFzZUltYWdlUmVzb3VyY2VcbiAqIEBtZW1iZXJvZiBQSVhJLnJlc291cmNlc1xuICogQHBhcmFtIHtIVE1MVmlkZW9FbGVtZW50fG9iamVjdHxzdHJpbmd8QXJyYXk8c3RyaW5nfG9iamVjdD59IHNvdXJjZSAtIFZpZGVvIGVsZW1lbnQgdG8gdXNlLlxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIE9wdGlvbnMgdG8gdXNlXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmF1dG9Mb2FkPXRydWVdIC0gU3RhcnQgbG9hZGluZyB0aGUgdmlkZW8gaW1tZWRpYXRlbHlcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYXV0b1BsYXk9dHJ1ZV0gLSBTdGFydCBwbGF5aW5nIHZpZGVvIGltbWVkaWF0ZWx5XG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMudXBkYXRlRlBTPTBdIC0gSG93IG1hbnkgdGltZXMgYSBzZWNvbmQgdG8gdXBkYXRlIHRoZSB0ZXh0dXJlIGZyb20gdGhlIHZpZGVvLlxuICogTGVhdmUgYXQgMCB0byB1cGRhdGUgYXQgZXZlcnkgcmVuZGVyLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jcm9zc29yaWdpbj10cnVlXSAtIExvYWQgaW1hZ2UgdXNpbmcgY3Jvc3Mgb3JpZ2luXG4gKi9cbmV4cG9ydCBjbGFzcyBWaWRlb1Jlc291cmNlIGV4dGVuZHMgQmFzZUltYWdlUmVzb3VyY2VcbntcbiAgICBwcm90ZWN0ZWQgX2F1dG9VcGRhdGU6IGJvb2xlYW47XG4gICAgcHJvdGVjdGVkIF9pc0Nvbm5lY3RlZFRvVGlja2VyOiBib29sZWFuO1xuICAgIHByb3RlY3RlZCBfdXBkYXRlRlBTOiBudW1iZXI7XG4gICAgcHJvdGVjdGVkIF9tc1RvTmV4dFVwZGF0ZTogbnVtYmVyO1xuICAgIHByb3RlY3RlZCBhdXRvUGxheTogYm9vbGVhbjtcbiAgICBwcml2YXRlIF9sb2FkOiBQcm9taXNlPFZpZGVvUmVzb3VyY2U+O1xuICAgIHByaXZhdGUgX3Jlc29sdmU6ICh2YWx1ZT86IFZpZGVvUmVzb3VyY2UgfCBQcm9taXNlTGlrZTxWaWRlb1Jlc291cmNlPikgPT4gdm9pZDtcblxuICAgIGNvbnN0cnVjdG9yKHNvdXJjZT86IEhUTUxWaWRlb0VsZW1lbnR8QXJyYXk8c3RyaW5nfElWaWRlb1Jlc291cmNlT3B0aW9uc0VsZW1lbnQ+fHN0cmluZywgb3B0aW9ucz86IElWaWRlb1Jlc291cmNlT3B0aW9ucylcbiAgICB7XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgICAgIGlmICghKHNvdXJjZSBpbnN0YW5jZW9mIEhUTUxWaWRlb0VsZW1lbnQpKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCB2aWRlb0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd2aWRlbycpO1xuXG4gICAgICAgICAgICAvLyB3b3JrYXJvdW5kIGZvciBodHRwczovL2dpdGh1Yi5jb20vcGl4aWpzL3BpeGkuanMvaXNzdWVzLzU5OTZcbiAgICAgICAgICAgIHZpZGVvRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3ByZWxvYWQnLCAnYXV0bycpO1xuICAgICAgICAgICAgdmlkZW9FbGVtZW50LnNldEF0dHJpYnV0ZSgnd2Via2l0LXBsYXlzaW5saW5lJywgJycpO1xuICAgICAgICAgICAgdmlkZW9FbGVtZW50LnNldEF0dHJpYnV0ZSgncGxheXNpbmxpbmUnLCAnJyk7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2Ygc291cmNlID09PSAnc3RyaW5nJylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzb3VyY2UgPSBbc291cmNlXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgZmlyc3RTcmMgPSAoc291cmNlWzBdIGFzIElWaWRlb1Jlc291cmNlT3B0aW9uc0VsZW1lbnQpLnNyYyB8fCBzb3VyY2VbMF0gYXMgc3RyaW5nO1xuXG4gICAgICAgICAgICBCYXNlSW1hZ2VSZXNvdXJjZS5jcm9zc09yaWdpbih2aWRlb0VsZW1lbnQsIGZpcnN0U3JjLCBvcHRpb25zLmNyb3Nzb3JpZ2luKTtcblxuICAgICAgICAgICAgLy8gYXJyYXkgb2Ygb2JqZWN0cyBvciBzdHJpbmdzXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNvdXJjZS5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzb3VyY2VFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc291cmNlJyk7XG5cbiAgICAgICAgICAgICAgICBsZXQgeyBzcmMsIG1pbWUgfSA9IHNvdXJjZVtpXSBhcyBJVmlkZW9SZXNvdXJjZU9wdGlvbnNFbGVtZW50O1xuXG4gICAgICAgICAgICAgICAgc3JjID0gc3JjIHx8IHNvdXJjZVtpXSBhcyBzdHJpbmc7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBiYXNlU3JjID0gc3JjLnNwbGl0KCc/Jykuc2hpZnQoKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGV4dCA9IGJhc2VTcmMuc3Vic3RyKGJhc2VTcmMubGFzdEluZGV4T2YoJy4nKSArIDEpO1xuXG4gICAgICAgICAgICAgICAgbWltZSA9IG1pbWUgfHwgVmlkZW9SZXNvdXJjZS5NSU1FX1RZUEVTW2V4dF0gfHwgYHZpZGVvLyR7ZXh0fWA7XG5cbiAgICAgICAgICAgICAgICBzb3VyY2VFbGVtZW50LnNyYyA9IHNyYztcbiAgICAgICAgICAgICAgICBzb3VyY2VFbGVtZW50LnR5cGUgPSBtaW1lO1xuXG4gICAgICAgICAgICAgICAgdmlkZW9FbGVtZW50LmFwcGVuZENoaWxkKHNvdXJjZUVsZW1lbnQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBPdmVycmlkZSB0aGUgc291cmNlXG4gICAgICAgICAgICBzb3VyY2UgPSB2aWRlb0VsZW1lbnQ7XG4gICAgICAgIH1cblxuICAgICAgICBzdXBlcihzb3VyY2UpO1xuXG4gICAgICAgIHRoaXMubm9TdWJJbWFnZSA9IHRydWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGB0cnVlYCB0byB1c2UgUElYSS5UaWNrZXIuc2hhcmVkIHRvIGF1dG8gdXBkYXRlIHRoZSBiYXNlIHRleHR1cmUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9hdXRvVXBkYXRlID0gdHJ1ZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogYHRydWVgIGlmIHRoZSBpbnN0YW5jZSBpcyBjdXJyZW50bHkgY29ubmVjdGVkIHRvIFBJWEkuVGlja2VyLnNoYXJlZCB0byBhdXRvIHVwZGF0ZSB0aGUgYmFzZSB0ZXh0dXJlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2lzQ29ubmVjdGVkVG9UaWNrZXIgPSBmYWxzZTtcblxuICAgICAgICB0aGlzLl91cGRhdGVGUFMgPSBvcHRpb25zLnVwZGF0ZUZQUyB8fCAwO1xuICAgICAgICB0aGlzLl9tc1RvTmV4dFVwZGF0ZSA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZW4gc2V0IHRvIHRydWUgd2lsbCBhdXRvbWF0aWNhbGx5IHBsYXkgdmlkZW9zIHVzZWQgYnkgdGhpcyB0ZXh0dXJlIG9uY2VcbiAgICAgICAgICogdGhleSBhcmUgbG9hZGVkLiBJZiBmYWxzZSwgaXQgd2lsbCBub3QgbW9kaWZ5IHRoZSBwbGF5aW5nIHN0YXRlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmF1dG9QbGF5ID0gb3B0aW9ucy5hdXRvUGxheSAhPT0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb21pc2Ugd2hlbiBsb2FkaW5nXG4gICAgICAgICAqIEBtZW1iZXIge1Byb21pc2U8dm9pZD59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBkZWZhdWx0IG51bGxcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2xvYWQgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWxsYmFjayB3aGVuIGNvbXBsZXRlZCB3aXRoIGxvYWQuXG4gICAgICAgICAqIEBtZW1iZXIge2Z1bmN0aW9ufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fcmVzb2x2ZSA9IG51bGw7XG5cbiAgICAgICAgLy8gQmluZCBmb3IgbGlzdGVuZXJzXG4gICAgICAgIHRoaXMuX29uQ2FuUGxheSA9IHRoaXMuX29uQ2FuUGxheS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9vbkVycm9yID0gdGhpcy5fb25FcnJvci5iaW5kKHRoaXMpO1xuXG4gICAgICAgIGlmIChvcHRpb25zLmF1dG9Mb2FkICE9PSBmYWxzZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5sb2FkKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyIHVwZGF0aW5nIG9mIHRoZSB0ZXh0dXJlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2RlbHRhVGltZT0wXSAtIHRpbWUgZGVsdGEgc2luY2UgbGFzdCB0aWNrXG4gICAgICovXG4gICAgdXBkYXRlKF9kZWx0YVRpbWUgPSAwKTogdm9pZFxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLmRlc3Ryb3llZClcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gYWNjb3VudCBmb3IgaWYgdmlkZW8gaGFzIGhhZCBpdHMgcGxheWJhY2tSYXRlIGNoYW5nZWRcbiAgICAgICAgICAgIGNvbnN0IGVsYXBzZWRNUyA9IFRpY2tlci5zaGFyZWQuZWxhcHNlZE1TICogKHRoaXMuc291cmNlIGFzIEhUTUxWaWRlb0VsZW1lbnQpLnBsYXliYWNrUmF0ZTtcblxuICAgICAgICAgICAgdGhpcy5fbXNUb05leHRVcGRhdGUgPSBNYXRoLmZsb29yKHRoaXMuX21zVG9OZXh0VXBkYXRlIC0gZWxhcHNlZE1TKTtcbiAgICAgICAgICAgIGlmICghdGhpcy5fdXBkYXRlRlBTIHx8IHRoaXMuX21zVG9OZXh0VXBkYXRlIDw9IDApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3VwZXIudXBkYXRlKC8qIGRlbHRhVGltZSovKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9tc1RvTmV4dFVwZGF0ZSA9IHRoaXMuX3VwZGF0ZUZQUyA/IE1hdGguZmxvb3IoMTAwMCAvIHRoaXMuX3VwZGF0ZUZQUykgOiAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU3RhcnQgcHJlbG9hZGluZyB0aGUgdmlkZW8gcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHJldHVybiB7UHJvbWlzZTx2b2lkPn0gSGFuZGxlIHRoZSB2YWxpZGF0ZSBldmVudFxuICAgICAqL1xuICAgIGxvYWQoKTogUHJvbWlzZTxWaWRlb1Jlc291cmNlPlxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX2xvYWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9sb2FkO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc291cmNlID0gdGhpcy5zb3VyY2UgYXMgSFRNTFZpZGVvRWxlbWVudDtcblxuICAgICAgICBpZiAoKHNvdXJjZS5yZWFkeVN0YXRlID09PSBzb3VyY2UuSEFWRV9FTk9VR0hfREFUQSB8fCBzb3VyY2UucmVhZHlTdGF0ZSA9PT0gc291cmNlLkhBVkVfRlVUVVJFX0RBVEEpXG4gICAgICAgICAgICAmJiBzb3VyY2Uud2lkdGggJiYgc291cmNlLmhlaWdodClcbiAgICAgICAge1xuICAgICAgICAgICAgKHNvdXJjZSBhcyBhbnkpLmNvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNvdXJjZS5hZGRFdmVudExpc3RlbmVyKCdwbGF5JywgdGhpcy5fb25QbGF5U3RhcnQuYmluZCh0aGlzKSk7XG4gICAgICAgIHNvdXJjZS5hZGRFdmVudExpc3RlbmVyKCdwYXVzZScsIHRoaXMuX29uUGxheVN0b3AuYmluZCh0aGlzKSk7XG5cbiAgICAgICAgaWYgKCF0aGlzLl9pc1NvdXJjZVJlYWR5KCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHNvdXJjZS5hZGRFdmVudExpc3RlbmVyKCdjYW5wbGF5JywgdGhpcy5fb25DYW5QbGF5KTtcbiAgICAgICAgICAgIHNvdXJjZS5hZGRFdmVudExpc3RlbmVyKCdjYW5wbGF5dGhyb3VnaCcsIHRoaXMuX29uQ2FuUGxheSk7XG4gICAgICAgICAgICBzb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCB0aGlzLl9vbkVycm9yLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX29uQ2FuUGxheSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fbG9hZCA9IG5ldyBQcm9taXNlKChyZXNvbHZlKTogdm9pZCA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy52YWxpZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuX3Jlc29sdmUgPSByZXNvbHZlO1xuXG4gICAgICAgICAgICAgICAgc291cmNlLmxvYWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvYWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSGFuZGxlIHZpZGVvIGVycm9yIGV2ZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgcHJpdmF0ZSBfb25FcnJvcihldmVudDogRXJyb3JFdmVudCk6IHZvaWRcbiAgICB7XG4gICAgICAgICh0aGlzLnNvdXJjZSBhcyBIVE1MVmlkZW9FbGVtZW50KS5yZW1vdmVFdmVudExpc3RlbmVyKCdlcnJvcicsIHRoaXMuX29uRXJyb3IsIHRydWUpO1xuICAgICAgICB0aGlzLm9uRXJyb3IuZW1pdChldmVudCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSB1bmRlcmx5aW5nIHNvdXJjZSBpcyBwbGF5aW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHBsYXlpbmcuXG4gICAgICovXG4gICAgcHJpdmF0ZSBfaXNTb3VyY2VQbGF5aW5nKCk6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIGNvbnN0IHNvdXJjZSA9IHRoaXMuc291cmNlIGFzIEhUTUxWaWRlb0VsZW1lbnQ7XG5cbiAgICAgICAgcmV0dXJuIChzb3VyY2UuY3VycmVudFRpbWUgPiAwICYmIHNvdXJjZS5wYXVzZWQgPT09IGZhbHNlICYmIHNvdXJjZS5lbmRlZCA9PT0gZmFsc2UgJiYgc291cmNlLnJlYWR5U3RhdGUgPiAyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIHVuZGVybHlpbmcgc291cmNlIGlzIHJlYWR5IGZvciBwbGF5aW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHJlYWR5LlxuICAgICAqL1xuICAgIHByaXZhdGUgX2lzU291cmNlUmVhZHkoKTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgY29uc3Qgc291cmNlID0gdGhpcy5zb3VyY2UgYXMgSFRNTFZpZGVvRWxlbWVudDtcblxuICAgICAgICByZXR1cm4gc291cmNlLnJlYWR5U3RhdGUgPT09IDMgfHwgc291cmNlLnJlYWR5U3RhdGUgPT09IDQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUnVucyB0aGUgdXBkYXRlIGxvb3Agd2hlbiB0aGUgdmlkZW8gaXMgcmVhZHkgdG8gcGxheVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBwcml2YXRlIF9vblBsYXlTdGFydCgpOiB2b2lkXG4gICAge1xuICAgICAgICAvLyBKdXN0IGluIGNhc2UgdGhlIHZpZGVvIGhhcyBub3QgcmVjZWl2ZWQgaXRzIGNhbiBwbGF5IGV2ZW4geWV0Li5cbiAgICAgICAgaWYgKCF0aGlzLnZhbGlkKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9vbkNhblBsYXkoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmF1dG9VcGRhdGUgJiYgIXRoaXMuX2lzQ29ubmVjdGVkVG9UaWNrZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIFRpY2tlci5zaGFyZWQuYWRkKHRoaXMudXBkYXRlLCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuX2lzQ29ubmVjdGVkVG9UaWNrZXIgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiBhIHBhdXNlIGV2ZW50IGlzIHRyaWdnZXJlZCwgc3RvcHMgdGhlIHVwZGF0ZSBsb29wXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHByaXZhdGUgX29uUGxheVN0b3AoKTogdm9pZFxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX2lzQ29ubmVjdGVkVG9UaWNrZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIFRpY2tlci5zaGFyZWQucmVtb3ZlKHRoaXMudXBkYXRlLCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuX2lzQ29ubmVjdGVkVG9UaWNrZXIgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4gdGhlIHZpZGVvIGlzIGxvYWRlZCBhbmQgcmVhZHkgdG8gcGxheVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBwcml2YXRlIF9vbkNhblBsYXkoKTogdm9pZFxuICAgIHtcbiAgICAgICAgY29uc3Qgc291cmNlID0gdGhpcy5zb3VyY2UgYXMgSFRNTFZpZGVvRWxlbWVudDtcblxuICAgICAgICBzb3VyY2UucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2FucGxheScsIHRoaXMuX29uQ2FuUGxheSk7XG4gICAgICAgIHNvdXJjZS5yZW1vdmVFdmVudExpc3RlbmVyKCdjYW5wbGF5dGhyb3VnaCcsIHRoaXMuX29uQ2FuUGxheSk7XG5cbiAgICAgICAgY29uc3QgdmFsaWQgPSB0aGlzLnZhbGlkO1xuXG4gICAgICAgIHRoaXMucmVzaXplKHNvdXJjZS52aWRlb1dpZHRoLCBzb3VyY2UudmlkZW9IZWlnaHQpO1xuXG4gICAgICAgIC8vIHByZXZlbnQgbXVsdGlwbGUgbG9hZGVkIGRpc3BhdGNoZXMuLlxuICAgICAgICBpZiAoIXZhbGlkICYmIHRoaXMuX3Jlc29sdmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3Jlc29sdmUodGhpcyk7XG4gICAgICAgICAgICB0aGlzLl9yZXNvbHZlID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9pc1NvdXJjZVBsYXlpbmcoKSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fb25QbGF5U3RhcnQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmF1dG9QbGF5KVxuICAgICAgICB7XG4gICAgICAgICAgICBzb3VyY2UucGxheSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyB0ZXh0dXJlXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgZGlzcG9zZSgpOiB2b2lkXG4gICAge1xuICAgICAgICBpZiAodGhpcy5faXNDb25uZWN0ZWRUb1RpY2tlcilcbiAgICAgICAge1xuICAgICAgICAgICAgVGlja2VyLnNoYXJlZC5yZW1vdmUodGhpcy51cGRhdGUsIHRoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc291cmNlID0gdGhpcy5zb3VyY2UgYXMgSFRNTFZpZGVvRWxlbWVudDtcblxuICAgICAgICBpZiAoc291cmNlKVxuICAgICAgICB7XG4gICAgICAgICAgICBzb3VyY2UucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCB0aGlzLl9vbkVycm9yLCB0cnVlKTtcbiAgICAgICAgICAgIHNvdXJjZS5wYXVzZSgpO1xuICAgICAgICAgICAgc291cmNlLnNyYyA9ICcnO1xuICAgICAgICAgICAgc291cmNlLmxvYWQoKTtcbiAgICAgICAgfVxuICAgICAgICBzdXBlci5kaXNwb3NlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2hvdWxkIHRoZSBiYXNlIHRleHR1cmUgYXV0b21hdGljYWxseSB1cGRhdGUgaXRzZWxmLCBzZXQgdG8gdHJ1ZSBieSBkZWZhdWx0XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqL1xuICAgIGdldCBhdXRvVXBkYXRlKCk6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hdXRvVXBkYXRlO1xuICAgIH1cblxuICAgIHNldCBhdXRvVXBkYXRlKHZhbHVlOiBib29sZWFuKVxuICAgIHtcbiAgICAgICAgaWYgKHZhbHVlICE9PSB0aGlzLl9hdXRvVXBkYXRlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9hdXRvVXBkYXRlID0gdmFsdWU7XG5cbiAgICAgICAgICAgIGlmICghdGhpcy5fYXV0b1VwZGF0ZSAmJiB0aGlzLl9pc0Nvbm5lY3RlZFRvVGlja2VyKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFRpY2tlci5zaGFyZWQucmVtb3ZlKHRoaXMudXBkYXRlLCB0aGlzKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9pc0Nvbm5lY3RlZFRvVGlja2VyID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLl9hdXRvVXBkYXRlICYmICF0aGlzLl9pc0Nvbm5lY3RlZFRvVGlja2VyICYmIHRoaXMuX2lzU291cmNlUGxheWluZygpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFRpY2tlci5zaGFyZWQuYWRkKHRoaXMudXBkYXRlLCB0aGlzKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9pc0Nvbm5lY3RlZFRvVGlja2VyID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhvdyBtYW55IHRpbWVzIGEgc2Vjb25kIHRvIHVwZGF0ZSB0aGUgdGV4dHVyZSBmcm9tIHRoZSB2aWRlby4gTGVhdmUgYXQgMCB0byB1cGRhdGUgYXQgZXZlcnkgcmVuZGVyLlxuICAgICAqIEEgbG93ZXIgZnBzIGNhbiBoZWxwIHBlcmZvcm1hbmNlLCBhcyB1cGRhdGluZyB0aGUgdGV4dHVyZSBhdCA2MGZwcyBvbiBhIDMwcHMgdmlkZW8gbWF5IG5vdCBiZSBlZmZpY2llbnQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IHVwZGF0ZUZQUygpOiBudW1iZXJcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl91cGRhdGVGUFM7XG4gICAgfVxuXG4gICAgc2V0IHVwZGF0ZUZQUyh2YWx1ZTogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgaWYgKHZhbHVlICE9PSB0aGlzLl91cGRhdGVGUFMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUZQUyA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXNlZCB0byBhdXRvLWRldGVjdCB0aGUgdHlwZSBvZiByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0geyp9IHNvdXJjZSAtIFRoZSBzb3VyY2Ugb2JqZWN0XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV4dGVuc2lvbiAtIFRoZSBleHRlbnNpb24gb2Ygc291cmNlLCBpZiBzZXRcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBgdHJ1ZWAgaWYgdmlkZW8gc291cmNlXG4gICAgICovXG4gICAgc3RhdGljIHRlc3Qoc291cmNlOiB1bmtub3duLCBleHRlbnNpb24/OiBzdHJpbmcpOiBzb3VyY2UgaXMgSFRNTFZpZGVvRWxlbWVudFxuICAgIHtcbiAgICAgICAgcmV0dXJuIChzb3VyY2UgaW5zdGFuY2VvZiBIVE1MVmlkZW9FbGVtZW50KVxuICAgICAgICAgICAgfHwgVmlkZW9SZXNvdXJjZS5UWVBFUy5pbmRleE9mKGV4dGVuc2lvbikgPiAtMTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMaXN0IG9mIGNvbW1vbiB2aWRlbyBmaWxlIGV4dGVuc2lvbnMgc3VwcG9ydGVkIGJ5IFZpZGVvUmVzb3VyY2UuXG4gICAgICogQGNvbnN0YW50XG4gICAgICogQG1lbWJlciB7QXJyYXk8c3RyaW5nPn1cbiAgICAgKiBAc3RhdGljXG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgc3RhdGljIFRZUEVTID0gWydtcDQnLCAnbTR2JywgJ3dlYm0nLCAnb2dnJywgJ29ndicsICdoMjY0JywgJ2F2aScsICdtb3YnXTtcblxuICAgIC8qKlxuICAgICAqIE1hcCBvZiB2aWRlbyBNSU1FIHR5cGVzIHRoYXQgY2FuJ3QgYmUgZGlyZWN0bHkgZGVyaXZlZCBmcm9tIGZpbGUgZXh0ZW5zaW9ucy5cbiAgICAgKiBAY29uc3RhbnRcbiAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICogQHN0YXRpY1xuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuICAgIHN0YXRpYyBNSU1FX1RZUEVTOiBEaWN0PHN0cmluZz4gPSB7XG4gICAgICAgIG9ndjogJ3ZpZGVvL29nZycsXG4gICAgICAgIG1vdjogJ3ZpZGVvL3F1aWNrdGltZScsXG4gICAgICAgIG00djogJ3ZpZGVvL21wNCcsXG4gICAgfTtcbn1cbiIsImltcG9ydCB7IEJhc2VJbWFnZVJlc291cmNlIH0gZnJvbSAnLi9CYXNlSW1hZ2VSZXNvdXJjZSc7XG5cbi8qKlxuICogUmVzb3VyY2UgdHlwZSBmb3IgSW1hZ2VCaXRtYXAuXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkucmVzb3VyY2VzLkJhc2VJbWFnZVJlc291cmNlXG4gKiBAbWVtYmVyb2YgUElYSS5yZXNvdXJjZXNcbiAqIEBwYXJhbSB7SW1hZ2VCaXRtYXB9IHNvdXJjZSAtIEltYWdlIGVsZW1lbnQgdG8gdXNlXG4gKi9cbmV4cG9ydCBjbGFzcyBJbWFnZUJpdG1hcFJlc291cmNlIGV4dGVuZHMgQmFzZUltYWdlUmVzb3VyY2VcbntcbiAgICAvKipcbiAgICAgKiBVc2VkIHRvIGF1dG8tZGV0ZWN0IHRoZSB0eXBlIG9mIHJlc291cmNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7SW1hZ2VCaXRtYXB9IHNvdXJjZSAtIFRoZSBzb3VyY2Ugb2JqZWN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gYHRydWVgIGlmIHNvdXJjZSBpcyBhbiBJbWFnZUJpdG1hcFxuICAgICAqL1xuICAgIHN0YXRpYyB0ZXN0KHNvdXJjZTogdW5rbm93bik6IHNvdXJjZSBpcyBJbWFnZUJpdG1hcFxuICAgIHtcbiAgICAgICAgcmV0dXJuICEhd2luZG93LmNyZWF0ZUltYWdlQml0bWFwICYmIHNvdXJjZSBpbnN0YW5jZW9mIEltYWdlQml0bWFwO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IElOU1RBTExFRCB9IGZyb20gJy4vYXV0b0RldGVjdFJlc291cmNlJztcbmltcG9ydCB7IEFycmF5UmVzb3VyY2UgfSBmcm9tICcuL0FycmF5UmVzb3VyY2UnO1xuaW1wb3J0IHsgQnVmZmVyUmVzb3VyY2UgfSBmcm9tICcuL0J1ZmZlclJlc291cmNlJztcbmltcG9ydCB7IENhbnZhc1Jlc291cmNlIH0gZnJvbSAnLi9DYW52YXNSZXNvdXJjZSc7XG5pbXBvcnQgeyBDdWJlUmVzb3VyY2UgfSBmcm9tICcuL0N1YmVSZXNvdXJjZSc7XG5pbXBvcnQgeyBJbWFnZVJlc291cmNlIH0gZnJvbSAnLi9JbWFnZVJlc291cmNlJztcbmltcG9ydCB7IFNWR1Jlc291cmNlIH0gZnJvbSAnLi9TVkdSZXNvdXJjZSc7XG5pbXBvcnQgeyBWaWRlb1Jlc291cmNlIH0gZnJvbSAnLi9WaWRlb1Jlc291cmNlJztcbmltcG9ydCB7IEltYWdlQml0bWFwUmVzb3VyY2UgfSBmcm9tICcuL0ltYWdlQml0bWFwUmVzb3VyY2UnO1xuXG4vKipcbiAqIENvbGxlY3Rpb24gb2YgYmFzZSByZXNvdXJjZSB0eXBlcyBzdXBwb3J0ZWQgYnkgUGl4aUpTLlxuICpcbiAqIFJlc291cmNlcyBhcmUgdXNlZCBieSB7QGxpbmsgUElYSS5CYXNlVGV4dHVyZX0gdG8gaGFuZGxlIGRpZmZlcmVudCBtZWRpYSB0eXBlc1xuICogc3VjaCBhcyBpbWFnZXMsIHZpZGVvLCBTVkcgZ3JhcGhpY3MsIGV0Yy4gSW4gbW9zdCB1c2UtY2FzZXMsIHlvdSBzaG91bGQgbm90XG4gKiBpbnN0YW50aWF0ZSB0aGUgcmVzb3VyY2VzIGRpcmVjdGx5LiBUaGUgZWFzeSB0aGluZyBpcyB0byB1c2VcbiAqIHtAbGluayBQSVhJLkJhc2VUZXh0dXJlLmZyb219LlxuICogQGV4YW1wbGVcbiAqIGNvbnN0IGJhc2VUZXh0dXJlID0gUElYSS5CYXNlVGV4dHVyZS5mcm9tKCdwYXRoL3RvL2ltYWdlLmpwZycpO1xuICogQG5hbWVzcGFjZSBQSVhJLnJlc291cmNlc1xuICovXG5leHBvcnQgKiBmcm9tICcuL1Jlc291cmNlJztcbmV4cG9ydCAqIGZyb20gJy4vQmFzZUltYWdlUmVzb3VyY2UnO1xuXG5JTlNUQUxMRUQucHVzaChcbiAgICBJbWFnZVJlc291cmNlLFxuICAgIEltYWdlQml0bWFwUmVzb3VyY2UsXG4gICAgQ2FudmFzUmVzb3VyY2UsXG4gICAgVmlkZW9SZXNvdXJjZSxcbiAgICBTVkdSZXNvdXJjZSxcbiAgICBCdWZmZXJSZXNvdXJjZSxcbiAgICBDdWJlUmVzb3VyY2UsXG4gICAgQXJyYXlSZXNvdXJjZVxuKTtcblxuZXhwb3J0ICogZnJvbSAnLi9hdXRvRGV0ZWN0UmVzb3VyY2UnO1xuZXhwb3J0ICogZnJvbSAnLi9BYnN0cmFjdE11bHRpUmVzb3VyY2UnO1xuZXhwb3J0ICogZnJvbSAnLi9BcnJheVJlc291cmNlJztcbmV4cG9ydCAqIGZyb20gJy4vQnVmZmVyUmVzb3VyY2UnO1xuZXhwb3J0ICogZnJvbSAnLi9DYW52YXNSZXNvdXJjZSc7XG5leHBvcnQgKiBmcm9tICcuL0N1YmVSZXNvdXJjZSc7XG5leHBvcnQgKiBmcm9tICcuL0ltYWdlUmVzb3VyY2UnO1xuZXhwb3J0ICogZnJvbSAnLi9TVkdSZXNvdXJjZSc7XG5leHBvcnQgKiBmcm9tICcuL1ZpZGVvUmVzb3VyY2UnO1xuZXhwb3J0ICogZnJvbSAnLi9JbWFnZUJpdG1hcFJlc291cmNlJztcbiIsImltcG9ydCB0eXBlIHsgUmVuZGVyZXIgfSBmcm9tICcuL1JlbmRlcmVyJztcblxuLyoqXG4gKiBTeXN0ZW0gaXMgYSBiYXNlIGNsYXNzIHVzZWQgZm9yIGV4dGVuZGluZyBzeXN0ZW1zIHVzZWQgYnkgdGhlIHtAbGluayBQSVhJLlJlbmRlcmVyfVxuICpcbiAqIEBzZWUgUElYSS5SZW5kZXJlciNhZGRTeXN0ZW1cbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGNsYXNzIFN5c3RlbVxue1xuICAgIC8vIHB1YmxpYyBiZWNhdXNlIG9mIEZpbHRlciB1c2FnZSxcbiAgICAvLyBwcm90ZWN0ZWQgYmVjYXVzZSB1c3VhbGx5IHJlbmRlcmVyIGl0IGFscmVhZHkga25vd24gYnkgdGhvc2Ugd2hvIHVzZSB0aGUgc3lzdGVtXG4gICAgcmVuZGVyZXI6IFJlbmRlcmVyO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBtYW5hZ2VyIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihyZW5kZXJlcjogUmVuZGVyZXIpXG4gICAge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJlbmRlcmVyIHRoaXMgbWFuYWdlciB3b3JrcyBmb3IuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVuZGVyZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2VuZXJpYyBkZXN0cm95IG1ldGhvZHMgdG8gYmUgb3ZlcnJpZGRlbiBieSB0aGUgc3ViY2xhc3NcbiAgICAgKi9cbiAgICBkZXN0cm95KCk6IHZvaWRcbiAgICB7XG4gICAgICAgICh0aGlzIGFzIGFueSkucmVuZGVyZXIgPSBudWxsO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEFMUEhBX01PREVTIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmltcG9ydCB7IEJ1ZmZlclJlc291cmNlIH0gZnJvbSAnLi9CdWZmZXJSZXNvdXJjZSc7XG5cbmltcG9ydCB0eXBlIHsgQmFzZVRleHR1cmUgfSBmcm9tICcuLi9CYXNlVGV4dHVyZSc7XG5pbXBvcnQgdHlwZSB7IFJlbmRlcmVyIH0gZnJvbSAnLi4vLi4vUmVuZGVyZXInO1xuaW1wb3J0IHR5cGUgeyBHTFRleHR1cmUgfSBmcm9tICcuLi9HTFRleHR1cmUnO1xuLyoqXG4gKiBSZXNvdXJjZSB0eXBlIGZvciBEZXB0aFRleHR1cmUuXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkucmVzb3VyY2VzLkJ1ZmZlclJlc291cmNlXG4gKiBAbWVtYmVyb2YgUElYSS5yZXNvdXJjZXNcbiAqL1xuZXhwb3J0IGNsYXNzIERlcHRoUmVzb3VyY2UgZXh0ZW5kcyBCdWZmZXJSZXNvdXJjZVxue1xuICAgIC8qKlxuICAgICAqIFVwbG9hZCB0aGUgdGV4dHVyZSB0byB0aGUgR1BVLlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBVcGxvYWQgdG8gdGhlIHJlbmRlcmVyXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIFJlZmVyZW5jZSB0byBwYXJlbnQgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7UElYSS5HTFRleHR1cmV9IGdsVGV4dHVyZSAtIGdsVGV4dHVyZVxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlzIHN1Y2Nlc3NcbiAgICAgKi9cbiAgICB1cGxvYWQocmVuZGVyZXI6IFJlbmRlcmVyLCBiYXNlVGV4dHVyZTogQmFzZVRleHR1cmUsIGdsVGV4dHVyZTogR0xUZXh0dXJlKTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgY29uc3QgZ2wgPSByZW5kZXJlci5nbDtcblxuICAgICAgICBnbC5waXhlbFN0b3JlaShnbC5VTlBBQ0tfUFJFTVVMVElQTFlfQUxQSEFfV0VCR0wsIGJhc2VUZXh0dXJlLmFscGhhTW9kZSA9PT0gQUxQSEFfTU9ERVMuVU5QQUNLKTtcblxuICAgICAgICBpZiAoZ2xUZXh0dXJlLndpZHRoID09PSBiYXNlVGV4dHVyZS53aWR0aCAmJiBnbFRleHR1cmUuaGVpZ2h0ID09PSBiYXNlVGV4dHVyZS5oZWlnaHQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsLnRleFN1YkltYWdlMkQoXG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUudGFyZ2V0LFxuICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlLndpZHRoLFxuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlLmhlaWdodCxcbiAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZS5mb3JtYXQsXG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUudHlwZSxcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGEsXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgZ2xUZXh0dXJlLndpZHRoID0gYmFzZVRleHR1cmUud2lkdGg7XG4gICAgICAgICAgICBnbFRleHR1cmUuaGVpZ2h0ID0gYmFzZVRleHR1cmUuaGVpZ2h0O1xuXG4gICAgICAgICAgICBnbC50ZXhJbWFnZTJEKFxuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlLnRhcmdldCxcbiAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgIC8vICBnbC5ERVBUSF9DT01QT05FTlQxNiBOZWVkZWQgZm9yIGRlcHRoIHRvIHJlbmRlciBwcm9wZXJseSBpbiB3ZWJnbDIuMFxuICAgICAgICAgICAgICAgIHJlbmRlcmVyLmNvbnRleHQud2ViR0xWZXJzaW9uID09PSAxID8gZ2wuREVQVEhfQ09NUE9ORU5UIDogZ2wuREVQVEhfQ09NUE9ORU5UMTYsXG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUud2lkdGgsXG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUuaGVpZ2h0LFxuICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUuZm9ybWF0LFxuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlLnR5cGUsXG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFJ1bm5lciB9IGZyb20gJ0BwaXhpL3J1bm5lcic7XG5pbXBvcnQgeyBCYXNlVGV4dHVyZSB9IGZyb20gJy4uL3RleHR1cmVzL0Jhc2VUZXh0dXJlJztcbmltcG9ydCB7IERlcHRoUmVzb3VyY2UgfSBmcm9tICcuLi90ZXh0dXJlcy9yZXNvdXJjZXMvRGVwdGhSZXNvdXJjZSc7XG5pbXBvcnQgeyBGT1JNQVRTLCBNSVBNQVBfTU9ERVMsIFNDQUxFX01PREVTLCBUWVBFUywgTVNBQV9RVUFMSVRZIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcblxuaW1wb3J0IHR5cGUgeyBHTEZyYW1lYnVmZmVyIH0gZnJvbSAnLi9HTEZyYW1lYnVmZmVyJztcblxuLyoqXG4gKiBGcmFtZSBidWZmZXIgdXNlZCBieSB0aGUgQmFzZVJlbmRlclRleHR1cmVcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBjbGFzcyBGcmFtZWJ1ZmZlclxue1xuICAgIHB1YmxpYyB3aWR0aDogbnVtYmVyO1xuICAgIHB1YmxpYyBoZWlnaHQ6IG51bWJlcjtcbiAgICBwdWJsaWMgbXVsdGlzYW1wbGU6IE1TQUFfUVVBTElUWTtcbiAgICBzdGVuY2lsOiBib29sZWFuO1xuICAgIGRlcHRoOiBib29sZWFuO1xuICAgIGRpcnR5SWQ6IG51bWJlcjtcbiAgICBkaXJ0eUZvcm1hdDogbnVtYmVyO1xuICAgIGRpcnR5U2l6ZTogbnVtYmVyO1xuICAgIGRlcHRoVGV4dHVyZTogQmFzZVRleHR1cmU7XG4gICAgY29sb3JUZXh0dXJlczogQXJyYXk8QmFzZVRleHR1cmU+O1xuICAgIGdsRnJhbWVidWZmZXJzOiB7W2tleTogc3RyaW5nXTogR0xGcmFtZWJ1ZmZlcn07XG4gICAgZGlzcG9zZVJ1bm5lcjogUnVubmVyO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIFdpZHRoIG9mIHRoZSBmcmFtZSBidWZmZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gSGVpZ2h0IG9mIHRoZSBmcmFtZSBidWZmZXJcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcilcbiAgICB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaWR0aCBvZiBmcmFtZWJ1ZmZlciBpbiBwaXhlbHNcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy53aWR0aCA9IE1hdGguY2VpbCh3aWR0aCB8fCAxMDApO1xuICAgICAgICAvKipcbiAgICAgICAgICogSGVpZ2h0IG9mIGZyYW1lYnVmZmVyIGluIHBpeGVsc1xuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmhlaWdodCA9IE1hdGguY2VpbChoZWlnaHQgfHwgMTAwKTtcblxuICAgICAgICB0aGlzLnN0ZW5jaWwgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5kZXB0aCA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMuZGlydHlJZCA9IDA7XG4gICAgICAgIHRoaXMuZGlydHlGb3JtYXQgPSAwO1xuICAgICAgICB0aGlzLmRpcnR5U2l6ZSA9IDA7XG5cbiAgICAgICAgdGhpcy5kZXB0aFRleHR1cmUgPSBudWxsO1xuICAgICAgICB0aGlzLmNvbG9yVGV4dHVyZXMgPSBbXTtcblxuICAgICAgICB0aGlzLmdsRnJhbWVidWZmZXJzID0ge307XG5cbiAgICAgICAgdGhpcy5kaXNwb3NlUnVubmVyID0gbmV3IFJ1bm5lcignZGlzcG9zZUZyYW1lYnVmZmVyJyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlc2lyZWQgbnVtYmVyIG9mIHNhbXBsZXMgZm9yIGFudGlhbGlhc2luZy4gMCBtZWFucyBBQSBzaG91bGQgbm90IGJlIHVzZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEV4cGVyaW1lbnRhbCBXZWJHTDIgZmVhdHVyZSwgYWxsb3dzIHRvIHVzZSBhbnRpYWxpYXNpbmcgaW4gaW5kaXZpZHVhbCByZW5kZXJUZXh0dXJlcy5cbiAgICAgICAgICogQW50aWFsaWFzaW5nIGlzIHRoZSBzYW1lIGFzIGZvciBtYWluIGJ1ZmZlciB3aXRoIHJlbmRlcmVyIGBhbnRpYWxpYXM6dHJ1ZWAgb3B0aW9ucy5cbiAgICAgICAgICogU2VyaW91c2x5IGFmZmVjdHMgR1BVIG1lbW9yeSBjb25zdW1wdGlvbiBhbmQgR1BVIHBlcmZvcm1hbmNlLlxuICAgICAgICAgKlxuICAgICAgICAgKmBgYGpzXG4gICAgICAgICAqIHJlbmRlclRleHR1cmUuZnJhbWVidWZmZXIubXVsdGlzYW1wbGUgPSBQSVhJLk1TQUFfUVVBTElUWS5ISUdIO1xuICAgICAgICAgKiAvLy4uLlxuICAgICAgICAgKiByZW5kZXJlci5yZW5kZXIocmVuZGVyVGV4dHVyZSwgbXlDb250YWluZXIpO1xuICAgICAgICAgKiByZW5kZXJlci5mcmFtZWJ1ZmZlci5ibGl0KCk7IC8vIGNvcGllcyBkYXRhIGZyb20gTVNBQSBmcmFtZWJ1ZmZlciB0byB0ZXh0dXJlXG4gICAgICAgICAqICBgYGBcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5NU0FBX1FVQUxJVFl9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuTVNBQV9RVUFMSVRZLk5PTkVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubXVsdGlzYW1wbGUgPSBNU0FBX1FVQUxJVFkuTk9ORTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIGNvbG9yVGV4dHVyZS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuQmFzZVRleHR1cmVbXX1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICBnZXQgY29sb3JUZXh0dXJlKCk6IEJhc2VUZXh0dXJlXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5jb2xvclRleHR1cmVzWzBdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZCB0ZXh0dXJlIHRvIHRoZSBjb2xvclRleHR1cmUgYXJyYXlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbaW5kZXg9MF0gLSBJbmRleCBvZiB0aGUgYXJyYXkgdG8gYWRkIHRoZSB0ZXh0dXJlIHRvXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBbdGV4dHVyZV0gLSBUZXh0dXJlIHRvIGFkZCB0byB0aGUgYXJyYXlcbiAgICAgKi9cbiAgICBhZGRDb2xvclRleHR1cmUoaW5kZXggPSAwLCB0ZXh0dXJlPzogQmFzZVRleHR1cmUpOiB0aGlzXG4gICAge1xuICAgICAgICAvLyBUT0RPIGFkZCBzb21lIHZhbGlkYXRpb24gdG8gdGhlIHRleHR1cmUgLSBzYW1lIHdpZHRoIC8gaGVpZ2h0IGV0Yz9cbiAgICAgICAgdGhpcy5jb2xvclRleHR1cmVzW2luZGV4XSA9IHRleHR1cmUgfHwgbmV3IEJhc2VUZXh0dXJlKG51bGwsIHtcbiAgICAgICAgICAgIHNjYWxlTW9kZTogU0NBTEVfTU9ERVMuTkVBUkVTVCxcbiAgICAgICAgICAgIHJlc29sdXRpb246IDEsXG4gICAgICAgICAgICBtaXBtYXA6IE1JUE1BUF9NT0RFUy5PRkYsXG4gICAgICAgICAgICB3aWR0aDogdGhpcy53aWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogdGhpcy5oZWlnaHQsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuZGlydHlJZCsrO1xuICAgICAgICB0aGlzLmRpcnR5Rm9ybWF0Kys7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkIGEgZGVwdGggdGV4dHVyZSB0byB0aGUgZnJhbWUgYnVmZmVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IFt0ZXh0dXJlXSAtIFRleHR1cmUgdG8gYWRkXG4gICAgICovXG4gICAgYWRkRGVwdGhUZXh0dXJlKHRleHR1cmU/OiBCYXNlVGV4dHVyZSk6IHRoaXNcbiAgICB7XG4gICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbiAgICAgICAgdGhpcy5kZXB0aFRleHR1cmUgPSB0ZXh0dXJlIHx8IG5ldyBCYXNlVGV4dHVyZShuZXcgRGVwdGhSZXNvdXJjZShudWxsLCB7IHdpZHRoOiB0aGlzLndpZHRoLCBoZWlnaHQ6IHRoaXMuaGVpZ2h0IH0pLCB7XG4gICAgICAgICAgICBzY2FsZU1vZGU6IFNDQUxFX01PREVTLk5FQVJFU1QsXG4gICAgICAgICAgICByZXNvbHV0aW9uOiAxLFxuICAgICAgICAgICAgd2lkdGg6IHRoaXMud2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IHRoaXMuaGVpZ2h0LFxuICAgICAgICAgICAgbWlwbWFwOiBNSVBNQVBfTU9ERVMuT0ZGLFxuICAgICAgICAgICAgZm9ybWF0OiBGT1JNQVRTLkRFUFRIX0NPTVBPTkVOVCxcbiAgICAgICAgICAgIHR5cGU6IFRZUEVTLlVOU0lHTkVEX1NIT1JULFxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmRpcnR5SWQrKztcbiAgICAgICAgdGhpcy5kaXJ0eUZvcm1hdCsrO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVuYWJsZSBkZXB0aCBvbiB0aGUgZnJhbWUgYnVmZmVyXG4gICAgICovXG4gICAgZW5hYmxlRGVwdGgoKTogdGhpc1xuICAgIHtcbiAgICAgICAgdGhpcy5kZXB0aCA9IHRydWU7XG5cbiAgICAgICAgdGhpcy5kaXJ0eUlkKys7XG4gICAgICAgIHRoaXMuZGlydHlGb3JtYXQrKztcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbmFibGUgc3RlbmNpbCBvbiB0aGUgZnJhbWUgYnVmZmVyXG4gICAgICovXG4gICAgZW5hYmxlU3RlbmNpbCgpOiB0aGlzXG4gICAge1xuICAgICAgICB0aGlzLnN0ZW5jaWwgPSB0cnVlO1xuXG4gICAgICAgIHRoaXMuZGlydHlJZCsrO1xuICAgICAgICB0aGlzLmRpcnR5Rm9ybWF0Kys7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVzaXplIHRoZSBmcmFtZSBidWZmZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIFdpZHRoIG9mIHRoZSBmcmFtZSBidWZmZXIgdG8gcmVzaXplIHRvXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIEhlaWdodCBvZiB0aGUgZnJhbWUgYnVmZmVyIHRvIHJlc2l6ZSB0b1xuICAgICAqL1xuICAgIHJlc2l6ZSh3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcik6IHZvaWRcbiAgICB7XG4gICAgICAgIHdpZHRoID0gTWF0aC5jZWlsKHdpZHRoKTtcbiAgICAgICAgaGVpZ2h0ID0gTWF0aC5jZWlsKGhlaWdodCk7XG5cbiAgICAgICAgaWYgKHdpZHRoID09PSB0aGlzLndpZHRoICYmIGhlaWdodCA9PT0gdGhpcy5oZWlnaHQpIHJldHVybjtcblxuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgICAgIHRoaXMuZGlydHlJZCsrO1xuICAgICAgICB0aGlzLmRpcnR5U2l6ZSsrO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jb2xvclRleHR1cmVzLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCB0ZXh0dXJlID0gdGhpcy5jb2xvclRleHR1cmVzW2ldO1xuICAgICAgICAgICAgY29uc3QgcmVzb2x1dGlvbiA9IHRleHR1cmUucmVzb2x1dGlvbjtcblxuICAgICAgICAgICAgLy8gdGFrZSBpbnRvIGFjb3VudCB0aGUgZmFjdCB0aGUgdGV4dHVyZSBtYXkgaGF2ZSBhIGRpZmZlcmVudCByZXNvbHV0aW9uLi5cbiAgICAgICAgICAgIHRleHR1cmUuc2V0U2l6ZSh3aWR0aCAvIHJlc29sdXRpb24sIGhlaWdodCAvIHJlc29sdXRpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuZGVwdGhUZXh0dXJlKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCByZXNvbHV0aW9uID0gdGhpcy5kZXB0aFRleHR1cmUucmVzb2x1dGlvbjtcblxuICAgICAgICAgICAgdGhpcy5kZXB0aFRleHR1cmUuc2V0U2l6ZSh3aWR0aCAvIHJlc29sdXRpb24sIGhlaWdodCAvIHJlc29sdXRpb24pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGlzcG9zZXMgV2ViR0wgcmVzb3VyY2VzIHRoYXQgYXJlIGNvbm5lY3RlZCB0byB0aGlzIGdlb21ldHJ5XG4gICAgICovXG4gICAgZGlzcG9zZSgpOiB2b2lkXG4gICAge1xuICAgICAgICB0aGlzLmRpc3Bvc2VSdW5uZXIuZW1pdCh0aGlzLCBmYWxzZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgYW5kIHJlbW92ZXMgdGhlIGRlcHRoIHRleHR1cmUgYWRkZWQgdG8gdGhpcyBmcmFtZWJ1ZmZlci5cbiAgICAgKi9cbiAgICBkZXN0cm95RGVwdGhUZXh0dXJlKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmRlcHRoVGV4dHVyZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5kZXB0aFRleHR1cmUuZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5kZXB0aFRleHR1cmUgPSBudWxsO1xuXG4gICAgICAgICAgICArK3RoaXMuZGlydHlJZDtcbiAgICAgICAgICAgICsrdGhpcy5kaXJ0eUZvcm1hdDtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7IEJhc2VUZXh0dXJlIH0gZnJvbSAnLi4vdGV4dHVyZXMvQmFzZVRleHR1cmUnO1xuaW1wb3J0IHsgRnJhbWVidWZmZXIgfSBmcm9tICcuLi9mcmFtZWJ1ZmZlci9GcmFtZWJ1ZmZlcic7XG5cbmltcG9ydCB0eXBlIHsgSUJhc2VUZXh0dXJlT3B0aW9ucyB9IGZyb20gJy4uL3RleHR1cmVzL0Jhc2VUZXh0dXJlJztcbmltcG9ydCB0eXBlIHsgTWFza0RhdGEgfSBmcm9tICcuLi9tYXNrL01hc2tEYXRhJztcblxuZXhwb3J0IGludGVyZmFjZSBCYXNlUmVuZGVyVGV4dHVyZSBleHRlbmRzIEdsb2JhbE1peGlucy5CYXNlUmVuZGVyVGV4dHVyZSwgQmFzZVRleHR1cmUge31cblxuLyoqXG4gKiBBIEJhc2VSZW5kZXJUZXh0dXJlIGlzIGEgc3BlY2lhbCB0ZXh0dXJlIHRoYXQgYWxsb3dzIGFueSBQaXhpSlMgZGlzcGxheSBvYmplY3QgdG8gYmUgcmVuZGVyZWQgdG8gaXQuXG4gKlxuICogX19IaW50X186IEFsbCBEaXNwbGF5T2JqZWN0cyAoaS5lLiBTcHJpdGVzKSB0aGF0IHJlbmRlciB0byBhIEJhc2VSZW5kZXJUZXh0dXJlIHNob3VsZCBiZSBwcmVsb2FkZWRcbiAqIG90aGVyd2lzZSBibGFjayByZWN0YW5nbGVzIHdpbGwgYmUgZHJhd24gaW5zdGVhZC5cbiAqXG4gKiBBIEJhc2VSZW5kZXJUZXh0dXJlIHRha2VzIGEgc25hcHNob3Qgb2YgYW55IERpc3BsYXkgT2JqZWN0IGdpdmVuIHRvIGl0cyByZW5kZXIgbWV0aG9kLiBUaGUgcG9zaXRpb25cbiAqIGFuZCByb3RhdGlvbiBvZiB0aGUgZ2l2ZW4gRGlzcGxheSBPYmplY3RzIGlzIGlnbm9yZWQuIEZvciBleGFtcGxlOlxuICpcbiAqIGBgYGpzXG4gKiBsZXQgcmVuZGVyZXIgPSBQSVhJLmF1dG9EZXRlY3RSZW5kZXJlcigpO1xuICogbGV0IGJhc2VSZW5kZXJUZXh0dXJlID0gbmV3IFBJWEkuQmFzZVJlbmRlclRleHR1cmUoeyB3aWR0aDogODAwLCBoZWlnaHQ6IDYwMCB9KTtcbiAqIGxldCByZW5kZXJUZXh0dXJlID0gbmV3IFBJWEkuUmVuZGVyVGV4dHVyZShiYXNlUmVuZGVyVGV4dHVyZSk7XG4gKiBsZXQgc3ByaXRlID0gUElYSS5TcHJpdGUuZnJvbShcInNwaW5PYmpfMDEucG5nXCIpO1xuICpcbiAqIHNwcml0ZS5wb3NpdGlvbi54ID0gODAwLzI7XG4gKiBzcHJpdGUucG9zaXRpb24ueSA9IDYwMC8yO1xuICogc3ByaXRlLmFuY2hvci54ID0gMC41O1xuICogc3ByaXRlLmFuY2hvci55ID0gMC41O1xuICpcbiAqIHJlbmRlcmVyLnJlbmRlcihzcHJpdGUsIHJlbmRlclRleHR1cmUpO1xuICogYGBgXG4gKlxuICogVGhlIFNwcml0ZSBpbiB0aGlzIGNhc2Ugd2lsbCBiZSByZW5kZXJlZCB1c2luZyBpdHMgbG9jYWwgdHJhbnNmb3JtLiBUbyByZW5kZXIgdGhpcyBzcHJpdGUgYXQgMCwwXG4gKiB5b3UgY2FuIGNsZWFyIHRoZSB0cmFuc2Zvcm1cbiAqXG4gKiBgYGBqc1xuICpcbiAqIHNwcml0ZS5zZXRUcmFuc2Zvcm0oKVxuICpcbiAqIGxldCBiYXNlUmVuZGVyVGV4dHVyZSA9IG5ldyBQSVhJLkJhc2VSZW5kZXJUZXh0dXJlKHsgd2lkdGg6IDEwMCwgaGVpZ2h0OiAxMDAgfSk7XG4gKiBsZXQgcmVuZGVyVGV4dHVyZSA9IG5ldyBQSVhJLlJlbmRlclRleHR1cmUoYmFzZVJlbmRlclRleHR1cmUpO1xuICpcbiAqIHJlbmRlcmVyLnJlbmRlcihzcHJpdGUsIHJlbmRlclRleHR1cmUpOyAgLy8gUmVuZGVycyB0byBjZW50ZXIgb2YgUmVuZGVyVGV4dHVyZVxuICogYGBgXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkJhc2VUZXh0dXJlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgY2xhc3MgQmFzZVJlbmRlclRleHR1cmUgZXh0ZW5kcyBCYXNlVGV4dHVyZVxue1xuICAgIHB1YmxpYyBjbGVhckNvbG9yOiBudW1iZXJbXTtcbiAgICBwdWJsaWMgZnJhbWVidWZmZXI6IEZyYW1lYnVmZmVyO1xuICAgIG1hc2tTdGFjazogQXJyYXk8TWFza0RhdGE+O1xuICAgIGZpbHRlclN0YWNrOiBBcnJheTxhbnk+O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc11cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGg9MTAwXSAtIFRoZSB3aWR0aCBvZiB0aGUgYmFzZSByZW5kZXIgdGV4dHVyZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaGVpZ2h0PTEwMF0gLSBUaGUgaGVpZ2h0IG9mIHRoZSBiYXNlIHJlbmRlciB0ZXh0dXJlLlxuICAgICAqIEBwYXJhbSB7UElYSS5TQ0FMRV9NT0RFU30gW29wdGlvbnMuc2NhbGVNb2RlXSAtIFNlZSB7QGxpbmsgUElYSS5TQ0FMRV9NT0RFU30gZm9yIHBvc3NpYmxlIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMucmVzb2x1dGlvbj0xXSAtIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSB0ZXh0dXJlIGJlaW5nIGdlbmVyYXRlZC5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zOiBJQmFzZVRleHR1cmVPcHRpb25zKVxuICAgIHtcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnbnVtYmVyJylcbiAgICAgICAge1xuICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgcHJlZmVyLXJlc3QtcGFyYW1zICovXG4gICAgICAgICAgICAvLyBCYWNrd2FyZCBjb21wYXRpYmlsaXR5IG9mIHNpZ25hdHVyZVxuICAgICAgICAgICAgY29uc3Qgd2lkdGggPSBhcmd1bWVudHNbMF07XG4gICAgICAgICAgICBjb25zdCBoZWlnaHQgPSBhcmd1bWVudHNbMV07XG4gICAgICAgICAgICBjb25zdCBzY2FsZU1vZGUgPSBhcmd1bWVudHNbMl07XG4gICAgICAgICAgICBjb25zdCByZXNvbHV0aW9uID0gYXJndW1lbnRzWzNdO1xuXG4gICAgICAgICAgICBvcHRpb25zID0geyB3aWR0aCwgaGVpZ2h0LCBzY2FsZU1vZGUsIHJlc29sdXRpb24gfTtcbiAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgcHJlZmVyLXJlc3QtcGFyYW1zICovXG4gICAgICAgIH1cblxuICAgICAgICBzdXBlcihudWxsLCBvcHRpb25zKTtcblxuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IG9wdGlvbnMgfHwge307XG5cbiAgICAgICAgLy8gU2V0IGRlZmF1bHRzXG4gICAgICAgIHRoaXMubWlwbWFwID0gMDtcbiAgICAgICAgdGhpcy53aWR0aCA9IE1hdGguY2VpbCh3aWR0aCkgfHwgMTAwO1xuICAgICAgICB0aGlzLmhlaWdodCA9IE1hdGguY2VpbChoZWlnaHQpIHx8IDEwMDtcbiAgICAgICAgdGhpcy52YWxpZCA9IHRydWU7XG5cbiAgICAgICAgdGhpcy5jbGVhckNvbG9yID0gWzAsIDAsIDAsIDBdO1xuXG4gICAgICAgIHRoaXMuZnJhbWVidWZmZXIgPSBuZXcgRnJhbWVidWZmZXIodGhpcy53aWR0aCAqIHRoaXMucmVzb2x1dGlvbiwgdGhpcy5oZWlnaHQgKiB0aGlzLnJlc29sdXRpb24pXG4gICAgICAgICAgICAuYWRkQ29sb3JUZXh0dXJlKDAsIHRoaXMpO1xuXG4gICAgICAgIC8vIFRPRE8gLSBjb3VsZCB0aGlzIGJlIGFkZGVkIHRoZSBzeXN0ZW1zP1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZGF0YSBzdHJ1Y3R1cmUgZm9yIHRoZSBzdGVuY2lsIG1hc2tzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1hc2tEYXRhW119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1hc2tTdGFjayA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZGF0YSBzdHJ1Y3R1cmUgZm9yIHRoZSBmaWx0ZXJzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtPYmplY3RbXX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmlsdGVyU3RhY2sgPSBbe31dO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlc2l6ZXMgdGhlIEJhc2VSZW5kZXJUZXh0dXJlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gVGhlIHdpZHRoIHRvIHJlc2l6ZSB0by5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gVGhlIGhlaWdodCB0byByZXNpemUgdG8uXG4gICAgICovXG4gICAgcmVzaXplKHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKTogdm9pZFxuICAgIHtcbiAgICAgICAgd2lkdGggPSBNYXRoLmNlaWwod2lkdGgpO1xuICAgICAgICBoZWlnaHQgPSBNYXRoLmNlaWwoaGVpZ2h0KTtcbiAgICAgICAgdGhpcy5mcmFtZWJ1ZmZlci5yZXNpemUod2lkdGggKiB0aGlzLnJlc29sdXRpb24sIGhlaWdodCAqIHRoaXMucmVzb2x1dGlvbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRnJlZXMgdGhlIHRleHR1cmUgYW5kIGZyYW1lYnVmZmVyIGZyb20gV2ViR0wgbWVtb3J5IHdpdGhvdXQgZGVzdHJveWluZyB0aGlzIHRleHR1cmUgb2JqZWN0LlxuICAgICAqIFRoaXMgbWVhbnMgeW91IGNhbiBzdGlsbCB1c2UgdGhlIHRleHR1cmUgbGF0ZXIgd2hpY2ggd2lsbCB1cGxvYWQgaXQgdG8gR1BVXG4gICAgICogbWVtb3J5IGFnYWluLlxuICAgICAqXG4gICAgICogQGZpcmVzIFBJWEkuQmFzZVRleHR1cmUjZGlzcG9zZVxuICAgICAqL1xuICAgIGRpc3Bvc2UoKTogdm9pZFxuICAgIHtcbiAgICAgICAgdGhpcy5mcmFtZWJ1ZmZlci5kaXNwb3NlKCk7XG5cbiAgICAgICAgc3VwZXIuZGlzcG9zZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgdGV4dHVyZS5cbiAgICAgKi9cbiAgICBkZXN0cm95KCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHN1cGVyLmRlc3Ryb3koKTtcblxuICAgICAgICB0aGlzLmZyYW1lYnVmZmVyLmRlc3Ryb3lEZXB0aFRleHR1cmUoKTtcbiAgICAgICAgdGhpcy5mcmFtZWJ1ZmZlciA9IG51bGw7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgZ3JvdXBEOCB9IGZyb20gJ0BwaXhpL21hdGgnO1xuXG5pbXBvcnQgdHlwZSB7IFJlY3RhbmdsZSwgSVNpemUgfSBmcm9tICdAcGl4aS9tYXRoJztcblxuLyoqXG4gKiBTdG9yZXMgYSB0ZXh0dXJlJ3MgZnJhbWUgaW4gVVYgY29vcmRpbmF0ZXMsIGluXG4gKiB3aGljaCBldmVyeXRoaW5nIGxpZXMgaW4gdGhlIHJlY3RhbmdsZSBgWygwLDApLCAoMSwwKSxcbiAqICgxLDEpLCAoMCwxKV1gLlxuICpcbiAqIHwgQ29ybmVyICAgICAgIHwgQ29vcmRpbmF0ZXMgfFxuICogfC0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS18XG4gKiB8IFRvcC1MZWZ0ICAgICB8IGAoeDAseTApYCAgIHxcbiAqIHwgVG9wLVJpZ2h0ICAgIHwgYCh4MSx5MSlgICAgfFxuICogfCBCb3R0b20tUmlnaHQgfCBgKHgyLHkyKWAgICB8XG4gKiB8IEJvdHRvbS1MZWZ0ICB8IGAoeDMseTMpYCAgIHxcbiAqXG4gKiBAY2xhc3NcbiAqIEBwcm90ZWN0ZWRcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBjbGFzcyBUZXh0dXJlVXZzXG57XG4gICAgcHVibGljIHgwOiBudW1iZXI7XG4gICAgcHVibGljIHkwOiBudW1iZXI7XG4gICAgcHVibGljIHgxOiBudW1iZXI7XG4gICAgcHVibGljIHkxOiBudW1iZXI7XG4gICAgcHVibGljIHgyOiBudW1iZXI7XG4gICAgcHVibGljIHkyOiBudW1iZXI7XG4gICAgcHVibGljIHgzOiBudW1iZXI7XG4gICAgcHVibGljIHkzOiBudW1iZXI7XG4gICAgcHVibGljIHV2c0Zsb2F0MzI6IEZsb2F0MzJBcnJheTtcblxuICAgIGNvbnN0cnVjdG9yKClcbiAgICB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBYLWNvbXBvbmVudCBvZiB0b3AtbGVmdCBjb3JuZXIgYCh4MCx5MClgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLngwID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogWS1jb21wb25lbnQgb2YgdG9wLWxlZnQgY29ybmVyIGAoeDAseTApYC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy55MCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFgtY29tcG9uZW50IG9mIHRvcC1yaWdodCBjb3JuZXIgYCh4MSx5MSlgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLngxID0gMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogWS1jb21wb25lbnQgb2YgdG9wLXJpZ2h0IGNvcm5lciBgKHgxLHkxKWAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueTEgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBYLWNvbXBvbmVudCBvZiBib3R0b20tcmlnaHQgY29ybmVyIGAoeDIseTIpYC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy54MiA9IDE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFktY29tcG9uZW50IG9mIGJvdHRvbS1yaWdodCBjb3JuZXIgYCh4Mix5MilgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnkyID0gMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogWC1jb21wb25lbnQgb2YgYm90dG9tLWxlZnQgY29ybmVyIGAoeDMseTMpYC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy54MyA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFktY29tcG9uZW50IG9mIGJvdHRvbS1yaWdodCBjb3JuZXIgYCh4Myx5MylgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnkzID0gMTtcblxuICAgICAgICB0aGlzLnV2c0Zsb2F0MzIgPSBuZXcgRmxvYXQzMkFycmF5KDgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHRleHR1cmUgVXZzIGJhc2VkIG9uIHRoZSBnaXZlbiBmcmFtZSBpbmZvcm1hdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBmcmFtZSAtIFRoZSBmcmFtZSBvZiB0aGUgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IGJhc2VGcmFtZSAtIFRoZSBiYXNlIGZyYW1lIG9mIHRoZSB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJvdGF0ZSAtIFJvdGF0aW9uIG9mIGZyYW1lLCBzZWUge0BsaW5rIFBJWEkuZ3JvdXBEOH1cbiAgICAgKi9cbiAgICBzZXQoZnJhbWU6IFJlY3RhbmdsZSwgYmFzZUZyYW1lOiBJU2l6ZSwgcm90YXRlOiBudW1iZXIpOiB2b2lkXG4gICAge1xuICAgICAgICBjb25zdCB0dyA9IGJhc2VGcmFtZS53aWR0aDtcbiAgICAgICAgY29uc3QgdGggPSBiYXNlRnJhbWUuaGVpZ2h0O1xuXG4gICAgICAgIGlmIChyb3RhdGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIHdpZHRoIGFuZCBoZWlnaHQgZGl2IDIgZGl2IGJhc2VGcmFtZSBzaXplXG4gICAgICAgICAgICBjb25zdCB3MiA9IGZyYW1lLndpZHRoIC8gMiAvIHR3O1xuICAgICAgICAgICAgY29uc3QgaDIgPSBmcmFtZS5oZWlnaHQgLyAyIC8gdGg7XG5cbiAgICAgICAgICAgIC8vIGNvb3JkaW5hdGVzIG9mIGNlbnRlclxuICAgICAgICAgICAgY29uc3QgY1ggPSAoZnJhbWUueCAvIHR3KSArIHcyO1xuICAgICAgICAgICAgY29uc3QgY1kgPSAoZnJhbWUueSAvIHRoKSArIGgyO1xuXG4gICAgICAgICAgICByb3RhdGUgPSBncm91cEQ4LmFkZChyb3RhdGUsIGdyb3VwRDguTlcpOyAvLyBOVyBpcyB0b3AtbGVmdCBjb3JuZXJcbiAgICAgICAgICAgIHRoaXMueDAgPSBjWCArICh3MiAqIGdyb3VwRDgudVgocm90YXRlKSk7XG4gICAgICAgICAgICB0aGlzLnkwID0gY1kgKyAoaDIgKiBncm91cEQ4LnVZKHJvdGF0ZSkpO1xuXG4gICAgICAgICAgICByb3RhdGUgPSBncm91cEQ4LmFkZChyb3RhdGUsIDIpOyAvLyByb3RhdGUgOTAgZGVncmVlcyBjbG9ja3dpc2VcbiAgICAgICAgICAgIHRoaXMueDEgPSBjWCArICh3MiAqIGdyb3VwRDgudVgocm90YXRlKSk7XG4gICAgICAgICAgICB0aGlzLnkxID0gY1kgKyAoaDIgKiBncm91cEQ4LnVZKHJvdGF0ZSkpO1xuXG4gICAgICAgICAgICByb3RhdGUgPSBncm91cEQ4LmFkZChyb3RhdGUsIDIpO1xuICAgICAgICAgICAgdGhpcy54MiA9IGNYICsgKHcyICogZ3JvdXBEOC51WChyb3RhdGUpKTtcbiAgICAgICAgICAgIHRoaXMueTIgPSBjWSArIChoMiAqIGdyb3VwRDgudVkocm90YXRlKSk7XG5cbiAgICAgICAgICAgIHJvdGF0ZSA9IGdyb3VwRDguYWRkKHJvdGF0ZSwgMik7XG4gICAgICAgICAgICB0aGlzLngzID0gY1ggKyAodzIgKiBncm91cEQ4LnVYKHJvdGF0ZSkpO1xuICAgICAgICAgICAgdGhpcy55MyA9IGNZICsgKGgyICogZ3JvdXBEOC51WShyb3RhdGUpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMueDAgPSBmcmFtZS54IC8gdHc7XG4gICAgICAgICAgICB0aGlzLnkwID0gZnJhbWUueSAvIHRoO1xuXG4gICAgICAgICAgICB0aGlzLngxID0gKGZyYW1lLnggKyBmcmFtZS53aWR0aCkgLyB0dztcbiAgICAgICAgICAgIHRoaXMueTEgPSBmcmFtZS55IC8gdGg7XG5cbiAgICAgICAgICAgIHRoaXMueDIgPSAoZnJhbWUueCArIGZyYW1lLndpZHRoKSAvIHR3O1xuICAgICAgICAgICAgdGhpcy55MiA9IChmcmFtZS55ICsgZnJhbWUuaGVpZ2h0KSAvIHRoO1xuXG4gICAgICAgICAgICB0aGlzLngzID0gZnJhbWUueCAvIHR3O1xuICAgICAgICAgICAgdGhpcy55MyA9IChmcmFtZS55ICsgZnJhbWUuaGVpZ2h0KSAvIHRoO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy51dnNGbG9hdDMyWzBdID0gdGhpcy54MDtcbiAgICAgICAgdGhpcy51dnNGbG9hdDMyWzFdID0gdGhpcy55MDtcbiAgICAgICAgdGhpcy51dnNGbG9hdDMyWzJdID0gdGhpcy54MTtcbiAgICAgICAgdGhpcy51dnNGbG9hdDMyWzNdID0gdGhpcy55MTtcbiAgICAgICAgdGhpcy51dnNGbG9hdDMyWzRdID0gdGhpcy54MjtcbiAgICAgICAgdGhpcy51dnNGbG9hdDMyWzVdID0gdGhpcy55MjtcbiAgICAgICAgdGhpcy51dnNGbG9hdDMyWzZdID0gdGhpcy54MztcbiAgICAgICAgdGhpcy51dnNGbG9hdDMyWzddID0gdGhpcy55MztcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBCYXNlVGV4dHVyZSB9IGZyb20gJy4vQmFzZVRleHR1cmUnO1xuaW1wb3J0IHsgSW1hZ2VSZXNvdXJjZSB9IGZyb20gJy4vcmVzb3VyY2VzL0ltYWdlUmVzb3VyY2UnO1xuaW1wb3J0IHsgQ2FudmFzUmVzb3VyY2UgfSBmcm9tICcuL3Jlc291cmNlcy9DYW52YXNSZXNvdXJjZSc7XG5pbXBvcnQgeyBUZXh0dXJlVXZzIH0gZnJvbSAnLi9UZXh0dXJlVXZzJztcbmltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuaW1wb3J0IHsgUmVjdGFuZ2xlLCBQb2ludCB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IHsgdWlkLCBUZXh0dXJlQ2FjaGUsIGdldFJlc29sdXRpb25PZlVybCwgRXZlbnRFbWl0dGVyIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuXG5pbXBvcnQgdHlwZSB7IElQb2ludERhdGEgfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB0eXBlIHsgSUJhc2VUZXh0dXJlT3B0aW9ucywgSW1hZ2VTb3VyY2UgfSBmcm9tICcuL0Jhc2VUZXh0dXJlJztcbmltcG9ydCB0eXBlIHsgVGV4dHVyZU1hdHJpeCB9IGZyb20gJy4vVGV4dHVyZU1hdHJpeCc7XG5cbmNvbnN0IERFRkFVTFRfVVZTID0gbmV3IFRleHR1cmVVdnMoKTtcblxuZXhwb3J0IHR5cGUgVGV4dHVyZVNvdXJjZSA9IHN0cmluZ3xCYXNlVGV4dHVyZXxJbWFnZVNvdXJjZTtcblxuZXhwb3J0IGludGVyZmFjZSBUZXh0dXJlIGV4dGVuZHMgR2xvYmFsTWl4aW5zLlRleHR1cmUsIEV2ZW50RW1pdHRlciB7fVxuXG4vKipcbiAqIEEgdGV4dHVyZSBzdG9yZXMgdGhlIGluZm9ybWF0aW9uIHRoYXQgcmVwcmVzZW50cyBhbiBpbWFnZSBvciBwYXJ0IG9mIGFuIGltYWdlLlxuICpcbiAqIEl0IGNhbm5vdCBiZSBhZGRlZCB0byB0aGUgZGlzcGxheSBsaXN0IGRpcmVjdGx5OyBpbnN0ZWFkIHVzZSBpdCBhcyB0aGUgdGV4dHVyZSBmb3IgYSBTcHJpdGUuXG4gKiBJZiBubyBmcmFtZSBpcyBwcm92aWRlZCBmb3IgYSB0ZXh0dXJlLCB0aGVuIHRoZSB3aG9sZSBpbWFnZSBpcyB1c2VkLlxuICpcbiAqIFlvdSBjYW4gZGlyZWN0bHkgY3JlYXRlIGEgdGV4dHVyZSBmcm9tIGFuIGltYWdlIGFuZCB0aGVuIHJldXNlIGl0IG11bHRpcGxlIHRpbWVzIGxpa2UgdGhpcyA6XG4gKlxuICogYGBganNcbiAqIGxldCB0ZXh0dXJlID0gUElYSS5UZXh0dXJlLmZyb20oJ2Fzc2V0cy9pbWFnZS5wbmcnKTtcbiAqIGxldCBzcHJpdGUxID0gbmV3IFBJWEkuU3ByaXRlKHRleHR1cmUpO1xuICogbGV0IHNwcml0ZTIgPSBuZXcgUElYSS5TcHJpdGUodGV4dHVyZSk7XG4gKiBgYGBcbiAqXG4gKiBJZiB5b3UgZGlkbnQgcGFzcyB0aGUgdGV4dHVyZSBmcmFtZSB0byBjb25zdHJ1Y3RvciwgaXQgZW5hYmxlcyBgbm9GcmFtZWAgbW9kZTpcbiAqIGl0IHN1YnNjcmliZXMgb24gYmFzZVRleHR1cmUgZXZlbnRzLCBpdCBhdXRvbWF0aWNhbGx5IHJlc2l6ZXMgYXQgdGhlIHNhbWUgdGltZSBhcyBiYXNlVGV4dHVyZS5cbiAqXG4gKiBUZXh0dXJlcyBtYWRlIGZyb20gU1ZHcywgbG9hZGVkIG9yIG5vdCwgY2Fubm90IGJlIHVzZWQgYmVmb3JlIHRoZSBmaWxlIGZpbmlzaGVzIHByb2Nlc3NpbmcuXG4gKiBZb3UgY2FuIGNoZWNrIGZvciB0aGlzIGJ5IGNoZWNraW5nIHRoZSBzcHJpdGUncyBfdGV4dHVyZUlEIHByb3BlcnR5LlxuICogYGBganNcbiAqIHZhciB0ZXh0dXJlID0gUElYSS5UZXh0dXJlLmZyb20oJ2Fzc2V0cy9pbWFnZS5zdmcnKTtcbiAqIHZhciBzcHJpdGUxID0gbmV3IFBJWEkuU3ByaXRlKHRleHR1cmUpO1xuICogLy9zcHJpdGUxLl90ZXh0dXJlSUQgc2hvdWxkIG5vdCBiZSB1bmRlZmluZWQgaWYgdGhlIHRleHR1cmUgaGFzIGZpbmlzaGVkIHByb2Nlc3NpbmcgdGhlIFNWRyBmaWxlXG4gKiBgYGBcbiAqIFlvdSBjYW4gdXNlIGEgdGlja2VyIG9yIHJBRiB0byBlbnN1cmUgeW91ciBzcHJpdGVzIGxvYWQgdGhlIGZpbmlzaGVkIHRleHR1cmVzIGFmdGVyIHByb2Nlc3NpbmcuIFNlZSBpc3N1ZSAjMzA2OC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkudXRpbHMuRXZlbnRFbWl0dGVyXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgY2xhc3MgVGV4dHVyZSBleHRlbmRzIEV2ZW50RW1pdHRlclxue1xuICAgIHB1YmxpYyBiYXNlVGV4dHVyZTogQmFzZVRleHR1cmU7XG4gICAgcHVibGljIG9yaWc6IFJlY3RhbmdsZTtcbiAgICBwdWJsaWMgdHJpbTogUmVjdGFuZ2xlO1xuICAgIHB1YmxpYyB2YWxpZDogYm9vbGVhbjtcbiAgICBwdWJsaWMgbm9GcmFtZTogYm9vbGVhbjtcbiAgICBwdWJsaWMgZGVmYXVsdEFuY2hvcjogUG9pbnQ7XG4gICAgcHVibGljIHV2TWF0cml4OiBUZXh0dXJlTWF0cml4O1xuICAgIHByb3RlY3RlZCBfcm90YXRlOiBudW1iZXI7XG4gICAgX3VwZGF0ZUlEOiBudW1iZXI7XG4gICAgX2ZyYW1lOiBSZWN0YW5nbGU7XG4gICAgX3V2czogVGV4dHVyZVV2cztcbiAgICB0ZXh0dXJlQ2FjaGVJZHM6IEFycmF5PHN0cmluZz47XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gVGhlIGJhc2UgdGV4dHVyZSBzb3VyY2UgdG8gY3JlYXRlIHRoZSB0ZXh0dXJlIGZyb21cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBbZnJhbWVdIC0gVGhlIHJlY3RhbmdsZSBmcmFtZSBvZiB0aGUgdGV4dHVyZSB0byBzaG93XG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gW29yaWddIC0gVGhlIGFyZWEgb2Ygb3JpZ2luYWwgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IFt0cmltXSAtIFRyaW1tZWQgcmVjdGFuZ2xlIG9mIG9yaWdpbmFsIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3JvdGF0ZV0gLSBpbmRpY2F0ZXMgaG93IHRoZSB0ZXh0dXJlIHdhcyByb3RhdGVkIGJ5IHRleHR1cmUgcGFja2VyLiBTZWUge0BsaW5rIFBJWEkuZ3JvdXBEOH1cbiAgICAgKiBAcGFyYW0ge1BJWEkuSVBvaW50RGF0YX0gW2FuY2hvcl0gLSBEZWZhdWx0IGFuY2hvciBwb2ludCB1c2VkIGZvciBzcHJpdGUgcGxhY2VtZW50IC8gcm90YXRpb25cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihiYXNlVGV4dHVyZTogQmFzZVRleHR1cmUsIGZyYW1lPzogUmVjdGFuZ2xlLFxuICAgICAgICBvcmlnPzogUmVjdGFuZ2xlLCB0cmltPzogUmVjdGFuZ2xlLCByb3RhdGU/OiBudW1iZXIsIGFuY2hvcj86IElQb2ludERhdGEpXG4gICAge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEb2VzIHRoaXMgVGV4dHVyZSBoYXZlIGFueSBmcmFtZSBkYXRhIGFzc2lnbmVkIHRvIGl0P1xuICAgICAgICAgKlxuICAgICAgICAgKiBUaGlzIG1vZGUgaXMgZW5hYmxlZCBhdXRvbWF0aWNhbGx5IGlmIG5vIGZyYW1lIHdhcyBwYXNzZWQgaW5zaWRlIGNvbnN0cnVjdG9yLlxuICAgICAgICAgKlxuICAgICAgICAgKiBJbiB0aGlzIG1vZGUgdGV4dHVyZSBpcyBzdWJzY3JpYmVkIHRvIGJhc2VUZXh0dXJlIGV2ZW50cywgYW5kIGZpcmVzIGB1cGRhdGVgIG9uIGFueSBjaGFuZ2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIEJld2FyZSwgYWZ0ZXIgbG9hZGluZyBvciByZXNpemUgb2YgYmFzZVRleHR1cmUgZXZlbnQgY2FuIGZpcmVkIHR3byB0aW1lcyFcbiAgICAgICAgICogSWYgeW91IHdhbnQgbW9yZSBjb250cm9sLCBzdWJzY3JpYmUgb24gYmFzZVRleHR1cmUgaXRzZWxmLlxuICAgICAgICAgKlxuICAgICAgICAgKiBgYGBqc1xuICAgICAgICAgKiB0ZXh0dXJlLm9uKCd1cGRhdGUnLCAoKSA9PiB7fSk7XG4gICAgICAgICAqIGBgYFxuICAgICAgICAgKlxuICAgICAgICAgKiBBbnkgYXNzaWdubWVudCBvZiBgZnJhbWVgIHN3aXRjaGVzIG9mZiBgbm9GcmFtZWAgbW9kZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubm9GcmFtZSA9IGZhbHNlO1xuXG4gICAgICAgIGlmICghZnJhbWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMubm9GcmFtZSA9IHRydWU7XG4gICAgICAgICAgICBmcmFtZSA9IG5ldyBSZWN0YW5nbGUoMCwgMCwgMSwgMSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYmFzZVRleHR1cmUgaW5zdGFuY2VvZiBUZXh0dXJlKVxuICAgICAgICB7XG4gICAgICAgICAgICBiYXNlVGV4dHVyZSA9IGJhc2VUZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBiYXNlIHRleHR1cmUgdGhhdCB0aGlzIHRleHR1cmUgdXNlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5CYXNlVGV4dHVyZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYmFzZVRleHR1cmUgPSBiYXNlVGV4dHVyZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBpcyB0aGUgYXJlYSBvZiB0aGUgQmFzZVRleHR1cmUgaW1hZ2UgdG8gYWN0dWFsbHkgY29weSB0byB0aGUgQ2FudmFzIC8gV2ViR0wgd2hlbiByZW5kZXJpbmcsXG4gICAgICAgICAqIGlycmVzcGVjdGl2ZSBvZiB0aGUgYWN0dWFsIGZyYW1lIHNpemUgb3IgcGxhY2VtZW50ICh3aGljaCBjYW4gYmUgaW5mbHVlbmNlZCBieSB0cmltbWVkIHRleHR1cmUgYXRsYXNlcylcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9mcmFtZSA9IGZyYW1lO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIGlzIHRoZSB0cmltbWVkIGFyZWEgb2Ygb3JpZ2luYWwgdGV4dHVyZSwgYmVmb3JlIGl0IHdhcyBwdXQgaW4gYXRsYXNcbiAgICAgICAgICogUGxlYXNlIGNhbGwgYHVwZGF0ZVV2cygpYCBhZnRlciB5b3UgY2hhbmdlIGNvb3JkaW5hdGVzIG9mIGB0cmltYCBtYW51YWxseS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRyaW0gPSB0cmltO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIHdpbGwgbGV0IHRoZSByZW5kZXJlciBrbm93IGlmIHRoZSB0ZXh0dXJlIGlzIHZhbGlkLiBJZiBpdCdzIG5vdCB0aGVuIGl0IGNhbm5vdCBiZSByZW5kZXJlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudmFsaWQgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFdlYkdMIFVWIGRhdGEgY2FjaGUuIENhbiBiZSB1c2VkIGFzIHF1YWQgVVZcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlVXZzfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl91dnMgPSBERUZBVUxUX1VWUztcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGVmYXVsdCBUZXh0dXJlTWF0cml4IGluc3RhbmNlIGZvciB0aGlzIHRleHR1cmVcbiAgICAgICAgICogQnkgZGVmYXVsdCB0aGF0IG9iamVjdCBpcyBub3QgY3JlYXRlZCBiZWNhdXNlIGl0cyBoZWF2eVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmVNYXRyaXh9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnV2TWF0cml4ID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBpcyB0aGUgYXJlYSBvZiBvcmlnaW5hbCB0ZXh0dXJlLCBiZWZvcmUgaXQgd2FzIHB1dCBpbiBhdGxhc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub3JpZyA9IG9yaWcgfHwgZnJhbWU7Ly8gbmV3IFJlY3RhbmdsZSgwLCAwLCAxLCAxKTtcblxuICAgICAgICB0aGlzLl9yb3RhdGUgPSBOdW1iZXIocm90YXRlIHx8IDApO1xuXG4gICAgICAgIGlmIChyb3RhdGUgYXMgYW55ID09PSB0cnVlKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyB0aGlzIGlzIG9sZCB0ZXh0dXJlcGFja2VyIGxlZ2FjeSwgc29tZSBnYW1lcy9saWJyYXJpZXMgYXJlIHBhc3NpbmcgXCJ0cnVlXCIgZm9yIHJvdGF0ZWQgdGV4dHVyZXNcbiAgICAgICAgICAgIHRoaXMuX3JvdGF0ZSA9IDI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5fcm90YXRlICUgMiAhPT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdhdHRlbXB0IHRvIHVzZSBkaWFtb25kLXNoYXBlZCBVVnMuIElmIHlvdSBhcmUgc3VyZSwgc2V0IHJvdGF0aW9uIG1hbnVhbGx5Jyk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQW5jaG9yIHBvaW50IHRoYXQgaXMgdXNlZCBhcyBkZWZhdWx0IGlmIHNwcml0ZSBpcyBjcmVhdGVkIHdpdGggdGhpcyB0ZXh0dXJlLlxuICAgICAgICAgKiBDaGFuZ2luZyB0aGUgYGRlZmF1bHRBbmNob3JgIGF0IGEgbGF0ZXIgcG9pbnQgb2YgdGltZSB3aWxsIG5vdCB1cGRhdGUgU3ByaXRlJ3MgYW5jaG9yIHBvaW50LlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlBvaW50fVxuICAgICAgICAgKiBAZGVmYXVsdCB7MCwwfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kZWZhdWx0QW5jaG9yID0gYW5jaG9yID8gbmV3IFBvaW50KGFuY2hvci54LCBhbmNob3IueSkgOiBuZXcgUG9pbnQoMCwgMCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVwZGF0ZSBJRCBpcyBvYnNlcnZlZCBieSBzcHJpdGVzIGFuZCBUZXh0dXJlTWF0cml4IGluc3RhbmNlcy5cbiAgICAgICAgICogQ2FsbCB1cGRhdGVVdnMoKSB0byBpbmNyZW1lbnQgaXQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cblxuICAgICAgICB0aGlzLl91cGRhdGVJRCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBpZHMgdW5kZXIgd2hpY2ggdGhpcyBUZXh0dXJlIGhhcyBiZWVuIGFkZGVkIHRvIHRoZSB0ZXh0dXJlIGNhY2hlLiBUaGlzIGlzXG4gICAgICAgICAqIGF1dG9tYXRpY2FsbHkgc2V0IGFzIGxvbmcgYXMgVGV4dHVyZS5hZGRUb0NhY2hlIGlzIHVzZWQsIGJ1dCBtYXkgbm90IGJlIHNldCBpZiBhXG4gICAgICAgICAqIFRleHR1cmUgaXMgYWRkZWQgZGlyZWN0bHkgdG8gdGhlIFRleHR1cmVDYWNoZSBhcnJheS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nW119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRleHR1cmVDYWNoZUlkcyA9IFtdO1xuXG4gICAgICAgIGlmICghYmFzZVRleHR1cmUudmFsaWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGJhc2VUZXh0dXJlLm9uY2UoJ2xvYWRlZCcsIHRoaXMub25CYXNlVGV4dHVyZVVwZGF0ZWQsIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMubm9GcmFtZSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gaWYgdGhlcmUgaXMgbm8gZnJhbWUgd2Ugc2hvdWxkIG1vbml0b3IgZm9yIGFueSBiYXNlIHRleHR1cmUgY2hhbmdlcy4uXG4gICAgICAgICAgICBpZiAoYmFzZVRleHR1cmUudmFsaWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkJhc2VUZXh0dXJlVXBkYXRlZChiYXNlVGV4dHVyZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmZyYW1lID0gZnJhbWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5ub0ZyYW1lKVxuICAgICAgICB7XG4gICAgICAgICAgICBiYXNlVGV4dHVyZS5vbigndXBkYXRlJywgdGhpcy5vbkJhc2VUZXh0dXJlVXBkYXRlZCwgdGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoaXMgdGV4dHVyZSBvbiB0aGUgZ3B1LlxuICAgICAqXG4gICAgICogQ2FsbHMgdGhlIFRleHR1cmVSZXNvdXJjZSB1cGRhdGUuXG4gICAgICpcbiAgICAgKiBJZiB5b3UgYWRqdXN0ZWQgYGZyYW1lYCBtYW51YWxseSwgcGxlYXNlIGNhbGwgYHVwZGF0ZVV2cygpYCBpbnN0ZWFkLlxuICAgICAqXG4gICAgICovXG4gICAgdXBkYXRlKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmJhc2VUZXh0dXJlLnJlc291cmNlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmJhc2VUZXh0dXJlLnJlc291cmNlLnVwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gdGhlIGJhc2UgdGV4dHVyZSBpcyB1cGRhdGVkXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIFRoZSBiYXNlIHRleHR1cmUuXG4gICAgICovXG4gICAgb25CYXNlVGV4dHVyZVVwZGF0ZWQoYmFzZVRleHR1cmU6IEJhc2VUZXh0dXJlKTogdm9pZFxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMubm9GcmFtZSlcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmJhc2VUZXh0dXJlLnZhbGlkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fZnJhbWUud2lkdGggPSBiYXNlVGV4dHVyZS53aWR0aDtcbiAgICAgICAgICAgIHRoaXMuX2ZyYW1lLmhlaWdodCA9IGJhc2VUZXh0dXJlLmhlaWdodDtcbiAgICAgICAgICAgIHRoaXMudmFsaWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVVdnMoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIFRPRE8gdGhpcyBjb2RlIGxvb2tzIGNvbmZ1c2luZy4uIGJvbyB0byBhYnVzaW5nIGdldHRlcnMgYW5kIHNldHRlcnMhXG4gICAgICAgICAgICAvLyBpZiB1c2VyIGdhdmUgdXMgZnJhbWUgdGhhdCBoYXMgYmlnZ2VyIHNpemUgdGhhbiByZXNpemVkIHRleHR1cmUgaXQgY2FuIGJlIGEgcHJvYmxlbVxuICAgICAgICAgICAgdGhpcy5mcmFtZSA9IHRoaXMuX2ZyYW1lO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5lbWl0KCd1cGRhdGUnLCB0aGlzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIHRleHR1cmVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Rlc3Ryb3lCYXNlPWZhbHNlXSAtIFdoZXRoZXIgdG8gZGVzdHJveSB0aGUgYmFzZSB0ZXh0dXJlIGFzIHdlbGxcbiAgICAgKi9cbiAgICBkZXN0cm95KGRlc3Ryb3lCYXNlPzogYm9vbGVhbik6IHZvaWRcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmJhc2VUZXh0dXJlKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoZGVzdHJveUJhc2UpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzb3VyY2UgPSB0aGlzLmJhc2VUZXh0dXJlIGFzIGFueTtcblxuICAgICAgICAgICAgICAgIC8vIGRlbGV0ZSB0aGUgdGV4dHVyZSBpZiBpdCBleGlzdHMgaW4gdGhlIHRleHR1cmUgY2FjaGUuLlxuICAgICAgICAgICAgICAgIC8vIHRoaXMgb25seSBuZWVkcyB0byBiZSByZW1vdmVkIGlmIHRoZSBiYXNlIHRleHR1cmUgaXMgYWN0dWFsbHkgZGVzdHJveWVkIHRvby4uXG4gICAgICAgICAgICAgICAgaWYgKHJlc291cmNlICYmIHJlc291cmNlLnVybCAmJiBUZXh0dXJlQ2FjaGVbcmVzb3VyY2UudXJsXSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFRleHR1cmUucmVtb3ZlRnJvbUNhY2hlKHJlc291cmNlLnVybCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZS5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuYmFzZVRleHR1cmUub2ZmKCdsb2FkZWQnLCB0aGlzLm9uQmFzZVRleHR1cmVVcGRhdGVkLCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuYmFzZVRleHR1cmUub2ZmKCd1cGRhdGUnLCB0aGlzLm9uQmFzZVRleHR1cmVVcGRhdGVkLCB0aGlzKTtcblxuICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZSA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9mcmFtZSA9IG51bGw7XG4gICAgICAgIHRoaXMuX3V2cyA9IG51bGw7XG4gICAgICAgIHRoaXMudHJpbSA9IG51bGw7XG4gICAgICAgIHRoaXMub3JpZyA9IG51bGw7XG5cbiAgICAgICAgdGhpcy52YWxpZCA9IGZhbHNlO1xuXG4gICAgICAgIFRleHR1cmUucmVtb3ZlRnJvbUNhY2hlKHRoaXMpO1xuICAgICAgICB0aGlzLnRleHR1cmVDYWNoZUlkcyA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyB0ZXh0dXJlIG9iamVjdCB0aGF0IGFjdHMgdGhlIHNhbWUgYXMgdGhpcyBvbmUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHR1cmV9IFRoZSBuZXcgdGV4dHVyZVxuICAgICAqL1xuICAgIGNsb25lKCk6IFRleHR1cmVcbiAgICB7XG4gICAgICAgIHJldHVybiBuZXcgVGV4dHVyZSh0aGlzLmJhc2VUZXh0dXJlLFxuICAgICAgICAgICAgdGhpcy5mcmFtZS5jbG9uZSgpLFxuICAgICAgICAgICAgdGhpcy5vcmlnLmNsb25lKCksXG4gICAgICAgICAgICB0aGlzLnRyaW0gJiYgdGhpcy50cmltLmNsb25lKCksXG4gICAgICAgICAgICB0aGlzLnJvdGF0ZSxcbiAgICAgICAgICAgIHRoaXMuZGVmYXVsdEFuY2hvclxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGludGVybmFsIFdlYkdMIFVWIGNhY2hlLiBVc2UgaXQgYWZ0ZXIgeW91IGNoYW5nZSBgZnJhbWVgIG9yIGB0cmltYCBvZiB0aGUgdGV4dHVyZS5cbiAgICAgKiBDYWxsIGl0IGFmdGVyIGNoYW5naW5nIHRoZSBmcmFtZVxuICAgICAqL1xuICAgIHVwZGF0ZVV2cygpOiB2b2lkXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fdXZzID09PSBERUZBVUxUX1VWUylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fdXZzID0gbmV3IFRleHR1cmVVdnMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3V2cy5zZXQodGhpcy5fZnJhbWUsIHRoaXMuYmFzZVRleHR1cmUsIHRoaXMucm90YXRlKTtcblxuICAgICAgICB0aGlzLl91cGRhdGVJRCsrO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBuZXcgVGV4dHVyZSBiYXNlZCBvbiB0aGUgc291cmNlIHlvdSBwcm92aWRlLlxuICAgICAqIFRoZSBzb3VyY2UgY2FuIGJlIC0gZnJhbWUgaWQsIGltYWdlIHVybCwgdmlkZW8gdXJsLCBjYW52YXMgZWxlbWVudCwgdmlkZW8gZWxlbWVudCwgYmFzZSB0ZXh0dXJlXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmd8SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fFBJWEkuQmFzZVRleHR1cmV9IHNvdXJjZVxuICAgICAqICAgICAgICBTb3VyY2UgdG8gY3JlYXRlIHRleHR1cmUgZnJvbVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gU2VlIHtAbGluayBQSVhJLkJhc2VUZXh0dXJlfSdzIGNvbnN0cnVjdG9yIGZvciBvcHRpb25zLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3N0cmljdF0gLSBFbmZvcmNlIHN0cmljdC1tb2RlLCBzZWUge0BsaW5rIFBJWEkuc2V0dGluZ3MuU1RSSUNUX1RFWFRVUkVfQ0FDSEV9LlxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZX0gVGhlIG5ld2x5IGNyZWF0ZWQgdGV4dHVyZVxuICAgICAqL1xuICAgIHN0YXRpYyBmcm9tKHNvdXJjZTogVGV4dHVyZVNvdXJjZSwgb3B0aW9uczogSUJhc2VUZXh0dXJlT3B0aW9ucyA9IHt9LFxuICAgICAgICBzdHJpY3QgPSBzZXR0aW5ncy5TVFJJQ1RfVEVYVFVSRV9DQUNIRSk6IFRleHR1cmVcbiAgICB7XG4gICAgICAgIGNvbnN0IGlzRnJhbWUgPSB0eXBlb2Ygc291cmNlID09PSAnc3RyaW5nJztcbiAgICAgICAgbGV0IGNhY2hlSWQgPSBudWxsO1xuXG4gICAgICAgIGlmIChpc0ZyYW1lKVxuICAgICAgICB7XG4gICAgICAgICAgICBjYWNoZUlkID0gc291cmNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCEoc291cmNlIGFzIGFueSkuX3BpeGlJZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAoc291cmNlIGFzIGFueSkuX3BpeGlJZCA9IGBwaXhpaWRfJHt1aWQoKX1gO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYWNoZUlkID0gKHNvdXJjZSBhcyBhbnkpLl9waXhpSWQ7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgdGV4dHVyZSA9IFRleHR1cmVDYWNoZVtjYWNoZUlkXTtcblxuICAgICAgICAvLyBTdHJpY3QtbW9kZSByZWplY3RzIGludmFsaWQgY2FjaGVJZHNcbiAgICAgICAgaWYgKGlzRnJhbWUgJiYgc3RyaWN0ICYmICF0ZXh0dXJlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFRoZSBjYWNoZUlkIFwiJHtjYWNoZUlkfVwiIGRvZXMgbm90IGV4aXN0IGluIFRleHR1cmVDYWNoZS5gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGV4dHVyZSlcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCFvcHRpb25zLnJlc29sdXRpb24pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5yZXNvbHV0aW9uID0gZ2V0UmVzb2x1dGlvbk9mVXJsKHNvdXJjZSBhcyBzdHJpbmcpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0ZXh0dXJlID0gbmV3IFRleHR1cmUobmV3IEJhc2VUZXh0dXJlKHNvdXJjZSwgb3B0aW9ucykpO1xuICAgICAgICAgICAgdGV4dHVyZS5iYXNlVGV4dHVyZS5jYWNoZUlkID0gY2FjaGVJZDtcblxuICAgICAgICAgICAgQmFzZVRleHR1cmUuYWRkVG9DYWNoZSh0ZXh0dXJlLmJhc2VUZXh0dXJlLCBjYWNoZUlkKTtcbiAgICAgICAgICAgIFRleHR1cmUuYWRkVG9DYWNoZSh0ZXh0dXJlLCBjYWNoZUlkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGxldHMgYXNzdW1lIGl0cyBhIGJhc2UgdGV4dHVyZSFcbiAgICAgICAgcmV0dXJuIHRleHR1cmU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXNlZnVsIGZvciBsb2FkaW5nIHRleHR1cmVzIHZpYSBVUkxzLiBVc2UgaW5zdGVhZCBvZiBgVGV4dHVyZS5mcm9tYCBiZWNhdXNlXG4gICAgICogaXQgZG9lcyBhIGJldHRlciBqb2Igb2YgaGFuZGxpbmcgZmFpbGVkIFVSTHMgbW9yZSBlZmZlY3RpdmVseS4gVGhpcyBhbHNvIGlnbm9yZXNcbiAgICAgKiBgUElYSS5zZXR0aW5ncy5TVFJJQ1RfVEVYVFVSRV9DQUNIRWAuIFdvcmtzIGZvciBWaWRlb3MsIFNWR3MsIEltYWdlcy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIFRoZSByZW1vdGUgVVJMIHRvIGxvYWQuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSBPcHRpb25hbCBvcHRpb25zIHRvIGluY2x1ZGVcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPFBJWEkuVGV4dHVyZT59IEEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIGEgVGV4dHVyZS5cbiAgICAgKi9cbiAgICBzdGF0aWMgZnJvbVVSTCh1cmw6IHN0cmluZywgb3B0aW9ucz86IElCYXNlVGV4dHVyZU9wdGlvbnMpOiBQcm9taXNlPFRleHR1cmU+XG4gICAge1xuICAgICAgICBjb25zdCByZXNvdXJjZU9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHsgYXV0b0xvYWQ6IGZhbHNlIH0sIG9wdGlvbnM/LnJlc291cmNlT3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IHRleHR1cmUgPSBUZXh0dXJlLmZyb20odXJsLCBPYmplY3QuYXNzaWduKHsgcmVzb3VyY2VPcHRpb25zIH0sIG9wdGlvbnMpLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IHJlc291cmNlID0gdGV4dHVyZS5iYXNlVGV4dHVyZS5yZXNvdXJjZSBhcyBJbWFnZVJlc291cmNlO1xuXG4gICAgICAgIC8vIFRoZSB0ZXh0dXJlIHdhcyBhbHJlYWR5IGxvYWRlZFxuICAgICAgICBpZiAodGV4dHVyZS5iYXNlVGV4dHVyZS52YWxpZClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0ZXh0dXJlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE1hbnVhbGx5IGxvYWQgdGhlIHRleHR1cmUsIHRoaXMgc2hvdWxkIGFsbG93IHVzZXJzIHRvIGhhbmRsZSBsb2FkIGVycm9yc1xuICAgICAgICByZXR1cm4gcmVzb3VyY2UubG9hZCgpLnRoZW4oKCkgPT4gUHJvbWlzZS5yZXNvbHZlKHRleHR1cmUpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgVGV4dHVyZSB3aXRoIGEgQnVmZmVyUmVzb3VyY2UgZnJvbSBhIEZsb2F0MzJBcnJheS5cbiAgICAgKiBSR0JBIHZhbHVlcyBhcmUgZmxvYXRzIGZyb20gMCB0byAxLlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheXxVaW50OEFycmF5fSBidWZmZXIgLSBUaGUgb3B0aW9uYWwgYXJyYXkgdG8gdXNlLCBpZiBubyBkYXRhXG4gICAgICogICAgICAgIGlzIHByb3ZpZGVkLCBhIG5ldyBGbG9hdDMyQXJyYXkgaXMgY3JlYXRlZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSBXaWR0aCBvZiB0aGUgcmVzb3VyY2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gSGVpZ2h0IG9mIHRoZSByZXNvdXJjZVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gU2VlIHtAbGluayBQSVhJLkJhc2VUZXh0dXJlfSdzIGNvbnN0cnVjdG9yIGZvciBvcHRpb25zLlxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZX0gVGhlIHJlc3VsdGluZyBuZXcgQmFzZVRleHR1cmVcbiAgICAgKi9cbiAgICBzdGF0aWMgZnJvbUJ1ZmZlcihidWZmZXI6IEZsb2F0MzJBcnJheXxVaW50OEFycmF5LFxuICAgICAgICB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlciwgb3B0aW9uczogSUJhc2VUZXh0dXJlT3B0aW9ucyk6IFRleHR1cmVcbiAgICB7XG4gICAgICAgIHJldHVybiBuZXcgVGV4dHVyZShCYXNlVGV4dHVyZS5mcm9tQnVmZmVyKGJ1ZmZlciwgd2lkdGgsIGhlaWdodCwgb3B0aW9ucykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIHRleHR1cmUgZnJvbSBhIHNvdXJjZSBhbmQgYWRkIHRvIHRoZSBjYWNoZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge0hUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR9IHNvdXJjZSAtIFRoZSBpbnB1dCBzb3VyY2UuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGltYWdlVXJsIC0gRmlsZSBuYW1lIG9mIHRleHR1cmUsIGZvciBjYWNoZSBhbmQgcmVzb2x2aW5nIHJlc29sdXRpb24uXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtuYW1lXSAtIEh1bWFuIHJlYWRhYmxlIG5hbWUgZm9yIHRoZSB0ZXh0dXJlIGNhY2hlLiBJZiBubyBuYW1lIGlzXG4gICAgICogICAgICAgIHNwZWNpZmllZCwgb25seSBgaW1hZ2VVcmxgIHdpbGwgYmUgdXNlZCBhcyB0aGUgY2FjaGUgSUQuXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0dXJlfSBPdXRwdXQgdGV4dHVyZVxuICAgICAqL1xuICAgIHN0YXRpYyBmcm9tTG9hZGVyKHNvdXJjZTogSFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudCwgaW1hZ2VVcmw6IHN0cmluZywgbmFtZTogc3RyaW5nKTogVGV4dHVyZVxuICAgIHtcbiAgICAgICAgY29uc3QgcmVzb3VyY2UgPSBuZXcgSW1hZ2VSZXNvdXJjZShzb3VyY2UgYXMgYW55KTtcblxuICAgICAgICByZXNvdXJjZS51cmwgPSBpbWFnZVVybDtcblxuICAgICAgICBjb25zdCBiYXNlVGV4dHVyZSA9IG5ldyBCYXNlVGV4dHVyZShyZXNvdXJjZSwge1xuICAgICAgICAgICAgc2NhbGVNb2RlOiBzZXR0aW5ncy5TQ0FMRV9NT0RFLFxuICAgICAgICAgICAgcmVzb2x1dGlvbjogZ2V0UmVzb2x1dGlvbk9mVXJsKGltYWdlVXJsKSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgdGV4dHVyZSA9IG5ldyBUZXh0dXJlKGJhc2VUZXh0dXJlKTtcblxuICAgICAgICAvLyBObyBuYW1lLCB1c2UgaW1hZ2VVcmwgaW5zdGVhZFxuICAgICAgICBpZiAoIW5hbWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5hbWUgPSBpbWFnZVVybDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGxldHMgYWxzbyBhZGQgdGhlIGZyYW1lIHRvIHBpeGkncyBnbG9iYWwgY2FjaGUgZm9yICdmcm9tTG9hZGVyJyBmdW5jdGlvblxuICAgICAgICBCYXNlVGV4dHVyZS5hZGRUb0NhY2hlKHRleHR1cmUuYmFzZVRleHR1cmUsIG5hbWUpO1xuICAgICAgICBUZXh0dXJlLmFkZFRvQ2FjaGUodGV4dHVyZSwgbmFtZSk7XG5cbiAgICAgICAgLy8gYWxzbyBhZGQgcmVmZXJlbmNlcyBieSB1cmwgaWYgdGhleSBhcmUgZGlmZmVyZW50LlxuICAgICAgICBpZiAobmFtZSAhPT0gaW1hZ2VVcmwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIEJhc2VUZXh0dXJlLmFkZFRvQ2FjaGUodGV4dHVyZS5iYXNlVGV4dHVyZSwgaW1hZ2VVcmwpO1xuICAgICAgICAgICAgVGV4dHVyZS5hZGRUb0NhY2hlKHRleHR1cmUsIGltYWdlVXJsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0ZXh0dXJlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBUZXh0dXJlIHRvIHRoZSBnbG9iYWwgVGV4dHVyZUNhY2hlLiBUaGlzIGNhY2hlIGlzIHNoYXJlZCBhY3Jvc3MgdGhlIHdob2xlIFBJWEkgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gVGhlIFRleHR1cmUgdG8gYWRkIHRvIHRoZSBjYWNoZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgLSBUaGUgaWQgdGhhdCB0aGUgVGV4dHVyZSB3aWxsIGJlIHN0b3JlZCBhZ2FpbnN0LlxuICAgICAqL1xuICAgIHN0YXRpYyBhZGRUb0NhY2hlKHRleHR1cmU6IFRleHR1cmUsIGlkOiBzdHJpbmcpOiB2b2lkXG4gICAge1xuICAgICAgICBpZiAoaWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0ZXh0dXJlLnRleHR1cmVDYWNoZUlkcy5pbmRleE9mKGlkKSA9PT0gLTEpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMucHVzaChpZCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChUZXh0dXJlQ2FjaGVbaWRdKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBUZXh0dXJlIGFkZGVkIHRvIHRoZSBjYWNoZSB3aXRoIGFuIGlkIFske2lkfV0gdGhhdCBhbHJlYWR5IGhhZCBhbiBlbnRyeWApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBUZXh0dXJlQ2FjaGVbaWRdID0gdGV4dHVyZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhIFRleHR1cmUgZnJvbSB0aGUgZ2xvYmFsIFRleHR1cmVDYWNoZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xQSVhJLlRleHR1cmV9IHRleHR1cmUgLSBpZCBvZiBhIFRleHR1cmUgdG8gYmUgcmVtb3ZlZCwgb3IgYSBUZXh0dXJlIGluc3RhbmNlIGl0c2VsZlxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZXxudWxsfSBUaGUgVGV4dHVyZSB0aGF0IHdhcyByZW1vdmVkXG4gICAgICovXG4gICAgc3RhdGljIHJlbW92ZUZyb21DYWNoZSh0ZXh0dXJlOiBzdHJpbmd8VGV4dHVyZSk6IFRleHR1cmV8bnVsbFxuICAgIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0ZXh0dXJlID09PSAnc3RyaW5nJylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgdGV4dHVyZUZyb21DYWNoZSA9IFRleHR1cmVDYWNoZVt0ZXh0dXJlXTtcblxuICAgICAgICAgICAgaWYgKHRleHR1cmVGcm9tQ2FjaGUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSB0ZXh0dXJlRnJvbUNhY2hlLnRleHR1cmVDYWNoZUlkcy5pbmRleE9mKHRleHR1cmUpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID4gLTEpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlRnJvbUNhY2hlLnRleHR1cmVDYWNoZUlkcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGRlbGV0ZSBUZXh0dXJlQ2FjaGVbdGV4dHVyZV07XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGV4dHVyZUZyb21DYWNoZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0ZXh0dXJlICYmIHRleHR1cmUudGV4dHVyZUNhY2hlSWRzKVxuICAgICAgICB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRleHR1cmUudGV4dHVyZUNhY2hlSWRzLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIENoZWNrIHRoYXQgdGV4dHVyZSBtYXRjaGVzIHRoZSBvbmUgYmVpbmcgcGFzc2VkIGluIGJlZm9yZSBkZWxldGluZyBpdCBmcm9tIHRoZSBjYWNoZS5cbiAgICAgICAgICAgICAgICBpZiAoVGV4dHVyZUNhY2hlW3RleHR1cmUudGV4dHVyZUNhY2hlSWRzW2ldXSA9PT0gdGV4dHVyZSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBUZXh0dXJlQ2FjaGVbdGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHNbaV1dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMubGVuZ3RoID0gMDtcblxuICAgICAgICAgICAgcmV0dXJuIHRleHR1cmU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHJlc29sdXRpb24gb2YgYmFzZVRleHR1cmVcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICBnZXQgcmVzb2x1dGlvbigpOiBudW1iZXJcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmJhc2VUZXh0dXJlLnJlc29sdXRpb247XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGZyYW1lIHNwZWNpZmllcyB0aGUgcmVnaW9uIG9mIHRoZSBiYXNlIHRleHR1cmUgdGhhdCB0aGlzIHRleHR1cmUgdXNlcy5cbiAgICAgKiBQbGVhc2UgY2FsbCBgdXBkYXRlVXZzKClgIGFmdGVyIHlvdSBjaGFuZ2UgY29vcmRpbmF0ZXMgb2YgYGZyYW1lYCBtYW51YWxseS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAqL1xuICAgIGdldCBmcmFtZSgpOiBSZWN0YW5nbGVcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9mcmFtZTtcbiAgICB9XG5cbiAgICBzZXQgZnJhbWUoZnJhbWU6IFJlY3RhbmdsZSlcbiAgICB7XG4gICAgICAgIHRoaXMuX2ZyYW1lID0gZnJhbWU7XG5cbiAgICAgICAgdGhpcy5ub0ZyYW1lID0gZmFsc2U7XG5cbiAgICAgICAgY29uc3QgeyB4LCB5LCB3aWR0aCwgaGVpZ2h0IH0gPSBmcmFtZTtcbiAgICAgICAgY29uc3QgeE5vdEZpdCA9IHggKyB3aWR0aCA+IHRoaXMuYmFzZVRleHR1cmUud2lkdGg7XG4gICAgICAgIGNvbnN0IHlOb3RGaXQgPSB5ICsgaGVpZ2h0ID4gdGhpcy5iYXNlVGV4dHVyZS5oZWlnaHQ7XG5cbiAgICAgICAgaWYgKHhOb3RGaXQgfHwgeU5vdEZpdClcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgcmVsYXRpb25zaGlwID0geE5vdEZpdCAmJiB5Tm90Rml0ID8gJ2FuZCcgOiAnb3InO1xuICAgICAgICAgICAgY29uc3QgZXJyb3JYID0gYFg6ICR7eH0gKyAke3dpZHRofSA9ICR7eCArIHdpZHRofSA+ICR7dGhpcy5iYXNlVGV4dHVyZS53aWR0aH1gO1xuICAgICAgICAgICAgY29uc3QgZXJyb3JZID0gYFk6ICR7eX0gKyAke2hlaWdodH0gPSAke3kgKyBoZWlnaHR9ID4gJHt0aGlzLmJhc2VUZXh0dXJlLmhlaWdodH1gO1xuXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RleHR1cmUgRXJyb3I6IGZyYW1lIGRvZXMgbm90IGZpdCBpbnNpZGUgdGhlIGJhc2UgVGV4dHVyZSBkaW1lbnNpb25zOiAnXG4gICAgICAgICAgICAgICAgKyBgJHtlcnJvclh9ICR7cmVsYXRpb25zaGlwfSAke2Vycm9yWX1gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudmFsaWQgPSB3aWR0aCAmJiBoZWlnaHQgJiYgdGhpcy5iYXNlVGV4dHVyZS52YWxpZDtcblxuICAgICAgICBpZiAoIXRoaXMudHJpbSAmJiAhdGhpcy5yb3RhdGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMub3JpZyA9IGZyYW1lO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMudmFsaWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVXZzKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgd2hldGhlciB0aGUgdGV4dHVyZSBpcyByb3RhdGVkIGluc2lkZSB0aGUgYXRsYXNcbiAgICAgKiBzZXQgdG8gMiB0byBjb21wZW5zYXRlIGZvciB0ZXh0dXJlIHBhY2tlciByb3RhdGlvblxuICAgICAqIHNldCB0byA2IHRvIGNvbXBlbnNhdGUgZm9yIHNwaW5lIHBhY2tlciByb3RhdGlvblxuICAgICAqIGNhbiBiZSB1c2VkIHRvIHJvdGF0ZSBvciBtaXJyb3Igc3ByaXRlc1xuICAgICAqIFNlZSB7QGxpbmsgUElYSS5ncm91cEQ4fSBmb3IgZXhwbGFuYXRpb25cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgcm90YXRlKCk6IG51bWJlclxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JvdGF0ZTtcbiAgICB9XG5cbiAgICBzZXQgcm90YXRlKHJvdGF0ZTogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgdGhpcy5fcm90YXRlID0gcm90YXRlO1xuICAgICAgICBpZiAodGhpcy52YWxpZClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVVdnMoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgVGV4dHVyZSBpbiBwaXhlbHMuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IHdpZHRoKCk6IG51bWJlclxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3JpZy53aWR0aDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBUZXh0dXJlIGluIHBpeGVscy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgaGVpZ2h0KCk6IG51bWJlclxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3JpZy5oZWlnaHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXRpbGl0eSBmdW5jdGlvbiBmb3IgQmFzZVRleHR1cmV8VGV4dHVyZSBjYXN0XG4gICAgICovXG4gICAgY2FzdFRvQmFzZVRleHR1cmUoKTogQmFzZVRleHR1cmVcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmJhc2VUZXh0dXJlO1xuICAgIH1cblxuICAgIHN0YXRpYyByZWFkb25seSBFTVBUWTogVGV4dHVyZTtcbiAgICBzdGF0aWMgcmVhZG9ubHkgV0hJVEU6IFRleHR1cmU7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVdoaXRlVGV4dHVyZSgpOiBUZXh0dXJlXG57XG4gICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG5cbiAgICBjYW52YXMud2lkdGggPSAxNjtcbiAgICBjYW52YXMuaGVpZ2h0ID0gMTY7XG5cbiAgICBjb25zdCBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbiAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICd3aGl0ZSc7XG4gICAgY29udGV4dC5maWxsUmVjdCgwLCAwLCAxNiwgMTYpO1xuXG4gICAgcmV0dXJuIG5ldyBUZXh0dXJlKG5ldyBCYXNlVGV4dHVyZShuZXcgQ2FudmFzUmVzb3VyY2UoY2FudmFzKSkpO1xufVxuXG5mdW5jdGlvbiByZW1vdmVBbGxIYW5kbGVycyh0ZXg6IGFueSk6IHZvaWRcbntcbiAgICB0ZXguZGVzdHJveSA9IGZ1bmN0aW9uIF9lbXB0eURlc3Ryb3koKTogdm9pZCB7IC8qIGVtcHR5ICovIH07XG4gICAgdGV4Lm9uID0gZnVuY3Rpb24gX2VtcHR5T24oKTogdm9pZCB7IC8qIGVtcHR5ICovIH07XG4gICAgdGV4Lm9uY2UgPSBmdW5jdGlvbiBfZW1wdHlPbmNlKCk6IHZvaWQgeyAvKiBlbXB0eSAqLyB9O1xuICAgIHRleC5lbWl0ID0gZnVuY3Rpb24gX2VtcHR5RW1pdCgpOiB2b2lkIHsgLyogZW1wdHkgKi8gfTtcbn1cblxuLyoqXG4gKiBBbiBlbXB0eSB0ZXh0dXJlLCB1c2VkIG9mdGVuIHRvIG5vdCBoYXZlIHRvIGNyZWF0ZSBtdWx0aXBsZSBlbXB0eSB0ZXh0dXJlcy5cbiAqIENhbiBub3QgYmUgZGVzdHJveWVkLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG1lbWJlciB7UElYSS5UZXh0dXJlfVxuICovXG4oVGV4dHVyZSBhcyBhbnkpLkVNUFRZID0gbmV3IFRleHR1cmUobmV3IEJhc2VUZXh0dXJlKCkpO1xucmVtb3ZlQWxsSGFuZGxlcnMoVGV4dHVyZS5FTVBUWSk7XG5yZW1vdmVBbGxIYW5kbGVycyhUZXh0dXJlLkVNUFRZLmJhc2VUZXh0dXJlKTtcblxuLyoqXG4gKiBBIHdoaXRlIHRleHR1cmUgb2YgMTZ4MTYgc2l6ZSwgdXNlZCBmb3IgZ3JhcGhpY3MgYW5kIG90aGVyIHRoaW5nc1xuICogQ2FuIG5vdCBiZSBkZXN0cm95ZWQuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbWVtYmVyIHtQSVhJLlRleHR1cmV9XG4gKi9cbihUZXh0dXJlIGFzIGFueSkuV0hJVEUgPSBjcmVhdGVXaGl0ZVRleHR1cmUoKTtcbnJlbW92ZUFsbEhhbmRsZXJzKFRleHR1cmUuV0hJVEUpO1xucmVtb3ZlQWxsSGFuZGxlcnMoVGV4dHVyZS5XSElURS5iYXNlVGV4dHVyZSk7XG4iLCJpbXBvcnQgeyBCYXNlUmVuZGVyVGV4dHVyZSB9IGZyb20gJy4vQmFzZVJlbmRlclRleHR1cmUnO1xuaW1wb3J0IHsgVGV4dHVyZSB9IGZyb20gJy4uL3RleHR1cmVzL1RleHR1cmUnO1xuXG5pbXBvcnQgdHlwZSB7IFJlY3RhbmdsZSB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IHR5cGUgeyBGcmFtZWJ1ZmZlciB9IGZyb20gJy4uL2ZyYW1lYnVmZmVyL0ZyYW1lYnVmZmVyJztcbmltcG9ydCB0eXBlIHsgSUJhc2VUZXh0dXJlT3B0aW9ucyB9IGZyb20gJy4uL3RleHR1cmVzL0Jhc2VUZXh0dXJlJztcbi8qKlxuICogQSBSZW5kZXJUZXh0dXJlIGlzIGEgc3BlY2lhbCB0ZXh0dXJlIHRoYXQgYWxsb3dzIGFueSBQaXhpSlMgZGlzcGxheSBvYmplY3QgdG8gYmUgcmVuZGVyZWQgdG8gaXQuXG4gKlxuICogX19IaW50X186IEFsbCBEaXNwbGF5T2JqZWN0cyAoaS5lLiBTcHJpdGVzKSB0aGF0IHJlbmRlciB0byBhIFJlbmRlclRleHR1cmUgc2hvdWxkIGJlIHByZWxvYWRlZFxuICogb3RoZXJ3aXNlIGJsYWNrIHJlY3RhbmdsZXMgd2lsbCBiZSBkcmF3biBpbnN0ZWFkLlxuICpcbiAqIF9fSGludC0yX186IFRoZSBhY3R1YWwgbWVtb3J5IGFsbG9jYXRpb24gd2lsbCBoYXBwZW4gb24gZmlyc3QgcmVuZGVyLlxuICogWW91IHNob3VsZG4ndCBjcmVhdGUgcmVuZGVyVGV4dHVyZXMgZWFjaCBmcmFtZSBqdXN0IHRvIGRlbGV0ZSB0aGVtIGFmdGVyLCB0cnkgdG8gcmV1c2UgdGhlbS5cbiAqXG4gKiBBIFJlbmRlclRleHR1cmUgdGFrZXMgYSBzbmFwc2hvdCBvZiBhbnkgRGlzcGxheSBPYmplY3QgZ2l2ZW4gdG8gaXRzIHJlbmRlciBtZXRob2QuIEZvciBleGFtcGxlOlxuICpcbiAqIGBgYGpzXG4gKiBsZXQgcmVuZGVyZXIgPSBQSVhJLmF1dG9EZXRlY3RSZW5kZXJlcigpO1xuICogbGV0IHJlbmRlclRleHR1cmUgPSBQSVhJLlJlbmRlclRleHR1cmUuY3JlYXRlKHsgd2lkdGg6IDgwMCwgaGVpZ2h0OiA2MDAgfSk7XG4gKiBsZXQgc3ByaXRlID0gUElYSS5TcHJpdGUuZnJvbShcInNwaW5PYmpfMDEucG5nXCIpO1xuICpcbiAqIHNwcml0ZS5wb3NpdGlvbi54ID0gODAwLzI7XG4gKiBzcHJpdGUucG9zaXRpb24ueSA9IDYwMC8yO1xuICogc3ByaXRlLmFuY2hvci54ID0gMC41O1xuICogc3ByaXRlLmFuY2hvci55ID0gMC41O1xuICpcbiAqIHJlbmRlcmVyLnJlbmRlcihzcHJpdGUsIHJlbmRlclRleHR1cmUpO1xuICogYGBgXG4gKlxuICogVGhlIFNwcml0ZSBpbiB0aGlzIGNhc2Ugd2lsbCBiZSByZW5kZXJlZCB1c2luZyBpdHMgbG9jYWwgdHJhbnNmb3JtLiBUbyByZW5kZXIgdGhpcyBzcHJpdGUgYXQgMCwwXG4gKiB5b3UgY2FuIGNsZWFyIHRoZSB0cmFuc2Zvcm1cbiAqXG4gKiBgYGBqc1xuICpcbiAqIHNwcml0ZS5zZXRUcmFuc2Zvcm0oKVxuICpcbiAqIGxldCByZW5kZXJUZXh0dXJlID0gbmV3IFBJWEkuUmVuZGVyVGV4dHVyZS5jcmVhdGUoMTAwLCAxMDApO1xuICpcbiAqIHJlbmRlcmVyLnJlbmRlcihzcHJpdGUsIHJlbmRlclRleHR1cmUpOyAgLy8gUmVuZGVycyB0byBjZW50ZXIgb2YgUmVuZGVyVGV4dHVyZVxuICogYGBgXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlRleHR1cmVcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBjbGFzcyBSZW5kZXJUZXh0dXJlIGV4dGVuZHMgVGV4dHVyZVxue1xuICAgIHB1YmxpYyBmaWx0ZXJGcmFtZTogUmVjdGFuZ2xlfG51bGw7XG4gICAgcHVibGljIGZpbHRlclBvb2xLZXk6IHN0cmluZ3xudW1iZXJ8bnVsbDtcbiAgICBsZWdhY3lSZW5kZXJlcjogYW55O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlUmVuZGVyVGV4dHVyZX0gYmFzZVJlbmRlclRleHR1cmUgLSBUaGUgYmFzZSB0ZXh0dXJlIG9iamVjdCB0aGF0IHRoaXMgdGV4dHVyZSB1c2VzXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gW2ZyYW1lXSAtIFRoZSByZWN0YW5nbGUgZnJhbWUgb2YgdGhlIHRleHR1cmUgdG8gc2hvd1xuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGJhc2VSZW5kZXJUZXh0dXJlOiBCYXNlUmVuZGVyVGV4dHVyZSwgZnJhbWU/OiBSZWN0YW5nbGUpXG4gICAge1xuICAgICAgICAvLyBzdXBwb3J0IGZvciBsZWdhY3kuLlxuICAgICAgICBsZXQgX2xlZ2FjeVJlbmRlcmVyID0gbnVsbDtcblxuICAgICAgICBpZiAoIShiYXNlUmVuZGVyVGV4dHVyZSBpbnN0YW5jZW9mIEJhc2VSZW5kZXJUZXh0dXJlKSlcbiAgICAgICAge1xuICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgcHJlZmVyLXJlc3QtcGFyYW1zLCBuby1jb25zb2xlICovXG4gICAgICAgICAgICBjb25zdCB3aWR0aCA9IGFyZ3VtZW50c1sxXTtcbiAgICAgICAgICAgIGNvbnN0IGhlaWdodCA9IGFyZ3VtZW50c1syXTtcbiAgICAgICAgICAgIGNvbnN0IHNjYWxlTW9kZSA9IGFyZ3VtZW50c1szXTtcbiAgICAgICAgICAgIGNvbnN0IHJlc29sdXRpb24gPSBhcmd1bWVudHNbNF07XG5cbiAgICAgICAgICAgIC8vIHdlIGhhdmUgYW4gb2xkIHJlbmRlciB0ZXh0dXJlLi5cbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgUGxlYXNlIHVzZSBSZW5kZXJUZXh0dXJlLmNyZWF0ZSgke3dpZHRofSwgJHtoZWlnaHR9KSBpbnN0ZWFkIG9mIHRoZSBjdG9yIGRpcmVjdGx5LmApO1xuICAgICAgICAgICAgX2xlZ2FjeVJlbmRlcmVyID0gYXJndW1lbnRzWzBdO1xuICAgICAgICAgICAgLyogZXNsaW50LWVuYWJsZSBwcmVmZXItcmVzdC1wYXJhbXMsIG5vLWNvbnNvbGUgKi9cblxuICAgICAgICAgICAgZnJhbWUgPSBudWxsO1xuICAgICAgICAgICAgYmFzZVJlbmRlclRleHR1cmUgPSBuZXcgQmFzZVJlbmRlclRleHR1cmUoe1xuICAgICAgICAgICAgICAgIHdpZHRoLFxuICAgICAgICAgICAgICAgIGhlaWdodCxcbiAgICAgICAgICAgICAgICBzY2FsZU1vZGUsXG4gICAgICAgICAgICAgICAgcmVzb2x1dGlvbixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBiYXNlIHRleHR1cmUgb2JqZWN0IHRoYXQgdGhpcyB0ZXh0dXJlIHVzZXNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5CYXNlVGV4dHVyZX1cbiAgICAgICAgICovXG4gICAgICAgIHN1cGVyKGJhc2VSZW5kZXJUZXh0dXJlLCBmcmFtZSk7XG5cbiAgICAgICAgdGhpcy5sZWdhY3lSZW5kZXJlciA9IF9sZWdhY3lSZW5kZXJlcjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyB3aWxsIGxldCB0aGUgcmVuZGVyZXIga25vdyBpZiB0aGUgdGV4dHVyZSBpcyB2YWxpZC4gSWYgaXQncyBub3QgdGhlbiBpdCBjYW5ub3QgYmUgcmVuZGVyZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnZhbGlkID0gdHJ1ZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogU3RvcmVzIGBzb3VyY2VGcmFtZWAgd2hlbiB0aGlzIHRleHR1cmUgaXMgaW5zaWRlIGN1cnJlbnQgZmlsdGVyIHN0YWNrLlxuICAgICAgICAgKiBZb3UgY2FuIHJlYWQgaXQgaW5zaWRlIGZpbHRlcnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmlsdGVyRnJhbWUgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUga2V5IGZvciBwb29sZWQgdGV4dHVyZSBvZiBGaWx0ZXJTeXN0ZW1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZpbHRlclBvb2xLZXkgPSBudWxsO1xuXG4gICAgICAgIHRoaXMudXBkYXRlVXZzKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2hvcnRjdXQgdG8gYHRoaXMuYmFzZVRleHR1cmUuZnJhbWVidWZmZXJgLCBzYXZlcyBiYXNlVGV4dHVyZSBjYXN0LlxuICAgICAqIEBtZW1iZXIge1BJWEkuRnJhbWVidWZmZXJ9XG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgZ2V0IGZyYW1lYnVmZmVyKCk6IEZyYW1lYnVmZmVyXG4gICAge1xuICAgICAgICByZXR1cm4gKHRoaXMuYmFzZVRleHR1cmUgYXMgQmFzZVJlbmRlclRleHR1cmUpLmZyYW1lYnVmZmVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlc2l6ZXMgdGhlIFJlbmRlclRleHR1cmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSBUaGUgd2lkdGggdG8gcmVzaXplIHRvLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSBUaGUgaGVpZ2h0IHRvIHJlc2l6ZSB0by5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtyZXNpemVCYXNlVGV4dHVyZT10cnVlXSAtIFNob3VsZCB0aGUgYmFzZVRleHR1cmUud2lkdGggYW5kIGhlaWdodCB2YWx1ZXMgYmUgcmVzaXplZCBhcyB3ZWxsP1xuICAgICAqL1xuICAgIHJlc2l6ZSh3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlciwgcmVzaXplQmFzZVRleHR1cmUgPSB0cnVlKTogdm9pZFxuICAgIHtcbiAgICAgICAgd2lkdGggPSBNYXRoLmNlaWwod2lkdGgpO1xuICAgICAgICBoZWlnaHQgPSBNYXRoLmNlaWwoaGVpZ2h0KTtcblxuICAgICAgICAvLyBUT0RPIC0gY291bGQgYmUgbm90IHJlcXVpcmVkLi5cbiAgICAgICAgdGhpcy52YWxpZCA9ICh3aWR0aCA+IDAgJiYgaGVpZ2h0ID4gMCk7XG5cbiAgICAgICAgdGhpcy5fZnJhbWUud2lkdGggPSB0aGlzLm9yaWcud2lkdGggPSB3aWR0aDtcbiAgICAgICAgdGhpcy5fZnJhbWUuaGVpZ2h0ID0gdGhpcy5vcmlnLmhlaWdodCA9IGhlaWdodDtcblxuICAgICAgICBpZiAocmVzaXplQmFzZVRleHR1cmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgICh0aGlzLmJhc2VUZXh0dXJlIGFzIEJhc2VSZW5kZXJUZXh0dXJlKS5yZXNpemUod2lkdGgsIGhlaWdodCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnVwZGF0ZVV2cygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoYW5nZXMgdGhlIHJlc29sdXRpb24gb2YgYmFzZVRleHR1cmUsIGJ1dCBkb2VzIG5vdCBjaGFuZ2UgZnJhbWVidWZmZXIgc2l6ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIC0gVGhlIG5ldyByZXNvbHV0aW9uIHRvIGFwcGx5IHRvIFJlbmRlclRleHR1cmVcbiAgICAgKi9cbiAgICBzZXRSZXNvbHV0aW9uKHJlc29sdXRpb246IG51bWJlcik6IHZvaWRcbiAgICB7XG4gICAgICAgIGNvbnN0IHsgYmFzZVRleHR1cmUgfSA9IHRoaXM7XG5cbiAgICAgICAgaWYgKGJhc2VUZXh0dXJlLnJlc29sdXRpb24gPT09IHJlc29sdXRpb24pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGJhc2VUZXh0dXJlLnNldFJlc29sdXRpb24ocmVzb2x1dGlvbik7XG4gICAgICAgIHRoaXMucmVzaXplKGJhc2VUZXh0dXJlLndpZHRoLCBiYXNlVGV4dHVyZS5oZWlnaHQsIGZhbHNlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNob3J0IGhhbmQgd2F5IG9mIGNyZWF0aW5nIGEgcmVuZGVyIHRleHR1cmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gT3B0aW9uc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy53aWR0aD0xMDBdIC0gVGhlIHdpZHRoIG9mIHRoZSByZW5kZXIgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5oZWlnaHQ9MTAwXSAtIFRoZSBoZWlnaHQgb2YgdGhlIHJlbmRlciB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnNjYWxlTW9kZT1QSVhJLnNldHRpbmdzLlNDQUxFX01PREVdIC0gU2VlIHtAbGluayBQSVhJLlNDQUxFX01PREVTfSBmb3IgcG9zc2libGUgdmFsdWVzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnJlc29sdXRpb249MV0gLSBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgdGV4dHVyZSBiZWluZyBnZW5lcmF0ZWRcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlbmRlclRleHR1cmV9IFRoZSBuZXcgcmVuZGVyIHRleHR1cmVcbiAgICAgKi9cbiAgICBzdGF0aWMgY3JlYXRlKG9wdGlvbnM6IElCYXNlVGV4dHVyZU9wdGlvbnMpOiBSZW5kZXJUZXh0dXJlXG4gICAge1xuICAgICAgICAvLyBmYWxsYmFjaywgb2xkLXN0eWxlOiBjcmVhdGUod2lkdGgsIGhlaWdodCwgc2NhbGVNb2RlLCByZXNvbHV0aW9uKVxuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdudW1iZXInKVxuICAgICAgICB7XG4gICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBwcmVmZXItcmVzdC1wYXJhbXMgKi9cbiAgICAgICAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IG9wdGlvbnMsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBhcmd1bWVudHNbMV0sXG4gICAgICAgICAgICAgICAgc2NhbGVNb2RlOiBhcmd1bWVudHNbMl0sXG4gICAgICAgICAgICAgICAgcmVzb2x1dGlvbjogYXJndW1lbnRzWzNdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgcHJlZmVyLXJlc3QtcGFyYW1zICovXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IFJlbmRlclRleHR1cmUobmV3IEJhc2VSZW5kZXJUZXh0dXJlKG9wdGlvbnMpKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBSZW5kZXJUZXh0dXJlIH0gZnJvbSAnLi9SZW5kZXJUZXh0dXJlJztcbmltcG9ydCB7IEJhc2VSZW5kZXJUZXh0dXJlIH0gZnJvbSAnLi9CYXNlUmVuZGVyVGV4dHVyZSc7XG5pbXBvcnQgeyBuZXh0UG93MiB9IGZyb20gJ0BwaXhpL3V0aWxzJztcblxuaW1wb3J0IHR5cGUgeyBJQmFzZVRleHR1cmVPcHRpb25zIH0gZnJvbSAnLi4vdGV4dHVyZXMvQmFzZVRleHR1cmUnO1xuaW1wb3J0IHR5cGUgeyBJU2l6ZSB9IGZyb20gJ0BwaXhpL21hdGgnO1xuXG4vKipcbiAqIEV4cGVyaW1lbnRhbCFcbiAqXG4gKiBUZXh0dXJlIHBvb2wsIHVzZWQgYnkgRmlsdGVyU3lzdGVtIGFuZCBwbHVnaW5zXG4gKiBTdG9yZXMgY29sbGVjdGlvbiBvZiB0ZW1wb3JhcnkgcG93MiBvciBzY3JlZW4tc2l6ZWQgcmVuZGVyVGV4dHVyZXNcbiAqXG4gKiBJZiB5b3UgdXNlIGN1c3RvbSBSZW5kZXJUZXh0dXJlUG9vbCBmb3IgeW91ciBmaWx0ZXJzLCB5b3UgY2FuIHVzZSBtZXRob2RzXG4gKiBgZ2V0RmlsdGVyVGV4dHVyZWAgYW5kIGByZXR1cm5GaWx0ZXJUZXh0dXJlYCBzYW1lIGFzIGluXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgY2xhc3MgUmVuZGVyVGV4dHVyZVBvb2xcbntcbiAgICBwdWJsaWMgdGV4dHVyZU9wdGlvbnM6IElCYXNlVGV4dHVyZU9wdGlvbnM7XG4gICAgcHVibGljIGVuYWJsZUZ1bGxTY3JlZW46IGJvb2xlYW47XG4gICAgdGV4dHVyZVBvb2w6IHtbeCBpbiBzdHJpbmd8bnVtYmVyXTogUmVuZGVyVGV4dHVyZVtdfTtcbiAgICBwcml2YXRlIF9waXhlbHNXaWR0aDogbnVtYmVyO1xuICAgIHByaXZhdGUgX3BpeGVsc0hlaWdodDogbnVtYmVyO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbdGV4dHVyZU9wdGlvbnNdIC0gb3B0aW9ucyB0aGF0IHdpbGwgYmUgcGFzc2VkIHRvIEJhc2VSZW5kZXJUZXh0dXJlIGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtQSVhJLlNDQUxFX01PREVTfSBbdGV4dHVyZU9wdGlvbnMuc2NhbGVNb2RlXSAtIFNlZSB7QGxpbmsgUElYSS5TQ0FMRV9NT0RFU30gZm9yIHBvc3NpYmxlIHZhbHVlcy5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih0ZXh0dXJlT3B0aW9ucz86IElCYXNlVGV4dHVyZU9wdGlvbnMpXG4gICAge1xuICAgICAgICB0aGlzLnRleHR1cmVQb29sID0ge307XG4gICAgICAgIHRoaXMudGV4dHVyZU9wdGlvbnMgPSB0ZXh0dXJlT3B0aW9ucyB8fCB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFsbG93IHJlbmRlclRleHR1cmVzIG9mIHRoZSBzYW1lIHNpemUgYXMgc2NyZWVuLCBub3QganVzdCBwb3cyXG4gICAgICAgICAqXG4gICAgICAgICAqIEF1dG9tYXRpY2FsbHkgc2V0cyB0byB0cnVlIGFmdGVyIGBzZXRTY3JlZW5TaXplYFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5lbmFibGVGdWxsU2NyZWVuID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5fcGl4ZWxzV2lkdGggPSAwO1xuICAgICAgICB0aGlzLl9waXhlbHNIZWlnaHQgPSAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGNyZWF0ZXMgb2YgdGV4dHVyZSB3aXRoIHBhcmFtcyB0aGF0IHdlcmUgc3BlY2lmaWVkIGluIHBvb2wgY29uc3RydWN0b3JcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZWFsV2lkdGggLSB3aWR0aCBvZiB0ZXh0dXJlIGluIHBpeGVsc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZWFsSGVpZ2h0IC0gaGVpZ2h0IG9mIHRleHR1cmUgaW4gcGl4ZWxzXG4gICAgICogQHJldHVybnMge1JlbmRlclRleHR1cmV9XG4gICAgICovXG4gICAgY3JlYXRlVGV4dHVyZShyZWFsV2lkdGg6IG51bWJlciwgcmVhbEhlaWdodDogbnVtYmVyKTogUmVuZGVyVGV4dHVyZVxuICAgIHtcbiAgICAgICAgY29uc3QgYmFzZVJlbmRlclRleHR1cmUgPSBuZXcgQmFzZVJlbmRlclRleHR1cmUoT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICB3aWR0aDogcmVhbFdpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiByZWFsSGVpZ2h0LFxuICAgICAgICAgICAgcmVzb2x1dGlvbjogMSxcbiAgICAgICAgfSwgdGhpcy50ZXh0dXJlT3B0aW9ucykpO1xuXG4gICAgICAgIHJldHVybiBuZXcgUmVuZGVyVGV4dHVyZShiYXNlUmVuZGVyVGV4dHVyZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBhIFBvd2VyLW9mLVR3byByZW5kZXIgdGV4dHVyZSBvciBmdWxsU2NyZWVuIHRleHR1cmVcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWluV2lkdGggLSBUaGUgbWluaW11bSB3aWR0aCBvZiB0aGUgcmVuZGVyIHRleHR1cmUgaW4gcmVhbCBwaXhlbHMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1pbkhlaWdodCAtIFRoZSBtaW5pbXVtIGhlaWdodCBvZiB0aGUgcmVuZGVyIHRleHR1cmUgaW4gcmVhbCBwaXhlbHMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyZXNvbHV0aW9uPTFdIC0gVGhlIHJlc29sdXRpb24gb2YgdGhlIHJlbmRlciB0ZXh0dXJlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVuZGVyVGV4dHVyZX0gVGhlIG5ldyByZW5kZXIgdGV4dHVyZS5cbiAgICAgKi9cbiAgICBnZXRPcHRpbWFsVGV4dHVyZShtaW5XaWR0aDogbnVtYmVyLCBtaW5IZWlnaHQ6IG51bWJlciwgcmVzb2x1dGlvbiA9IDEpOiBSZW5kZXJUZXh0dXJlXG4gICAge1xuICAgICAgICBsZXQga2V5OiBudW1iZXJ8c3RyaW5nID0gUmVuZGVyVGV4dHVyZVBvb2wuU0NSRUVOX0tFWTtcblxuICAgICAgICBtaW5XaWR0aCAqPSByZXNvbHV0aW9uO1xuICAgICAgICBtaW5IZWlnaHQgKj0gcmVzb2x1dGlvbjtcblxuICAgICAgICBpZiAoIXRoaXMuZW5hYmxlRnVsbFNjcmVlbiB8fCBtaW5XaWR0aCAhPT0gdGhpcy5fcGl4ZWxzV2lkdGggfHwgbWluSGVpZ2h0ICE9PSB0aGlzLl9waXhlbHNIZWlnaHQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIG1pbldpZHRoID0gbmV4dFBvdzIobWluV2lkdGgpO1xuICAgICAgICAgICAgbWluSGVpZ2h0ID0gbmV4dFBvdzIobWluSGVpZ2h0KTtcbiAgICAgICAgICAgIGtleSA9ICgobWluV2lkdGggJiAweEZGRkYpIDw8IDE2KSB8IChtaW5IZWlnaHQgJiAweEZGRkYpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLnRleHR1cmVQb29sW2tleV0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudGV4dHVyZVBvb2xba2V5XSA9IFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHJlbmRlclRleHR1cmUgPSB0aGlzLnRleHR1cmVQb29sW2tleV0ucG9wKCk7XG5cbiAgICAgICAgaWYgKCFyZW5kZXJUZXh0dXJlKVxuICAgICAgICB7XG4gICAgICAgICAgICByZW5kZXJUZXh0dXJlID0gdGhpcy5jcmVhdGVUZXh0dXJlKG1pbldpZHRoLCBtaW5IZWlnaHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVuZGVyVGV4dHVyZS5maWx0ZXJQb29sS2V5ID0ga2V5O1xuICAgICAgICByZW5kZXJUZXh0dXJlLnNldFJlc29sdXRpb24ocmVzb2x1dGlvbik7XG5cbiAgICAgICAgcmV0dXJuIHJlbmRlclRleHR1cmU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBleHRyYSB0ZXh0dXJlIG9mIHRoZSBzYW1lIHNpemUgYXMgaW5wdXQgcmVuZGVyVGV4dHVyZVxuICAgICAqXG4gICAgICogYGdldEZpbHRlclRleHR1cmUoaW5wdXQsIDAuNSlgIG9yIGBnZXRGaWx0ZXJUZXh0dXJlKDAuNSwgaW5wdXQpYFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IGlucHV0IC0gcmVuZGVyVGV4dHVyZSBmcm9tIHdoaWNoIHNpemUgYW5kIHJlc29sdXRpb24gd2lsbCBiZSBjb3BpZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb25dIC0gb3ZlcnJpZGUgcmVzb2x1dGlvbiBvZiB0aGUgcmVuZGVyVGV4dHVyZVxuICAgICAqICBJdCBvdmVycmlkZXMsIGl0IGRvZXMgbm90IG11bHRpcGx5XG4gICAgICogQHJldHVybnMge1BJWEkuUmVuZGVyVGV4dHVyZX1cbiAgICAgKi9cbiAgICBnZXRGaWx0ZXJUZXh0dXJlKGlucHV0OiBSZW5kZXJUZXh0dXJlLCByZXNvbHV0aW9uOiBudW1iZXIpOiBSZW5kZXJUZXh0dXJlXG4gICAge1xuICAgICAgICBjb25zdCBmaWx0ZXJUZXh0dXJlID0gdGhpcy5nZXRPcHRpbWFsVGV4dHVyZShpbnB1dC53aWR0aCwgaW5wdXQuaGVpZ2h0LCByZXNvbHV0aW9uIHx8IGlucHV0LnJlc29sdXRpb24pO1xuXG4gICAgICAgIGZpbHRlclRleHR1cmUuZmlsdGVyRnJhbWUgPSBpbnB1dC5maWx0ZXJGcmFtZTtcblxuICAgICAgICByZXR1cm4gZmlsdGVyVGV4dHVyZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQbGFjZSBhIHJlbmRlciB0ZXh0dXJlIGJhY2sgaW50byB0aGUgcG9vbC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gcmVuZGVyVGV4dHVyZSAtIFRoZSByZW5kZXJUZXh0dXJlIHRvIGZyZWVcbiAgICAgKi9cbiAgICByZXR1cm5UZXh0dXJlKHJlbmRlclRleHR1cmU6IFJlbmRlclRleHR1cmUpOiB2b2lkXG4gICAge1xuICAgICAgICBjb25zdCBrZXkgPSByZW5kZXJUZXh0dXJlLmZpbHRlclBvb2xLZXk7XG5cbiAgICAgICAgcmVuZGVyVGV4dHVyZS5maWx0ZXJGcmFtZSA9IG51bGw7XG4gICAgICAgIHRoaXMudGV4dHVyZVBvb2xba2V5XS5wdXNoKHJlbmRlclRleHR1cmUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFsaWFzIGZvciByZXR1cm5UZXh0dXJlLCB0byBiZSBjb21wbGlhbnQgd2l0aCBGaWx0ZXJTeXN0ZW0gaW50ZXJmYWNlXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IHJlbmRlclRleHR1cmUgLSBUaGUgcmVuZGVyVGV4dHVyZSB0byBmcmVlXG4gICAgICovXG4gICAgcmV0dXJuRmlsdGVyVGV4dHVyZShyZW5kZXJUZXh0dXJlOiBSZW5kZXJUZXh0dXJlKTogdm9pZFxuICAgIHtcbiAgICAgICAgdGhpcy5yZXR1cm5UZXh0dXJlKHJlbmRlclRleHR1cmUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENsZWFycyB0aGUgcG9vbFxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZGVzdHJveVRleHR1cmVzPXRydWVdIC0gZGVzdHJveSBhbGwgc3RvcmVkIHRleHR1cmVzXG4gICAgICovXG4gICAgY2xlYXIoZGVzdHJveVRleHR1cmVzOiBib29sZWFuKTogdm9pZFxuICAgIHtcbiAgICAgICAgZGVzdHJveVRleHR1cmVzID0gZGVzdHJveVRleHR1cmVzICE9PSBmYWxzZTtcbiAgICAgICAgaWYgKGRlc3Ryb3lUZXh0dXJlcylcbiAgICAgICAge1xuICAgICAgICAgICAgZm9yIChjb25zdCBpIGluIHRoaXMudGV4dHVyZVBvb2wpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGV4dHVyZXMgPSB0aGlzLnRleHR1cmVQb29sW2ldO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRleHR1cmVzKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0ZXh0dXJlcy5sZW5ndGg7IGorKylcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dHVyZXNbal0uZGVzdHJveSh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudGV4dHVyZVBvb2wgPSB7fTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJZiBzY3JlZW4gc2l6ZSB3YXMgY2hhbmdlZCwgZHJvcHMgYWxsIHNjcmVlbi1zaXplZCB0ZXh0dXJlcyxcbiAgICAgKiBzZXRzIG5ldyBzY3JlZW4gc2l6ZSwgc2V0cyBgZW5hYmxlRnVsbFNjcmVlbmAgdG8gdHJ1ZVxuICAgICAqXG4gICAgICogU2l6ZSBpcyBtZWFzdXJlZCBpbiBwaXhlbHMsIGByZW5kZXJlci52aWV3YCBjYW4gYmUgcGFzc2VkIGhlcmUsIG5vdCBgcmVuZGVyZXIuc2NyZWVuYFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLklTaXplfSBzaXplIC0gSW5pdGlhbCBzaXplIG9mIHNjcmVlblxuICAgICAqL1xuICAgIHNldFNjcmVlblNpemUoc2l6ZTogSVNpemUpOiB2b2lkXG4gICAge1xuICAgICAgICBpZiAoc2l6ZS53aWR0aCA9PT0gdGhpcy5fcGl4ZWxzV2lkdGhcbiAgICAgICAgICAgICYmIHNpemUuaGVpZ2h0ID09PSB0aGlzLl9waXhlbHNIZWlnaHQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHNjcmVlbktleSA9IFJlbmRlclRleHR1cmVQb29sLlNDUkVFTl9LRVk7XG4gICAgICAgIGNvbnN0IHRleHR1cmVzID0gdGhpcy50ZXh0dXJlUG9vbFtzY3JlZW5LZXldO1xuXG4gICAgICAgIHRoaXMuZW5hYmxlRnVsbFNjcmVlbiA9IHNpemUud2lkdGggPiAwICYmIHNpemUuaGVpZ2h0ID4gMDtcblxuICAgICAgICBpZiAodGV4dHVyZXMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGV4dHVyZXMubGVuZ3RoOyBqKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGV4dHVyZXNbal0uZGVzdHJveSh0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRleHR1cmVQb29sW3NjcmVlbktleV0gPSBbXTtcblxuICAgICAgICB0aGlzLl9waXhlbHNXaWR0aCA9IHNpemUud2lkdGg7XG4gICAgICAgIHRoaXMuX3BpeGVsc0hlaWdodCA9IHNpemUuaGVpZ2h0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEtleSB0aGF0IGlzIHVzZWQgdG8gc3RvcmUgZnVsbHNjcmVlbiByZW5kZXJUZXh0dXJlcyBpbiBhIHBvb2xcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAY29uc3Qge3N0cmluZ31cbiAgICAgKi9cbiAgICBzdGF0aWMgU0NSRUVOX0tFWSA9ICdzY3JlZW4nO1xufVxuIiwiaW1wb3J0IHR5cGUgeyBUWVBFUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5cbi8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cblxuLyoqXG4gKiBIb2xkcyB0aGUgaW5mb3JtYXRpb24gZm9yIGEgc2luZ2xlIGF0dHJpYnV0ZSBzdHJ1Y3R1cmUgcmVxdWlyZWQgdG8gcmVuZGVyIGdlb21ldHJ5LlxuICpcbiAqIFRoaXMgZG9lcyBub3QgY29udGFpbiB0aGUgYWN0dWFsIGRhdGEsIGJ1dCBpbnN0ZWFkIGhhcyBhIGJ1ZmZlciBpZCB0aGF0IG1hcHMgdG8gYSB7QGxpbmsgUElYSS5CdWZmZXJ9XG4gKiBUaGlzIGNhbiBpbmNsdWRlIGFueXRoaW5nIGZyb20gcG9zaXRpb25zLCB1dnMsIG5vcm1hbHMsIGNvbG9ycyBldGMuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgY2xhc3MgQXR0cmlidXRlXG57XG4gICAgcHVibGljIGJ1ZmZlcjogbnVtYmVyO1xuICAgIHB1YmxpYyBzaXplOiBudW1iZXI7XG4gICAgcHVibGljIG5vcm1hbGl6ZWQ6IGJvb2xlYW47XG4gICAgcHVibGljIHR5cGU6IFRZUEVTO1xuICAgIHB1YmxpYyBzdHJpZGU6IG51bWJlcjtcbiAgICBwdWJsaWMgc3RhcnQ6IG51bWJlcjtcbiAgICBwdWJsaWMgaW5zdGFuY2U6IGJvb2xlYW47XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGJ1ZmZlciAtIHRoZSBpZCBvZiB0aGUgYnVmZmVyIHRoYXQgdGhpcyBhdHRyaWJ1dGUgd2lsbCBsb29rIGZvclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbc2l6ZT0wXSAtIHRoZSBzaXplIG9mIHRoZSBhdHRyaWJ1dGUuIElmIHlvdSBoYXZlIDIgZmxvYXRzIHBlciB2ZXJ0ZXggKGVnIHBvc2l0aW9uIHggYW5kIHkpIHRoaXMgd291bGQgYmUgMi5cbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtub3JtYWxpemVkPWZhbHNlXSAtIHNob3VsZCB0aGUgZGF0YSBiZSBub3JtYWxpemVkLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbdHlwZT1QSVhJLlRZUEVTLkZMT0FUXSAtIHdoYXQgdHlwZSBvZiBudW1iZXIgaXMgdGhlIGF0dHJpYnV0ZS4gQ2hlY2sge0BsaW5rIFBJWEkuVFlQRVN9IHRvIHNlZSB0aGUgb25lcyBhdmFpbGFibGVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3N0cmlkZT0wXSAtIEhvdyBmYXIgYXBhcnQgKGluIGZsb2F0cykgdGhlIHN0YXJ0IG9mIGVhY2ggdmFsdWUgaXMuICh1c2VkIGZvciBpbnRlcmxlYXZpbmcgZGF0YSlcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3N0YXJ0PTBdIC0gSG93IGZhciBpbnRvIHRoZSBhcnJheSB0byBzdGFydCByZWFkaW5nIHZhbHVlcyAodXNlZCBmb3IgaW50ZXJsZWF2aW5nIGRhdGEpXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoYnVmZmVyOiBudW1iZXIsIHNpemUgPSAwLCBub3JtYWxpemVkID0gZmFsc2UsIHR5cGUgPSA1MTI2LCBzdHJpZGU/OiBudW1iZXIsIHN0YXJ0PzogbnVtYmVyLCBpbnN0YW5jZT86IGJvb2xlYW4pXG4gICAge1xuICAgICAgICB0aGlzLmJ1ZmZlciA9IGJ1ZmZlcjtcbiAgICAgICAgdGhpcy5zaXplID0gc2l6ZTtcbiAgICAgICAgdGhpcy5ub3JtYWxpemVkID0gbm9ybWFsaXplZDtcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICAgICAgdGhpcy5zdHJpZGUgPSBzdHJpZGU7XG4gICAgICAgIHRoaXMuc3RhcnQgPSBzdGFydDtcbiAgICAgICAgdGhpcy5pbnN0YW5jZSA9IGluc3RhbmNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBBdHRyaWJ1dGUuXG4gICAgICovXG4gICAgZGVzdHJveSgpOiB2b2lkXG4gICAge1xuICAgICAgICB0aGlzLmJ1ZmZlciA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhbiBBdHRyaWJ1dGUgYmFzZWQgb24gdGhlIGluZm9ybWF0aW9uIHByb3ZpZGVkXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGJ1ZmZlciAtIHRoZSBpZCBvZiB0aGUgYnVmZmVyIHRoYXQgdGhpcyBhdHRyaWJ1dGUgd2lsbCBsb29rIGZvclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbc2l6ZT0wXSAtIHRoZSBzaXplIG9mIHRoZSBhdHRyaWJ1dGUuIElmIHlvdSBoYXZlIDIgZmxvYXRzIHBlciB2ZXJ0ZXggKGVnIHBvc2l0aW9uIHggYW5kIHkpIHRoaXMgd291bGQgYmUgMlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW25vcm1hbGl6ZWQ9ZmFsc2VdIC0gc2hvdWxkIHRoZSBkYXRhIGJlIG5vcm1hbGl6ZWQuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFt0eXBlPVBJWEkuVFlQRVMuRkxPQVRdIC0gd2hhdCB0eXBlIG9mIG51bWJlciBpcyB0aGUgYXR0cmlidXRlLiBDaGVjayB7QGxpbmsgUElYSS5UWVBFU30gdG8gc2VlIHRoZSBvbmVzIGF2YWlsYWJsZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbc3RyaWRlPTBdIC0gSG93IGZhciBhcGFydCAoaW4gZmxvYXRzKSB0aGUgc3RhcnQgb2YgZWFjaCB2YWx1ZSBpcy4gKHVzZWQgZm9yIGludGVybGVhdmluZyBkYXRhKVxuICAgICAqXG4gICAgICogQHJldHVybnMge1BJWEkuQXR0cmlidXRlfSBBIG5ldyB7QGxpbmsgUElYSS5BdHRyaWJ1dGV9IGJhc2VkIG9uIHRoZSBpbmZvcm1hdGlvbiBwcm92aWRlZFxuICAgICAqL1xuICAgIHN0YXRpYyBmcm9tKGJ1ZmZlcjogbnVtYmVyLCBzaXplPzogbnVtYmVyLCBub3JtYWxpemVkPzogYm9vbGVhbiwgdHlwZT86IFRZUEVTLCBzdHJpZGU/OiBudW1iZXIpOiBBdHRyaWJ1dGVcbiAgICB7XG4gICAgICAgIHJldHVybiBuZXcgQXR0cmlidXRlKGJ1ZmZlciwgc2l6ZSwgbm9ybWFsaXplZCwgdHlwZSwgc3RyaWRlKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBSdW5uZXIgfSBmcm9tICdAcGl4aS9ydW5uZXInO1xuXG5pbXBvcnQgdHlwZSB7IEdMQnVmZmVyIH0gZnJvbSAnLi9HTEJ1ZmZlcic7XG5cbmxldCBVSUQgPSAwO1xuLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuXG4vKipcbiAqIE1hcmtzIHBsYWNlcyBpbiBQaXhpSlMgd2hlcmUgeW91IGNhbiBwYXNzIEZsb2F0MzJBcnJheSwgVUludDMyQXJyYXksIGFueSB0eXBlZCBhcnJheXMsIGFuZCBBcnJheUJ1ZmZlclxuICpcbiAqIFNhbWUgYXMgQXJyYXlCdWZmZXIgaW4gdHlwZXNjcmlwdCBsaWIsIGRlZmluZWQgaGVyZSBqdXN0IGZvciBkb2N1bWVudGF0aW9uXG4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZW1wdHktaW50ZXJmYWNlXG5leHBvcnQgaW50ZXJmYWNlIElBcnJheUJ1ZmZlciBleHRlbmRzIEFycmF5QnVmZmVyXG57XG59XG5cbi8qKlxuICogUGl4aUpTIGNsYXNzZXMgdXNlIHRoaXMgdHlwZSBpbnN0ZWFkIG9mIEFycmF5QnVmZmVyIGFuZCB0eXBlZCBhcnJheXNcbiAqIHRvIHN1cHBvcnQgZXhwcmVzc2lvbnMgbGlrZSBgZ2VvbWV0cnkuYnVmZmVyc1swXS5kYXRhWzBdID0gcG9zaXRpb24ueGAuXG4gKlxuICogR2l2ZXMgYWNjZXNzIHRvIGluZGV4aW5nIGFuZCBgbGVuZ3RoYCBmaWVsZFxuICpcbiAqIEBwb3BlbHlzaGV2OiBJZiBkYXRhIGlzIGFjdHVhbGx5IEFycmF5QnVmZmVyIGFuZCB0aHJvd3MgRXhjZXB0aW9uIG9uIGluZGV4aW5nIC0gaXRzIHVzZXIgcHJvYmxlbSA6KVxuICovXG5leHBvcnQgaW50ZXJmYWNlIElUeXBlZEFycmF5IGV4dGVuZHMgSUFycmF5QnVmZmVyXG57XG4gICAgcmVhZG9ubHkgbGVuZ3RoOiBudW1iZXI7XG4gICAgW2luZGV4OiBudW1iZXJdOiBudW1iZXI7XG4gICAgcmVhZG9ubHkgQllURVNfUEVSX0VMRU1FTlQ6IG51bWJlcjtcbn1cblxuLyoqXG4gKiBBIHdyYXBwZXIgZm9yIGRhdGEgc28gdGhhdCBpdCBjYW4gYmUgdXNlZCBhbmQgdXBsb2FkZWQgYnkgV2ViR0xcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBjbGFzcyBCdWZmZXJcbntcbiAgICBwdWJsaWMgZGF0YTogSVR5cGVkQXJyYXk7XG4gICAgcHVibGljIGluZGV4OiBib29sZWFuO1xuICAgIHB1YmxpYyBzdGF0aWM6IGJvb2xlYW47XG4gICAgcHVibGljIGlkOiBudW1iZXI7XG4gICAgIGRpc3Bvc2VSdW5uZXI6IFJ1bm5lcjtcbiAgICBfZ2xCdWZmZXJzOiB7W2tleTogbnVtYmVyXTogR0xCdWZmZXJ9O1xuICAgIF91cGRhdGVJRDogbnVtYmVyO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7QXJyYXlCdWZmZXJ8IFNoYXJlZEFycmF5QnVmZmVyfEFycmF5QnVmZmVyVmlld30gZGF0YSAtIHRoZSBkYXRhIHRvIHN0b3JlIGluIHRoZSBidWZmZXIuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbX3N0YXRpYz10cnVlXSAtIGB0cnVlYCBmb3Igc3RhdGljIGJ1ZmZlclxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2luZGV4PWZhbHNlXSAtIGB0cnVlYCBmb3IgaW5kZXggYnVmZmVyXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoZGF0YT86IElBcnJheUJ1ZmZlciwgX3N0YXRpYyA9IHRydWUsIGluZGV4ID0gZmFsc2UpXG4gICAge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGRhdGEgaW4gdGhlIGJ1ZmZlciwgYXMgYSB0eXBlZCBhcnJheVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtBcnJheUJ1ZmZlcnwgU2hhcmVkQXJyYXlCdWZmZXIgfCBBcnJheUJ1ZmZlclZpZXd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRhdGEgPSAoZGF0YSB8fCBuZXcgRmxvYXQzMkFycmF5KDEpKSBhcyBJVHlwZWRBcnJheTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQSBtYXAgb2YgcmVuZGVyZXIgSURzIHRvIHdlYmdsIGJ1ZmZlclxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3Q8bnVtYmVyLCBHTEJ1ZmZlcj59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9nbEJ1ZmZlcnMgPSB7fTtcblxuICAgICAgICB0aGlzLl91cGRhdGVJRCA9IDA7XG5cbiAgICAgICAgdGhpcy5pbmRleCA9IGluZGV4O1xuXG4gICAgICAgIHRoaXMuc3RhdGljID0gX3N0YXRpYztcblxuICAgICAgICB0aGlzLmlkID0gVUlEKys7XG5cbiAgICAgICAgdGhpcy5kaXNwb3NlUnVubmVyID0gbmV3IFJ1bm5lcignZGlzcG9zZUJ1ZmZlcicpO1xuICAgIH1cblxuICAgIC8vIFRPRE8gY291bGQgZXhwbG9yZSBmbGFnZ2luZyBvbmx5IGEgcGFydGlhbCB1cGxvYWQ/XG4gICAgLyoqXG4gICAgICogZmxhZ3MgdGhpcyBidWZmZXIgYXMgcmVxdWlyaW5nIGFuIHVwbG9hZCB0byB0aGUgR1BVXG4gICAgICogQHBhcmFtIHtBcnJheUJ1ZmZlcnxTaGFyZWRBcnJheUJ1ZmZlcnxBcnJheUJ1ZmZlclZpZXd9IFtkYXRhXSAtIHRoZSBkYXRhIHRvIHVwZGF0ZSBpbiB0aGUgYnVmZmVyLlxuICAgICAqL1xuICAgIHVwZGF0ZShkYXRhPzogSUFycmF5QnVmZmVyKTogdm9pZFxuICAgIHtcbiAgICAgICAgdGhpcy5kYXRhID0gKGRhdGEgYXMgSVR5cGVkQXJyYXkpIHx8IHRoaXMuZGF0YTtcbiAgICAgICAgdGhpcy5fdXBkYXRlSUQrKztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBkaXNwb3NlcyBXZWJHTCByZXNvdXJjZXMgdGhhdCBhcmUgY29ubmVjdGVkIHRvIHRoaXMgZ2VvbWV0cnlcbiAgICAgKi9cbiAgICBkaXNwb3NlKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHRoaXMuZGlzcG9zZVJ1bm5lci5lbWl0KHRoaXMsIGZhbHNlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgYnVmZmVyXG4gICAgICovXG4gICAgZGVzdHJveSgpOiB2b2lkXG4gICAge1xuICAgICAgICB0aGlzLmRpc3Bvc2UoKTtcblxuICAgICAgICB0aGlzLmRhdGEgPSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBidWZmZXIgYmFzZWQgb24gYW4gYXJyYXkgb3IgVHlwZWRBcnJheVxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7QXJyYXlCdWZmZXJWaWV3IHwgbnVtYmVyW119IGRhdGEgLSB0aGUgVHlwZWRBcnJheSB0aGF0IHRoZSBidWZmZXIgd2lsbCBzdG9yZS4gSWYgdGhpcyBpcyBhIHJlZ3VsYXIgQXJyYXkgaXQgd2lsbCBiZSBjb252ZXJ0ZWQgdG8gYSBGbG9hdDMyQXJyYXkuXG4gICAgICogQHJldHVybiB7UElYSS5CdWZmZXJ9IEEgbmV3IEJ1ZmZlciBiYXNlZCBvbiB0aGUgZGF0YSBwcm92aWRlZC5cbiAgICAgKi9cbiAgICBzdGF0aWMgZnJvbShkYXRhOiBJQXJyYXlCdWZmZXIgfCBudW1iZXJbXSk6IEJ1ZmZlclxuICAgIHtcbiAgICAgICAgaWYgKGRhdGEgaW5zdGFuY2VvZiBBcnJheSlcbiAgICAgICAge1xuICAgICAgICAgICAgZGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkoZGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IEJ1ZmZlcihkYXRhKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgdHlwZSB7IElUeXBlZEFycmF5IH0gZnJvbSAnLi4vQnVmZmVyJztcblxuZXhwb3J0IGZ1bmN0aW9uIGdldEJ1ZmZlclR5cGUoYXJyYXk6IElUeXBlZEFycmF5KTogc3RyaW5nfG51bGxcbntcbiAgICBpZiAoYXJyYXkuQllURVNfUEVSX0VMRU1FTlQgPT09IDQpXG4gICAge1xuICAgICAgICBpZiAoYXJyYXkgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiAnRmxvYXQzMkFycmF5JztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChhcnJheSBpbnN0YW5jZW9mIFVpbnQzMkFycmF5KVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gJ1VpbnQzMkFycmF5JztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAnSW50MzJBcnJheSc7XG4gICAgfVxuICAgIGVsc2UgaWYgKGFycmF5LkJZVEVTX1BFUl9FTEVNRU5UID09PSAyKVxuICAgIHtcbiAgICAgICAgaWYgKGFycmF5IGluc3RhbmNlb2YgVWludDE2QXJyYXkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiAnVWludDE2QXJyYXknO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKGFycmF5LkJZVEVTX1BFUl9FTEVNRU5UID09PSAxKVxuICAgIHtcbiAgICAgICAgaWYgKGFycmF5IGluc3RhbmNlb2YgVWludDhBcnJheSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuICdVaW50OEFycmF5JztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFRPRE8gbWFwIG91dCB0aGUgcmVzdCBvZiB0aGUgYXJyYXkgZWxlbWVudHMhXG4gICAgcmV0dXJuIG51bGw7XG59XG4iLCJpbXBvcnQgeyBnZXRCdWZmZXJUeXBlIH0gZnJvbSAnLi9nZXRCdWZmZXJUeXBlJztcblxuaW1wb3J0IHR5cGUgeyBJVHlwZWRBcnJheSB9IGZyb20gJy4uL0J1ZmZlcic7XG5pbXBvcnQgdHlwZSB7IERpY3QgfSBmcm9tICdAcGl4aS91dGlscyc7XG5cbi8qIGVzbGludC1kaXNhYmxlIG9iamVjdC1zaG9ydGhhbmQgKi9cbmNvbnN0IG1hcDogRGljdDxhbnk+ID0ge1xuICAgIEZsb2F0MzJBcnJheTogRmxvYXQzMkFycmF5LFxuICAgIFVpbnQzMkFycmF5OiBVaW50MzJBcnJheSxcbiAgICBJbnQzMkFycmF5OiBJbnQzMkFycmF5LFxuICAgIFVpbnQ4QXJyYXk6IFVpbnQ4QXJyYXksXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gaW50ZXJsZWF2ZVR5cGVkQXJyYXlzKGFycmF5czogQXJyYXk8SVR5cGVkQXJyYXk+LCBzaXplczogQXJyYXk8bnVtYmVyPik6IEZsb2F0MzJBcnJheVxue1xuICAgIGxldCBvdXRTaXplID0gMDtcbiAgICBsZXQgc3RyaWRlID0gMDtcbiAgICBjb25zdCB2aWV3czogRGljdDxhbnk+ID0ge307XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFycmF5cy5sZW5ndGg7IGkrKylcbiAgICB7XG4gICAgICAgIHN0cmlkZSArPSBzaXplc1tpXTtcbiAgICAgICAgb3V0U2l6ZSArPSBhcnJheXNbaV0ubGVuZ3RoO1xuICAgIH1cblxuICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcihvdXRTaXplICogNCk7XG5cbiAgICBsZXQgb3V0ID0gbnVsbDtcbiAgICBsZXQgbGl0dGxlT2Zmc2V0ID0gMDtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyYXlzLmxlbmd0aDsgaSsrKVxuICAgIHtcbiAgICAgICAgY29uc3Qgc2l6ZSA9IHNpemVzW2ldO1xuICAgICAgICBjb25zdCBhcnJheSA9IGFycmF5c1tpXTtcblxuICAgICAgICBjb25zdCB0eXBlID0gZ2V0QnVmZmVyVHlwZShhcnJheSk7XG5cbiAgICAgICAgaWYgKCF2aWV3c1t0eXBlXSlcbiAgICAgICAge1xuICAgICAgICAgICAgdmlld3NbdHlwZV0gPSBuZXcgbWFwW3R5cGVdKGJ1ZmZlcik7XG4gICAgICAgIH1cblxuICAgICAgICBvdXQgPSB2aWV3c1t0eXBlXTtcblxuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGFycmF5Lmxlbmd0aDsgaisrKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBpbmRleFN0YXJ0ID0gKChqIC8gc2l6ZSB8IDApICogc3RyaWRlKSArIGxpdHRsZU9mZnNldDtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gaiAlIHNpemU7XG5cbiAgICAgICAgICAgIG91dFtpbmRleFN0YXJ0ICsgaW5kZXhdID0gYXJyYXlbal07XG4gICAgICAgIH1cblxuICAgICAgICBsaXR0bGVPZmZzZXQgKz0gc2l6ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheShidWZmZXIpO1xufVxuIiwiaW1wb3J0IHsgQXR0cmlidXRlIH0gZnJvbSAnLi9BdHRyaWJ1dGUnO1xuaW1wb3J0IHsgQnVmZmVyIH0gZnJvbSAnLi9CdWZmZXInO1xuaW1wb3J0IHsgaW50ZXJsZWF2ZVR5cGVkQXJyYXlzIH0gZnJvbSAnLi91dGlscy9pbnRlcmxlYXZlVHlwZWRBcnJheXMnO1xuaW1wb3J0IHsgZ2V0QnVmZmVyVHlwZSB9IGZyb20gJy4vdXRpbHMvZ2V0QnVmZmVyVHlwZSc7XG5pbXBvcnQgeyBSdW5uZXIgfSBmcm9tICdAcGl4aS9ydW5uZXInO1xuXG5pbXBvcnQgdHlwZSB7IFRZUEVTIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmltcG9ydCB0eXBlIHsgSUFycmF5QnVmZmVyIH0gZnJvbSAnLi9CdWZmZXInO1xuaW1wb3J0IHR5cGUgeyBEaWN0IH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuXG5jb25zdCBieXRlU2l6ZU1hcDoge1trZXk6IG51bWJlcl06IG51bWJlcn0gPSB7IDUxMjY6IDQsIDUxMjM6IDIsIDUxMjE6IDEgfTtcbmxldCBVSUQgPSAwO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBvYmplY3Qtc2hvcnRoYW5kICovXG5jb25zdCBtYXA6IERpY3Q8YW55PiA9IHtcbiAgICBGbG9hdDMyQXJyYXk6IEZsb2F0MzJBcnJheSxcbiAgICBVaW50MzJBcnJheTogVWludDMyQXJyYXksXG4gICAgSW50MzJBcnJheTogSW50MzJBcnJheSxcbiAgICBVaW50OEFycmF5OiBVaW50OEFycmF5LFxuICAgIFVpbnQxNkFycmF5OiBVaW50MTZBcnJheSxcbn07XG5cbi8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cblxuLyoqXG4gKiBUaGUgR2VvbWV0cnkgcmVwcmVzZW50cyBhIG1vZGVsLiBJdCBjb25zaXN0cyBvZiB0d28gY29tcG9uZW50czpcbiAqIC0gR2VvbWV0cnlTdHlsZSAtIFRoZSBzdHJ1Y3R1cmUgb2YgdGhlIG1vZGVsIHN1Y2ggYXMgdGhlIGF0dHJpYnV0ZXMgbGF5b3V0XG4gKiAtIEdlb21ldHJ5RGF0YSAtIHRoZSBkYXRhIG9mIHRoZSBtb2RlbCAtIHRoaXMgY29uc2lzdHMgb2YgYnVmZmVycy5cbiAqIFRoaXMgY2FuIGluY2x1ZGUgYW55dGhpbmcgZnJvbSBwb3NpdGlvbnMsIHV2cywgbm9ybWFscywgY29sb3JzIGV0Yy5cbiAqXG4gKiBHZW9tZXRyeSBjYW4gYmUgZGVmaW5lZCB3aXRob3V0IHBhc3NpbmcgaW4gYSBzdHlsZSBvciBkYXRhIGlmIHJlcXVpcmVkICh0aGF0cyBob3cgSSBwcmVmZXIhKVxuICpcbiAqIGBgYGpzXG4gKiBsZXQgZ2VvbWV0cnkgPSBuZXcgUElYSS5HZW9tZXRyeSgpO1xuICpcbiAqIGdlb21ldHJ5LmFkZEF0dHJpYnV0ZSgncG9zaXRpb25zJywgWzAsIDAsIDEwMCwgMCwgMTAwLCAxMDAsIDAsIDEwMF0sIDIpO1xuICogZ2VvbWV0cnkuYWRkQXR0cmlidXRlKCd1dnMnLCBbMCwwLDEsMCwxLDEsMCwxXSwyKVxuICogZ2VvbWV0cnkuYWRkSW5kZXgoWzAsMSwyLDEsMywyXSlcbiAqXG4gKiBgYGBcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGNsYXNzIEdlb21ldHJ5XG57XG4gICAgcHVibGljIGJ1ZmZlcnM6IEFycmF5PEJ1ZmZlcj47XG4gICAgcHVibGljIGluZGV4QnVmZmVyOiBCdWZmZXI7XG4gICAgcHVibGljIGF0dHJpYnV0ZXM6IHtba2V5OiBzdHJpbmddOiBBdHRyaWJ1dGV9O1xuICAgIHB1YmxpYyBpZDogbnVtYmVyO1xuICAgIHB1YmxpYyBpbnN0YW5jZWQ6IGJvb2xlYW47XG4gICAgcHVibGljIGluc3RhbmNlQ291bnQ6IG51bWJlcjtcbiAgICBnbFZlcnRleEFycmF5T2JqZWN0czoge1trZXk6IG51bWJlcl06IHtba2V5OiBzdHJpbmddOiBXZWJHTFZlcnRleEFycmF5T2JqZWN0fX07XG4gICAgZGlzcG9zZVJ1bm5lcjogUnVubmVyO1xuICAgIHJlZkNvdW50OiBudW1iZXI7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLkJ1ZmZlcltdfSBbYnVmZmVyc10gLSBhbiBhcnJheSBvZiBidWZmZXJzLiBvcHRpb25hbC5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW2F0dHJpYnV0ZXNdIC0gb2YgdGhlIGdlb21ldHJ5LCBvcHRpb25hbCBzdHJ1Y3R1cmUgb2YgdGhlIGF0dHJpYnV0ZXMgbGF5b3V0XG4gICAgICovXG4gICAgY29uc3RydWN0b3IoYnVmZmVyczogQXJyYXk8QnVmZmVyPiA9IFtdLCBhdHRyaWJ1dGVzOiB7W2tleTogc3RyaW5nXTogQXR0cmlidXRlfSA9IHt9KVxuICAgIHtcbiAgICAgICAgdGhpcy5idWZmZXJzID0gYnVmZmVycztcblxuICAgICAgICB0aGlzLmluZGV4QnVmZmVyID0gbnVsbDtcblxuICAgICAgICB0aGlzLmF0dHJpYnV0ZXMgPSBhdHRyaWJ1dGVzO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIG1hcCBvZiByZW5kZXJlciBJRHMgdG8gd2ViZ2wgVkFPc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmdsVmVydGV4QXJyYXlPYmplY3RzID0ge307XG5cbiAgICAgICAgdGhpcy5pZCA9IFVJRCsrO1xuXG4gICAgICAgIHRoaXMuaW5zdGFuY2VkID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE51bWJlciBvZiBpbnN0YW5jZXMgaW4gdGhpcyBnZW9tZXRyeSwgcGFzcyBpdCB0byBgR2VvbWV0cnlTeXN0ZW0uZHJhdygpYFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaW5zdGFuY2VDb3VudCA9IDE7XG5cbiAgICAgICAgdGhpcy5kaXNwb3NlUnVubmVyID0gbmV3IFJ1bm5lcignZGlzcG9zZUdlb21ldHJ5Jyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvdW50IG9mIGV4aXN0aW5nIChub3QgZGVzdHJveWVkKSBtZXNoZXMgdGhhdCByZWZlcmVuY2UgdGhpcyBnZW9tZXRyeVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlZkNvdW50ID0gMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAqXG4gICAgKiBBZGRzIGFuIGF0dHJpYnV0ZSB0byB0aGUgZ2VvbWV0cnlcbiAgICAqIE5vdGU6IGBzdHJpZGVgIGFuZCBgc3RhcnRgIHNob3VsZCBiZSBgdW5kZWZpbmVkYCBpZiB5b3UgZG9udCBrbm93IHRoZW0sIG5vdCAwIVxuICAgICpcbiAgICAqIEBwYXJhbSB7U3RyaW5nfSBpZCAtIHRoZSBuYW1lIG9mIHRoZSBhdHRyaWJ1dGUgKG1hdGNoaW5nIHVwIHRvIGEgc2hhZGVyKVxuICAgICogQHBhcmFtIHtQSVhJLkJ1ZmZlcnxudW1iZXJbXX0gW2J1ZmZlcl0gLSB0aGUgYnVmZmVyIHRoYXQgaG9sZHMgdGhlIGRhdGEgb2YgdGhlIGF0dHJpYnV0ZSAuIFlvdSBjYW4gYWxzbyBwcm92aWRlIGFuIEFycmF5IGFuZCBhIGJ1ZmZlciB3aWxsIGJlIGNyZWF0ZWQgZnJvbSBpdC5cbiAgICAqIEBwYXJhbSB7TnVtYmVyfSBbc2l6ZT0wXSAtIHRoZSBzaXplIG9mIHRoZSBhdHRyaWJ1dGUuIElmIHlvdSBoYXZlIDIgZmxvYXRzIHBlciB2ZXJ0ZXggKGVnIHBvc2l0aW9uIHggYW5kIHkpIHRoaXMgd291bGQgYmUgMlxuICAgICogQHBhcmFtIHtCb29sZWFufSBbbm9ybWFsaXplZD1mYWxzZV0gLSBzaG91bGQgdGhlIGRhdGEgYmUgbm9ybWFsaXplZC5cbiAgICAqIEBwYXJhbSB7TnVtYmVyfSBbdHlwZT1QSVhJLlRZUEVTLkZMT0FUXSAtIHdoYXQgdHlwZSBvZiBudW1iZXIgaXMgdGhlIGF0dHJpYnV0ZS4gQ2hlY2sge1BJWEkuVFlQRVN9IHRvIHNlZSB0aGUgb25lcyBhdmFpbGFibGVcbiAgICAqIEBwYXJhbSB7TnVtYmVyfSBbc3RyaWRlXSAtIEhvdyBmYXIgYXBhcnQgKGluIGZsb2F0cykgdGhlIHN0YXJ0IG9mIGVhY2ggdmFsdWUgaXMuICh1c2VkIGZvciBpbnRlcmxlYXZpbmcgZGF0YSlcbiAgICAqIEBwYXJhbSB7TnVtYmVyfSBbc3RhcnRdIC0gSG93IGZhciBpbnRvIHRoZSBhcnJheSB0byBzdGFydCByZWFkaW5nIHZhbHVlcyAodXNlZCBmb3IgaW50ZXJsZWF2aW5nIGRhdGEpXG4gICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpbnN0YW5jZT1mYWxzZV0gLSBJbnN0YW5jaW5nIGZsYWdcbiAgICAqXG4gICAgKiBAcmV0dXJuIHtQSVhJLkdlb21ldHJ5fSByZXR1cm5zIHNlbGYsIHVzZWZ1bCBmb3IgY2hhaW5pbmcuXG4gICAgKi9cbiAgICBhZGRBdHRyaWJ1dGUoaWQ6IHN0cmluZywgYnVmZmVyOiBCdWZmZXJ8RmxvYXQzMkFycmF5fFVpbnQzMkFycmF5fEFycmF5PG51bWJlcj4sIHNpemUgPSAwLCBub3JtYWxpemVkID0gZmFsc2UsXG4gICAgICAgIHR5cGU/OiBUWVBFUywgc3RyaWRlPzogbnVtYmVyLCBzdGFydD86IG51bWJlciwgaW5zdGFuY2UgPSBmYWxzZSk6IHRoaXNcbiAgICB7XG4gICAgICAgIGlmICghYnVmZmVyKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1lvdSBtdXN0IHBhc3MgYSBidWZmZXIgd2hlbiBjcmVhdGluZyBhbiBhdHRyaWJ1dGUnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNoZWNrIGlmIHRoaXMgaXMgYSBidWZmZXIhXG4gICAgICAgIGlmICghKGJ1ZmZlciBpbnN0YW5jZW9mIEJ1ZmZlcikpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIGl0cyBhbiBhcnJheSFcbiAgICAgICAgICAgIGlmIChidWZmZXIgaW5zdGFuY2VvZiBBcnJheSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBidWZmZXIgPSBuZXcgRmxvYXQzMkFycmF5KGJ1ZmZlcik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJ1ZmZlciA9IG5ldyBCdWZmZXIoYnVmZmVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGlkcyA9IGlkLnNwbGl0KCd8Jyk7XG5cbiAgICAgICAgaWYgKGlkcy5sZW5ndGggPiAxKVxuICAgICAgICB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGlkcy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZEF0dHJpYnV0ZShpZHNbaV0sIGJ1ZmZlciwgc2l6ZSwgbm9ybWFsaXplZCwgdHlwZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGJ1ZmZlckluZGV4ID0gdGhpcy5idWZmZXJzLmluZGV4T2YoYnVmZmVyKTtcblxuICAgICAgICBpZiAoYnVmZmVySW5kZXggPT09IC0xKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlcnMucHVzaChidWZmZXIpO1xuICAgICAgICAgICAgYnVmZmVySW5kZXggPSB0aGlzLmJ1ZmZlcnMubGVuZ3RoIC0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYXR0cmlidXRlc1tpZF0gPSBuZXcgQXR0cmlidXRlKGJ1ZmZlckluZGV4LCBzaXplLCBub3JtYWxpemVkLCB0eXBlLCBzdHJpZGUsIHN0YXJ0LCBpbnN0YW5jZSk7XG5cbiAgICAgICAgLy8gYXNzdW1pbmcgdGhhdCBpZiB0aGVyZSBpcyBpbnN0YW5jZWQgZGF0YSB0aGVuIHRoaXMgd2lsbCBiZSBkcmF3biB3aXRoIGluc3RhbmNpbmchXG4gICAgICAgIHRoaXMuaW5zdGFuY2VkID0gdGhpcy5pbnN0YW5jZWQgfHwgaW5zdGFuY2U7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogcmV0dXJucyB0aGUgcmVxdWVzdGVkIGF0dHJpYnV0ZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGlkIC0gdGhlIG5hbWUgb2YgdGhlIGF0dHJpYnV0ZSByZXF1aXJlZFxuICAgICAqIEByZXR1cm4ge1BJWEkuQXR0cmlidXRlfSB0aGUgYXR0cmlidXRlIHJlcXVlc3RlZC5cbiAgICAgKi9cbiAgICBnZXRBdHRyaWJ1dGUoaWQ6IHN0cmluZyk6IEF0dHJpYnV0ZVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXR0cmlidXRlc1tpZF07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogcmV0dXJucyB0aGUgcmVxdWVzdGVkIGJ1ZmZlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGlkIC0gdGhlIG5hbWUgb2YgdGhlIGJ1ZmZlciByZXF1aXJlZFxuICAgICAqIEByZXR1cm4ge1BJWEkuQnVmZmVyfSB0aGUgYnVmZmVyIHJlcXVlc3RlZC5cbiAgICAgKi9cbiAgICBnZXRCdWZmZXIoaWQ6IHN0cmluZyk6IEJ1ZmZlclxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYnVmZmVyc1t0aGlzLmdldEF0dHJpYnV0ZShpZCkuYnVmZmVyXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAqXG4gICAgKiBBZGRzIGFuIGluZGV4IGJ1ZmZlciB0byB0aGUgZ2VvbWV0cnlcbiAgICAqIFRoZSBpbmRleCBidWZmZXIgY29udGFpbnMgaW50ZWdlcnMsIHRocmVlIGZvciBlYWNoIHRyaWFuZ2xlIGluIHRoZSBnZW9tZXRyeSwgd2hpY2ggcmVmZXJlbmNlIHRoZSB2YXJpb3VzIGF0dHJpYnV0ZSBidWZmZXJzIChwb3NpdGlvbiwgY29sb3VyLCBVViBjb29yZGluYXRlcywgb3RoZXIgVVYgY29vcmRpbmF0ZXMsIG5vcm1hbCwg4oCmKS4gVGhlcmUgaXMgb25seSBPTkUgaW5kZXggYnVmZmVyLlxuICAgICpcbiAgICAqIEBwYXJhbSB7UElYSS5CdWZmZXJ8bnVtYmVyW119IFtidWZmZXJdIC0gdGhlIGJ1ZmZlciB0aGF0IGhvbGRzIHRoZSBkYXRhIG9mIHRoZSBpbmRleCBidWZmZXIuIFlvdSBjYW4gYWxzbyBwcm92aWRlIGFuIEFycmF5IGFuZCBhIGJ1ZmZlciB3aWxsIGJlIGNyZWF0ZWQgZnJvbSBpdC5cbiAgICAqIEByZXR1cm4ge1BJWEkuR2VvbWV0cnl9IHJldHVybnMgc2VsZiwgdXNlZnVsIGZvciBjaGFpbmluZy5cbiAgICAqL1xuICAgIGFkZEluZGV4KGJ1ZmZlcj86IEJ1ZmZlciB8IElBcnJheUJ1ZmZlciB8IG51bWJlcltdKTogR2VvbWV0cnlcbiAgICB7XG4gICAgICAgIGlmICghKGJ1ZmZlciBpbnN0YW5jZW9mIEJ1ZmZlcikpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIGl0cyBhbiBhcnJheSFcbiAgICAgICAgICAgIGlmIChidWZmZXIgaW5zdGFuY2VvZiBBcnJheSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBidWZmZXIgPSBuZXcgVWludDE2QXJyYXkoYnVmZmVyKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYnVmZmVyID0gbmV3IEJ1ZmZlcihidWZmZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgYnVmZmVyLmluZGV4ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5pbmRleEJ1ZmZlciA9IGJ1ZmZlcjtcblxuICAgICAgICBpZiAodGhpcy5idWZmZXJzLmluZGV4T2YoYnVmZmVyKSA9PT0gLTEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuYnVmZmVycy5wdXNoKGJ1ZmZlcik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiByZXR1cm5zIHRoZSBpbmRleCBidWZmZXJcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuQnVmZmVyfSB0aGUgaW5kZXggYnVmZmVyLlxuICAgICAqL1xuICAgIGdldEluZGV4KCk6IEJ1ZmZlclxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5kZXhCdWZmZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogdGhpcyBmdW5jdGlvbiBtb2RpZmllcyB0aGUgc3RydWN0dXJlIHNvIHRoYXQgYWxsIGN1cnJlbnQgYXR0cmlidXRlcyBiZWNvbWUgaW50ZXJsZWF2ZWQgaW50byBhIHNpbmdsZSBidWZmZXJcbiAgICAgKiBUaGlzIGNhbiBiZSB1c2VmdWwgaWYgeW91ciBtb2RlbCByZW1haW5zIHN0YXRpYyBhcyBpdCBvZmZlcnMgYSBsaXR0bGUgcGVyZm9ybWFuY2UgYm9vc3RcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuR2VvbWV0cnl9IHJldHVybnMgc2VsZiwgdXNlZnVsIGZvciBjaGFpbmluZy5cbiAgICAgKi9cbiAgICBpbnRlcmxlYXZlKCk6IEdlb21ldHJ5XG4gICAge1xuICAgICAgICAvLyBhIHNpbXBsZSBjaGVjayB0byBzZWUgaWYgYnVmZmVycyBhcmUgYWxyZWFkeSBpbnRlcmxlYXZlZC4uXG4gICAgICAgIGlmICh0aGlzLmJ1ZmZlcnMubGVuZ3RoID09PSAxIHx8ICh0aGlzLmJ1ZmZlcnMubGVuZ3RoID09PSAyICYmIHRoaXMuaW5kZXhCdWZmZXIpKSByZXR1cm4gdGhpcztcblxuICAgICAgICAvLyBhc3N1bWUgYWxyZWFkeSB0aGF0IG5vIGJ1ZmZlcnMgYXJlIGludGVybGVhdmVkXG4gICAgICAgIGNvbnN0IGFycmF5cyA9IFtdO1xuICAgICAgICBjb25zdCBzaXplcyA9IFtdO1xuICAgICAgICBjb25zdCBpbnRlcmxlYXZlZEJ1ZmZlciA9IG5ldyBCdWZmZXIoKTtcbiAgICAgICAgbGV0IGk7XG5cbiAgICAgICAgZm9yIChpIGluIHRoaXMuYXR0cmlidXRlcylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgYXR0cmlidXRlID0gdGhpcy5hdHRyaWJ1dGVzW2ldO1xuXG4gICAgICAgICAgICBjb25zdCBidWZmZXIgPSB0aGlzLmJ1ZmZlcnNbYXR0cmlidXRlLmJ1ZmZlcl07XG5cbiAgICAgICAgICAgIGFycmF5cy5wdXNoKGJ1ZmZlci5kYXRhKTtcblxuICAgICAgICAgICAgc2l6ZXMucHVzaCgoYXR0cmlidXRlLnNpemUgKiBieXRlU2l6ZU1hcFthdHRyaWJ1dGUudHlwZV0pIC8gNCk7XG5cbiAgICAgICAgICAgIGF0dHJpYnV0ZS5idWZmZXIgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgaW50ZXJsZWF2ZWRCdWZmZXIuZGF0YSA9IGludGVybGVhdmVUeXBlZEFycmF5cyhhcnJheXMsIHNpemVzKTtcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdGhpcy5idWZmZXJzLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5idWZmZXJzW2ldICE9PSB0aGlzLmluZGV4QnVmZmVyKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuYnVmZmVyc1tpXS5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmJ1ZmZlcnMgPSBbaW50ZXJsZWF2ZWRCdWZmZXJdO1xuXG4gICAgICAgIGlmICh0aGlzLmluZGV4QnVmZmVyKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlcnMucHVzaCh0aGlzLmluZGV4QnVmZmVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGdldFNpemUoKTogbnVtYmVyXG4gICAge1xuICAgICAgICBmb3IgKGNvbnN0IGkgaW4gdGhpcy5hdHRyaWJ1dGVzKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBhdHRyaWJ1dGUgPSB0aGlzLmF0dHJpYnV0ZXNbaV07XG4gICAgICAgICAgICBjb25zdCBidWZmZXIgPSB0aGlzLmJ1ZmZlcnNbYXR0cmlidXRlLmJ1ZmZlcl07XG5cbiAgICAgICAgICAgIHJldHVybiAoYnVmZmVyLmRhdGEgYXMgYW55KS5sZW5ndGggLyAoKGF0dHJpYnV0ZS5zdHJpZGUgLyA0KSB8fCBhdHRyaWJ1dGUuc2l6ZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBkaXNwb3NlcyBXZWJHTCByZXNvdXJjZXMgdGhhdCBhcmUgY29ubmVjdGVkIHRvIHRoaXMgZ2VvbWV0cnlcbiAgICAgKi9cbiAgICBkaXNwb3NlKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHRoaXMuZGlzcG9zZVJ1bm5lci5lbWl0KHRoaXMsIGZhbHNlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgZ2VvbWV0cnkuXG4gICAgICovXG4gICAgZGVzdHJveSgpOiB2b2lkXG4gICAge1xuICAgICAgICB0aGlzLmRpc3Bvc2UoKTtcblxuICAgICAgICB0aGlzLmJ1ZmZlcnMgPSBudWxsO1xuICAgICAgICB0aGlzLmluZGV4QnVmZmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVzID0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiByZXR1cm5zIGEgY2xvbmUgb2YgdGhlIGdlb21ldHJ5XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7UElYSS5HZW9tZXRyeX0gYSBuZXcgY2xvbmUgb2YgdGhpcyBnZW9tZXRyeVxuICAgICAqL1xuICAgIGNsb25lKCk6IEdlb21ldHJ5XG4gICAge1xuICAgICAgICBjb25zdCBnZW9tZXRyeSA9IG5ldyBHZW9tZXRyeSgpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5idWZmZXJzLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBnZW9tZXRyeS5idWZmZXJzW2ldID0gbmV3IEJ1ZmZlcih0aGlzLmJ1ZmZlcnNbaV0uZGF0YS5zbGljZSgwKSk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGNvbnN0IGkgaW4gdGhpcy5hdHRyaWJ1dGVzKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBhdHRyaWIgPSB0aGlzLmF0dHJpYnV0ZXNbaV07XG5cbiAgICAgICAgICAgIGdlb21ldHJ5LmF0dHJpYnV0ZXNbaV0gPSBuZXcgQXR0cmlidXRlKFxuICAgICAgICAgICAgICAgIGF0dHJpYi5idWZmZXIsXG4gICAgICAgICAgICAgICAgYXR0cmliLnNpemUsXG4gICAgICAgICAgICAgICAgYXR0cmliLm5vcm1hbGl6ZWQsXG4gICAgICAgICAgICAgICAgYXR0cmliLnR5cGUsXG4gICAgICAgICAgICAgICAgYXR0cmliLnN0cmlkZSxcbiAgICAgICAgICAgICAgICBhdHRyaWIuc3RhcnQsXG4gICAgICAgICAgICAgICAgYXR0cmliLmluc3RhbmNlXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuaW5kZXhCdWZmZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdlb21ldHJ5LmluZGV4QnVmZmVyID0gZ2VvbWV0cnkuYnVmZmVyc1t0aGlzLmJ1ZmZlcnMuaW5kZXhPZih0aGlzLmluZGV4QnVmZmVyKV07XG4gICAgICAgICAgICBnZW9tZXRyeS5pbmRleEJ1ZmZlci5pbmRleCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZ2VvbWV0cnk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogbWVyZ2VzIGFuIGFycmF5IG9mIGdlb21ldHJpZXMgaW50byBhIG5ldyBzaW5nbGUgb25lXG4gICAgICogZ2VvbWV0cnkgYXR0cmlidXRlIHN0eWxlcyBtdXN0IG1hdGNoIGZvciB0aGlzIG9wZXJhdGlvbiB0byB3b3JrXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuR2VvbWV0cnlbXX0gZ2VvbWV0cmllcyAtIGFycmF5IG9mIGdlb21ldHJpZXMgdG8gbWVyZ2VcbiAgICAgKiBAcmV0dXJucyB7UElYSS5HZW9tZXRyeX0gc2hpbnkgbmV3IGdlb21ldHJ5IVxuICAgICAqL1xuICAgIHN0YXRpYyBtZXJnZShnZW9tZXRyaWVzOiBBcnJheTxHZW9tZXRyeT4pOiBHZW9tZXRyeVxuICAgIHtcbiAgICAgICAgLy8gdG9kbyBhZGQgYSBnZW9tZXRyeSBjaGVjayFcbiAgICAgICAgLy8gYWxzbyBhIHNpemUgY2hlY2suLiBjYW50IGJlIHRvbyBiaWchXVxuXG4gICAgICAgIGNvbnN0IGdlb21ldHJ5T3V0ID0gbmV3IEdlb21ldHJ5KCk7XG5cbiAgICAgICAgY29uc3QgYXJyYXlzID0gW107XG4gICAgICAgIGNvbnN0IHNpemVzOiBBcnJheTxudW1iZXI+ID0gW107XG4gICAgICAgIGNvbnN0IG9mZnNldHMgPSBbXTtcblxuICAgICAgICBsZXQgZ2VvbWV0cnk7XG5cbiAgICAgICAgLy8gcGFzcyBvbmUuLiBnZXQgc2l6ZXMuLlxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGdlb21ldHJpZXMubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdlb21ldHJ5ID0gZ2VvbWV0cmllc1tpXTtcblxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBnZW9tZXRyeS5idWZmZXJzLmxlbmd0aDsgaisrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNpemVzW2pdID0gc2l6ZXNbal0gfHwgMDtcbiAgICAgICAgICAgICAgICBzaXplc1tqXSArPSBnZW9tZXRyeS5idWZmZXJzW2pdLmRhdGEubGVuZ3RoO1xuICAgICAgICAgICAgICAgIG9mZnNldHNbal0gPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gYnVpbGQgdGhlIGNvcnJlY3Qgc2l6ZSBhcnJheXMuLlxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGdlb21ldHJ5LmJ1ZmZlcnMubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIFRPRE8gdHlwZXMhXG4gICAgICAgICAgICBhcnJheXNbaV0gPSBuZXcgbWFwW2dldEJ1ZmZlclR5cGUoZ2VvbWV0cnkuYnVmZmVyc1tpXS5kYXRhKV0oc2l6ZXNbaV0pO1xuICAgICAgICAgICAgZ2VvbWV0cnlPdXQuYnVmZmVyc1tpXSA9IG5ldyBCdWZmZXIoYXJyYXlzW2ldKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHBhc3MgdG8gc2V0IGRhdGEuLlxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGdlb21ldHJpZXMubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdlb21ldHJ5ID0gZ2VvbWV0cmllc1tpXTtcblxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBnZW9tZXRyeS5idWZmZXJzLmxlbmd0aDsgaisrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGFycmF5c1tqXS5zZXQoZ2VvbWV0cnkuYnVmZmVyc1tqXS5kYXRhLCBvZmZzZXRzW2pdKTtcbiAgICAgICAgICAgICAgICBvZmZzZXRzW2pdICs9IGdlb21ldHJ5LmJ1ZmZlcnNbal0uZGF0YS5sZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBnZW9tZXRyeU91dC5hdHRyaWJ1dGVzID0gZ2VvbWV0cnkuYXR0cmlidXRlcztcblxuICAgICAgICBpZiAoZ2VvbWV0cnkuaW5kZXhCdWZmZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdlb21ldHJ5T3V0LmluZGV4QnVmZmVyID0gZ2VvbWV0cnlPdXQuYnVmZmVyc1tnZW9tZXRyeS5idWZmZXJzLmluZGV4T2YoZ2VvbWV0cnkuaW5kZXhCdWZmZXIpXTtcbiAgICAgICAgICAgIGdlb21ldHJ5T3V0LmluZGV4QnVmZmVyLmluZGV4ID0gdHJ1ZTtcblxuICAgICAgICAgICAgbGV0IG9mZnNldCA9IDA7XG4gICAgICAgICAgICBsZXQgc3RyaWRlID0gMDtcbiAgICAgICAgICAgIGxldCBvZmZzZXQyID0gMDtcbiAgICAgICAgICAgIGxldCBidWZmZXJJbmRleFRvQ291bnQgPSAwO1xuXG4gICAgICAgICAgICAvLyBnZXQgYSBidWZmZXJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ2VvbWV0cnkuYnVmZmVycy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoZ2VvbWV0cnkuYnVmZmVyc1tpXSAhPT0gZ2VvbWV0cnkuaW5kZXhCdWZmZXIpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBidWZmZXJJbmRleFRvQ291bnQgPSBpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGZpZ3VyZSBvdXQgdGhlIHN0cmlkZSBvZiBvbmUgYnVmZmVyLi5cbiAgICAgICAgICAgIGZvciAoY29uc3QgaSBpbiBnZW9tZXRyeS5hdHRyaWJ1dGVzKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IGF0dHJpYnV0ZSA9IGdlb21ldHJ5LmF0dHJpYnV0ZXNbaV07XG5cbiAgICAgICAgICAgICAgICBpZiAoKGF0dHJpYnV0ZS5idWZmZXIgfCAwKSA9PT0gYnVmZmVySW5kZXhUb0NvdW50KVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgc3RyaWRlICs9ICgoYXR0cmlidXRlLnNpemUgKiBieXRlU2l6ZU1hcFthdHRyaWJ1dGUudHlwZV0pIC8gNCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyB0aW1lIHRvIG9mZiBzZXQgYWxsIGluZGV4ZXMuLlxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBnZW9tZXRyaWVzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4QnVmZmVyRGF0YSA9IGdlb21ldHJpZXNbaV0uaW5kZXhCdWZmZXIuZGF0YTtcblxuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgaW5kZXhCdWZmZXJEYXRhLmxlbmd0aDsgaisrKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZ2VvbWV0cnlPdXQuaW5kZXhCdWZmZXIuZGF0YVtqICsgb2Zmc2V0Ml0gKz0gb2Zmc2V0O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIG9mZnNldCArPSBnZW9tZXRyeS5idWZmZXJzW2J1ZmZlckluZGV4VG9Db3VudF0uZGF0YS5sZW5ndGggLyAoc3RyaWRlKTtcbiAgICAgICAgICAgICAgICBvZmZzZXQyICs9IGluZGV4QnVmZmVyRGF0YS5sZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZ2VvbWV0cnlPdXQ7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgR2VvbWV0cnkgfSBmcm9tICcuLi9nZW9tZXRyeS9HZW9tZXRyeSc7XG5cbi8qKlxuICogSGVscGVyIGNsYXNzIHRvIGNyZWF0ZSBhIHF1YWRcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBjbGFzcyBRdWFkIGV4dGVuZHMgR2VvbWV0cnlcbntcbiAgICBjb25zdHJ1Y3RvcigpXG4gICAge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMuYWRkQXR0cmlidXRlKCdhVmVydGV4UG9zaXRpb24nLCBuZXcgRmxvYXQzMkFycmF5KFtcbiAgICAgICAgICAgIDAsIDAsXG4gICAgICAgICAgICAxLCAwLFxuICAgICAgICAgICAgMSwgMSxcbiAgICAgICAgICAgIDAsIDEsXG4gICAgICAgIF0pKVxuICAgICAgICAgICAgLmFkZEluZGV4KFswLCAxLCAzLCAyXSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgR2VvbWV0cnkgfSBmcm9tICcuLi9nZW9tZXRyeS9HZW9tZXRyeSc7XG5pbXBvcnQgeyBCdWZmZXIgfSBmcm9tICcuLi9nZW9tZXRyeS9CdWZmZXInO1xuXG5pbXBvcnQgdHlwZSB7IFJlY3RhbmdsZSB9IGZyb20gJ0BwaXhpL21hdGgnO1xuXG4vKipcbiAqIEhlbHBlciBjbGFzcyB0byBjcmVhdGUgYSBxdWFkIHdpdGggdXZzIGxpa2UgaW4gdjRcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZXh0ZW5kcyBQSVhJLkdlb21ldHJ5XG4gKi9cbmV4cG9ydCBjbGFzcyBRdWFkVXYgZXh0ZW5kcyBHZW9tZXRyeVxue1xuICAgIHZlcnRleEJ1ZmZlcjogQnVmZmVyO1xuICAgIHV2QnVmZmVyOiBCdWZmZXI7XG4gICAgdmVydGljZXM6IEZsb2F0MzJBcnJheTtcbiAgICB1dnM6IEZsb2F0MzJBcnJheTtcblxuICAgIGNvbnN0cnVjdG9yKClcbiAgICB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIGFycmF5IG9mIHZlcnRpY2VzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudmVydGljZXMgPSBuZXcgRmxvYXQzMkFycmF5KFtcbiAgICAgICAgICAgIC0xLCAtMSxcbiAgICAgICAgICAgIDEsIC0xLFxuICAgICAgICAgICAgMSwgMSxcbiAgICAgICAgICAgIC0xLCAxLFxuICAgICAgICBdKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFV2cyBvZiB0aGUgcXVhZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnV2cyA9IG5ldyBGbG9hdDMyQXJyYXkoW1xuICAgICAgICAgICAgMCwgMCxcbiAgICAgICAgICAgIDEsIDAsXG4gICAgICAgICAgICAxLCAxLFxuICAgICAgICAgICAgMCwgMSxcbiAgICAgICAgXSk7XG5cbiAgICAgICAgdGhpcy52ZXJ0ZXhCdWZmZXIgPSBuZXcgQnVmZmVyKHRoaXMudmVydGljZXMpO1xuICAgICAgICB0aGlzLnV2QnVmZmVyID0gbmV3IEJ1ZmZlcih0aGlzLnV2cyk7XG5cbiAgICAgICAgdGhpcy5hZGRBdHRyaWJ1dGUoJ2FWZXJ0ZXhQb3NpdGlvbicsIHRoaXMudmVydGV4QnVmZmVyKVxuICAgICAgICAgICAgLmFkZEF0dHJpYnV0ZSgnYVRleHR1cmVDb29yZCcsIHRoaXMudXZCdWZmZXIpXG4gICAgICAgICAgICAuYWRkSW5kZXgoWzAsIDEsIDIsIDAsIDIsIDNdKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNYXBzIHR3byBSZWN0YW5nbGUgdG8gdGhlIHF1YWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSB0YXJnZXRUZXh0dXJlRnJhbWUgLSB0aGUgZmlyc3QgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gZGVzdGluYXRpb25GcmFtZSAtIHRoZSBzZWNvbmQgcmVjdGFuZ2xlXG4gICAgICogQHJldHVybiB7UElYSS5RdWFkfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICBtYXAodGFyZ2V0VGV4dHVyZUZyYW1lOiBSZWN0YW5nbGUsIGRlc3RpbmF0aW9uRnJhbWU6IFJlY3RhbmdsZSk6IHRoaXNcbiAgICB7XG4gICAgICAgIGxldCB4ID0gMDsgLy8gZGVzdGluYXRpb25GcmFtZS54IC8gdGFyZ2V0VGV4dHVyZUZyYW1lLndpZHRoO1xuICAgICAgICBsZXQgeSA9IDA7IC8vIGRlc3RpbmF0aW9uRnJhbWUueSAvIHRhcmdldFRleHR1cmVGcmFtZS5oZWlnaHQ7XG5cbiAgICAgICAgdGhpcy51dnNbMF0gPSB4O1xuICAgICAgICB0aGlzLnV2c1sxXSA9IHk7XG5cbiAgICAgICAgdGhpcy51dnNbMl0gPSB4ICsgKGRlc3RpbmF0aW9uRnJhbWUud2lkdGggLyB0YXJnZXRUZXh0dXJlRnJhbWUud2lkdGgpO1xuICAgICAgICB0aGlzLnV2c1szXSA9IHk7XG5cbiAgICAgICAgdGhpcy51dnNbNF0gPSB4ICsgKGRlc3RpbmF0aW9uRnJhbWUud2lkdGggLyB0YXJnZXRUZXh0dXJlRnJhbWUud2lkdGgpO1xuICAgICAgICB0aGlzLnV2c1s1XSA9IHkgKyAoZGVzdGluYXRpb25GcmFtZS5oZWlnaHQgLyB0YXJnZXRUZXh0dXJlRnJhbWUuaGVpZ2h0KTtcblxuICAgICAgICB0aGlzLnV2c1s2XSA9IHg7XG4gICAgICAgIHRoaXMudXZzWzddID0geSArIChkZXN0aW5hdGlvbkZyYW1lLmhlaWdodCAvIHRhcmdldFRleHR1cmVGcmFtZS5oZWlnaHQpO1xuXG4gICAgICAgIHggPSBkZXN0aW5hdGlvbkZyYW1lLng7XG4gICAgICAgIHkgPSBkZXN0aW5hdGlvbkZyYW1lLnk7XG5cbiAgICAgICAgdGhpcy52ZXJ0aWNlc1swXSA9IHg7XG4gICAgICAgIHRoaXMudmVydGljZXNbMV0gPSB5O1xuXG4gICAgICAgIHRoaXMudmVydGljZXNbMl0gPSB4ICsgZGVzdGluYXRpb25GcmFtZS53aWR0aDtcbiAgICAgICAgdGhpcy52ZXJ0aWNlc1szXSA9IHk7XG5cbiAgICAgICAgdGhpcy52ZXJ0aWNlc1s0XSA9IHggKyBkZXN0aW5hdGlvbkZyYW1lLndpZHRoO1xuICAgICAgICB0aGlzLnZlcnRpY2VzWzVdID0geSArIGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0O1xuXG4gICAgICAgIHRoaXMudmVydGljZXNbNl0gPSB4O1xuICAgICAgICB0aGlzLnZlcnRpY2VzWzddID0geSArIGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0O1xuXG4gICAgICAgIHRoaXMuaW52YWxpZGF0ZSgpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGxlZ2FjeSB1cGxvYWQgbWV0aG9kLCBqdXN0IG1hcmtzIGJ1ZmZlcnMgZGlydHlcbiAgICAgKiBAcmV0dXJucyB7UElYSS5RdWFkVXZ9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuICAgIGludmFsaWRhdGUoKTogdGhpc1xuICAgIHtcbiAgICAgICAgdGhpcy52ZXJ0ZXhCdWZmZXIuX3VwZGF0ZUlEKys7XG4gICAgICAgIHRoaXMudXZCdWZmZXIuX3VwZGF0ZUlEKys7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuIiwiaW1wb3J0IHR5cGUgeyBEaWN0IH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuaW1wb3J0IHR5cGUgeyBVbmlmb3Jtc1N5bmNDYWxsYmFjayB9IGZyb20gJy4vdXRpbHMnO1xuXG5sZXQgVUlEID0gMDtcblxuLyoqXG4gKiBVbmlmb3JtIGdyb3VwIGhvbGRzIHVuaWZvcm0gbWFwIGFuZCBzb21lIElEJ3MgZm9yIHdvcmtcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBjbGFzcyBVbmlmb3JtR3JvdXBcbntcbiAgICBwdWJsaWMgcmVhZG9ubHkgdW5pZm9ybXM6IERpY3Q8YW55PjtcbiAgICBwdWJsaWMgcmVhZG9ubHkgZ3JvdXA6IGJvb2xlYW47XG4gICAgcHVibGljIGlkOiBudW1iZXI7XG4gICAgc3luY1VuaWZvcm1zOiBEaWN0PFVuaWZvcm1zU3luY0NhbGxiYWNrPjtcbiAgICBkaXJ0eUlkOiBudW1iZXI7XG4gICAgc3RhdGljOiBib29sZWFuO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFt1bmlmb3Jtc10gLSBDdXN0b20gdW5pZm9ybXMgdG8gdXNlIHRvIGF1Z21lbnQgdGhlIGJ1aWx0LWluIG9uZXMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbX3N0YXRpY10gLSBVbmlmb3JtcyB3b250IGJlIGNoYW5nZWQgYWZ0ZXIgY3JlYXRpb25cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih1bmlmb3JtczogRGljdDxhbnk+LCBfc3RhdGljPzogYm9vbGVhbilcbiAgICB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiB1bmlmb3JtIHZhbHVlc1xuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51bmlmb3JtcyA9IHVuaWZvcm1zO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJdHMgYSBncm91cCBhbmQgbm90IGEgc2luZ2xlIHVuaWZvcm1zXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmdyb3VwID0gdHJ1ZTtcblxuICAgICAgICAvLyBsZXRzIGdlbmVyYXRlIHRoaXMgd2hlbiB0aGUgc2hhZGVyID9cbiAgICAgICAgdGhpcy5zeW5jVW5pZm9ybXMgPSB7fTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogZGlydHkgdmVyc2lvblxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGlydHlJZCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHVuaXF1ZSBpZFxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaWQgPSBVSUQrKztcblxuICAgICAgICAvKipcbiAgICAgICAgICogVW5pZm9ybXMgd29udCBiZSBjaGFuZ2VkIGFmdGVyIGNyZWF0aW9uXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0YXRpYyA9ICEhX3N0YXRpYztcbiAgICB9XG5cbiAgICB1cGRhdGUoKTogdm9pZFxuICAgIHtcbiAgICAgICAgdGhpcy5kaXJ0eUlkKys7XG4gICAgfVxuXG4gICAgYWRkKG5hbWU6IHN0cmluZywgdW5pZm9ybXM6IERpY3Q8YW55PiwgX3N0YXRpYzogYm9vbGVhbik6IHZvaWRcbiAgICB7XG4gICAgICAgIHRoaXMudW5pZm9ybXNbbmFtZV0gPSBuZXcgVW5pZm9ybUdyb3VwKHVuaWZvcm1zLCBfc3RhdGljKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZnJvbSh1bmlmb3JtczogRGljdDxhbnk+LCBfc3RhdGljOiBib29sZWFuKTogVW5pZm9ybUdyb3VwXG4gICAge1xuICAgICAgICByZXR1cm4gbmV3IFVuaWZvcm1Hcm91cCh1bmlmb3JtcywgX3N0YXRpYyk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5cbmltcG9ydCB0eXBlIHsgRmlsdGVyIH0gZnJvbSAnLi9GaWx0ZXInO1xuaW1wb3J0IHR5cGUgeyBJRmlsdGVyVGFyZ2V0IH0gZnJvbSAnLi9JRmlsdGVyVGFyZ2V0JztcbmltcG9ydCB0eXBlIHsgUmVuZGVyVGV4dHVyZSB9IGZyb20gJy4uL3JlbmRlclRleHR1cmUvUmVuZGVyVGV4dHVyZSc7XG5cbi8qKlxuICogU3lzdGVtIHBsdWdpbiB0byB0aGUgcmVuZGVyZXIgdG8gbWFuYWdlIGZpbHRlciBzdGF0ZXMuXG4gKlxuICogQGNsYXNzXG4gKiBAcHJpdmF0ZVxuICovXG5leHBvcnQgY2xhc3MgRmlsdGVyU3RhdGVcbntcbiAgICByZW5kZXJUZXh0dXJlOiBSZW5kZXJUZXh0dXJlO1xuICAgIHRhcmdldDogSUZpbHRlclRhcmdldDtcbiAgICBsZWdhY3k6IGJvb2xlYW47XG4gICAgcmVzb2x1dGlvbjogbnVtYmVyO1xuICAgIHNvdXJjZUZyYW1lOiBSZWN0YW5nbGU7XG4gICAgZGVzdGluYXRpb25GcmFtZTogUmVjdGFuZ2xlO1xuICAgIGZpbHRlcnM6IEFycmF5PEZpbHRlcj47XG5cbiAgICBjb25zdHJ1Y3RvcigpXG4gICAge1xuICAgICAgICB0aGlzLnJlbmRlclRleHR1cmUgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUYXJnZXQgb2YgdGhlIGZpbHRlcnNcbiAgICAgICAgICogV2Ugc3RvcmUgZm9yIGNhc2Ugd2hlbiBjdXN0b20gZmlsdGVyIHdhbnRzIHRvIGtub3cgdGhlIGVsZW1lbnQgaXQgd2FzIGFwcGxpZWQgb25cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5EaXNwbGF5T2JqZWN0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50YXJnZXQgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb21wYXRpYmlsaXR5IHdpdGggUGl4aUpTIHY0IGZpbHRlcnNcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubGVnYWN5ID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlc29sdXRpb24gb2YgZmlsdGVyc1xuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVzb2x1dGlvbiA9IDE7XG5cbiAgICAgICAgLy8gbmV4dCB0aHJlZSBmaWVsZHMgYXJlIGNyZWF0ZWQgb25seSBmb3Igcm9vdFxuICAgICAgICAvLyByZS1hc3NpZ25lZCBmb3IgZXZlcnl0aGluZyBlbHNlXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNvdXJjZSBmcmFtZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc291cmNlRnJhbWUgPSBuZXcgUmVjdGFuZ2xlKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlc3RpbmF0aW9uIGZyYW1lXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbkZyYW1lID0gbmV3IFJlY3RhbmdsZSgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb2xsZWN0aW9uIG9mIGZpbHRlcnNcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5GaWx0ZXJbXX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmlsdGVycyA9IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGNsZWFycyB0aGUgc3RhdGVcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGNsZWFyKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5maWx0ZXJzID0gbnVsbDtcbiAgICAgICAgdGhpcy5yZW5kZXJUZXh0dXJlID0gbnVsbDtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBTeXN0ZW0gfSBmcm9tICcuLi9TeXN0ZW0nO1xuaW1wb3J0IHsgUmVuZGVyVGV4dHVyZVBvb2wgfSBmcm9tICcuLi9yZW5kZXJUZXh0dXJlL1JlbmRlclRleHR1cmVQb29sJztcbmltcG9ydCB7IFF1YWQgfSBmcm9tICcuLi91dGlscy9RdWFkJztcbmltcG9ydCB7IFF1YWRVdiB9IGZyb20gJy4uL3V0aWxzL1F1YWRVdic7XG5pbXBvcnQgeyBSZWN0YW5nbGUsIE1hdHJpeCB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IHsgVW5pZm9ybUdyb3VwIH0gZnJvbSAnLi4vc2hhZGVyL1VuaWZvcm1Hcm91cCc7XG5pbXBvcnQgeyBEUkFXX01PREVTLCBDTEVBUl9NT0RFUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBkZXByZWNhdGlvbiB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCB7IEZpbHRlclN0YXRlIH0gZnJvbSAnLi9GaWx0ZXJTdGF0ZSc7XG5cbmltcG9ydCB0eXBlIHsgRmlsdGVyIH0gZnJvbSAnLi9GaWx0ZXInO1xuaW1wb3J0IHR5cGUgeyBJRmlsdGVyVGFyZ2V0IH0gZnJvbSAnLi9JRmlsdGVyVGFyZ2V0JztcbmltcG9ydCB0eXBlIHsgSVNwcml0ZU1hc2tUYXJnZXQgfSBmcm9tICcuL3Nwcml0ZU1hc2svU3ByaXRlTWFza0ZpbHRlcic7XG5pbXBvcnQgdHlwZSB7IFJlbmRlclRleHR1cmUgfSBmcm9tICcuLi9yZW5kZXJUZXh0dXJlL1JlbmRlclRleHR1cmUnO1xuaW1wb3J0IHR5cGUgeyBSZW5kZXJlciB9IGZyb20gJy4uL1JlbmRlcmVyJztcbi8qKlxuICogU3lzdGVtIHBsdWdpbiB0byB0aGUgcmVuZGVyZXIgdG8gbWFuYWdlIHRoZSBmaWx0ZXJzLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkuc3lzdGVtc1xuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqL1xuZXhwb3J0IGNsYXNzIEZpbHRlclN5c3RlbSBleHRlbmRzIFN5c3RlbVxue1xuICAgIHB1YmxpYyByZWFkb25seSBkZWZhdWx0RmlsdGVyU3RhY2s6IEFycmF5PEZpbHRlclN0YXRlPjtcbiAgICBwdWJsaWMgc3RhdGVQb29sOiBBcnJheTxGaWx0ZXJTdGF0ZT47XG4gICAgcHVibGljIHRleHR1cmVQb29sOiBSZW5kZXJUZXh0dXJlUG9vbDtcbiAgICBwdWJsaWMgZm9yY2VDbGVhcjogYm9vbGVhbjtcbiAgICBwdWJsaWMgdXNlTWF4UGFkZGluZzogYm9vbGVhbjtcbiAgICBwcm90ZWN0ZWQgcXVhZDogUXVhZDtcbiAgICBwcm90ZWN0ZWQgcXVhZFV2OiBRdWFkVXY7XG4gICAgcHJvdGVjdGVkIGFjdGl2ZVN0YXRlOiBGaWx0ZXJTdGF0ZTtcbiAgICBwcm90ZWN0ZWQgZ2xvYmFsVW5pZm9ybXM6IFVuaWZvcm1Hcm91cDtcbiAgICBwcml2YXRlIHRlbXBSZWN0OiBSZWN0YW5nbGU7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgU3lzdGVtIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihyZW5kZXJlcjogUmVuZGVyZXIpXG4gICAge1xuICAgICAgICBzdXBlcihyZW5kZXJlcik7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIExpc3Qgb2YgZmlsdGVycyBmb3IgdGhlIEZpbHRlclN5c3RlbVxuICAgICAgICAgKiBAbWVtYmVyIHtPYmplY3RbXX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRlZmF1bHRGaWx0ZXJTdGFjayA9IFt7fV0gYXMgYW55O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBzdG9yZXMgYSBidW5jaCBvZiBQTzIgdGV4dHVyZXMgdXNlZCBmb3IgZmlsdGVyaW5nXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGV4dHVyZVBvb2wgPSBuZXcgUmVuZGVyVGV4dHVyZVBvb2woKTtcblxuICAgICAgICB0aGlzLnRleHR1cmVQb29sLnNldFNjcmVlblNpemUocmVuZGVyZXIudmlldyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGEgcG9vbCBmb3Igc3RvcmluZyBmaWx0ZXIgc3RhdGVzLCBzYXZlIHVzIGNyZWF0aW5nIG5ldyBvbmVzIGVhY2ggdGlja1xuICAgICAgICAgKiBAbWVtYmVyIHtPYmplY3RbXX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RhdGVQb29sID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgdmVyeSBzaW1wbGUgZ2VvbWV0cnkgdXNlZCB3aGVuIGRyYXdpbmcgYSBmaWx0ZXIgZWZmZWN0IHRvIHRoZSBzY3JlZW5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5RdWFkfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5xdWFkID0gbmV3IFF1YWQoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUXVhZCBVVnNcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5RdWFkVXZ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnF1YWRVdiA9IG5ldyBRdWFkVXYoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGVtcG9yYXJ5IHJlY3QgZm9yIG1hdGhzXG4gICAgICAgICAqIEB0eXBlIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGVtcFJlY3QgPSBuZXcgUmVjdGFuZ2xlKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFjdGl2ZSBzdGF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmFjdGl2ZVN0YXRlID0ge30gYXMgYW55O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIHVuaWZvcm0gZ3JvdXAgaXMgYXR0YWNoZWQgdG8gZmlsdGVyIHVuaWZvcm1zIHdoZW4gdXNlZFxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlVuaWZvcm1Hcm91cH1cbiAgICAgICAgICogQHByb3BlcnR5IHtQSVhJLlJlY3RhbmdsZX0gb3V0cHV0RnJhbWVcbiAgICAgICAgICogQHByb3BlcnR5IHtGbG9hdDMyQXJyYXl9IGlucHV0U2l6ZVxuICAgICAgICAgKiBAcHJvcGVydHkge0Zsb2F0MzJBcnJheX0gaW5wdXRQaXhlbFxuICAgICAgICAgKiBAcHJvcGVydHkge0Zsb2F0MzJBcnJheX0gaW5wdXRDbGFtcFxuICAgICAgICAgKiBAcHJvcGVydHkge051bWJlcn0gcmVzb2x1dGlvblxuICAgICAgICAgKiBAcHJvcGVydHkge0Zsb2F0MzJBcnJheX0gZmlsdGVyQXJlYVxuICAgICAgICAgKiBAcHJvcGVydHkge0Zsb2FkMzJBcnJheX0gZmlsdGVyQ2xhbXBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZ2xvYmFsVW5pZm9ybXMgPSBuZXcgVW5pZm9ybUdyb3VwKHtcbiAgICAgICAgICAgIG91dHB1dEZyYW1lOiB0aGlzLnRlbXBSZWN0LFxuICAgICAgICAgICAgaW5wdXRTaXplOiBuZXcgRmxvYXQzMkFycmF5KDQpLFxuICAgICAgICAgICAgaW5wdXRQaXhlbDogbmV3IEZsb2F0MzJBcnJheSg0KSxcbiAgICAgICAgICAgIGlucHV0Q2xhbXA6IG5ldyBGbG9hdDMyQXJyYXkoNCksXG4gICAgICAgICAgICByZXNvbHV0aW9uOiAxLFxuXG4gICAgICAgICAgICAvLyBsZWdhY3kgdmFyaWFibGVzXG4gICAgICAgICAgICBmaWx0ZXJBcmVhOiBuZXcgRmxvYXQzMkFycmF5KDQpLFxuICAgICAgICAgICAgZmlsdGVyQ2xhbXA6IG5ldyBGbG9hdDMyQXJyYXkoNCksXG4gICAgICAgIH0sIHRydWUpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIHRvIGNsZWFyIG91dHB1dCByZW5kZXJUZXh0dXJlIGluIEFVVE8vQkxJVCBtb2RlLiBTZWUge0BsaW5rIFBJWEkuQ0xFQVJfTU9ERVN9XG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZvcmNlQ2xlYXIgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogT2xkIHBhZGRpbmcgYmVoYXZpb3IgaXMgdG8gdXNlIHRoZSBtYXggYW1vdW50IGluc3RlYWQgb2Ygc3VtIHBhZGRpbmcuXG4gICAgICAgICAqIFVzZSB0aGlzIGZsYWcgaWYgeW91IG5lZWQgdGhlIG9sZCBiZWhhdmlvci5cbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudXNlTWF4UGFkZGluZyA9IGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBuZXcgZmlsdGVyIHRvIHRoZSBTeXN0ZW0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gdGFyZ2V0IC0gVGhlIHRhcmdldCBvZiB0aGUgZmlsdGVyIHRvIHJlbmRlci5cbiAgICAgKiBAcGFyYW0ge1BJWEkuRmlsdGVyW119IGZpbHRlcnMgLSBUaGUgZmlsdGVycyB0byBhcHBseS5cbiAgICAgKi9cbiAgICBwdXNoKHRhcmdldDogSUZpbHRlclRhcmdldCwgZmlsdGVyczogQXJyYXk8RmlsdGVyPik6IHZvaWRcbiAgICB7XG4gICAgICAgIGNvbnN0IHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICAgICAgY29uc3QgZmlsdGVyU3RhY2sgPSB0aGlzLmRlZmF1bHRGaWx0ZXJTdGFjaztcbiAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLnN0YXRlUG9vbC5wb3AoKSB8fCBuZXcgRmlsdGVyU3RhdGUoKTtcblxuICAgICAgICBsZXQgcmVzb2x1dGlvbiA9IGZpbHRlcnNbMF0ucmVzb2x1dGlvbjtcbiAgICAgICAgbGV0IHBhZGRpbmcgPSBmaWx0ZXJzWzBdLnBhZGRpbmc7XG4gICAgICAgIGxldCBhdXRvRml0ID0gZmlsdGVyc1swXS5hdXRvRml0O1xuICAgICAgICBsZXQgbGVnYWN5ID0gZmlsdGVyc1swXS5sZWdhY3k7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBmaWx0ZXJzLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBmaWx0ZXIgPSAgZmlsdGVyc1tpXTtcblxuICAgICAgICAgICAgLy8gbGV0cyB1c2UgdGhlIGxvd2VzdCByZXNvbHV0aW9uLi5cbiAgICAgICAgICAgIHJlc29sdXRpb24gPSBNYXRoLm1pbihyZXNvbHV0aW9uLCBmaWx0ZXIucmVzb2x1dGlvbik7XG4gICAgICAgICAgICAvLyBmaWd1cmUgb3V0IHRoZSBwYWRkaW5nIHJlcXVpcmVkIGZvciBmaWx0ZXJzXG4gICAgICAgICAgICBwYWRkaW5nID0gdGhpcy51c2VNYXhQYWRkaW5nXG4gICAgICAgICAgICAgICAgLy8gb2xkIGJlaGF2aW9yOiB1c2UgbGFyZ2VzdCBhbW91bnQgb2YgcGFkZGluZyFcbiAgICAgICAgICAgICAgICA/IE1hdGgubWF4KHBhZGRpbmcsIGZpbHRlci5wYWRkaW5nKVxuICAgICAgICAgICAgICAgIC8vIG5ldyBiZWhhdmlvcjogc3VtIHRoZSBwYWRkaW5nXG4gICAgICAgICAgICAgICAgOiBwYWRkaW5nICsgZmlsdGVyLnBhZGRpbmc7XG4gICAgICAgICAgICAvLyBvbmx5IGF1dG8gZml0IGlmIGFsbCBmaWx0ZXJzIGFyZSBhdXRvZml0XG4gICAgICAgICAgICBhdXRvRml0ID0gYXV0b0ZpdCAmJiBmaWx0ZXIuYXV0b0ZpdDtcblxuICAgICAgICAgICAgbGVnYWN5ID0gbGVnYWN5IHx8IGZpbHRlci5sZWdhY3k7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZmlsdGVyU3RhY2subGVuZ3RoID09PSAxKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmRlZmF1bHRGaWx0ZXJTdGFja1swXS5yZW5kZXJUZXh0dXJlID0gcmVuZGVyZXIucmVuZGVyVGV4dHVyZS5jdXJyZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgZmlsdGVyU3RhY2sucHVzaChzdGF0ZSk7XG5cbiAgICAgICAgc3RhdGUucmVzb2x1dGlvbiA9IHJlc29sdXRpb247XG5cbiAgICAgICAgc3RhdGUubGVnYWN5ID0gbGVnYWN5O1xuXG4gICAgICAgIHN0YXRlLnRhcmdldCA9IHRhcmdldDtcblxuICAgICAgICBzdGF0ZS5zb3VyY2VGcmFtZS5jb3B5RnJvbSh0YXJnZXQuZmlsdGVyQXJlYSB8fCB0YXJnZXQuZ2V0Qm91bmRzKHRydWUpKTtcblxuICAgICAgICBzdGF0ZS5zb3VyY2VGcmFtZS5wYWQocGFkZGluZyk7XG4gICAgICAgIGlmIChhdXRvRml0KVxuICAgICAgICB7XG4gICAgICAgICAgICBzdGF0ZS5zb3VyY2VGcmFtZS5maXQodGhpcy5yZW5kZXJlci5yZW5kZXJUZXh0dXJlLnNvdXJjZUZyYW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJvdW5kIHRvIHdob2xlIG51bWJlciBiYXNlZCBvbiByZXNvbHV0aW9uXG4gICAgICAgIHN0YXRlLnNvdXJjZUZyYW1lLmNlaWwocmVzb2x1dGlvbik7XG5cbiAgICAgICAgc3RhdGUucmVuZGVyVGV4dHVyZSA9IHRoaXMuZ2V0T3B0aW1hbEZpbHRlclRleHR1cmUoc3RhdGUuc291cmNlRnJhbWUud2lkdGgsIHN0YXRlLnNvdXJjZUZyYW1lLmhlaWdodCwgcmVzb2x1dGlvbik7XG4gICAgICAgIHN0YXRlLmZpbHRlcnMgPSBmaWx0ZXJzO1xuXG4gICAgICAgIHN0YXRlLmRlc3RpbmF0aW9uRnJhbWUud2lkdGggPSBzdGF0ZS5yZW5kZXJUZXh0dXJlLndpZHRoO1xuICAgICAgICBzdGF0ZS5kZXN0aW5hdGlvbkZyYW1lLmhlaWdodCA9IHN0YXRlLnJlbmRlclRleHR1cmUuaGVpZ2h0O1xuXG4gICAgICAgIGNvbnN0IGRlc3RpbmF0aW9uRnJhbWUgPSB0aGlzLnRlbXBSZWN0O1xuXG4gICAgICAgIGRlc3RpbmF0aW9uRnJhbWUud2lkdGggPSBzdGF0ZS5zb3VyY2VGcmFtZS53aWR0aDtcbiAgICAgICAgZGVzdGluYXRpb25GcmFtZS5oZWlnaHQgPSBzdGF0ZS5zb3VyY2VGcmFtZS5oZWlnaHQ7XG5cbiAgICAgICAgc3RhdGUucmVuZGVyVGV4dHVyZS5maWx0ZXJGcmFtZSA9IHN0YXRlLnNvdXJjZUZyYW1lO1xuXG4gICAgICAgIHJlbmRlcmVyLnJlbmRlclRleHR1cmUuYmluZChzdGF0ZS5yZW5kZXJUZXh0dXJlLCBzdGF0ZS5zb3VyY2VGcmFtZSwgZGVzdGluYXRpb25GcmFtZSk7XG4gICAgICAgIHJlbmRlcmVyLnJlbmRlclRleHR1cmUuY2xlYXIoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQb3BzIG9mZiB0aGUgZmlsdGVyIGFuZCBhcHBsaWVzIGl0LlxuICAgICAqXG4gICAgICovXG4gICAgcG9wKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIGNvbnN0IGZpbHRlclN0YWNrID0gdGhpcy5kZWZhdWx0RmlsdGVyU3RhY2s7XG4gICAgICAgIGNvbnN0IHN0YXRlID0gZmlsdGVyU3RhY2sucG9wKCk7XG4gICAgICAgIGNvbnN0IGZpbHRlcnMgPSBzdGF0ZS5maWx0ZXJzO1xuXG4gICAgICAgIHRoaXMuYWN0aXZlU3RhdGUgPSBzdGF0ZTtcblxuICAgICAgICBjb25zdCBnbG9iYWxVbmlmb3JtcyA9IHRoaXMuZ2xvYmFsVW5pZm9ybXMudW5pZm9ybXM7XG5cbiAgICAgICAgZ2xvYmFsVW5pZm9ybXMub3V0cHV0RnJhbWUgPSBzdGF0ZS5zb3VyY2VGcmFtZTtcbiAgICAgICAgZ2xvYmFsVW5pZm9ybXMucmVzb2x1dGlvbiA9IHN0YXRlLnJlc29sdXRpb247XG5cbiAgICAgICAgY29uc3QgaW5wdXRTaXplID0gZ2xvYmFsVW5pZm9ybXMuaW5wdXRTaXplO1xuICAgICAgICBjb25zdCBpbnB1dFBpeGVsID0gZ2xvYmFsVW5pZm9ybXMuaW5wdXRQaXhlbDtcbiAgICAgICAgY29uc3QgaW5wdXRDbGFtcCA9IGdsb2JhbFVuaWZvcm1zLmlucHV0Q2xhbXA7XG5cbiAgICAgICAgaW5wdXRTaXplWzBdID0gc3RhdGUuZGVzdGluYXRpb25GcmFtZS53aWR0aDtcbiAgICAgICAgaW5wdXRTaXplWzFdID0gc3RhdGUuZGVzdGluYXRpb25GcmFtZS5oZWlnaHQ7XG4gICAgICAgIGlucHV0U2l6ZVsyXSA9IDEuMCAvIGlucHV0U2l6ZVswXTtcbiAgICAgICAgaW5wdXRTaXplWzNdID0gMS4wIC8gaW5wdXRTaXplWzFdO1xuXG4gICAgICAgIGlucHV0UGl4ZWxbMF0gPSBpbnB1dFNpemVbMF0gKiBzdGF0ZS5yZXNvbHV0aW9uO1xuICAgICAgICBpbnB1dFBpeGVsWzFdID0gaW5wdXRTaXplWzFdICogc3RhdGUucmVzb2x1dGlvbjtcbiAgICAgICAgaW5wdXRQaXhlbFsyXSA9IDEuMCAvIGlucHV0UGl4ZWxbMF07XG4gICAgICAgIGlucHV0UGl4ZWxbM10gPSAxLjAgLyBpbnB1dFBpeGVsWzFdO1xuXG4gICAgICAgIGlucHV0Q2xhbXBbMF0gPSAwLjUgKiBpbnB1dFBpeGVsWzJdO1xuICAgICAgICBpbnB1dENsYW1wWzFdID0gMC41ICogaW5wdXRQaXhlbFszXTtcbiAgICAgICAgaW5wdXRDbGFtcFsyXSA9IChzdGF0ZS5zb3VyY2VGcmFtZS53aWR0aCAqIGlucHV0U2l6ZVsyXSkgLSAoMC41ICogaW5wdXRQaXhlbFsyXSk7XG4gICAgICAgIGlucHV0Q2xhbXBbM10gPSAoc3RhdGUuc291cmNlRnJhbWUuaGVpZ2h0ICogaW5wdXRTaXplWzNdKSAtICgwLjUgKiBpbnB1dFBpeGVsWzNdKTtcblxuICAgICAgICAvLyBvbmx5IHVwZGF0ZSB0aGUgcmVjdCBpZiBpdHMgbGVnYWN5Li5cbiAgICAgICAgaWYgKHN0YXRlLmxlZ2FjeSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgZmlsdGVyQXJlYSA9IGdsb2JhbFVuaWZvcm1zLmZpbHRlckFyZWE7XG5cbiAgICAgICAgICAgIGZpbHRlckFyZWFbMF0gPSBzdGF0ZS5kZXN0aW5hdGlvbkZyYW1lLndpZHRoO1xuICAgICAgICAgICAgZmlsdGVyQXJlYVsxXSA9IHN0YXRlLmRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0O1xuICAgICAgICAgICAgZmlsdGVyQXJlYVsyXSA9IHN0YXRlLnNvdXJjZUZyYW1lLng7XG4gICAgICAgICAgICBmaWx0ZXJBcmVhWzNdID0gc3RhdGUuc291cmNlRnJhbWUueTtcblxuICAgICAgICAgICAgZ2xvYmFsVW5pZm9ybXMuZmlsdGVyQ2xhbXAgPSBnbG9iYWxVbmlmb3Jtcy5pbnB1dENsYW1wO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5nbG9iYWxVbmlmb3Jtcy51cGRhdGUoKTtcblxuICAgICAgICBjb25zdCBsYXN0U3RhdGUgPSBmaWx0ZXJTdGFja1tmaWx0ZXJTdGFjay5sZW5ndGggLSAxXTtcblxuICAgICAgICBpZiAoc3RhdGUucmVuZGVyVGV4dHVyZS5mcmFtZWJ1ZmZlci5tdWx0aXNhbXBsZSA+IDEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuZnJhbWVidWZmZXIuYmxpdCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGZpbHRlcnMubGVuZ3RoID09PSAxKVxuICAgICAgICB7XG4gICAgICAgICAgICBmaWx0ZXJzWzBdLmFwcGx5KHRoaXMsIHN0YXRlLnJlbmRlclRleHR1cmUsIGxhc3RTdGF0ZS5yZW5kZXJUZXh0dXJlLCBDTEVBUl9NT0RFUy5CTEVORCwgc3RhdGUpO1xuXG4gICAgICAgICAgICB0aGlzLnJldHVybkZpbHRlclRleHR1cmUoc3RhdGUucmVuZGVyVGV4dHVyZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgZmxpcCA9IHN0YXRlLnJlbmRlclRleHR1cmU7XG4gICAgICAgICAgICBsZXQgZmxvcCA9IHRoaXMuZ2V0T3B0aW1hbEZpbHRlclRleHR1cmUoXG4gICAgICAgICAgICAgICAgZmxpcC53aWR0aCxcbiAgICAgICAgICAgICAgICBmbGlwLmhlaWdodCxcbiAgICAgICAgICAgICAgICBzdGF0ZS5yZXNvbHV0aW9uXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBmbG9wLmZpbHRlckZyYW1lID0gZmxpcC5maWx0ZXJGcmFtZTtcblxuICAgICAgICAgICAgbGV0IGkgPSAwO1xuXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgZmlsdGVycy5sZW5ndGggLSAxOyArK2kpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZmlsdGVyc1tpXS5hcHBseSh0aGlzLCBmbGlwLCBmbG9wLCBDTEVBUl9NT0RFUy5DTEVBUiwgc3RhdGUpO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgdCA9IGZsaXA7XG5cbiAgICAgICAgICAgICAgICBmbGlwID0gZmxvcDtcbiAgICAgICAgICAgICAgICBmbG9wID0gdDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZmlsdGVyc1tpXS5hcHBseSh0aGlzLCBmbGlwLCBsYXN0U3RhdGUucmVuZGVyVGV4dHVyZSwgQ0xFQVJfTU9ERVMuQkxFTkQsIHN0YXRlKTtcblxuICAgICAgICAgICAgdGhpcy5yZXR1cm5GaWx0ZXJUZXh0dXJlKGZsaXApO1xuICAgICAgICAgICAgdGhpcy5yZXR1cm5GaWx0ZXJUZXh0dXJlKGZsb3ApO1xuICAgICAgICB9XG5cbiAgICAgICAgc3RhdGUuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5zdGF0ZVBvb2wucHVzaChzdGF0ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQmluZHMgYSByZW5kZXJUZXh0dXJlIHdpdGggY29ycmVzcG9uZGluZyBgZmlsdGVyRnJhbWVgLCBjbGVhcnMgaXQgaWYgbW9kZSBjb3JyZXNwb25kcy5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gZmlsdGVyVGV4dHVyZSAtIHJlbmRlclRleHR1cmUgdG8gYmluZCwgc2hvdWxkIGJlbG9uZyB0byBmaWx0ZXIgcG9vbCBvciBmaWx0ZXIgc3RhY2tcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ0xFQVJfTU9ERVN9IFtjbGVhck1vZGVdIC0gY2xlYXJNb2RlLCBieSBkZWZhdWx0IGl0cyBDTEVBUi9ZRVMuIFNlZSB7QGxpbmsgUElYSS5DTEVBUl9NT0RFU31cbiAgICAgKi9cbiAgICBiaW5kQW5kQ2xlYXIoZmlsdGVyVGV4dHVyZTogUmVuZGVyVGV4dHVyZSwgY2xlYXJNb2RlID0gQ0xFQVJfTU9ERVMuQ0xFQVIpOiB2b2lkXG4gICAge1xuICAgICAgICBpZiAoZmlsdGVyVGV4dHVyZSAmJiBmaWx0ZXJUZXh0dXJlLmZpbHRlckZyYW1lKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBkZXN0aW5hdGlvbkZyYW1lID0gdGhpcy50ZW1wUmVjdDtcblxuICAgICAgICAgICAgZGVzdGluYXRpb25GcmFtZS53aWR0aCA9IGZpbHRlclRleHR1cmUuZmlsdGVyRnJhbWUud2lkdGg7XG4gICAgICAgICAgICBkZXN0aW5hdGlvbkZyYW1lLmhlaWdodCA9IGZpbHRlclRleHR1cmUuZmlsdGVyRnJhbWUuaGVpZ2h0O1xuXG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnJlbmRlclRleHR1cmUuYmluZChmaWx0ZXJUZXh0dXJlLCBmaWx0ZXJUZXh0dXJlLmZpbHRlckZyYW1lLCBkZXN0aW5hdGlvbkZyYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIucmVuZGVyVGV4dHVyZS5iaW5kKGZpbHRlclRleHR1cmUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVE9ETzogcmVtb3ZlIGluIG5leHQgbWFqb3IgdmVyc2lvblxuICAgICAgICBpZiAodHlwZW9mIGNsZWFyTW9kZSA9PT0gJ2Jvb2xlYW4nKVxuICAgICAgICB7XG4gICAgICAgICAgICBjbGVhck1vZGUgPSBjbGVhck1vZGUgPyBDTEVBUl9NT0RFUy5DTEVBUiA6IENMRUFSX01PREVTLkJMRU5EO1xuICAgICAgICAgICAgLy8gZ2V0IGRlcHJlY2F0aW9uIGZ1bmN0aW9uIGZyb20gdXRpbHNcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKCc1LjIuMScsICdVc2UgQ0xFQVJfTU9ERVMgd2hlbiB1c2luZyBjbGVhciBhcHBseUZpbHRlciBvcHRpb24nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2xlYXJNb2RlID09PSBDTEVBUl9NT0RFUy5DTEVBUlxuICAgICAgICAgICAgfHwgKGNsZWFyTW9kZSA9PT0gQ0xFQVJfTU9ERVMuQkxJVCAmJiB0aGlzLmZvcmNlQ2xlYXIpKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnJlbmRlclRleHR1cmUuY2xlYXIoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERyYXdzIGEgZmlsdGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkZpbHRlcn0gZmlsdGVyIC0gVGhlIGZpbHRlciB0byBkcmF3LlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBpbnB1dCAtIFRoZSBpbnB1dCByZW5kZXIgdGFyZ2V0LlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBvdXRwdXQgLSBUaGUgdGFyZ2V0IHRvIG91dHB1dCB0by5cbiAgICAgKiBAcGFyYW0ge1BJWEkuQ0xFQVJfTU9ERVN9IFtjbGVhck1vZGVdIC0gU2hvdWxkIHRoZSBvdXRwdXQgYmUgY2xlYXJlZCBiZWZvcmUgcmVuZGVyaW5nIHRvIGl0XG4gICAgICovXG4gICAgYXBwbHlGaWx0ZXIoZmlsdGVyOiBGaWx0ZXIsIGlucHV0OiBSZW5kZXJUZXh0dXJlLCBvdXRwdXQ6IFJlbmRlclRleHR1cmUsIGNsZWFyTW9kZTogQ0xFQVJfTU9ERVMpOiB2b2lkXG4gICAge1xuICAgICAgICBjb25zdCByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG5cbiAgICAgICAgdGhpcy5iaW5kQW5kQ2xlYXIob3V0cHV0LCBjbGVhck1vZGUpO1xuXG4gICAgICAgIC8vIHNldCB0aGUgdW5pZm9ybXMuLlxuICAgICAgICBmaWx0ZXIudW5pZm9ybXMudVNhbXBsZXIgPSBpbnB1dDtcbiAgICAgICAgZmlsdGVyLnVuaWZvcm1zLmZpbHRlckdsb2JhbHMgPSB0aGlzLmdsb2JhbFVuaWZvcm1zO1xuXG4gICAgICAgIC8vIFRPRE8gbWFrZSBpdCBzbyB0aGF0IHRoZSBvcmRlciBvZiB0aGlzIGRvZXMgbm90IG1hdHRlci4uXG4gICAgICAgIC8vIGJlY2F1c2UgaXQgZG9lcyBhdCB0aGUgbW9tZW50IGNvcyBvZiBnbG9iYWwgdW5pZm9ybXMuXG4gICAgICAgIC8vIHRoZXkgbmVlZCB0byBnZXQgcmVzeW5jZWRcblxuICAgICAgICByZW5kZXJlci5zdGF0ZS5zZXQoZmlsdGVyLnN0YXRlKTtcbiAgICAgICAgcmVuZGVyZXIuc2hhZGVyLmJpbmQoZmlsdGVyKTtcblxuICAgICAgICBpZiAoZmlsdGVyLmxlZ2FjeSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5xdWFkVXYubWFwKGlucHV0Ll9mcmFtZSwgaW5wdXQuZmlsdGVyRnJhbWUpO1xuXG4gICAgICAgICAgICByZW5kZXJlci5nZW9tZXRyeS5iaW5kKHRoaXMucXVhZFV2KTtcbiAgICAgICAgICAgIHJlbmRlcmVyLmdlb21ldHJ5LmRyYXcoRFJBV19NT0RFUy5UUklBTkdMRVMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgcmVuZGVyZXIuZ2VvbWV0cnkuYmluZCh0aGlzLnF1YWQpO1xuICAgICAgICAgICAgcmVuZGVyZXIuZ2VvbWV0cnkuZHJhdyhEUkFXX01PREVTLlRSSUFOR0xFX1NUUklQKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE11bHRpcGx5IF9pbnB1dCBub3JtYWxpemVkIGNvb3JkaW5hdGVzXyB0byB0aGlzIG1hdHJpeCB0byBnZXQgX3Nwcml0ZSB0ZXh0dXJlIG5vcm1hbGl6ZWQgY29vcmRpbmF0ZXNfLlxuICAgICAqXG4gICAgICogVXNlIGBvdXRwdXRNYXRyaXggKiB2VGV4dHVyZUNvb3JkYCBpbiB0aGUgc2hhZGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gb3V0cHV0TWF0cml4IC0gVGhlIG1hdHJpeCB0byBvdXRwdXQgdG8uXG4gICAgICogQHBhcmFtIHtQSVhJLlNwcml0ZX0gc3ByaXRlIC0gVGhlIHNwcml0ZSB0byBtYXAgdG8uXG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoZSBtYXBwZWQgbWF0cml4LlxuICAgICAqL1xuICAgIGNhbGN1bGF0ZVNwcml0ZU1hdHJpeChvdXRwdXRNYXRyaXg6IE1hdHJpeCwgc3ByaXRlOiBJU3ByaXRlTWFza1RhcmdldCk6IE1hdHJpeFxuICAgIHtcbiAgICAgICAgY29uc3QgeyBzb3VyY2VGcmFtZSwgZGVzdGluYXRpb25GcmFtZSB9ID0gdGhpcy5hY3RpdmVTdGF0ZTtcbiAgICAgICAgY29uc3QgeyBvcmlnIH0gPSBzcHJpdGUuX3RleHR1cmU7XG4gICAgICAgIGNvbnN0IG1hcHBlZE1hdHJpeCA9IG91dHB1dE1hdHJpeC5zZXQoZGVzdGluYXRpb25GcmFtZS53aWR0aCwgMCwgMCxcbiAgICAgICAgICAgIGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0LCBzb3VyY2VGcmFtZS54LCBzb3VyY2VGcmFtZS55KTtcbiAgICAgICAgY29uc3Qgd29ybGRUcmFuc2Zvcm0gPSBzcHJpdGUud29ybGRUcmFuc2Zvcm0uY29weVRvKE1hdHJpeC5URU1QX01BVFJJWCk7XG5cbiAgICAgICAgd29ybGRUcmFuc2Zvcm0uaW52ZXJ0KCk7XG4gICAgICAgIG1hcHBlZE1hdHJpeC5wcmVwZW5kKHdvcmxkVHJhbnNmb3JtKTtcbiAgICAgICAgbWFwcGVkTWF0cml4LnNjYWxlKDEuMCAvIG9yaWcud2lkdGgsIDEuMCAvIG9yaWcuaGVpZ2h0KTtcbiAgICAgICAgbWFwcGVkTWF0cml4LnRyYW5zbGF0ZShzcHJpdGUuYW5jaG9yLngsIHNwcml0ZS5hbmNob3IueSk7XG5cbiAgICAgICAgcmV0dXJuIG1hcHBlZE1hdHJpeDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIEZpbHRlciBTeXN0ZW0uXG4gICAgICovXG4gICAgZGVzdHJveSgpOiB2b2lkXG4gICAge1xuICAgICAgICAvLyBUaG9zZSB0ZXh0dXJlcyBoYXMgdG8gYmUgZGVzdHJveWVkIGJ5IFJlbmRlclRleHR1cmVTeXN0ZW0gb3IgRnJhbWVidWZmZXJTeXN0ZW1cbiAgICAgICAgdGhpcy50ZXh0dXJlUG9vbC5jbGVhcihmYWxzZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBhIFBvd2VyLW9mLVR3byByZW5kZXIgdGV4dHVyZSBvciBmdWxsU2NyZWVuIHRleHR1cmVcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWluV2lkdGggLSBUaGUgbWluaW11bSB3aWR0aCBvZiB0aGUgcmVuZGVyIHRleHR1cmUgaW4gcmVhbCBwaXhlbHMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1pbkhlaWdodCAtIFRoZSBtaW5pbXVtIGhlaWdodCBvZiB0aGUgcmVuZGVyIHRleHR1cmUgaW4gcmVhbCBwaXhlbHMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyZXNvbHV0aW9uPTFdIC0gVGhlIHJlc29sdXRpb24gb2YgdGhlIHJlbmRlciB0ZXh0dXJlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVuZGVyVGV4dHVyZX0gVGhlIG5ldyByZW5kZXIgdGV4dHVyZS5cbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgZ2V0T3B0aW1hbEZpbHRlclRleHR1cmUobWluV2lkdGg6IG51bWJlciwgbWluSGVpZ2h0OiBudW1iZXIsIHJlc29sdXRpb24gPSAxKTogUmVuZGVyVGV4dHVyZVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGV4dHVyZVBvb2wuZ2V0T3B0aW1hbFRleHR1cmUobWluV2lkdGgsIG1pbkhlaWdodCwgcmVzb2x1dGlvbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBleHRyYSByZW5kZXIgdGV4dHVyZSB0byB1c2UgaW5zaWRlIGN1cnJlbnQgZmlsdGVyXG4gICAgICogVG8gYmUgY29tcGxpYW50IHdpdGggb2xkZXIgZmlsdGVycywgeW91IGNhbiB1c2UgcGFyYW1zIGluIGFueSBvcmRlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IFtpbnB1dF0gLSByZW5kZXJUZXh0dXJlIGZyb20gd2hpY2ggc2l6ZSBhbmQgcmVzb2x1dGlvbiB3aWxsIGJlIGNvcGllZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmVzb2x1dGlvbl0gLSBvdmVycmlkZSByZXNvbHV0aW9uIG9mIHRoZSByZW5kZXJUZXh0dXJlXG4gICAgICogQHJldHVybnMge1BJWEkuUmVuZGVyVGV4dHVyZX1cbiAgICAgKi9cbiAgICBnZXRGaWx0ZXJUZXh0dXJlKGlucHV0PzogUmVuZGVyVGV4dHVyZSwgcmVzb2x1dGlvbj86IG51bWJlcik6IFJlbmRlclRleHR1cmVcbiAgICB7XG4gICAgICAgIGlmICh0eXBlb2YgaW5wdXQgPT09ICdudW1iZXInKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBzd2FwID0gaW5wdXQ7XG5cbiAgICAgICAgICAgIGlucHV0ID0gcmVzb2x1dGlvbiBhcyBhbnk7XG4gICAgICAgICAgICByZXNvbHV0aW9uID0gc3dhcDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlucHV0ID0gaW5wdXQgfHwgdGhpcy5hY3RpdmVTdGF0ZS5yZW5kZXJUZXh0dXJlO1xuXG4gICAgICAgIGNvbnN0IGZpbHRlclRleHR1cmUgPSB0aGlzLnRleHR1cmVQb29sLmdldE9wdGltYWxUZXh0dXJlKGlucHV0LndpZHRoLCBpbnB1dC5oZWlnaHQsIHJlc29sdXRpb24gfHwgaW5wdXQucmVzb2x1dGlvbik7XG5cbiAgICAgICAgZmlsdGVyVGV4dHVyZS5maWx0ZXJGcmFtZSA9IGlucHV0LmZpbHRlckZyYW1lO1xuXG4gICAgICAgIHJldHVybiBmaWx0ZXJUZXh0dXJlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZyZWVzIGEgcmVuZGVyIHRleHR1cmUgYmFjayBpbnRvIHRoZSBwb29sLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IHJlbmRlclRleHR1cmUgLSBUaGUgcmVuZGVyVGFyZ2V0IHRvIGZyZWVcbiAgICAgKi9cbiAgICByZXR1cm5GaWx0ZXJUZXh0dXJlKHJlbmRlclRleHR1cmU6IFJlbmRlclRleHR1cmUpOiB2b2lkXG4gICAge1xuICAgICAgICB0aGlzLnRleHR1cmVQb29sLnJldHVyblRleHR1cmUocmVuZGVyVGV4dHVyZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRW1wdGllcyB0aGUgdGV4dHVyZSBwb29sLlxuICAgICAqL1xuICAgIGVtcHR5UG9vbCgpOiB2b2lkXG4gICAge1xuICAgICAgICB0aGlzLnRleHR1cmVQb29sLmNsZWFyKHRydWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGNhbGxzIGB0ZXh0dXJlUG9vbC5yZXNpemUoKWAsIGFmZmVjdHMgZnVsbFNjcmVlbiByZW5kZXJUZXh0dXJlc1xuICAgICAqL1xuICAgIHJlc2l6ZSgpOiB2b2lkXG4gICAge1xuICAgICAgICB0aGlzLnRleHR1cmVQb29sLnNldFNjcmVlblNpemUodGhpcy5yZW5kZXJlci52aWV3KTtcbiAgICB9XG59XG4iLCJpbXBvcnQgdHlwZSB7IFJlbmRlcmVyIH0gZnJvbSAnLi4vUmVuZGVyZXInO1xuXG4vKipcbiAqIEJhc2UgZm9yIGEgY29tbW9uIG9iamVjdCByZW5kZXJlciB0aGF0IGNhbiBiZSB1c2VkIGFzIGFcbiAqIHN5c3RlbSByZW5kZXJlciBwbHVnaW4uXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlN5c3RlbVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGNsYXNzIE9iamVjdFJlbmRlcmVyXG57XG4gICAgcHJvdGVjdGVkIHJlbmRlcmVyOiBSZW5kZXJlcjtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgbWFuYWdlciB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IocmVuZGVyZXI6IFJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByZW5kZXJlciB0aGlzIG1hbmFnZXIgd29ya3MgZm9yLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlbmRlcmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFN0dWIgbWV0aG9kIHRoYXQgc2hvdWxkIGJlIHVzZWQgdG8gZW1wdHkgdGhlIGN1cnJlbnRcbiAgICAgKiBiYXRjaCBieSByZW5kZXJpbmcgb2JqZWN0cyBub3cuXG4gICAgICovXG4gICAgZmx1c2goKTogdm9pZFxuICAgIHtcbiAgICAgICAgLy8gZmx1c2ghXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2VuZXJpYyBkZXN0cnVjdGlvbiBtZXRob2QgdGhhdCBmcmVlcyBhbGwgcmVzb3VyY2VzLiBUaGlzXG4gICAgICogc2hvdWxkIGJlIGNhbGxlZCBieSBzdWJjbGFzc2VzLlxuICAgICAqL1xuICAgIGRlc3Ryb3koKTogdm9pZFxuICAgIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU3R1YiBtZXRob2QgdGhhdCBpbml0aWFsaXplcyBhbnkgc3RhdGUgcmVxdWlyZWQgYmVmb3JlXG4gICAgICogcmVuZGVyaW5nIHN0YXJ0cy4gSXQgaXMgZGlmZmVyZW50IGZyb20gdGhlIGBwcmVyZW5kZXJgXG4gICAgICogc2lnbmFsLCB3aGljaCBvY2N1cnMgZXZlcnkgZnJhbWUsIGluIHRoYXQgaXQgaXMgY2FsbGVkXG4gICAgICogd2hlbmV2ZXIgYW4gb2JqZWN0IHJlcXVlc3RzIF90aGlzXyByZW5kZXJlciBzcGVjaWZpY2FsbHkuXG4gICAgICovXG4gICAgc3RhcnQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgLy8gc2V0IHRoZSBzaGFkZXIuLlxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFN0b3BzIHRoZSByZW5kZXJlci4gSXQgc2hvdWxkIGZyZWUgdXAgYW55IHN0YXRlIGFuZFxuICAgICAqIGJlY29tZSBkb3JtYW50LlxuICAgICAqL1xuICAgIHN0b3AoKTogdm9pZFxuICAgIHtcbiAgICAgICAgdGhpcy5mbHVzaCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEtlZXBzIHRoZSBvYmplY3QgdG8gcmVuZGVyLiBJdCBkb2Vzbid0IGhhdmUgdG8gYmVcbiAgICAgKiByZW5kZXJlZCBpbW1lZGlhdGVseS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBvYmplY3QgLSBUaGUgb2JqZWN0IHRvIHJlbmRlci5cbiAgICAgKi9cbiAgICByZW5kZXIoX29iamVjdDogYW55KTogdm9pZCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9leHBsaWNpdC1tb2R1bGUtYm91bmRhcnktdHlwZXNcbiAgICB7XG4gICAgICAgIC8vIHJlbmRlciB0aGUgb2JqZWN0XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgU3lzdGVtIH0gZnJvbSAnLi4vU3lzdGVtJztcbmltcG9ydCB7IE9iamVjdFJlbmRlcmVyIH0gZnJvbSAnLi9PYmplY3RSZW5kZXJlcic7XG5cbmltcG9ydCB0eXBlIHsgUmVuZGVyZXIgfSBmcm9tICcuLi9SZW5kZXJlcic7XG5pbXBvcnQgdHlwZSB7IEJhc2VUZXh0dXJlIH0gZnJvbSAnLi4vdGV4dHVyZXMvQmFzZVRleHR1cmUnO1xuaW1wb3J0IHR5cGUgeyBCYXRjaFRleHR1cmVBcnJheSB9IGZyb20gJy4vQmF0Y2hUZXh0dXJlQXJyYXknO1xuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2UgYmF0Y2hpbmcuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlN5c3RlbVxuICogQG1lbWJlcm9mIFBJWEkuc3lzdGVtc1xuICovXG5leHBvcnQgY2xhc3MgQmF0Y2hTeXN0ZW0gZXh0ZW5kcyBTeXN0ZW1cbntcbiAgICBwdWJsaWMgcmVhZG9ubHkgZW1wdHlSZW5kZXJlcjogT2JqZWN0UmVuZGVyZXI7XG4gICAgcHVibGljIGN1cnJlbnRSZW5kZXJlcjogT2JqZWN0UmVuZGVyZXI7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgU3lzdGVtIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihyZW5kZXJlcjogUmVuZGVyZXIpXG4gICAge1xuICAgICAgICBzdXBlcihyZW5kZXJlcik7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIGVtcHR5IHJlbmRlcmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9iamVjdFJlbmRlcmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5lbXB0eVJlbmRlcmVyID0gbmV3IE9iamVjdFJlbmRlcmVyKHJlbmRlcmVyKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGN1cnJlbnRseSBhY3RpdmUgT2JqZWN0UmVuZGVyZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuT2JqZWN0UmVuZGVyZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmN1cnJlbnRSZW5kZXJlciA9IHRoaXMuZW1wdHlSZW5kZXJlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSBjdXJyZW50IHJlbmRlcmVyIHRvIHRoZSBvbmUgZ2l2ZW4gaW4gcGFyYW1ldGVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuT2JqZWN0UmVuZGVyZXJ9IG9iamVjdFJlbmRlcmVyIC0gVGhlIG9iamVjdCByZW5kZXJlciB0byB1c2UuXG4gICAgICovXG4gICAgc2V0T2JqZWN0UmVuZGVyZXIob2JqZWN0UmVuZGVyZXI6IE9iamVjdFJlbmRlcmVyKTogdm9pZFxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFJlbmRlcmVyID09PSBvYmplY3RSZW5kZXJlcilcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jdXJyZW50UmVuZGVyZXIuc3RvcCgpO1xuICAgICAgICB0aGlzLmN1cnJlbnRSZW5kZXJlciA9IG9iamVjdFJlbmRlcmVyO1xuXG4gICAgICAgIHRoaXMuY3VycmVudFJlbmRlcmVyLnN0YXJ0KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBzaG91bGQgYmUgY2FsbGVkIGlmIHlvdSB3aXNoIHRvIGRvIHNvbWUgY3VzdG9tIHJlbmRlcmluZ1xuICAgICAqIEl0IHdpbGwgYmFzaWNhbGx5IHJlbmRlciBhbnl0aGluZyB0aGF0IG1heSBiZSBiYXRjaGVkIHVwIHN1Y2ggYXMgc3ByaXRlc1xuICAgICAqL1xuICAgIGZsdXNoKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHRoaXMuc2V0T2JqZWN0UmVuZGVyZXIodGhpcy5lbXB0eVJlbmRlcmVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXNldCB0aGUgc3lzdGVtIHRvIGFuIGVtcHR5IHJlbmRlcmVyXG4gICAgICovXG4gICAgcmVzZXQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgdGhpcy5zZXRPYmplY3RSZW5kZXJlcih0aGlzLmVtcHR5UmVuZGVyZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhhbmR5IGZ1bmN0aW9uIGZvciBiYXRjaCByZW5kZXJlcnM6IGNvcGllcyBib3VuZCB0ZXh0dXJlcyBpbiBmaXJzdCBtYXhUZXh0dXJlcyBsb2NhdGlvbnMgdG8gYXJyYXlcbiAgICAgKiBzZXRzIGFjdHVhbCBfYmF0Y2hMb2NhdGlvbiBmb3IgdGhlbVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlW119IC0gYXJyIGNvcHkgZGVzdGluYXRpb25cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWF4VGV4dHVyZXMgLSBudW1iZXIgb2YgY29waWVkIGVsZW1lbnRzXG4gICAgICovXG4gICAgY29weUJvdW5kVGV4dHVyZXMoYXJyOiBCYXNlVGV4dHVyZVtdLCBtYXhUZXh0dXJlczogbnVtYmVyKTogdm9pZFxuICAgIHtcbiAgICAgICAgY29uc3QgeyBib3VuZFRleHR1cmVzIH0gPSB0aGlzLnJlbmRlcmVyLnRleHR1cmU7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IG1heFRleHR1cmVzIC0gMTsgaSA+PSAwOyAtLWkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGFycltpXSA9IGJvdW5kVGV4dHVyZXNbaV0gfHwgbnVsbDtcbiAgICAgICAgICAgIGlmIChhcnJbaV0pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYXJyW2ldLl9iYXRjaExvY2F0aW9uID0gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFzc2lnbnMgYmF0Y2ggbG9jYXRpb25zIHRvIHRleHR1cmVzIGluIGFycmF5IGJhc2VkIG9uIGJvdW5kVGV4dHVyZXMgc3RhdGUuXG4gICAgICogQWxsIHRleHR1cmVzIGluIHRleEFycmF5IHNob3VsZCBoYXZlIGBfYmF0Y2hFbmFibGVkID0gX2JhdGNoSWRgLFxuICAgICAqIGFuZCB0aGVpciBjb3VudCBzaG91bGQgYmUgbGVzcyB0aGFuIGBtYXhUZXh0dXJlc2AuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmF0Y2hUZXh0dXJlQXJyYXl9IHRleEFycmF5IC0gdGV4dHVyZXMgdG8gYm91bmRcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmVbXX0gYm91bmRUZXh0dXJlcyAtIGN1cnJlbnQgc3RhdGUgb2YgYm91bmQgdGV4dHVyZXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYmF0Y2hJZCAtIG1hcmtlciBmb3IgX2JhdGNoRW5hYmxlZCBwYXJhbSBvZiB0ZXh0dXJlcyBpbiB0ZXhBcnJheVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhUZXh0dXJlcyAtIG51bWJlciBvZiB0ZXh0dXJlIGxvY2F0aW9ucyB0byBtYW5pcHVsYXRlXG4gICAgICovXG4gICAgYm91bmRBcnJheSh0ZXhBcnJheTogQmF0Y2hUZXh0dXJlQXJyYXksIGJvdW5kVGV4dHVyZXM6IEFycmF5PEJhc2VUZXh0dXJlPixcbiAgICAgICAgYmF0Y2hJZDogbnVtYmVyLCBtYXhUZXh0dXJlczogbnVtYmVyKTogdm9pZFxuICAgIHtcbiAgICAgICAgY29uc3QgeyBlbGVtZW50cywgaWRzLCBjb3VudCB9ID0gdGV4QXJyYXk7XG4gICAgICAgIGxldCBqID0gMDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHRleCA9IGVsZW1lbnRzW2ldO1xuICAgICAgICAgICAgY29uc3QgbG9jID0gdGV4Ll9iYXRjaExvY2F0aW9uO1xuXG4gICAgICAgICAgICBpZiAobG9jID49IDAgJiYgbG9jIDwgbWF4VGV4dHVyZXNcbiAgICAgICAgICAgICAgICAmJiBib3VuZFRleHR1cmVzW2xvY10gPT09IHRleClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZHNbaV0gPSBsb2M7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHdoaWxlIChqIDwgbWF4VGV4dHVyZXMpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgYm91bmQgPSBib3VuZFRleHR1cmVzW2pdO1xuXG4gICAgICAgICAgICAgICAgaWYgKGJvdW5kICYmIGJvdW5kLl9iYXRjaEVuYWJsZWQgPT09IGJhdGNoSWRcbiAgICAgICAgICAgICAgICAgICAgJiYgYm91bmQuX2JhdGNoTG9jYXRpb24gPT09IGopXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBqKys7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlkc1tpXSA9IGo7XG4gICAgICAgICAgICAgICAgdGV4Ll9iYXRjaExvY2F0aW9uID0gajtcbiAgICAgICAgICAgICAgICBib3VuZFRleHR1cmVzW2pdID0gdGV4O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgRU5WIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmltcG9ydCB7IFN5c3RlbSB9IGZyb20gJy4uL1N5c3RlbSc7XG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJy4uL3NldHRpbmdzJztcblxuaW1wb3J0IHR5cGUgeyBJUmVuZGVyaW5nQ29udGV4dCB9IGZyb20gJy4uL0lSZW5kZXJpbmdDb250ZXh0JztcbmltcG9ydCB0eXBlIHsgUmVuZGVyZXIgfSBmcm9tICcuLi9SZW5kZXJlcic7XG5cbmxldCBDT05URVhUX1VJRF9DT1VOVEVSID0gMDtcblxuZXhwb3J0IGludGVyZmFjZSBJU3VwcG9ydERpY3Qge1xuICAgIHVpbnQzMkluZGljZXM6IGJvb2xlYW47XG59XG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSB0aGUgY29udGV4dC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKiBAbWVtYmVyb2YgUElYSS5zeXN0ZW1zXG4gKi9cbmV4cG9ydCBjbGFzcyBDb250ZXh0U3lzdGVtIGV4dGVuZHMgU3lzdGVtXG57XG4gICAgcHVibGljIHdlYkdMVmVyc2lvbjogbnVtYmVyO1xuICAgIHJlYWRvbmx5IHN1cHBvcnRzOiBJU3VwcG9ydERpY3Q7XG5cbiAgICBwcm90ZWN0ZWQgQ09OVEVYVF9VSUQ6IG51bWJlcjtcbiAgICBwcm90ZWN0ZWQgZ2w6IElSZW5kZXJpbmdDb250ZXh0O1xuICAgIC8qIGVzbGludC1kaXNhYmxlIGNhbWVsY2FzZSAqL1xuICAgIGV4dGVuc2lvbnM6XG4gICAge1xuICAgICAgICBkcmF3QnVmZmVycz86IFdFQkdMX2RyYXdfYnVmZmVycztcbiAgICAgICAgZGVwdGhUZXh0dXJlPzogT0VTX3RleHR1cmVfZmxvYXQ7XG4gICAgICAgIGxvc2VDb250ZXh0PzogV0VCR0xfbG9zZV9jb250ZXh0O1xuICAgICAgICB2ZXJ0ZXhBcnJheU9iamVjdD86IE9FU192ZXJ0ZXhfYXJyYXlfb2JqZWN0O1xuICAgICAgICBhbmlzb3Ryb3BpY0ZpbHRlcmluZz86IEVYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpYztcbiAgICAgICAgdWludDMyRWxlbWVudEluZGV4PzogT0VTX2VsZW1lbnRfaW5kZXhfdWludDtcbiAgICAgICAgZmxvYXRUZXh0dXJlPzogT0VTX3RleHR1cmVfZmxvYXQ7XG4gICAgICAgIGZsb2F0VGV4dHVyZUxpbmVhcj86IE9FU190ZXh0dXJlX2Zsb2F0X2xpbmVhcjtcbiAgICAgICAgdGV4dHVyZUhhbGZGbG9hdD86IE9FU190ZXh0dXJlX2hhbGZfZmxvYXQ7XG4gICAgICAgIHRleHR1cmVIYWxmRmxvYXRMaW5lYXI/OiBPRVNfdGV4dHVyZV9oYWxmX2Zsb2F0X2xpbmVhcjtcbiAgICAgICAgY29sb3JCdWZmZXJGbG9hdD86IFdFQkdMX2NvbG9yX2J1ZmZlcl9mbG9hdDtcbiAgICB9O1xuICAgIC8qIGVzbGludC1lbmFibGUgY2FtZWxjYXNlICovXG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgU3lzdGVtIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihyZW5kZXJlcjogUmVuZGVyZXIpXG4gICAge1xuICAgICAgICBzdXBlcihyZW5kZXJlcik7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEVpdGhlciAxIG9yIDIgdG8gcmVmbGVjdCB0aGUgV2ViR0wgdmVyc2lvbiBiZWluZyB1c2VkXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLndlYkdMVmVyc2lvbiA9IDE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEV4dGVuc2lvbnMgYmVpbmcgdXNlZFxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAcHJvcGVydHkge1dFQkdMX2RyYXdfYnVmZmVyc30gZHJhd0J1ZmZlcnMgLSBXZWJHTCB2MSBleHRlbnNpb25cbiAgICAgICAgICogQHByb3BlcnR5IHtXRUJHTF9kZXB0aF90ZXh0dXJlfSBkZXB0aFRleHR1cmUgLSBXZWJHTCB2MSBleHRlbnNpb25cbiAgICAgICAgICogQHByb3BlcnR5IHtPRVNfdGV4dHVyZV9mbG9hdH0gZmxvYXRUZXh0dXJlIC0gV2ViR0wgdjEgZXh0ZW5zaW9uXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7V0VCR0xfbG9zZV9jb250ZXh0fSBsb3NlQ29udGV4dCAtIFdlYkdMIHYxIGV4dGVuc2lvblxuICAgICAgICAgKiBAcHJvcGVydHkge09FU192ZXJ0ZXhfYXJyYXlfb2JqZWN0fSB2ZXJ0ZXhBcnJheU9iamVjdCAtIFdlYkdMIHYxIGV4dGVuc2lvblxuICAgICAgICAgKiBAcHJvcGVydHkge0VYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpY30gYW5pc290cm9waWNGaWx0ZXJpbmcgLSBXZWJHTCB2MSBhbmQgdjIgZXh0ZW5zaW9uXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmV4dGVuc2lvbnMgPSB7fTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRmVhdHVyZXMgc3VwcG9ydGVkIGJ5IGN1cnJlbnQgY29udGV4dFxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IHVpbnQzMkluZGljZXMgLSBTdXBwb3J0cyBvZiAzMi1iaXQgaW5kaWNlcyBidWZmZXJcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3VwcG9ydHMgPSB7XG4gICAgICAgICAgICB1aW50MzJJbmRpY2VzOiBmYWxzZSxcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBCaW5kIGZ1bmN0aW9uc1xuICAgICAgICB0aGlzLmhhbmRsZUNvbnRleHRMb3N0ID0gdGhpcy5oYW5kbGVDb250ZXh0TG9zdC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmhhbmRsZUNvbnRleHRSZXN0b3JlZCA9IHRoaXMuaGFuZGxlQ29udGV4dFJlc3RvcmVkLmJpbmQodGhpcyk7XG5cbiAgICAgICAgKHJlbmRlcmVyLnZpZXcgYXMgYW55KS5hZGRFdmVudExpc3RlbmVyKCd3ZWJnbGNvbnRleHRsb3N0JywgdGhpcy5oYW5kbGVDb250ZXh0TG9zdCwgZmFsc2UpO1xuICAgICAgICByZW5kZXJlci52aWV3LmFkZEV2ZW50TGlzdGVuZXIoJ3dlYmdsY29udGV4dHJlc3RvcmVkJywgdGhpcy5oYW5kbGVDb250ZXh0UmVzdG9yZWQsIGZhbHNlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBgdHJ1ZWAgaWYgdGhlIGNvbnRleHQgaXMgbG9zdFxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgZ2V0IGlzTG9zdCgpOiBib29sZWFuXG4gICAge1xuICAgICAgICByZXR1cm4gKCF0aGlzLmdsIHx8IHRoaXMuZ2wuaXNDb250ZXh0TG9zdCgpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgdGhlIGNvbnRleHQgY2hhbmdlIGV2ZW50XG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIC0gbmV3IHdlYmdsIGNvbnRleHRcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgY29udGV4dENoYW5nZShnbDogSVJlbmRlcmluZ0NvbnRleHQpOiB2b2lkXG4gICAge1xuICAgICAgICB0aGlzLmdsID0gZ2w7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuZ2wgPSBnbDtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRCA9IENPTlRFWFRfVUlEX0NPVU5URVIrKztcblxuICAgICAgICAvLyByZXN0b3JlIGEgY29udGV4dCBpZiBpdCB3YXMgcHJldmlvdXNseSBsb3N0XG4gICAgICAgIGlmIChnbC5pc0NvbnRleHRMb3N0KCkgJiYgZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9sb3NlX2NvbnRleHQnKSlcbiAgICAgICAge1xuICAgICAgICAgICAgZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9sb3NlX2NvbnRleHQnKS5yZXN0b3JlQ29udGV4dCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSB0aGUgY29udGV4dFxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCAtIFdlYkdMIGNvbnRleHRcbiAgICAgKi9cbiAgICBpbml0RnJvbUNvbnRleHQoZ2w6IElSZW5kZXJpbmdDb250ZXh0KTogdm9pZFxuICAgIHtcbiAgICAgICAgdGhpcy5nbCA9IGdsO1xuICAgICAgICB0aGlzLnZhbGlkYXRlQ29udGV4dChnbCk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuZ2wgPSBnbDtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRCA9IENPTlRFWFRfVUlEX0NPVU5URVIrKztcbiAgICAgICAgdGhpcy5yZW5kZXJlci5ydW5uZXJzLmNvbnRleHRDaGFuZ2UuZW1pdChnbCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSBmcm9tIGNvbnRleHQgb3B0aW9uc1xuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0hUTUxDYW52YXNFbGVtZW50L2dldENvbnRleHRcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyAtIGNvbnRleHQgYXR0cmlidXRlc1xuICAgICAqL1xuICAgIGluaXRGcm9tT3B0aW9ucyhvcHRpb25zOiBXZWJHTENvbnRleHRBdHRyaWJ1dGVzKTogdm9pZFxuICAgIHtcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmNyZWF0ZUNvbnRleHQodGhpcy5yZW5kZXJlci52aWV3LCBvcHRpb25zKTtcblxuICAgICAgICB0aGlzLmluaXRGcm9tQ29udGV4dChnbCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSGVscGVyIGNsYXNzIHRvIGNyZWF0ZSBhIFdlYkdMIENvbnRleHRcbiAgICAgKlxuICAgICAqIEBwYXJhbSBjYW52YXMge0hUTUxDYW52YXNFbGVtZW50fSB0aGUgY2FudmFzIGVsZW1lbnQgdGhhdCB3ZSB3aWxsIGdldCB0aGUgY29udGV4dCBmcm9tXG4gICAgICogQHBhcmFtIG9wdGlvbnMge29iamVjdH0gQW4gb3B0aW9ucyBvYmplY3QgdGhhdCBnZXRzIHBhc3NlZCBpbiB0byB0aGUgY2FudmFzIGVsZW1lbnQgY29udGFpbmluZyB0aGUgY29udGV4dCBhdHRyaWJ1dGVzXG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvSFRNTENhbnZhc0VsZW1lbnQvZ2V0Q29udGV4dFxuICAgICAqIEByZXR1cm4ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gdGhlIFdlYkdMIGNvbnRleHRcbiAgICAgKi9cbiAgICBjcmVhdGVDb250ZXh0KGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQsIG9wdGlvbnM6IFdlYkdMQ29udGV4dEF0dHJpYnV0ZXMpOiBJUmVuZGVyaW5nQ29udGV4dFxuICAgIHtcbiAgICAgICAgbGV0IGdsO1xuXG4gICAgICAgIGlmIChzZXR0aW5ncy5QUkVGRVJfRU5WID49IEVOVi5XRUJHTDIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsID0gY2FudmFzLmdldENvbnRleHQoJ3dlYmdsMicsIG9wdGlvbnMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGdsKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLndlYkdMVmVyc2lvbiA9IDI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLndlYkdMVmVyc2lvbiA9IDE7XG5cbiAgICAgICAgICAgIGdsID0gY2FudmFzLmdldENvbnRleHQoJ3dlYmdsJywgb3B0aW9ucylcbiAgICAgICAgICAgIHx8IGNhbnZhcy5nZXRDb250ZXh0KCdleHBlcmltZW50YWwtd2ViZ2wnLCBvcHRpb25zKTtcblxuICAgICAgICAgICAgaWYgKCFnbClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBmYWlsLCBub3QgYWJsZSB0byBnZXQgYSBjb250ZXh0XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGlzIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBXZWJHTC4gVHJ5IHVzaW5nIHRoZSBjYW52YXMgcmVuZGVyZXInKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZ2wgPSBnbCBhcyBJUmVuZGVyaW5nQ29udGV4dDtcblxuICAgICAgICB0aGlzLmdldEV4dGVuc2lvbnMoKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5nbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBdXRvLXBvcHVsYXRlIHRoZSBleHRlbnNpb25zXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGdldEV4dGVuc2lvbnMoKTogdm9pZFxuICAgIHtcbiAgICAgICAgLy8gdGltZSB0byBzZXQgdXAgZGVmYXVsdCBleHRlbnNpb25zIHRoYXQgUGl4aSB1c2VzLlxuICAgICAgICBjb25zdCB7IGdsIH0gPSB0aGlzO1xuXG4gICAgICAgIGlmICh0aGlzLndlYkdMVmVyc2lvbiA9PT0gMSlcbiAgICAgICAge1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLmV4dGVuc2lvbnMsIHtcbiAgICAgICAgICAgICAgICBkcmF3QnVmZmVyczogZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9kcmF3X2J1ZmZlcnMnKSxcbiAgICAgICAgICAgICAgICBkZXB0aFRleHR1cmU6IGdsLmdldEV4dGVuc2lvbignV0VCR0xfZGVwdGhfdGV4dHVyZScpLFxuICAgICAgICAgICAgICAgIGxvc2VDb250ZXh0OiBnbC5nZXRFeHRlbnNpb24oJ1dFQkdMX2xvc2VfY29udGV4dCcpLFxuICAgICAgICAgICAgICAgIHZlcnRleEFycmF5T2JqZWN0OiBnbC5nZXRFeHRlbnNpb24oJ09FU192ZXJ0ZXhfYXJyYXlfb2JqZWN0JylcbiAgICAgICAgICAgICAgICAgICAgfHwgZ2wuZ2V0RXh0ZW5zaW9uKCdNT1pfT0VTX3ZlcnRleF9hcnJheV9vYmplY3QnKVxuICAgICAgICAgICAgICAgICAgICB8fCBnbC5nZXRFeHRlbnNpb24oJ1dFQktJVF9PRVNfdmVydGV4X2FycmF5X29iamVjdCcpLFxuICAgICAgICAgICAgICAgIGFuaXNvdHJvcGljRmlsdGVyaW5nOiBnbC5nZXRFeHRlbnNpb24oJ0VYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpYycpLFxuICAgICAgICAgICAgICAgIHVpbnQzMkVsZW1lbnRJbmRleDogZ2wuZ2V0RXh0ZW5zaW9uKCdPRVNfZWxlbWVudF9pbmRleF91aW50JyksXG4gICAgICAgICAgICAgICAgLy8gRmxvYXRzIGFuZCBoYWxmLWZsb2F0c1xuICAgICAgICAgICAgICAgIGZsb2F0VGV4dHVyZTogZ2wuZ2V0RXh0ZW5zaW9uKCdPRVNfdGV4dHVyZV9mbG9hdCcpLFxuICAgICAgICAgICAgICAgIGZsb2F0VGV4dHVyZUxpbmVhcjogZ2wuZ2V0RXh0ZW5zaW9uKCdPRVNfdGV4dHVyZV9mbG9hdF9saW5lYXInKSxcbiAgICAgICAgICAgICAgICB0ZXh0dXJlSGFsZkZsb2F0OiBnbC5nZXRFeHRlbnNpb24oJ09FU190ZXh0dXJlX2hhbGZfZmxvYXQnKSxcbiAgICAgICAgICAgICAgICB0ZXh0dXJlSGFsZkZsb2F0TGluZWFyOiBnbC5nZXRFeHRlbnNpb24oJ09FU190ZXh0dXJlX2hhbGZfZmxvYXRfbGluZWFyJyksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLndlYkdMVmVyc2lvbiA9PT0gMilcbiAgICAgICAge1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLmV4dGVuc2lvbnMsIHtcbiAgICAgICAgICAgICAgICBhbmlzb3Ryb3BpY0ZpbHRlcmluZzogZ2wuZ2V0RXh0ZW5zaW9uKCdFWFRfdGV4dHVyZV9maWx0ZXJfYW5pc290cm9waWMnKSxcbiAgICAgICAgICAgICAgICAvLyBGbG9hdHMgYW5kIGhhbGYtZmxvYXRzXG4gICAgICAgICAgICAgICAgY29sb3JCdWZmZXJGbG9hdDogZ2wuZ2V0RXh0ZW5zaW9uKCdFWFRfY29sb3JfYnVmZmVyX2Zsb2F0JyksXG4gICAgICAgICAgICAgICAgZmxvYXRUZXh0dXJlTGluZWFyOiBnbC5nZXRFeHRlbnNpb24oJ09FU190ZXh0dXJlX2Zsb2F0X2xpbmVhcicpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIGEgbG9zdCB3ZWJnbCBjb250ZXh0XG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtXZWJHTENvbnRleHRFdmVudH0gZXZlbnQgLSBUaGUgY29udGV4dCBsb3N0IGV2ZW50LlxuICAgICAqL1xuICAgIHByb3RlY3RlZCBoYW5kbGVDb250ZXh0TG9zdChldmVudDogV2ViR0xDb250ZXh0RXZlbnQpOiB2b2lkXG4gICAge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgYSByZXN0b3JlZCB3ZWJnbCBjb250ZXh0XG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGhhbmRsZUNvbnRleHRSZXN0b3JlZCgpOiB2b2lkXG4gICAge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnJ1bm5lcnMuY29udGV4dENoYW5nZS5lbWl0KHRoaXMuZ2wpO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKTogdm9pZFxuICAgIHtcbiAgICAgICAgY29uc3QgdmlldyA9IHRoaXMucmVuZGVyZXIudmlldztcblxuICAgICAgICAvLyByZW1vdmUgbGlzdGVuZXJzXG4gICAgICAgICh2aWV3IGFzIGFueSkucmVtb3ZlRXZlbnRMaXN0ZW5lcignd2ViZ2xjb250ZXh0bG9zdCcsIHRoaXMuaGFuZGxlQ29udGV4dExvc3QpO1xuICAgICAgICB2aWV3LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3dlYmdsY29udGV4dHJlc3RvcmVkJywgdGhpcy5oYW5kbGVDb250ZXh0UmVzdG9yZWQpO1xuXG4gICAgICAgIHRoaXMuZ2wudXNlUHJvZ3JhbShudWxsKTtcblxuICAgICAgICBpZiAodGhpcy5leHRlbnNpb25zLmxvc2VDb250ZXh0KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmV4dGVuc2lvbnMubG9zZUNvbnRleHQubG9zZUNvbnRleHQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhhbmRsZSB0aGUgcG9zdC1yZW5kZXIgcnVubmVyIGV2ZW50XG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgcHJvdGVjdGVkIHBvc3RyZW5kZXIoKTogdm9pZFxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMucmVuZGVyZXIucmVuZGVyaW5nVG9TY3JlZW4pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZ2wuZmx1c2goKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFZhbGlkYXRlIGNvbnRleHRcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgLSBSZW5kZXIgY29udGV4dFxuICAgICAqL1xuICAgIHByb3RlY3RlZCB2YWxpZGF0ZUNvbnRleHQoZ2w6IElSZW5kZXJpbmdDb250ZXh0KTogdm9pZFxuICAgIHtcbiAgICAgICAgY29uc3QgYXR0cmlidXRlcyA9IGdsLmdldENvbnRleHRBdHRyaWJ1dGVzKCk7XG5cbiAgICAgICAgY29uc3QgaXNXZWJHbDIgPSAnV2ViR0wyUmVuZGVyaW5nQ29udGV4dCcgaW4gd2luZG93ICYmIGdsIGluc3RhbmNlb2Ygd2luZG93LldlYkdMMlJlbmRlcmluZ0NvbnRleHQ7XG5cbiAgICAgICAgaWYgKGlzV2ViR2wyKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLndlYkdMVmVyc2lvbiA9IDI7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0aGlzIGlzIGdvaW5nIHRvIGJlIGZhaXJseSBzaW1wbGUgZm9yIG5vdy4uIGJ1dCBhdCBsZWFzdCB3ZSBoYXZlIHJvb20gdG8gZ3JvdyFcbiAgICAgICAgaWYgKCFhdHRyaWJ1dGVzLnN0ZW5jaWwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4sIG5vLWNvbnNvbGUgKi9cbiAgICAgICAgICAgIGNvbnNvbGUud2FybignUHJvdmlkZWQgV2ViR0wgY29udGV4dCBkb2VzIG5vdCBoYXZlIGEgc3RlbmNpbCBidWZmZXIsIG1hc2tzIG1heSBub3QgcmVuZGVyIGNvcnJlY3RseScpO1xuICAgICAgICAgICAgLyogZXNsaW50LWVuYWJsZSBtYXgtbGVuLCBuby1jb25zb2xlICovXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBoYXN1aW50MzIgPSBpc1dlYkdsMiB8fCAhIShnbCBhcyBXZWJHTFJlbmRlcmluZ0NvbnRleHQpLmdldEV4dGVuc2lvbignT0VTX2VsZW1lbnRfaW5kZXhfdWludCcpO1xuXG4gICAgICAgIHRoaXMuc3VwcG9ydHMudWludDMySW5kaWNlcyA9IGhhc3VpbnQzMjtcblxuICAgICAgICBpZiAoIWhhc3VpbnQzMilcbiAgICAgICAge1xuICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiwgbm8tY29uc29sZSAqL1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdQcm92aWRlZCBXZWJHTCBjb250ZXh0IGRvZXMgbm90IHN1cHBvcnQgMzIgaW5kZXggYnVmZmVyLCBjb21wbGV4IGdyYXBoaWNzIG1heSBub3QgcmVuZGVyIGNvcnJlY3RseScpO1xuICAgICAgICAgICAgLyogZXNsaW50LWVuYWJsZSBtYXgtbGVuLCBuby1jb25zb2xlICovXG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgeyBNU0FBX1FVQUxJVFkgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuXG5pbXBvcnQgdHlwZSB7IEZyYW1lYnVmZmVyIH0gZnJvbSAnLi9GcmFtZWJ1ZmZlcic7XG5cbi8qKlxuICogSW50ZXJuYWwgZnJhbWVidWZmZXIgZm9yIFdlYkdMIGNvbnRleHRcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGNsYXNzIEdMRnJhbWVidWZmZXJcbntcbiAgICBwdWJsaWMgZnJhbWVidWZmZXI6IFdlYkdMRnJhbWVidWZmZXI7XG4gICAgcHVibGljIHN0ZW5jaWw6IFdlYkdMUmVuZGVyYnVmZmVyO1xuICAgIHB1YmxpYyBtdWx0aXNhbXBsZTogTVNBQV9RVUFMSVRZO1xuICAgIHB1YmxpYyBtc2FhQnVmZmVyOiBXZWJHTFJlbmRlcmJ1ZmZlcjtcbiAgICBwdWJsaWMgYmxpdEZyYW1lYnVmZmVyOiBGcmFtZWJ1ZmZlcjtcbiAgICBkaXJ0eUlkOiBudW1iZXI7XG4gICAgZGlydHlGb3JtYXQ6IG51bWJlcjtcbiAgICBkaXJ0eVNpemU6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKGZyYW1lYnVmZmVyOiBXZWJHTFRleHR1cmUpXG4gICAge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFdlYkdMIGZyYW1lYnVmZmVyXG4gICAgICAgICAqIEBtZW1iZXIge1dlYkdMRnJhbWVidWZmZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZyYW1lYnVmZmVyID0gZnJhbWVidWZmZXI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBzdGVuY2lsK2RlcHRoICwgdXN1YWxseSBjb3N0cyAzMmJpdHMgcGVyIHBpeGVsXG4gICAgICAgICAqIEBtZW1iZXIge1dlYkdMUmVuZGVyYnVmZmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdGVuY2lsID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGxhdGVzdCBrbm93biB2ZXJzaW9uIG9mIGZyYW1lYnVmZmVyXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kaXJ0eUlkID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGxhdGVzdCBrbm93biB2ZXJzaW9uIG9mIGZyYW1lYnVmZmVyIGZvcm1hdFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGlydHlGb3JtYXQgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogbGF0ZXN0IGtub3duIHZlcnNpb24gb2YgZnJhbWVidWZmZXIgc2l6ZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGlydHlTaXplID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGV0ZWN0ZWQgQUEgc2FtcGxlcyBudW1iZXJcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5NU0FBX1FVQUxJVFl9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm11bHRpc2FtcGxlID0gTVNBQV9RVUFMSVRZLk5PTkU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluIGNhc2UgTVNBQSwgd2UgdXNlIHRoaXMgUmVuZGVyYnVmZmVyIGluc3RlYWQgb2YgY29sb3JUZXh0dXJlc1swXSB3aGVuIHdlIHdyaXRlIGluZm9cbiAgICAgICAgICogQG1lbWJlciB7V2ViR0xSZW5kZXJidWZmZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1zYWFCdWZmZXIgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbiBjYXNlIHdlIHVzZSBNU0FBLCB0aGlzIGlzIGFjdHVhbCBmcmFtZWJ1ZmZlciB0aGF0IGhhcyBjb2xvclRleHR1cmVzWzBdXG4gICAgICAgICAqIFRoZSBjb250ZW50cyBvZiB0aGF0IGZyYW1lYnVmZmVyIGFyZSByZWFkIHdoZW4gd2UgdXNlIHRoYXQgcmVuZGVyVGV4dHVyZSBpbiBzcHJpdGVzXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuRnJhbWVidWZmZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmJsaXRGcmFtZWJ1ZmZlciA9IG51bGw7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgU3lzdGVtIH0gZnJvbSAnLi4vU3lzdGVtJztcbmltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IHsgRU5WLCBCVUZGRVJfQklUUywgTVNBQV9RVUFMSVRZIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnLi4vc2V0dGluZ3MnO1xuaW1wb3J0IHsgRnJhbWVidWZmZXIgfSBmcm9tICcuL0ZyYW1lYnVmZmVyJztcbmltcG9ydCB7IEdMRnJhbWVidWZmZXIgfSBmcm9tICcuL0dMRnJhbWVidWZmZXInO1xuXG5pbXBvcnQgdHlwZSB7IFJlbmRlcmVyIH0gZnJvbSAnLi4vUmVuZGVyZXInO1xuaW1wb3J0IHR5cGUgeyBJUmVuZGVyaW5nQ29udGV4dCB9IGZyb20gJy4uL0lSZW5kZXJpbmdDb250ZXh0JztcblxuY29uc3QgdGVtcFJlY3RhbmdsZSA9IG5ldyBSZWN0YW5nbGUoKTtcblxuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2UgZnJhbWVidWZmZXJzLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqIEBtZW1iZXJvZiBQSVhJLnN5c3RlbXNcbiAqL1xuZXhwb3J0IGNsYXNzIEZyYW1lYnVmZmVyU3lzdGVtIGV4dGVuZHMgU3lzdGVtXG57XG4gICAgcHVibGljIHJlYWRvbmx5IG1hbmFnZWRGcmFtZWJ1ZmZlcnM6IEFycmF5PEZyYW1lYnVmZmVyPjtcbiAgICBwdWJsaWMgY3VycmVudDogRnJhbWVidWZmZXI7XG4gICAgcHVibGljIHZpZXdwb3J0OiBSZWN0YW5nbGU7XG4gICAgcHVibGljIGhhc01SVDogYm9vbGVhbjtcbiAgICBwdWJsaWMgd3JpdGVEZXB0aFRleHR1cmU6IGJvb2xlYW47XG4gICAgcHJvdGVjdGVkIENPTlRFWFRfVUlEOiBudW1iZXI7XG4gICAgcHJvdGVjdGVkIGdsOiBJUmVuZGVyaW5nQ29udGV4dDtcbiAgICBwcm90ZWN0ZWQgdW5rbm93bkZyYW1lYnVmZmVyOiBGcmFtZWJ1ZmZlcjtcbiAgICBwcm90ZWN0ZWQgbXNhYVNhbXBsZXM6IEFycmF5PG51bWJlcj47XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgU3lzdGVtIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihyZW5kZXJlcjogUmVuZGVyZXIpXG4gICAge1xuICAgICAgICBzdXBlcihyZW5kZXJlcik7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgbGlzdCBvZiBtYW5hZ2VkIGZyYW1lYnVmZmVyc1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkZyYW1lYnVmZmVyW119XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYW5hZ2VkRnJhbWVidWZmZXJzID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZyYW1lYnVmZmVyIHZhbHVlIHRoYXQgc2hvd3MgdGhhdCB3ZSBkb24ndCBrbm93IHdoYXQgaXMgYm91bmRcbiAgICAgICAgICogQG1lbWJlciB7RnJhbWVidWZmZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51bmtub3duRnJhbWVidWZmZXIgPSBuZXcgRnJhbWVidWZmZXIoMTAsIDEwKTtcblxuICAgICAgICB0aGlzLm1zYWFTYW1wbGVzID0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHVwIHRoZSByZW5kZXJlciBjb250ZXh0IGFuZCBuZWNlc3NhcnkgYnVmZmVycy5cbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgY29udGV4dENoYW5nZSgpOiB2b2lkXG4gICAge1xuICAgICAgICBjb25zdCBnbCA9IHRoaXMuZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuXG4gICAgICAgIHRoaXMuQ09OVEVYVF9VSUQgPSB0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEO1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSB0aGlzLnVua25vd25GcmFtZWJ1ZmZlcjtcbiAgICAgICAgdGhpcy52aWV3cG9ydCA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICAgICAgdGhpcy5oYXNNUlQgPSB0cnVlO1xuICAgICAgICB0aGlzLndyaXRlRGVwdGhUZXh0dXJlID0gdHJ1ZTtcblxuICAgICAgICB0aGlzLmRpc3Bvc2VBbGwodHJ1ZSk7XG5cbiAgICAgICAgLy8gd2ViZ2wyXG4gICAgICAgIGlmICh0aGlzLnJlbmRlcmVyLmNvbnRleHQud2ViR0xWZXJzaW9uID09PSAxKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyB3ZWJnbCAxIVxuICAgICAgICAgICAgbGV0IG5hdGl2ZURyYXdCdWZmZXJzRXh0ZW5zaW9uID0gdGhpcy5yZW5kZXJlci5jb250ZXh0LmV4dGVuc2lvbnMuZHJhd0J1ZmZlcnM7XG4gICAgICAgICAgICBsZXQgbmF0aXZlRGVwdGhUZXh0dXJlRXh0ZW5zaW9uID0gdGhpcy5yZW5kZXJlci5jb250ZXh0LmV4dGVuc2lvbnMuZGVwdGhUZXh0dXJlO1xuXG4gICAgICAgICAgICBpZiAoc2V0dGluZ3MuUFJFRkVSX0VOViA9PT0gRU5WLldFQkdMX0xFR0FDWSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYXRpdmVEcmF3QnVmZmVyc0V4dGVuc2lvbiA9IG51bGw7XG4gICAgICAgICAgICAgICAgbmF0aXZlRGVwdGhUZXh0dXJlRXh0ZW5zaW9uID0gbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG5hdGl2ZURyYXdCdWZmZXJzRXh0ZW5zaW9uKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGdsLmRyYXdCdWZmZXJzID0gKGFjdGl2ZVRleHR1cmVzOiBudW1iZXJbXSk6IHZvaWQgPT5cbiAgICAgICAgICAgICAgICAgICAgbmF0aXZlRHJhd0J1ZmZlcnNFeHRlbnNpb24uZHJhd0J1ZmZlcnNXRUJHTChhY3RpdmVUZXh0dXJlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5oYXNNUlQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBnbC5kcmF3QnVmZmVycyA9ICgpOiB2b2lkID0+XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAvLyBlbXB0eVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghbmF0aXZlRGVwdGhUZXh0dXJlRXh0ZW5zaW9uKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMud3JpdGVEZXB0aFRleHR1cmUgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIFdlYkdMMlxuICAgICAgICAgICAgLy8gY2FjaGUgcG9zc2libGUgTVNBQSBzYW1wbGVzXG4gICAgICAgICAgICB0aGlzLm1zYWFTYW1wbGVzID0gZ2wuZ2V0SW50ZXJuYWxmb3JtYXRQYXJhbWV0ZXIoZ2wuUkVOREVSQlVGRkVSLCBnbC5SR0JBOCwgZ2wuU0FNUExFUyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBCaW5kIGEgZnJhbWVidWZmZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5GcmFtZWJ1ZmZlcn0gZnJhbWVidWZmZXJcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBbZnJhbWVdIGZyYW1lLCBkZWZhdWx0IGlzIGZyYW1lYnVmZmVyIHNpemVcbiAgICAgKi9cbiAgICBiaW5kKGZyYW1lYnVmZmVyPzogRnJhbWVidWZmZXIsIGZyYW1lPzogUmVjdGFuZ2xlKTogdm9pZFxuICAgIHtcbiAgICAgICAgY29uc3QgeyBnbCB9ID0gdGhpcztcblxuICAgICAgICBpZiAoZnJhbWVidWZmZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIFRPRE8gY2FjaGluZyBsYXllciFcblxuICAgICAgICAgICAgY29uc3QgZmJvID0gZnJhbWVidWZmZXIuZ2xGcmFtZWJ1ZmZlcnNbdGhpcy5DT05URVhUX1VJRF0gfHwgdGhpcy5pbml0RnJhbWVidWZmZXIoZnJhbWVidWZmZXIpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50ICE9PSBmcmFtZWJ1ZmZlcilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnQgPSBmcmFtZWJ1ZmZlcjtcbiAgICAgICAgICAgICAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIGZiby5mcmFtZWJ1ZmZlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBtYWtlIHN1cmUgYWxsIHRleHR1cmVzIGFyZSB1bmJvdW5kLi5cblxuICAgICAgICAgICAgLy8gbm93IGNoZWNrIGZvciB1cGRhdGVzLi4uXG4gICAgICAgICAgICBpZiAoZmJvLmRpcnR5SWQgIT09IGZyYW1lYnVmZmVyLmRpcnR5SWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZmJvLmRpcnR5SWQgPSBmcmFtZWJ1ZmZlci5kaXJ0eUlkO1xuXG4gICAgICAgICAgICAgICAgaWYgKGZiby5kaXJ0eUZvcm1hdCAhPT0gZnJhbWVidWZmZXIuZGlydHlGb3JtYXQpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBmYm8uZGlydHlGb3JtYXQgPSBmcmFtZWJ1ZmZlci5kaXJ0eUZvcm1hdDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVGcmFtZWJ1ZmZlcihmcmFtZWJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGZiby5kaXJ0eVNpemUgIT09IGZyYW1lYnVmZmVyLmRpcnR5U2l6ZSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGZiby5kaXJ0eVNpemUgPSBmcmFtZWJ1ZmZlci5kaXJ0eVNpemU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVzaXplRnJhbWVidWZmZXIoZnJhbWVidWZmZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmcmFtZWJ1ZmZlci5jb2xvclRleHR1cmVzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRleCA9IGZyYW1lYnVmZmVyLmNvbG9yVGV4dHVyZXNbaV07XG5cbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnRleHR1cmUudW5iaW5kKHRleC5wYXJlbnRUZXh0dXJlQXJyYXkgfHwgdGV4KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGZyYW1lYnVmZmVyLmRlcHRoVGV4dHVyZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnRleHR1cmUudW5iaW5kKGZyYW1lYnVmZmVyLmRlcHRoVGV4dHVyZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChmcmFtZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFZpZXdwb3J0KGZyYW1lLngsIGZyYW1lLnksIGZyYW1lLndpZHRoLCBmcmFtZS5oZWlnaHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0Vmlld3BvcnQoMCwgMCwgZnJhbWVidWZmZXIud2lkdGgsIGZyYW1lYnVmZmVyLmhlaWdodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudCA9IG51bGw7XG4gICAgICAgICAgICAgICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBudWxsKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGZyYW1lKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0Vmlld3BvcnQoZnJhbWUueCwgZnJhbWUueSwgZnJhbWUud2lkdGgsIGZyYW1lLmhlaWdodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRWaWV3cG9ydCgwLCAwLCB0aGlzLnJlbmRlcmVyLndpZHRoLCB0aGlzLnJlbmRlcmVyLmhlaWdodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIFdlYkdMUmVuZGVyaW5nQ29udGV4dCdzIHZpZXdwb3J0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHggLSBYIHBvc2l0aW9uIG9mIHZpZXdwb3J0XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHkgLSBZIHBvc2l0aW9uIG9mIHZpZXdwb3J0XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHdpZHRoIC0gV2lkdGggb2Ygdmlld3BvcnRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gaGVpZ2h0IC0gSGVpZ2h0IG9mIHZpZXdwb3J0XG4gICAgICovXG4gICAgc2V0Vmlld3BvcnQoeDogbnVtYmVyLCB5OiBudW1iZXIsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKTogdm9pZFxuICAgIHtcbiAgICAgICAgY29uc3QgdiA9IHRoaXMudmlld3BvcnQ7XG5cbiAgICAgICAgaWYgKHYud2lkdGggIT09IHdpZHRoIHx8IHYuaGVpZ2h0ICE9PSBoZWlnaHQgfHwgdi54ICE9PSB4IHx8IHYueSAhPT0geSlcbiAgICAgICAge1xuICAgICAgICAgICAgdi54ID0geDtcbiAgICAgICAgICAgIHYueSA9IHk7XG4gICAgICAgICAgICB2LndpZHRoID0gd2lkdGg7XG4gICAgICAgICAgICB2LmhlaWdodCA9IGhlaWdodDtcblxuICAgICAgICAgICAgdGhpcy5nbC52aWV3cG9ydCh4LCB5LCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgc2l6ZSBvZiB0aGUgY3VycmVudCB3aWR0aCBhbmQgaGVpZ2h0LiBSZXR1cm5zIG9iamVjdCB3aXRoIGB3aWR0aGAgYW5kIGBoZWlnaHRgIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICBnZXQgc2l6ZSgpOiB7IHg6IG51bWJlcjsgeTogbnVtYmVyOyB3aWR0aDogbnVtYmVyOyBoZWlnaHQ6IG51bWJlciB9XG4gICAge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50KVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBUT0RPIHN0b3JlIHRlbXBcbiAgICAgICAgICAgIHJldHVybiB7IHg6IDAsIHk6IDAsIHdpZHRoOiB0aGlzLmN1cnJlbnQud2lkdGgsIGhlaWdodDogdGhpcy5jdXJyZW50LmhlaWdodCB9O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHsgeDogMCwgeTogMCwgd2lkdGg6IHRoaXMucmVuZGVyZXIud2lkdGgsIGhlaWdodDogdGhpcy5yZW5kZXJlci5oZWlnaHQgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDbGVhciB0aGUgY29sb3Igb2YgdGhlIGNvbnRleHRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSByIC0gUmVkIHZhbHVlIGZyb20gMCB0byAxXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGcgLSBHcmVlbiB2YWx1ZSBmcm9tIDAgdG8gMVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBiIC0gQmx1ZSB2YWx1ZSBmcm9tIDAgdG8gMVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBhIC0gQWxwaGEgdmFsdWUgZnJvbSAwIHRvIDFcbiAgICAgKiBAcGFyYW0ge1BJWEkuQlVGRkVSX0JJVFN9IFttYXNrPUJVRkZFUl9CSVRTLkNPTE9SIHwgQlVGRkVSX0JJVFMuREVQVEhdIC0gQml0d2lzZSBPUiBvZiBtYXNrc1xuICAgICAqICB0aGF0IGluZGljYXRlIHRoZSBidWZmZXJzIHRvIGJlIGNsZWFyZWQsIGJ5IGRlZmF1bHQgQ09MT1IgYW5kIERFUFRIIGJ1ZmZlcnMuXG4gICAgICovXG4gICAgY2xlYXIocjogbnVtYmVyLCBnOiBudW1iZXIsIGI6IG51bWJlciwgYTogbnVtYmVyLCBtYXNrOiBCVUZGRVJfQklUUyA9IEJVRkZFUl9CSVRTLkNPTE9SIHwgQlVGRkVSX0JJVFMuREVQVEgpOiB2b2lkXG4gICAge1xuICAgICAgICBjb25zdCB7IGdsIH0gPSB0aGlzO1xuXG4gICAgICAgIC8vIFRPRE8gY2xlYXIgY29sb3IgY2FuIGJlIHNldCBvbmx5IG9uZSByaWdodD9cbiAgICAgICAgZ2wuY2xlYXJDb2xvcihyLCBnLCBiLCBhKTtcbiAgICAgICAgZ2wuY2xlYXIobWFzayk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSBmcmFtZWJ1ZmZlciBmb3IgdGhpcyBjb250ZXh0XG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLkZyYW1lYnVmZmVyfSBmcmFtZWJ1ZmZlclxuICAgICAqIEByZXR1cm5zIHtQSVhJLkdMRnJhbWVidWZmZXJ9IGNyZWF0ZWQgR0xGcmFtZWJ1ZmZlclxuICAgICAqL1xuICAgIGluaXRGcmFtZWJ1ZmZlcihmcmFtZWJ1ZmZlcjogRnJhbWVidWZmZXIpOiBHTEZyYW1lYnVmZmVyXG4gICAge1xuICAgICAgICBjb25zdCB7IGdsIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBmYm8gPSBuZXcgR0xGcmFtZWJ1ZmZlcihnbC5jcmVhdGVGcmFtZWJ1ZmZlcigpKTtcblxuICAgICAgICBmYm8ubXVsdGlzYW1wbGUgPSB0aGlzLmRldGVjdFNhbXBsZXMoZnJhbWVidWZmZXIubXVsdGlzYW1wbGUpO1xuICAgICAgICBmcmFtZWJ1ZmZlci5nbEZyYW1lYnVmZmVyc1t0aGlzLkNPTlRFWFRfVUlEXSA9IGZibztcblxuICAgICAgICB0aGlzLm1hbmFnZWRGcmFtZWJ1ZmZlcnMucHVzaChmcmFtZWJ1ZmZlcik7XG4gICAgICAgIGZyYW1lYnVmZmVyLmRpc3Bvc2VSdW5uZXIuYWRkKHRoaXMpO1xuXG4gICAgICAgIHJldHVybiBmYm87XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVzaXplIHRoZSBmcmFtZWJ1ZmZlclxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5GcmFtZWJ1ZmZlcn0gZnJhbWVidWZmZXJcbiAgICAgKi9cbiAgICByZXNpemVGcmFtZWJ1ZmZlcihmcmFtZWJ1ZmZlcjogRnJhbWVidWZmZXIpOiB2b2lkXG4gICAge1xuICAgICAgICBjb25zdCB7IGdsIH0gPSB0aGlzO1xuXG4gICAgICAgIGNvbnN0IGZibyA9IGZyYW1lYnVmZmVyLmdsRnJhbWVidWZmZXJzW3RoaXMuQ09OVEVYVF9VSURdO1xuXG4gICAgICAgIGlmIChmYm8uc3RlbmNpbClcbiAgICAgICAge1xuICAgICAgICAgICAgZ2wuYmluZFJlbmRlcmJ1ZmZlcihnbC5SRU5ERVJCVUZGRVIsIGZiby5zdGVuY2lsKTtcbiAgICAgICAgICAgIGdsLnJlbmRlcmJ1ZmZlclN0b3JhZ2UoZ2wuUkVOREVSQlVGRkVSLCBnbC5ERVBUSF9TVEVOQ0lMLCBmcmFtZWJ1ZmZlci53aWR0aCwgZnJhbWVidWZmZXIuaGVpZ2h0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGNvbG9yVGV4dHVyZXMgPSBmcmFtZWJ1ZmZlci5jb2xvclRleHR1cmVzO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29sb3JUZXh0dXJlcy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci50ZXh0dXJlLmJpbmQoY29sb3JUZXh0dXJlc1tpXSwgMCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZnJhbWVidWZmZXIuZGVwdGhUZXh0dXJlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnRleHR1cmUuYmluZChmcmFtZWJ1ZmZlci5kZXB0aFRleHR1cmUsIDApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlIHRoZSBmcmFtZWJ1ZmZlclxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5GcmFtZWJ1ZmZlcn0gZnJhbWVidWZmZXJcbiAgICAgKi9cbiAgICB1cGRhdGVGcmFtZWJ1ZmZlcihmcmFtZWJ1ZmZlcjogRnJhbWVidWZmZXIpOiB2b2lkXG4gICAge1xuICAgICAgICBjb25zdCB7IGdsIH0gPSB0aGlzO1xuXG4gICAgICAgIGNvbnN0IGZibyA9IGZyYW1lYnVmZmVyLmdsRnJhbWVidWZmZXJzW3RoaXMuQ09OVEVYVF9VSURdO1xuXG4gICAgICAgIC8vIGJpbmQgdGhlIGNvbG9yIHRleHR1cmVcbiAgICAgICAgY29uc3QgY29sb3JUZXh0dXJlcyA9IGZyYW1lYnVmZmVyLmNvbG9yVGV4dHVyZXM7XG5cbiAgICAgICAgbGV0IGNvdW50ID0gY29sb3JUZXh0dXJlcy5sZW5ndGg7XG5cbiAgICAgICAgaWYgKCFnbC5kcmF3QnVmZmVycylcbiAgICAgICAge1xuICAgICAgICAgICAgY291bnQgPSBNYXRoLm1pbihjb3VudCwgMSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZmJvLm11bHRpc2FtcGxlID4gMSlcbiAgICAgICAge1xuICAgICAgICAgICAgZmJvLm1zYWFCdWZmZXIgPSBnbC5jcmVhdGVSZW5kZXJidWZmZXIoKTtcbiAgICAgICAgICAgIGdsLmJpbmRSZW5kZXJidWZmZXIoZ2wuUkVOREVSQlVGRkVSLCBmYm8ubXNhYUJ1ZmZlcik7XG4gICAgICAgICAgICBnbC5yZW5kZXJidWZmZXJTdG9yYWdlTXVsdGlzYW1wbGUoZ2wuUkVOREVSQlVGRkVSLCBmYm8ubXVsdGlzYW1wbGUsXG4gICAgICAgICAgICAgICAgZ2wuUkdCQTgsIGZyYW1lYnVmZmVyLndpZHRoLCBmcmFtZWJ1ZmZlci5oZWlnaHQpO1xuICAgICAgICAgICAgZ2wuZnJhbWVidWZmZXJSZW5kZXJidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIGdsLkNPTE9SX0FUVEFDSE1FTlQwLCBnbC5SRU5ERVJCVUZGRVIsIGZiby5tc2FhQnVmZmVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGFjdGl2ZVRleHR1cmVzID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoaSA9PT0gMCAmJiBmYm8ubXVsdGlzYW1wbGUgPiAxKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCB0ZXh0dXJlID0gZnJhbWVidWZmZXIuY29sb3JUZXh0dXJlc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudFRleHR1cmUgPSB0ZXh0dXJlLnBhcmVudFRleHR1cmVBcnJheSB8fCB0ZXh0dXJlO1xuXG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnRleHR1cmUuYmluZChwYXJlbnRUZXh0dXJlLCAwKTtcblxuICAgICAgICAgICAgZ2wuZnJhbWVidWZmZXJUZXh0dXJlMkQoZ2wuRlJBTUVCVUZGRVIsXG4gICAgICAgICAgICAgICAgZ2wuQ09MT1JfQVRUQUNITUVOVDAgKyBpLFxuICAgICAgICAgICAgICAgIHRleHR1cmUudGFyZ2V0LFxuICAgICAgICAgICAgICAgIHBhcmVudFRleHR1cmUuX2dsVGV4dHVyZXNbdGhpcy5DT05URVhUX1VJRF0udGV4dHVyZSxcbiAgICAgICAgICAgICAgICAwKTtcblxuICAgICAgICAgICAgYWN0aXZlVGV4dHVyZXMucHVzaChnbC5DT0xPUl9BVFRBQ0hNRU5UMCArIGkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGFjdGl2ZVRleHR1cmVzLmxlbmd0aCA+IDEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsLmRyYXdCdWZmZXJzKGFjdGl2ZVRleHR1cmVzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChmcmFtZWJ1ZmZlci5kZXB0aFRleHR1cmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHdyaXRlRGVwdGhUZXh0dXJlID0gdGhpcy53cml0ZURlcHRoVGV4dHVyZTtcblxuICAgICAgICAgICAgaWYgKHdyaXRlRGVwdGhUZXh0dXJlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlcHRoVGV4dHVyZSA9IGZyYW1lYnVmZmVyLmRlcHRoVGV4dHVyZTtcblxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZXIudGV4dHVyZS5iaW5kKGRlcHRoVGV4dHVyZSwgMCk7XG5cbiAgICAgICAgICAgICAgICBnbC5mcmFtZWJ1ZmZlclRleHR1cmUyRChnbC5GUkFNRUJVRkZFUixcbiAgICAgICAgICAgICAgICAgICAgZ2wuREVQVEhfQVRUQUNITUVOVCxcbiAgICAgICAgICAgICAgICAgICAgZ2wuVEVYVFVSRV8yRCxcbiAgICAgICAgICAgICAgICAgICAgZGVwdGhUZXh0dXJlLl9nbFRleHR1cmVzW3RoaXMuQ09OVEVYVF9VSURdLnRleHR1cmUsXG4gICAgICAgICAgICAgICAgICAgIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFmYm8uc3RlbmNpbCAmJiAoZnJhbWVidWZmZXIuc3RlbmNpbCB8fCBmcmFtZWJ1ZmZlci5kZXB0aCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGZiby5zdGVuY2lsID0gZ2wuY3JlYXRlUmVuZGVyYnVmZmVyKCk7XG5cbiAgICAgICAgICAgIGdsLmJpbmRSZW5kZXJidWZmZXIoZ2wuUkVOREVSQlVGRkVSLCBmYm8uc3RlbmNpbCk7XG5cbiAgICAgICAgICAgIGdsLnJlbmRlcmJ1ZmZlclN0b3JhZ2UoZ2wuUkVOREVSQlVGRkVSLCBnbC5ERVBUSF9TVEVOQ0lMLCBmcmFtZWJ1ZmZlci53aWR0aCwgZnJhbWVidWZmZXIuaGVpZ2h0KTtcbiAgICAgICAgICAgIC8vIFRPRE8uLiB0aGlzIGlzIGRlcHRoIEFORCBzdGVuY2lsP1xuICAgICAgICAgICAgaWYgKCFmcmFtZWJ1ZmZlci5kZXB0aFRleHR1cmUpXG4gICAgICAgICAgICB7IC8vIHlvdSBjYW4ndCBoYXZlIGJvdGgsIHNvIG9uZSBzaG91bGQgdGFrZSBwcmlvcml0eSBpZiBlbmFibGVkXG4gICAgICAgICAgICAgICAgZ2wuZnJhbWVidWZmZXJSZW5kZXJidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIGdsLkRFUFRIX1NURU5DSUxfQVRUQUNITUVOVCwgZ2wuUkVOREVSQlVGRkVSLCBmYm8uc3RlbmNpbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXRlY3RzIG51bWJlciBvZiBzYW1wbGVzIHRoYXQgaXMgbm90IG1vcmUgdGhhbiBhIHBhcmFtIGJ1dCBhcyBjbG9zZSB0byBpdCBhcyBwb3NzaWJsZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1TQUFfUVVBTElUWX0gc2FtcGxlcyAtIG51bWJlciBvZiBzYW1wbGVzXG4gICAgICogQHJldHVybnMge1BJWEkuTVNBQV9RVUFMSVRZfSAtIHJlY29tbWVuZGVkIG51bWJlciBvZiBzYW1wbGVzXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGRldGVjdFNhbXBsZXMoc2FtcGxlczogTVNBQV9RVUFMSVRZKTogTVNBQV9RVUFMSVRZXG4gICAge1xuICAgICAgICBjb25zdCB7IG1zYWFTYW1wbGVzIH0gPSB0aGlzO1xuICAgICAgICBsZXQgcmVzID0gTVNBQV9RVUFMSVRZLk5PTkU7XG5cbiAgICAgICAgaWYgKHNhbXBsZXMgPD0gMSB8fCBtc2FhU2FtcGxlcyA9PT0gbnVsbClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1zYWFTYW1wbGVzLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAobXNhYVNhbXBsZXNbaV0gPD0gc2FtcGxlcylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXMgPSBtc2FhU2FtcGxlc1tpXTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZXMgPT09IDEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJlcyA9IE1TQUFfUVVBTElUWS5OT05FO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPbmx5IHdvcmtzIHdpdGggV2ViR0wyXG4gICAgICpcbiAgICAgKiBibGl0cyBmcmFtZWJ1ZmZlciB0byBhbm90aGVyIG9mIHRoZSBzYW1lIG9yIGJpZ2dlciBzaXplXG4gICAgICogYWZ0ZXIgdGhhdCB0YXJnZXQgZnJhbWVidWZmZXIgaXMgYm91bmRcbiAgICAgKlxuICAgICAqIEZhaWxzIHdpdGggV2ViR0wgd2FybmluZyBpZiBibGl0cyBtdWx0aXNhbXBsZSBmcmFtZWJ1ZmZlciB0byBkaWZmZXJlbnQgc2l6ZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkZyYW1lYnVmZmVyfSBbZnJhbWVidWZmZXJdIC0gYnkgZGVmYXVsdCBpdCBibGl0cyBcImludG8gaXRzZWxmXCIsIGZyb20gcmVuZGVyQnVmZmVyIHRvIHRleHR1cmUuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gW3NvdXJjZVBpeGVsc10gLSBzb3VyY2UgcmVjdGFuZ2xlIGluIHBpeGVsc1xuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IFtkZXN0UGl4ZWxzXSAtIGRlc3QgcmVjdGFuZ2xlIGluIHBpeGVscywgYXNzdW1lZCB0byBiZSB0aGUgc2FtZSBhcyBzb3VyY2VQaXhlbHNcbiAgICAgKi9cbiAgICBwdWJsaWMgYmxpdChmcmFtZWJ1ZmZlcj86IEZyYW1lYnVmZmVyLCBzb3VyY2VQaXhlbHM/OiBSZWN0YW5nbGUsIGRlc3RQaXhlbHM/OiBSZWN0YW5nbGUpOiB2b2lkXG4gICAge1xuICAgICAgICBjb25zdCB7IGN1cnJlbnQsIHJlbmRlcmVyLCBnbCwgQ09OVEVYVF9VSUQgfSA9IHRoaXM7XG5cbiAgICAgICAgaWYgKHJlbmRlcmVyLmNvbnRleHQud2ViR0xWZXJzaW9uICE9PSAyKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWN1cnJlbnQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBmYm8gPSBjdXJyZW50LmdsRnJhbWVidWZmZXJzW0NPTlRFWFRfVUlEXTtcblxuICAgICAgICBpZiAoIWZibylcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZnJhbWVidWZmZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChmYm8ubXVsdGlzYW1wbGUgPD0gMSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWZiby5ibGl0RnJhbWVidWZmZXIpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZmJvLmJsaXRGcmFtZWJ1ZmZlciA9IG5ldyBGcmFtZWJ1ZmZlcihjdXJyZW50LndpZHRoLCBjdXJyZW50LmhlaWdodCk7XG4gICAgICAgICAgICAgICAgZmJvLmJsaXRGcmFtZWJ1ZmZlci5hZGRDb2xvclRleHR1cmUoMCwgY3VycmVudC5jb2xvclRleHR1cmVzWzBdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZyYW1lYnVmZmVyID0gZmJvLmJsaXRGcmFtZWJ1ZmZlcjtcbiAgICAgICAgICAgIGZyYW1lYnVmZmVyLndpZHRoID0gY3VycmVudC53aWR0aDtcbiAgICAgICAgICAgIGZyYW1lYnVmZmVyLmhlaWdodCA9IGN1cnJlbnQuaGVpZ2h0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFzb3VyY2VQaXhlbHMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHNvdXJjZVBpeGVscyA9IHRlbXBSZWN0YW5nbGU7XG4gICAgICAgICAgICBzb3VyY2VQaXhlbHMud2lkdGggPSBjdXJyZW50LndpZHRoO1xuICAgICAgICAgICAgc291cmNlUGl4ZWxzLmhlaWdodCA9IGN1cnJlbnQuaGVpZ2h0O1xuICAgICAgICB9XG4gICAgICAgIGlmICghZGVzdFBpeGVscylcbiAgICAgICAge1xuICAgICAgICAgICAgZGVzdFBpeGVscyA9IHNvdXJjZVBpeGVscztcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHNhbWVTaXplID0gc291cmNlUGl4ZWxzLndpZHRoID09PSBkZXN0UGl4ZWxzLndpZHRoICYmIHNvdXJjZVBpeGVscy5oZWlnaHQgPT09IGRlc3RQaXhlbHMuaGVpZ2h0O1xuXG4gICAgICAgIHRoaXMuYmluZChmcmFtZWJ1ZmZlcik7XG4gICAgICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5SRUFEX0ZSQU1FQlVGRkVSLCBmYm8uZnJhbWVidWZmZXIpO1xuICAgICAgICBnbC5ibGl0RnJhbWVidWZmZXIoc291cmNlUGl4ZWxzLngsIHNvdXJjZVBpeGVscy55LCBzb3VyY2VQaXhlbHMud2lkdGgsIHNvdXJjZVBpeGVscy5oZWlnaHQsXG4gICAgICAgICAgICBkZXN0UGl4ZWxzLngsIGRlc3RQaXhlbHMueSwgZGVzdFBpeGVscy53aWR0aCwgZGVzdFBpeGVscy5oZWlnaHQsXG4gICAgICAgICAgICBnbC5DT0xPUl9CVUZGRVJfQklULCBzYW1lU2l6ZSA/IGdsLk5FQVJFU1QgOiBnbC5MSU5FQVJcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEaXNwb3NlcyBmcmFtZWJ1ZmZlclxuICAgICAqIEBwYXJhbSB7UElYSS5GcmFtZWJ1ZmZlcn0gZnJhbWVidWZmZXIgLSBmcmFtZWJ1ZmZlciB0aGF0IGhhcyB0byBiZSBkaXNwb3NlZCBvZlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2NvbnRleHRMb3N0PWZhbHNlXSAtIElmIGNvbnRleHQgd2FzIGxvc3QsIHdlIHN1cHByZXNzIGFsbCBkZWxldGUgZnVuY3Rpb24gY2FsbHNcbiAgICAgKi9cbiAgICBkaXNwb3NlRnJhbWVidWZmZXIoZnJhbWVidWZmZXI6IEZyYW1lYnVmZmVyLCBjb250ZXh0TG9zdD86IGJvb2xlYW4pOiB2b2lkXG4gICAge1xuICAgICAgICBjb25zdCBmYm8gPSBmcmFtZWJ1ZmZlci5nbEZyYW1lYnVmZmVyc1t0aGlzLkNPTlRFWFRfVUlEXTtcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmdsO1xuXG4gICAgICAgIGlmICghZmJvKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBkZWxldGUgZnJhbWVidWZmZXIuZ2xGcmFtZWJ1ZmZlcnNbdGhpcy5DT05URVhUX1VJRF07XG5cbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLm1hbmFnZWRGcmFtZWJ1ZmZlcnMuaW5kZXhPZihmcmFtZWJ1ZmZlcik7XG5cbiAgICAgICAgaWYgKGluZGV4ID49IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMubWFuYWdlZEZyYW1lYnVmZmVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnJhbWVidWZmZXIuZGlzcG9zZVJ1bm5lci5yZW1vdmUodGhpcyk7XG5cbiAgICAgICAgaWYgKCFjb250ZXh0TG9zdClcbiAgICAgICAge1xuICAgICAgICAgICAgZ2wuZGVsZXRlRnJhbWVidWZmZXIoZmJvLmZyYW1lYnVmZmVyKTtcblxuICAgICAgICAgICAgaWYgKGZiby5zdGVuY2lsKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGdsLmRlbGV0ZVJlbmRlcmJ1ZmZlcihmYm8uc3RlbmNpbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEaXNwb3NlcyBhbGwgZnJhbWVidWZmZXJzLCBidXQgbm90IHRleHR1cmVzIGJvdW5kIHRvIHRoZW1cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjb250ZXh0TG9zdD1mYWxzZV0gLSBJZiBjb250ZXh0IHdhcyBsb3N0LCB3ZSBzdXBwcmVzcyBhbGwgZGVsZXRlIGZ1bmN0aW9uIGNhbGxzXG4gICAgICovXG4gICAgZGlzcG9zZUFsbChjb250ZXh0TG9zdD86IGJvb2xlYW4pOiB2b2lkXG4gICAge1xuICAgICAgICBjb25zdCBsaXN0ID0gdGhpcy5tYW5hZ2VkRnJhbWVidWZmZXJzO1xuXG4gICAgICAgICh0aGlzLm1hbmFnZWRGcmFtZWJ1ZmZlcnMgYXMgYW55KSA9IFtdO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5kaXNwb3NlRnJhbWVidWZmZXIobGlzdFtpXSwgY29udGV4dExvc3QpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRm9yY2luZyBjcmVhdGlvbiBvZiBzdGVuY2lsIGJ1ZmZlciBmb3IgY3VycmVudCBmcmFtZWJ1ZmZlciwgaWYgaXQgd2Fzbid0IGRvbmUgYmVmb3JlLlxuICAgICAqIFVzZWQgYnkgTWFza1N5c3RlbSwgd2hlbiBpdHMgdGltZSB0byB1c2Ugc3RlbmNpbCBtYXNrIGZvciBHcmFwaGljcyBlbGVtZW50LlxuICAgICAqXG4gICAgICogSXRzIGFuIGFsdGVybmF0aXZlIGZvciBwdWJsaWMgbGF6eSBgZnJhbWVidWZmZXIuZW5hYmxlU3RlbmNpbGAsIGluIGNhc2Ugd2UgbmVlZCBzdGVuY2lsIHdpdGhvdXQgcmViaW5kLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBmb3JjZVN0ZW5jaWwoKTogdm9pZFxuICAgIHtcbiAgICAgICAgY29uc3QgZnJhbWVidWZmZXIgPSB0aGlzLmN1cnJlbnQ7XG5cbiAgICAgICAgaWYgKCFmcmFtZWJ1ZmZlcilcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZmJvID0gZnJhbWVidWZmZXIuZ2xGcmFtZWJ1ZmZlcnNbdGhpcy5DT05URVhUX1VJRF07XG5cbiAgICAgICAgaWYgKCFmYm8gfHwgZmJvLnN0ZW5jaWwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBmcmFtZWJ1ZmZlci5lbmFibGVTdGVuY2lsKCk7XG5cbiAgICAgICAgY29uc3QgdyA9IGZyYW1lYnVmZmVyLndpZHRoO1xuICAgICAgICBjb25zdCBoID0gZnJhbWVidWZmZXIuaGVpZ2h0O1xuICAgICAgICBjb25zdCBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIGNvbnN0IHN0ZW5jaWwgPSBnbC5jcmVhdGVSZW5kZXJidWZmZXIoKTtcblxuICAgICAgICBnbC5iaW5kUmVuZGVyYnVmZmVyKGdsLlJFTkRFUkJVRkZFUiwgc3RlbmNpbCk7XG4gICAgICAgIGdsLnJlbmRlcmJ1ZmZlclN0b3JhZ2UoZ2wuUkVOREVSQlVGRkVSLCBnbC5ERVBUSF9TVEVOQ0lMLCB3LCBoKTtcblxuICAgICAgICBmYm8uc3RlbmNpbCA9IHN0ZW5jaWw7XG4gICAgICAgIGdsLmZyYW1lYnVmZmVyUmVuZGVyYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBnbC5ERVBUSF9TVEVOQ0lMX0FUVEFDSE1FTlQsIGdsLlJFTkRFUkJVRkZFUiwgc3RlbmNpbCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogcmVzZXRzIGZyYW1lYnVmZmVyIHN0b3JlZCBzdGF0ZSwgYmluZHMgc2NyZWVuIGZyYW1lYnVmZmVyXG4gICAgICpcbiAgICAgKiBzaG91bGQgYmUgY2FsbGVkIGJlZm9yZSByZW5kZXJUZXh0dXJlIHJlc2V0KClcbiAgICAgKi9cbiAgICByZXNldCgpOiB2b2lkXG4gICAge1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSB0aGlzLnVua25vd25GcmFtZWJ1ZmZlcjtcbiAgICAgICAgdGhpcy52aWV3cG9ydCA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICB9XG59XG4iLCJleHBvcnQgY2xhc3MgR0xCdWZmZXJcbntcbiAgICBidWZmZXI6IFdlYkdMQnVmZmVyO1xuICAgIHVwZGF0ZUlEOiBudW1iZXI7XG4gICAgYnl0ZUxlbmd0aDogbnVtYmVyO1xuICAgIHJlZkNvdW50OiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihidWZmZXI/OiBXZWJHTEJ1ZmZlcilcbiAgICB7XG4gICAgICAgIHRoaXMuYnVmZmVyID0gYnVmZmVyIHx8IG51bGw7XG4gICAgICAgIHRoaXMudXBkYXRlSUQgPSAtMTtcbiAgICAgICAgdGhpcy5ieXRlTGVuZ3RoID0gLTE7XG4gICAgICAgIHRoaXMucmVmQ291bnQgPSAwO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFN5c3RlbSB9IGZyb20gJy4uL1N5c3RlbSc7XG5pbXBvcnQgeyBHTEJ1ZmZlciB9IGZyb20gJy4vR0xCdWZmZXInO1xuaW1wb3J0IHsgRU5WIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnLi4vc2V0dGluZ3MnO1xuXG5pbXBvcnQgdHlwZSB7IERSQVdfTU9ERVMgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuaW1wb3J0IHR5cGUgeyBSZW5kZXJlciB9IGZyb20gJy4uL1JlbmRlcmVyJztcbmltcG9ydCB0eXBlIHsgSVJlbmRlcmluZ0NvbnRleHQgfSBmcm9tICcuLi9JUmVuZGVyaW5nQ29udGV4dCc7XG5pbXBvcnQgdHlwZSB7IEdlb21ldHJ5IH0gZnJvbSAnLi9HZW9tZXRyeSc7XG5pbXBvcnQgdHlwZSB7IFNoYWRlciB9IGZyb20gJy4uL3NoYWRlci9TaGFkZXInO1xuaW1wb3J0IHR5cGUgeyBQcm9ncmFtIH0gZnJvbSAnLi4vc2hhZGVyL1Byb2dyYW0nO1xuaW1wb3J0IHR5cGUgeyBCdWZmZXIgfSBmcm9tICcuL0J1ZmZlcic7XG5pbXBvcnQgdHlwZSB7IERpY3QgfSBmcm9tICdAcGl4aS91dGlscyc7XG5cbmNvbnN0IGJ5dGVTaXplTWFwOiB7W2tleTogbnVtYmVyXTogbnVtYmVyfSA9IHsgNTEyNjogNCwgNTEyMzogMiwgNTEyMTogMSB9O1xuXG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSBnZW9tZXRyeS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKiBAbWVtYmVyb2YgUElYSS5zeXN0ZW1zXG4gKi9cbmV4cG9ydCBjbGFzcyBHZW9tZXRyeVN5c3RlbSBleHRlbmRzIFN5c3RlbVxue1xuICAgIHB1YmxpYyBoYXNWYW86IGJvb2xlYW47XG4gICAgcHVibGljIGhhc0luc3RhbmNlOiBib29sZWFuO1xuICAgIHB1YmxpYyBjYW5Vc2VVSW50MzJFbGVtZW50SW5kZXg6IGJvb2xlYW47XG4gICAgcHJvdGVjdGVkIENPTlRFWFRfVUlEOiBudW1iZXI7XG4gICAgcHJvdGVjdGVkIGdsOiBJUmVuZGVyaW5nQ29udGV4dDtcbiAgICBwcm90ZWN0ZWQgX2FjdGl2ZUdlb21ldHJ5OiBHZW9tZXRyeTtcbiAgICBwcm90ZWN0ZWQgX2FjdGl2ZVZhbzogV2ViR0xWZXJ0ZXhBcnJheU9iamVjdDtcbiAgICBwcm90ZWN0ZWQgX2JvdW5kQnVmZmVyOiBHTEJ1ZmZlcjtcbiAgICByZWFkb25seSBtYW5hZ2VkR2VvbWV0cmllczoge1trZXk6IG51bWJlcl06IEdlb21ldHJ5fTtcbiAgICByZWFkb25seSBtYW5hZ2VkQnVmZmVyczoge1trZXk6IG51bWJlcl06IEJ1ZmZlcn07XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgU3lzdGVtIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihyZW5kZXJlcjogUmVuZGVyZXIpXG4gICAge1xuICAgICAgICBzdXBlcihyZW5kZXJlcik7XG5cbiAgICAgICAgdGhpcy5fYWN0aXZlR2VvbWV0cnkgPSBudWxsO1xuICAgICAgICB0aGlzLl9hY3RpdmVWYW8gPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBgdHJ1ZWAgaWYgd2UgaGFzIGAqX3ZlcnRleF9hcnJheV9vYmplY3RgIGV4dGVuc2lvblxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaGFzVmFvID0gdHJ1ZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogYHRydWVgIGlmIGhhcyBgQU5HTEVfaW5zdGFuY2VkX2FycmF5c2AgZXh0ZW5zaW9uXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5oYXNJbnN0YW5jZSA9IHRydWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGB0cnVlYCBpZiBzdXBwb3J0IGBnbC5VTlNJR05FRF9JTlRgIGluIGBnbC5kcmF3RWxlbWVudHNgIG9yIGBnbC5kcmF3RWxlbWVudHNJbnN0YW5jZWRgXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jYW5Vc2VVSW50MzJFbGVtZW50SW5kZXggPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ2FjaGUgZm9yIGFsbCBnZW9tZXRyaWVzIGJ5IGlkLCB1c2VkIGluIGNhc2UgcmVuZGVyZXIgZ2V0cyBkZXN0cm95ZWQgb3IgZm9yIHByb2ZpbGluZ1xuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYW5hZ2VkR2VvbWV0cmllcyA9IHt9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWNoZSBmb3IgYWxsIGJ1ZmZlcnMgYnkgaWQsIHVzZWQgaW4gY2FzZSByZW5kZXJlciBnZXRzIGRlc3Ryb3llZCBvciBmb3IgcHJvZmlsaW5nXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1hbmFnZWRCdWZmZXJzID0ge307XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB1cCB0aGUgcmVuZGVyZXIgY29udGV4dCBhbmQgbmVjZXNzYXJ5IGJ1ZmZlcnMuXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGNvbnRleHRDaGFuZ2UoKTogdm9pZFxuICAgIHtcbiAgICAgICAgdGhpcy5kaXNwb3NlQWxsKHRydWUpO1xuXG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5nbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLnJlbmRlcmVyLmNvbnRleHQ7XG5cbiAgICAgICAgdGhpcy5DT05URVhUX1VJRCA9IHRoaXMucmVuZGVyZXIuQ09OVEVYVF9VSUQ7XG5cbiAgICAgICAgLy8gd2ViZ2wyXG4gICAgICAgIGlmIChjb250ZXh0LndlYkdMVmVyc2lvbiAhPT0gMilcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gd2ViZ2wgMSFcbiAgICAgICAgICAgIGxldCBuYXRpdmVWYW9FeHRlbnNpb24gPSB0aGlzLnJlbmRlcmVyLmNvbnRleHQuZXh0ZW5zaW9ucy52ZXJ0ZXhBcnJheU9iamVjdDtcblxuICAgICAgICAgICAgaWYgKHNldHRpbmdzLlBSRUZFUl9FTlYgPT09IEVOVi5XRUJHTF9MRUdBQ1kpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmF0aXZlVmFvRXh0ZW5zaW9uID0gbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG5hdGl2ZVZhb0V4dGVuc2lvbilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBnbC5jcmVhdGVWZXJ0ZXhBcnJheSA9ICgpOiBXZWJHTFZlcnRleEFycmF5T2JqZWN0ID0+XG4gICAgICAgICAgICAgICAgICAgIG5hdGl2ZVZhb0V4dGVuc2lvbi5jcmVhdGVWZXJ0ZXhBcnJheU9FUygpO1xuXG4gICAgICAgICAgICAgICAgZ2wuYmluZFZlcnRleEFycmF5ID0gKHZhbyk6IHZvaWQgPT5cbiAgICAgICAgICAgICAgICAgICAgbmF0aXZlVmFvRXh0ZW5zaW9uLmJpbmRWZXJ0ZXhBcnJheU9FUyh2YW8pO1xuXG4gICAgICAgICAgICAgICAgZ2wuZGVsZXRlVmVydGV4QXJyYXkgPSAodmFvKTogdm9pZCA9PlxuICAgICAgICAgICAgICAgICAgICBuYXRpdmVWYW9FeHRlbnNpb24uZGVsZXRlVmVydGV4QXJyYXlPRVModmFvKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhhc1ZhbyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGdsLmNyZWF0ZVZlcnRleEFycmF5ID0gKCk6IFdlYkdMVmVydGV4QXJyYXlPYmplY3QgPT5cbiAgICAgICAgICAgICAgICAgICAgbnVsbDtcblxuICAgICAgICAgICAgICAgIGdsLmJpbmRWZXJ0ZXhBcnJheSA9ICgpOiB2b2lkID0+XG4gICAgICAgICAgICAgICAgICAgIG51bGw7XG5cbiAgICAgICAgICAgICAgICBnbC5kZWxldGVWZXJ0ZXhBcnJheSA9ICgpOiB2b2lkID0+XG4gICAgICAgICAgICAgICAgICAgIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29udGV4dC53ZWJHTFZlcnNpb24gIT09IDIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGluc3RhbmNlRXh0ID0gZ2wuZ2V0RXh0ZW5zaW9uKCdBTkdMRV9pbnN0YW5jZWRfYXJyYXlzJyk7XG5cbiAgICAgICAgICAgIGlmIChpbnN0YW5jZUV4dClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBnbC52ZXJ0ZXhBdHRyaWJEaXZpc29yID0gKGEsIGIpOiB2b2lkID0+XG4gICAgICAgICAgICAgICAgICAgIGluc3RhbmNlRXh0LnZlcnRleEF0dHJpYkRpdmlzb3JBTkdMRShhLCBiKTtcblxuICAgICAgICAgICAgICAgIGdsLmRyYXdFbGVtZW50c0luc3RhbmNlZCA9IChhLCBiLCBjLCBkLCBlKTogdm9pZCA9PlxuICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZUV4dC5kcmF3RWxlbWVudHNJbnN0YW5jZWRBTkdMRShhLCBiLCBjLCBkLCBlKTtcblxuICAgICAgICAgICAgICAgIGdsLmRyYXdBcnJheXNJbnN0YW5jZWQgPSAoYSwgYiwgYywgZCk6IHZvaWQgPT5cbiAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2VFeHQuZHJhd0FycmF5c0luc3RhbmNlZEFOR0xFKGEsIGIsIGMsIGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuaGFzSW5zdGFuY2UgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY2FuVXNlVUludDMyRWxlbWVudEluZGV4ID0gY29udGV4dC53ZWJHTFZlcnNpb24gPT09IDIgfHwgISFjb250ZXh0LmV4dGVuc2lvbnMudWludDMyRWxlbWVudEluZGV4O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEJpbmRzIGdlb21ldHJ5IHNvIHRoYXQgaXMgY2FuIGJlIGRyYXduLiBDcmVhdGluZyBhIFZhbyBpZiByZXF1aXJlZFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkdlb21ldHJ5fSBnZW9tZXRyeSAtIGluc3RhbmNlIG9mIGdlb21ldHJ5IHRvIGJpbmRcbiAgICAgKiBAcGFyYW0ge1BJWEkuU2hhZGVyfSBbc2hhZGVyXSAtIGluc3RhbmNlIG9mIHNoYWRlciB0byB1c2UgdmFvIGZvclxuICAgICAqL1xuICAgIGJpbmQoZ2VvbWV0cnk/OiBHZW9tZXRyeSwgc2hhZGVyPzogU2hhZGVyKTogdm9pZFxuICAgIHtcbiAgICAgICAgc2hhZGVyID0gc2hhZGVyIHx8IHRoaXMucmVuZGVyZXIuc2hhZGVyLnNoYWRlcjtcblxuICAgICAgICBjb25zdCB7IGdsIH0gPSB0aGlzO1xuXG4gICAgICAgIC8vIG5vdCBzdXJlIHRoZSBiZXN0IHdheSB0byBhZGRyZXNzIHRoaXMuLlxuICAgICAgICAvLyBjdXJyZW50bHkgZGlmZmVyZW50IHNoYWRlcnMgcmVxdWlyZSBkaWZmZXJlbnQgVkFPcyBmb3IgdGhlIHNhbWUgZ2VvbWV0cnlcbiAgICAgICAgLy8gU3RpbGwgbXVsbGluZyBvdmVyIHRoZSBiZXN0IHdheSB0byBzb2x2ZSB0aGlzIG9uZS4uXG4gICAgICAgIC8vIHdpbGwgbGlrZWx5IG5lZWQgdG8gbW9kaWZ5IHRoZSBzaGFkZXIgYXR0cmlidXRlIGxvY2F0aW9ucyBhdCBydW4gdGltZSFcbiAgICAgICAgbGV0IHZhb3MgPSBnZW9tZXRyeS5nbFZlcnRleEFycmF5T2JqZWN0c1t0aGlzLkNPTlRFWFRfVUlEXTtcbiAgICAgICAgbGV0IGluY1JlZkNvdW50ID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKCF2YW9zKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLm1hbmFnZWRHZW9tZXRyaWVzW2dlb21ldHJ5LmlkXSA9IGdlb21ldHJ5O1xuICAgICAgICAgICAgZ2VvbWV0cnkuZGlzcG9zZVJ1bm5lci5hZGQodGhpcyk7XG4gICAgICAgICAgICBnZW9tZXRyeS5nbFZlcnRleEFycmF5T2JqZWN0c1t0aGlzLkNPTlRFWFRfVUlEXSA9IHZhb3MgPSB7fTtcbiAgICAgICAgICAgIGluY1JlZkNvdW50ID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHZhbyA9IHZhb3Nbc2hhZGVyLnByb2dyYW0uaWRdIHx8IHRoaXMuaW5pdEdlb21ldHJ5VmFvKGdlb21ldHJ5LCBzaGFkZXIucHJvZ3JhbSwgaW5jUmVmQ291bnQpO1xuXG4gICAgICAgIHRoaXMuX2FjdGl2ZUdlb21ldHJ5ID0gZ2VvbWV0cnk7XG5cbiAgICAgICAgaWYgKHRoaXMuX2FjdGl2ZVZhbyAhPT0gdmFvKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9hY3RpdmVWYW8gPSB2YW87XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmhhc1ZhbylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBnbC5iaW5kVmVydGV4QXJyYXkodmFvKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFjdGl2YXRlVmFvKGdlb21ldHJ5LCBzaGFkZXIucHJvZ3JhbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUT0RPIC0gb3B0aW1pc2UgbGF0ZXIhXG4gICAgICAgIC8vIGRvbid0IG5lZWQgdG8gbG9vcCB0aHJvdWdoIGlmIG5vdGhpbmcgY2hhbmdlZCFcbiAgICAgICAgLy8gbWF5YmUgbG9vayB0byBhZGQgYW4gJ2F1dG91cGRhdGUnIHRvIGdlb21ldHJ5P1xuICAgICAgICB0aGlzLnVwZGF0ZUJ1ZmZlcnMoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXNldCBhbmQgdW5iaW5kIGFueSBhY3RpdmUgVkFPIGFuZCBnZW9tZXRyeVxuICAgICAqL1xuICAgIHJlc2V0KCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHRoaXMudW5iaW5kKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlIGJ1ZmZlcnNcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgdXBkYXRlQnVmZmVycygpOiB2b2lkXG4gICAge1xuICAgICAgICBjb25zdCBnZW9tZXRyeSA9IHRoaXMuX2FjdGl2ZUdlb21ldHJ5O1xuICAgICAgICBjb25zdCB7IGdsIH0gPSB0aGlzO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ2VvbWV0cnkuYnVmZmVycy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgYnVmZmVyID0gZ2VvbWV0cnkuYnVmZmVyc1tpXTtcblxuICAgICAgICAgICAgY29uc3QgZ2xCdWZmZXIgPSBidWZmZXIuX2dsQnVmZmVyc1t0aGlzLkNPTlRFWFRfVUlEXTtcblxuICAgICAgICAgICAgaWYgKGJ1ZmZlci5fdXBkYXRlSUQgIT09IGdsQnVmZmVyLnVwZGF0ZUlEKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGdsQnVmZmVyLnVwZGF0ZUlEID0gYnVmZmVyLl91cGRhdGVJRDtcblxuICAgICAgICAgICAgICAgIC8vIFRPRE8gY2FuIGNhY2hlIHRoaXMgb24gYnVmZmVyISBtYXliZSBhZGRlZCBhIGdldHRlciAvIHNldHRlcj9cbiAgICAgICAgICAgICAgICBjb25zdCB0eXBlID0gYnVmZmVyLmluZGV4ID8gZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIgOiBnbC5BUlJBWV9CVUZGRVI7XG5cbiAgICAgICAgICAgICAgICAvLyBUT0RPIHRoaXMgY291bGQgY2hhbmdlIGlmIHRoZSBWQU8gY2hhbmdlcy4uLlxuICAgICAgICAgICAgICAgIC8vIG5lZWQgdG8gY29tZSB1cCB3aXRoIGEgYmV0dGVyIHdheSB0byBjYWNoZS4uXG4gICAgICAgICAgICAgICAgLy8gaWYgKHRoaXMuYm91bmRCdWZmZXJzW3R5cGVdICE9PSBnbEJ1ZmZlcilcbiAgICAgICAgICAgICAgICAvLyB7XG4gICAgICAgICAgICAgICAgLy8gdGhpcy5ib3VuZEJ1ZmZlcnNbdHlwZV0gPSBnbEJ1ZmZlcjtcbiAgICAgICAgICAgICAgICBnbC5iaW5kQnVmZmVyKHR5cGUsIGdsQnVmZmVyLmJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgLy8gfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5fYm91bmRCdWZmZXIgPSBnbEJ1ZmZlcjtcblxuICAgICAgICAgICAgICAgIGlmIChnbEJ1ZmZlci5ieXRlTGVuZ3RoID49IGJ1ZmZlci5kYXRhLmJ5dGVMZW5ndGgpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAvLyBvZmZzZXQgaXMgYWx3YXlzIHplcm8gZm9yIG5vdyFcbiAgICAgICAgICAgICAgICAgICAgZ2wuYnVmZmVyU3ViRGF0YSh0eXBlLCAwLCBidWZmZXIuZGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRyYXdUeXBlID0gYnVmZmVyLnN0YXRpYyA/IGdsLlNUQVRJQ19EUkFXIDogZ2wuRFlOQU1JQ19EUkFXO1xuXG4gICAgICAgICAgICAgICAgICAgIGdsQnVmZmVyLmJ5dGVMZW5ndGggPSBidWZmZXIuZGF0YS5ieXRlTGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICBnbC5idWZmZXJEYXRhKHR5cGUsIGJ1ZmZlci5kYXRhLCBkcmF3VHlwZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgY29tcGFiaWxpdHkgYmV0d2VlbiBhIGdlb21ldHJ5IGFuZCBhIHByb2dyYW1cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLkdlb21ldHJ5fSBnZW9tZXRyeSAtIEdlb21ldHJ5IGluc3RhbmNlXG4gICAgICogQHBhcmFtIHtQSVhJLlByb2dyYW19IHByb2dyYW0gLSBQcm9ncmFtIGluc3RhbmNlXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGNoZWNrQ29tcGF0aWJpbGl0eShnZW9tZXRyeTogR2VvbWV0cnksIHByb2dyYW06IFByb2dyYW0pOiB2b2lkXG4gICAge1xuICAgICAgICAvLyBnZW9tZXRyeSBtdXN0IGhhdmUgYXQgbGVhc3QgYWxsIHRoZSBhdHRyaWJ1dGVzIHRoYXQgdGhlIHNoYWRlciByZXF1aXJlcy5cbiAgICAgICAgY29uc3QgZ2VvbWV0cnlBdHRyaWJ1dGVzID0gZ2VvbWV0cnkuYXR0cmlidXRlcztcbiAgICAgICAgY29uc3Qgc2hhZGVyQXR0cmlidXRlcyA9IHByb2dyYW0uYXR0cmlidXRlRGF0YTtcblxuICAgICAgICBmb3IgKGNvbnN0IGogaW4gc2hhZGVyQXR0cmlidXRlcylcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCFnZW9tZXRyeUF0dHJpYnV0ZXNbal0pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBzaGFkZXIgYW5kIGdlb21ldHJ5IGluY29tcGF0aWJsZSwgZ2VvbWV0cnkgbWlzc2luZyB0aGUgXCIke2p9XCIgYXR0cmlidXRlYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUYWtlcyBhIGdlb21ldHJ5IGFuZCBwcm9ncmFtIGFuZCBnZW5lcmF0ZXMgYSB1bmlxdWUgc2lnbmF0dXJlIGZvciB0aGVtLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkdlb21ldHJ5fSBnZW9tZXRyeSAtIHRvIGdldCBzaWduYXR1cmUgZnJvbVxuICAgICAqIEBwYXJhbSB7UElYSS5Qcm9ncmFtfSBwcm9ncmFtIC0gdG8gdGVzdCBnZW9tZXRyeSBhZ2FpbnN0XG4gICAgICogQHJldHVybnMge1N0cmluZ30gVW5pcXVlIHNpZ25hdHVyZSBvZiB0aGUgZ2VvbWV0cnkgYW5kIHByb2dyYW1cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGdldFNpZ25hdHVyZShnZW9tZXRyeTogR2VvbWV0cnksIHByb2dyYW06IFByb2dyYW0pOiBzdHJpbmdcbiAgICB7XG4gICAgICAgIGNvbnN0IGF0dHJpYnMgPSBnZW9tZXRyeS5hdHRyaWJ1dGVzO1xuICAgICAgICBjb25zdCBzaGFkZXJBdHRyaWJ1dGVzID0gcHJvZ3JhbS5hdHRyaWJ1dGVEYXRhO1xuXG4gICAgICAgIGNvbnN0IHN0cmluZ3MgPSBbJ2cnLCBnZW9tZXRyeS5pZF07XG5cbiAgICAgICAgZm9yIChjb25zdCBpIGluIGF0dHJpYnMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChzaGFkZXJBdHRyaWJ1dGVzW2ldKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0cmluZ3MucHVzaChpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzdHJpbmdzLmpvaW4oJy0nKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIG9yIGdldHMgVmFvIHdpdGggdGhlIHNhbWUgc3RydWN0dXJlIGFzIHRoZSBnZW9tZXRyeSBhbmQgc3RvcmVzIGl0IG9uIHRoZSBnZW9tZXRyeS5cbiAgICAgKiBJZiB2YW8gaXMgY3JlYXRlZCwgaXQgaXMgYm91bmQgYXV0b21hdGljYWxseS5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuR2VvbWV0cnl9IGdlb21ldHJ5IC0gSW5zdGFuY2Ugb2YgZ2VvbWV0cnkgdG8gdG8gZ2VuZXJhdGUgVmFvIGZvclxuICAgICAqIEBwYXJhbSB7UElYSS5Qcm9ncmFtfSBwcm9ncmFtIC0gSW5zdGFuY2Ugb2YgcHJvZ3JhbVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2luY1JlZkNvdW50PWZhbHNlXSAtIEluY3JlbWVudCByZWZDb3VudCBvZiBhbGwgZ2VvbWV0cnkgYnVmZmVyc1xuICAgICAqL1xuICAgIHByb3RlY3RlZCBpbml0R2VvbWV0cnlWYW8oZ2VvbWV0cnk6IEdlb21ldHJ5LCBwcm9ncmFtOiBQcm9ncmFtLCBpbmNSZWZDb3VudCA9IHRydWUpOiBXZWJHTFZlcnRleEFycmF5T2JqZWN0XG4gICAge1xuICAgICAgICB0aGlzLmNoZWNrQ29tcGF0aWJpbGl0eShnZW9tZXRyeSwgcHJvZ3JhbSk7XG5cbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmdsO1xuICAgICAgICBjb25zdCBDT05URVhUX1VJRCA9IHRoaXMuQ09OVEVYVF9VSUQ7XG5cbiAgICAgICAgY29uc3Qgc2lnbmF0dXJlID0gdGhpcy5nZXRTaWduYXR1cmUoZ2VvbWV0cnksIHByb2dyYW0pO1xuXG4gICAgICAgIGNvbnN0IHZhb09iamVjdEhhc2ggPSBnZW9tZXRyeS5nbFZlcnRleEFycmF5T2JqZWN0c1t0aGlzLkNPTlRFWFRfVUlEXTtcblxuICAgICAgICBsZXQgdmFvID0gdmFvT2JqZWN0SGFzaFtzaWduYXR1cmVdO1xuXG4gICAgICAgIGlmICh2YW8pXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIHRoaXMgd2lsbCBnaXZlIHVzIGVhc3kgYWNjZXNzIHRvIHRoZSB2YW9cbiAgICAgICAgICAgIHZhb09iamVjdEhhc2hbcHJvZ3JhbS5pZF0gPSB2YW87XG5cbiAgICAgICAgICAgIHJldHVybiB2YW87XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBidWZmZXJzID0gZ2VvbWV0cnkuYnVmZmVycztcbiAgICAgICAgY29uc3QgYXR0cmlidXRlcyA9IGdlb21ldHJ5LmF0dHJpYnV0ZXM7XG4gICAgICAgIGNvbnN0IHRlbXBTdHJpZGU6IERpY3Q8bnVtYmVyPiA9IHt9O1xuICAgICAgICBjb25zdCB0ZW1wU3RhcnQ6IERpY3Q8bnVtYmVyPiA9IHt9O1xuXG4gICAgICAgIGZvciAoY29uc3QgaiBpbiBidWZmZXJzKVxuICAgICAgICB7XG4gICAgICAgICAgICB0ZW1wU3RyaWRlW2pdID0gMDtcbiAgICAgICAgICAgIHRlbXBTdGFydFtqXSA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGNvbnN0IGogaW4gYXR0cmlidXRlcylcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCFhdHRyaWJ1dGVzW2pdLnNpemUgJiYgcHJvZ3JhbS5hdHRyaWJ1dGVEYXRhW2pdKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXNbal0uc2l6ZSA9IHByb2dyYW0uYXR0cmlidXRlRGF0YVtqXS5zaXplO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIWF0dHJpYnV0ZXNbal0uc2l6ZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYFBJWEkgR2VvbWV0cnkgYXR0cmlidXRlICcke2p9JyBzaXplIGNhbm5vdCBiZSBkZXRlcm1pbmVkIChsaWtlbHkgdGhlIGJvdW5kIHNoYWRlciBkb2VzIG5vdCBoYXZlIHRoZSBhdHRyaWJ1dGUpYCk7ICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRlbXBTdHJpZGVbYXR0cmlidXRlc1tqXS5idWZmZXJdICs9IGF0dHJpYnV0ZXNbal0uc2l6ZSAqIGJ5dGVTaXplTWFwW2F0dHJpYnV0ZXNbal0udHlwZV07XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGNvbnN0IGogaW4gYXR0cmlidXRlcylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgYXR0cmlidXRlID0gYXR0cmlidXRlc1tqXTtcbiAgICAgICAgICAgIGNvbnN0IGF0dHJpYlNpemUgPSBhdHRyaWJ1dGUuc2l6ZTtcblxuICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZS5zdHJpZGUgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAodGVtcFN0cmlkZVthdHRyaWJ1dGUuYnVmZmVyXSA9PT0gYXR0cmliU2l6ZSAqIGJ5dGVTaXplTWFwW2F0dHJpYnV0ZS50eXBlXSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZS5zdHJpZGUgPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGUuc3RyaWRlID0gdGVtcFN0cmlkZVthdHRyaWJ1dGUuYnVmZmVyXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChhdHRyaWJ1dGUuc3RhcnQgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGUuc3RhcnQgPSB0ZW1wU3RhcnRbYXR0cmlidXRlLmJ1ZmZlcl07XG5cbiAgICAgICAgICAgICAgICB0ZW1wU3RhcnRbYXR0cmlidXRlLmJ1ZmZlcl0gKz0gYXR0cmliU2l6ZSAqIGJ5dGVTaXplTWFwW2F0dHJpYnV0ZS50eXBlXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhbyA9IGdsLmNyZWF0ZVZlcnRleEFycmF5KCk7XG5cbiAgICAgICAgZ2wuYmluZFZlcnRleEFycmF5KHZhbyk7XG5cbiAgICAgICAgLy8gZmlyc3QgdXBkYXRlIC0gYW5kIGNyZWF0ZSB0aGUgYnVmZmVycyFcbiAgICAgICAgLy8gb25seSBjcmVhdGUgYSBnbCBidWZmZXIgaWYgaXQgYWN0dWFsbHkgZ2V0c1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJ1ZmZlcnMubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGJ1ZmZlciA9IGJ1ZmZlcnNbaV07XG5cbiAgICAgICAgICAgIGlmICghYnVmZmVyLl9nbEJ1ZmZlcnNbQ09OVEVYVF9VSURdKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGJ1ZmZlci5fZ2xCdWZmZXJzW0NPTlRFWFRfVUlEXSA9IG5ldyBHTEJ1ZmZlcihnbC5jcmVhdGVCdWZmZXIoKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5tYW5hZ2VkQnVmZmVyc1tidWZmZXIuaWRdID0gYnVmZmVyO1xuICAgICAgICAgICAgICAgIGJ1ZmZlci5kaXNwb3NlUnVubmVyLmFkZCh0aGlzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGluY1JlZkNvdW50KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGJ1ZmZlci5fZ2xCdWZmZXJzW0NPTlRFWFRfVUlEXS5yZWZDb3VudCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gVE9ETyAtIG1heWJlIG1ha2UgdGhpcyBhIGRhdGEgb2JqZWN0P1xuICAgICAgICAvLyBsZXRzIHdhaXQgdG8gc2VlIGlmIHdlIG5lZWQgdG8gZmlyc3QhXG5cbiAgICAgICAgdGhpcy5hY3RpdmF0ZVZhbyhnZW9tZXRyeSwgcHJvZ3JhbSk7XG5cbiAgICAgICAgdGhpcy5fYWN0aXZlVmFvID0gdmFvO1xuXG4gICAgICAgIC8vIGFkZCBpdCB0byB0aGUgY2FjaGUhXG4gICAgICAgIHZhb09iamVjdEhhc2hbcHJvZ3JhbS5pZF0gPSB2YW87XG4gICAgICAgIHZhb09iamVjdEhhc2hbc2lnbmF0dXJlXSA9IHZhbztcblxuICAgICAgICByZXR1cm4gdmFvO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERpc3Bvc2VzIGJ1ZmZlclxuICAgICAqIEBwYXJhbSB7UElYSS5CdWZmZXJ9IGJ1ZmZlciAtIGJ1ZmZlciB3aXRoIGRhdGFcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjb250ZXh0TG9zdD1mYWxzZV0gLSBJZiBjb250ZXh0IHdhcyBsb3N0LCB3ZSBzdXBwcmVzcyBkZWxldGVWZXJ0ZXhBcnJheVxuICAgICAqL1xuICAgIGRpc3Bvc2VCdWZmZXIoYnVmZmVyOiBCdWZmZXIsIGNvbnRleHRMb3N0PzogYm9vbGVhbik6IHZvaWRcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5tYW5hZ2VkQnVmZmVyc1tidWZmZXIuaWRdKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBkZWxldGUgdGhpcy5tYW5hZ2VkQnVmZmVyc1tidWZmZXIuaWRdO1xuXG4gICAgICAgIGNvbnN0IGdsQnVmZmVyID0gYnVmZmVyLl9nbEJ1ZmZlcnNbdGhpcy5DT05URVhUX1VJRF07XG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5nbDtcblxuICAgICAgICBidWZmZXIuZGlzcG9zZVJ1bm5lci5yZW1vdmUodGhpcyk7XG5cbiAgICAgICAgaWYgKCFnbEJ1ZmZlcilcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFjb250ZXh0TG9zdClcbiAgICAgICAge1xuICAgICAgICAgICAgZ2wuZGVsZXRlQnVmZmVyKGdsQnVmZmVyLmJ1ZmZlcik7XG4gICAgICAgIH1cblxuICAgICAgICBkZWxldGUgYnVmZmVyLl9nbEJ1ZmZlcnNbdGhpcy5DT05URVhUX1VJRF07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGlzcG9zZXMgZ2VvbWV0cnlcbiAgICAgKiBAcGFyYW0ge1BJWEkuR2VvbWV0cnl9IGdlb21ldHJ5IC0gR2VvbWV0cnkgd2l0aCBidWZmZXJzLiBPbmx5IFZBTyB3aWxsIGJlIGRpc3Bvc2VkXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbY29udGV4dExvc3Q9ZmFsc2VdIC0gSWYgY29udGV4dCB3YXMgbG9zdCwgd2Ugc3VwcHJlc3MgZGVsZXRlVmVydGV4QXJyYXlcbiAgICAgKi9cbiAgICBkaXNwb3NlR2VvbWV0cnkoZ2VvbWV0cnk6IEdlb21ldHJ5LCBjb250ZXh0TG9zdD86IGJvb2xlYW4pOiB2b2lkXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMubWFuYWdlZEdlb21ldHJpZXNbZ2VvbWV0cnkuaWRdKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBkZWxldGUgdGhpcy5tYW5hZ2VkR2VvbWV0cmllc1tnZW9tZXRyeS5pZF07XG5cbiAgICAgICAgY29uc3QgdmFvcyA9IGdlb21ldHJ5LmdsVmVydGV4QXJyYXlPYmplY3RzW3RoaXMuQ09OVEVYVF9VSURdO1xuICAgICAgICBjb25zdCBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIGNvbnN0IGJ1ZmZlcnMgPSBnZW9tZXRyeS5idWZmZXJzO1xuXG4gICAgICAgIGdlb21ldHJ5LmRpc3Bvc2VSdW5uZXIucmVtb3ZlKHRoaXMpO1xuXG4gICAgICAgIGlmICghdmFvcylcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBidWZmZXJzLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBidWYgPSBidWZmZXJzW2ldLl9nbEJ1ZmZlcnNbdGhpcy5DT05URVhUX1VJRF07XG5cbiAgICAgICAgICAgIGJ1Zi5yZWZDb3VudC0tO1xuICAgICAgICAgICAgaWYgKGJ1Zi5yZWZDb3VudCA9PT0gMCAmJiAhY29udGV4dExvc3QpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwb3NlQnVmZmVyKGJ1ZmZlcnNbaV0sIGNvbnRleHRMb3N0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghY29udGV4dExvc3QpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgdmFvSWQgaW4gdmFvcylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBkZWxldGUgb25seSBzaWduYXR1cmVzLCBldmVyeXRoaW5nIGVsc2UgYXJlIGNvcGllc1xuICAgICAgICAgICAgICAgIGlmICh2YW9JZFswXSA9PT0gJ2cnKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFvID0gdmFvc1t2YW9JZF07XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2FjdGl2ZVZhbyA9PT0gdmFvKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVuYmluZCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGdsLmRlbGV0ZVZlcnRleEFycmF5KHZhbyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZGVsZXRlIGdlb21ldHJ5LmdsVmVydGV4QXJyYXlPYmplY3RzW3RoaXMuQ09OVEVYVF9VSURdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGRpc3Bvc2UgYWxsIFdlYkdMIHJlc291cmNlcyBvZiBhbGwgbWFuYWdlZCBnZW9tZXRyaWVzIGFuZCBidWZmZXJzXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbY29udGV4dExvc3Q9ZmFsc2VdIC0gSWYgY29udGV4dCB3YXMgbG9zdCwgd2Ugc3VwcHJlc3MgYGdsLmRlbGV0ZWAgY2FsbHNcbiAgICAgKi9cbiAgICBkaXNwb3NlQWxsKGNvbnRleHRMb3N0PzogYm9vbGVhbik6IHZvaWRcbiAgICB7XG4gICAgICAgIGxldCBhbGw6IEFycmF5PGFueT4gPSBPYmplY3Qua2V5cyh0aGlzLm1hbmFnZWRHZW9tZXRyaWVzKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFsbC5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5kaXNwb3NlR2VvbWV0cnkodGhpcy5tYW5hZ2VkR2VvbWV0cmllc1thbGxbaV1dLCBjb250ZXh0TG9zdCk7XG4gICAgICAgIH1cbiAgICAgICAgYWxsID0gT2JqZWN0LmtleXModGhpcy5tYW5hZ2VkQnVmZmVycyk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYWxsLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmRpc3Bvc2VCdWZmZXIodGhpcy5tYW5hZ2VkQnVmZmVyc1thbGxbaV1dLCBjb250ZXh0TG9zdCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBY3RpdmF0ZSB2ZXJ0ZXggYXJyYXkgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLkdlb21ldHJ5fSBnZW9tZXRyeSAtIEdlb21ldHJ5IGluc3RhbmNlXG4gICAgICogQHBhcmFtIHtQSVhJLlByb2dyYW19IHByb2dyYW0gLSBTaGFkZXIgcHJvZ3JhbSBpbnN0YW5jZVxuICAgICAqL1xuICAgIHByb3RlY3RlZCBhY3RpdmF0ZVZhbyhnZW9tZXRyeTogR2VvbWV0cnksIHByb2dyYW06IFByb2dyYW0pOiB2b2lkXG4gICAge1xuICAgICAgICBjb25zdCBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIGNvbnN0IENPTlRFWFRfVUlEID0gdGhpcy5DT05URVhUX1VJRDtcbiAgICAgICAgY29uc3QgYnVmZmVycyA9IGdlb21ldHJ5LmJ1ZmZlcnM7XG4gICAgICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSBnZW9tZXRyeS5hdHRyaWJ1dGVzO1xuXG4gICAgICAgIGlmIChnZW9tZXRyeS5pbmRleEJ1ZmZlcilcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gZmlyc3QgdXBkYXRlIHRoZSBpbmRleCBidWZmZXIgaWYgd2UgaGF2ZSBvbmUuLlxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgZ2VvbWV0cnkuaW5kZXhCdWZmZXIuX2dsQnVmZmVyc1tDT05URVhUX1VJRF0uYnVmZmVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBsYXN0QnVmZmVyID0gbnVsbDtcblxuICAgICAgICAvLyBhZGQgYSBuZXcgb25lIVxuICAgICAgICBmb3IgKGNvbnN0IGogaW4gYXR0cmlidXRlcylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgYXR0cmlidXRlID0gYXR0cmlidXRlc1tqXTtcbiAgICAgICAgICAgIGNvbnN0IGJ1ZmZlciA9IGJ1ZmZlcnNbYXR0cmlidXRlLmJ1ZmZlcl07XG4gICAgICAgICAgICBjb25zdCBnbEJ1ZmZlciA9IGJ1ZmZlci5fZ2xCdWZmZXJzW0NPTlRFWFRfVUlEXTtcblxuICAgICAgICAgICAgaWYgKHByb2dyYW0uYXR0cmlidXRlRGF0YVtqXSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAobGFzdEJ1ZmZlciAhPT0gZ2xCdWZmZXIpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgZ2xCdWZmZXIuYnVmZmVyKTtcblxuICAgICAgICAgICAgICAgICAgICBsYXN0QnVmZmVyID0gZ2xCdWZmZXI7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgbG9jYXRpb24gPSBwcm9ncmFtLmF0dHJpYnV0ZURhdGFbal0ubG9jYXRpb247XG5cbiAgICAgICAgICAgICAgICAvLyBUT0RPIGludHJvZHVjZSBzdGF0ZSBhZ2FpblxuICAgICAgICAgICAgICAgIC8vIHdlIGNhbiBvcHRpbWlzZSB0aGlzIGZvciBvbGRlciBkZXZpY2VzIHRoYXQgaGF2ZSBubyBWQU9zXG4gICAgICAgICAgICAgICAgZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkobG9jYXRpb24pO1xuXG4gICAgICAgICAgICAgICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcihsb2NhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlLnNpemUsXG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZS50eXBlIHx8IGdsLkZMT0FULFxuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGUubm9ybWFsaXplZCxcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlLnN0cmlkZSxcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlLnN0YXJ0KTtcblxuICAgICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGUuaW5zdGFuY2UpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPIGNhbGN1bGF0ZSBpbnN0YW5jZSBjb3VudCBiYXNlZCBvZiB0aGlzLi4uXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmhhc0luc3RhbmNlKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBnbC52ZXJ0ZXhBdHRyaWJEaXZpc29yKGxvY2F0aW9uLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignZ2VvbWV0cnkgZXJyb3IsIEdQVSBJbnN0YW5jaW5nIGlzIG5vdCBzdXBwb3J0ZWQgb24gdGhpcyBkZXZpY2UnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERyYXcgdGhlIGdlb21ldHJ5XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gdHlwZSAtIHRoZSB0eXBlIHByaW1pdGl2ZSB0byByZW5kZXJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3NpemVdIC0gdGhlIG51bWJlciBvZiBlbGVtZW50cyB0byBiZSByZW5kZXJlZFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbc3RhcnRdIC0gU3RhcnRpbmcgaW5kZXhcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2luc3RhbmNlQ291bnRdIC0gdGhlIG51bWJlciBvZiBpbnN0YW5jZXMgb2YgdGhlIHNldCBvZiBlbGVtZW50cyB0byBleGVjdXRlXG4gICAgICovXG4gICAgZHJhdyh0eXBlOiBEUkFXX01PREVTLCBzaXplPzogbnVtYmVyLCBzdGFydD86IG51bWJlciwgaW5zdGFuY2VDb3VudD86IG51bWJlcik6IHRoaXNcbiAgICB7XG4gICAgICAgIGNvbnN0IHsgZ2wgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IGdlb21ldHJ5ID0gdGhpcy5fYWN0aXZlR2VvbWV0cnk7XG5cbiAgICAgICAgLy8gVE9ETy4uIHRoaXMgc2hvdWxkIG5vdCBjaGFuZ2Ugc28gbWF5YmUgY2FjaGUgdGhlIGZ1bmN0aW9uP1xuXG4gICAgICAgIGlmIChnZW9tZXRyeS5pbmRleEJ1ZmZlcilcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgYnl0ZVNpemUgPSBnZW9tZXRyeS5pbmRleEJ1ZmZlci5kYXRhLkJZVEVTX1BFUl9FTEVNRU5UO1xuICAgICAgICAgICAgY29uc3QgZ2xUeXBlID0gYnl0ZVNpemUgPT09IDIgPyBnbC5VTlNJR05FRF9TSE9SVCA6IGdsLlVOU0lHTkVEX0lOVDtcblxuICAgICAgICAgICAgaWYgKGJ5dGVTaXplID09PSAyIHx8IChieXRlU2l6ZSA9PT0gNCAmJiB0aGlzLmNhblVzZVVJbnQzMkVsZW1lbnRJbmRleCkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKGdlb21ldHJ5Lmluc3RhbmNlZClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbiAgICAgICAgICAgICAgICAgICAgZ2wuZHJhd0VsZW1lbnRzSW5zdGFuY2VkKHR5cGUsIHNpemUgfHwgZ2VvbWV0cnkuaW5kZXhCdWZmZXIuZGF0YS5sZW5ndGgsIGdsVHlwZSwgKHN0YXJ0IHx8IDApICogYnl0ZVNpemUsIGluc3RhbmNlQ291bnQgfHwgMSk7XG4gICAgICAgICAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgbWF4LWxlbiAqL1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG4gICAgICAgICAgICAgICAgICAgIGdsLmRyYXdFbGVtZW50cyh0eXBlLCBzaXplIHx8IGdlb21ldHJ5LmluZGV4QnVmZmVyLmRhdGEubGVuZ3RoLCBnbFR5cGUsIChzdGFydCB8fCAwKSAqIGJ5dGVTaXplKTtcbiAgICAgICAgICAgICAgICAgICAgLyogZXNsaW50LWVuYWJsZSBtYXgtbGVuICovXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybigndW5zdXBwb3J0ZWQgaW5kZXggYnVmZmVyIHR5cGU6IHVpbnQzMicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGdlb21ldHJ5Lmluc3RhbmNlZClcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gVE9ETyBuZWVkIGEgYmV0dGVyIHdheSB0byBjYWxjdWxhdGUgc2l6ZS4uXG4gICAgICAgICAgICBnbC5kcmF3QXJyYXlzSW5zdGFuY2VkKHR5cGUsIHN0YXJ0LCBzaXplIHx8IGdlb21ldHJ5LmdldFNpemUoKSwgaW5zdGFuY2VDb3VudCB8fCAxKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsLmRyYXdBcnJheXModHlwZSwgc3RhcnQsIHNpemUgfHwgZ2VvbWV0cnkuZ2V0U2l6ZSgpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVuYmluZC9yZXNldCBldmVyeXRoaW5nXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIHByb3RlY3RlZCB1bmJpbmQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgdGhpcy5nbC5iaW5kVmVydGV4QXJyYXkobnVsbCk7XG4gICAgICAgIHRoaXMuX2FjdGl2ZVZhbyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2FjdGl2ZUdlb21ldHJ5ID0gbnVsbDtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBNQVNLX1RZUEVTIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcblxuaW1wb3J0IHR5cGUgeyBSZWN0YW5nbGUsIE1hdHJpeCB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IHR5cGUgeyBJRmlsdGVyVGFyZ2V0IH0gZnJvbSAnLi4vZmlsdGVycy9JRmlsdGVyVGFyZ2V0JztcbmltcG9ydCB0eXBlIHsgUmVuZGVyZXIgfSBmcm9tICcuLi9SZW5kZXJlcic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSU1hc2tUYXJnZXQgZXh0ZW5kcyBJRmlsdGVyVGFyZ2V0XG57XG4gICAgcmVuZGVyYWJsZTogYm9vbGVhbjtcbiAgICBpc1Nwcml0ZT86IGJvb2xlYW47XG4gICAgd29ybGRUcmFuc2Zvcm06IE1hdHJpeDtcbiAgICBpc0Zhc3RSZWN0PygpOiBib29sZWFuO1xuICAgIGdldEJvdW5kcyhza2lwVXBkYXRlPzogYm9vbGVhbik6IFJlY3RhbmdsZTtcbiAgICByZW5kZXIocmVuZGVyZXI6IFJlbmRlcmVyKTogdm9pZDtcbn1cbi8qKlxuICogQ29tcG9uZW50IGZvciBtYXNrZWQgZWxlbWVudHNcbiAqXG4gKiBIb2xkcyBtYXNrIG1vZGUgYW5kIHRlbXBvcmFyeSBkYXRhIGFib3V0IGN1cnJlbnQgbWFza1xuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGNsYXNzIE1hc2tEYXRhXG57XG4gICAgcHVibGljIHR5cGU6IE1BU0tfVFlQRVM7XG4gICAgcHVibGljIGF1dG9EZXRlY3Q6IGJvb2xlYW47XG4gICAgcHVibGljIG1hc2tPYmplY3Q6IElNYXNrVGFyZ2V0O1xuICAgIHB1YmxpYyBwb29sZWQ6IGJvb2xlYW47XG4gICAgcHVibGljIGlzTWFza0RhdGE6IHRydWU7XG4gICAgX3N0ZW5jaWxDb3VudGVyOiBudW1iZXI7XG4gICAgX3NjaXNzb3JDb3VudGVyOiBudW1iZXI7XG4gICAgX3NjaXNzb3JSZWN0OiBSZWN0YW5nbGU7XG4gICAgX3RhcmdldDogSU1hc2tUYXJnZXQ7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgTWFza0RhdGFcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBbbWFza09iamVjdD1udWxsXSAtIG9iamVjdCB0aGF0IGRlc2NyaWJlcyB0aGUgbWFza1xuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG1hc2tPYmplY3Q6IElNYXNrVGFyZ2V0ID0gbnVsbClcbiAgICB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYXNrIHR5cGVcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5NQVNLX1RZUEVTfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50eXBlID0gTUFTS19UWVBFUy5OT05FO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIHdlIGtub3cgdGhlIG1hc2sgdHlwZSBiZWZvcmVoYW5kXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYXV0b0RldGVjdCA9IHRydWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoaWNoIGVsZW1lbnQgd2UgdXNlIHRvIG1hc2tcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5EaXNwbGF5T2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYXNrT2JqZWN0ID0gbWFza09iamVjdCB8fCBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIGl0IGJlbG9uZ3MgdG8gTWFza1N5c3RlbSBwb29sXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBvb2xlZCA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbmRpY2F0b3Igb2YgdGhlIHR5cGVcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaXNNYXNrRGF0YSA9IHRydWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFN0ZW5jaWwgY291bnRlciBhYm92ZSB0aGUgbWFzayBpbiBzdGFja1xuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9zdGVuY2lsQ291bnRlciA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTY2lzc29yIGNvdW50ZXIgYWJvdmUgdGhlIG1hc2sgaW4gc3RhY2tcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fc2Npc3NvckNvdW50ZXIgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTY2lzc29yIG9wZXJhdGlvbiBhYm92ZSB0aGUgbWFzayBpbiBzdGFjay5cbiAgICAgICAgICogTnVsbCBpZiBfc2Npc3NvckNvdW50ZXIgaXMgemVybywgcmVjdGFuZ2xlIGluc3RhbmNlIGlmIHBvc2l0aXZlLlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3NjaXNzb3JSZWN0ID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGFyZ2V0ZWQgZWxlbWVudC4gVGVtcG9yYXJ5IHZhcmlhYmxlIHNldCBieSBNYXNrU3lzdGVtXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuRGlzcGxheU9iamVjdH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3RhcmdldCA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogcmVzZXRzIHRoZSBtYXNrIGRhdGEgYWZ0ZXIgcG9wTWFzaygpXG4gICAgICovXG4gICAgcmVzZXQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMucG9vbGVkKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLm1hc2tPYmplY3QgPSBudWxsO1xuXG4gICAgICAgICAgICB0aGlzLnR5cGUgPSBNQVNLX1RZUEVTLk5PTkU7XG5cbiAgICAgICAgICAgIHRoaXMuYXV0b0RldGVjdCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl90YXJnZXQgPSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGNvcGllcyBjb3VudGVycyBmcm9tIG1hc2tEYXRhIGFib3ZlLCBjYWxsZWQgZnJvbSBwdXNoTWFzaygpXG4gICAgICogQHBhcmFtIHtQSVhJLk1hc2tEYXRhfG51bGx9IG1hc2tBYm92ZVxuICAgICAqL1xuICAgIGNvcHlDb3VudGVyc09yUmVzZXQobWFza0Fib3ZlPzogTWFza0RhdGEpOiB2b2lkXG4gICAge1xuICAgICAgICBpZiAobWFza0Fib3ZlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9zdGVuY2lsQ291bnRlciA9IG1hc2tBYm92ZS5fc3RlbmNpbENvdW50ZXI7XG4gICAgICAgICAgICB0aGlzLl9zY2lzc29yQ291bnRlciA9IG1hc2tBYm92ZS5fc2Npc3NvckNvdW50ZXI7XG4gICAgICAgICAgICB0aGlzLl9zY2lzc29yUmVjdCA9IG1hc2tBYm92ZS5fc2Npc3NvclJlY3Q7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9zdGVuY2lsQ291bnRlciA9IDA7XG4gICAgICAgICAgICB0aGlzLl9zY2lzc29yQ291bnRlciA9IDA7XG4gICAgICAgICAgICB0aGlzLl9zY2lzc29yUmVjdCA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgdHlwZSB7IERpY3QgfSBmcm9tICdAcGl4aS91dGlscyc7XG5cbi8qKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSBnbCB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBUaGUgY3VycmVudCBXZWJHTCBjb250ZXh0IHtXZWJHTFByb2dyYW19XG4gKiBAcGFyYW0gdHlwZSB7TnVtYmVyfSB0aGUgdHlwZSwgY2FuIGJlIGVpdGhlciBWRVJURVhfU0hBREVSIG9yIEZSQUdNRU5UX1NIQURFUlxuICogQHBhcmFtIHNyYyB7c3RyaW5nfSBUaGUgdmVydGV4IHNoYWRlciBzb3VyY2UgYXMgYW4gYXJyYXkgb2Ygc3RyaW5ncy5cbiAqIEByZXR1cm4ge1dlYkdMU2hhZGVyfSB0aGUgc2hhZGVyXG4gKi9cbmZ1bmN0aW9uIGNvbXBpbGVTaGFkZXIoZ2w6IFdlYkdMUmVuZGVyaW5nQ29udGV4dEJhc2UsIHR5cGU6IG51bWJlciwgc3JjOiBzdHJpbmcpOiBXZWJHTFNoYWRlclxue1xuICAgIGNvbnN0IHNoYWRlciA9IGdsLmNyZWF0ZVNoYWRlcih0eXBlKTtcblxuICAgIGdsLnNoYWRlclNvdXJjZShzaGFkZXIsIHNyYyk7XG4gICAgZ2wuY29tcGlsZVNoYWRlcihzaGFkZXIpO1xuXG4gICAgcmV0dXJuIHNoYWRlcjtcbn1cblxuLyoqXG4gKiBAbWV0aG9kIGNvbXBpbGVQcm9ncmFtXG4gKiBAcHJpdmF0ZVxuICogQG1lbWJlcm9mIFBJWEkuZ2xDb3JlLnNoYWRlclxuICogQHBhcmFtIGdsIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IFRoZSBjdXJyZW50IFdlYkdMIGNvbnRleHQge1dlYkdMUHJvZ3JhbX1cbiAqIEBwYXJhbSB2ZXJ0ZXhTcmMge3N0cmluZ3xzdHJpbmdbXX0gVGhlIHZlcnRleCBzaGFkZXIgc291cmNlIGFzIGFuIGFycmF5IG9mIHN0cmluZ3MuXG4gKiBAcGFyYW0gZnJhZ21lbnRTcmMge3N0cmluZ3xzdHJpbmdbXX0gVGhlIGZyYWdtZW50IHNoYWRlciBzb3VyY2UgYXMgYW4gYXJyYXkgb2Ygc3RyaW5ncy5cbiAqIEBwYXJhbSBhdHRyaWJ1dGVMb2NhdGlvbnMge09iamVjdH0gQW4gYXR0cmlidXRlIGxvY2F0aW9uIG1hcCB0aGF0IGxldHMgeW91IG1hbnVhbGx5IHNldCB0aGUgYXR0cmlidXRlIGxvY2F0aW9uc1xuICogQHJldHVybiB7V2ViR0xQcm9ncmFtfSB0aGUgc2hhZGVyIHByb2dyYW1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbXBpbGVQcm9ncmFtKGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHRCYXNlLCB2ZXJ0ZXhTcmM6IHN0cmluZywgZnJhZ21lbnRTcmM6IHN0cmluZyxcbiAgICBhdHRyaWJ1dGVMb2NhdGlvbnM/OiBEaWN0PG51bWJlcj4pOiBXZWJHTFByb2dyYW1cbntcbiAgICBjb25zdCBnbFZlcnRTaGFkZXIgPSBjb21waWxlU2hhZGVyKGdsLCBnbC5WRVJURVhfU0hBREVSLCB2ZXJ0ZXhTcmMpO1xuICAgIGNvbnN0IGdsRnJhZ1NoYWRlciA9IGNvbXBpbGVTaGFkZXIoZ2wsIGdsLkZSQUdNRU5UX1NIQURFUiwgZnJhZ21lbnRTcmMpO1xuXG4gICAgbGV0IHByb2dyYW0gPSBnbC5jcmVhdGVQcm9ncmFtKCk7XG5cbiAgICBnbC5hdHRhY2hTaGFkZXIocHJvZ3JhbSwgZ2xWZXJ0U2hhZGVyKTtcbiAgICBnbC5hdHRhY2hTaGFkZXIocHJvZ3JhbSwgZ2xGcmFnU2hhZGVyKTtcblxuICAgIC8vIG9wdGlvbmFsbHksIHNldCB0aGUgYXR0cmlidXRlcyBtYW51YWxseSBmb3IgdGhlIHByb2dyYW0gcmF0aGVyIHRoYW4gbGV0dGluZyBXZWJHTCBkZWNpZGUuLlxuICAgIGlmIChhdHRyaWJ1dGVMb2NhdGlvbnMpXG4gICAge1xuICAgICAgICBmb3IgKGNvbnN0IGkgaW4gYXR0cmlidXRlTG9jYXRpb25zKVxuICAgICAgICB7XG4gICAgICAgICAgICBnbC5iaW5kQXR0cmliTG9jYXRpb24ocHJvZ3JhbSwgYXR0cmlidXRlTG9jYXRpb25zW2ldLCBpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdsLmxpbmtQcm9ncmFtKHByb2dyYW0pO1xuXG4gICAgLy8gaWYgbGlua2luZyBmYWlscywgdGhlbiBsb2cgYW5kIGNsZWFudXBcbiAgICBpZiAoIWdsLmdldFByb2dyYW1QYXJhbWV0ZXIocHJvZ3JhbSwgZ2wuTElOS19TVEFUVVMpKVxuICAgIHtcbiAgICAgICAgaWYgKCFnbC5nZXRTaGFkZXJQYXJhbWV0ZXIoZ2xWZXJ0U2hhZGVyLCBnbC5DT01QSUxFX1NUQVRVUykpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2Fybih2ZXJ0ZXhTcmMpO1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihnbC5nZXRTaGFkZXJJbmZvTG9nKGdsVmVydFNoYWRlcikpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFnbC5nZXRTaGFkZXJQYXJhbWV0ZXIoZ2xGcmFnU2hhZGVyLCBnbC5DT01QSUxFX1NUQVRVUykpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihmcmFnbWVudFNyYyk7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGdsLmdldFNoYWRlckluZm9Mb2coZ2xGcmFnU2hhZGVyKSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zb2xlLmVycm9yKCdQaXhpLmpzIEVycm9yOiBDb3VsZCBub3QgaW5pdGlhbGl6ZSBzaGFkZXIuJyk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ2dsLlZBTElEQVRFX1NUQVRVUycsIGdsLmdldFByb2dyYW1QYXJhbWV0ZXIocHJvZ3JhbSwgZ2wuVkFMSURBVEVfU1RBVFVTKSk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ2dsLmdldEVycm9yKCknLCBnbC5nZXRFcnJvcigpKTtcblxuICAgICAgICAvLyBpZiB0aGVyZSBpcyBhIHByb2dyYW0gaW5mbyBsb2csIGxvZyBpdFxuICAgICAgICBpZiAoZ2wuZ2V0UHJvZ3JhbUluZm9Mb2cocHJvZ3JhbSkgIT09ICcnKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1BpeGkuanMgV2FybmluZzogZ2wuZ2V0UHJvZ3JhbUluZm9Mb2coKScsIGdsLmdldFByb2dyYW1JbmZvTG9nKHByb2dyYW0pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGdsLmRlbGV0ZVByb2dyYW0ocHJvZ3JhbSk7XG4gICAgICAgIHByb2dyYW0gPSBudWxsO1xuICAgIH1cblxuICAgIC8vIGNsZWFuIHVwIHNvbWUgc2hhZGVyc1xuICAgIGdsLmRlbGV0ZVNoYWRlcihnbFZlcnRTaGFkZXIpO1xuICAgIGdsLmRlbGV0ZVNoYWRlcihnbEZyYWdTaGFkZXIpO1xuXG4gICAgcmV0dXJuIHByb2dyYW07XG59XG4iLCJmdW5jdGlvbiBib29sZWFuQXJyYXkoc2l6ZTogbnVtYmVyKTogQXJyYXk8Ym9vbGVhbj5cbntcbiAgICBjb25zdCBhcnJheSA9IG5ldyBBcnJheShzaXplKTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspXG4gICAge1xuICAgICAgICBhcnJheVtpXSA9IGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiBhcnJheTtcbn1cblxuLyoqXG4gKiBAbWV0aG9kIGRlZmF1bHRWYWx1ZVxuICogQG1lbWJlcm9mIFBJWEkuZ2xDb3JlLnNoYWRlclxuICogQHBhcmFtIHR5cGUge1N0cmluZ30gVHlwZSBvZiB2YWx1ZVxuICogQHBhcmFtIHNpemUge051bWJlcn1cbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWZhdWx0VmFsdWUodHlwZTogc3RyaW5nLCBzaXplOiBudW1iZXIpOiBudW1iZXJ8RmxvYXQzMkFycmF5fEludDMyQXJyYXl8Ym9vbGVhbnxib29sZWFuW11cbntcbiAgICBzd2l0Y2ggKHR5cGUpXG4gICAge1xuICAgICAgICBjYXNlICdmbG9hdCc6XG4gICAgICAgICAgICByZXR1cm4gMDtcblxuICAgICAgICBjYXNlICd2ZWMyJzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KDIgKiBzaXplKTtcblxuICAgICAgICBjYXNlICd2ZWMzJzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KDMgKiBzaXplKTtcblxuICAgICAgICBjYXNlICd2ZWM0JzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KDQgKiBzaXplKTtcblxuICAgICAgICBjYXNlICdpbnQnOlxuICAgICAgICBjYXNlICdzYW1wbGVyMkQnOlxuICAgICAgICBjYXNlICdzYW1wbGVyMkRBcnJheSc6XG4gICAgICAgICAgICByZXR1cm4gMDtcblxuICAgICAgICBjYXNlICdpdmVjMic6XG4gICAgICAgICAgICByZXR1cm4gbmV3IEludDMyQXJyYXkoMiAqIHNpemUpO1xuXG4gICAgICAgIGNhc2UgJ2l2ZWMzJzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgSW50MzJBcnJheSgzICogc2l6ZSk7XG5cbiAgICAgICAgY2FzZSAnaXZlYzQnOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBJbnQzMkFycmF5KDQgKiBzaXplKTtcblxuICAgICAgICBjYXNlICdib29sJzpcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICBjYXNlICdidmVjMic6XG5cbiAgICAgICAgICAgIHJldHVybiBib29sZWFuQXJyYXkoMiAqIHNpemUpO1xuXG4gICAgICAgIGNhc2UgJ2J2ZWMzJzpcbiAgICAgICAgICAgIHJldHVybiBib29sZWFuQXJyYXkoMyAqIHNpemUpO1xuXG4gICAgICAgIGNhc2UgJ2J2ZWM0JzpcbiAgICAgICAgICAgIHJldHVybiBib29sZWFuQXJyYXkoNCAqIHNpemUpO1xuXG4gICAgICAgIGNhc2UgJ21hdDInOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoWzEsIDAsXG4gICAgICAgICAgICAgICAgMCwgMV0pO1xuXG4gICAgICAgIGNhc2UgJ21hdDMnOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoWzEsIDAsIDAsXG4gICAgICAgICAgICAgICAgMCwgMSwgMCxcbiAgICAgICAgICAgICAgICAwLCAwLCAxXSk7XG5cbiAgICAgICAgY2FzZSAnbWF0NCc6XG4gICAgICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheShbMSwgMCwgMCwgMCxcbiAgICAgICAgICAgICAgICAwLCAxLCAwLCAwLFxuICAgICAgICAgICAgICAgIDAsIDAsIDEsIDAsXG4gICAgICAgICAgICAgICAgMCwgMCwgMCwgMV0pO1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xufVxuIiwiaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICcuLi8uLi9zZXR0aW5ncyc7XG5pbXBvcnQgeyBFTlYgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuXG5jb25zdCB1bmtub3duQ29udGV4dCA9IHt9O1xubGV0IGNvbnRleHQ6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCB8IFdlYkdMMlJlbmRlcmluZ0NvbnRleHQgPSB1bmtub3duQ29udGV4dCBhcyBhbnk7XG5cbi8qKlxuICogcmV0dXJucyBhIGxpdHRsZSBXZWJHTCBjb250ZXh0IHRvIHVzZSBmb3IgcHJvZ3JhbSBpbnNwZWN0aW9uLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBwcml2YXRlXG4gKiBAcmV0dXJucyB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBhIGdsIGNvbnRleHQgdG8gdGVzdCB3aXRoXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRUZXN0Q29udGV4dCgpOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQgfCBXZWJHTDJSZW5kZXJpbmdDb250ZXh0XG57XG4gICAgaWYgKGNvbnRleHQgPT09IHVua25vd25Db250ZXh0IHx8IChjb250ZXh0ICYmIGNvbnRleHQuaXNDb250ZXh0TG9zdCgpKSlcbiAgICB7XG4gICAgICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuXG4gICAgICAgIGxldCBnbDogV2ViR0xSZW5kZXJpbmdDb250ZXh0IHwgV2ViR0wyUmVuZGVyaW5nQ29udGV4dDtcblxuICAgICAgICBpZiAoc2V0dGluZ3MuUFJFRkVSX0VOViA+PSBFTlYuV0VCR0wyKVxuICAgICAgICB7XG4gICAgICAgICAgICBnbCA9IGNhbnZhcy5nZXRDb250ZXh0KCd3ZWJnbDInLCB7fSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWdsKVxuICAgICAgICB7XG4gICAgICAgICAgICBnbCA9IGNhbnZhcy5nZXRDb250ZXh0KCd3ZWJnbCcsIHt9KVxuICAgICAgICAgICAgfHwgKGNhbnZhcy5nZXRDb250ZXh0KCdleHBlcmltZW50YWwtd2ViZ2wnLCB7fSkgYXMgV2ViR0xSZW5kZXJpbmdDb250ZXh0KTtcblxuICAgICAgICAgICAgaWYgKCFnbClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBmYWlsLCBub3QgYWJsZSB0byBnZXQgYSBjb250ZXh0XG4gICAgICAgICAgICAgICAgZ2wgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIGZvciBzaGFkZXIgdGVzdGluZy4uXG4gICAgICAgICAgICAgICAgZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9kcmF3X2J1ZmZlcnMnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRleHQgPSBnbDtcbiAgICB9XG5cbiAgICByZXR1cm4gY29udGV4dDtcbn1cbiIsImltcG9ydCB7IGdldFRlc3RDb250ZXh0IH0gZnJvbSAnLi9nZXRUZXN0Q29udGV4dCc7XG5pbXBvcnQgeyBQUkVDSVNJT04gfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuXG5sZXQgbWF4RnJhZ21lbnRQcmVjaXNpb246IHN0cmluZztcblxuZXhwb3J0IGZ1bmN0aW9uIGdldE1heEZyYWdtZW50UHJlY2lzaW9uKCk6IHN0cmluZ1xue1xuICAgIGlmICghbWF4RnJhZ21lbnRQcmVjaXNpb24pXG4gICAge1xuICAgICAgICBtYXhGcmFnbWVudFByZWNpc2lvbiA9IFBSRUNJU0lPTi5NRURJVU07XG4gICAgICAgIGNvbnN0IGdsID0gZ2V0VGVzdENvbnRleHQoKTtcblxuICAgICAgICBpZiAoZ2wpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChnbC5nZXRTaGFkZXJQcmVjaXNpb25Gb3JtYXQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2hhZGVyRnJhZ21lbnQgPSBnbC5nZXRTaGFkZXJQcmVjaXNpb25Gb3JtYXQoZ2wuRlJBR01FTlRfU0hBREVSLCBnbC5ISUdIX0ZMT0FUKTtcblxuICAgICAgICAgICAgICAgIG1heEZyYWdtZW50UHJlY2lzaW9uID0gc2hhZGVyRnJhZ21lbnQucHJlY2lzaW9uID8gUFJFQ0lTSU9OLkhJR0ggOiBQUkVDSVNJT04uTUVESVVNO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG1heEZyYWdtZW50UHJlY2lzaW9uO1xufVxuIiwiaW1wb3J0IHsgUFJFQ0lTSU9OIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcblxuLyoqXG4gKiBTZXRzIHRoZSBmbG9hdCBwcmVjaXNpb24gb24gdGhlIHNoYWRlciwgZW5zdXJpbmcgdGhlIGRldmljZSBzdXBwb3J0cyB0aGUgcmVxdWVzdCBwcmVjaXNpb24uXG4gKiBJZiB0aGUgcHJlY2lzaW9uIGlzIGFscmVhZHkgcHJlc2VudCwgaXQganVzdCBlbnN1cmVzIHRoYXQgdGhlIGRldmljZSBpcyBhYmxlIHRvIGhhbmRsZSBpdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtzdHJpbmd9IHNyYyAtIFRoZSBzaGFkZXIgc291cmNlXG4gKiBAcGFyYW0ge3N0cmluZ30gcmVxdWVzdGVkUHJlY2lzaW9uIC0gVGhlIHJlcXVlc3QgZmxvYXQgcHJlY2lzaW9uIG9mIHRoZSBzaGFkZXIuIE9wdGlvbnMgYXJlICdsb3dwJywgJ21lZGl1bXAnIG9yICdoaWdocCcuXG4gKiBAcGFyYW0ge3N0cmluZ30gbWF4U3VwcG9ydGVkUHJlY2lzaW9uIC0gVGhlIG1heGltdW0gcHJlY2lzaW9uIHRoZSBzaGFkZXIgc3VwcG9ydHMuXG4gKlxuICogQHJldHVybiB7c3RyaW5nfSBtb2RpZmllZCBzaGFkZXIgc291cmNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRQcmVjaXNpb24oc3JjOiBzdHJpbmcsIHJlcXVlc3RlZFByZWNpc2lvbjogc3RyaW5nLCBtYXhTdXBwb3J0ZWRQcmVjaXNpb246IHN0cmluZyk6IHN0cmluZ1xue1xuICAgIGlmIChzcmMuc3Vic3RyaW5nKDAsIDkpICE9PSAncHJlY2lzaW9uJylcbiAgICB7XG4gICAgICAgIC8vIG5vIHByZWNpc2lvbiBzdXBwbGllZCwgc28gUGl4aUpTIHdpbGwgYWRkIHRoZSByZXF1ZXN0ZWQgbGV2ZWwuXG4gICAgICAgIGxldCBwcmVjaXNpb24gPSByZXF1ZXN0ZWRQcmVjaXNpb247XG5cbiAgICAgICAgLy8gSWYgaGlnaHAgaXMgcmVxdWVzdGVkIGJ1dCBub3Qgc3VwcG9ydGVkLCBkb3duZ3JhZGUgcHJlY2lzaW9uIHRvIGEgbGV2ZWwgYWxsIGRldmljZXMgc3VwcG9ydC5cbiAgICAgICAgaWYgKHJlcXVlc3RlZFByZWNpc2lvbiA9PT0gUFJFQ0lTSU9OLkhJR0ggJiYgbWF4U3VwcG9ydGVkUHJlY2lzaW9uICE9PSBQUkVDSVNJT04uSElHSClcbiAgICAgICAge1xuICAgICAgICAgICAgcHJlY2lzaW9uID0gUFJFQ0lTSU9OLk1FRElVTTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBgcHJlY2lzaW9uICR7cHJlY2lzaW9ufSBmbG9hdDtcXG4ke3NyY31gO1xuICAgIH1cbiAgICBlbHNlIGlmIChtYXhTdXBwb3J0ZWRQcmVjaXNpb24gIT09IFBSRUNJU0lPTi5ISUdIICYmIHNyYy5zdWJzdHJpbmcoMCwgMTUpID09PSAncHJlY2lzaW9uIGhpZ2hwJylcbiAgICB7XG4gICAgICAgIC8vIHByZWNpc2lvbiB3YXMgc3VwcGxpZWQsIGJ1dCBhdCBhIGxldmVsIHRoaXMgZGV2aWNlIGRvZXMgbm90IHN1cHBvcnQsIHNvIGRvd25ncmFkaW5nIHRvIG1lZGl1bXAuXG4gICAgICAgIHJldHVybiBzcmMucmVwbGFjZSgncHJlY2lzaW9uIGhpZ2hwJywgJ3ByZWNpc2lvbiBtZWRpdW1wJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNyYztcbn1cbiIsImltcG9ydCB0eXBlIHsgRGljdCB9IGZyb20gJ0BwaXhpL3V0aWxzJztcblxuY29uc3QgR0xTTF9UT19TSVpFOiBEaWN0PG51bWJlcj4gPSB7XG4gICAgZmxvYXQ6ICAgIDEsXG4gICAgdmVjMjogICAgIDIsXG4gICAgdmVjMzogICAgIDMsXG4gICAgdmVjNDogICAgIDQsXG5cbiAgICBpbnQ6ICAgICAgMSxcbiAgICBpdmVjMjogICAgMixcbiAgICBpdmVjMzogICAgMyxcbiAgICBpdmVjNDogICAgNCxcblxuICAgIGJvb2w6ICAgICAxLFxuICAgIGJ2ZWMyOiAgICAyLFxuICAgIGJ2ZWMzOiAgICAzLFxuICAgIGJ2ZWM0OiAgICA0LFxuXG4gICAgbWF0MjogICAgIDQsXG4gICAgbWF0MzogICAgIDksXG4gICAgbWF0NDogICAgIDE2LFxuXG4gICAgc2FtcGxlcjJEOiAgMSxcbn07XG5cbi8qKlxuICogQHByaXZhdGVcbiAqIEBtZXRob2QgbWFwU2l6ZVxuICogQG1lbWJlcm9mIFBJWEkuZ2xDb3JlLnNoYWRlclxuICogQHBhcmFtIHR5cGUge1N0cmluZ31cbiAqIEByZXR1cm4ge051bWJlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1hcFNpemUodHlwZTogc3RyaW5nKTogbnVtYmVyXG57XG4gICAgcmV0dXJuIEdMU0xfVE9fU0laRVt0eXBlXTtcbn1cbiIsImltcG9ydCB0eXBlIHsgRGljdCB9IGZyb20gJ0BwaXhpL3V0aWxzJztcblxubGV0IEdMX1RBQkxFOiBEaWN0PHN0cmluZz4gPSBudWxsO1xuXG5jb25zdCBHTF9UT19HTFNMX1RZUEVTOiBEaWN0PHN0cmluZz4gPSB7XG4gICAgRkxPQVQ6ICAgICAgICdmbG9hdCcsXG4gICAgRkxPQVRfVkVDMjogICd2ZWMyJyxcbiAgICBGTE9BVF9WRUMzOiAgJ3ZlYzMnLFxuICAgIEZMT0FUX1ZFQzQ6ICAndmVjNCcsXG5cbiAgICBJTlQ6ICAgICAgICAgJ2ludCcsXG4gICAgSU5UX1ZFQzI6ICAgICdpdmVjMicsXG4gICAgSU5UX1ZFQzM6ICAgICdpdmVjMycsXG4gICAgSU5UX1ZFQzQ6ICAgICdpdmVjNCcsXG5cbiAgICBCT09MOiAgICAgICAgJ2Jvb2wnLFxuICAgIEJPT0xfVkVDMjogICAnYnZlYzInLFxuICAgIEJPT0xfVkVDMzogICAnYnZlYzMnLFxuICAgIEJPT0xfVkVDNDogICAnYnZlYzQnLFxuXG4gICAgRkxPQVRfTUFUMjogICdtYXQyJyxcbiAgICBGTE9BVF9NQVQzOiAgJ21hdDMnLFxuICAgIEZMT0FUX01BVDQ6ICAnbWF0NCcsXG5cbiAgICBTQU1QTEVSXzJEOiAgICAgICAgICAgICAgJ3NhbXBsZXIyRCcsXG4gICAgSU5UX1NBTVBMRVJfMkQ6ICAgICAgICAgICdzYW1wbGVyMkQnLFxuICAgIFVOU0lHTkVEX0lOVF9TQU1QTEVSXzJEOiAnc2FtcGxlcjJEJyxcbiAgICBTQU1QTEVSX0NVQkU6ICAgICAgICAgICAgICAnc2FtcGxlckN1YmUnLFxuICAgIElOVF9TQU1QTEVSX0NVQkU6ICAgICAgICAgICdzYW1wbGVyQ3ViZScsXG4gICAgVU5TSUdORURfSU5UX1NBTVBMRVJfQ1VCRTogJ3NhbXBsZXJDdWJlJyxcbiAgICBTQU1QTEVSXzJEX0FSUkFZOiAgICAgICAgICAgICAgJ3NhbXBsZXIyREFycmF5JyxcbiAgICBJTlRfU0FNUExFUl8yRF9BUlJBWTogICAgICAgICAgJ3NhbXBsZXIyREFycmF5JyxcbiAgICBVTlNJR05FRF9JTlRfU0FNUExFUl8yRF9BUlJBWTogJ3NhbXBsZXIyREFycmF5Jyxcbn07XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvZXhwbGljaXQtbW9kdWxlLWJvdW5kYXJ5LXR5cGVzXG5leHBvcnQgZnVuY3Rpb24gbWFwVHlwZShnbDogYW55LCB0eXBlOiBudW1iZXIpOiBzdHJpbmdcbntcbiAgICBpZiAoIUdMX1RBQkxFKVxuICAgIHtcbiAgICAgICAgY29uc3QgdHlwZU5hbWVzID0gT2JqZWN0LmtleXMoR0xfVE9fR0xTTF9UWVBFUyk7XG5cbiAgICAgICAgR0xfVEFCTEUgPSB7fTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHR5cGVOYW1lcy5sZW5ndGg7ICsraSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgdG4gPSB0eXBlTmFtZXNbaV07XG5cbiAgICAgICAgICAgIEdMX1RBQkxFW2dsW3RuXV0gPSBHTF9UT19HTFNMX1RZUEVTW3RuXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBHTF9UQUJMRVt0eXBlXTtcbn1cbiIsIi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9leHBsaWNpdC1tb2R1bGUtYm91bmRhcnktdHlwZXMgKi9cbi8vIFBhcnNlcnMsIGVhY2ggb25lIG9mIHRoZXNlIHdpbGwgdGFrZSBhIGxvb2sgYXQgdGhlIHR5cGUgb2Ygc2hhZGVyIHByb3BlcnR5IGFuZCB1bmlmb3JtLlxuLy8gaWYgdGhleSBwYXNzIHRoZSB0ZXN0IGZ1bmN0aW9uIHRoZW4gdGhlIGNvZGUgZnVuY3Rpb24gaXMgY2FsbGVkIHRoYXQgcmV0dXJucyBhIHRoZSBzaGFkZXIgdXBsb2FkIGNvZGUgZm9yIHRoYXQgdW5pZm9ybS5cbi8vIFNoYWRlciB1cGxvYWQgY29kZSBpcyBhdXRvbWFnaWNhbGx5IGdlbmVyYXRlZCB3aXRoIHRoZXNlIHBhcnNlcnMuXG4vLyBJZiBubyBwYXJzZXIgaXMgdmFsaWQgdGhlbiB0aGUgZGVmYXVsdCB1cGxvYWQgZnVuY3Rpb25zIGFyZSB1c2VkLlxuLy8gZXhwb3NpbmcgUGFyc2VycyBtZWFucyB0aGF0IGN1c3RvbSB1cGxvYWQgbG9naWMgY2FuIGJlIGFkZGVkIHRvIHBpeGkncyBzaGFkZXJzLlxuLy8gQSBnb29kIGV4YW1wbGUgd291bGQgYmUgYSBwaXhpIHJlY3RhbmdsZSBjYW4gYmUgZGlyZWN0bHkgc2V0IG9uIGEgdW5pZm9ybS5cbi8vIElmIHRoZSBzaGFkZXIgc2VlcyBpdCBpdCBrbm93cyBob3cgdG8gdXBsb2FkIHRoZSByZWN0YW5nbGUgc3RydWN0dXJlIGFzIGEgdmVjNFxuLy8gZm9ybWF0IGlzIGFzIGZvbGxvd3M6XG4vL1xuLy8ge1xuLy8gICAgIHRlc3Q6IChkYXRhLCB1bmlmb3JtKSA9PiB7fSA8LS0tIHRlc3QgaXMgdGhpcyBjb2RlIHNob3VsZCBiZSB1c2VkIGZvciB0aGlzIHVuaWZvcm1cbi8vICAgICBjb2RlOiAobmFtZSwgdW5pZm9ybSkgPT4ge30gPC0tLSByZXR1cm5zIHRoZSBzdHJpbmcgb2YgdGhlIHBpZWNlIG9mIGNvZGUgdGhhdCB1cGxvYWRzIHRoZSB1bmlmb3JtXG4vLyB9XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVVuaWZvcm1QYXJzZXJcbntcbiAgICB0ZXN0KGRhdGE6IHVua25vd24sIHVuaWZvcm06IGFueSk6IGJvb2xlYW47XG4gICAgY29kZShuYW1lOiBzdHJpbmcsIHVuaWZvcm06IGFueSk6IHN0cmluZztcbn1cblxuZXhwb3J0IGNvbnN0IHVuaWZvcm1QYXJzZXJzOiBJVW5pZm9ybVBhcnNlcltdID0gW1xuXG4gICAgLy8gYSBmbG9hdCBjYWNoZSBsYXllclxuICAgIHtcbiAgICAgICAgdGVzdDogKGRhdGE6IGFueSk6IGJvb2xlYW4gPT5cbiAgICAgICAgICAgIGRhdGEudHlwZSA9PT0gJ2Zsb2F0JyAmJiBkYXRhLnNpemUgPT09IDEsXG4gICAgICAgIGNvZGU6IChuYW1lOiBzdHJpbmcpOiBzdHJpbmcgPT5cbiAgICAgICAgICAgIGBcbiAgICAgICAgICAgIGlmKHV2W1wiJHtuYW1lfVwiXSAhPT0gdWRbXCIke25hbWV9XCJdLnZhbHVlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHVkW1wiJHtuYW1lfVwiXS52YWx1ZSA9IHV2W1wiJHtuYW1lfVwiXVxuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0xZih1ZFtcIiR7bmFtZX1cIl0ubG9jYXRpb24sIHV2W1wiJHtuYW1lfVwiXSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGAsXG4gICAgfSxcbiAgICAvLyBoYW5kbGluZyBzYW1wbGVyc1xuICAgIHtcbiAgICAgICAgdGVzdDogKGRhdGE6IGFueSk6IGJvb2xlYW4gPT5cbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXgtbGVuXG4gICAgICAgICAgICAoZGF0YS50eXBlID09PSAnc2FtcGxlcjJEJyB8fCBkYXRhLnR5cGUgPT09ICdzYW1wbGVyQ3ViZScgfHwgZGF0YS50eXBlID09PSAnc2FtcGxlcjJEQXJyYXknKSAmJiBkYXRhLnNpemUgPT09IDEgJiYgIWRhdGEuaXNBcnJheSxcbiAgICAgICAgY29kZTogKG5hbWU6IHN0cmluZyk6IHN0cmluZyA9PiBgdCA9IHN5bmNEYXRhLnRleHR1cmVDb3VudCsrO1xuXG4gICAgICAgICAgICByZW5kZXJlci50ZXh0dXJlLmJpbmQodXZbXCIke25hbWV9XCJdLCB0KTtcblxuICAgICAgICAgICAgaWYodWRbXCIke25hbWV9XCJdLnZhbHVlICE9PSB0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHVkW1wiJHtuYW1lfVwiXS52YWx1ZSA9IHQ7XG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybTFpKHVkW1wiJHtuYW1lfVwiXS5sb2NhdGlvbiwgdCk7XFxuOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG1heC1sZW5cbiAgICAgICAgICAgIH1gLFxuICAgIH0sXG4gICAgLy8gdXBsb2FkaW5nIHBpeGkgbWF0cml4IG9iamVjdCB0byBtYXQzXG4gICAge1xuICAgICAgICB0ZXN0OiAoZGF0YTogYW55LCB1bmlmb3JtOiBhbnkpOiBib29sZWFuID0+XG4gICAgICAgICAgICBkYXRhLnR5cGUgPT09ICdtYXQzJyAmJiBkYXRhLnNpemUgPT09IDEgJiYgdW5pZm9ybS5hICE9PSB1bmRlZmluZWQsXG4gICAgICAgIGNvZGU6IChuYW1lOiBzdHJpbmcpOiBzdHJpbmcgPT5cblxuICAgICAgICAgICAgLy8gVE9ETyBhbmQgc29tZSBzbWFydCBjYWNoaW5nIGRpcnR5IGlkcyBoZXJlIVxuICAgICAgICAgICAgYFxuICAgICAgICAgICAgZ2wudW5pZm9ybU1hdHJpeDNmdih1ZFtcIiR7bmFtZX1cIl0ubG9jYXRpb24sIGZhbHNlLCB1dltcIiR7bmFtZX1cIl0udG9BcnJheSh0cnVlKSk7XG4gICAgICAgICAgICBgXG4gICAgICAgICxcblxuICAgIH0sXG4gICAgLy8gdXBsb2FkaW5nIGEgcGl4aSBwb2ludCBhcyBhIHZlYzIgd2l0aCBjYWNoaW5nIGxheWVyXG4gICAge1xuICAgICAgICB0ZXN0OiAoZGF0YTogYW55LCB1bmlmb3JtOiBhbnkpOiBib29sZWFuID0+XG4gICAgICAgICAgICBkYXRhLnR5cGUgPT09ICd2ZWMyJyAmJiBkYXRhLnNpemUgPT09IDEgJiYgdW5pZm9ybS54ICE9PSB1bmRlZmluZWQsXG4gICAgICAgIGNvZGU6IChuYW1lOiBzdHJpbmcpOiBzdHJpbmcgPT5cbiAgICAgICAgICAgIGBcbiAgICAgICAgICAgICAgICBjdiA9IHVkW1wiJHtuYW1lfVwiXS52YWx1ZTtcbiAgICAgICAgICAgICAgICB2ID0gdXZbXCIke25hbWV9XCJdO1xuXG4gICAgICAgICAgICAgICAgaWYoY3ZbMF0gIT09IHYueCB8fCBjdlsxXSAhPT0gdi55KVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY3ZbMF0gPSB2Lng7XG4gICAgICAgICAgICAgICAgICAgIGN2WzFdID0gdi55O1xuICAgICAgICAgICAgICAgICAgICBnbC51bmlmb3JtMmYodWRbXCIke25hbWV9XCJdLmxvY2F0aW9uLCB2LngsIHYueSk7XG4gICAgICAgICAgICAgICAgfWAsXG4gICAgfSxcbiAgICAvLyBjYWNoaW5nIGxheWVyIGZvciBhIHZlYzJcbiAgICB7XG4gICAgICAgIHRlc3Q6IChkYXRhOiBhbnkpOiBib29sZWFuID0+XG4gICAgICAgICAgICBkYXRhLnR5cGUgPT09ICd2ZWMyJyAmJiBkYXRhLnNpemUgPT09IDEsXG4gICAgICAgIGNvZGU6IChuYW1lOiBzdHJpbmcpOiBzdHJpbmcgPT5cbiAgICAgICAgICAgIGBcbiAgICAgICAgICAgICAgICBjdiA9IHVkW1wiJHtuYW1lfVwiXS52YWx1ZTtcbiAgICAgICAgICAgICAgICB2ID0gdXZbXCIke25hbWV9XCJdO1xuXG4gICAgICAgICAgICAgICAgaWYoY3ZbMF0gIT09IHZbMF0gfHwgY3ZbMV0gIT09IHZbMV0pXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjdlswXSA9IHZbMF07XG4gICAgICAgICAgICAgICAgICAgIGN2WzFdID0gdlsxXTtcbiAgICAgICAgICAgICAgICAgICAgZ2wudW5pZm9ybTJmKHVkW1wiJHtuYW1lfVwiXS5sb2NhdGlvbiwgdlswXSwgdlsxXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgYCxcbiAgICB9LFxuICAgIC8vIHVwbG9hZCBhIHBpeGkgcmVjdGFuZ2xlIGFzIGEgdmVjNCB3aXRoIGNhY2hpbmcgbGF5ZXJcbiAgICB7XG4gICAgICAgIHRlc3Q6IChkYXRhOiBhbnksIHVuaWZvcm06IGFueSk6IGJvb2xlYW4gPT5cbiAgICAgICAgICAgIGRhdGEudHlwZSA9PT0gJ3ZlYzQnICYmIGRhdGEuc2l6ZSA9PT0gMSAmJiB1bmlmb3JtLndpZHRoICE9PSB1bmRlZmluZWQsXG5cbiAgICAgICAgY29kZTogKG5hbWU6IHN0cmluZyk6IHN0cmluZyA9PlxuICAgICAgICAgICAgYFxuICAgICAgICAgICAgICAgIGN2ID0gdWRbXCIke25hbWV9XCJdLnZhbHVlO1xuICAgICAgICAgICAgICAgIHYgPSB1dltcIiR7bmFtZX1cIl07XG5cbiAgICAgICAgICAgICAgICBpZihjdlswXSAhPT0gdi54IHx8IGN2WzFdICE9PSB2LnkgfHwgY3ZbMl0gIT09IHYud2lkdGggfHwgY3ZbM10gIT09IHYuaGVpZ2h0KVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY3ZbMF0gPSB2Lng7XG4gICAgICAgICAgICAgICAgICAgIGN2WzFdID0gdi55O1xuICAgICAgICAgICAgICAgICAgICBjdlsyXSA9IHYud2lkdGg7XG4gICAgICAgICAgICAgICAgICAgIGN2WzNdID0gdi5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgIGdsLnVuaWZvcm00Zih1ZFtcIiR7bmFtZX1cIl0ubG9jYXRpb24sIHYueCwgdi55LCB2LndpZHRoLCB2LmhlaWdodClcbiAgICAgICAgICAgICAgICB9YCxcbiAgICB9LFxuICAgIC8vIGEgY2FjaGluZyBsYXllciBmb3IgdmVjNCB1cGxvYWRpbmdcbiAgICB7XG4gICAgICAgIHRlc3Q6IChkYXRhOiBhbnkpOiBib29sZWFuID0+XG4gICAgICAgICAgICBkYXRhLnR5cGUgPT09ICd2ZWM0JyAmJiBkYXRhLnNpemUgPT09IDEsXG4gICAgICAgIGNvZGU6IChuYW1lOiBzdHJpbmcpOiBzdHJpbmcgPT5cbiAgICAgICAgICAgIGBcbiAgICAgICAgICAgICAgICBjdiA9IHVkW1wiJHtuYW1lfVwiXS52YWx1ZTtcbiAgICAgICAgICAgICAgICB2ID0gdXZbXCIke25hbWV9XCJdO1xuXG4gICAgICAgICAgICAgICAgaWYoY3ZbMF0gIT09IHZbMF0gfHwgY3ZbMV0gIT09IHZbMV0gfHwgY3ZbMl0gIT09IHZbMl0gfHwgY3ZbM10gIT09IHZbM10pXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjdlswXSA9IHZbMF07XG4gICAgICAgICAgICAgICAgICAgIGN2WzFdID0gdlsxXTtcbiAgICAgICAgICAgICAgICAgICAgY3ZbMl0gPSB2WzJdO1xuICAgICAgICAgICAgICAgICAgICBjdlszXSA9IHZbM107XG5cbiAgICAgICAgICAgICAgICAgICAgZ2wudW5pZm9ybTRmKHVkW1wiJHtuYW1lfVwiXS5sb2NhdGlvbiwgdlswXSwgdlsxXSwgdlsyXSwgdlszXSlcbiAgICAgICAgICAgICAgICB9YCxcbiAgICB9LFxuXTtcblxuIiwiaW1wb3J0IHsgdW5pZm9ybVBhcnNlcnMgfSBmcm9tICcuL3VuaWZvcm1QYXJzZXJzJztcblxuaW1wb3J0IHR5cGUgeyBVbmlmb3JtR3JvdXAgfSBmcm9tICcuLi9Vbmlmb3JtR3JvdXAnO1xuaW1wb3J0IHR5cGUgeyBEaWN0IH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuXG5leHBvcnQgdHlwZSBVbmlmb3Jtc1N5bmNDYWxsYmFjayA9ICguLi5hcmdzOiBhbnlbXSkgPT4gdm9pZDtcblxuLy8gY3YgPSBDYWNoZWRWYWx1ZVxuLy8gdiA9IHZhbHVlXG4vLyB1ZCA9IHVuaWZvcm1EYXRhXG4vLyB1diA9IHVuaWZvcm1WYWx1ZVxuLy8gbCA9IGxvY2F0aW9uXG5jb25zdCBHTFNMX1RPX1NJTkdMRV9TRVRURVJTX0NBQ0hFRDogRGljdDxzdHJpbmc+ID0ge1xuXG4gICAgZmxvYXQ6IGBcbiAgICBpZihjdiAhPT0gdilcbiAgICB7XG4gICAgICAgIGN2LnYgPSB2O1xuICAgICAgICBnbC51bmlmb3JtMWYobG9jYXRpb24sIHYpXG4gICAgfWAsXG5cbiAgICB2ZWMyOiBgXG4gICAgaWYoY3ZbMF0gIT09IHZbMF0gfHwgY3ZbMV0gIT09IHZbMV0pXG4gICAge1xuICAgICAgICBjdlswXSA9IHZbMF07XG4gICAgICAgIGN2WzFdID0gdlsxXTtcbiAgICAgICAgZ2wudW5pZm9ybTJmKGxvY2F0aW9uLCB2WzBdLCB2WzFdKVxuICAgIH1gLFxuXG4gICAgdmVjMzogYFxuICAgIGlmKGN2WzBdICE9PSB2WzBdIHx8IGN2WzFdICE9PSB2WzFdIHx8IGN2WzJdICE9PSB2WzJdKVxuICAgIHtcbiAgICAgICAgY3ZbMF0gPSB2WzBdO1xuICAgICAgICBjdlsxXSA9IHZbMV07XG4gICAgICAgIGN2WzJdID0gdlsyXTtcblxuICAgICAgICBnbC51bmlmb3JtM2YobG9jYXRpb24sIHZbMF0sIHZbMV0sIHZbMl0pXG4gICAgfWAsXG5cbiAgICB2ZWM0OiAgICAgJ2dsLnVuaWZvcm00Zihsb2NhdGlvbiwgdlswXSwgdlsxXSwgdlsyXSwgdlszXSknLFxuXG4gICAgaW50OiAgICAgICdnbC51bmlmb3JtMWkobG9jYXRpb24sIHYpJyxcbiAgICBpdmVjMjogICAgJ2dsLnVuaWZvcm0yaShsb2NhdGlvbiwgdlswXSwgdlsxXSknLFxuICAgIGl2ZWMzOiAgICAnZ2wudW5pZm9ybTNpKGxvY2F0aW9uLCB2WzBdLCB2WzFdLCB2WzJdKScsXG4gICAgaXZlYzQ6ICAgICdnbC51bmlmb3JtNGkobG9jYXRpb24sIHZbMF0sIHZbMV0sIHZbMl0sIHZbM10pJyxcblxuICAgIGJvb2w6ICAgICAnZ2wudW5pZm9ybTFpKGxvY2F0aW9uLCB2KScsXG4gICAgYnZlYzI6ICAgICdnbC51bmlmb3JtMmkobG9jYXRpb24sIHZbMF0sIHZbMV0pJyxcbiAgICBidmVjMzogICAgJ2dsLnVuaWZvcm0zaShsb2NhdGlvbiwgdlswXSwgdlsxXSwgdlsyXSknLFxuICAgIGJ2ZWM0OiAgICAnZ2wudW5pZm9ybTRpKGxvY2F0aW9uLCB2WzBdLCB2WzFdLCB2WzJdLCB2WzNdKScsXG5cbiAgICBtYXQyOiAgICAgJ2dsLnVuaWZvcm1NYXRyaXgyZnYobG9jYXRpb24sIGZhbHNlLCB2KScsXG4gICAgbWF0MzogICAgICdnbC51bmlmb3JtTWF0cml4M2Z2KGxvY2F0aW9uLCBmYWxzZSwgdiknLFxuICAgIG1hdDQ6ICAgICAnZ2wudW5pZm9ybU1hdHJpeDRmdihsb2NhdGlvbiwgZmFsc2UsIHYpJyxcblxuICAgIHNhbXBsZXIyRDogICAgICAnZ2wudW5pZm9ybTFpKGxvY2F0aW9uLCB2KScsXG4gICAgc2FtcGxlckN1YmU6ICAgICdnbC51bmlmb3JtMWkobG9jYXRpb24sIHYpJyxcbiAgICBzYW1wbGVyMkRBcnJheTogJ2dsLnVuaWZvcm0xaShsb2NhdGlvbiwgdiknLFxufTtcblxuY29uc3QgR0xTTF9UT19BUlJBWV9TRVRURVJTOiBEaWN0PHN0cmluZz4gPSB7XG5cbiAgICBmbG9hdDogICAgYGdsLnVuaWZvcm0xZnYobG9jYXRpb24sIHYpYCxcblxuICAgIHZlYzI6ICAgICBgZ2wudW5pZm9ybTJmdihsb2NhdGlvbiwgdilgLFxuICAgIHZlYzM6ICAgICBgZ2wudW5pZm9ybTNmdihsb2NhdGlvbiwgdilgLFxuICAgIHZlYzQ6ICAgICAnZ2wudW5pZm9ybTRmdihsb2NhdGlvbiwgdiknLFxuXG4gICAgbWF0NDogICAgICdnbC51bmlmb3JtTWF0cml4NGZ2KGxvY2F0aW9uLCBmYWxzZSwgdiknLFxuICAgIG1hdDM6ICAgICAnZ2wudW5pZm9ybU1hdHJpeDNmdihsb2NhdGlvbiwgZmFsc2UsIHYpJyxcbiAgICBtYXQyOiAgICAgJ2dsLnVuaWZvcm1NYXRyaXgyZnYobG9jYXRpb24sIGZhbHNlLCB2KScsXG5cbiAgICBpbnQ6ICAgICAgJ2dsLnVuaWZvcm0xaXYobG9jYXRpb24sIHYpJyxcbiAgICBpdmVjMjogICAgJ2dsLnVuaWZvcm0yaXYobG9jYXRpb24sIHYpJyxcbiAgICBpdmVjMzogICAgJ2dsLnVuaWZvcm0zaXYobG9jYXRpb24sIHYpJyxcbiAgICBpdmVjNDogICAgJ2dsLnVuaWZvcm00aXYobG9jYXRpb24sIHYpJyxcblxuICAgIGJvb2w6ICAgICAnZ2wudW5pZm9ybTFpdihsb2NhdGlvbiwgdiknLFxuICAgIGJ2ZWMyOiAgICAnZ2wudW5pZm9ybTJpdihsb2NhdGlvbiwgdiknLFxuICAgIGJ2ZWMzOiAgICAnZ2wudW5pZm9ybTNpdihsb2NhdGlvbiwgdiknLFxuICAgIGJ2ZWM0OiAgICAnZ2wudW5pZm9ybTRpdihsb2NhdGlvbiwgdiknLFxuXG4gICAgc2FtcGxlcjJEOiAgICAgICdnbC51bmlmb3JtMWl2KGxvY2F0aW9uLCB2KScsXG4gICAgc2FtcGxlckN1YmU6ICAgICdnbC51bmlmb3JtMWl2KGxvY2F0aW9uLCB2KScsXG4gICAgc2FtcGxlcjJEQXJyYXk6ICdnbC51bmlmb3JtMWl2KGxvY2F0aW9uLCB2KScsXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVVbmlmb3Jtc1N5bmMoZ3JvdXA6IFVuaWZvcm1Hcm91cCwgdW5pZm9ybURhdGE6IERpY3Q8YW55Pik6IFVuaWZvcm1zU3luY0NhbGxiYWNrXG57XG4gICAgY29uc3QgZnVuY0ZyYWdtZW50cyA9IFtgXG4gICAgICAgIHZhciB2ID0gbnVsbDtcbiAgICAgICAgdmFyIGN2ID0gbnVsbFxuICAgICAgICB2YXIgdCA9IDA7XG4gICAgICAgIHZhciBnbCA9IHJlbmRlcmVyLmdsXG4gICAgYF07XG5cbiAgICBmb3IgKGNvbnN0IGkgaW4gZ3JvdXAudW5pZm9ybXMpXG4gICAge1xuICAgICAgICBjb25zdCBkYXRhID0gdW5pZm9ybURhdGFbaV07XG5cbiAgICAgICAgaWYgKCFkYXRhKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoZ3JvdXAudW5pZm9ybXNbaV0uZ3JvdXApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZnVuY0ZyYWdtZW50cy5wdXNoKGBcbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyZXIuc2hhZGVyLnN5bmNVbmlmb3JtR3JvdXAodXZbXCIke2l9XCJdLCBzeW5jRGF0YSk7XG4gICAgICAgICAgICAgICAgYCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdW5pZm9ybSA9IGdyb3VwLnVuaWZvcm1zW2ldO1xuXG4gICAgICAgIGxldCBwYXJzZWQgPSBmYWxzZTtcblxuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHVuaWZvcm1QYXJzZXJzLmxlbmd0aDsgaisrKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodW5pZm9ybVBhcnNlcnNbal0udGVzdChkYXRhLCB1bmlmb3JtKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmdW5jRnJhZ21lbnRzLnB1c2godW5pZm9ybVBhcnNlcnNbal0uY29kZShpLCB1bmlmb3JtKSk7XG4gICAgICAgICAgICAgICAgcGFyc2VkID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFwYXJzZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHRlbXBsYXRlVHlwZSA9IChkYXRhLnNpemUgPT09IDEpID8gR0xTTF9UT19TSU5HTEVfU0VUVEVSU19DQUNIRUQgOiBHTFNMX1RPX0FSUkFZX1NFVFRFUlM7XG5cbiAgICAgICAgICAgIGNvbnN0IHRlbXBsYXRlID0gIHRlbXBsYXRlVHlwZVtkYXRhLnR5cGVdLnJlcGxhY2UoJ2xvY2F0aW9uJywgYHVkW1wiJHtpfVwiXS5sb2NhdGlvbmApO1xuXG4gICAgICAgICAgICBmdW5jRnJhZ21lbnRzLnB1c2goYFxuICAgICAgICAgICAgY3YgPSB1ZFtcIiR7aX1cIl0udmFsdWU7XG4gICAgICAgICAgICB2ID0gdXZbXCIke2l9XCJdO1xuICAgICAgICAgICAgJHt0ZW1wbGF0ZX07YCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiB0aGUgaW50cm9kdWN0aW9uIG9mIHN5bmNEYXRhIGlzIHRvIHNvbHZlIGFuIGlzc3VlIHdoZXJlIHRleHR1cmVzIGluIHVuaWZvcm0gZ3JvdXBzIGFyZSBub3Qgc2V0IGNvcnJlY3RseVxuICAgICAqIHRoZSB0ZXh0dXJlIGNvdW50IHdhcyBhbHdheXMgc3RhcnRpbmcgZnJvbSAwIGluIGVhY2ggZ3JvdXAuIFRoaXMgbmVlZHMgdG8gaW5jcmVtZW50IGVhY2ggdGltZSBhIHRleHR1cmUgaXMgdXNlZFxuICAgICAqIG5vIG1hdHRlciB3aGljaCBncm91cCBpcyBiZWluZyB1c2VkXG4gICAgICpcbiAgICAgKi9cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbmV3LWZ1bmNcbiAgICByZXR1cm4gbmV3IEZ1bmN0aW9uKCd1ZCcsICd1dicsICdyZW5kZXJlcicsICdzeW5jRGF0YScsIGZ1bmNGcmFnbWVudHMuam9pbignXFxuJykpIGFzIFVuaWZvcm1zU3luY0NhbGxiYWNrO1xufVxuXG4iLCJpbXBvcnQgdHlwZSB7IElSZW5kZXJpbmdDb250ZXh0IH0gZnJvbSAnLi4vLi4vSVJlbmRlcmluZ0NvbnRleHQnO1xuXG5jb25zdCBmcmFnVGVtcGxhdGUgPSBbXG4gICAgJ3ByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OycsXG4gICAgJ3ZvaWQgbWFpbih2b2lkKXsnLFxuICAgICdmbG9hdCB0ZXN0ID0gMC4xOycsXG4gICAgJyVmb3Jsb29wJScsXG4gICAgJ2dsX0ZyYWdDb2xvciA9IHZlYzQoMC4wKTsnLFxuICAgICd9Jyxcbl0uam9pbignXFxuJyk7XG5cbmZ1bmN0aW9uIGdlbmVyYXRlSWZUZXN0U3JjKG1heElmczogbnVtYmVyKTogc3RyaW5nXG57XG4gICAgbGV0IHNyYyA9ICcnO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYXhJZnM7ICsraSlcbiAgICB7XG4gICAgICAgIGlmIChpID4gMClcbiAgICAgICAge1xuICAgICAgICAgICAgc3JjICs9ICdcXG5lbHNlICc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaSA8IG1heElmcyAtIDEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHNyYyArPSBgaWYodGVzdCA9PSAke2l9LjApe31gO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHNyYztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrTWF4SWZTdGF0ZW1lbnRzSW5TaGFkZXIobWF4SWZzOiBudW1iZXIsIGdsOiBJUmVuZGVyaW5nQ29udGV4dCk6IG51bWJlclxue1xuICAgIGlmIChtYXhJZnMgPT09IDApXG4gICAge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgdmFsdWUgb2YgYDBgIHBhc3NlZCB0byBgY2hlY2tNYXhJZlN0YXRlbWVudHNJblNoYWRlcmAnKTtcbiAgICB9XG5cbiAgICBjb25zdCBzaGFkZXIgPSBnbC5jcmVhdGVTaGFkZXIoZ2wuRlJBR01FTlRfU0hBREVSKTtcblxuICAgIHdoaWxlICh0cnVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnN0YW50LWNvbmRpdGlvblxuICAgIHtcbiAgICAgICAgY29uc3QgZnJhZ21lbnRTcmMgPSBmcmFnVGVtcGxhdGUucmVwbGFjZSgvJWZvcmxvb3AlL2dpLCBnZW5lcmF0ZUlmVGVzdFNyYyhtYXhJZnMpKTtcblxuICAgICAgICBnbC5zaGFkZXJTb3VyY2Uoc2hhZGVyLCBmcmFnbWVudFNyYyk7XG4gICAgICAgIGdsLmNvbXBpbGVTaGFkZXIoc2hhZGVyKTtcblxuICAgICAgICBpZiAoIWdsLmdldFNoYWRlclBhcmFtZXRlcihzaGFkZXIsIGdsLkNPTVBJTEVfU1RBVFVTKSlcbiAgICAgICAge1xuICAgICAgICAgICAgbWF4SWZzID0gKG1heElmcyAvIDIpIHwgMDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIHZhbGlkIVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbWF4SWZzO1xufVxuIiwiLy8gQ2FjaGUgdGhlIHJlc3VsdCB0byBwcmV2ZW50IHJ1bm5pbmcgdGhpcyBvdmVyIGFuZCBvdmVyXG5sZXQgdW5zYWZlRXZhbDogYm9vbGVhbjtcblxuLyoqXG4gKiBOb3QgYWxsIHBsYXRmb3JtcyBhbGxvdyB0byBnZW5lcmF0ZSBmdW5jdGlvbiBjb2RlIChlLmcuLCBgbmV3IEZ1bmN0aW9uYCkuXG4gKiB0aGlzIHByb3ZpZGVzIHRoZSBwbGF0Zm9ybS1sZXZlbCBkZXRlY3Rpb24uXG4gKlxuICogQHByaXZhdGVcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gdW5zYWZlRXZhbFN1cHBvcnRlZCgpOiBib29sZWFuXG57XG4gICAgaWYgKHR5cGVvZiB1bnNhZmVFdmFsID09PSAnYm9vbGVhbicpXG4gICAge1xuICAgICAgICByZXR1cm4gdW5zYWZlRXZhbDtcbiAgICB9XG5cbiAgICB0cnlcbiAgICB7XG4gICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLW5ldy1mdW5jICovXG4gICAgICAgIGNvbnN0IGZ1bmMgPSBuZXcgRnVuY3Rpb24oJ3BhcmFtMScsICdwYXJhbTInLCAncGFyYW0zJywgJ3JldHVybiBwYXJhbTFbcGFyYW0yXSA9PT0gcGFyYW0zOycpO1xuICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLW5ldy1mdW5jICovXG5cbiAgICAgICAgdW5zYWZlRXZhbCA9IGZ1bmMoeyBhOiAnYicgfSwgJ2EnLCAnYicpID09PSB0cnVlO1xuICAgIH1cbiAgICBjYXRjaCAoZSlcbiAgICB7XG4gICAgICAgIHVuc2FmZUV2YWwgPSBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdW5zYWZlRXZhbDtcbn1cbiIsImltcG9ydCB7IHNldFByZWNpc2lvbixcbiAgICBkZWZhdWx0VmFsdWUsXG4gICAgY29tcGlsZVByb2dyYW0sXG4gICAgbWFwU2l6ZSxcbiAgICBtYXBUeXBlLFxuICAgIGdldFRlc3RDb250ZXh0LFxuICAgIGdldE1heEZyYWdtZW50UHJlY2lzaW9uIH0gZnJvbSAnLi91dGlscyc7XG5pbXBvcnQgeyBQcm9ncmFtQ2FjaGUgfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgZGVmYXVsdEZyYWdtZW50IGZyb20gJy4vZGVmYXVsdFByb2dyYW0uZnJhZyc7XG5pbXBvcnQgZGVmYXVsdFZlcnRleCBmcm9tICcuL2RlZmF1bHRQcm9ncmFtLnZlcnQnO1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5pbXBvcnQgeyBQUkVDSVNJT04gfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuXG5pbXBvcnQgdHlwZSB7IEdMUHJvZ3JhbSB9IGZyb20gJy4vR0xQcm9ncmFtJztcblxubGV0IFVJRCA9IDA7XG5cbmNvbnN0IG5hbWVDYWNoZTogeyBba2V5OiBzdHJpbmddOiBudW1iZXIgfSA9IHt9O1xuXG5leHBvcnQgaW50ZXJmYWNlIElBdHRyaWJ1dGVEYXRhXG57XG4gICAgdHlwZTogc3RyaW5nO1xuICAgIHNpemU6IG51bWJlcjtcbiAgICBsb2NhdGlvbjogbnVtYmVyO1xuICAgIG5hbWU6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJVW5pZm9ybURhdGFcbntcbiAgICB0eXBlOiBzdHJpbmc7XG4gICAgc2l6ZTogbnVtYmVyO1xuICAgIGlzQXJyYXk6IFJlZ0V4cE1hdGNoQXJyYXk7XG4gICAgdmFsdWU6IGFueTtcbn1cblxuLyoqXG4gKiBIZWxwZXIgY2xhc3MgdG8gY3JlYXRlIGEgc2hhZGVyIHByb2dyYW0uXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgY2xhc3MgUHJvZ3JhbVxue1xuICAgIHB1YmxpYyBpZDogbnVtYmVyO1xuICAgIHB1YmxpYyB2ZXJ0ZXhTcmM6IHN0cmluZztcbiAgICBwdWJsaWMgZnJhZ21lbnRTcmM6IHN0cmluZztcbiAgICBuYW1lQ2FjaGU6IGFueTtcbiAgICBnbFByb2dyYW1zOiB7IFsga2V5OiBudW1iZXIgXTogR0xQcm9ncmFtfTtcbiAgICBzeW5jVW5pZm9ybXM6IGFueTtcbiAgICBhdHRyaWJ1dGVEYXRhOiB7IFtrZXk6IHN0cmluZ106IElBdHRyaWJ1dGVEYXRhfTtcbiAgICB1bmlmb3JtRGF0YToge1trZXk6IHN0cmluZ106IElVbmlmb3JtRGF0YX07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFt2ZXJ0ZXhTcmNdIC0gVGhlIHNvdXJjZSBvZiB0aGUgdmVydGV4IHNoYWRlci5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2ZyYWdtZW50U3JjXSAtIFRoZSBzb3VyY2Ugb2YgdGhlIGZyYWdtZW50IHNoYWRlci5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW25hbWVdIC0gTmFtZSBmb3Igc2hhZGVyXG4gICAgICovXG4gICAgY29uc3RydWN0b3IodmVydGV4U3JjPzogc3RyaW5nLCBmcmFnbWVudFNyYz86IHN0cmluZywgbmFtZSA9ICdwaXhpLXNoYWRlcicpXG4gICAge1xuICAgICAgICB0aGlzLmlkID0gVUlEKys7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB2ZXJ0ZXggc2hhZGVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnZlcnRleFNyYyA9IHZlcnRleFNyYyB8fCBQcm9ncmFtLmRlZmF1bHRWZXJ0ZXhTcmM7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBmcmFnbWVudCBzaGFkZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZnJhZ21lbnRTcmMgPSBmcmFnbWVudFNyYyB8fCBQcm9ncmFtLmRlZmF1bHRGcmFnbWVudFNyYztcblxuICAgICAgICB0aGlzLnZlcnRleFNyYyA9IHRoaXMudmVydGV4U3JjLnRyaW0oKTtcbiAgICAgICAgdGhpcy5mcmFnbWVudFNyYyA9IHRoaXMuZnJhZ21lbnRTcmMudHJpbSgpO1xuXG4gICAgICAgIGlmICh0aGlzLnZlcnRleFNyYy5zdWJzdHJpbmcoMCwgOCkgIT09ICcjdmVyc2lvbicpXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5hbWUgPSBuYW1lLnJlcGxhY2UoL1xccysvZywgJy0nKTtcblxuICAgICAgICAgICAgaWYgKG5hbWVDYWNoZVtuYW1lXSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lQ2FjaGVbbmFtZV0rKztcbiAgICAgICAgICAgICAgICBuYW1lICs9IGAtJHtuYW1lQ2FjaGVbbmFtZV19YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lQ2FjaGVbbmFtZV0gPSAxO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnZlcnRleFNyYyA9IGAjZGVmaW5lIFNIQURFUl9OQU1FICR7bmFtZX1cXG4ke3RoaXMudmVydGV4U3JjfWA7XG4gICAgICAgICAgICB0aGlzLmZyYWdtZW50U3JjID0gYCNkZWZpbmUgU0hBREVSX05BTUUgJHtuYW1lfVxcbiR7dGhpcy5mcmFnbWVudFNyY31gO1xuXG4gICAgICAgICAgICB0aGlzLnZlcnRleFNyYyA9IHNldFByZWNpc2lvbih0aGlzLnZlcnRleFNyYywgc2V0dGluZ3MuUFJFQ0lTSU9OX1ZFUlRFWCwgUFJFQ0lTSU9OLkhJR0gpO1xuICAgICAgICAgICAgdGhpcy5mcmFnbWVudFNyYyA9IHNldFByZWNpc2lvbih0aGlzLmZyYWdtZW50U3JjLCBzZXR0aW5ncy5QUkVDSVNJT05fRlJBR01FTlQsIGdldE1heEZyYWdtZW50UHJlY2lzaW9uKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY3VycmVudGx5IHRoaXMgZG9lcyBub3QgZXh0cmFjdCBzdHJ1Y3RzIG9ubHkgZGVmYXVsdCB0eXBlc1xuICAgICAgICB0aGlzLmV4dHJhY3REYXRhKHRoaXMudmVydGV4U3JjLCB0aGlzLmZyYWdtZW50U3JjKTtcblxuICAgICAgICAvLyB0aGlzIGlzIHdoZXJlIHdlIHN0b3JlIHNoYWRlciByZWZlcmVuY2VzLi5cbiAgICAgICAgdGhpcy5nbFByb2dyYW1zID0ge307XG5cbiAgICAgICAgdGhpcy5zeW5jVW5pZm9ybXMgPSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4dHJhY3RzIHRoZSBkYXRhIGZvciBhIGJ1eSBjcmVhdGluZyBhIHNtYWxsIHRlc3QgcHJvZ3JhbVxuICAgICAqIG9yIHJlYWRpbmcgdGhlIHNyYyBkaXJlY3RseS5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3ZlcnRleFNyY10gLSBUaGUgc291cmNlIG9mIHRoZSB2ZXJ0ZXggc2hhZGVyLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbZnJhZ21lbnRTcmNdIC0gVGhlIHNvdXJjZSBvZiB0aGUgZnJhZ21lbnQgc2hhZGVyLlxuICAgICAqL1xuICAgIHByb3RlY3RlZCBleHRyYWN0RGF0YSh2ZXJ0ZXhTcmM6IHN0cmluZywgZnJhZ21lbnRTcmM6IHN0cmluZyk6IHZvaWRcbiAgICB7XG4gICAgICAgIGNvbnN0IGdsID0gZ2V0VGVzdENvbnRleHQoKTtcblxuICAgICAgICBpZiAoZ2wpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHByb2dyYW0gPSBjb21waWxlUHJvZ3JhbShnbCwgdmVydGV4U3JjLCBmcmFnbWVudFNyYyk7XG5cbiAgICAgICAgICAgIHRoaXMuYXR0cmlidXRlRGF0YSA9IHRoaXMuZ2V0QXR0cmlidXRlRGF0YShwcm9ncmFtLCBnbCk7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1EYXRhID0gdGhpcy5nZXRVbmlmb3JtRGF0YShwcm9ncmFtLCBnbCk7XG5cbiAgICAgICAgICAgIGdsLmRlbGV0ZVByb2dyYW0ocHJvZ3JhbSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1EYXRhID0ge307XG4gICAgICAgICAgICB0aGlzLmF0dHJpYnV0ZURhdGEgPSB7fTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHJldHVybnMgdGhlIGF0dHJpYnV0ZSBkYXRhIGZyb20gdGhlIHByb2dyYW1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtXZWJHTFByb2dyYW19IFtwcm9ncmFtXSAtIHRoZSBXZWJHTCBwcm9ncmFtXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IFtnbF0gLSB0aGUgV2ViR0wgY29udGV4dFxuICAgICAqXG4gICAgICogQHJldHVybnMge29iamVjdH0gdGhlIGF0dHJpYnV0ZSBkYXRhIGZvciB0aGlzIHByb2dyYW1cbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgZ2V0QXR0cmlidXRlRGF0YShwcm9ncmFtOiBXZWJHTFByb2dyYW0sIGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHRCYXNlKToge1trZXk6IHN0cmluZ106IElBdHRyaWJ1dGVEYXRhfVxuICAgIHtcbiAgICAgICAgY29uc3QgYXR0cmlidXRlczoge1trZXk6IHN0cmluZ106IElBdHRyaWJ1dGVEYXRhfSA9IHt9O1xuICAgICAgICBjb25zdCBhdHRyaWJ1dGVzQXJyYXk6IEFycmF5PElBdHRyaWJ1dGVEYXRhPiA9IFtdO1xuXG4gICAgICAgIGNvbnN0IHRvdGFsQXR0cmlidXRlcyA9IGdsLmdldFByb2dyYW1QYXJhbWV0ZXIocHJvZ3JhbSwgZ2wuQUNUSVZFX0FUVFJJQlVURVMpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdG90YWxBdHRyaWJ1dGVzOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGF0dHJpYkRhdGEgPSBnbC5nZXRBY3RpdmVBdHRyaWIocHJvZ3JhbSwgaSk7XG4gICAgICAgICAgICBjb25zdCB0eXBlID0gbWFwVHlwZShnbCwgYXR0cmliRGF0YS50eXBlKTtcblxuICAgICAgICAgICAgLyplc2xpbnQtZGlzYWJsZSAqL1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICAgICAgICAgIG5hbWU6IGF0dHJpYkRhdGEubmFtZSxcbiAgICAgICAgICAgICAgICBzaXplOiBtYXBTaXplKHR5cGUpLFxuICAgICAgICAgICAgICAgIGxvY2F0aW9uOiAwLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgKi9cblxuICAgICAgICAgICAgYXR0cmlidXRlc1thdHRyaWJEYXRhLm5hbWVdID0gZGF0YTtcbiAgICAgICAgICAgIGF0dHJpYnV0ZXNBcnJheS5wdXNoKGRhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgYXR0cmlidXRlc0FycmF5LnNvcnQoKGEsIGIpID0+IChhLm5hbWUgPiBiLm5hbWUpID8gMSA6IC0xKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25mdXNpbmctYXJyb3dcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGF0dHJpYnV0ZXNBcnJheS5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgYXR0cmlidXRlc0FycmF5W2ldLmxvY2F0aW9uID0gaTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBhdHRyaWJ1dGVzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHJldHVybnMgdGhlIHVuaWZvcm0gZGF0YSBmcm9tIHRoZSBwcm9ncmFtXG4gICAgICogQHByaXZhdGVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7d2ViR0wtcHJvZ3JhbX0gW3Byb2dyYW1dIC0gdGhlIHdlYmdsIHByb2dyYW1cbiAgICAgKiBAcGFyYW0ge2NvbnRleHR9IFtnbF0gLSB0aGUgV2ViR0wgY29udGV4dFxuICAgICAqXG4gICAgICogQHJldHVybnMge29iamVjdH0gdGhlIHVuaWZvcm0gZGF0YSBmb3IgdGhpcyBwcm9ncmFtXG4gICAgICovXG4gICAgcHJpdmF0ZSBnZXRVbmlmb3JtRGF0YShwcm9ncmFtOiBXZWJHTFByb2dyYW0sIGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHRCYXNlKToge1trZXk6IHN0cmluZ106IElVbmlmb3JtRGF0YX1cbiAgICB7XG4gICAgICAgIGNvbnN0IHVuaWZvcm1zOiB7W2tleTogc3RyaW5nXTogSVVuaWZvcm1EYXRhfSA9IHt9O1xuXG4gICAgICAgIGNvbnN0IHRvdGFsVW5pZm9ybXMgPSBnbC5nZXRQcm9ncmFtUGFyYW1ldGVyKHByb2dyYW0sIGdsLkFDVElWRV9VTklGT1JNUyk7XG5cbiAgICAgICAgLy8gVE9ETyBleHBvc2UgdGhpcyBhcyBhIHByb3A/XG4gICAgICAgIC8vIGNvbnN0IG1hc2tSZWdleCA9IG5ldyBSZWdFeHAoJ14ocHJvamVjdGlvbk1hdHJpeHx1U2FtcGxlcnx0cmFuc2xhdGlvbk1hdHJpeCkkJyk7XG4gICAgICAgIC8vIGNvbnN0IG1hc2tSZWdleCA9IG5ldyBSZWdFeHAoJ14ocHJvamVjdGlvbk1hdHJpeHx1U2FtcGxlcnx0cmFuc2xhdGlvbk1hdHJpeCkkJyk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0b3RhbFVuaWZvcm1zOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHVuaWZvcm1EYXRhID0gZ2wuZ2V0QWN0aXZlVW5pZm9ybShwcm9ncmFtLCBpKTtcbiAgICAgICAgICAgIGNvbnN0IG5hbWUgPSB1bmlmb3JtRGF0YS5uYW1lLnJlcGxhY2UoL1xcWy4qP1xcXSQvLCAnJyk7XG5cbiAgICAgICAgICAgIGNvbnN0IGlzQXJyYXkgPSB1bmlmb3JtRGF0YS5uYW1lLm1hdGNoKC9cXFsuKj9cXF0kLyk7XG4gICAgICAgICAgICBjb25zdCB0eXBlID0gbWFwVHlwZShnbCwgdW5pZm9ybURhdGEudHlwZSk7XG5cbiAgICAgICAgICAgIC8qZXNsaW50LWRpc2FibGUgKi9cbiAgICAgICAgICAgIHVuaWZvcm1zW25hbWVdID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgICAgICAgICAgc2l6ZTogdW5pZm9ybURhdGEuc2l6ZSxcbiAgICAgICAgICAgICAgICBpc0FycmF5OmlzQXJyYXksXG4gICAgICAgICAgICAgICAgdmFsdWU6IGRlZmF1bHRWYWx1ZSh0eXBlLCB1bmlmb3JtRGF0YS5zaXplKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvKiBlc2xpbnQtZW5hYmxlICovXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdW5pZm9ybXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGRlZmF1bHQgdmVydGV4IHNoYWRlciBzb3VyY2VcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAY29uc3RhbnRcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICovXG4gICAgc3RhdGljIGdldCBkZWZhdWx0VmVydGV4U3JjKCk6IHN0cmluZ1xuICAgIHtcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRWZXJ0ZXg7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGRlZmF1bHQgZnJhZ21lbnQgc2hhZGVyIHNvdXJjZVxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBjb25zdGFudFxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IGRlZmF1bHRGcmFnbWVudFNyYygpOiBzdHJpbmdcbiAgICB7XG4gICAgICAgIHJldHVybiBkZWZhdWx0RnJhZ21lbnQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzaG9ydCBoYW5kIGZ1bmN0aW9uIHRvIGNyZWF0ZSBhIHByb2dyYW0gYmFzZWQgb2YgYSB2ZXJ0ZXggYW5kIGZyYWdtZW50IHNoYWRlclxuICAgICAqIHRoaXMgbWV0aG9kIHdpbGwgYWxzbyBjaGVjayB0byBzZWUgaWYgdGhlcmUgaXMgYSBjYWNoZWQgcHJvZ3JhbS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbdmVydGV4U3JjXSAtIFRoZSBzb3VyY2Ugb2YgdGhlIHZlcnRleCBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtmcmFnbWVudFNyY10gLSBUaGUgc291cmNlIG9mIHRoZSBmcmFnbWVudCBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtuYW1lPXBpeGktc2hhZGVyXSAtIE5hbWUgZm9yIHNoYWRlclxuICAgICAqXG4gICAgICogQHJldHVybnMge1BJWEkuUHJvZ3JhbX0gYW4gc2hpbnkgbmV3IFBpeGkgc2hhZGVyIVxuICAgICAqL1xuICAgIHN0YXRpYyBmcm9tKHZlcnRleFNyYz86IHN0cmluZywgZnJhZ21lbnRTcmM/OiBzdHJpbmcsIG5hbWU/OiBzdHJpbmcpOiBQcm9ncmFtXG4gICAge1xuICAgICAgICBjb25zdCBrZXkgPSB2ZXJ0ZXhTcmMgKyBmcmFnbWVudFNyYztcblxuICAgICAgICBsZXQgcHJvZ3JhbSA9IFByb2dyYW1DYWNoZVtrZXldO1xuXG4gICAgICAgIGlmICghcHJvZ3JhbSlcbiAgICAgICAge1xuICAgICAgICAgICAgUHJvZ3JhbUNhY2hlW2tleV0gPSBwcm9ncmFtID0gbmV3IFByb2dyYW0odmVydGV4U3JjLCBmcmFnbWVudFNyYywgbmFtZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcHJvZ3JhbTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBQcm9ncmFtIH0gZnJvbSAnLi9Qcm9ncmFtJztcbmltcG9ydCB7IFVuaWZvcm1Hcm91cCB9IGZyb20gJy4vVW5pZm9ybUdyb3VwJztcblxuaW1wb3J0IHR5cGUgeyBEaWN0IH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuXG4vKipcbiAqIEEgaGVscGVyIGNsYXNzIGZvciBzaGFkZXJzXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgY2xhc3MgU2hhZGVyXG57XG4gICAgcHVibGljIHByb2dyYW06IFByb2dyYW07XG4gICAgcHVibGljIHVuaWZvcm1Hcm91cDogVW5pZm9ybUdyb3VwO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5Qcm9ncmFtfSBbcHJvZ3JhbV0gLSBUaGUgcHJvZ3JhbSB0aGUgc2hhZGVyIHdpbGwgdXNlLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbdW5pZm9ybXNdIC0gQ3VzdG9tIHVuaWZvcm1zIHRvIHVzZSB0byBhdWdtZW50IHRoZSBidWlsdC1pbiBvbmVzLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHByb2dyYW06IFByb2dyYW0sIHVuaWZvcm1zOiBEaWN0PGFueT4pXG4gICAge1xuICAgICAgICAvKipcbiAgICAgICAgICogUHJvZ3JhbSB0aGF0IHRoZSBzaGFkZXIgdXNlc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlByb2dyYW19XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnByb2dyYW0gPSBwcm9ncmFtO1xuXG4gICAgICAgIC8vIGxldHMgc2VlIHdoYXRzIGJlZW4gcGFzc2VkIGluXG4gICAgICAgIC8vIHVuaWZvcm1zIHNob3VsZCBiZSBjb252ZXJ0ZWQgdG8gYSB1bmlmb3JtIGdyb3VwXG4gICAgICAgIGlmICh1bmlmb3JtcylcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHVuaWZvcm1zIGluc3RhbmNlb2YgVW5pZm9ybUdyb3VwKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMudW5pZm9ybUdyb3VwID0gdW5pZm9ybXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy51bmlmb3JtR3JvdXAgPSBuZXcgVW5pZm9ybUdyb3VwKHVuaWZvcm1zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudW5pZm9ybUdyb3VwID0gbmV3IFVuaWZvcm1Hcm91cCh7fSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0aW1lIHRvIGJ1aWxkIHNvbWUgZ2V0dGVycyBhbmQgc2V0dGVycyFcbiAgICAgICAgLy8gSSBndWVzcyBkb3duIHRoZSBsaW5lIHRoaXMgY291bGQgc29ydCBvZiBnZW5lcmF0ZSBhbiBpbnN0cnVjdGlvbiBsaXN0IHJhdGhlciB0aGFuIHVzZSBkaXJ0eSBpZHM/XG4gICAgICAgIC8vIGRvZXMgdGhlIHRyaWNrIGZvciBub3cgdGhvdWdoIVxuICAgICAgICBmb3IgKGNvbnN0IGkgaW4gcHJvZ3JhbS51bmlmb3JtRGF0YSlcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMudW5pZm9ybUdyb3VwLnVuaWZvcm1zW2ldIGluc3RhbmNlb2YgQXJyYXkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy51bmlmb3JtR3JvdXAudW5pZm9ybXNbaV0gPSBuZXcgRmxvYXQzMkFycmF5KHRoaXMudW5pZm9ybUdyb3VwLnVuaWZvcm1zW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFRPRE8gbW92ZSB0byBzaGFkZXIgc3lzdGVtLi5cbiAgICBjaGVja1VuaWZvcm1FeGlzdHMobmFtZTogc3RyaW5nLCBncm91cDogVW5pZm9ybUdyb3VwKTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgaWYgKGdyb3VwLnVuaWZvcm1zW25hbWVdKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoY29uc3QgaSBpbiBncm91cC51bmlmb3JtcylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgdW5pZm9ybSA9IGdyb3VwLnVuaWZvcm1zW2ldO1xuXG4gICAgICAgICAgICBpZiAodW5pZm9ybS5ncm91cClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jaGVja1VuaWZvcm1FeGlzdHMobmFtZSwgdW5pZm9ybSkpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpOiB2b2lkXG4gICAge1xuICAgICAgICAvLyB1c2FnZSBjb3VudCBvbiBwcm9ncmFtcz9cbiAgICAgICAgLy8gcmVtb3ZlIGlmIG5vdCB1c2VkIVxuICAgICAgICB0aGlzLnVuaWZvcm1Hcm91cCA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2hhZGVyIHVuaWZvcm0gdmFsdWVzLCBzaG9ydGN1dCBmb3IgYHVuaWZvcm1Hcm91cC51bmlmb3Jtc2BcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICovXG4gICAgZ2V0IHVuaWZvcm1zKCk6IERpY3Q8YW55PlxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudW5pZm9ybUdyb3VwLnVuaWZvcm1zO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc2hvcnQgaGFuZCBmdW5jdGlvbiB0byBjcmVhdGUgYSBzaGFkZXIgYmFzZWQgb2YgYSB2ZXJ0ZXggYW5kIGZyYWdtZW50IHNoYWRlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFt2ZXJ0ZXhTcmNdIC0gVGhlIHNvdXJjZSBvZiB0aGUgdmVydGV4IHNoYWRlci5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2ZyYWdtZW50U3JjXSAtIFRoZSBzb3VyY2Ugb2YgdGhlIGZyYWdtZW50IHNoYWRlci5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW3VuaWZvcm1zXSAtIEN1c3RvbSB1bmlmb3JtcyB0byB1c2UgdG8gYXVnbWVudCB0aGUgYnVpbHQtaW4gb25lcy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtQSVhJLlNoYWRlcn0gYW4gc2hpbnkgbmV3IFBpeGkgc2hhZGVyIVxuICAgICAqL1xuICAgIHN0YXRpYyBmcm9tKHZlcnRleFNyYz86IHN0cmluZywgZnJhZ21lbnRTcmM/OiBzdHJpbmcsIHVuaWZvcm1zPzogRGljdDxhbnk+KTogU2hhZGVyXG4gICAge1xuICAgICAgICBjb25zdCBwcm9ncmFtID0gUHJvZ3JhbS5mcm9tKHZlcnRleFNyYywgZnJhZ21lbnRTcmMpO1xuXG4gICAgICAgIHJldHVybiBuZXcgU2hhZGVyKHByb2dyYW0sIHVuaWZvcm1zKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBCTEVORF9NT0RFUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5cbi8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cblxuY29uc3QgQkxFTkQgPSAwO1xuY29uc3QgT0ZGU0VUID0gMTtcbmNvbnN0IENVTExJTkcgPSAyO1xuY29uc3QgREVQVEhfVEVTVCA9IDM7XG5jb25zdCBXSU5ESU5HID0gNDtcblxuLyoqXG4gKiBUaGlzIGlzIGEgV2ViR0wgc3RhdGUsIGFuZCBpcyBpcyBwYXNzZWQgVGhlIFdlYkdMIFN0YXRlTWFuYWdlci5cbiAqXG4gKiBFYWNoIG1lc2ggcmVuZGVyZWQgbWF5IHJlcXVpcmUgV2ViR0wgdG8gYmUgaW4gYSBkaWZmZXJlbnQgc3RhdGUuXG4gKiBGb3IgZXhhbXBsZSB5b3UgbWF5IHdhbnQgZGlmZmVyZW50IGJsZW5kIG1vZGUgb3IgdG8gZW5hYmxlIHBvbHlnb24gb2Zmc2V0c1xuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGNsYXNzIFN0YXRlXG57XG4gICAgZGF0YTogbnVtYmVyO1xuICAgIF9ibGVuZE1vZGU6IEJMRU5EX01PREVTO1xuICAgIF9wb2x5Z29uT2Zmc2V0OiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3RvcigpXG4gICAge1xuICAgICAgICB0aGlzLmRhdGEgPSAwO1xuXG4gICAgICAgIHRoaXMuYmxlbmRNb2RlID0gQkxFTkRfTU9ERVMuTk9STUFMO1xuICAgICAgICB0aGlzLnBvbHlnb25PZmZzZXQgPSAwO1xuXG4gICAgICAgIHRoaXMuYmxlbmQgPSB0cnVlO1xuICAgICAgICAvLyAgdGhpcy5kZXB0aFRlc3QgPSB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFjdGl2YXRlcyBibGVuZGluZyBvZiB0aGUgY29tcHV0ZWQgZnJhZ21lbnQgY29sb3IgdmFsdWVzXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqL1xuICAgIGdldCBibGVuZCgpOiBib29sZWFuXG4gICAge1xuICAgICAgICByZXR1cm4gISEodGhpcy5kYXRhICYgKDEgPDwgQkxFTkQpKTtcbiAgICB9XG5cbiAgICBzZXQgYmxlbmQodmFsdWU6IGJvb2xlYW4pXG4gICAge1xuICAgICAgICBpZiAoISEodGhpcy5kYXRhICYgKDEgPDwgQkxFTkQpKSAhPT0gdmFsdWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YSBePSAoMSA8PCBCTEVORCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBY3RpdmF0ZXMgYWRkaW5nIGFuIG9mZnNldCB0byBkZXB0aCB2YWx1ZXMgb2YgcG9seWdvbidzIGZyYWdtZW50c1xuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqL1xuICAgIGdldCBvZmZzZXRzKCk6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIHJldHVybiAhISh0aGlzLmRhdGEgJiAoMSA8PCBPRkZTRVQpKTtcbiAgICB9XG5cbiAgICBzZXQgb2Zmc2V0cyh2YWx1ZTogYm9vbGVhbilcbiAgICB7XG4gICAgICAgIGlmICghISh0aGlzLmRhdGEgJiAoMSA8PCBPRkZTRVQpKSAhPT0gdmFsdWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YSBePSAoMSA8PCBPRkZTRVQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWN0aXZhdGVzIGN1bGxpbmcgb2YgcG9seWdvbnMuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICovXG4gICAgZ2V0IGN1bGxpbmcoKTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgcmV0dXJuICEhKHRoaXMuZGF0YSAmICgxIDw8IENVTExJTkcpKTtcbiAgICB9XG5cbiAgICBzZXQgY3VsbGluZyh2YWx1ZTogYm9vbGVhbilcbiAgICB7XG4gICAgICAgIGlmICghISh0aGlzLmRhdGEgJiAoMSA8PCBDVUxMSU5HKSkgIT09IHZhbHVlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmRhdGEgXj0gKDEgPDwgQ1VMTElORyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBY3RpdmF0ZXMgZGVwdGggY29tcGFyaXNvbnMgYW5kIHVwZGF0ZXMgdG8gdGhlIGRlcHRoIGJ1ZmZlci5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKi9cbiAgICBnZXQgZGVwdGhUZXN0KCk6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIHJldHVybiAhISh0aGlzLmRhdGEgJiAoMSA8PCBERVBUSF9URVNUKSk7XG4gICAgfVxuXG4gICAgc2V0IGRlcHRoVGVzdCh2YWx1ZTogYm9vbGVhbilcbiAgICB7XG4gICAgICAgIGlmICghISh0aGlzLmRhdGEgJiAoMSA8PCBERVBUSF9URVNUKSkgIT09IHZhbHVlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmRhdGEgXj0gKDEgPDwgREVQVEhfVEVTVCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTcGVjaWZpZXMgd2hldGhlciBvciBub3QgZnJvbnQgb3IgYmFjay1mYWNpbmcgcG9seWdvbnMgY2FuIGJlIGN1bGxlZC5cbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICovXG4gICAgZ2V0IGNsb2Nrd2lzZUZyb250RmFjZSgpOiBib29sZWFuXG4gICAge1xuICAgICAgICByZXR1cm4gISEodGhpcy5kYXRhICYgKDEgPDwgV0lORElORykpO1xuICAgIH1cblxuICAgIHNldCBjbG9ja3dpc2VGcm9udEZhY2UodmFsdWU6IGJvb2xlYW4pXG4gICAge1xuICAgICAgICBpZiAoISEodGhpcy5kYXRhICYgKDEgPDwgV0lORElORykpICE9PSB2YWx1ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5kYXRhIF49ICgxIDw8IFdJTkRJTkcpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJsZW5kIG1vZGUgdG8gYmUgYXBwbGllZCB3aGVuIHRoaXMgc3RhdGUgaXMgc2V0LiBBcHBseSBhIHZhbHVlIG9mIGBQSVhJLkJMRU5EX01PREVTLk5PUk1BTGAgdG8gcmVzZXQgdGhlIGJsZW5kIG1vZGUuXG4gICAgICogU2V0dGluZyB0aGlzIG1vZGUgdG8gYW55dGhpbmcgb3RoZXIgdGhhbiBOT19CTEVORCB3aWxsIGF1dG9tYXRpY2FsbHkgc3dpdGNoIGJsZW5kaW5nIG9uLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMXG4gICAgICogQHNlZSBQSVhJLkJMRU5EX01PREVTXG4gICAgICovXG4gICAgZ2V0IGJsZW5kTW9kZSgpOiBCTEVORF9NT0RFU1xuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2JsZW5kTW9kZTtcbiAgICB9XG5cbiAgICBzZXQgYmxlbmRNb2RlKHZhbHVlOiBCTEVORF9NT0RFUylcbiAgICB7XG4gICAgICAgIHRoaXMuYmxlbmQgPSAodmFsdWUgIT09IEJMRU5EX01PREVTLk5PTkUpO1xuICAgICAgICB0aGlzLl9ibGVuZE1vZGUgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcG9seWdvbiBvZmZzZXQuIFNldHRpbmcgdGhpcyBwcm9wZXJ0eSB0byBhbnl0aGluZyBvdGhlciB0aGFuIDAgd2lsbCBhdXRvbWF0aWNhbGx5IGVuYWJsZSBwb2x5Z29uIG9mZnNldCBmaWxsLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cbiAgICBnZXQgcG9seWdvbk9mZnNldCgpOiBudW1iZXJcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wb2x5Z29uT2Zmc2V0O1xuICAgIH1cblxuICAgIHNldCBwb2x5Z29uT2Zmc2V0KHZhbHVlOiBudW1iZXIpXG4gICAge1xuICAgICAgICB0aGlzLm9mZnNldHMgPSAhIXZhbHVlO1xuICAgICAgICB0aGlzLl9wb2x5Z29uT2Zmc2V0ID0gdmFsdWU7XG4gICAgfVxuXG4gICAgc3RhdGljIGZvcjJkKCk6IFN0YXRlXG4gICAge1xuICAgICAgICBjb25zdCBzdGF0ZSA9IG5ldyBTdGF0ZSgpO1xuXG4gICAgICAgIHN0YXRlLmRlcHRoVGVzdCA9IGZhbHNlO1xuICAgICAgICBzdGF0ZS5ibGVuZCA9IHRydWU7XG5cbiAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH1cbn1cblxuIiwiaW1wb3J0IHsgU2hhZGVyIH0gZnJvbSAnLi4vc2hhZGVyL1NoYWRlcic7XG5pbXBvcnQgeyBQcm9ncmFtIH0gZnJvbSAnLi4vc2hhZGVyL1Byb2dyYW0nO1xuaW1wb3J0IHsgU3RhdGUgfSBmcm9tICcuLi9zdGF0ZS9TdGF0ZSc7XG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcbmltcG9ydCBkZWZhdWx0VmVydGV4IGZyb20gJy4vZGVmYXVsdEZpbHRlci52ZXJ0JztcbmltcG9ydCBkZWZhdWx0RnJhZ21lbnQgZnJvbSAnLi9kZWZhdWx0RmlsdGVyLmZyYWcnO1xuXG5pbXBvcnQgdHlwZSB7IFJlbmRlclRleHR1cmUgfSBmcm9tICcuLi9yZW5kZXJUZXh0dXJlL1JlbmRlclRleHR1cmUnO1xuaW1wb3J0IHR5cGUgeyBGaWx0ZXJTeXN0ZW0gfSBmcm9tICcuL0ZpbHRlclN5c3RlbSc7XG5pbXBvcnQgdHlwZSB7IEZpbHRlclN0YXRlIH0gZnJvbSAnLi9GaWx0ZXJTdGF0ZSc7XG5pbXBvcnQgdHlwZSB7IEJMRU5EX01PREVTLCBDTEVBUl9NT0RFUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5pbXBvcnQgdHlwZSB7IERpY3QgfSBmcm9tICdAcGl4aS91dGlscyc7XG5cbi8qKlxuICogRmlsdGVyIGlzIGEgc3BlY2lhbCB0eXBlIG9mIFdlYkdMIHNoYWRlciB0aGF0IGlzIGFwcGxpZWQgdG8gdGhlIHNjcmVlbi5cbiAqXG4gKiB7QGxpbmsgaHR0cDovL3BpeGlqcy5pby9leGFtcGxlcy8jL2ZpbHRlcnMvYmx1ci1maWx0ZXIuanMgRXhhbXBsZX0gb2YgdGhlXG4gKiB7QGxpbmsgUElYSS5maWx0ZXJzLkJsdXJGaWx0ZXIgQmx1ckZpbHRlcn0uXG4gKlxuICogIyMjIFVzYWdlXG4gKiBGaWx0ZXJzIGNhbiBiZSBhcHBsaWVkIHRvIGFueSBEaXNwbGF5T2JqZWN0IG9yIENvbnRhaW5lci5cbiAqIFBpeGlKUycgYEZpbHRlclN5c3RlbWAgcmVuZGVycyB0aGUgY29udGFpbmVyIGludG8gdGVtcG9yYXJ5IEZyYW1lYnVmZmVyLFxuICogdGhlbiBmaWx0ZXIgcmVuZGVycyBpdCB0byB0aGUgc2NyZWVuLlxuICogTXVsdGlwbGUgZmlsdGVycyBjYW4gYmUgYWRkZWQgdG8gdGhlIGBmaWx0ZXJzYCBhcnJheSBwcm9wZXJ0eSBhbmQgc3RhY2tlZCBvbiBlYWNoIG90aGVyLlxuICpcbiAqIGBgYFxuICogY29uc3QgZmlsdGVyID0gbmV3IFBJWEkuRmlsdGVyKG15U2hhZGVyVmVydCwgbXlTaGFkZXJGcmFnLCB7IG15VW5pZm9ybTogMC41IH0pO1xuICogY29uc3QgY29udGFpbmVyID0gbmV3IFBJWEkuQ29udGFpbmVyKCk7XG4gKiBjb250YWluZXIuZmlsdGVycyA9IFtmaWx0ZXJdO1xuICogYGBgXG4gKlxuICogIyMjIFByZXZpb3VzIFZlcnNpb24gRGlmZmVyZW5jZXNcbiAqXG4gKiBJbiBQaXhpSlMgKip2MyoqLCBhIGZpbHRlciB3YXMgYWx3YXlzIGFwcGxpZWQgdG8gX3dob2xlIHNjcmVlbl8uXG4gKlxuICogSW4gUGl4aUpTICoqdjQqKiwgYSBmaWx0ZXIgY2FuIGJlIGFwcGxpZWQgX29ubHkgcGFydCBvZiB0aGUgc2NyZWVuXy5cbiAqIERldmVsb3BlcnMgaGFkIHRvIGNyZWF0ZSBhIHNldCBvZiB1bmlmb3JtcyB0byBkZWFsIHdpdGggY29vcmRpbmF0ZXMuXG4gKlxuICogSW4gUGl4aUpTICoqdjUqKiBjb21iaW5lcyBfYm90aCBhcHByb2FjaGVzXy5cbiAqIERldmVsb3BlcnMgY2FuIHVzZSBub3JtYWwgY29vcmRpbmF0ZXMgb2YgdjMgYW5kIHRoZW4gYWxsb3cgZmlsdGVyIHRvIHVzZSBwYXJ0aWFsIEZyYW1lYnVmZmVycyxcbiAqIGJyaW5naW5nIHRob3NlIGV4dHJhIHVuaWZvcm1zIGludG8gYWNjb3VudC5cbiAqXG4gKiBBbHNvIGJlIGF3YXJlIHRoYXQgd2UgaGF2ZSBjaGFuZ2VkIGRlZmF1bHQgdmVydGV4IHNoYWRlciwgcGxlYXNlIGNvbnN1bHRcbiAqIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vcGl4aWpzL3BpeGkuanMvd2lraS92NS1DcmVhdGluZy1maWx0ZXJzIFdpa2l9LlxuICpcbiAqICMjIyBCdWlsdC1pbiBVbmlmb3Jtc1xuICpcbiAqIFBpeGlKUyB2aWV3cG9ydCB1c2VzIHNjcmVlbiAoQ1NTKSBjb29yZGluYXRlcywgYCgwLCAwLCByZW5kZXJlci5zY3JlZW4ud2lkdGgsIHJlbmRlcmVyLnNjcmVlbi5oZWlnaHQpYCxcbiAqIGFuZCBgcHJvamVjdGlvbk1hdHJpeGAgdW5pZm9ybSBtYXBzIGl0IHRvIHRoZSBnbCB2aWV3cG9ydC5cbiAqXG4gKiAqKnVTYW1wbGVyKipcbiAqXG4gKiBUaGUgbW9zdCBpbXBvcnRhbnQgdW5pZm9ybSBpcyB0aGUgaW5wdXQgdGV4dHVyZSB0aGF0IGNvbnRhaW5lciB3YXMgcmVuZGVyZWQgaW50by5cbiAqIF9JbXBvcnRhbnQgbm90ZTogYXMgd2l0aCBhbGwgRnJhbWVidWZmZXJzIGluIFBpeGlKUywgYm90aCBpbnB1dCBhbmQgb3V0cHV0IGFyZVxuICogcHJlbXVsdGlwbGllZCBieSBhbHBoYS5fXG4gKlxuICogQnkgZGVmYXVsdCwgaW5wdXQgbm9ybWFsaXplZCBjb29yZGluYXRlcyBhcmUgcGFzc2VkIHRvIGZyYWdtZW50IHNoYWRlciB3aXRoIGB2VGV4dHVyZUNvb3JkYC5cbiAqIFVzZSBpdCB0byBzYW1wbGUgdGhlIGlucHV0LlxuICpcbiAqIGBgYFxuICogY29uc3QgZnJhZ21lbnQgPSBgXG4gKiB2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcbiAqIHVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xuICogdm9pZCBtYWluKHZvaWQpXG4gKiB7XG4gKiAgICBnbF9GcmFnQ29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpO1xuICogfVxuICogYDtcbiAqXG4gKiBjb25zdCBteUZpbHRlciA9IG5ldyBQSVhJLkZpbHRlcihudWxsLCBmcmFnbWVudCk7XG4gKiBgYGBcbiAqXG4gKiBUaGlzIGZpbHRlciBpcyBqdXN0IG9uZSB1bmlmb3JtIGxlc3MgdGhhbiB7QGxpbmsgUElYSS5maWx0ZXJzLkFscGhhRmlsdGVyIEFscGhhRmlsdGVyfS5cbiAqXG4gKiAqKm91dHB1dEZyYW1lKipcbiAqXG4gKiBUaGUgYG91dHB1dEZyYW1lYCBob2xkcyB0aGUgcmVjdGFuZ2xlIHdoZXJlIGZpbHRlciBpcyBhcHBsaWVkIGluIHNjcmVlbiAoQ1NTKSBjb29yZGluYXRlcy5cbiAqIEl0J3MgdGhlIHNhbWUgYXMgYHJlbmRlcmVyLnNjcmVlbmAgZm9yIGEgZnVsbHNjcmVlbiBmaWx0ZXIuXG4gKiBPbmx5IGEgcGFydCBvZiAgYG91dHB1dEZyYW1lLnp3YCBzaXplIG9mIHRlbXBvcmFyeSBGcmFtZWJ1ZmZlciBpcyB1c2VkLFxuICogYCgwLCAwLCBvdXRwdXRGcmFtZS53aWR0aCwgb3V0cHV0RnJhbWUuaGVpZ2h0KWAsXG4gKlxuICogRmlsdGVycyB1c2VzIHRoaXMgcXVhZCB0byBub3JtYWxpemVkICgwLTEpIHNwYWNlLCBpdHMgcGFzc2VkIGludG8gYGFWZXJ0ZXhQb3NpdGlvbmAgYXR0cmlidXRlLlxuICogVG8gY2FsY3VsYXRlIHZlcnRleCBwb3NpdGlvbiBpbiBzY3JlZW4gc3BhY2UgdXNpbmcgbm9ybWFsaXplZCAoMC0xKSBzcGFjZTpcbiAqXG4gKiBgYGBcbiAqIHZlYzQgZmlsdGVyVmVydGV4UG9zaXRpb24oIHZvaWQgKVxuICoge1xuICogICAgIHZlYzIgcG9zaXRpb24gPSBhVmVydGV4UG9zaXRpb24gKiBtYXgob3V0cHV0RnJhbWUuencsIHZlYzIoMC4pKSArIG91dHB1dEZyYW1lLnh5O1xuICogICAgIHJldHVybiB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhwb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcbiAqIH1cbiAqIGBgYFxuICpcbiAqICoqaW5wdXRTaXplKipcbiAqXG4gKiBUZW1wb3JhcnkgZnJhbWVidWZmZXIgaXMgZGlmZmVyZW50LCBpdCBjYW4gYmUgZWl0aGVyIHRoZSBzaXplIG9mIHNjcmVlbiwgZWl0aGVyIHBvd2VyLW9mLXR3by5cbiAqIFRoZSBgaW5wdXRTaXplLnh5YCBhcmUgc2l6ZSBvZiB0ZW1wb3JhcnkgZnJhbWVidWZmZXIgdGhhdCBob2xkcyBpbnB1dC5cbiAqIFRoZSBgaW5wdXRTaXplLnp3YCBpcyBpbnZlcnRlZCwgaXQncyBhIHNob3J0Y3V0IHRvIGV2YWRlIGRpdmlzaW9uIGluc2lkZSB0aGUgc2hhZGVyLlxuICpcbiAqIFNldCBgaW5wdXRTaXplLnh5ID0gb3V0cHV0RnJhbWUuendgIGZvciBhIGZ1bGxzY3JlZW4gZmlsdGVyLlxuICpcbiAqIFRvIGNhbGN1bGF0ZSBpbnB1dCBub3JtYWxpemVkIGNvb3JkaW5hdGUsIHlvdSBoYXZlIHRvIG1hcCBpdCB0byBmaWx0ZXIgbm9ybWFsaXplZCBzcGFjZS5cbiAqIE11bHRpcGx5IGJ5IGBvdXRwdXRGcmFtZS56d2AgdG8gZ2V0IGlucHV0IGNvb3JkaW5hdGUuXG4gKiBEaXZpZGUgYnkgYGlucHV0U2l6ZS54eWAgdG8gZ2V0IGlucHV0IG5vcm1hbGl6ZWQgY29vcmRpbmF0ZS5cbiAqXG4gKiBgYGBcbiAqIHZlYzIgZmlsdGVyVGV4dHVyZUNvb3JkKCB2b2lkIClcbiAqIHtcbiAqICAgICByZXR1cm4gYVZlcnRleFBvc2l0aW9uICogKG91dHB1dEZyYW1lLnp3ICogaW5wdXRTaXplLnp3KTsgLy8gc2FtZSBhcyAvaW5wdXRTaXplLnh5XG4gKiB9XG4gKiBgYGBcbiAqICoqcmVzb2x1dGlvbioqXG4gKlxuICogVGhlIGByZXNvbHV0aW9uYCBpcyB0aGUgcmF0aW8gb2Ygc2NyZWVuIChDU1MpIHBpeGVscyB0byByZWFsIHBpeGVscy5cbiAqXG4gKiAqKmlucHV0UGl4ZWwqKlxuICpcbiAqIGBpbnB1dFBpeGVsLnh5YCBpcyB0aGUgc2l6ZSBvZiBmcmFtZWJ1ZmZlciBpbiByZWFsIHBpeGVscywgc2FtZSBhcyBgaW5wdXRTaXplLnh5ICogcmVzb2x1dGlvbmBcbiAqIGBpbnB1dFBpeGVsLnp3YCBpcyBpbnZlcnRlZCBgaW5wdXRQaXhlbC54eWAuXG4gKlxuICogSXQncyBoYW5keSBmb3IgZmlsdGVycyB0aGF0IHVzZSBuZWlnaGJvdXIgcGl4ZWxzLCBsaWtlIHtAbGluayBQSVhJLmZpbHRlcnMuRlhBQUZpbHRlciBGWEFBRmlsdGVyfS5cbiAqXG4gKiAqKmlucHV0Q2xhbXAqKlxuICpcbiAqIElmIHlvdSB0cnkgdG8gZ2V0IGluZm8gZnJvbSBvdXRzaWRlIG9mIHVzZWQgcGFydCBvZiBGcmFtZWJ1ZmZlciAtIHlvdSdsbCBnZXQgdW5kZWZpbmVkIGJlaGF2aW91ci5cbiAqIEZvciBkaXNwbGFjZW1lbnRzLCBjb29yZGluYXRlcyBoYXMgdG8gYmUgY2xhbXBlZC5cbiAqXG4gKiBUaGUgYGlucHV0Q2xhbXAueHlgIGlzIGxlZnQtdG9wIHBpeGVsIGNlbnRlciwgeW91IG1heSBpZ25vcmUgaXQsIGJlY2F1c2Ugd2UgdXNlIGxlZnQtdG9wIHBhcnQgb2YgRnJhbWVidWZmZXJcbiAqIGBpbnB1dENsYW1wLnp3YCBpcyBib3R0b20tcmlnaHQgcGl4ZWwgY2VudGVyLlxuICpcbiAqIGBgYFxuICogdmVjNCBjb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgY2xhbXAobW9kaWZpZ2VkVGV4dHVyZUNvb3JkLCBpbnB1dENsYW1wLnh5LCBpbnB1dENsYW1wLnp3KSlcbiAqIGBgYFxuICogT1JcbiAqIGBgYFxuICogdmVjNCBjb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgbWluKG1vZGlmaWdlZFRleHR1cmVDb29yZCwgaW5wdXRDbGFtcC56dykpXG4gKiBgYGBcbiAqXG4gKiAjIyMgQWRkaXRpb25hbCBJbmZvcm1hdGlvblxuICpcbiAqIENvbXBsZXRlIGRvY3VtZW50YXRpb24gb24gRmlsdGVyIHVzYWdlIGlzIGxvY2F0ZWQgaW4gdGhlXG4gKiB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL3BpeGlqcy9waXhpLmpzL3dpa2kvdjUtQ3JlYXRpbmctZmlsdGVycyBXaWtpfS5cbiAqXG4gKiBTaW5jZSBQaXhpSlMgb25seSBoYWQgYSBoYW5kZnVsIG9mIGJ1aWx0LWluIGZpbHRlcnMsIGFkZGl0aW9uYWwgZmlsdGVycyBjYW4gYmUgZG93bmxvYWRlZFxuICoge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9waXhpanMvcGl4aS1maWx0ZXJzIGhlcmV9IGZyb20gdGhlIFBpeGlKUyBGaWx0ZXJzIHJlcG9zaXRvcnkuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGV4dGVuZHMgUElYSS5TaGFkZXJcbiAqL1xuZXhwb3J0IGNsYXNzIEZpbHRlciBleHRlbmRzIFNoYWRlclxue1xuICAgIHB1YmxpYyBwYWRkaW5nOiBudW1iZXI7XG4gICAgcHVibGljIHJlc29sdXRpb246IG51bWJlcjtcbiAgICBwdWJsaWMgZW5hYmxlZDogYm9vbGVhbjtcbiAgICBwdWJsaWMgYXV0b0ZpdDogYm9vbGVhbjtcbiAgICBwdWJsaWMgbGVnYWN5OiBib29sZWFuO1xuICAgIHN0YXRlOiBTdGF0ZTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3ZlcnRleFNyY10gLSBUaGUgc291cmNlIG9mIHRoZSB2ZXJ0ZXggc2hhZGVyLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbZnJhZ21lbnRTcmNdIC0gVGhlIHNvdXJjZSBvZiB0aGUgZnJhZ21lbnQgc2hhZGVyLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbdW5pZm9ybXNdIC0gQ3VzdG9tIHVuaWZvcm1zIHRvIHVzZSB0byBhdWdtZW50IHRoZSBidWlsdC1pbiBvbmVzLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHZlcnRleFNyYz86IHN0cmluZywgZnJhZ21lbnRTcmM/OiBzdHJpbmcsIHVuaWZvcm1zPzogRGljdDxhbnk+KVxuICAgIHtcbiAgICAgICAgY29uc3QgcHJvZ3JhbSA9IFByb2dyYW0uZnJvbSh2ZXJ0ZXhTcmMgfHwgRmlsdGVyLmRlZmF1bHRWZXJ0ZXhTcmMsXG4gICAgICAgICAgICBmcmFnbWVudFNyYyB8fCBGaWx0ZXIuZGVmYXVsdEZyYWdtZW50U3JjKTtcblxuICAgICAgICBzdXBlcihwcm9ncmFtLCB1bmlmb3Jtcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBwYWRkaW5nIG9mIHRoZSBmaWx0ZXIuIFNvbWUgZmlsdGVycyByZXF1aXJlIGV4dHJhIHNwYWNlIHRvIGJyZWF0aCBzdWNoIGFzIGEgYmx1ci5cbiAgICAgICAgICogSW5jcmVhc2luZyB0aGlzIHdpbGwgYWRkIGV4dHJhIHdpZHRoIGFuZCBoZWlnaHQgdG8gdGhlIGJvdW5kcyBvZiB0aGUgb2JqZWN0IHRoYXQgdGhlXG4gICAgICAgICAqIGZpbHRlciBpcyBhcHBsaWVkIHRvLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBhZGRpbmcgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgZmlsdGVyLiBTZXR0aW5nIHRoaXMgdG8gYmUgbG93ZXIgd2lsbCBsb3dlciB0aGUgcXVhbGl0eSBidXRcbiAgICAgICAgICogaW5jcmVhc2UgdGhlIHBlcmZvcm1hbmNlIG9mIHRoZSBmaWx0ZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVzb2x1dGlvbiA9IHNldHRpbmdzLkZJTFRFUl9SRVNPTFVUSU9OO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBlbmFibGVkIGlzIHRydWUgdGhlIGZpbHRlciBpcyBhcHBsaWVkLCBpZiBmYWxzZSBpdCB3aWxsIG5vdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZW5hYmxlZCA9IHRydWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIGVuYWJsZWQsIFBpeGlKUyB3aWxsIGZpdCB0aGUgZmlsdGVyIGFyZWEgaW50byBib3VuZGFyaWVzIGZvciBiZXR0ZXIgcGVyZm9ybWFuY2UuXG4gICAgICAgICAqIFN3aXRjaCBpdCBvZmYgaWYgaXQgZG9lcyBub3Qgd29yayBmb3Igc3BlY2lmaWMgc2hhZGVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hdXRvRml0ID0gdHJ1ZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTGVnYWN5IGZpbHRlcnMgdXNlIHBvc2l0aW9uIGFuZCB1dnMgZnJvbSBhdHRyaWJ1dGVzXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5sZWdhY3kgPSAhIXRoaXMucHJvZ3JhbS5hdHRyaWJ1dGVEYXRhLmFUZXh0dXJlQ29vcmQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBXZWJHTCBzdGF0ZSB0aGUgZmlsdGVyIHJlcXVpcmVzIHRvIHJlbmRlclxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlN0YXRlfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdGF0ZSA9IG5ldyBTdGF0ZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIGZpbHRlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLnN5c3RlbXMuRmlsdGVyU3lzdGVtfSBmaWx0ZXJNYW5hZ2VyIC0gVGhlIHJlbmRlcmVyIHRvIHJldHJpZXZlIHRoZSBmaWx0ZXIgZnJvbVxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBpbnB1dCAtIFRoZSBpbnB1dCByZW5kZXIgdGFyZ2V0LlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBvdXRwdXQgLSBUaGUgdGFyZ2V0IHRvIG91dHB1dCB0by5cbiAgICAgKiBAcGFyYW0ge1BJWEkuQ0xFQVJfTU9ERVN9IGNsZWFyTW9kZSAtIFNob3VsZCB0aGUgb3V0cHV0IGJlIGNsZWFyZWQgYmVmb3JlIHJlbmRlcmluZyB0byBpdC5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW2N1cnJlbnRTdGF0ZV0gLSBJdCdzIGN1cnJlbnQgc3RhdGUgb2YgZmlsdGVyLlxuICAgICAqICAgICAgICBUaGVyZSBhcmUgc29tZSB1c2VmdWwgcHJvcGVydGllcyBpbiB0aGUgY3VycmVudFN0YXRlIDpcbiAgICAgKiAgICAgICAgdGFyZ2V0LCBmaWx0ZXJzLCBzb3VyY2VGcmFtZSwgZGVzdGluYXRpb25GcmFtZSwgcmVuZGVyVGFyZ2V0LCByZXNvbHV0aW9uXG4gICAgICovXG4gICAgYXBwbHkoZmlsdGVyTWFuYWdlcjogRmlsdGVyU3lzdGVtLCBpbnB1dDogUmVuZGVyVGV4dHVyZSwgb3V0cHV0OiBSZW5kZXJUZXh0dXJlLCBjbGVhck1vZGU6IENMRUFSX01PREVTLFxuICAgICAgICBfY3VycmVudFN0YXRlPzogRmlsdGVyU3RhdGUpOiB2b2lkXG4gICAge1xuICAgICAgICAvLyBkbyBhcyB5b3UgcGxlYXNlIVxuXG4gICAgICAgIGZpbHRlck1hbmFnZXIuYXBwbHlGaWx0ZXIodGhpcywgaW5wdXQsIG91dHB1dCwgY2xlYXJNb2RlKTtcblxuICAgICAgICAvLyBvciBqdXN0IGRvIGEgcmVndWxhciByZW5kZXIuLlxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGJsZW5kbW9kZSBvZiB0aGUgZmlsdGVyXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgUElYSS5CTEVORF9NT0RFUy5OT1JNQUxcbiAgICAgKi9cbiAgICBnZXQgYmxlbmRNb2RlKCk6IEJMRU5EX01PREVTXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZS5ibGVuZE1vZGU7XG4gICAgfVxuXG4gICAgc2V0IGJsZW5kTW9kZSh2YWx1ZTogQkxFTkRfTU9ERVMpXG4gICAge1xuICAgICAgICB0aGlzLnN0YXRlLmJsZW5kTW9kZSA9IHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBkZWZhdWx0IHZlcnRleCBzaGFkZXIgc291cmNlXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKiBAY29uc3RhbnRcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IGRlZmF1bHRWZXJ0ZXhTcmMoKTogc3RyaW5nXG4gICAge1xuICAgICAgICByZXR1cm4gZGVmYXVsdFZlcnRleDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZGVmYXVsdCBmcmFnbWVudCBzaGFkZXIgc291cmNlXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKiBAY29uc3RhbnRcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IGRlZmF1bHRGcmFnbWVudFNyYygpOiBzdHJpbmdcbiAgICB7XG4gICAgICAgIHJldHVybiBkZWZhdWx0RnJhZ21lbnQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXNlZCBmb3IgY2FjaGluZyBzaGFkZXIgSURzXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHR5cGUge29iamVjdH1cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgc3RhdGljIFNPVVJDRV9LRVlfTUFQOiBEaWN0PHN0cmluZz47XG59XG4iLCJpbXBvcnQgeyBNYXRyaXggfSBmcm9tICdAcGl4aS9tYXRoJztcblxuaW1wb3J0IHR5cGUgeyBUZXh0dXJlIH0gZnJvbSAnLi9UZXh0dXJlJztcblxuY29uc3QgdGVtcE1hdCA9IG5ldyBNYXRyaXgoKTtcblxuLyoqXG4gKiBDbGFzcyBjb250cm9scyB1diBtYXBwaW5nIGZyb20gVGV4dHVyZSBub3JtYWwgc3BhY2UgdG8gQmFzZVRleHR1cmUgbm9ybWFsIHNwYWNlLlxuICpcbiAqIFRha2VzIGB0cmltYCBhbmQgYHJvdGF0ZWAgaW50byBhY2NvdW50LiBNYXkgY29udGFpbiBjbGFtcCBzZXR0aW5ncyBmb3IgTWVzaGVzIGFuZCBUaWxpbmdTcHJpdGUuXG4gKlxuICogQ2FuIGJlIHVzZWQgaW4gVGV4dHVyZSBgdXZNYXRyaXhgIGZpZWxkLCBvciBzZXBhcmF0ZWx5LCB5b3UgY2FuIHVzZSBkaWZmZXJlbnQgY2xhbXAgc2V0dGluZ3Mgb24gdGhlIHNhbWUgdGV4dHVyZS5cbiAqIElmIHlvdSB3YW50IHRvIGFkZCBzdXBwb3J0IGZvciB0ZXh0dXJlIHJlZ2lvbiBvZiBjZXJ0YWluIGZlYXR1cmUgb3IgZmlsdGVyLCB0aGF0J3Mgd2hhdCB5b3UncmUgbG9va2luZyBmb3IuXG4gKlxuICogVGFrZXMgdHJhY2sgb2YgVGV4dHVyZSBjaGFuZ2VzIHRocm91Z2ggYF9sYXN0VGV4dHVyZUlEYCBwcml2YXRlIGZpZWxkLlxuICogVXNlIGB1cGRhdGUoKWAgbWV0aG9kIGNhbGwgdG8gdHJhY2sgaXQgZnJvbSBvdXRzaWRlLlxuICpcbiAqIEBzZWUgUElYSS5UZXh0dXJlXG4gKiBAc2VlIFBJWEkuTWVzaFxuICogQHNlZSBQSVhJLlRpbGluZ1Nwcml0ZVxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgY2xhc3MgVGV4dHVyZU1hdHJpeFxue1xuICAgIHB1YmxpYyBtYXBDb29yZDogTWF0cml4O1xuICAgIHB1YmxpYyBjbGFtcE9mZnNldDogbnVtYmVyO1xuICAgIHB1YmxpYyBjbGFtcE1hcmdpbjogbnVtYmVyO1xuICAgIHJlYWRvbmx5IHVDbGFtcEZyYW1lOiBGbG9hdDMyQXJyYXk7XG4gICAgcmVhZG9ubHkgdUNsYW1wT2Zmc2V0OiBGbG9hdDMyQXJyYXk7XG4gICAgX3RleHR1cmVJRDogbnVtYmVyO1xuICAgIF91cGRhdGVJRDogbnVtYmVyO1xuICAgIF90ZXh0dXJlOiBUZXh0dXJlO1xuICAgIGlzU2ltcGxlOiBib29sZWFuO1xuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IHRleHR1cmUgLSBvYnNlcnZlZCB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtjbGFtcE1hcmdpbl0gLSBDaGFuZ2VzIGZyYW1lIGNsYW1waW5nLCAwLjUgYnkgZGVmYXVsdC4gVXNlIC0wLjUgZm9yIGV4dHJhIGJvcmRlci5cbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih0ZXh0dXJlOiBUZXh0dXJlLCBjbGFtcE1hcmdpbj86IG51bWJlcilcbiAgICB7XG4gICAgICAgIHRoaXMuX3RleHR1cmUgPSB0ZXh0dXJlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYXRyaXggb3BlcmF0aW9uIHRoYXQgY29udmVydHMgdGV4dHVyZSByZWdpb24gY29vcmRzIHRvIHRleHR1cmUgY29vcmRzXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWFwQ29vcmQgPSBuZXcgTWF0cml4KCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENsYW1wIHJlZ2lvbiBmb3Igbm9ybWFsaXplZCBjb29yZHMsIGxlZnQtdG9wIHBpeGVsIGNlbnRlciBpbiB4eSAsIGJvdHRvbS1yaWdodCBpbiB6dy5cbiAgICAgICAgICogQ2FsY3VsYXRlZCBiYXNlZCBvbiBjbGFtcE9mZnNldC5cbiAgICAgICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudUNsYW1wRnJhbWUgPSBuZXcgRmxvYXQzMkFycmF5KDQpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBOb3JtYWxpemVkIGNsYW1wIG9mZnNldC5cbiAgICAgICAgICogQ2FsY3VsYXRlZCBiYXNlZCBvbiBjbGFtcE9mZnNldC5cbiAgICAgICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudUNsYW1wT2Zmc2V0ID0gbmV3IEZsb2F0MzJBcnJheSgyKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVHJhY2tzIFRleHR1cmUgZnJhbWUgY2hhbmdlc1xuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3RleHR1cmVJRCA9IC0xO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUcmFja3MgVGV4dHVyZSBmcmFtZSBjaGFuZ2VzXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdXBkYXRlSUQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDaGFuZ2VzIGZyYW1lIGNsYW1waW5nXG4gICAgICAgICAqIFdvcmtzIHdpdGggVGlsaW5nU3ByaXRlIGFuZCBNZXNoXG4gICAgICAgICAqIENoYW5nZSB0byAxLjUgaWYgeW91IHRleHR1cmUgaGFzIHJlcGVhdGVkIHJpZ2h0IGFuZCBib3R0b20gbGluZXMsIHRoYXQgbGVhZHMgdG8gc21vb3RoZXIgYm9yZGVyc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2xhbXBPZmZzZXQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDaGFuZ2VzIGZyYW1lIGNsYW1waW5nXG4gICAgICAgICAqIFdvcmtzIHdpdGggVGlsaW5nU3ByaXRlIGFuZCBNZXNoXG4gICAgICAgICAqIENoYW5nZSB0byAtMC41IHRvIGFkZCBhIHBpeGVsIHRvIHRoZSBlZGdlLCByZWNvbW1lbmRlZCBmb3IgdHJhbnNwYXJlbnQgdHJpbW1lZCB0ZXh0dXJlcyBpbiBhdGxhc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVmYXVsdCAwLjVcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jbGFtcE1hcmdpbiA9ICh0eXBlb2YgY2xhbXBNYXJnaW4gPT09ICd1bmRlZmluZWQnKSA/IDAuNSA6IGNsYW1wTWFyZ2luO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0ZXh0dXJlIHNpemUgaXMgdGhlIHNhbWUgYXMgYmFzZVRleHR1cmVcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmlzU2ltcGxlID0gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogdGV4dHVyZSBwcm9wZXJ0eVxuICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZX1cbiAgICAgKi9cbiAgICBnZXQgdGV4dHVyZSgpOiBUZXh0dXJlXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGV4dHVyZTtcbiAgICB9XG5cbiAgICBzZXQgdGV4dHVyZSh2YWx1ZTogVGV4dHVyZSlcbiAgICB7XG4gICAgICAgIHRoaXMuX3RleHR1cmUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5fdGV4dHVyZUlEID0gLTE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTXVsdGlwbGllcyB1dnMgYXJyYXkgdG8gdHJhbnNmb3JtXG4gICAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IHV2cyAtIG1lc2ggdXZzXG4gICAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IFtvdXQ9dXZzXSBvdXRwdXRcbiAgICAgKiBAcmV0dXJucyB7RmxvYXQzMkFycmF5fSBvdXRwdXRcbiAgICAgKi9cbiAgICBtdWx0aXBseVV2cyh1dnM6IEZsb2F0MzJBcnJheSwgb3V0PzogRmxvYXQzMkFycmF5KTogRmxvYXQzMkFycmF5XG4gICAge1xuICAgICAgICBpZiAob3V0ID09PSB1bmRlZmluZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIG91dCA9IHV2cztcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG1hdCA9IHRoaXMubWFwQ29vcmQ7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB1dnMubGVuZ3RoOyBpICs9IDIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHggPSB1dnNbaV07XG4gICAgICAgICAgICBjb25zdCB5ID0gdXZzW2kgKyAxXTtcblxuICAgICAgICAgICAgb3V0W2ldID0gKHggKiBtYXQuYSkgKyAoeSAqIG1hdC5jKSArIG1hdC50eDtcbiAgICAgICAgICAgIG91dFtpICsgMV0gPSAoeCAqIG1hdC5iKSArICh5ICogbWF0LmQpICsgbWF0LnR5O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiB1cGRhdGVzIG1hdHJpY2VzIGlmIHRleHR1cmUgd2FzIGNoYW5nZWRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmb3JjZVVwZGF0ZT1mYWxzZV0gLSBpZiB0cnVlLCBtYXRyaWNlcyB3aWxsIGJlIHVwZGF0ZWQgYW55IGNhc2VcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gd2hldGhlciBvciBub3QgaXQgd2FzIHVwZGF0ZWRcbiAgICAgKi9cbiAgICB1cGRhdGUoZm9yY2VVcGRhdGU/OiBib29sZWFuKTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgY29uc3QgdGV4ID0gdGhpcy5fdGV4dHVyZTtcblxuICAgICAgICBpZiAoIXRleCB8fCAhdGV4LnZhbGlkKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWZvcmNlVXBkYXRlXG4gICAgICAgICAgICAmJiB0aGlzLl90ZXh0dXJlSUQgPT09IHRleC5fdXBkYXRlSUQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3RleHR1cmVJRCA9IHRleC5fdXBkYXRlSUQ7XG4gICAgICAgIHRoaXMuX3VwZGF0ZUlEKys7XG5cbiAgICAgICAgY29uc3QgdXZzID0gdGV4Ll91dnM7XG5cbiAgICAgICAgdGhpcy5tYXBDb29yZC5zZXQodXZzLngxIC0gdXZzLngwLCB1dnMueTEgLSB1dnMueTAsIHV2cy54MyAtIHV2cy54MCwgdXZzLnkzIC0gdXZzLnkwLCB1dnMueDAsIHV2cy55MCk7XG5cbiAgICAgICAgY29uc3Qgb3JpZyA9IHRleC5vcmlnO1xuICAgICAgICBjb25zdCB0cmltID0gdGV4LnRyaW07XG5cbiAgICAgICAgaWYgKHRyaW0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRlbXBNYXQuc2V0KG9yaWcud2lkdGggLyB0cmltLndpZHRoLCAwLCAwLCBvcmlnLmhlaWdodCAvIHRyaW0uaGVpZ2h0LFxuICAgICAgICAgICAgICAgIC10cmltLnggLyB0cmltLndpZHRoLCAtdHJpbS55IC8gdHJpbS5oZWlnaHQpO1xuICAgICAgICAgICAgdGhpcy5tYXBDb29yZC5hcHBlbmQodGVtcE1hdCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB0ZXhCYXNlID0gdGV4LmJhc2VUZXh0dXJlO1xuICAgICAgICBjb25zdCBmcmFtZSA9IHRoaXMudUNsYW1wRnJhbWU7XG4gICAgICAgIGNvbnN0IG1hcmdpbiA9IHRoaXMuY2xhbXBNYXJnaW4gLyB0ZXhCYXNlLnJlc29sdXRpb247XG4gICAgICAgIGNvbnN0IG9mZnNldCA9IHRoaXMuY2xhbXBPZmZzZXQ7XG5cbiAgICAgICAgZnJhbWVbMF0gPSAodGV4Ll9mcmFtZS54ICsgbWFyZ2luICsgb2Zmc2V0KSAvIHRleEJhc2Uud2lkdGg7XG4gICAgICAgIGZyYW1lWzFdID0gKHRleC5fZnJhbWUueSArIG1hcmdpbiArIG9mZnNldCkgLyB0ZXhCYXNlLmhlaWdodDtcbiAgICAgICAgZnJhbWVbMl0gPSAodGV4Ll9mcmFtZS54ICsgdGV4Ll9mcmFtZS53aWR0aCAtIG1hcmdpbiArIG9mZnNldCkgLyB0ZXhCYXNlLndpZHRoO1xuICAgICAgICBmcmFtZVszXSA9ICh0ZXguX2ZyYW1lLnkgKyB0ZXguX2ZyYW1lLmhlaWdodCAtIG1hcmdpbiArIG9mZnNldCkgLyB0ZXhCYXNlLmhlaWdodDtcbiAgICAgICAgdGhpcy51Q2xhbXBPZmZzZXRbMF0gPSBvZmZzZXQgLyB0ZXhCYXNlLnJlYWxXaWR0aDtcbiAgICAgICAgdGhpcy51Q2xhbXBPZmZzZXRbMV0gPSBvZmZzZXQgLyB0ZXhCYXNlLnJlYWxIZWlnaHQ7XG5cbiAgICAgICAgdGhpcy5pc1NpbXBsZSA9IHRleC5fZnJhbWUud2lkdGggPT09IHRleEJhc2Uud2lkdGhcbiAgICAgICAgICAgICYmIHRleC5fZnJhbWUuaGVpZ2h0ID09PSB0ZXhCYXNlLmhlaWdodFxuICAgICAgICAgICAgJiYgdGV4LnJvdGF0ZSA9PT0gMDtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBGaWx0ZXIgfSBmcm9tICcuLi9GaWx0ZXInO1xuaW1wb3J0IHsgTWF0cml4LCBQb2ludCB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IHsgQ0xFQVJfTU9ERVMgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuaW1wb3J0IHZlcnRleCBmcm9tICcuL3Nwcml0ZU1hc2tGaWx0ZXIudmVydCc7XG5pbXBvcnQgZnJhZ21lbnQgZnJvbSAnLi9zcHJpdGVNYXNrRmlsdGVyLmZyYWcnO1xuaW1wb3J0IHsgVGV4dHVyZU1hdHJpeCB9IGZyb20gJy4uLy4uL3RleHR1cmVzL1RleHR1cmVNYXRyaXgnO1xuXG5pbXBvcnQgdHlwZSB7IEZpbHRlclN5c3RlbSB9IGZyb20gJy4uL0ZpbHRlclN5c3RlbSc7XG5pbXBvcnQgdHlwZSB7IElNYXNrVGFyZ2V0IH0gZnJvbSAnLi4vLi4vbWFzay9NYXNrRGF0YSc7XG5pbXBvcnQgdHlwZSB7IFRleHR1cmUgfSBmcm9tICcuLi8uLi90ZXh0dXJlcy9UZXh0dXJlJztcbmltcG9ydCB0eXBlIHsgUmVuZGVyVGV4dHVyZSB9IGZyb20gJy4uLy4uL3JlbmRlclRleHR1cmUvUmVuZGVyVGV4dHVyZSc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVNwcml0ZU1hc2tUYXJnZXQgZXh0ZW5kcyBJTWFza1RhcmdldFxue1xuICAgIF90ZXh0dXJlOiBUZXh0dXJlO1xuICAgIHdvcmxkQWxwaGE6IG51bWJlcjtcbiAgICBhbmNob3I6IFBvaW50O1xufVxuXG4vKipcbiAqIFRoaXMgaGFuZGxlcyBhIFNwcml0ZSBhY3RpbmcgYXMgYSBtYXNrLCBhcyBvcHBvc2VkIHRvIGEgR3JhcGhpYy5cbiAqXG4gKiBXZWJHTCBvbmx5LlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5GaWx0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBjbGFzcyBTcHJpdGVNYXNrRmlsdGVyIGV4dGVuZHMgRmlsdGVyXG57XG4gICAgbWFza1Nwcml0ZTogSU1hc2tUYXJnZXQ7XG4gICAgbWFza01hdHJpeDogTWF0cml4O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5TcHJpdGV9IHNwcml0ZSAtIHRoZSB0YXJnZXQgc3ByaXRlXG4gICAgICovXG4gICAgY29uc3RydWN0b3Ioc3ByaXRlOiBJTWFza1RhcmdldClcbiAgICB7XG4gICAgICAgIGNvbnN0IG1hc2tNYXRyaXggPSBuZXcgTWF0cml4KCk7XG5cbiAgICAgICAgc3VwZXIodmVydGV4LCBmcmFnbWVudCk7XG5cbiAgICAgICAgc3ByaXRlLnJlbmRlcmFibGUgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogU3ByaXRlIG1hc2tcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5TcHJpdGV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1hc2tTcHJpdGUgPSBzcHJpdGU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1hc2sgbWF0cml4XG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYXNrTWF0cml4ID0gbWFza01hdHJpeDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSBmaWx0ZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5zeXN0ZW1zLkZpbHRlclN5c3RlbX0gZmlsdGVyTWFuYWdlciAtIFRoZSByZW5kZXJlciB0byByZXRyaWV2ZSB0aGUgZmlsdGVyIGZyb21cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gaW5wdXQgLSBUaGUgaW5wdXQgcmVuZGVyIHRhcmdldC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gb3V0cHV0IC0gVGhlIHRhcmdldCB0byBvdXRwdXQgdG8uXG4gICAgICogQHBhcmFtIHtQSVhJLkNMRUFSX01PREVTfSBjbGVhck1vZGUgLSBTaG91bGQgdGhlIG91dHB1dCBiZSBjbGVhcmVkIGJlZm9yZSByZW5kZXJpbmcgdG8gaXQuXG4gICAgICovXG4gICAgYXBwbHkoZmlsdGVyTWFuYWdlcjogRmlsdGVyU3lzdGVtLCBpbnB1dDogUmVuZGVyVGV4dHVyZSwgb3V0cHV0OiBSZW5kZXJUZXh0dXJlLCBjbGVhck1vZGU6IENMRUFSX01PREVTKTogdm9pZFxuICAgIHtcbiAgICAgICAgY29uc3QgbWFza1Nwcml0ZSA9IHRoaXMubWFza1Nwcml0ZSBhcyBJU3ByaXRlTWFza1RhcmdldDtcbiAgICAgICAgY29uc3QgdGV4ID0gbWFza1Nwcml0ZS5fdGV4dHVyZTtcblxuICAgICAgICBpZiAoIXRleC52YWxpZClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGV4LnV2TWF0cml4KVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBtYXJnaW4gPSAwLjAsIGxldCBpdCBibGVlZCBhIGJpdCwgc2hhZGVyIGNvZGUgYmVjb21lcyBlYXNpZXJcbiAgICAgICAgICAgIC8vIGFzc3VtaW5nIHRoYXQgYXRsYXMgdGV4dHVyZXMgd2VyZSBtYWRlIHdpdGggMS1waXhlbCBwYWRkaW5nXG4gICAgICAgICAgICB0ZXgudXZNYXRyaXggPSBuZXcgVGV4dHVyZU1hdHJpeCh0ZXgsIDAuMCk7XG4gICAgICAgIH1cbiAgICAgICAgdGV4LnV2TWF0cml4LnVwZGF0ZSgpO1xuXG4gICAgICAgIHRoaXMudW5pZm9ybXMubnBtQWxwaGEgPSB0ZXguYmFzZVRleHR1cmUuYWxwaGFNb2RlID8gMC4wIDogMS4wO1xuICAgICAgICB0aGlzLnVuaWZvcm1zLm1hc2sgPSB0ZXg7XG4gICAgICAgIC8vIGdldCBfbm9ybWFsaXplZCBzcHJpdGUgdGV4dHVyZSBjb29yZHNfIGFuZCBjb252ZXJ0IHRoZW0gdG8gX25vcm1hbGl6ZWQgYXRsYXMgdGV4dHVyZSBjb29yZHNfIHdpdGggYHByZXBlbmRgXG4gICAgICAgIHRoaXMudW5pZm9ybXMub3RoZXJNYXRyaXggPSBmaWx0ZXJNYW5hZ2VyLmNhbGN1bGF0ZVNwcml0ZU1hdHJpeCh0aGlzLm1hc2tNYXRyaXgsIG1hc2tTcHJpdGUpXG4gICAgICAgICAgICAucHJlcGVuZCh0ZXgudXZNYXRyaXgubWFwQ29vcmQpO1xuICAgICAgICB0aGlzLnVuaWZvcm1zLmFscGhhID0gbWFza1Nwcml0ZS53b3JsZEFscGhhO1xuICAgICAgICB0aGlzLnVuaWZvcm1zLm1hc2tDbGFtcCA9IHRleC51dk1hdHJpeC51Q2xhbXBGcmFtZTtcblxuICAgICAgICBmaWx0ZXJNYW5hZ2VyLmFwcGx5RmlsdGVyKHRoaXMsIGlucHV0LCBvdXRwdXQsIGNsZWFyTW9kZSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgU3lzdGVtIH0gZnJvbSAnLi4vU3lzdGVtJztcbmltcG9ydCB7IE1hc2tEYXRhIH0gZnJvbSAnLi9NYXNrRGF0YSc7XG5pbXBvcnQgeyBTcHJpdGVNYXNrRmlsdGVyIH0gZnJvbSAnLi4vZmlsdGVycy9zcHJpdGVNYXNrL1Nwcml0ZU1hc2tGaWx0ZXInO1xuaW1wb3J0IHsgTUFTS19UWVBFUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5cbmltcG9ydCB0eXBlIHsgSU1hc2tUYXJnZXQgfSBmcm9tICcuL01hc2tEYXRhJztcbmltcG9ydCB0eXBlIHsgUmVuZGVyZXIgfSBmcm9tICcuLi9SZW5kZXJlcic7XG5cbi8qKlxuICogU3lzdGVtIHBsdWdpbiB0byB0aGUgcmVuZGVyZXIgdG8gbWFuYWdlIG1hc2tzLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqIEBtZW1iZXJvZiBQSVhJLnN5c3RlbXNcbiAqL1xuZXhwb3J0IGNsYXNzIE1hc2tTeXN0ZW0gZXh0ZW5kcyBTeXN0ZW1cbntcbiAgICBwdWJsaWMgZW5hYmxlU2Npc3NvcjogYm9vbGVhbjtcbiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgYWxwaGFNYXNrUG9vbDogQXJyYXk8U3ByaXRlTWFza0ZpbHRlcltdPjtcbiAgICBwcm90ZWN0ZWQgYWxwaGFNYXNrSW5kZXg6IG51bWJlcjtcbiAgICBwcml2YXRlIHJlYWRvbmx5IG1hc2tEYXRhUG9vbDogQXJyYXk8TWFza0RhdGE+O1xuICAgIHByaXZhdGUgbWFza1N0YWNrOiBBcnJheTxNYXNrRGF0YT47XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgU3lzdGVtIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihyZW5kZXJlcjogUmVuZGVyZXIpXG4gICAge1xuICAgICAgICBzdXBlcihyZW5kZXJlcik7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEVuYWJsZSBzY2lzc29yXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5lbmFibGVTY2lzc29yID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBvb2wgb2YgdXNlZCBzcHJpdGUgbWFzayBmaWx0ZXJzXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU3ByaXRlTWFza0ZpbHRlcltdfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYWxwaGFNYXNrUG9vbCA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQb29sIG9mIG1hc2sgZGF0YVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1hc2tEYXRhW119XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYXNrRGF0YVBvb2wgPSBbXTtcblxuICAgICAgICB0aGlzLm1hc2tTdGFjayA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDdXJyZW50IGluZGV4IG9mIGFscGhhIG1hc2sgcG9vbFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmFscGhhTWFza0luZGV4ID0gMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSBtYXNrIHN0YWNrIHRoYXQgaXMgdXNlZCBieSB0aGlzIFN5c3RlbS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXNrRGF0YVtdfSBtYXNrU3RhY2sgLSBUaGUgbWFzayBzdGFja1xuICAgICAqL1xuICAgIHNldE1hc2tTdGFjayhtYXNrU3RhY2s6IEFycmF5PE1hc2tEYXRhPik6IHZvaWRcbiAgICB7XG4gICAgICAgIHRoaXMubWFza1N0YWNrID0gbWFza1N0YWNrO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnNjaXNzb3Iuc2V0TWFza1N0YWNrKG1hc2tTdGFjayk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuc3RlbmNpbC5zZXRNYXNrU3RhY2sobWFza1N0YWNrKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSBNYXNrIGFuZCBhZGRzIGl0IHRvIHRoZSBjdXJyZW50IGZpbHRlciBzdGFjay5cbiAgICAgKiBSZW5kZXJlciBiYXRjaCBtdXN0IGJlIGZsdXNoZWQgYmVmb3JlaGFuZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSB0YXJnZXQgLSBEaXNwbGF5IE9iamVjdCB0byBwdXNoIHRoZSBtYXNrIHRvXG4gICAgICogQHBhcmFtIHtQSVhJLk1hc2tEYXRhfFBJWEkuU3ByaXRlfFBJWEkuR3JhcGhpY3N8UElYSS5EaXNwbGF5T2JqZWN0fSBtYXNrRGF0YSAtIFRoZSBtYXNraW5nIGRhdGEuXG4gICAgICovXG4gICAgcHVzaCh0YXJnZXQ6IElNYXNrVGFyZ2V0LCBtYXNrRGF0YU9yVGFyZ2V0OiBNYXNrRGF0YXxJTWFza1RhcmdldCk6IHZvaWRcbiAgICB7XG4gICAgICAgIGxldCBtYXNrRGF0YSA9IG1hc2tEYXRhT3JUYXJnZXQgYXMgTWFza0RhdGE7XG5cbiAgICAgICAgaWYgKCFtYXNrRGF0YS5pc01hc2tEYXRhKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBkID0gdGhpcy5tYXNrRGF0YVBvb2wucG9wKCkgfHwgbmV3IE1hc2tEYXRhKCk7XG5cbiAgICAgICAgICAgIGQucG9vbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGQubWFza09iamVjdCA9IG1hc2tEYXRhT3JUYXJnZXQgYXMgSU1hc2tUYXJnZXQ7XG4gICAgICAgICAgICBtYXNrRGF0YSA9IGQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobWFza0RhdGEuYXV0b0RldGVjdClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5kZXRlY3QobWFza0RhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgbWFza0RhdGEuY29weUNvdW50ZXJzT3JSZXNldCh0aGlzLm1hc2tTdGFja1t0aGlzLm1hc2tTdGFjay5sZW5ndGggLSAxXSk7XG4gICAgICAgIG1hc2tEYXRhLl90YXJnZXQgPSB0YXJnZXQ7XG5cbiAgICAgICAgc3dpdGNoIChtYXNrRGF0YS50eXBlKVxuICAgICAgICB7XG4gICAgICAgICAgICBjYXNlIE1BU0tfVFlQRVMuU0NJU1NPUjpcbiAgICAgICAgICAgICAgICB0aGlzLm1hc2tTdGFjay5wdXNoKG1hc2tEYXRhKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnNjaXNzb3IucHVzaChtYXNrRGF0YSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIE1BU0tfVFlQRVMuU1RFTkNJTDpcbiAgICAgICAgICAgICAgICB0aGlzLm1hc2tTdGFjay5wdXNoKG1hc2tEYXRhKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnN0ZW5jaWwucHVzaChtYXNrRGF0YSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIE1BU0tfVFlQRVMuU1BSSVRFOlxuICAgICAgICAgICAgICAgIG1hc2tEYXRhLmNvcHlDb3VudGVyc09yUmVzZXQobnVsbCk7XG4gICAgICAgICAgICAgICAgdGhpcy5wdXNoU3ByaXRlTWFzayhtYXNrRGF0YSk7XG4gICAgICAgICAgICAgICAgdGhpcy5tYXNrU3RhY2sucHVzaChtYXNrRGF0YSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0aGUgbGFzdCBtYXNrIGZyb20gdGhlIG1hc2sgc3RhY2sgYW5kIGRvZXNuJ3QgcmV0dXJuIGl0LlxuICAgICAqIFJlbmRlcmVyIGJhdGNoIG11c3QgYmUgZmx1c2hlZCBiZWZvcmVoYW5kLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IHRhcmdldCAtIERpc3BsYXkgT2JqZWN0IHRvIHBvcCB0aGUgbWFzayBmcm9tXG4gICAgICovXG4gICAgcG9wKHRhcmdldDogSU1hc2tUYXJnZXQpOiB2b2lkXG4gICAge1xuICAgICAgICBjb25zdCBtYXNrRGF0YSA9IHRoaXMubWFza1N0YWNrLnBvcCgpO1xuXG4gICAgICAgIGlmICghbWFza0RhdGEgfHwgbWFza0RhdGEuX3RhcmdldCAhPT0gdGFyZ2V0KVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBUT0RPOiBhZGQgYW4gYXNzZXJ0IHdoZW4gd2UgaGF2ZSBpdFxuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBzd2l0Y2ggKG1hc2tEYXRhLnR5cGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNhc2UgTUFTS19UWVBFUy5TQ0lTU09SOlxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuc2Npc3Nvci5wb3AoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgTUFTS19UWVBFUy5TVEVOQ0lMOlxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuc3RlbmNpbC5wb3AobWFza0RhdGEubWFza09iamVjdCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIE1BU0tfVFlQRVMuU1BSSVRFOlxuICAgICAgICAgICAgICAgIHRoaXMucG9wU3ByaXRlTWFzaygpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIG1hc2tEYXRhLnJlc2V0KCk7XG5cbiAgICAgICAgaWYgKG1hc2tEYXRhLnBvb2xlZClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5tYXNrRGF0YVBvb2wucHVzaChtYXNrRGF0YSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHR5cGUgb2YgTWFza0RhdGEgYmFzZWQgb24gaXRzIG1hc2tPYmplY3RcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWFza0RhdGF9IG1hc2tEYXRhXG4gICAgICovXG4gICAgZGV0ZWN0KG1hc2tEYXRhOiBNYXNrRGF0YSk6IHZvaWRcbiAgICB7XG4gICAgICAgIGNvbnN0IG1hc2tPYmplY3QgPSBtYXNrRGF0YS5tYXNrT2JqZWN0O1xuXG4gICAgICAgIGlmIChtYXNrT2JqZWN0LmlzU3ByaXRlKVxuICAgICAgICB7XG4gICAgICAgICAgICBtYXNrRGF0YS50eXBlID0gTUFTS19UWVBFUy5TUFJJVEU7XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBtYXNrRGF0YS50eXBlID0gTUFTS19UWVBFUy5TVEVOQ0lMO1xuICAgICAgICAvLyBkZXRlY3Qgc2Npc3NvciBpbiBncmFwaGljc1xuICAgICAgICBpZiAodGhpcy5lbmFibGVTY2lzc29yXG4gICAgICAgICAgICAmJiBtYXNrT2JqZWN0LmlzRmFzdFJlY3RcbiAgICAgICAgICAgICYmIG1hc2tPYmplY3QuaXNGYXN0UmVjdCgpKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBtYXRyaXggPSBtYXNrT2JqZWN0LndvcmxkVHJhbnNmb3JtO1xuXG4gICAgICAgICAgICAvLyBUT0RPOiBtb3ZlIHRoZSBjaGVjayB0byB0aGUgbWF0cml4IGl0c2VsZlxuICAgICAgICAgICAgLy8gd2UgYXJlIGNoZWNraW5nIHRoYXQgaXRzIG9ydGhvZ29uYWwgYW5kIHggcm90YXRpb24gaXMgMCA5MCAxODAgb3IgMjcwXG5cbiAgICAgICAgICAgIGxldCByb3RYID0gTWF0aC5hdGFuMihtYXRyaXguYiwgbWF0cml4LmEpO1xuICAgICAgICAgICAgbGV0IHJvdFhZID0gTWF0aC5hdGFuMihtYXRyaXguZCwgbWF0cml4LmMpO1xuXG4gICAgICAgICAgICAvLyB1c2UgdGhlIG5lYXJlc3QgZGVncmVlIHRvIDAuMDFcbiAgICAgICAgICAgIHJvdFggPSBNYXRoLnJvdW5kKHJvdFggKiAoMTgwIC8gTWF0aC5QSSkgKiAxMDApO1xuICAgICAgICAgICAgcm90WFkgPSBNYXRoLnJvdW5kKHJvdFhZICogKDE4MCAvIE1hdGguUEkpICogMTAwKSAtIHJvdFg7XG5cbiAgICAgICAgICAgIHJvdFggPSAoKHJvdFggJSA5MDAwKSArIDkwMDApICUgOTAwMDtcbiAgICAgICAgICAgIHJvdFhZID0gKChyb3RYWSAlIDE4MDAwKSArIDE4MDAwKSAlIDE4MDAwO1xuXG4gICAgICAgICAgICBpZiAocm90WCA9PT0gMCAmJiByb3RYWSA9PT0gOTAwMClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBtYXNrRGF0YS50eXBlID0gTUFTS19UWVBFUy5TQ0lTU09SO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyB0aGUgTWFzayBhbmQgYWRkcyBpdCB0byB0aGUgY3VycmVudCBmaWx0ZXIgc3RhY2suXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWFza0RhdGF9IG1hc2tEYXRhIC0gU3ByaXRlIHRvIGJlIHVzZWQgYXMgdGhlIG1hc2tcbiAgICAgKi9cbiAgICBwdXNoU3ByaXRlTWFzayhtYXNrRGF0YTogTWFza0RhdGEpOiB2b2lkXG4gICAge1xuICAgICAgICBjb25zdCB7IG1hc2tPYmplY3QgfSA9IG1hc2tEYXRhO1xuICAgICAgICBjb25zdCB0YXJnZXQgPSBtYXNrRGF0YS5fdGFyZ2V0O1xuICAgICAgICBsZXQgYWxwaGFNYXNrRmlsdGVyID0gdGhpcy5hbHBoYU1hc2tQb29sW3RoaXMuYWxwaGFNYXNrSW5kZXhdO1xuXG4gICAgICAgIGlmICghYWxwaGFNYXNrRmlsdGVyKVxuICAgICAgICB7XG4gICAgICAgICAgICBhbHBoYU1hc2tGaWx0ZXIgPSB0aGlzLmFscGhhTWFza1Bvb2xbdGhpcy5hbHBoYU1hc2tJbmRleF0gPSBbbmV3IFNwcml0ZU1hc2tGaWx0ZXIobWFza09iamVjdCldO1xuICAgICAgICB9XG5cbiAgICAgICAgYWxwaGFNYXNrRmlsdGVyWzBdLnJlc29sdXRpb24gPSB0aGlzLnJlbmRlcmVyLnJlc29sdXRpb247XG4gICAgICAgIGFscGhhTWFza0ZpbHRlclswXS5tYXNrU3ByaXRlID0gbWFza09iamVjdDtcblxuICAgICAgICBjb25zdCBzdGFzaEZpbHRlckFyZWEgPSB0YXJnZXQuZmlsdGVyQXJlYTtcblxuICAgICAgICB0YXJnZXQuZmlsdGVyQXJlYSA9IG1hc2tPYmplY3QuZ2V0Qm91bmRzKHRydWUpO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLmZpbHRlci5wdXNoKHRhcmdldCwgYWxwaGFNYXNrRmlsdGVyKTtcbiAgICAgICAgdGFyZ2V0LmZpbHRlckFyZWEgPSBzdGFzaEZpbHRlckFyZWE7XG5cbiAgICAgICAgdGhpcy5hbHBoYU1hc2tJbmRleCsrO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIGxhc3QgZmlsdGVyIGZyb20gdGhlIGZpbHRlciBzdGFjayBhbmQgZG9lc24ndCByZXR1cm4gaXQuXG4gICAgICovXG4gICAgcG9wU3ByaXRlTWFzaygpOiB2b2lkXG4gICAge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLmZpbHRlci5wb3AoKTtcbiAgICAgICAgdGhpcy5hbHBoYU1hc2tJbmRleC0tO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFN5c3RlbSB9IGZyb20gJy4uL1N5c3RlbSc7XG5cbmltcG9ydCB0eXBlIHsgTWFza0RhdGEgfSBmcm9tICcuL01hc2tEYXRhJztcbmltcG9ydCB0eXBlIHsgUmVuZGVyZXIgfSBmcm9tICcuLi9SZW5kZXJlcic7XG5cbi8qKlxuICogU3lzdGVtIHBsdWdpbiB0byB0aGUgcmVuZGVyZXIgdG8gbWFuYWdlIG1hc2tzIG9mIGNlcnRhaW4gdHlwZVxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqIEBtZW1iZXJvZiBQSVhJLnN5c3RlbXNcbiAqL1xuZXhwb3J0IGNsYXNzIEFic3RyYWN0TWFza1N5c3RlbSBleHRlbmRzIFN5c3RlbVxue1xuICAgIHByb3RlY3RlZCBtYXNrU3RhY2s6IEFycmF5PE1hc2tEYXRhPjtcbiAgICBwcm90ZWN0ZWQgZ2xDb25zdDogbnVtYmVyO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBTeXN0ZW0gd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHJlbmRlcmVyOiBSZW5kZXJlcilcbiAgICB7XG4gICAgICAgIHN1cGVyKHJlbmRlcmVyKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1hc2sgc3RhY2tcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5NYXNrRGF0YVtdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYXNrU3RhY2sgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ29uc3RhbnQgZm9yIGdsLmVuYWJsZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmdsQ29uc3QgPSAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGdldHMgY291bnQgb2YgbWFza3Mgb2YgY2VydGFpbiB0eXBlXG4gICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXRTdGFja0xlbmd0aCgpOiBudW1iZXJcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLm1hc2tTdGFjay5sZW5ndGg7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyB0aGUgbWFzayBzdGFjayB0aGF0IGlzIHVzZWQgYnkgdGhpcyBTeXN0ZW0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWFza0RhdGFbXX0gbWFza1N0YWNrIC0gVGhlIG1hc2sgc3RhY2tcbiAgICAgKi9cbiAgICBzZXRNYXNrU3RhY2sobWFza1N0YWNrOiBBcnJheTxNYXNrRGF0YT4pOiB2b2lkXG4gICAge1xuICAgICAgICBjb25zdCB7IGdsIH0gPSB0aGlzLnJlbmRlcmVyO1xuICAgICAgICBjb25zdCBjdXJTdGFja0xlbiA9IHRoaXMuZ2V0U3RhY2tMZW5ndGgoKTtcblxuICAgICAgICB0aGlzLm1hc2tTdGFjayA9IG1hc2tTdGFjaztcblxuICAgICAgICBjb25zdCBuZXdTdGFja0xlbiA9IHRoaXMuZ2V0U3RhY2tMZW5ndGgoKTtcblxuICAgICAgICBpZiAobmV3U3RhY2tMZW4gIT09IGN1clN0YWNrTGVuKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAobmV3U3RhY2tMZW4gPT09IDApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZ2wuZGlzYWJsZSh0aGlzLmdsQ29uc3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGdsLmVuYWJsZSh0aGlzLmdsQ29uc3QpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3VzZUN1cnJlbnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHVwIHJlbmRlcmVyIHRvIHVzZSB0aGUgY3VycmVudCBtYXNrIGRhdGEuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgX3VzZUN1cnJlbnQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgLy8gT1ZFUldSSVRFO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBtYXNrIHN0YWNrLlxuICAgICAqXG4gICAgICovXG4gICAgZGVzdHJveSgpOiB2b2lkXG4gICAge1xuICAgICAgICBzdXBlci5kZXN0cm95KCk7XG5cbiAgICAgICAgdGhpcy5tYXNrU3RhY2sgPSBudWxsO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEFic3RyYWN0TWFza1N5c3RlbSB9IGZyb20gJy4vQWJzdHJhY3RNYXNrU3lzdGVtJztcblxuaW1wb3J0IHR5cGUgeyBSZW5kZXJlciB9IGZyb20gJy4uL1JlbmRlcmVyJztcbmltcG9ydCB0eXBlIHsgTWFza0RhdGEgfSBmcm9tICcuL01hc2tEYXRhJztcblxuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2Ugc2Npc3NvciByZWN0cyAodXNlZCBmb3IgbWFza3MpLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqIEBtZW1iZXJvZiBQSVhJLnN5c3RlbXNcbiAqL1xuZXhwb3J0IGNsYXNzIFNjaXNzb3JTeXN0ZW0gZXh0ZW5kcyBBYnN0cmFjdE1hc2tTeXN0ZW1cbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgU3lzdGVtIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihyZW5kZXJlcjogUmVuZGVyZXIpXG4gICAge1xuICAgICAgICBzdXBlcihyZW5kZXJlcik7XG5cbiAgICAgICAgdGhpcy5nbENvbnN0ID0gV2ViR0xSZW5kZXJpbmdDb250ZXh0LlNDSVNTT1JfVEVTVDtcbiAgICB9XG5cbiAgICBnZXRTdGFja0xlbmd0aCgpOiBudW1iZXJcbiAgICB7XG4gICAgICAgIGNvbnN0IG1hc2tEYXRhID0gdGhpcy5tYXNrU3RhY2tbdGhpcy5tYXNrU3RhY2subGVuZ3RoIC0gMV07XG5cbiAgICAgICAgaWYgKG1hc2tEYXRhKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gbWFza0RhdGEuX3NjaXNzb3JDb3VudGVyO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyB0aGUgTWFzayBhbmQgYWRkcyBpdCB0byB0aGUgY3VycmVudCBzdGVuY2lsIHN0YWNrLiBAYWx2aW5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXNrRGF0YX0gbWFza0RhdGEgLSBUaGUgbWFzayBkYXRhXG4gICAgICovXG4gICAgcHVzaChtYXNrRGF0YTogTWFza0RhdGEpOiB2b2lkXG4gICAge1xuICAgICAgICBjb25zdCBtYXNrT2JqZWN0ID0gbWFza0RhdGEubWFza09iamVjdDtcblxuICAgICAgICBtYXNrT2JqZWN0LnJlbmRlcmFibGUgPSB0cnVlO1xuXG4gICAgICAgIGNvbnN0IHByZXZEYXRhID0gbWFza0RhdGEuX3NjaXNzb3JSZWN0O1xuICAgICAgICBjb25zdCBib3VuZHMgPSBtYXNrT2JqZWN0LmdldEJvdW5kcyh0cnVlKTtcbiAgICAgICAgY29uc3QgeyBnbCB9ID0gdGhpcy5yZW5kZXJlcjtcblxuICAgICAgICBtYXNrT2JqZWN0LnJlbmRlcmFibGUgPSBmYWxzZTtcblxuICAgICAgICBpZiAocHJldkRhdGEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGJvdW5kcy5maXQocHJldkRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgZ2wuZW5hYmxlKGdsLlNDSVNTT1JfVEVTVCk7XG4gICAgICAgIH1cblxuICAgICAgICBtYXNrRGF0YS5fc2Npc3NvckNvdW50ZXIrKztcbiAgICAgICAgbWFza0RhdGEuX3NjaXNzb3JSZWN0ID0gYm91bmRzO1xuICAgICAgICB0aGlzLl91c2VDdXJyZW50KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUG9wcyBzY2lzc29yIG1hc2suIE1hc2tEYXRhIGlzIGFscmVhZHkgcmVtb3ZlZCBmcm9tIHN0YWNrXG4gICAgICovXG4gICAgcG9wKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIGNvbnN0IHsgZ2wgfSA9IHRoaXMucmVuZGVyZXI7XG5cbiAgICAgICAgaWYgKHRoaXMuZ2V0U3RhY2tMZW5ndGgoKSA+IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3VzZUN1cnJlbnQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsLmRpc2FibGUoZ2wuU0NJU1NPUl9URVNUKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHVwIHJlbmRlcmVyIHRvIHVzZSB0aGUgY3VycmVudCBzY2lzc29yIGRhdGEuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfdXNlQ3VycmVudCgpOiB2b2lkXG4gICAge1xuICAgICAgICBjb25zdCByZWN0ID0gdGhpcy5tYXNrU3RhY2tbdGhpcy5tYXNrU3RhY2subGVuZ3RoIC0gMV0uX3NjaXNzb3JSZWN0O1xuICAgICAgICBjb25zdCBydCA9IHRoaXMucmVuZGVyZXIucmVuZGVyVGV4dHVyZS5jdXJyZW50O1xuICAgICAgICBjb25zdCB7IHRyYW5zZm9ybSwgc291cmNlRnJhbWUsIGRlc3RpbmF0aW9uRnJhbWUgfSA9IHRoaXMucmVuZGVyZXIucHJvamVjdGlvbjtcbiAgICAgICAgY29uc3QgcmVzb2x1dGlvbiA9IHJ0ID8gcnQucmVzb2x1dGlvbiA6IHRoaXMucmVuZGVyZXIucmVzb2x1dGlvbjtcbiAgICAgICAgbGV0IHggPSAoKHJlY3QueCAtIHNvdXJjZUZyYW1lLngpICogcmVzb2x1dGlvbikgKyBkZXN0aW5hdGlvbkZyYW1lLng7XG4gICAgICAgIGxldCB5ID0gKChyZWN0LnkgLSBzb3VyY2VGcmFtZS55KSAqIHJlc29sdXRpb24pICsgZGVzdGluYXRpb25GcmFtZS55O1xuICAgICAgICBjb25zdCB3aWR0aCA9IHJlY3Qud2lkdGggKiByZXNvbHV0aW9uO1xuICAgICAgICBjb25zdCBoZWlnaHQgPSByZWN0LmhlaWdodCAqIHJlc29sdXRpb247XG5cbiAgICAgICAgaWYgKHRyYW5zZm9ybSlcbiAgICAgICAge1xuICAgICAgICAgICAgeCArPSB0cmFuc2Zvcm0udHggKiByZXNvbHV0aW9uO1xuICAgICAgICAgICAgeSArPSB0cmFuc2Zvcm0udHkgKiByZXNvbHV0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGlmICghcnQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIGZsaXBZLiBJbiBmdXR1cmUgd2UnbGwgaGF2ZSBpdCBvdmVyIHJlbmRlclRleHR1cmVzIGFzIGFuIG9wdGlvblxuICAgICAgICAgICAgeSA9IHRoaXMucmVuZGVyZXIuaGVpZ2h0IC0gaGVpZ2h0IC0geTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucmVuZGVyZXIuZ2wuc2Npc3Nvcih4LCB5LCB3aWR0aCwgaGVpZ2h0KTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBBYnN0cmFjdE1hc2tTeXN0ZW0gfSBmcm9tICcuL0Fic3RyYWN0TWFza1N5c3RlbSc7XG5cbmltcG9ydCB0eXBlIHsgUmVuZGVyZXIgfSBmcm9tICcuLi9SZW5kZXJlcic7XG5pbXBvcnQgdHlwZSB7IElNYXNrVGFyZ2V0LCBNYXNrRGF0YSB9IGZyb20gJy4vTWFza0RhdGEnO1xuXG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSBzdGVuY2lscyAodXNlZCBmb3IgbWFza3MpLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqIEBtZW1iZXJvZiBQSVhJLnN5c3RlbXNcbiAqL1xuZXhwb3J0IGNsYXNzIFN0ZW5jaWxTeXN0ZW0gZXh0ZW5kcyBBYnN0cmFjdE1hc2tTeXN0ZW1cbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgU3lzdGVtIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihyZW5kZXJlcjogUmVuZGVyZXIpXG4gICAge1xuICAgICAgICBzdXBlcihyZW5kZXJlcik7XG5cbiAgICAgICAgdGhpcy5nbENvbnN0ID0gV2ViR0xSZW5kZXJpbmdDb250ZXh0LlNURU5DSUxfVEVTVDtcbiAgICB9XG5cbiAgICBnZXRTdGFja0xlbmd0aCgpOiBudW1iZXJcbiAgICB7XG4gICAgICAgIGNvbnN0IG1hc2tEYXRhID0gdGhpcy5tYXNrU3RhY2tbdGhpcy5tYXNrU3RhY2subGVuZ3RoIC0gMV07XG5cbiAgICAgICAgaWYgKG1hc2tEYXRhKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gbWFza0RhdGEuX3N0ZW5jaWxDb3VudGVyO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyB0aGUgTWFzayBhbmQgYWRkcyBpdCB0byB0aGUgY3VycmVudCBzdGVuY2lsIHN0YWNrLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hc2tEYXRhfSBtYXNrRGF0YSAtIFRoZSBtYXNrIGRhdGFcbiAgICAgKi9cbiAgICBwdXNoKG1hc2tEYXRhOiBNYXNrRGF0YSk6IHZvaWRcbiAgICB7XG4gICAgICAgIGNvbnN0IG1hc2tPYmplY3QgPSBtYXNrRGF0YS5tYXNrT2JqZWN0O1xuICAgICAgICBjb25zdCB7IGdsIH0gPSB0aGlzLnJlbmRlcmVyO1xuICAgICAgICBjb25zdCBwcmV2TWFza0NvdW50ID0gbWFza0RhdGEuX3N0ZW5jaWxDb3VudGVyO1xuXG4gICAgICAgIGlmIChwcmV2TWFza0NvdW50ID09PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBmb3JjZSB1c2Ugc3RlbmNpbCB0ZXh0dXJlIGluIGN1cnJlbnQgZnJhbWVidWZmZXJcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuZnJhbWVidWZmZXIuZm9yY2VTdGVuY2lsKCk7XG4gICAgICAgICAgICBnbC5lbmFibGUoZ2wuU1RFTkNJTF9URVNUKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG1hc2tEYXRhLl9zdGVuY2lsQ291bnRlcisrO1xuXG4gICAgICAgIC8vIEluY3JlbWVudCB0aGUgcmVmZXJlbmNlIHN0ZW5jaWwgdmFsdWUgd2hlcmUgdGhlIG5ldyBtYXNrIG92ZXJsYXBzIHdpdGggdGhlIG9sZCBvbmVzLlxuICAgICAgICBnbC5jb2xvck1hc2soZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICBnbC5zdGVuY2lsRnVuYyhnbC5FUVVBTCwgcHJldk1hc2tDb3VudCwgdGhpcy5fZ2V0Qml0d2lzZU1hc2soKSk7XG4gICAgICAgIGdsLnN0ZW5jaWxPcChnbC5LRUVQLCBnbC5LRUVQLCBnbC5JTkNSKTtcblxuICAgICAgICBtYXNrT2JqZWN0LnJlbmRlcmFibGUgPSB0cnVlO1xuICAgICAgICBtYXNrT2JqZWN0LnJlbmRlcih0aGlzLnJlbmRlcmVyKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5iYXRjaC5mbHVzaCgpO1xuICAgICAgICBtYXNrT2JqZWN0LnJlbmRlcmFibGUgPSBmYWxzZTtcblxuICAgICAgICB0aGlzLl91c2VDdXJyZW50KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUG9wcyBzdGVuY2lsIG1hc2suIE1hc2tEYXRhIGlzIGFscmVhZHkgcmVtb3ZlZCBmcm9tIHN0YWNrXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gbWFza09iamVjdCAtIG9iamVjdCBvZiBwb3BwZWQgbWFzayBkYXRhXG4gICAgICovXG4gICAgcG9wKG1hc2tPYmplY3Q6IElNYXNrVGFyZ2V0KTogdm9pZFxuICAgIHtcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuXG4gICAgICAgIGlmICh0aGlzLmdldFN0YWNrTGVuZ3RoKCkgPT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIHRoZSBzdGFjayBpcyBlbXB0eSFcbiAgICAgICAgICAgIGdsLmRpc2FibGUoZ2wuU1RFTkNJTF9URVNUKTtcbiAgICAgICAgICAgIGdsLmNsZWFyKGdsLlNURU5DSUxfQlVGRkVSX0JJVCk7XG4gICAgICAgICAgICBnbC5jbGVhclN0ZW5jaWwoMCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBEZWNyZW1lbnQgdGhlIHJlZmVyZW5jZSBzdGVuY2lsIHZhbHVlIHdoZXJlIHRoZSBwb3BwZWQgbWFzayBvdmVybGFwcyB3aXRoIHRoZSBvdGhlciBvbmVzXG4gICAgICAgICAgICBnbC5jb2xvck1hc2soZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICAgICAgZ2wuc3RlbmNpbE9wKGdsLktFRVAsIGdsLktFRVAsIGdsLkRFQ1IpO1xuXG4gICAgICAgICAgICBtYXNrT2JqZWN0LnJlbmRlcmFibGUgPSB0cnVlO1xuICAgICAgICAgICAgbWFza09iamVjdC5yZW5kZXIodGhpcy5yZW5kZXJlcik7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmJhdGNoLmZsdXNoKCk7XG4gICAgICAgICAgICBtYXNrT2JqZWN0LnJlbmRlcmFibGUgPSBmYWxzZTtcblxuICAgICAgICAgICAgdGhpcy5fdXNlQ3VycmVudCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0dXAgcmVuZGVyZXIgdG8gdXNlIHRoZSBjdXJyZW50IHN0ZW5jaWwgZGF0YS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF91c2VDdXJyZW50KCk6IHZvaWRcbiAgICB7XG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5yZW5kZXJlci5nbDtcblxuICAgICAgICBnbC5jb2xvck1hc2sodHJ1ZSwgdHJ1ZSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgIGdsLnN0ZW5jaWxGdW5jKGdsLkVRVUFMLCB0aGlzLmdldFN0YWNrTGVuZ3RoKCksIHRoaXMuX2dldEJpdHdpc2VNYXNrKCkpO1xuICAgICAgICBnbC5zdGVuY2lsT3AoZ2wuS0VFUCwgZ2wuS0VFUCwgZ2wuS0VFUCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmlsbCAxcyBlcXVhbCB0byB0aGUgbnVtYmVyIG9mIGFjaXR2ZSBzdGVuY2lsIG1hc2tzLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgYml0d2lzZSBtYXNrLlxuICAgICAqL1xuICAgIF9nZXRCaXR3aXNlTWFzaygpOiBudW1iZXJcbiAgICB7XG4gICAgICAgIHJldHVybiAoMSA8PCB0aGlzLmdldFN0YWNrTGVuZ3RoKCkpIC0gMTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBTeXN0ZW0gfSBmcm9tICcuLi9TeXN0ZW0nO1xuaW1wb3J0IHsgTWF0cml4IH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5cbmltcG9ydCB0eXBlIHsgUmVjdGFuZ2xlIH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgdHlwZSB7IFJlbmRlcmVyIH0gZnJvbSAnLi4vUmVuZGVyZXInO1xuXG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSB0aGUgcHJvamVjdGlvbiBtYXRyaXguXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlN5c3RlbVxuICogQG1lbWJlcm9mIFBJWEkuc3lzdGVtc1xuICovXG5cbmV4cG9ydCBjbGFzcyBQcm9qZWN0aW9uU3lzdGVtIGV4dGVuZHMgU3lzdGVtXG57XG4gICAgcHVibGljIGRlc3RpbmF0aW9uRnJhbWU6IFJlY3RhbmdsZTtcbiAgICBwdWJsaWMgc291cmNlRnJhbWU6IFJlY3RhbmdsZTtcbiAgICBwdWJsaWMgZGVmYXVsdEZyYW1lOiBSZWN0YW5nbGU7XG4gICAgcHVibGljIHByb2plY3Rpb25NYXRyaXg6IE1hdHJpeDtcbiAgICBwdWJsaWMgdHJhbnNmb3JtOiBNYXRyaXg7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgU3lzdGVtIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihyZW5kZXJlcjogUmVuZGVyZXIpXG4gICAge1xuICAgICAgICBzdXBlcihyZW5kZXJlcik7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlc3RpbmF0aW9uIGZyYW1lXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGVzdGluYXRpb25GcmFtZSA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNvdXJjZSBmcmFtZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNvdXJjZUZyYW1lID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGVmYXVsdCBkZXN0aW5hdGlvbiBmcmFtZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRlZmF1bHRGcmFtZSA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb2plY3QgbWF0cml4XG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucHJvamVjdGlvbk1hdHJpeCA9IG5ldyBNYXRyaXgoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQSB0cmFuc2Zvcm0gdGhhdCB3aWxsIGJlIGFwcGVuZGVkIHRvIHRoZSBwcm9qZWN0aW9uIG1hdHJpeFxuICAgICAgICAgKiBpZiBudWxsLCBub3RoaW5nIHdpbGwgYmUgYXBwbGllZFxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1hdHJpeH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHJhbnNmb3JtID0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBwcm9qZWN0aW9uIG1hdHJpeCBiYXNlZCBvbiBhIHByb2plY3Rpb24gZnJhbWUgKHdoaWNoIGlzIGEgcmVjdGFuZ2xlKS5cbiAgICAgKlxuICAgICAqIE1ha2Ugc3VyZSB0byBydW4gYHJlbmRlcmVyLmZyYW1lYnVmZmVyLnNldFZpZXdwb3J0KGRlc3RpbmF0aW9uRnJhbWUpYCBhZnRlciBjYWxsaW5nIHRoaXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBkZXN0aW5hdGlvbkZyYW1lIC0gVGhlIGRlc3RpbmF0aW9uIGZyYW1lLlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IHNvdXJjZUZyYW1lIC0gVGhlIHNvdXJjZSBmcmFtZS5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gcmVzb2x1dGlvbiAtIFJlc29sdXRpb25cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHJvb3QgLSBJZiBpcyByb290XG4gICAgICovXG4gICAgdXBkYXRlKGRlc3RpbmF0aW9uRnJhbWU6IFJlY3RhbmdsZSwgc291cmNlRnJhbWU6IFJlY3RhbmdsZSwgcmVzb2x1dGlvbjogbnVtYmVyLCByb290OiBib29sZWFuKTogdm9pZFxuICAgIHtcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbkZyYW1lID0gZGVzdGluYXRpb25GcmFtZSB8fCB0aGlzLmRlc3RpbmF0aW9uRnJhbWUgfHwgdGhpcy5kZWZhdWx0RnJhbWU7XG4gICAgICAgIHRoaXMuc291cmNlRnJhbWUgPSBzb3VyY2VGcmFtZSB8fCB0aGlzLnNvdXJjZUZyYW1lIHx8IGRlc3RpbmF0aW9uRnJhbWU7XG5cbiAgICAgICAgLy8gQ2FsY3VsYXRlIG9iamVjdC1zcGFjZSB0byBjbGlwLXNwYWNlIHByb2plY3Rpb25cbiAgICAgICAgdGhpcy5jYWxjdWxhdGVQcm9qZWN0aW9uKHRoaXMuZGVzdGluYXRpb25GcmFtZSwgdGhpcy5zb3VyY2VGcmFtZSwgcmVzb2x1dGlvbiwgcm9vdCk7XG5cbiAgICAgICAgaWYgKHRoaXMudHJhbnNmb3JtKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnByb2plY3Rpb25NYXRyaXguYXBwZW5kKHRoaXMudHJhbnNmb3JtKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJlbmRlcmVyID0gIHRoaXMucmVuZGVyZXI7XG5cbiAgICAgICAgcmVuZGVyZXIuZ2xvYmFsVW5pZm9ybXMudW5pZm9ybXMucHJvamVjdGlvbk1hdHJpeCA9IHRoaXMucHJvamVjdGlvbk1hdHJpeDtcbiAgICAgICAgcmVuZGVyZXIuZ2xvYmFsVW5pZm9ybXMudXBkYXRlKCk7XG5cbiAgICAgICAgLy8gdGhpcyB3aWxsIHdvcmsgZm9yIG5vd1xuICAgICAgICAvLyBidXQgd291bGQgYmUgc3dlZXQgdG8gc3RpY2sgYW5kIGV2ZW4gb24gdGhlIGdsb2JhbCB1bmlmb3Jtcy4uXG4gICAgICAgIGlmIChyZW5kZXJlci5zaGFkZXIuc2hhZGVyKVxuICAgICAgICB7XG4gICAgICAgICAgICByZW5kZXJlci5zaGFkZXIuc3luY1VuaWZvcm1Hcm91cChyZW5kZXJlci5zaGFkZXIuc2hhZGVyLnVuaWZvcm1zLmdsb2JhbHMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgcHJvamVjdGlvbiBtYXRyaXggYmFzZWQgb24gYSBwcm9qZWN0aW9uIGZyYW1lICh3aGljaCBpcyBhIHJlY3RhbmdsZSlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IGRlc3RpbmF0aW9uRnJhbWUgLSBUaGUgZGVzdGluYXRpb24gZnJhbWUuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gc291cmNlRnJhbWUgLSBUaGUgc291cmNlIGZyYW1lLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSByZXNvbHV0aW9uIC0gUmVzb2x1dGlvblxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gcm9vdCAtIElmIGlzIHJvb3RcbiAgICAgKi9cbiAgICBjYWxjdWxhdGVQcm9qZWN0aW9uKF9kZXN0aW5hdGlvbkZyYW1lOiBSZWN0YW5nbGUsIHNvdXJjZUZyYW1lOiBSZWN0YW5nbGUsIF9yZXNvbHV0aW9uOiBudW1iZXIsIHJvb3Q6IGJvb2xlYW4pOiB2b2lkXG4gICAge1xuICAgICAgICBjb25zdCBwbSA9IHRoaXMucHJvamVjdGlvbk1hdHJpeDtcbiAgICAgICAgY29uc3Qgc2lnbiA9ICFyb290ID8gMSA6IC0xO1xuXG4gICAgICAgIHBtLmlkZW50aXR5KCk7XG5cbiAgICAgICAgcG0uYSA9ICgxIC8gc291cmNlRnJhbWUud2lkdGggKiAyKTtcbiAgICAgICAgcG0uZCA9IHNpZ24gKiAoMSAvIHNvdXJjZUZyYW1lLmhlaWdodCAqIDIpO1xuXG4gICAgICAgIHBtLnR4ID0gLTEgLSAoc291cmNlRnJhbWUueCAqIHBtLmEpO1xuICAgICAgICBwbS50eSA9IC1zaWduIC0gKHNvdXJjZUZyYW1lLnkgKiBwbS5kKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSB0cmFuc2Zvcm0gb2YgdGhlIGFjdGl2ZSByZW5kZXIgdGFyZ2V0IHRvIHRoZSBnaXZlbiBtYXRyaXhcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG1hdHJpeCAtIFRoZSB0cmFuc2Zvcm1hdGlvbiBtYXRyaXhcbiAgICAgKi9cbiAgICBzZXRUcmFuc2Zvcm0oX21hdHJpeDogTWF0cml4KTogdm9pZFxuICAgIHtcbiAgICAgICAgLy8gdGhpcy5fYWN0aXZlUmVuZGVyVGFyZ2V0LnRyYW5zZm9ybSA9IG1hdHJpeDtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBTeXN0ZW0gfSBmcm9tICcuLi9TeXN0ZW0nO1xuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyBCVUZGRVJfQklUUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5cbmltcG9ydCB0eXBlIHsgUmVuZGVyZXIgfSBmcm9tICcuLi9SZW5kZXJlcic7XG5pbXBvcnQgdHlwZSB7IFJlbmRlclRleHR1cmUgfSBmcm9tICcuL1JlbmRlclRleHR1cmUnO1xuaW1wb3J0IHR5cGUgeyBCYXNlUmVuZGVyVGV4dHVyZSB9IGZyb20gJy4vQmFzZVJlbmRlclRleHR1cmUnO1xuaW1wb3J0IHR5cGUgeyBNYXNrRGF0YSB9IGZyb20gJy4uL21hc2svTWFza0RhdGEnO1xuXG4vLyBUZW1wb3JhcnkgcmVjdGFuZ2xlIGZvciBhc3NpZ25lZCBzb3VyY2VGcmFtZSBvciBkZXN0aW5hdGlvbkZyYW1lXG5jb25zdCB0ZW1wUmVjdCA9IG5ldyBSZWN0YW5nbGUoKTtcblxuLy8gVGVtcG9yYXJ5IHJlY3RhbmdsZSBmb3IgcmVuZGVyVGV4dHVyZSBkZXN0aW5hdGlvbkZyYW1lXG5jb25zdCB0ZW1wUmVjdDIgPSBuZXcgUmVjdGFuZ2xlKCk7XG5cbi8vIFRlbXBvcmFyeSByZWN0YW5nbGUgZm9yIHBhc3NpbmcgdGhlIGZyYW1lYnVmZmVyIHZpZXdwb3J0XG5jb25zdCB2aWV3cG9ydEZyYW1lID0gbmV3IFJlY3RhbmdsZSgpO1xuXG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSByZW5kZXIgdGV4dHVyZXMuXG4gKlxuICogU2hvdWxkIGJlIGFkZGVkIGFmdGVyIEZyYW1lYnVmZmVyU3lzdGVtXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlN5c3RlbVxuICogQG1lbWJlcm9mIFBJWEkuc3lzdGVtc1xuICovXG5leHBvcnQgY2xhc3MgUmVuZGVyVGV4dHVyZVN5c3RlbSBleHRlbmRzIFN5c3RlbVxue1xuICAgIHB1YmxpYyBjbGVhckNvbG9yOiBudW1iZXJbXTtcbiAgICBwdWJsaWMgZGVmYXVsdE1hc2tTdGFjazogQXJyYXk8TWFza0RhdGE+O1xuICAgIHB1YmxpYyBjdXJyZW50OiBSZW5kZXJUZXh0dXJlO1xuICAgIHB1YmxpYyByZWFkb25seSBzb3VyY2VGcmFtZTogUmVjdGFuZ2xlO1xuICAgIHB1YmxpYyByZWFkb25seSBkZXN0aW5hdGlvbkZyYW1lOiBSZWN0YW5nbGU7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgU3lzdGVtIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihyZW5kZXJlcjogUmVuZGVyZXIpXG4gICAge1xuICAgICAgICBzdXBlcihyZW5kZXJlcik7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjbGVhciBiYWNrZ3JvdW5kIGNvbG9yIGFzIHJnYmFcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNsZWFyQ29sb3IgPSByZW5kZXJlci5fYmFja2dyb3VuZENvbG9yUmdiYTtcblxuICAgICAgICAvLyBUT0RPIG1vdmUgdGhpcyBwcm9wZXJ0eSBzb21ld2hlcmUgZWxzZSFcbiAgICAgICAgLyoqXG4gICAgICAgICAqIExpc3Qgb2YgbWFza3MgZm9yIHRoZSBTdGVuY2lsU3lzdGVtXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuR3JhcGhpY3NbXX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRlZmF1bHRNYXNrU3RhY2sgPSBbXTtcblxuICAgICAgICAvLyBlbXB0eSByZW5kZXIgdGV4dHVyZT9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlbmRlciB0ZXh0dXJlXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVuZGVyVGV4dHVyZX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTb3VyY2UgZnJhbWVcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zb3VyY2VGcmFtZSA9IG5ldyBSZWN0YW5nbGUoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGVzdGluYXRpb24gZnJhbWVcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbkZyYW1lID0gbmV3IFJlY3RhbmdsZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEJpbmQgdGhlIGN1cnJlbnQgcmVuZGVyIHRleHR1cmVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBbcmVuZGVyVGV4dHVyZV0gLSBSZW5kZXJUZXh0dXJlIHRvIGJpbmQsIGJ5IGRlZmF1bHQgaXRzIGBudWxsYCwgdGhlIHNjcmVlblxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IFtzb3VyY2VGcmFtZV0gLSBwYXJ0IG9mIHNjcmVlbiB0aGF0IGlzIG1hcHBlZCB0byB0aGUgcmVuZGVyVGV4dHVyZVxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IFtkZXN0aW5hdGlvbkZyYW1lXSAtIHBhcnQgb2YgcmVuZGVyVGV4dHVyZSwgYnkgZGVmYXVsdCBpdCBoYXMgdGhlIHNhbWUgc2l6ZSBhcyBzb3VyY2VGcmFtZVxuICAgICAqL1xuICAgIGJpbmQocmVuZGVyVGV4dHVyZTogUmVuZGVyVGV4dHVyZSA9IG51bGwsIHNvdXJjZUZyYW1lPzogUmVjdGFuZ2xlLCBkZXN0aW5hdGlvbkZyYW1lPzogUmVjdGFuZ2xlKTogdm9pZFxuICAgIHtcbiAgICAgICAgY29uc3QgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuXG4gICAgICAgIHRoaXMuY3VycmVudCA9IHJlbmRlclRleHR1cmU7XG5cbiAgICAgICAgbGV0IGJhc2VUZXh0dXJlOiBCYXNlUmVuZGVyVGV4dHVyZTtcbiAgICAgICAgbGV0IGZyYW1lYnVmZmVyO1xuICAgICAgICBsZXQgcmVzb2x1dGlvbjtcblxuICAgICAgICBpZiAocmVuZGVyVGV4dHVyZSlcbiAgICAgICAge1xuICAgICAgICAgICAgYmFzZVRleHR1cmUgPSByZW5kZXJUZXh0dXJlLmJhc2VUZXh0dXJlIGFzIEJhc2VSZW5kZXJUZXh0dXJlO1xuXG4gICAgICAgICAgICByZXNvbHV0aW9uID0gYmFzZVRleHR1cmUucmVzb2x1dGlvbjtcblxuICAgICAgICAgICAgaWYgKCFzb3VyY2VGcmFtZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0ZW1wUmVjdC53aWR0aCA9IHJlbmRlclRleHR1cmUuZnJhbWUud2lkdGg7XG4gICAgICAgICAgICAgICAgdGVtcFJlY3QuaGVpZ2h0ID0gcmVuZGVyVGV4dHVyZS5mcmFtZS5oZWlnaHQ7XG5cbiAgICAgICAgICAgICAgICBzb3VyY2VGcmFtZSA9IHRlbXBSZWN0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIWRlc3RpbmF0aW9uRnJhbWUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGVtcFJlY3QyLnggPSByZW5kZXJUZXh0dXJlLmZyYW1lLng7XG4gICAgICAgICAgICAgICAgdGVtcFJlY3QyLnkgPSByZW5kZXJUZXh0dXJlLmZyYW1lLnk7XG4gICAgICAgICAgICAgICAgdGVtcFJlY3QyLndpZHRoID0gc291cmNlRnJhbWUud2lkdGg7XG4gICAgICAgICAgICAgICAgdGVtcFJlY3QyLmhlaWdodCA9IHNvdXJjZUZyYW1lLmhlaWdodDtcblxuICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uRnJhbWUgPSB0ZW1wUmVjdDI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZyYW1lYnVmZmVyID0gYmFzZVRleHR1cmUuZnJhbWVidWZmZXI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICByZXNvbHV0aW9uID0gcmVuZGVyZXIucmVzb2x1dGlvbjtcblxuICAgICAgICAgICAgaWYgKCFzb3VyY2VGcmFtZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0ZW1wUmVjdC53aWR0aCA9IHJlbmRlcmVyLnNjcmVlbi53aWR0aDtcbiAgICAgICAgICAgICAgICB0ZW1wUmVjdC5oZWlnaHQgPSByZW5kZXJlci5zY3JlZW4uaGVpZ2h0O1xuXG4gICAgICAgICAgICAgICAgc291cmNlRnJhbWUgPSB0ZW1wUmVjdDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFkZXN0aW5hdGlvbkZyYW1lKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uRnJhbWUgPSB0ZW1wUmVjdDtcblxuICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uRnJhbWUud2lkdGggPSBzb3VyY2VGcmFtZS53aWR0aDtcbiAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbkZyYW1lLmhlaWdodCA9IHNvdXJjZUZyYW1lLmhlaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZpZXdwb3J0RnJhbWUueCA9IGRlc3RpbmF0aW9uRnJhbWUueCAqIHJlc29sdXRpb247XG4gICAgICAgIHZpZXdwb3J0RnJhbWUueSA9IGRlc3RpbmF0aW9uRnJhbWUueSAqIHJlc29sdXRpb247XG4gICAgICAgIHZpZXdwb3J0RnJhbWUud2lkdGggPSBkZXN0aW5hdGlvbkZyYW1lLndpZHRoICogcmVzb2x1dGlvbjtcbiAgICAgICAgdmlld3BvcnRGcmFtZS5oZWlnaHQgPSBkZXN0aW5hdGlvbkZyYW1lLmhlaWdodCAqIHJlc29sdXRpb247XG5cbiAgICAgICAgdGhpcy5yZW5kZXJlci5mcmFtZWJ1ZmZlci5iaW5kKGZyYW1lYnVmZmVyLCB2aWV3cG9ydEZyYW1lKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5wcm9qZWN0aW9uLnVwZGF0ZShkZXN0aW5hdGlvbkZyYW1lLCBzb3VyY2VGcmFtZSwgcmVzb2x1dGlvbiwgIWZyYW1lYnVmZmVyKTtcblxuICAgICAgICBpZiAocmVuZGVyVGV4dHVyZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5tYXNrLnNldE1hc2tTdGFjayhiYXNlVGV4dHVyZS5tYXNrU3RhY2spO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5tYXNrLnNldE1hc2tTdGFjayh0aGlzLmRlZmF1bHRNYXNrU3RhY2spO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zb3VyY2VGcmFtZS5jb3B5RnJvbShzb3VyY2VGcmFtZSk7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb25GcmFtZS5jb3B5RnJvbShkZXN0aW5hdGlvbkZyYW1lKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFcmFzZXMgdGhlIHJlbmRlciB0ZXh0dXJlIGFuZCBmaWxscyB0aGUgZHJhd2luZyBhcmVhIHdpdGggYSBjb2xvdXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IFtjbGVhckNvbG9yXSAtIFRoZSBjb2xvciBhcyByZ2JhLCBkZWZhdWx0IHRvIHVzZSB0aGUgcmVuZGVyZXIgYmFja2dyb3VuZENvbG9yXG4gICAgICogQHBhcmFtIHtQSVhJLkJVRkZFUl9CSVRTfSBbbWFzaz1CVUZGRVJfQklUUy5DT0xPUiB8IEJVRkZFUl9CSVRTLkRFUFRIXSAtIEJpdHdpc2UgT1Igb2YgbWFza3NcbiAgICAgKiAgdGhhdCBpbmRpY2F0ZSB0aGUgYnVmZmVycyB0byBiZSBjbGVhcmVkLCBieSBkZWZhdWx0IENPTE9SIGFuZCBERVBUSCBidWZmZXJzLlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVuZGVyZXJ9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuICAgIGNsZWFyKGNsZWFyQ29sb3I/OiBudW1iZXJbXSwgbWFzaz86IEJVRkZFUl9CSVRTKTogdm9pZFxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudClcbiAgICAgICAge1xuICAgICAgICAgICAgY2xlYXJDb2xvciA9IGNsZWFyQ29sb3IgfHwgKHRoaXMuY3VycmVudC5iYXNlVGV4dHVyZSBhcyBCYXNlUmVuZGVyVGV4dHVyZSkuY2xlYXJDb2xvcjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNsZWFyQ29sb3IgPSBjbGVhckNvbG9yIHx8IHRoaXMuY2xlYXJDb2xvcjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucmVuZGVyZXIuZnJhbWVidWZmZXIuY2xlYXIoY2xlYXJDb2xvclswXSwgY2xlYXJDb2xvclsxXSwgY2xlYXJDb2xvclsyXSwgY2xlYXJDb2xvclszXSwgbWFzayk7XG4gICAgfVxuXG4gICAgcmVzaXplKCk6IHZvaWQgLy8gc2NyZWVuV2lkdGgsIHNjcmVlbkhlaWdodClcbiAgICB7XG4gICAgICAgIC8vIHJlc2l6ZSB0aGUgcm9vdCBvbmx5IVxuICAgICAgICB0aGlzLmJpbmQobnVsbCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVzZXRzIHJlbmRlclRleHR1cmUgc3RhdGVcbiAgICAgKi9cbiAgICByZXNldCgpOiB2b2lkXG4gICAge1xuICAgICAgICB0aGlzLmJpbmQobnVsbCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHR5cGUgeyBEaWN0IH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuXG5leHBvcnQgY2xhc3MgSUdMVW5pZm9ybURhdGFcbntcbiAgICBsb2NhdGlvbjogV2ViR0xVbmlmb3JtTG9jYXRpb247XG4gICAgdmFsdWU6IG51bWJlciB8IGJvb2xlYW4gfCBGbG9hdDMyQXJyYXkgfCBJbnQzMkFycmF5IHwgYm9vbGVhbltdO1xufVxuXG4vKipcbiAqIEhlbHBlciBjbGFzcyB0byBjcmVhdGUgYSBXZWJHTCBQcm9ncmFtXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgY2xhc3MgR0xQcm9ncmFtXG57XG4gICAgcHVibGljIHByb2dyYW06IFdlYkdMUHJvZ3JhbTtcbiAgICBwdWJsaWMgdW5pZm9ybURhdGE6IERpY3Q8YW55PjtcbiAgICBwdWJsaWMgdW5pZm9ybUdyb3VwczogRGljdDxhbnk+O1xuICAgIC8qKlxuICAgICAqIE1ha2VzIGEgbmV3IFBpeGkgcHJvZ3JhbVxuICAgICAqXG4gICAgICogQHBhcmFtIHByb2dyYW0ge1dlYkdMUHJvZ3JhbX0gd2ViZ2wgcHJvZ3JhbVxuICAgICAqIEBwYXJhbSB1bmlmb3JtRGF0YSB7T2JqZWN0fSB1bmlmb3Jtc1xuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHByb2dyYW06IFdlYkdMUHJvZ3JhbSwgdW5pZm9ybURhdGE6IHtba2V5OiBzdHJpbmddOiBJR0xVbmlmb3JtRGF0YX0pXG4gICAge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNoYWRlciBwcm9ncmFtXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1dlYkdMUHJvZ3JhbX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucHJvZ3JhbSA9IHByb2dyYW07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGhvbGRzIHRoZSB1bmlmb3JtIGRhdGEgd2hpY2ggY29udGFpbnMgdW5pZm9ybSBsb2NhdGlvbnNcbiAgICAgICAgICogYW5kIGN1cnJlbnQgdW5pZm9ybSB2YWx1ZXMgdXNlZCBmb3IgY2FjaGluZyBhbmQgcHJldmVudGluZyB1bm5lZWRlZCBHUFUgY29tbWFuZHNcbiAgICAgICAgICogQG1lbWJlciB7T2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51bmlmb3JtRGF0YSA9IHVuaWZvcm1EYXRhO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiB1bmlmb3JtR3JvdXBzIGhvbGRzIHRoZSB2YXJpb3VzIHVwbG9hZCBmdW5jdGlvbnMgZm9yIHRoZSBzaGFkZXIuIEVhY2ggdW5pZm9ybSBncm91cFxuICAgICAgICAgKiBhbmQgcHJvZ3JhbSBoYXZlIGEgdW5pcXVlIHVwbG9hZCBmdW5jdGlvbiBnZW5lcmF0ZWQuXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudW5pZm9ybUdyb3VwcyA9IHt9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgcHJvZ3JhbVxuICAgICAqL1xuICAgIGRlc3Ryb3koKTogdm9pZFxuICAgIHtcbiAgICAgICAgdGhpcy51bmlmb3JtRGF0YSA9IG51bGw7XG4gICAgICAgIHRoaXMudW5pZm9ybUdyb3VwcyA9IG51bGw7XG4gICAgICAgIHRoaXMucHJvZ3JhbSA9IG51bGw7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgU3lzdGVtIH0gZnJvbSAnLi4vU3lzdGVtJztcbmltcG9ydCB7IEdMUHJvZ3JhbSB9IGZyb20gJy4vR0xQcm9ncmFtJztcbmltcG9ydCB7IGdlbmVyYXRlVW5pZm9ybXNTeW5jLCB1bnNhZmVFdmFsU3VwcG9ydGVkLCBkZWZhdWx0VmFsdWUsIGNvbXBpbGVQcm9ncmFtIH0gZnJvbSAnLi91dGlscyc7XG5cbmltcG9ydCB0eXBlIHsgSUdMVW5pZm9ybURhdGEgfSBmcm9tICcuL0dMUHJvZ3JhbSc7XG5pbXBvcnQgdHlwZSB7IFJlbmRlcmVyIH0gZnJvbSAnLi4vUmVuZGVyZXInO1xuaW1wb3J0IHR5cGUgeyBJUmVuZGVyaW5nQ29udGV4dCB9IGZyb20gJy4uL0lSZW5kZXJpbmdDb250ZXh0JztcbmltcG9ydCB0eXBlIHsgU2hhZGVyIH0gZnJvbSAnLi9TaGFkZXInO1xuaW1wb3J0IHR5cGUgeyBQcm9ncmFtIH0gZnJvbSAnLi9Qcm9ncmFtJztcbmltcG9ydCB0eXBlIHsgVW5pZm9ybUdyb3VwIH0gZnJvbSAnLi9Vbmlmb3JtR3JvdXAnO1xuaW1wb3J0IHR5cGUgeyBEaWN0IH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuaW1wb3J0IHR5cGUgeyBVbmlmb3Jtc1N5bmNDYWxsYmFjayB9IGZyb20gJy4vdXRpbHMnO1xuXG5sZXQgVUlEID0gMDtcbi8vIGRlZnVhbHQgc3luYyBkYXRhIHNvIHdlIGRvbid0IGNyZWF0ZSBhIG5ldyBvbmUgZWFjaCB0aW1lIVxuY29uc3QgZGVmYXVsdFN5bmNEYXRhID0geyB0ZXh0dXJlQ291bnQ6IDAgfTtcblxuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2Ugc2hhZGVycy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLnN5c3RlbXNcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKi9cbmV4cG9ydCBjbGFzcyBTaGFkZXJTeXN0ZW0gZXh0ZW5kcyBTeXN0ZW1cbntcbiAgICBwcm90ZWN0ZWQgZ2w6IElSZW5kZXJpbmdDb250ZXh0O1xuICAgIHB1YmxpYyBzaGFkZXI6IFNoYWRlcjtcbiAgICBwdWJsaWMgcHJvZ3JhbTogUHJvZ3JhbTtcbiAgICBwdWJsaWMgaWQ6IG51bWJlcjtcbiAgICBwdWJsaWMgZGVzdHJveWVkID0gZmFsc2U7XG4gICAgcHJpdmF0ZSBjYWNoZTogRGljdDxVbmlmb3Jtc1N5bmNDYWxsYmFjaz47XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIFN5c3RlbSB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IocmVuZGVyZXI6IFJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgc3VwZXIocmVuZGVyZXIpO1xuXG4gICAgICAgIC8vIFZhbGlkYXRpb24gY2hlY2sgdGhhdCB0aGlzIGVudmlyb25tZW50IHN1cHBvcnQgYG5ldyBGdW5jdGlvbmBcbiAgICAgICAgdGhpcy5zeXN0ZW1DaGVjaygpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY3VycmVudCBXZWJHTCByZW5kZXJpbmcgY29udGV4dFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmdsID0gbnVsbDtcblxuICAgICAgICB0aGlzLnNoYWRlciA9IG51bGw7XG4gICAgICAgIHRoaXMucHJvZ3JhbSA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhY2hlIHRvIGhvbGRzIHRoZSBnZW5lcmF0ZWQgZnVuY3Rpb25zLiBTdG9yZWQgYWdhaW5zdCBVbmlmb3JtT2JqZWN0cyB1bmlxdWUgc2lnbmF0dXJlXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNhY2hlID0ge307XG5cbiAgICAgICAgdGhpcy5pZCA9IFVJRCsrO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlYWJsZSBmdW5jdGlvbiBieSBgQHBpeGkvdW5zYWZlLWV2YWxgIHRvIHNpbGVuY2VcbiAgICAgKiB0aHJvd2luZyBhbiBlcnJvciBpZiBwbGF0Zm9ybSBkb2Vzbid0IHN1cHBvcnQgdW5zYWZlLWV2YWxzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBzeXN0ZW1DaGVjaygpOiB2b2lkXG4gICAge1xuICAgICAgICBpZiAoIXVuc2FmZUV2YWxTdXBwb3J0ZWQoKSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDdXJyZW50IGVudmlyb25tZW50IGRvZXMgbm90IGFsbG93IHVuc2FmZS1ldmFsLCAnXG4gICAgICAgICAgICAgICAgKyAncGxlYXNlIHVzZSBAcGl4aS91bnNhZmUtZXZhbCBtb2R1bGUgdG8gZW5hYmxlIHN1cHBvcnQuJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgY29udGV4dENoYW5nZShnbDogSVJlbmRlcmluZ0NvbnRleHQpOiB2b2lkXG4gICAge1xuICAgICAgICB0aGlzLmdsID0gZ2w7XG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSBjdXJyZW50IHNoYWRlciB0byB0aGUgb25lIGdpdmVuIGluIHBhcmFtZXRlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlNoYWRlcn0gc2hhZGVyIC0gdGhlIG5ldyBzaGFkZXJcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtkb250U3luY10gLSBmYWxzZSBpZiB0aGUgc2hhZGVyIHNob3VsZCBhdXRvbWF0aWNhbGx5IHN5bmMgaXRzIHVuaWZvcm1zLlxuICAgICAqIEByZXR1cm5zIHtQSVhJLkdMUHJvZ3JhbX0gdGhlIGdsUHJvZ3JhbSB0aGF0IGJlbG9uZ3MgdG8gdGhlIHNoYWRlci5cbiAgICAgKi9cbiAgICBiaW5kKHNoYWRlcjogU2hhZGVyLCBkb250U3luYz86IGJvb2xlYW4pOiBHTFByb2dyYW1cbiAgICB7XG4gICAgICAgIHNoYWRlci51bmlmb3Jtcy5nbG9iYWxzID0gdGhpcy5yZW5kZXJlci5nbG9iYWxVbmlmb3JtcztcblxuICAgICAgICBjb25zdCBwcm9ncmFtID0gc2hhZGVyLnByb2dyYW07XG4gICAgICAgIGNvbnN0IGdsUHJvZ3JhbSA9IHByb2dyYW0uZ2xQcm9ncmFtc1t0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEXSB8fCB0aGlzLmdlbmVyYXRlU2hhZGVyKHNoYWRlcik7XG5cbiAgICAgICAgdGhpcy5zaGFkZXIgPSBzaGFkZXI7XG5cbiAgICAgICAgLy8gVE9ETyAtIHNvbWUgY3VycmVudCBQaXhpIHBsdWdpbnMgYnlwYXNzIHRoaXMuLiBzbyBpdCBub3Qgc2FmZSB0byB1c2UgeWV0Li5cbiAgICAgICAgaWYgKHRoaXMucHJvZ3JhbSAhPT0gcHJvZ3JhbSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5wcm9ncmFtID0gcHJvZ3JhbTtcbiAgICAgICAgICAgIHRoaXMuZ2wudXNlUHJvZ3JhbShnbFByb2dyYW0ucHJvZ3JhbSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWRvbnRTeW5jKVxuICAgICAgICB7XG4gICAgICAgICAgICBkZWZhdWx0U3luY0RhdGEudGV4dHVyZUNvdW50ID0gMDtcblxuICAgICAgICAgICAgdGhpcy5zeW5jVW5pZm9ybUdyb3VwKHNoYWRlci51bmlmb3JtR3JvdXAsIGRlZmF1bHRTeW5jRGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZ2xQcm9ncmFtO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwbG9hZHMgdGhlIHVuaWZvcm1zIHZhbHVlcyB0byB0aGUgY3VycmVudGx5IGJvdW5kIHNoYWRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSB1bmlmb3JtcyAtIHRoZSB1bmlmb3JtcyB2YWx1ZXMgdGhhdCBiZSBhcHBsaWVkIHRvIHRoZSBjdXJyZW50IHNoYWRlclxuICAgICAqL1xuICAgIHNldFVuaWZvcm1zKHVuaWZvcm1zOiBEaWN0PGFueT4pOiB2b2lkXG4gICAge1xuICAgICAgICBjb25zdCBzaGFkZXIgPSB0aGlzLnNoYWRlci5wcm9ncmFtO1xuICAgICAgICBjb25zdCBnbFByb2dyYW0gPSBzaGFkZXIuZ2xQcm9ncmFtc1t0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEXTtcblxuICAgICAgICBzaGFkZXIuc3luY1VuaWZvcm1zKGdsUHJvZ3JhbS51bmlmb3JtRGF0YSwgdW5pZm9ybXMsIHRoaXMucmVuZGVyZXIpO1xuICAgIH1cblxuICAgIC8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9leHBsaWNpdC1tb2R1bGUtYm91bmRhcnktdHlwZXMgKi9cbiAgICAvKipcbiAgICAgKlxuICAgICAqIHN5bmNzIHVuaWZvcm1zIG9uIHRoZSBncm91cFxuICAgICAqIEBwYXJhbSB7Kn0gZ3JvdXAgLSB0aGUgdW5pZm9ybSBncm91cCB0byBzeW5jXG4gICAgICogQHBhcmFtIHsqfSBbc3luY0RhdGFdIC0gdGhpcyBpcyBkYXRhIHRoYXQgaXMgcGFzc2VkIHRvIHRoZSBzeW5jIGZ1bmN0aW9uIGFuZCBhbnkgbmVzdGVkIHN5bmMgZnVuY3Rpb25zXG4gICAgICovXG4gICAgc3luY1VuaWZvcm1Hcm91cChncm91cDogVW5pZm9ybUdyb3VwLCBzeW5jRGF0YT86IGFueSk6IHZvaWRcbiAgICB7XG4gICAgICAgIGNvbnN0IGdsUHJvZ3JhbSA9IHRoaXMuZ2V0Z2xQcm9ncmFtKCk7XG5cbiAgICAgICAgaWYgKCFncm91cC5zdGF0aWMgfHwgZ3JvdXAuZGlydHlJZCAhPT0gZ2xQcm9ncmFtLnVuaWZvcm1Hcm91cHNbZ3JvdXAuaWRdKVxuICAgICAgICB7XG4gICAgICAgICAgICBnbFByb2dyYW0udW5pZm9ybUdyb3Vwc1tncm91cC5pZF0gPSBncm91cC5kaXJ0eUlkO1xuXG4gICAgICAgICAgICB0aGlzLnN5bmNVbmlmb3Jtcyhncm91cCwgZ2xQcm9ncmFtLCBzeW5jRGF0YSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZWFibGUgYnkgdGhlIEBwaXhpL3Vuc2FmZS1ldmFsIHBhY2thZ2UgdG8gdXNlIHN0YXRpY1xuICAgICAqIHN5bmNVbmZvcm1zIGluc3RlYWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHN5bmNVbmlmb3Jtcyhncm91cDogVW5pZm9ybUdyb3VwLCBnbFByb2dyYW06IEdMUHJvZ3JhbSwgc3luY0RhdGE6IGFueSk6IHZvaWRcbiAgICB7XG4gICAgICAgIGNvbnN0IHN5bmNGdW5jID0gZ3JvdXAuc3luY1VuaWZvcm1zW3RoaXMuc2hhZGVyLnByb2dyYW0uaWRdIHx8IHRoaXMuY3JlYXRlU3luY0dyb3Vwcyhncm91cCk7XG5cbiAgICAgICAgc3luY0Z1bmMoZ2xQcm9ncmFtLnVuaWZvcm1EYXRhLCBncm91cC51bmlmb3JtcywgdGhpcy5yZW5kZXJlciwgc3luY0RhdGEpO1xuICAgIH1cbiAgICAvKiBlc2xpbnQtZW5hYmxlIEB0eXBlc2NyaXB0LWVzbGludC9leHBsaWNpdC1tb2R1bGUtYm91bmRhcnktdHlwZXMgKi9cblxuICAgIGNyZWF0ZVN5bmNHcm91cHMoZ3JvdXA6IFVuaWZvcm1Hcm91cCk6IFVuaWZvcm1zU3luY0NhbGxiYWNrXG4gICAge1xuICAgICAgICBjb25zdCBpZCA9IHRoaXMuZ2V0U2lnbmF0dXJlKGdyb3VwLCB0aGlzLnNoYWRlci5wcm9ncmFtLnVuaWZvcm1EYXRhKTtcblxuICAgICAgICBpZiAoIXRoaXMuY2FjaGVbaWRdKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmNhY2hlW2lkXSA9IGdlbmVyYXRlVW5pZm9ybXNTeW5jKGdyb3VwLCB0aGlzLnNoYWRlci5wcm9ncmFtLnVuaWZvcm1EYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGdyb3VwLnN5bmNVbmlmb3Jtc1t0aGlzLnNoYWRlci5wcm9ncmFtLmlkXSA9IHRoaXMuY2FjaGVbaWRdO1xuXG4gICAgICAgIHJldHVybiBncm91cC5zeW5jVW5pZm9ybXNbdGhpcy5zaGFkZXIucHJvZ3JhbS5pZF07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGFrZXMgYSB1bmlmb3JtIGdyb3VwIGFuZCBkYXRhIGFuZCBnZW5lcmF0ZXMgYSB1bmlxdWUgc2lnbmF0dXJlIGZvciB0aGVtLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlVuaWZvcm1Hcm91cH0gZ3JvdXAgLSB0aGUgdW5pZm9ybSBncm91cCB0byBnZXQgc2lnbmF0dXJlIG9mXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHVuaWZvcm1EYXRhIC0gdW5pZm9ybSBpbmZvcm1hdGlvbiBnZW5lcmF0ZWQgYnkgdGhlIHNoYWRlclxuICAgICAqIEByZXR1cm5zIHtTdHJpbmd9IFVuaXF1ZSBzaWduYXR1cmUgb2YgdGhlIHVuaWZvcm0gZ3JvdXBcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHByaXZhdGUgZ2V0U2lnbmF0dXJlKGdyb3VwOiBVbmlmb3JtR3JvdXAsIHVuaWZvcm1EYXRhOiBEaWN0PGFueT4pOiBzdHJpbmdcbiAgICB7XG4gICAgICAgIGNvbnN0IHVuaWZvcm1zID0gZ3JvdXAudW5pZm9ybXM7XG5cbiAgICAgICAgY29uc3Qgc3RyaW5ncyA9IFtdO1xuXG4gICAgICAgIGZvciAoY29uc3QgaSBpbiB1bmlmb3JtcylcbiAgICAgICAge1xuICAgICAgICAgICAgc3RyaW5ncy5wdXNoKGkpO1xuXG4gICAgICAgICAgICBpZiAodW5pZm9ybURhdGFbaV0pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RyaW5ncy5wdXNoKHVuaWZvcm1EYXRhW2ldLnR5cGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHN0cmluZ3Muam9pbignLScpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHVuZGVybHlpbmcgR0xTaGFkZSByb2YgdGhlIGN1cnJlbnRseSBib3VuZCBzaGFkZXIuXG4gICAgICogVGhpcyBjYW4gYmUgaGFuZHkgZm9yIHdoZW4geW91IHRvIGhhdmUgYSBsaXR0bGUgbW9yZSBjb250cm9sIG92ZXIgdGhlIHNldHRpbmcgb2YgeW91ciB1bmlmb3Jtcy5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuR0xQcm9ncmFtfSB0aGUgZ2xQcm9ncmFtIGZvciB0aGUgY3VycmVudGx5IGJvdW5kIFNoYWRlciBmb3IgdGhpcyBjb250ZXh0XG4gICAgICovXG4gICAgZ2V0Z2xQcm9ncmFtKCk6IEdMUHJvZ3JhbVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuc2hhZGVyKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zaGFkZXIucHJvZ3JhbS5nbFByb2dyYW1zW3RoaXMucmVuZGVyZXIuQ09OVEVYVF9VSURdO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIGEgZ2xQcm9ncmFtIHZlcnNpb24gb2YgdGhlIFNoYWRlciBwcm92aWRlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLlNoYWRlcn0gc2hhZGVyIC0gdGhlIHNoYWRlciB0aGF0IHRoZSBnbFByb2dyYW0gd2lsbCBiZSBiYXNlZCBvbi5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdMUHJvZ3JhbX0gQSBzaGlueSBuZXcgZ2xQcm9ncmFtIVxuICAgICAqL1xuICAgIGdlbmVyYXRlU2hhZGVyKHNoYWRlcjogU2hhZGVyKTogR0xQcm9ncmFtXG4gICAge1xuICAgICAgICBjb25zdCBnbCA9IHRoaXMuZ2w7XG5cbiAgICAgICAgY29uc3QgcHJvZ3JhbSA9IHNoYWRlci5wcm9ncmFtO1xuXG4gICAgICAgIGNvbnN0IGF0dHJpYk1hcDogRGljdDxudW1iZXI+ID0ge307XG5cbiAgICAgICAgZm9yIChjb25zdCBpIGluIHByb2dyYW0uYXR0cmlidXRlRGF0YSlcbiAgICAgICAge1xuICAgICAgICAgICAgYXR0cmliTWFwW2ldID0gcHJvZ3JhbS5hdHRyaWJ1dGVEYXRhW2ldLmxvY2F0aW9uO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc2hhZGVyUHJvZ3JhbSA9IGNvbXBpbGVQcm9ncmFtKGdsLCBwcm9ncmFtLnZlcnRleFNyYywgcHJvZ3JhbS5mcmFnbWVudFNyYywgYXR0cmliTWFwKTtcbiAgICAgICAgY29uc3QgdW5pZm9ybURhdGE6IHtba2V5OiBzdHJpbmddOiBJR0xVbmlmb3JtRGF0YX0gPSB7fTtcblxuICAgICAgICBmb3IgKGNvbnN0IGkgaW4gcHJvZ3JhbS51bmlmb3JtRGF0YSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IHByb2dyYW0udW5pZm9ybURhdGFbaV07XG5cbiAgICAgICAgICAgIHVuaWZvcm1EYXRhW2ldID0ge1xuICAgICAgICAgICAgICAgIGxvY2F0aW9uOiBnbC5nZXRVbmlmb3JtTG9jYXRpb24oc2hhZGVyUHJvZ3JhbSwgaSksXG4gICAgICAgICAgICAgICAgdmFsdWU6IGRlZmF1bHRWYWx1ZShkYXRhLnR5cGUsIGRhdGEuc2l6ZSksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZ2xQcm9ncmFtID0gbmV3IEdMUHJvZ3JhbShzaGFkZXJQcm9ncmFtLCB1bmlmb3JtRGF0YSk7XG5cbiAgICAgICAgcHJvZ3JhbS5nbFByb2dyYW1zW3RoaXMucmVuZGVyZXIuQ09OVEVYVF9VSURdID0gZ2xQcm9ncmFtO1xuXG4gICAgICAgIHJldHVybiBnbFByb2dyYW07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVzZXRzIFNoYWRlclN5c3RlbSBzdGF0ZSwgZG9lcyBub3QgYWZmZWN0IFdlYkdMIHN0YXRlXG4gICAgICovXG4gICAgcmVzZXQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgdGhpcy5wcm9ncmFtID0gbnVsbDtcbiAgICAgICAgdGhpcy5zaGFkZXIgPSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgU3lzdGVtIGFuZCByZW1vdmVzIGFsbCBpdHMgdGV4dHVyZXNcbiAgICAgKi9cbiAgICBkZXN0cm95KCk6IHZvaWRcbiAgICB7XG4gICAgICAgIC8vIFRPRE8gaW1wbGVtZW50IGRlc3Ryb3kgbWV0aG9kIGZvciBTaGFkZXJTeXN0ZW1cbiAgICAgICAgdGhpcy5kZXN0cm95ZWQgPSB0cnVlO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IG1hcFdlYkdMQmxlbmRNb2Rlc1RvUGl4aSB9IGZyb20gJy4vdXRpbHMvbWFwV2ViR0xCbGVuZE1vZGVzVG9QaXhpJztcbmltcG9ydCB7IFN5c3RlbSB9IGZyb20gJy4uL1N5c3RlbSc7XG5pbXBvcnQgeyBTdGF0ZSB9IGZyb20gJy4vU3RhdGUnO1xuaW1wb3J0IHsgQkxFTkRfTU9ERVMgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuXG5pbXBvcnQgdHlwZSB7IElSZW5kZXJpbmdDb250ZXh0IH0gZnJvbSAnLi4vSVJlbmRlcmluZ0NvbnRleHQnO1xuaW1wb3J0IHR5cGUgeyBSZW5kZXJlciB9IGZyb20gJy4uL1JlbmRlcmVyJztcblxuY29uc3QgQkxFTkQgPSAwO1xuY29uc3QgT0ZGU0VUID0gMTtcbmNvbnN0IENVTExJTkcgPSAyO1xuY29uc3QgREVQVEhfVEVTVCA9IDM7XG5jb25zdCBXSU5ESU5HID0gNDtcblxuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2UgV2ViR0wgc3RhdGUgbWFjaGluZXMuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlN5c3RlbVxuICogQG1lbWJlcm9mIFBJWEkuc3lzdGVtc1xuICovXG5leHBvcnQgY2xhc3MgU3RhdGVTeXN0ZW0gZXh0ZW5kcyBTeXN0ZW1cbntcbiAgICBwdWJsaWMgc3RhdGVJZDogbnVtYmVyO1xuICAgIHB1YmxpYyBwb2x5Z29uT2Zmc2V0OiBudW1iZXI7XG4gICAgcHVibGljIGJsZW5kTW9kZTogQkxFTkRfTU9ERVM7XG4gICAgcHJvdGVjdGVkIF9ibGVuZEVxOiBib29sZWFuO1xuICAgIHByb3RlY3RlZCBnbDogSVJlbmRlcmluZ0NvbnRleHQ7XG4gICAgcHJvdGVjdGVkIGJsZW5kTW9kZXM6IG51bWJlcltdW107XG4gICAgcHJvdGVjdGVkIHJlYWRvbmx5IG1hcDogQXJyYXk8KHZhbHVlOiBib29sZWFuKSA9PiB2b2lkPjtcbiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgY2hlY2tzOiBBcnJheTwoc3lzdGVtOiB0aGlzLCBzdGF0ZTogU3RhdGUpID0+IHZvaWQ+O1xuICAgIHByb3RlY3RlZCBkZWZhdWx0U3RhdGU6IFN0YXRlO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBTeXN0ZW0gd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHJlbmRlcmVyOiBSZW5kZXJlcilcbiAgICB7XG4gICAgICAgIHN1cGVyKHJlbmRlcmVyKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogR0wgY29udGV4dFxuICAgICAgICAgKiBAbWVtYmVyIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5nbCA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFN0YXRlIElEXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0YXRlSWQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQb2x5Z29uIG9mZnNldFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wb2x5Z29uT2Zmc2V0ID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQmxlbmQgbW9kZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuQkxFTkRfTU9ERVMuTk9ORVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYmxlbmRNb2RlID0gQkxFTkRfTU9ERVMuTk9ORTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciBjdXJyZW50IGJsZW5kIGVxdWF0aW9uIGlzIGRpZmZlcmVudFxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9ibGVuZEVxID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbGxlY3Rpb24gb2YgY2FsbHNcbiAgICAgICAgICogQG1lbWJlciB7ZnVuY3Rpb25bXX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1hcCA9IFtdO1xuXG4gICAgICAgIC8vIG1hcCBmdW5jdGlvbnMgZm9yIHdoZW4gd2Ugc2V0IHN0YXRlLi5cbiAgICAgICAgdGhpcy5tYXBbQkxFTkRdID0gdGhpcy5zZXRCbGVuZDtcbiAgICAgICAgdGhpcy5tYXBbT0ZGU0VUXSA9IHRoaXMuc2V0T2Zmc2V0O1xuICAgICAgICB0aGlzLm1hcFtDVUxMSU5HXSA9IHRoaXMuc2V0Q3VsbEZhY2U7XG4gICAgICAgIHRoaXMubWFwW0RFUFRIX1RFU1RdID0gdGhpcy5zZXREZXB0aFRlc3Q7XG4gICAgICAgIHRoaXMubWFwW1dJTkRJTkddID0gdGhpcy5zZXRGcm9udEZhY2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbGxlY3Rpb24gb2YgY2hlY2sgY2FsbHNcbiAgICAgICAgICogQG1lbWJlciB7ZnVuY3Rpb25bXX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNoZWNrcyA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZWZhdWx0IFdlYkdMIFN0YXRlXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU3RhdGV9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kZWZhdWx0U3RhdGUgPSBuZXcgU3RhdGUoKTtcbiAgICAgICAgdGhpcy5kZWZhdWx0U3RhdGUuYmxlbmQgPSB0cnVlO1xuICAgIH1cblxuICAgIGNvbnRleHRDaGFuZ2UoZ2w6IElSZW5kZXJpbmdDb250ZXh0KTogdm9pZFxuICAgIHtcbiAgICAgICAgdGhpcy5nbCA9IGdsO1xuXG4gICAgICAgIHRoaXMuYmxlbmRNb2RlcyA9IG1hcFdlYkdMQmxlbmRNb2Rlc1RvUGl4aShnbCk7XG5cbiAgICAgICAgdGhpcy5zZXQodGhpcy5kZWZhdWx0U3RhdGUpO1xuXG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBjdXJyZW50IHN0YXRlXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IHN0YXRlIC0gVGhlIHN0YXRlIHRvIHNldC5cbiAgICAgKi9cbiAgICBzZXQoc3RhdGU6IFN0YXRlKTogdm9pZFxuICAgIHtcbiAgICAgICAgc3RhdGUgPSBzdGF0ZSB8fCB0aGlzLmRlZmF1bHRTdGF0ZTtcblxuICAgICAgICAvLyBUT0RPIG1heWJlIHRvIGFuIG9iamVjdCBjaGVjaz8gKCB0aGlzLnN0YXRlID09PSBzdGF0ZSApP1xuICAgICAgICBpZiAodGhpcy5zdGF0ZUlkICE9PSBzdGF0ZS5kYXRhKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgZGlmZiA9IHRoaXMuc3RhdGVJZCBeIHN0YXRlLmRhdGE7XG4gICAgICAgICAgICBsZXQgaSA9IDA7XG5cbiAgICAgICAgICAgIC8vIG9yZGVyIGZyb20gbGVhc3QgdG8gbW9zdCBjb21tb25cbiAgICAgICAgICAgIHdoaWxlIChkaWZmKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChkaWZmICYgMSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHN0YXRlIGNoYW5nZSFcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXBbaV0uY2FsbCh0aGlzLCAhIShzdGF0ZS5kYXRhICYgKDEgPDwgaSkpKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBkaWZmID0gZGlmZiA+PiAxO1xuICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5zdGF0ZUlkID0gc3RhdGUuZGF0YTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGJhc2VkIG9uIHRoZSBhYm92ZSBzZXR0aW5ncyB3ZSBjaGVjayBmb3Igc3BlY2lmaWMgbW9kZXMuLlxuICAgICAgICAvLyBmb3IgZXhhbXBsZSBpZiBibGVuZCBpcyBhY3RpdmUgd2UgY2hlY2sgYW5kIHNldCB0aGUgYmxlbmQgbW9kZXNcbiAgICAgICAgLy8gb3Igb2YgcG9seWdvbiBvZmZzZXQgaXMgYWN0aXZlIHdlIGNoZWNrIHRoZSBwb2x5IGRlcHRoLlxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY2hlY2tzLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmNoZWNrc1tpXSh0aGlzLCBzdGF0ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBzdGF0ZSwgd2hlbiBwcmV2aW91cyBzdGF0ZSBpcyB1bmtub3duXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IHN0YXRlIC0gVGhlIHN0YXRlIHRvIHNldFxuICAgICAqL1xuICAgIGZvcmNlU3RhdGUoc3RhdGU6IFN0YXRlKTogdm9pZFxuICAgIHtcbiAgICAgICAgc3RhdGUgPSBzdGF0ZSB8fCB0aGlzLmRlZmF1bHRTdGF0ZTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm1hcC5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5tYXBbaV0uY2FsbCh0aGlzLCAhIShzdGF0ZS5kYXRhICYgKDEgPDwgaSkpKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY2hlY2tzLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmNoZWNrc1tpXSh0aGlzLCBzdGF0ZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnN0YXRlSWQgPSBzdGF0ZS5kYXRhO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVuYWJsZXMgb3IgZGlzYWJsZWQgYmxlbmRpbmcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlIC0gVHVybiBvbiBvciBvZmYgd2ViZ2wgYmxlbmRpbmcuXG4gICAgICovXG4gICAgc2V0QmxlbmQodmFsdWU6IGJvb2xlYW4pOiB2b2lkXG4gICAge1xuICAgICAgICB0aGlzLnVwZGF0ZUNoZWNrKFN0YXRlU3lzdGVtLmNoZWNrQmxlbmRNb2RlLCB2YWx1ZSk7XG5cbiAgICAgICAgdGhpcy5nbFt2YWx1ZSA/ICdlbmFibGUnIDogJ2Rpc2FibGUnXSh0aGlzLmdsLkJMRU5EKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbmFibGVzIG9yIGRpc2FibGUgcG9seWdvbiBvZmZzZXQgZmlsbFxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSB2YWx1ZSAtIFR1cm4gb24gb3Igb2ZmIHdlYmdsIHBvbHlnb24gb2Zmc2V0IHRlc3RpbmcuXG4gICAgICovXG4gICAgc2V0T2Zmc2V0KHZhbHVlOiBib29sZWFuKTogdm9pZFxuICAgIHtcbiAgICAgICAgdGhpcy51cGRhdGVDaGVjayhTdGF0ZVN5c3RlbS5jaGVja1BvbHlnb25PZmZzZXQsIHZhbHVlKTtcblxuICAgICAgICB0aGlzLmdsW3ZhbHVlID8gJ2VuYWJsZScgOiAnZGlzYWJsZSddKHRoaXMuZ2wuUE9MWUdPTl9PRkZTRVRfRklMTCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB3aGV0aGVyIHRvIGVuYWJsZSBvciBkaXNhYmxlIGRlcHRoIHRlc3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlIC0gVHVybiBvbiBvciBvZmYgd2ViZ2wgZGVwdGggdGVzdGluZy5cbiAgICAgKi9cbiAgICBzZXREZXB0aFRlc3QodmFsdWU6IGJvb2xlYW4pOiB2b2lkXG4gICAge1xuICAgICAgICB0aGlzLmdsW3ZhbHVlID8gJ2VuYWJsZScgOiAnZGlzYWJsZSddKHRoaXMuZ2wuREVQVEhfVEVTVCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB3aGV0aGVyIHRvIGVuYWJsZSBvciBkaXNhYmxlIGN1bGwgZmFjZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsdWUgLSBUdXJuIG9uIG9yIG9mZiB3ZWJnbCBjdWxsIGZhY2UuXG4gICAgICovXG4gICAgc2V0Q3VsbEZhY2UodmFsdWU6IGJvb2xlYW4pOiB2b2lkXG4gICAge1xuICAgICAgICB0aGlzLmdsW3ZhbHVlID8gJ2VuYWJsZScgOiAnZGlzYWJsZSddKHRoaXMuZ2wuQ1VMTF9GQUNFKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBnbCBmcm9udCBmYWNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSB2YWx1ZSAtIHRydWUgaXMgY2xvY2t3aXNlIGFuZCBmYWxzZSBpcyBjb3VudGVyLWNsb2Nrd2lzZVxuICAgICAqL1xuICAgIHNldEZyb250RmFjZSh2YWx1ZTogYm9vbGVhbik6IHZvaWRcbiAgICB7XG4gICAgICAgIHRoaXMuZ2wuZnJvbnRGYWNlKHRoaXMuZ2xbdmFsdWUgPyAnQ1cnIDogJ0NDVyddKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBibGVuZCBtb2RlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIC0gVGhlIGJsZW5kIG1vZGUgdG8gc2V0IHRvLlxuICAgICAqL1xuICAgIHNldEJsZW5kTW9kZSh2YWx1ZTogbnVtYmVyKTogdm9pZFxuICAgIHtcbiAgICAgICAgaWYgKHZhbHVlID09PSB0aGlzLmJsZW5kTW9kZSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5ibGVuZE1vZGUgPSB2YWx1ZTtcblxuICAgICAgICBjb25zdCBtb2RlID0gdGhpcy5ibGVuZE1vZGVzW3ZhbHVlXTtcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmdsO1xuXG4gICAgICAgIGlmIChtb2RlLmxlbmd0aCA9PT0gMilcbiAgICAgICAge1xuICAgICAgICAgICAgZ2wuYmxlbmRGdW5jKG1vZGVbMF0sIG1vZGVbMV0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgZ2wuYmxlbmRGdW5jU2VwYXJhdGUobW9kZVswXSwgbW9kZVsxXSwgbW9kZVsyXSwgbW9kZVszXSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1vZGUubGVuZ3RoID09PSA2KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9ibGVuZEVxID0gdHJ1ZTtcbiAgICAgICAgICAgIGdsLmJsZW5kRXF1YXRpb25TZXBhcmF0ZShtb2RlWzRdLCBtb2RlWzVdKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLl9ibGVuZEVxKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9ibGVuZEVxID0gZmFsc2U7XG4gICAgICAgICAgICBnbC5ibGVuZEVxdWF0aW9uU2VwYXJhdGUoZ2wuRlVOQ19BREQsIGdsLkZVTkNfQUREKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHBvbHlnb24gb2Zmc2V0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIC0gdGhlIHBvbHlnb24gb2Zmc2V0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNjYWxlIC0gdGhlIHBvbHlnb24gb2Zmc2V0IHNjYWxlXG4gICAgICovXG4gICAgc2V0UG9seWdvbk9mZnNldCh2YWx1ZTogbnVtYmVyLCBzY2FsZTogbnVtYmVyKTogdm9pZFxuICAgIHtcbiAgICAgICAgdGhpcy5nbC5wb2x5Z29uT2Zmc2V0KHZhbHVlLCBzY2FsZSk7XG4gICAgfVxuXG4gICAgLy8gdXNlZFxuICAgIC8qKlxuICAgICAqIFJlc2V0cyBhbGwgdGhlIGxvZ2ljIGFuZCBkaXNhYmxlcyB0aGUgdmFvc1xuICAgICAqL1xuICAgIHJlc2V0KCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHRoaXMuZ2wucGl4ZWxTdG9yZWkodGhpcy5nbC5VTlBBQ0tfRkxJUF9ZX1dFQkdMLCBmYWxzZSk7XG5cbiAgICAgICAgdGhpcy5mb3JjZVN0YXRlKHRoaXMuZGVmYXVsdFN0YXRlKTtcblxuICAgICAgICB0aGlzLl9ibGVuZEVxID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5ibGVuZE1vZGUgPSAtMTtcbiAgICAgICAgdGhpcy5zZXRCbGVuZE1vZGUoMCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogY2hlY2tzIHRvIHNlZSB3aGljaCB1cGRhdGVzIHNob3VsZCBiZSBjaGVja2VkIGJhc2VkIG9uIHdoaWNoIHNldHRpbmdzIGhhdmUgYmVlbiBhY3RpdmF0ZWQuXG4gICAgICogRm9yIGV4YW1wbGUsIGlmIGJsZW5kIGlzIGVuYWJsZWQgdGhlbiB3ZSBzaG91bGQgY2hlY2sgdGhlIGJsZW5kIG1vZGVzIGVhY2ggdGltZSB0aGUgc3RhdGUgaXMgY2hhbmdlZFxuICAgICAqIG9yIGlmIHBvbHlnb24gZmlsbCBpcyBhY3RpdmF0ZWQgdGhlbiB3ZSBuZWVkIHRvIGNoZWNrIGlmIHRoZSBwb2x5Z29uIG9mZnNldCBjaGFuZ2VzLlxuICAgICAqIFRoZSBpZGVhIGlzIHRoYXQgd2Ugb25seSBjaGVjayB3aGF0IHdlIGhhdmUgdG9vLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyAtIHRoZSBjaGVja2luZyBmdW5jdGlvbiB0byBhZGQgb3IgcmVtb3ZlXG4gICAgICogQHBhcmFtIHtib29sZWFufSB2YWx1ZSAtIHNob3VsZCB0aGUgY2hlY2sgZnVuY3Rpb24gYmUgYWRkZWQgb3IgcmVtb3ZlZC5cbiAgICAgKi9cbiAgICB1cGRhdGVDaGVjayhmdW5jOiAoc3lzdGVtOiB0aGlzLCBzdGF0ZTogU3RhdGUpID0+IHZvaWQsIHZhbHVlOiBib29sZWFuKTogdm9pZFxuICAgIHtcbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLmNoZWNrcy5pbmRleE9mKGZ1bmMpO1xuXG4gICAgICAgIGlmICh2YWx1ZSAmJiBpbmRleCA9PT0gLTEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuY2hlY2tzLnB1c2goZnVuYyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIXZhbHVlICYmIGluZGV4ICE9PSAtMSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5jaGVja3Muc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgcHJpdmF0ZSBsaXR0bGUgd3JhcHBlciBmdW5jdGlvbiB0aGF0IHdlIGNhbGwgdG8gY2hlY2sgdGhlIGJsZW5kIG1vZGUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuU3RhdGVTeXN0ZW19IFN5c3RlbSAtIHRoZSBTeXN0ZW0gdG8gcGVyZm9ybSB0aGUgc3RhdGUgY2hlY2sgb25cbiAgICAgKiBAcGFyYW0ge1BJWEkuU3RhdGV9IHN0YXRlIC0gdGhlIHN0YXRlIHRoYXQgdGhlIGJsZW5kTW9kZSB3aWxsIHB1bGxlZCBmcm9tXG4gICAgICovXG4gICAgc3RhdGljIGNoZWNrQmxlbmRNb2RlKHN5c3RlbTogU3RhdGVTeXN0ZW0sIHN0YXRlOiBTdGF0ZSk6IHZvaWRcbiAgICB7XG4gICAgICAgIHN5c3RlbS5zZXRCbGVuZE1vZGUoc3RhdGUuYmxlbmRNb2RlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHByaXZhdGUgbGl0dGxlIHdyYXBwZXIgZnVuY3Rpb24gdGhhdCB3ZSBjYWxsIHRvIGNoZWNrIHRoZSBwb2x5Z29uIG9mZnNldC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5TdGF0ZVN5c3RlbX0gU3lzdGVtIC0gdGhlIFN5c3RlbSB0byBwZXJmb3JtIHRoZSBzdGF0ZSBjaGVjayBvblxuICAgICAqIEBwYXJhbSB7UElYSS5TdGF0ZX0gc3RhdGUgLSB0aGUgc3RhdGUgdGhhdCB0aGUgYmxlbmRNb2RlIHdpbGwgcHVsbGVkIGZyb21cbiAgICAgKi9cbiAgICBzdGF0aWMgY2hlY2tQb2x5Z29uT2Zmc2V0KHN5c3RlbTogU3RhdGVTeXN0ZW0sIHN0YXRlOiBTdGF0ZSk6IHZvaWRcbiAgICB7XG4gICAgICAgIHN5c3RlbS5zZXRQb2x5Z29uT2Zmc2V0KDEsIHN0YXRlLnBvbHlnb25PZmZzZXQpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEJMRU5EX01PREVTIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcblxuLyoqXG4gKiBNYXBzIGdsIGJsZW5kIGNvbWJpbmF0aW9ucyB0byBXZWJHTC5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGZ1bmN0aW9uIG1hcFdlYkdMQmxlbmRNb2Rlc1RvUGl4aVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCAtIFRoZSByZW5kZXJpbmcgY29udGV4dC5cbiAqIEBwYXJhbSB7bnVtYmVyW11bXX0gW2FycmF5PVtdXSAtIFRoZSBhcnJheSB0byBvdXRwdXQgaW50by5cbiAqIEByZXR1cm4ge251bWJlcltdW119IE1hcHBlZCBtb2Rlcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1hcFdlYkdMQmxlbmRNb2Rlc1RvUGl4aShnbDogV2ViR0xSZW5kZXJpbmdDb250ZXh0QmFzZSwgYXJyYXk6IG51bWJlcltdW10gPSBbXSk6IG51bWJlcltdW11cbntcbiAgICAvLyBUT0RPIC0gcHJlbXVsdGlwbHkgYWxwaGEgd291bGQgYmUgZGlmZmVyZW50LlxuICAgIC8vIGFkZCBhIGJvb2xlYW4gZm9yIHRoYXQhXG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuTk9STUFMXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkFERF0gPSBbZ2wuT05FLCBnbC5PTkVdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLk1VTFRJUExZXSA9IFtnbC5EU1RfQ09MT1IsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEEsIGdsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuU0NSRUVOXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQ09MT1IsIGdsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuT1ZFUkxBWV0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5EQVJLRU5dID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuTElHSFRFTl0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5DT0xPUl9ET0RHRV0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5DT0xPUl9CVVJOXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkhBUkRfTElHSFRdID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuU09GVF9MSUdIVF0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5ESUZGRVJFTkNFXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkVYQ0xVU0lPTl0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5IVUVdID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuU0FUVVJBVElPTl0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5DT0xPUl0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5MVU1JTk9TSVRZXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLk5PTkVdID0gWzAsIDBdO1xuXG4gICAgLy8gbm90LXByZW11bHRpcGxpZWQgYmxlbmQgbW9kZXNcbiAgICBhcnJheVtCTEVORF9NT0RFUy5OT1JNQUxfTlBNXSA9IFtnbC5TUkNfQUxQSEEsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEEsIGdsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuQUREX05QTV0gPSBbZ2wuU1JDX0FMUEhBLCBnbC5PTkUsIGdsLk9ORSwgZ2wuT05FXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5TQ1JFRU5fTlBNXSA9IFtnbC5TUkNfQUxQSEEsIGdsLk9ORV9NSU5VU19TUkNfQ09MT1IsIGdsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG5cbiAgICAvLyBjb21wb3NpdGUgb3BlcmF0aW9uc1xuICAgIGFycmF5W0JMRU5EX01PREVTLlNSQ19JTl0gPSBbZ2wuRFNUX0FMUEhBLCBnbC5aRVJPXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5TUkNfT1VUXSA9IFtnbC5PTkVfTUlOVVNfRFNUX0FMUEhBLCBnbC5aRVJPXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5TUkNfQVRPUF0gPSBbZ2wuRFNUX0FMUEhBLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5EU1RfT1ZFUl0gPSBbZ2wuT05FX01JTlVTX0RTVF9BTFBIQSwgZ2wuT05FXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5EU1RfSU5dID0gW2dsLlpFUk8sIGdsLlNSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuRFNUX09VVF0gPSBbZ2wuWkVSTywgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuRFNUX0FUT1BdID0gW2dsLk9ORV9NSU5VU19EU1RfQUxQSEEsIGdsLlNSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuWE9SXSA9IFtnbC5PTkVfTUlOVVNfRFNUX0FMUEhBLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcblxuICAgIC8vIFNVQlRSQUNUIGZyb20gZmxhc2hcbiAgICBhcnJheVtCTEVORF9NT0RFUy5TVUJUUkFDVF0gPSBbZ2wuT05FLCBnbC5PTkUsIGdsLk9ORSwgZ2wuT05FLCBnbC5GVU5DX1JFVkVSU0VfU1VCVFJBQ1QsIGdsLkZVTkNfQUREXTtcblxuICAgIHJldHVybiBhcnJheTtcbn1cbiIsImltcG9ydCB7IFN5c3RlbSB9IGZyb20gJy4uL1N5c3RlbSc7XG5pbXBvcnQgeyBHQ19NT0RFUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcblxuaW1wb3J0IHR5cGUgeyBSZW5kZXJlciB9IGZyb20gJy4uL1JlbmRlcmVyJztcbmltcG9ydCB0eXBlIHsgVGV4dHVyZSB9IGZyb20gJy4vVGV4dHVyZSc7XG5pbXBvcnQgdHlwZSB7IFJlbmRlclRleHR1cmUgfSBmcm9tICcuLi9yZW5kZXJUZXh0dXJlL1JlbmRlclRleHR1cmUnO1xuXG5leHBvcnQgaW50ZXJmYWNlIElVbmxvYWRhYmxlVGV4dHVyZSB7XG4gICAgX3RleHR1cmU6IFRleHR1cmUgfCBSZW5kZXJUZXh0dXJlO1xuICAgIGNoaWxkcmVuOiBJVW5sb2FkYWJsZVRleHR1cmVbXTtcbn1cblxuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2UgdGV4dHVyZSBnYXJiYWdlIGNvbGxlY3Rpb24gb24gdGhlIEdQVSxcbiAqIGVuc3VyaW5nIHRoYXQgaXQgZG9lcyBub3QgZ2V0IGNsb2dnZWQgdXAgd2l0aCB0ZXh0dXJlcyB0aGF0IGFyZSBubyBsb25nZXIgYmVpbmcgdXNlZC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLnN5c3RlbXNcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKi9cbmV4cG9ydCBjbGFzcyBUZXh0dXJlR0NTeXN0ZW0gZXh0ZW5kcyBTeXN0ZW1cbntcbiAgICBwdWJsaWMgY291bnQ6IG51bWJlcjtcbiAgICBwdWJsaWMgY2hlY2tDb3VudDogbnVtYmVyO1xuICAgIHB1YmxpYyBtYXhJZGxlOiBudW1iZXI7XG4gICAgcHVibGljIGNoZWNrQ291bnRNYXg6IG51bWJlcjtcbiAgICBwdWJsaWMgbW9kZTogbnVtYmVyO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBTeXN0ZW0gd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHJlbmRlcmVyOiBSZW5kZXJlcilcbiAgICB7XG4gICAgICAgIHN1cGVyKHJlbmRlcmVyKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ291bnRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY291bnQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDaGVjayBjb3VudFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jaGVja0NvdW50ID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTWF4aW11bSBpZGxlIHRpbWUsIGluIHNlY29uZHNcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAc2VlIFBJWEkuc2V0dGluZ3MuR0NfTUFYX0lETEVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWF4SWRsZSA9IHNldHRpbmdzLkdDX01BWF9JRExFO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYXhpbXVtIG51bWJlciBvZiBpdGVtIHRvIGNoZWNrXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHNlZSBQSVhJLnNldHRpbmdzLkdDX01BWF9DSEVDS19DT1VOVFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jaGVja0NvdW50TWF4ID0gc2V0dGluZ3MuR0NfTUFYX0NIRUNLX0NPVU5UO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDdXJyZW50IGdhcmFiYWdlIGNvbGxlY3Rpb24gbW9kZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkdDX01PREVTfVxuICAgICAgICAgKiBAc2VlIFBJWEkuc2V0dGluZ3MuR0NfTU9ERVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tb2RlID0gc2V0dGluZ3MuR0NfTU9ERTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgdG8gc2VlIHdoZW4gdGhlIGxhc3QgdGltZSBhIHRleHR1cmUgd2FzIHVzZWRcbiAgICAgKiBpZiB0aGUgdGV4dHVyZSBoYXMgbm90IGJlZW4gdXNlZCBmb3IgYSBzcGVjaWZpZWQgYW1vdW50IG9mIHRpbWUgaXQgd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIEdQVVxuICAgICAqL1xuICAgIHByb3RlY3RlZCBwb3N0cmVuZGVyKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5yZW5kZXJlci5yZW5kZXJpbmdUb1NjcmVlbilcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jb3VudCsrO1xuXG4gICAgICAgIGlmICh0aGlzLm1vZGUgPT09IEdDX01PREVTLk1BTlVBTClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jaGVja0NvdW50Kys7XG5cbiAgICAgICAgaWYgKHRoaXMuY2hlY2tDb3VudCA+IHRoaXMuY2hlY2tDb3VudE1heClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5jaGVja0NvdW50ID0gMDtcblxuICAgICAgICAgICAgdGhpcy5ydW4oKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyB0byBzZWUgd2hlbiB0aGUgbGFzdCB0aW1lIGEgdGV4dHVyZSB3YXMgdXNlZFxuICAgICAqIGlmIHRoZSB0ZXh0dXJlIGhhcyBub3QgYmVlbiB1c2VkIGZvciBhIHNwZWNpZmllZCBhbW91bnQgb2YgdGltZSBpdCB3aWxsIGJlIHJlbW92ZWQgZnJvbSB0aGUgR1BVXG4gICAgICovXG4gICAgcnVuKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIGNvbnN0IHRtID0gdGhpcy5yZW5kZXJlci50ZXh0dXJlO1xuICAgICAgICBjb25zdCBtYW5hZ2VkVGV4dHVyZXMgPSAgdG0ubWFuYWdlZFRleHR1cmVzO1xuICAgICAgICBsZXQgd2FzUmVtb3ZlZCA9IGZhbHNlO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWFuYWdlZFRleHR1cmVzLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCB0ZXh0dXJlID0gbWFuYWdlZFRleHR1cmVzW2ldO1xuXG4gICAgICAgICAgICAvLyBvbmx5IHN1cHBvcnRzIG5vbiBnZW5lcmF0ZWQgdGV4dHVyZXMgYXQgdGhlIG1vbWVudCFcbiAgICAgICAgICAgIGlmICghKHRleHR1cmUgYXMgYW55KS5mcmFtZWJ1ZmZlciAmJiB0aGlzLmNvdW50IC0gdGV4dHVyZS50b3VjaGVkID4gdGhpcy5tYXhJZGxlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRtLmRlc3Ryb3lUZXh0dXJlKHRleHR1cmUsIHRydWUpO1xuICAgICAgICAgICAgICAgIG1hbmFnZWRUZXh0dXJlc1tpXSA9IG51bGw7XG4gICAgICAgICAgICAgICAgd2FzUmVtb3ZlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAod2FzUmVtb3ZlZClcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IGogPSAwO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1hbmFnZWRUZXh0dXJlcy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAobWFuYWdlZFRleHR1cmVzW2ldICE9PSBudWxsKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbWFuYWdlZFRleHR1cmVzW2orK10gPSBtYW5hZ2VkVGV4dHVyZXNbaV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBtYW5hZ2VkVGV4dHVyZXMubGVuZ3RoID0gajtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIHRoZSB0ZXh0dXJlcyB3aXRoaW4gdGhlIHNwZWNpZmllZCBkaXNwbGF5T2JqZWN0IGFuZCBpdHMgY2hpbGRyZW4gZnJvbSB0aGUgR1BVXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gZGlzcGxheU9iamVjdCAtIHRoZSBkaXNwbGF5T2JqZWN0IHRvIHJlbW92ZSB0aGUgdGV4dHVyZXMgZnJvbS5cbiAgICAgKi9cbiAgICB1bmxvYWQoZGlzcGxheU9iamVjdDogSVVubG9hZGFibGVUZXh0dXJlKTogdm9pZFxuICAgIHtcbiAgICAgICAgY29uc3QgdG0gPSB0aGlzLnJlbmRlcmVyLnRleHR1cmU7XG4gICAgICAgIGNvbnN0IHRleHR1cmUgPSBkaXNwbGF5T2JqZWN0Ll90ZXh0dXJlIGFzIFJlbmRlclRleHR1cmU7XG5cbiAgICAgICAgLy8gb25seSBkZXN0cm95IG5vbiBnZW5lcmF0ZWQgdGV4dHVyZXNcbiAgICAgICAgaWYgKHRleHR1cmUgJiYgIXRleHR1cmUuZnJhbWVidWZmZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRtLmRlc3Ryb3lUZXh0dXJlKHRleHR1cmUpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IGRpc3BsYXlPYmplY3QuY2hpbGRyZW4ubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudW5sb2FkKGRpc3BsYXlPYmplY3QuY2hpbGRyZW5baV0pO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiLyoqXG4gKiBJbnRlcm5hbCB0ZXh0dXJlIGZvciBXZWJHTCBjb250ZXh0XG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBjbGFzcyBHTFRleHR1cmVcbntcbiAgICBwdWJsaWMgdGV4dHVyZTogV2ViR0xUZXh0dXJlO1xuICAgIHB1YmxpYyB3aWR0aDogbnVtYmVyO1xuICAgIHB1YmxpYyBoZWlnaHQ6IG51bWJlcjtcbiAgICBwdWJsaWMgbWlwbWFwOiBib29sZWFuO1xuICAgIHB1YmxpYyB3cmFwTW9kZTogbnVtYmVyO1xuICAgIHB1YmxpYyB0eXBlOiBudW1iZXI7XG4gICAgcHVibGljIGludGVybmFsRm9ybWF0OiBudW1iZXI7XG4gICAgZGlydHlJZDogbnVtYmVyO1xuICAgIGRpcnR5U3R5bGVJZDogbnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3IodGV4dHVyZTogV2ViR0xUZXh0dXJlKVxuICAgIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBXZWJHTCB0ZXh0dXJlXG4gICAgICAgICAqIEBtZW1iZXIge1dlYkdMVGV4dHVyZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGV4dHVyZSA9IHRleHR1cmU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdpZHRoIG9mIHRleHR1cmUgdGhhdCB3YXMgdXNlZCBpbiB0ZXhJbWFnZTJEXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMud2lkdGggPSAtMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSGVpZ2h0IG9mIHRleHR1cmUgdGhhdCB3YXMgdXNlZCBpbiB0ZXhJbWFnZTJEXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gLTE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRleHR1cmUgY29udGVudHMgZGlydHkgZmxhZ1xuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRpcnR5SWQgPSAtMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGV4dHVyZSBzdHlsZSBkaXJ0eSBmbGFnXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGlydHlTdHlsZUlkID0gLTE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgbWlwIGxldmVscyBoYXMgdG8gYmUgZ2VuZXJhdGVkXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1pcG1hcCA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXcmFwTW9kZSBjb3BpZWQgZnJvbSBiYXNlVGV4dHVyZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLndyYXBNb2RlID0gMzMwNzE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFR5cGUgY29waWVkIGZyb20gYmFzZVRleHR1cmVcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50eXBlID0gNjQwODtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVHlwZSBjb3BpZWQgZnJvbSBiYXNlVGV4dHVyZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmludGVybmFsRm9ybWF0ID0gNTEyMTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBTeXN0ZW0gfSBmcm9tICcuLi9TeXN0ZW0nO1xuaW1wb3J0IHsgQmFzZVRleHR1cmUgfSBmcm9tICcuL0Jhc2VUZXh0dXJlJztcbmltcG9ydCB7IEdMVGV4dHVyZSB9IGZyb20gJy4vR0xUZXh0dXJlJztcbmltcG9ydCB7IHJlbW92ZUl0ZW1zIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuaW1wb3J0IHsgTUlQTUFQX01PREVTLCBXUkFQX01PREVTLCBTQ0FMRV9NT0RFUywgVFlQRVMgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuXG5pbXBvcnQgdHlwZSB7IFRleHR1cmUgfSBmcm9tICcuL1RleHR1cmUnO1xuaW1wb3J0IHR5cGUgeyBJUmVuZGVyaW5nQ29udGV4dCB9IGZyb20gJy4uL0lSZW5kZXJpbmdDb250ZXh0JztcbmltcG9ydCB0eXBlIHsgUmVuZGVyZXIgfSBmcm9tICcuLi9SZW5kZXJlcic7XG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSB0ZXh0dXJlcy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKiBAbWVtYmVyb2YgUElYSS5zeXN0ZW1zXG4gKi9cbmV4cG9ydCBjbGFzcyBUZXh0dXJlU3lzdGVtIGV4dGVuZHMgU3lzdGVtXG57XG4gICAgcHVibGljIGJvdW5kVGV4dHVyZXM6IEJhc2VUZXh0dXJlW107XG4gICAgcHVibGljIG1hbmFnZWRUZXh0dXJlczogQXJyYXk8QmFzZVRleHR1cmU+O1xuICAgIHByb3RlY3RlZCBDT05URVhUX1VJRDogbnVtYmVyO1xuICAgIHByb3RlY3RlZCBnbDogSVJlbmRlcmluZ0NvbnRleHQ7XG4gICAgcHJvdGVjdGVkIHdlYkdMVmVyc2lvbjogbnVtYmVyO1xuICAgIHByb3RlY3RlZCB1bmtub3duVGV4dHVyZTogQmFzZVRleHR1cmU7XG4gICAgcHJvdGVjdGVkIF91bmtub3duQm91bmRUZXh0dXJlczogYm9vbGVhbjtcbiAgICBjdXJyZW50TG9jYXRpb246IG51bWJlcjtcbiAgICBlbXB0eVRleHR1cmVzOiB7W2tleTogbnVtYmVyXTogR0xUZXh0dXJlfTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBTeXN0ZW0gd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHJlbmRlcmVyOiBSZW5kZXJlcilcbiAgICB7XG4gICAgICAgIHN1cGVyKHJlbmRlcmVyKTtcblxuICAgICAgICAvLyBUT0RPIHNldCB0byBtYXggdGV4dHVyZXMuLi5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJvdW5kIHRleHR1cmVzXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQmFzZVRleHR1cmVbXX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmJvdW5kVGV4dHVyZXMgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEN1cnJlbnQgbG9jYXRpb25cbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY3VycmVudExvY2F0aW9uID0gLTE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIExpc3Qgb2YgbWFuYWdlZCB0ZXh0dXJlc1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJhc2VUZXh0dXJlW119XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYW5hZ2VkVGV4dHVyZXMgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGlkIHNvbWVvbmUgdGVtcGVyIHdpdGggdGV4dHVyZXMgc3RhdGU/IFdlJ2xsIG92ZXJ3cml0ZSB0aGVtIHdoZW4gd2UgbmVlZCB0byB1bmJpbmQgc29tZXRoaW5nLlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdW5rbm93bkJvdW5kVGV4dHVyZXMgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQmFzZVRleHR1cmUgdmFsdWUgdGhhdCBzaG93cyB0aGF0IHdlIGRvbid0IGtub3cgd2hhdCBpcyBib3VuZFxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJhc2VUZXh0dXJlfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudW5rbm93blRleHR1cmUgPSBuZXcgQmFzZVRleHR1cmUoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHVwIHRoZSByZW5kZXJlciBjb250ZXh0IGFuZCBuZWNlc3NhcnkgYnVmZmVycy5cbiAgICAgKi9cbiAgICBjb250ZXh0Q2hhbmdlKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5nbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG5cbiAgICAgICAgdGhpcy5DT05URVhUX1VJRCA9IHRoaXMucmVuZGVyZXIuQ09OVEVYVF9VSUQ7XG5cbiAgICAgICAgdGhpcy53ZWJHTFZlcnNpb24gPSB0aGlzLnJlbmRlcmVyLmNvbnRleHQud2ViR0xWZXJzaW9uO1xuXG4gICAgICAgIGNvbnN0IG1heFRleHR1cmVzID0gZ2wuZ2V0UGFyYW1ldGVyKGdsLk1BWF9URVhUVVJFX0lNQUdFX1VOSVRTKTtcblxuICAgICAgICB0aGlzLmJvdW5kVGV4dHVyZXMubGVuZ3RoID0gbWF4VGV4dHVyZXM7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYXhUZXh0dXJlczsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmJvdW5kVGV4dHVyZXNbaV0gPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVE9ETyBtb3ZlIHRoaXMuLiB0byBhIG5pY2UgbWFrZSBlbXB0eSB0ZXh0dXJlcyBjbGFzcy4uXG4gICAgICAgIHRoaXMuZW1wdHlUZXh0dXJlcyA9IHt9O1xuXG4gICAgICAgIGNvbnN0IGVtcHR5VGV4dHVyZTJEID0gbmV3IEdMVGV4dHVyZShnbC5jcmVhdGVUZXh0dXJlKCkpO1xuXG4gICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIGVtcHR5VGV4dHVyZTJELnRleHR1cmUpO1xuICAgICAgICBnbC50ZXhJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIGdsLlJHQkEsIDEsIDEsIDAsIGdsLlJHQkEsIGdsLlVOU0lHTkVEX0JZVEUsIG5ldyBVaW50OEFycmF5KDQpKTtcblxuICAgICAgICB0aGlzLmVtcHR5VGV4dHVyZXNbZ2wuVEVYVFVSRV8yRF0gPSBlbXB0eVRleHR1cmUyRDtcbiAgICAgICAgdGhpcy5lbXB0eVRleHR1cmVzW2dsLlRFWFRVUkVfQ1VCRV9NQVBdID0gbmV3IEdMVGV4dHVyZShnbC5jcmVhdGVUZXh0dXJlKCkpO1xuXG4gICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfQ1VCRV9NQVAsIHRoaXMuZW1wdHlUZXh0dXJlc1tnbC5URVhUVVJFX0NVQkVfTUFQXS50ZXh0dXJlKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDY7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgZ2wudGV4SW1hZ2UyRChnbC5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1ggKyBpLCAwLCBnbC5SR0JBLCAxLCAxLCAwLCBnbC5SR0JBLCBnbC5VTlNJR05FRF9CWVRFLCBudWxsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV9DVUJFX01BUCwgZ2wuVEVYVFVSRV9NQUdfRklMVEVSLCBnbC5MSU5FQVIpO1xuICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfQ1VCRV9NQVAsIGdsLlRFWFRVUkVfTUlOX0ZJTFRFUiwgZ2wuTElORUFSKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuYm91bmRUZXh0dXJlcy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5iaW5kKG51bGwsIGkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQmluZCBhIHRleHR1cmUgdG8gYSBzcGVjaWZpYyBsb2NhdGlvblxuICAgICAqXG4gICAgICogSWYgeW91IHdhbnQgdG8gdW5iaW5kIHNvbWV0aGluZywgcGxlYXNlIHVzZSBgdW5iaW5kKHRleHR1cmUpYCBpbnN0ZWFkIG9mIGBiaW5kKG51bGwsIHRleHR1cmVMb2NhdGlvbilgXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZXxQSVhJLkJhc2VUZXh0dXJlfSB0ZXh0dXJlXyAtIFRleHR1cmUgdG8gYmluZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbG9jYXRpb249MF0gLSBMb2NhdGlvbiB0byBiaW5kIGF0XG4gICAgICovXG4gICAgYmluZCh0ZXh0dXJlOiBUZXh0dXJlfEJhc2VUZXh0dXJlLCBsb2NhdGlvbiA9IDApOiB2b2lkXG4gICAge1xuICAgICAgICBjb25zdCB7IGdsIH0gPSB0aGlzO1xuXG4gICAgICAgIGlmICh0ZXh0dXJlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0ZXh0dXJlID0gdGV4dHVyZS5jYXN0VG9CYXNlVGV4dHVyZSgpO1xuXG4gICAgICAgICAgICBpZiAodGV4dHVyZS5wYXJlbnRUZXh0dXJlQXJyYXkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gY2Fubm90IGJpbmQgcGFydGlhbCB0ZXh0dXJlXG4gICAgICAgICAgICAgICAgLy8gVE9ETzogcmVwb3J0IGEgd2FybmluZ1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRleHR1cmUudmFsaWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGV4dHVyZS50b3VjaGVkID0gdGhpcy5yZW5kZXJlci50ZXh0dXJlR0MuY291bnQ7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBnbFRleHR1cmUgPSB0ZXh0dXJlLl9nbFRleHR1cmVzW3RoaXMuQ09OVEVYVF9VSURdIHx8IHRoaXMuaW5pdFRleHR1cmUodGV4dHVyZSk7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5ib3VuZFRleHR1cmVzW2xvY2F0aW9uXSAhPT0gdGV4dHVyZSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRMb2NhdGlvbiAhPT0gbG9jYXRpb24pXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudExvY2F0aW9uID0gbG9jYXRpb247XG4gICAgICAgICAgICAgICAgICAgICAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUwICsgbG9jYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKHRleHR1cmUudGFyZ2V0LCBnbFRleHR1cmUudGV4dHVyZSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGdsVGV4dHVyZS5kaXJ0eUlkICE9PSB0ZXh0dXJlLmRpcnR5SWQpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50TG9jYXRpb24gIT09IGxvY2F0aW9uKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRMb2NhdGlvbiA9IGxvY2F0aW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCArIGxvY2F0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVRleHR1cmUodGV4dHVyZSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5ib3VuZFRleHR1cmVzW2xvY2F0aW9uXSA9IHRleHR1cmU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50TG9jYXRpb24gIT09IGxvY2F0aW9uKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudExvY2F0aW9uID0gbG9jYXRpb247XG4gICAgICAgICAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCArIGxvY2F0aW9uKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGhpcy5lbXB0eVRleHR1cmVzW2dsLlRFWFRVUkVfMkRdLnRleHR1cmUpO1xuICAgICAgICAgICAgdGhpcy5ib3VuZFRleHR1cmVzW2xvY2F0aW9uXSA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXNldHMgdGV4dHVyZSBsb2NhdGlvbiBhbmQgYm91bmQgdGV4dHVyZXNcbiAgICAgKlxuICAgICAqIEFjdHVhbCBgYmluZChudWxsLCBpKWAgY2FsbHMgd2lsbCBiZSBwZXJmb3JtZWQgYXQgbmV4dCBgdW5iaW5kKClgIGNhbGxcbiAgICAgKi9cbiAgICByZXNldCgpOiB2b2lkXG4gICAge1xuICAgICAgICB0aGlzLl91bmtub3duQm91bmRUZXh0dXJlcyA9IHRydWU7XG4gICAgICAgIHRoaXMuY3VycmVudExvY2F0aW9uID0gLTE7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmJvdW5kVGV4dHVyZXMubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuYm91bmRUZXh0dXJlc1tpXSA9IHRoaXMudW5rbm93blRleHR1cmU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVbmJpbmQgYSB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSB0ZXh0dXJlIC0gVGV4dHVyZSB0byBiaW5kXG4gICAgICovXG4gICAgdW5iaW5kKHRleHR1cmU/OiBCYXNlVGV4dHVyZSk6IHZvaWRcbiAgICB7XG4gICAgICAgIGNvbnN0IHsgZ2wsIGJvdW5kVGV4dHVyZXMgfSA9IHRoaXM7XG5cbiAgICAgICAgaWYgKHRoaXMuX3Vua25vd25Cb3VuZFRleHR1cmVzKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl91bmtub3duQm91bmRUZXh0dXJlcyA9IGZhbHNlO1xuICAgICAgICAgICAgLy8gc29tZW9uZSBjaGFuZ2VkIHdlYkdMIHN0YXRlLFxuICAgICAgICAgICAgLy8gd2UgaGF2ZSB0byBiZSBzdXJlIHRoYXQgb3VyIHRleHR1cmUgZG9lcyBub3QgYXBwZWFyIGluIG11bHRpLXRleHR1cmUgcmVuZGVyZXIgc2FtcGxlcnNcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYm91bmRUZXh0dXJlcy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoYm91bmRUZXh0dXJlc1tpXSA9PT0gdGhpcy51bmtub3duVGV4dHVyZSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYmluZChudWxsLCBpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJvdW5kVGV4dHVyZXMubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChib3VuZFRleHR1cmVzW2ldID09PSB0ZXh0dXJlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRMb2NhdGlvbiAhPT0gaSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGdsLmFjdGl2ZVRleHR1cmUoZ2wuVEVYVFVSRTAgKyBpKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50TG9jYXRpb24gPSBpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKHRleHR1cmUudGFyZ2V0LCB0aGlzLmVtcHR5VGV4dHVyZXNbdGV4dHVyZS50YXJnZXRdLnRleHR1cmUpO1xuICAgICAgICAgICAgICAgIGJvdW5kVGV4dHVyZXNbaV0gPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSBhIHRleHR1cmVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSB0ZXh0dXJlIC0gVGV4dHVyZSB0byBpbml0aWFsaXplXG4gICAgICovXG4gICAgaW5pdFRleHR1cmUodGV4dHVyZTogQmFzZVRleHR1cmUpOiBHTFRleHR1cmVcbiAgICB7XG4gICAgICAgIGNvbnN0IGdsVGV4dHVyZSA9IG5ldyBHTFRleHR1cmUodGhpcy5nbC5jcmVhdGVUZXh0dXJlKCkpO1xuXG4gICAgICAgIC8vIGd1YXJhbnRlZSBhbiB1cGRhdGUuLlxuICAgICAgICBnbFRleHR1cmUuZGlydHlJZCA9IC0xO1xuXG4gICAgICAgIHRleHR1cmUuX2dsVGV4dHVyZXNbdGhpcy5DT05URVhUX1VJRF0gPSBnbFRleHR1cmU7XG5cbiAgICAgICAgdGhpcy5tYW5hZ2VkVGV4dHVyZXMucHVzaCh0ZXh0dXJlKTtcbiAgICAgICAgdGV4dHVyZS5vbignZGlzcG9zZScsIHRoaXMuZGVzdHJveVRleHR1cmUsIHRoaXMpO1xuXG4gICAgICAgIHJldHVybiBnbFRleHR1cmU7XG4gICAgfVxuXG4gICAgaW5pdFRleHR1cmVUeXBlKHRleHR1cmU6IEJhc2VUZXh0dXJlLCBnbFRleHR1cmU6IEdMVGV4dHVyZSk6IHZvaWRcbiAgICB7XG4gICAgICAgIGdsVGV4dHVyZS5pbnRlcm5hbEZvcm1hdCA9IHRleHR1cmUuZm9ybWF0O1xuICAgICAgICBnbFRleHR1cmUudHlwZSA9IHRleHR1cmUudHlwZTtcbiAgICAgICAgaWYgKHRoaXMud2ViR0xWZXJzaW9uICE9PSAyKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuXG4gICAgICAgIGlmICh0ZXh0dXJlLnR5cGUgPT09IGdsLkZMT0FUXG4gICAgICAgICAgICAmJiB0ZXh0dXJlLmZvcm1hdCA9PT0gZ2wuUkdCQSlcbiAgICAgICAge1xuICAgICAgICAgICAgZ2xUZXh0dXJlLmludGVybmFsRm9ybWF0ID0gZ2wuUkdCQTMyRjtcbiAgICAgICAgfVxuICAgICAgICAvLyB0aGF0J3MgV2ViR0wxIEhBTEZfRkxPQVRfT0VTXG4gICAgICAgIC8vIHdlIGhhdmUgdG8gY29udmVydCBpdCB0byBXZWJHTCBIQUxGX0ZMT0FUXG4gICAgICAgIGlmICh0ZXh0dXJlLnR5cGUgPT09IFRZUEVTLkhBTEZfRkxPQVQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsVGV4dHVyZS50eXBlID0gZ2wuSEFMRl9GTE9BVDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZ2xUZXh0dXJlLnR5cGUgPT09IGdsLkhBTEZfRkxPQVRcbiAgICAgICAgICAgICYmIHRleHR1cmUuZm9ybWF0ID09PSBnbC5SR0JBKVxuICAgICAgICB7XG4gICAgICAgICAgICBnbFRleHR1cmUuaW50ZXJuYWxGb3JtYXQgPSBnbC5SR0JBMTZGO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlIGEgdGV4dHVyZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IHRleHR1cmUgLSBUZXh0dXJlIHRvIGluaXRpYWxpemVcbiAgICAgKi9cbiAgICB1cGRhdGVUZXh0dXJlKHRleHR1cmU6IEJhc2VUZXh0dXJlKTogdm9pZFxuICAgIHtcbiAgICAgICAgY29uc3QgZ2xUZXh0dXJlID0gdGV4dHVyZS5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXTtcblxuICAgICAgICBpZiAoIWdsVGV4dHVyZSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuXG4gICAgICAgIHRoaXMuaW5pdFRleHR1cmVUeXBlKHRleHR1cmUsIGdsVGV4dHVyZSk7XG5cbiAgICAgICAgaWYgKHRleHR1cmUucmVzb3VyY2UgJiYgdGV4dHVyZS5yZXNvdXJjZS51cGxvYWQocmVuZGVyZXIsIHRleHR1cmUsIGdsVGV4dHVyZSkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIHRleHR1cmUgaXMgdXBsb2FkZWQsIGRvbnQgZG8gYW55dGhpbmchXG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBkZWZhdWx0LCByZW5kZXJUZXh0dXJlLWxpa2UgbG9naWNcbiAgICAgICAgICAgIGNvbnN0IHdpZHRoID0gdGV4dHVyZS5yZWFsV2lkdGg7XG4gICAgICAgICAgICBjb25zdCBoZWlnaHQgPSB0ZXh0dXJlLnJlYWxIZWlnaHQ7XG4gICAgICAgICAgICBjb25zdCBnbCA9IHJlbmRlcmVyLmdsO1xuXG4gICAgICAgICAgICBpZiAoZ2xUZXh0dXJlLndpZHRoICE9PSB3aWR0aFxuICAgICAgICAgICAgICAgIHx8IGdsVGV4dHVyZS5oZWlnaHQgIT09IGhlaWdodFxuICAgICAgICAgICAgICAgIHx8IGdsVGV4dHVyZS5kaXJ0eUlkIDwgMClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBnbFRleHR1cmUud2lkdGggPSB3aWR0aDtcbiAgICAgICAgICAgICAgICBnbFRleHR1cmUuaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgICAgICAgICAgICAgZ2wudGV4SW1hZ2UyRCh0ZXh0dXJlLnRhcmdldCwgMCxcbiAgICAgICAgICAgICAgICAgICAgZ2xUZXh0dXJlLmludGVybmFsRm9ybWF0LFxuICAgICAgICAgICAgICAgICAgICB3aWR0aCxcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlLmZvcm1hdCxcbiAgICAgICAgICAgICAgICAgICAgZ2xUZXh0dXJlLnR5cGUsXG4gICAgICAgICAgICAgICAgICAgIG51bGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gbGV0cyBvbmx5IHVwZGF0ZSB3aGF0IGNoYW5nZXMuLlxuICAgICAgICBpZiAodGV4dHVyZS5kaXJ0eVN0eWxlSWQgIT09IGdsVGV4dHVyZS5kaXJ0eVN0eWxlSWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGV4dHVyZVN0eWxlKHRleHR1cmUpO1xuICAgICAgICB9XG4gICAgICAgIGdsVGV4dHVyZS5kaXJ0eUlkID0gdGV4dHVyZS5kaXJ0eUlkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlbGV0ZXMgdGhlIHRleHR1cmUgZnJvbSBXZWJHTFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV8UElYSS5UZXh0dXJlfSB0ZXh0dXJlXyAtIHRoZSB0ZXh0dXJlIHRvIGRlc3Ryb3lcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtza2lwUmVtb3ZlPWZhbHNlXSAtIFdoZXRoZXIgdG8gc2tpcCByZW1vdmluZyB0aGUgdGV4dHVyZSBmcm9tIHRoZSBUZXh0dXJlTWFuYWdlci5cbiAgICAgKi9cbiAgICBkZXN0cm95VGV4dHVyZSh0ZXh0dXJlOiBCYXNlVGV4dHVyZXxUZXh0dXJlLCBza2lwUmVtb3ZlPzogYm9vbGVhbik6IHZvaWRcbiAgICB7XG4gICAgICAgIGNvbnN0IHsgZ2wgfSA9IHRoaXM7XG5cbiAgICAgICAgdGV4dHVyZSA9IHRleHR1cmUuY2FzdFRvQmFzZVRleHR1cmUoKTtcblxuICAgICAgICBpZiAodGV4dHVyZS5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy51bmJpbmQodGV4dHVyZSk7XG5cbiAgICAgICAgICAgIGdsLmRlbGV0ZVRleHR1cmUodGV4dHVyZS5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXS50ZXh0dXJlKTtcbiAgICAgICAgICAgIHRleHR1cmUub2ZmKCdkaXNwb3NlJywgdGhpcy5kZXN0cm95VGV4dHVyZSwgdGhpcyk7XG5cbiAgICAgICAgICAgIGRlbGV0ZSB0ZXh0dXJlLl9nbFRleHR1cmVzW3RoaXMuQ09OVEVYVF9VSURdO1xuXG4gICAgICAgICAgICBpZiAoIXNraXBSZW1vdmUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgaSA9IHRoaXMubWFuYWdlZFRleHR1cmVzLmluZGV4T2YodGV4dHVyZSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoaSAhPT0gLTEpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZW1vdmVJdGVtcyh0aGlzLm1hbmFnZWRUZXh0dXJlcywgaSwgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlIHRleHR1cmUgc3R5bGUgc3VjaCBhcyBtaXBtYXAgZmxhZ1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IHRleHR1cmUgLSBUZXh0dXJlIHRvIHVwZGF0ZVxuICAgICAqL1xuICAgIHVwZGF0ZVRleHR1cmVTdHlsZSh0ZXh0dXJlOiBCYXNlVGV4dHVyZSk6IHZvaWRcbiAgICB7XG4gICAgICAgIGNvbnN0IGdsVGV4dHVyZSA9IHRleHR1cmUuX2dsVGV4dHVyZXNbdGhpcy5DT05URVhUX1VJRF07XG5cbiAgICAgICAgaWYgKCFnbFRleHR1cmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgodGV4dHVyZS5taXBtYXAgPT09IE1JUE1BUF9NT0RFUy5QT1cyIHx8IHRoaXMud2ViR0xWZXJzaW9uICE9PSAyKSAmJiAhdGV4dHVyZS5pc1Bvd2VyT2ZUd28pXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsVGV4dHVyZS5taXBtYXAgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsVGV4dHVyZS5taXBtYXAgPSB0ZXh0dXJlLm1pcG1hcCA+PSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMud2ViR0xWZXJzaW9uICE9PSAyICYmICF0ZXh0dXJlLmlzUG93ZXJPZlR3bylcbiAgICAgICAge1xuICAgICAgICAgICAgZ2xUZXh0dXJlLndyYXBNb2RlID0gV1JBUF9NT0RFUy5DTEFNUDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsVGV4dHVyZS53cmFwTW9kZSA9IHRleHR1cmUud3JhcE1vZGU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGV4dHVyZS5yZXNvdXJjZSAmJiB0ZXh0dXJlLnJlc291cmNlLnN0eWxlKHRoaXMucmVuZGVyZXIsIHRleHR1cmUsIGdsVGV4dHVyZSkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIHN0eWxlIGlzIHNldCwgZG9udCBkbyBhbnl0aGluZyFcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3R5bGUodGV4dHVyZSwgZ2xUZXh0dXJlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGdsVGV4dHVyZS5kaXJ0eVN0eWxlSWQgPSB0ZXh0dXJlLmRpcnR5U3R5bGVJZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgc3R5bGUgZm9yIHRleHR1cmVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSB0ZXh0dXJlIC0gVGV4dHVyZSB0byB1cGRhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuR0xUZXh0dXJlfSBnbFRleHR1cmVcbiAgICAgKi9cbiAgICBzZXRTdHlsZSh0ZXh0dXJlOiBCYXNlVGV4dHVyZSwgZ2xUZXh0dXJlOiBHTFRleHR1cmUpOiB2b2lkXG4gICAge1xuICAgICAgICBjb25zdCBnbCA9IHRoaXMuZ2w7XG5cbiAgICAgICAgaWYgKGdsVGV4dHVyZS5taXBtYXApXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsLmdlbmVyYXRlTWlwbWFwKHRleHR1cmUudGFyZ2V0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGdsLnRleFBhcmFtZXRlcmkodGV4dHVyZS50YXJnZXQsIGdsLlRFWFRVUkVfV1JBUF9TLCBnbFRleHR1cmUud3JhcE1vZGUpO1xuICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKHRleHR1cmUudGFyZ2V0LCBnbC5URVhUVVJFX1dSQVBfVCwgZ2xUZXh0dXJlLndyYXBNb2RlKTtcblxuICAgICAgICBpZiAoZ2xUZXh0dXJlLm1pcG1hcClcbiAgICAgICAge1xuICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuICAgICAgICAgICAgZ2wudGV4UGFyYW1ldGVyaSh0ZXh0dXJlLnRhcmdldCwgZ2wuVEVYVFVSRV9NSU5fRklMVEVSLCB0ZXh0dXJlLnNjYWxlTW9kZSA9PT0gU0NBTEVfTU9ERVMuTElORUFSID8gZ2wuTElORUFSX01JUE1BUF9MSU5FQVIgOiBnbC5ORUFSRVNUX01JUE1BUF9ORUFSRVNUKTtcbiAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cblxuICAgICAgICAgICAgY29uc3QgYW5pc290cm9waWNFeHQgPSB0aGlzLnJlbmRlcmVyLmNvbnRleHQuZXh0ZW5zaW9ucy5hbmlzb3Ryb3BpY0ZpbHRlcmluZztcblxuICAgICAgICAgICAgaWYgKGFuaXNvdHJvcGljRXh0ICYmIHRleHR1cmUuYW5pc290cm9waWNMZXZlbCA+IDAgJiYgdGV4dHVyZS5zY2FsZU1vZGUgPT09IFNDQUxFX01PREVTLkxJTkVBUilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsZXZlbCA9IE1hdGgubWluKHRleHR1cmUuYW5pc290cm9waWNMZXZlbCwgZ2wuZ2V0UGFyYW1ldGVyKGFuaXNvdHJvcGljRXh0Lk1BWF9URVhUVVJFX01BWF9BTklTT1RST1BZX0VYVCkpO1xuXG4gICAgICAgICAgICAgICAgZ2wudGV4UGFyYW1ldGVyZih0ZXh0dXJlLnRhcmdldCwgYW5pc290cm9waWNFeHQuVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFQsIGxldmVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsLnRleFBhcmFtZXRlcmkodGV4dHVyZS50YXJnZXQsIGdsLlRFWFRVUkVfTUlOX0ZJTFRFUiwgdGV4dHVyZS5zY2FsZU1vZGUgPT09IFNDQUxFX01PREVTLkxJTkVBUiA/IGdsLkxJTkVBUiA6IGdsLk5FQVJFU1QpO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2wudGV4UGFyYW1ldGVyaSh0ZXh0dXJlLnRhcmdldCwgZ2wuVEVYVFVSRV9NQUdfRklMVEVSLCB0ZXh0dXJlLnNjYWxlTW9kZSA9PT0gU0NBTEVfTU9ERVMuTElORUFSID8gZ2wuTElORUFSIDogZ2wuTkVBUkVTVCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgaGV4MnN0cmluZywgaGV4MnJnYiwgZGVwcmVjYXRpb24sIEV2ZW50RW1pdHRlciB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCB7IE1hdHJpeCwgUmVjdGFuZ2xlIH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyBSRU5ERVJFUl9UWVBFIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuaW1wb3J0IHsgRGlzcGxheU9iamVjdCB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuaW1wb3J0IHsgUmVuZGVyVGV4dHVyZSB9IGZyb20gJy4vcmVuZGVyVGV4dHVyZS9SZW5kZXJUZXh0dXJlJztcblxuaW1wb3J0IHR5cGUgeyBTQ0FMRV9NT0RFUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5pbXBvcnQgdHlwZSB7IElSZW5kZXJpbmdDb250ZXh0IH0gZnJvbSAnLi9JUmVuZGVyaW5nQ29udGV4dCc7XG5pbXBvcnQgdHlwZSB7IENvbnRhaW5lciB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuXG5jb25zdCB0ZW1wTWF0cml4ID0gbmV3IE1hdHJpeCgpO1xuXG5leHBvcnQgaW50ZXJmYWNlIElSZW5kZXJlck9wdGlvbnMgZXh0ZW5kcyBHbG9iYWxNaXhpbnMuSVJlbmRlcmVyT3B0aW9uc1xue1xuICAgIHdpZHRoPzogbnVtYmVyO1xuICAgIGhlaWdodD86IG51bWJlcjtcbiAgICB2aWV3PzogSFRNTENhbnZhc0VsZW1lbnQ7XG4gICAgdHJhbnNwYXJlbnQ/OiBib29sZWFuIHwgJ25vdE11bHRpcGxpZWQnO1xuICAgIGF1dG9EZW5zaXR5PzogYm9vbGVhbjtcbiAgICBhbnRpYWxpYXM/OiBib29sZWFuO1xuICAgIHJlc29sdXRpb24/OiBudW1iZXI7XG4gICAgcHJlc2VydmVEcmF3aW5nQnVmZmVyPzogYm9vbGVhbjtcbiAgICBjbGVhckJlZm9yZVJlbmRlcj86IGJvb2xlYW47XG4gICAgYmFja2dyb3VuZENvbG9yPzogbnVtYmVyO1xuICAgIHBvd2VyUHJlZmVyZW5jZT86IFdlYkdMUG93ZXJQcmVmZXJlbmNlO1xuICAgIGNvbnRleHQ/OiBJUmVuZGVyaW5nQ29udGV4dDtcbn1cblxuaW50ZXJmYWNlIElSZW5kZXJlck9wdGlvbnNMZWdhY3kgZXh0ZW5kcyBJUmVuZGVyZXJPcHRpb25zXG57XG4gICAgYXV0b1Jlc2l6ZT86IGJvb2xlYW47XG4gICAgcm91bmRQaXhlbHM/OiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElSZW5kZXJlclBsdWdpbnNcbntcbiAgICBba2V5OiBzdHJpbmddOiBhbnk7XG59XG5cbi8qKlxuICogVGhlIEFic3RyYWN0UmVuZGVyZXIgaXMgdGhlIGJhc2UgZm9yIGEgUGl4aUpTIFJlbmRlcmVyLiBJdCBpcyBleHRlbmRlZCBieSB0aGUge0BsaW5rIFBJWEkuQ2FudmFzUmVuZGVyZXJ9XG4gKiBhbmQge0BsaW5rIFBJWEkuUmVuZGVyZXJ9IHdoaWNoIGNhbiBiZSB1c2VkIGZvciByZW5kZXJpbmcgYSBQaXhpSlMgc2NlbmUuXG4gKlxuICogQGFic3RyYWN0XG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkudXRpbHMuRXZlbnRFbWl0dGVyXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQWJzdHJhY3RSZW5kZXJlciBleHRlbmRzIEV2ZW50RW1pdHRlclxue1xuICAgIHB1YmxpYyByZXNvbHV0aW9uOiBudW1iZXI7XG4gICAgcHVibGljIGNsZWFyQmVmb3JlUmVuZGVyPzogYm9vbGVhbjtcbiAgICBwdWJsaWMgcmVhZG9ubHkgb3B0aW9uczogSVJlbmRlcmVyT3B0aW9ucztcbiAgICBwdWJsaWMgcmVhZG9ubHkgdHlwZTogUkVOREVSRVJfVFlQRTtcbiAgICBwdWJsaWMgcmVhZG9ubHkgc2NyZWVuOiBSZWN0YW5nbGU7XG4gICAgcHVibGljIHJlYWRvbmx5IHZpZXc6IEhUTUxDYW52YXNFbGVtZW50O1xuICAgIHB1YmxpYyByZWFkb25seSBwbHVnaW5zOiBJUmVuZGVyZXJQbHVnaW5zO1xuICAgIHB1YmxpYyByZWFkb25seSB0cmFuc3BhcmVudDogYm9vbGVhbiB8ICdub3RNdWx0aXBsaWVkJztcbiAgICBwdWJsaWMgcmVhZG9ubHkgYXV0b0RlbnNpdHk6IGJvb2xlYW47XG4gICAgcHVibGljIHJlYWRvbmx5IHByZXNlcnZlRHJhd2luZ0J1ZmZlcjogYm9vbGVhbjtcblxuICAgIHByb3RlY3RlZCBfYmFja2dyb3VuZENvbG9yOiBudW1iZXI7XG4gICAgcHJvdGVjdGVkIF9iYWNrZ3JvdW5kQ29sb3JTdHJpbmc6IHN0cmluZztcbiAgICBfYmFja2dyb3VuZENvbG9yUmdiYTogbnVtYmVyW107XG4gICAgX2xhc3RPYmplY3RSZW5kZXJlZDogRGlzcGxheU9iamVjdDtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzeXN0ZW0gLSBUaGUgbmFtZSBvZiB0aGUgc3lzdGVtIHRoaXMgcmVuZGVyZXIgaXMgZm9yLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBUaGUgb3B0aW9uYWwgcmVuZGVyZXIgcGFyYW1ldGVycy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGg9ODAwXSAtIFRoZSB3aWR0aCBvZiB0aGUgc2NyZWVuLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5oZWlnaHQ9NjAwXSAtIFRoZSBoZWlnaHQgb2YgdGhlIHNjcmVlbi5cbiAgICAgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBbb3B0aW9ucy52aWV3XSAtIFRoZSBjYW52YXMgdG8gdXNlIGFzIGEgdmlldywgb3B0aW9uYWwuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50cmFuc3BhcmVudD1mYWxzZV0gLSBJZiB0aGUgcmVuZGVyIHZpZXcgaXMgdHJhbnNwYXJlbnQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hdXRvRGVuc2l0eT1mYWxzZV0gLSBSZXNpemVzIHJlbmRlcmVyIHZpZXcgaW4gQ1NTIHBpeGVscyB0byBhbGxvdyBmb3JcbiAgICAgKiAgIHJlc29sdXRpb25zIG90aGVyIHRoYW4gMS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmFudGlhbGlhcz1mYWxzZV0gLSBTZXRzIGFudGlhbGlhc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5yZXNvbHV0aW9uPTFdIC0gVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHJlbmRlcmVyLiBUaGVcbiAgICAgKiAgcmVzb2x1dGlvbiBvZiB0aGUgcmVuZGVyZXIgcmV0aW5hIHdvdWxkIGJlIDIuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5wcmVzZXJ2ZURyYXdpbmdCdWZmZXI9ZmFsc2VdIC0gRW5hYmxlcyBkcmF3aW5nIGJ1ZmZlciBwcmVzZXJ2YXRpb24sXG4gICAgICogIGVuYWJsZSB0aGlzIGlmIHlvdSBuZWVkIHRvIGNhbGwgdG9EYXRhVXJsIG9uIHRoZSBXZWJHTCBjb250ZXh0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2xlYXJCZWZvcmVSZW5kZXI9dHJ1ZV0gLSBUaGlzIHNldHMgaWYgdGhlIHJlbmRlcmVyIHdpbGwgY2xlYXIgdGhlIGNhbnZhcyBvclxuICAgICAqICAgICAgbm90IGJlZm9yZSB0aGUgbmV3IHJlbmRlciBwYXNzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3I9MHgwMDAwMDBdIC0gVGhlIGJhY2tncm91bmQgY29sb3Igb2YgdGhlIHJlbmRlcmVkIGFyZWFcbiAgICAgKiAgKHNob3duIGlmIG5vdCB0cmFuc3BhcmVudCkuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IodHlwZTogUkVOREVSRVJfVFlQRSA9IFJFTkRFUkVSX1RZUEUuVU5LTk9XTiwgb3B0aW9ucz86IElSZW5kZXJlck9wdGlvbnMpXG4gICAge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIC8vIEFkZCB0aGUgZGVmYXVsdCByZW5kZXIgb3B0aW9uc1xuICAgICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgc2V0dGluZ3MuUkVOREVSX09QVElPTlMsIG9wdGlvbnMpO1xuXG4gICAgICAgIC8vIERlcHJlY2F0aW9uIG5vdGljZSBmb3IgcmVuZGVyZXIgcm91bmRQaXhlbHMgb3B0aW9uXG4gICAgICAgIGlmICgob3B0aW9ucyBhcyBJUmVuZGVyZXJPcHRpb25zTGVnYWN5KS5yb3VuZFBpeGVscylcbiAgICAgICAge1xuICAgICAgICAgICAgc2V0dGluZ3MuUk9VTkRfUElYRUxTID0gKG9wdGlvbnMgYXMgSVJlbmRlcmVyT3B0aW9uc0xlZ2FjeSkucm91bmRQaXhlbHM7XG4gICAgICAgICAgICBkZXByZWNhdGlvbignNS4wLjAnLCAnUmVuZGVyZXIgcm91bmRQaXhlbHMgb3B0aW9uIGlzIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgUElYSS5zZXR0aW5ncy5ST1VORF9QSVhFTFMnLCAyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc3VwcGxpZWQgY29uc3RydWN0b3Igb3B0aW9ucy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7T2JqZWN0fVxuICAgICAgICAgKiBAcmVhZE9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0eXBlIG9mIHRoZSByZW5kZXJlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLlJFTkRFUkVSX1RZUEUuVU5LTk9XTlxuICAgICAgICAgKiBAc2VlIFBJWEkuUkVOREVSRVJfVFlQRVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTWVhc3VyZW1lbnRzIG9mIHRoZSBzY3JlZW4uICgwLCAwLCBzY3JlZW5XaWR0aCwgc2NyZWVuSGVpZ2h0KS5cbiAgICAgICAgICpcbiAgICAgICAgICogSXRzIHNhZmUgdG8gdXNlIGFzIGZpbHRlckFyZWEgb3IgaGl0QXJlYSBmb3IgdGhlIHdob2xlIHN0YWdlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2NyZWVuID0gbmV3IFJlY3RhbmdsZSgwLCAwLCBvcHRpb25zLndpZHRoLCBvcHRpb25zLmhlaWdodCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjYW52YXMgZWxlbWVudCB0aGF0IGV2ZXJ5dGhpbmcgaXMgZHJhd24gdG8uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0hUTUxDYW52YXNFbGVtZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy52aWV3ID0gb3B0aW9ucy52aWV3IHx8IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgcmVuZGVyZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZXNvbHV0aW9uID0gb3B0aW9ucy5yZXNvbHV0aW9uIHx8IHNldHRpbmdzLlJFU09MVVRJT047XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgdGhlIHJlbmRlciB2aWV3IGlzIHRyYW5zcGFyZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50cmFuc3BhcmVudCA9IG9wdGlvbnMudHJhbnNwYXJlbnQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgQ1NTIGRpbWVuc2lvbnMgb2YgY2FudmFzIHZpZXcgc2hvdWxkIGJlIHJlc2l6ZWQgdG8gc2NyZWVuIGRpbWVuc2lvbnMgYXV0b21hdGljYWxseS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYXV0b0RlbnNpdHkgPSBvcHRpb25zLmF1dG9EZW5zaXR5IHx8IChvcHRpb25zIGFzIElSZW5kZXJlck9wdGlvbnNMZWdhY3kpLmF1dG9SZXNpemUgfHwgZmFsc2U7XG4gICAgICAgIC8vIGF1dG9SZXNpemUgaXMgZGVwcmVjYXRlZCwgcHJvdmlkZXMgZmFsbGJhY2sgc3VwcG9ydFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdmFsdWUgb2YgdGhlIHByZXNlcnZlRHJhd2luZ0J1ZmZlciBmbGFnIGFmZmVjdHMgd2hldGhlciBvciBub3QgdGhlIGNvbnRlbnRzIG9mXG4gICAgICAgICAqIHRoZSBzdGVuY2lsIGJ1ZmZlciBpcyByZXRhaW5lZCBhZnRlciByZW5kZXJpbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnByZXNlcnZlRHJhd2luZ0J1ZmZlciA9IG9wdGlvbnMucHJlc2VydmVEcmF3aW5nQnVmZmVyO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIHNldHMgaWYgdGhlIENhbnZhc1JlbmRlcmVyIHdpbGwgY2xlYXIgdGhlIGNhbnZhcyBvciBub3QgYmVmb3JlIHRoZSBuZXcgcmVuZGVyIHBhc3MuXG4gICAgICAgICAqIElmIHRoZSBzY2VuZSBpcyBOT1QgdHJhbnNwYXJlbnQgUGl4aUpTIHdpbGwgdXNlIGEgY2FudmFzIHNpemVkIGZpbGxSZWN0IG9wZXJhdGlvbiBldmVyeVxuICAgICAgICAgKiBmcmFtZSB0byBzZXQgdGhlIGNhbnZhcyBiYWNrZ3JvdW5kIGNvbG9yLiBJZiB0aGUgc2NlbmUgaXMgdHJhbnNwYXJlbnQgUGl4aUpTIHdpbGwgdXNlIGNsZWFyUmVjdFxuICAgICAgICAgKiB0byBjbGVhciB0aGUgY2FudmFzIGV2ZXJ5IGZyYW1lLiBEaXNhYmxlIHRoaXMgYnkgc2V0dGluZyB0aGlzIHRvIGZhbHNlLiBGb3IgZXhhbXBsZSwgaWZcbiAgICAgICAgICogeW91ciBnYW1lIGhhcyBhIGNhbnZhcyBmaWxsaW5nIGJhY2tncm91bmQgaW1hZ2UgeW91IG9mdGVuIGRvbid0IG5lZWQgdGhpcyBzZXQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNsZWFyQmVmb3JlUmVuZGVyID0gb3B0aW9ucy5jbGVhckJlZm9yZVJlbmRlcjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJhY2tncm91bmQgY29sb3IgYXMgYSBudW1iZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYmFja2dyb3VuZENvbG9yID0gMHgwMDAwMDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBiYWNrZ3JvdW5kIGNvbG9yIGFzIGFuIFtSLCBHLCBCXSBhcnJheS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2JhY2tncm91bmRDb2xvclJnYmEgPSBbMCwgMCwgMCwgMF07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBiYWNrZ3JvdW5kIGNvbG9yIGFzIGEgc3RyaW5nLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2JhY2tncm91bmRDb2xvclN0cmluZyA9ICcjMDAwMDAwJztcblxuICAgICAgICB0aGlzLmJhY2tncm91bmRDb2xvciA9IG9wdGlvbnMuYmFja2dyb3VuZENvbG9yIHx8IHRoaXMuX2JhY2tncm91bmRDb2xvcjsgLy8gcnVuIGJnIGNvbG9yIHNldHRlclxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbGFzdCByb290IG9iamVjdCB0aGF0IHRoZSByZW5kZXJlciB0cmllZCB0byByZW5kZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuRGlzcGxheU9iamVjdH1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fbGFzdE9iamVjdFJlbmRlcmVkID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiBwbHVnaW5zLlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wbHVnaW5zID0ge307XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSB0aGUgcGx1Z2lucy5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gc3RhdGljTWFwIC0gVGhlIGRpY3Rpb25hcnkgb2Ygc3RhdGljYWxseSBzYXZlZCBwbHVnaW5zLlxuICAgICAqL1xuICAgIGluaXRQbHVnaW5zKHN0YXRpY01hcDogSVJlbmRlcmVyUGx1Z2lucyk6IHZvaWRcbiAgICB7XG4gICAgICAgIGZvciAoY29uc3QgbyBpbiBzdGF0aWNNYXApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucGx1Z2luc1tvXSA9IG5ldyAoc3RhdGljTWFwW29dKSh0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNhbWUgYXMgdmlldy53aWR0aCwgYWN0dWFsIG51bWJlciBvZiBwaXhlbHMgaW4gdGhlIGNhbnZhcyBieSBob3Jpem9udGFsLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBkZWZhdWx0IDgwMFxuICAgICAqL1xuICAgIGdldCB3aWR0aCgpOiBudW1iZXJcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcud2lkdGg7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2FtZSBhcyB2aWV3LmhlaWdodCwgYWN0dWFsIG51bWJlciBvZiBwaXhlbHMgaW4gdGhlIGNhbnZhcyBieSB2ZXJ0aWNhbC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAZGVmYXVsdCA2MDBcbiAgICAgKi9cbiAgICBnZXQgaGVpZ2h0KCk6IG51bWJlclxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlldy5oZWlnaHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVzaXplcyB0aGUgc2NyZWVuIGFuZCBjYW52YXMgdG8gdGhlIHNwZWNpZmllZCB3aWR0aCBhbmQgaGVpZ2h0LlxuICAgICAqIENhbnZhcyBkaW1lbnNpb25zIGFyZSBtdWx0aXBsaWVkIGJ5IHJlc29sdXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NyZWVuV2lkdGggLSBUaGUgbmV3IHdpZHRoIG9mIHRoZSBzY3JlZW4uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNjcmVlbkhlaWdodCAtIFRoZSBuZXcgaGVpZ2h0IG9mIHRoZSBzY3JlZW4uXG4gICAgICovXG4gICAgcmVzaXplKHNjcmVlbldpZHRoOiBudW1iZXIsIHNjcmVlbkhlaWdodDogbnVtYmVyKTogdm9pZFxuICAgIHtcbiAgICAgICAgdGhpcy5zY3JlZW4ud2lkdGggPSBzY3JlZW5XaWR0aDtcbiAgICAgICAgdGhpcy5zY3JlZW4uaGVpZ2h0ID0gc2NyZWVuSGVpZ2h0O1xuXG4gICAgICAgIHRoaXMudmlldy53aWR0aCA9IHNjcmVlbldpZHRoICogdGhpcy5yZXNvbHV0aW9uO1xuICAgICAgICB0aGlzLnZpZXcuaGVpZ2h0ID0gc2NyZWVuSGVpZ2h0ICogdGhpcy5yZXNvbHV0aW9uO1xuXG4gICAgICAgIGlmICh0aGlzLmF1dG9EZW5zaXR5KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnZpZXcuc3R5bGUud2lkdGggPSBgJHtzY3JlZW5XaWR0aH1weGA7XG4gICAgICAgICAgICB0aGlzLnZpZXcuc3R5bGUuaGVpZ2h0ID0gYCR7c2NyZWVuSGVpZ2h0fXB4YDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCBhZnRlciB2aWV3IGhhcyBiZWVuIHJlc2l6ZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLlJlbmRlcmVyI3Jlc2l6ZVxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NyZWVuV2lkdGggLSBUaGUgbmV3IHdpZHRoIG9mIHRoZSBzY3JlZW4uXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY3JlZW5IZWlnaHQgLSBUaGUgbmV3IGhlaWdodCBvZiB0aGUgc2NyZWVuLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5lbWl0KCdyZXNpemUnLCBzY3JlZW5XaWR0aCwgc2NyZWVuSGVpZ2h0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVc2VmdWwgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgdGV4dHVyZSBvZiB0aGUgZGlzcGxheSBvYmplY3QgdGhhdCBjYW4gdGhlbiBiZSB1c2VkIHRvIGNyZWF0ZSBzcHJpdGVzXG4gICAgICogVGhpcyBjYW4gYmUgcXVpdGUgdXNlZnVsIGlmIHlvdXIgZGlzcGxheU9iamVjdCBpcyBjb21wbGljYXRlZCBhbmQgbmVlZHMgdG8gYmUgcmV1c2VkIG11bHRpcGxlIHRpbWVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGRpc3BsYXlPYmplY3QgLSBUaGUgZGlzcGxheU9iamVjdCB0aGUgb2JqZWN0IHdpbGwgYmUgZ2VuZXJhdGVkIGZyb20uXG4gICAgICogQHBhcmFtIHtQSVhJLlNDQUxFX01PREVTfSBzY2FsZU1vZGUgLSBUaGUgc2NhbGUgbW9kZSBvZiB0aGUgdGV4dHVyZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiAtIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSB0ZXh0dXJlIGJlaW5nIGdlbmVyYXRlZC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBbcmVnaW9uXSAtIFRoZSByZWdpb24gb2YgdGhlIGRpc3BsYXlPYmplY3QsIHRoYXQgc2hhbGwgYmUgcmVuZGVyZWQsXG4gICAgICogICAgICAgIGlmIG5vIHJlZ2lvbiBpcyBzcGVjaWZpZWQsIGRlZmF1bHRzIHRvIHRoZSBsb2NhbCBib3VuZHMgb2YgdGhlIGRpc3BsYXlPYmplY3QuXG4gICAgICogQHJldHVybiB7UElYSS5SZW5kZXJUZXh0dXJlfSBBIHRleHR1cmUgb2YgdGhlIGdyYXBoaWNzIG9iamVjdC5cbiAgICAgKi9cbiAgICBnZW5lcmF0ZVRleHR1cmUoZGlzcGxheU9iamVjdDogRGlzcGxheU9iamVjdCxcbiAgICAgICAgc2NhbGVNb2RlPzogU0NBTEVfTU9ERVMsIHJlc29sdXRpb24/OiBudW1iZXIsIHJlZ2lvbj86IFJlY3RhbmdsZSk6IFJlbmRlclRleHR1cmVcbiAgICB7XG4gICAgICAgIHJlZ2lvbiA9IHJlZ2lvbiB8fCAoZGlzcGxheU9iamVjdCBhcyBDb250YWluZXIpLmdldExvY2FsQm91bmRzKG51bGwsIHRydWUpO1xuXG4gICAgICAgIC8vIG1pbmltdW0gdGV4dHVyZSBzaXplIGlzIDF4MSwgMHgwIHdpbGwgdGhyb3cgYW4gZXJyb3JcbiAgICAgICAgaWYgKHJlZ2lvbi53aWR0aCA9PT0gMCkgcmVnaW9uLndpZHRoID0gMTtcbiAgICAgICAgaWYgKHJlZ2lvbi5oZWlnaHQgPT09IDApIHJlZ2lvbi5oZWlnaHQgPSAxO1xuXG4gICAgICAgIGNvbnN0IHJlbmRlclRleHR1cmUgPSBSZW5kZXJUZXh0dXJlLmNyZWF0ZShcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB3aWR0aDogcmVnaW9uLndpZHRoIHwgMCxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IHJlZ2lvbi5oZWlnaHQgfCAwLFxuICAgICAgICAgICAgICAgIHNjYWxlTW9kZSxcbiAgICAgICAgICAgICAgICByZXNvbHV0aW9uLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgdGVtcE1hdHJpeC50eCA9IC1yZWdpb24ueDtcbiAgICAgICAgdGVtcE1hdHJpeC50eSA9IC1yZWdpb24ueTtcblxuICAgICAgICB0aGlzLnJlbmRlcihkaXNwbGF5T2JqZWN0LCByZW5kZXJUZXh0dXJlLCBmYWxzZSwgdGVtcE1hdHJpeCwgISFkaXNwbGF5T2JqZWN0LnBhcmVudCk7XG5cbiAgICAgICAgcmV0dXJuIHJlbmRlclRleHR1cmU7XG4gICAgfVxuXG4gICAgYWJzdHJhY3QgcmVuZGVyKGRpc3BsYXlPYmplY3Q6IERpc3BsYXlPYmplY3QsIHJlbmRlclRleHR1cmU/OiBSZW5kZXJUZXh0dXJlLFxuICAgICAgICAgICAgICAgICAgICBjbGVhcj86IGJvb2xlYW4sIHRyYW5zZm9ybT86IE1hdHJpeCwgc2tpcFVwZGF0ZVRyYW5zZm9ybT86IGJvb2xlYW4pOiB2b2lkO1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBldmVyeXRoaW5nIGZyb20gdGhlIHJlbmRlcmVyIGFuZCBvcHRpb25hbGx5IHJlbW92ZXMgdGhlIENhbnZhcyBET00gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3JlbW92ZVZpZXc9ZmFsc2VdIC0gUmVtb3ZlcyB0aGUgQ2FudmFzIGVsZW1lbnQgZnJvbSB0aGUgRE9NLlxuICAgICAqL1xuICAgIGRlc3Ryb3kocmVtb3ZlVmlldz86IGJvb2xlYW4pOiB2b2lkXG4gICAge1xuICAgICAgICBmb3IgKGNvbnN0IG8gaW4gdGhpcy5wbHVnaW5zKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbnNbb10uZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5wbHVnaW5zW29dID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZW1vdmVWaWV3ICYmIHRoaXMudmlldy5wYXJlbnROb2RlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnZpZXcucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLnZpZXcpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdGhpc0FueSA9IHRoaXMgYXMgYW55O1xuXG4gICAgICAgIC8vIG51bGwtaW5nIGFsbCBvYmplY3RzLCB0aGF0J3MgYSB0cmFkaXRpb24hXG5cbiAgICAgICAgdGhpc0FueS5wbHVnaW5zID0gbnVsbDtcbiAgICAgICAgdGhpc0FueS50eXBlID0gUkVOREVSRVJfVFlQRS5VTktOT1dOO1xuICAgICAgICB0aGlzQW55LnZpZXcgPSBudWxsO1xuICAgICAgICB0aGlzQW55LnNjcmVlbiA9IG51bGw7XG4gICAgICAgIHRoaXNBbnkuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50ID0gbnVsbDtcbiAgICAgICAgdGhpc0FueS5vcHRpb25zID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYmFja2dyb3VuZENvbG9yUmdiYSA9IG51bGw7XG4gICAgICAgIHRoaXMuX2JhY2tncm91bmRDb2xvclN0cmluZyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2xhc3RPYmplY3RSZW5kZXJlZCA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhY2tncm91bmQgY29sb3IgdG8gZmlsbCBpZiBub3QgdHJhbnNwYXJlbnRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgYmFja2dyb3VuZENvbG9yKCk6IG51bWJlclxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2JhY2tncm91bmRDb2xvcjtcbiAgICB9XG5cbiAgICBzZXQgYmFja2dyb3VuZENvbG9yKHZhbHVlOiBudW1iZXIpXG4gICAge1xuICAgICAgICB0aGlzLl9iYWNrZ3JvdW5kQ29sb3IgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5fYmFja2dyb3VuZENvbG9yU3RyaW5nID0gaGV4MnN0cmluZyh2YWx1ZSk7XG4gICAgICAgIGhleDJyZ2IodmFsdWUsIHRoaXMuX2JhY2tncm91bmRDb2xvclJnYmEpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEFic3RyYWN0UmVuZGVyZXIgfSBmcm9tICcuL0Fic3RyYWN0UmVuZGVyZXInO1xuaW1wb3J0IHsgc2F5SGVsbG8sIGlzV2ViR0xTdXBwb3J0ZWQgfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgeyBNYXNrU3lzdGVtIH0gZnJvbSAnLi9tYXNrL01hc2tTeXN0ZW0nO1xuaW1wb3J0IHsgU3RlbmNpbFN5c3RlbSB9IGZyb20gJy4vbWFzay9TdGVuY2lsU3lzdGVtJztcbmltcG9ydCB7IFNjaXNzb3JTeXN0ZW0gfSBmcm9tICcuL21hc2svU2Npc3NvclN5c3RlbSc7XG5pbXBvcnQgeyBGaWx0ZXJTeXN0ZW0gfSBmcm9tICcuL2ZpbHRlcnMvRmlsdGVyU3lzdGVtJztcbmltcG9ydCB7IEZyYW1lYnVmZmVyU3lzdGVtIH0gZnJvbSAnLi9mcmFtZWJ1ZmZlci9GcmFtZWJ1ZmZlclN5c3RlbSc7XG5pbXBvcnQgeyBSZW5kZXJUZXh0dXJlU3lzdGVtIH0gZnJvbSAnLi9yZW5kZXJUZXh0dXJlL1JlbmRlclRleHR1cmVTeXN0ZW0nO1xuaW1wb3J0IHsgVGV4dHVyZVN5c3RlbSB9IGZyb20gJy4vdGV4dHVyZXMvVGV4dHVyZVN5c3RlbSc7XG5pbXBvcnQgeyBQcm9qZWN0aW9uU3lzdGVtIH0gZnJvbSAnLi9wcm9qZWN0aW9uL1Byb2plY3Rpb25TeXN0ZW0nO1xuaW1wb3J0IHsgU3RhdGVTeXN0ZW0gfSBmcm9tICcuL3N0YXRlL1N0YXRlU3lzdGVtJztcbmltcG9ydCB7IEdlb21ldHJ5U3lzdGVtIH0gZnJvbSAnLi9nZW9tZXRyeS9HZW9tZXRyeVN5c3RlbSc7XG5pbXBvcnQgeyBTaGFkZXJTeXN0ZW0gfSBmcm9tICcuL3NoYWRlci9TaGFkZXJTeXN0ZW0nO1xuaW1wb3J0IHsgQ29udGV4dFN5c3RlbSB9IGZyb20gJy4vY29udGV4dC9Db250ZXh0U3lzdGVtJztcbmltcG9ydCB7IEJhdGNoU3lzdGVtIH0gZnJvbSAnLi9iYXRjaC9CYXRjaFN5c3RlbSc7XG5pbXBvcnQgeyBUZXh0dXJlR0NTeXN0ZW0gfSBmcm9tICcuL3RleHR1cmVzL1RleHR1cmVHQ1N5c3RlbSc7XG5pbXBvcnQgeyBSRU5ERVJFUl9UWVBFIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmltcG9ydCB7IFVuaWZvcm1Hcm91cCB9IGZyb20gJy4vc2hhZGVyL1VuaWZvcm1Hcm91cCc7XG5pbXBvcnQgeyBNYXRyaXggfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB7IFJ1bm5lciB9IGZyb20gJ0BwaXhpL3J1bm5lcic7XG5cbmltcG9ydCB0eXBlIHsgSVJlbmRlcmVyT3B0aW9ucywgSVJlbmRlcmVyUGx1Z2lucyB9IGZyb20gJy4vQWJzdHJhY3RSZW5kZXJlcic7XG5pbXBvcnQgdHlwZSB7IFJlbmRlclRleHR1cmUgfSBmcm9tICcuL3JlbmRlclRleHR1cmUvUmVuZGVyVGV4dHVyZSc7XG5pbXBvcnQgdHlwZSB7IERpc3BsYXlPYmplY3QgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcbmltcG9ydCB0eXBlIHsgU3lzdGVtIH0gZnJvbSAnLi9TeXN0ZW0nO1xuaW1wb3J0IHR5cGUgeyBJUmVuZGVyaW5nQ29udGV4dCB9IGZyb20gJy4vSVJlbmRlcmluZ0NvbnRleHQnO1xuaW1wb3J0IHR5cGUgeyBFeHRyYWN0IH0gZnJvbSAnQHBpeGkvZXh0cmFjdCc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVJlbmRlcmVyUGx1Z2luQ29uc3RydWN0b3Ige1xuICAgIG5ldyAocmVuZGVyZXI6IFJlbmRlcmVyLCBvcHRpb25zPzogYW55KTogSVJlbmRlcmVyUGx1Z2luO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElSZW5kZXJlclBsdWdpbiB7XG4gICAgZGVzdHJveSgpOiB2b2lkO1xufVxuXG4vKipcbiAqIFRoZSBSZW5kZXJlciBkcmF3cyB0aGUgc2NlbmUgYW5kIGFsbCBpdHMgY29udGVudCBvbnRvIGEgV2ViR0wgZW5hYmxlZCBjYW52YXMuXG4gKlxuICogVGhpcyByZW5kZXJlciBzaG91bGQgYmUgdXNlZCBmb3IgYnJvd3NlcnMgdGhhdCBzdXBwb3J0IFdlYkdMLlxuICpcbiAqIFRoaXMgcmVuZGVyZXIgd29ya3MgYnkgYXV0b21hdGljYWxseSBtYW5hZ2luZyBXZWJHTEJhdGNoZXNtLCBzbyBubyBuZWVkIGZvciBTcHJpdGUgQmF0Y2hlcyBvciBTcHJpdGUgQ2xvdWRzLlxuICogRG9uJ3QgZm9yZ2V0IHRvIGFkZCB0aGUgdmlldyB0byB5b3VyIERPTSBvciB5b3Ugd2lsbCBub3Qgc2VlIGFueXRoaW5nIVxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBleHRlbmRzIFBJWEkuQWJzdHJhY3RSZW5kZXJlclxuICovXG5leHBvcnQgY2xhc3MgUmVuZGVyZXIgZXh0ZW5kcyBBYnN0cmFjdFJlbmRlcmVyXG57XG4gICAgcHVibGljIGdsOiBJUmVuZGVyaW5nQ29udGV4dDtcbiAgICBwdWJsaWMgZ2xvYmFsVW5pZm9ybXM6IFVuaWZvcm1Hcm91cDtcbiAgICBwdWJsaWMgQ09OVEVYVF9VSUQ6IG51bWJlcjtcbiAgICBwdWJsaWMgcmVuZGVyaW5nVG9TY3JlZW46IGJvb2xlYW47XG4gICAgcHVibGljIGV4dHJhY3Q6IEV4dHJhY3Q7XG4gICAgLy8gc3lzdGVtc1xuICAgIHB1YmxpYyBtYXNrOiBNYXNrU3lzdGVtO1xuICAgIHB1YmxpYyBjb250ZXh0OiBDb250ZXh0U3lzdGVtO1xuICAgIHB1YmxpYyBzdGF0ZTogU3RhdGVTeXN0ZW07XG4gICAgcHVibGljIHNoYWRlcjogU2hhZGVyU3lzdGVtO1xuICAgIHB1YmxpYyB0ZXh0dXJlOiBUZXh0dXJlU3lzdGVtO1xuICAgIHB1YmxpYyBnZW9tZXRyeTogR2VvbWV0cnlTeXN0ZW07XG4gICAgcHVibGljIGZyYW1lYnVmZmVyOiBGcmFtZWJ1ZmZlclN5c3RlbTtcbiAgICBwdWJsaWMgc2Npc3NvcjogU2Npc3NvclN5c3RlbTtcbiAgICBwdWJsaWMgc3RlbmNpbDogU3RlbmNpbFN5c3RlbTtcbiAgICBwdWJsaWMgcHJvamVjdGlvbjogUHJvamVjdGlvblN5c3RlbTtcbiAgICBwdWJsaWMgdGV4dHVyZUdDOiBUZXh0dXJlR0NTeXN0ZW07XG4gICAgcHVibGljIGZpbHRlcjogRmlsdGVyU3lzdGVtO1xuICAgIHB1YmxpYyByZW5kZXJUZXh0dXJlOiBSZW5kZXJUZXh0dXJlU3lzdGVtO1xuICAgIHB1YmxpYyBiYXRjaDogQmF0Y2hTeXN0ZW07XG5cbiAgICBydW5uZXJzOiB7W2tleTogc3RyaW5nXTogUnVubmVyfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSByZW5kZXJlciBpZiBXZWJHTCBpcyBhdmFpbGFibGUuIE92ZXJyaWRlYWJsZVxuICAgICAqIGJ5IHRoZSAqKkBwaXhpL2NhbnZhcy1yZW5kZXJlcioqIHBhY2thZ2UgdG8gYWxsb3cgZmFsbGJhY2suXG4gICAgICogdGhyb3dzIGVycm9yIGlmIFdlYkdMIGlzIG5vdCBhdmFpbGFibGUuXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgc3RhdGljIGNyZWF0ZShvcHRpb25zOiBJUmVuZGVyZXJPcHRpb25zKTogQWJzdHJhY3RSZW5kZXJlclxuICAgIHtcbiAgICAgICAgaWYgKGlzV2ViR0xTdXBwb3J0ZWQoKSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBSZW5kZXJlcihvcHRpb25zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignV2ViR0wgdW5zdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyLCB1c2UgXCJwaXhpLmpzLWxlZ2FjeVwiIGZvciBmYWxsYmFjayBjYW52YXMyZCBzdXBwb3J0LicpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBUaGUgb3B0aW9uYWwgcmVuZGVyZXIgcGFyYW1ldGVycy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGg9ODAwXSAtIFRoZSB3aWR0aCBvZiB0aGUgc2NyZWVuLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5oZWlnaHQ9NjAwXSAtIFRoZSBoZWlnaHQgb2YgdGhlIHNjcmVlbi5cbiAgICAgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBbb3B0aW9ucy52aWV3XSAtIFRoZSBjYW52YXMgdG8gdXNlIGFzIGEgdmlldywgb3B0aW9uYWwuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50cmFuc3BhcmVudD1mYWxzZV0gLSBJZiB0aGUgcmVuZGVyIHZpZXcgaXMgdHJhbnNwYXJlbnQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hdXRvRGVuc2l0eT1mYWxzZV0gLSBSZXNpemVzIHJlbmRlcmVyIHZpZXcgaW4gQ1NTIHBpeGVscyB0byBhbGxvdyBmb3JcbiAgICAgKiAgIHJlc29sdXRpb25zIG90aGVyIHRoYW4gMS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmFudGlhbGlhcz1mYWxzZV0gLSBTZXRzIGFudGlhbGlhcy4gSWYgbm90IGF2YWlsYWJsZSBuYXRpdmVseSB0aGVuIEZYQUFcbiAgICAgKiAgYW50aWFsaWFzaW5nIGlzIHVzZWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnJlc29sdXRpb249MV0gLSBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgcmVuZGVyZXIuXG4gICAgICogIFRoZSByZXNvbHV0aW9uIG9mIHRoZSByZW5kZXJlciByZXRpbmEgd291bGQgYmUgMi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNsZWFyQmVmb3JlUmVuZGVyPXRydWVdIC0gVGhpcyBzZXRzIGlmIHRoZSByZW5kZXJlciB3aWxsIGNsZWFyXG4gICAgICogIHRoZSBjYW52YXMgb3Igbm90IGJlZm9yZSB0aGUgbmV3IHJlbmRlciBwYXNzLiBJZiB5b3Ugd2lzaCB0byBzZXQgdGhpcyB0byBmYWxzZSwgeW91ICptdXN0KiBzZXRcbiAgICAgKiAgcHJlc2VydmVEcmF3aW5nQnVmZmVyIHRvIGB0cnVlYC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnByZXNlcnZlRHJhd2luZ0J1ZmZlcj1mYWxzZV0gLSBFbmFibGVzIGRyYXdpbmcgYnVmZmVyIHByZXNlcnZhdGlvbixcbiAgICAgKiAgZW5hYmxlIHRoaXMgaWYgeW91IG5lZWQgdG8gY2FsbCB0b0RhdGFVcmwgb24gdGhlIFdlYkdMIGNvbnRleHQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmJhY2tncm91bmRDb2xvcj0weDAwMDAwMF0gLSBUaGUgYmFja2dyb3VuZCBjb2xvciBvZiB0aGUgcmVuZGVyZWQgYXJlYVxuICAgICAqICAoc2hvd24gaWYgbm90IHRyYW5zcGFyZW50KS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMucG93ZXJQcmVmZXJlbmNlXSAtIFBhcmFtZXRlciBwYXNzZWQgdG8gV2ViR0wgY29udGV4dCwgc2V0IHRvIFwiaGlnaC1wZXJmb3JtYW5jZVwiXG4gICAgICogIGZvciBkZXZpY2VzIHdpdGggZHVhbCBncmFwaGljcyBjYXJkLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9ucy5jb250ZXh0XSAtIElmIFdlYkdMIGNvbnRleHQgYWxyZWFkeSBleGlzdHMsIGFsbCBwYXJhbWV0ZXJzIG11c3QgYmUgdGFrZW4gZnJvbSBpdC5cbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgY29uc3RydWN0b3Iob3B0aW9ucz8gOiBJUmVuZGVyZXJPcHRpb25zKVxuICAgIHtcbiAgICAgICAgc3VwZXIoUkVOREVSRVJfVFlQRS5XRUJHTCwgb3B0aW9ucyk7XG5cbiAgICAgICAgLy8gdGhlIG9wdGlvbnMgd2lsbCBoYXZlIGJlZW4gbW9kaWZpZWQgaGVyZSBpbiB0aGUgc3VwZXIgY29uc3RydWN0b3Igd2l0aCBwaXhpJ3MgZGVmYXVsdCBzZXR0aW5ncy4uXG4gICAgICAgIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdlYkdMIGNvbnRleHQsIHNldCBieSB0aGUgY29udGV4dFN5c3RlbSAodGhpcy5jb250ZXh0KVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5nbCA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5DT05URVhUX1VJRCA9IDA7XG5cbiAgICAgICAgLy8gVE9ETyBsZWdhY3khXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVybmFsIHNpZ25hbCBpbnN0YW5jZXMgb2YgKipydW5uZXIqKiwgdGhlc2VcbiAgICAgICAgICogYXJlIGFzc2lnbmVkIHRvIGVhY2ggc3lzdGVtIGNyZWF0ZWQuXG4gICAgICAgICAqIEBzZWUgUElYSS5SdW5uZXJcbiAgICAgICAgICogQG5hbWUgUElYSS5SZW5kZXJlciNydW5uZXJzXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAcHJvcGVydHkge1BJWEkuUnVubmVyfSBkZXN0cm95IC0gRGVzdHJveSBydW5uZXJcbiAgICAgICAgICogQHByb3BlcnR5IHtQSVhJLlJ1bm5lcn0gY29udGV4dENoYW5nZSAtIENvbnRleHQgY2hhbmdlIHJ1bm5lclxuICAgICAgICAgKiBAcHJvcGVydHkge1BJWEkuUnVubmVyfSByZXNldCAtIFJlc2V0IHJ1bm5lclxuICAgICAgICAgKiBAcHJvcGVydHkge1BJWEkuUnVubmVyfSB1cGRhdGUgLSBVcGRhdGUgcnVubmVyXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7UElYSS5SdW5uZXJ9IHBvc3RyZW5kZXIgLSBQb3N0LXJlbmRlciBydW5uZXJcbiAgICAgICAgICogQHByb3BlcnR5IHtQSVhJLlJ1bm5lcn0gcHJlcmVuZGVyIC0gUHJlLXJlbmRlciBydW5uZXJcbiAgICAgICAgICogQHByb3BlcnR5IHtQSVhJLlJ1bm5lcn0gcmVzaXplIC0gUmVzaXplIHJ1bm5lclxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ydW5uZXJzID0ge1xuICAgICAgICAgICAgZGVzdHJveTogbmV3IFJ1bm5lcignZGVzdHJveScpLFxuICAgICAgICAgICAgY29udGV4dENoYW5nZTogbmV3IFJ1bm5lcignY29udGV4dENoYW5nZScpLFxuICAgICAgICAgICAgcmVzZXQ6IG5ldyBSdW5uZXIoJ3Jlc2V0JyksXG4gICAgICAgICAgICB1cGRhdGU6IG5ldyBSdW5uZXIoJ3VwZGF0ZScpLFxuICAgICAgICAgICAgcG9zdHJlbmRlcjogbmV3IFJ1bm5lcigncG9zdHJlbmRlcicpLFxuICAgICAgICAgICAgcHJlcmVuZGVyOiBuZXcgUnVubmVyKCdwcmVyZW5kZXInKSxcbiAgICAgICAgICAgIHJlc2l6ZTogbmV3IFJ1bm5lcigncmVzaXplJyksXG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdsb2JhbCB1bmlmb3Jtc1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlVuaWZvcm1Hcm91cH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZ2xvYmFsVW5pZm9ybXMgPSBuZXcgVW5pZm9ybUdyb3VwKHtcbiAgICAgICAgICAgIHByb2plY3Rpb25NYXRyaXg6IG5ldyBNYXRyaXgoKSxcbiAgICAgICAgfSwgdHJ1ZSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1hc2sgc3lzdGVtIGluc3RhbmNlXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuc3lzdGVtcy5NYXNrU3lzdGVtfSBtYXNrXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLlJlbmRlcmVyI1xuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYWRkU3lzdGVtKE1hc2tTeXN0ZW0sICdtYXNrJylcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQ29udGV4dCBzeXN0ZW0gaW5zdGFuY2VcbiAgICAgICAgICAgICAqIEBtZW1iZXIge1BJWEkuc3lzdGVtcy5Db250ZXh0U3lzdGVtfSBjb250ZXh0XG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5SZW5kZXJlciNcbiAgICAgICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAuYWRkU3lzdGVtKENvbnRleHRTeXN0ZW0sICdjb250ZXh0JylcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogU3RhdGUgc3lzdGVtIGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLnN5c3RlbXMuU3RhdGVTeXN0ZW19IHN0YXRlXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5SZW5kZXJlciNcbiAgICAgICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAuYWRkU3lzdGVtKFN0YXRlU3lzdGVtLCAnc3RhdGUnKVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBTaGFkZXIgc3lzdGVtIGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLnN5c3RlbXMuU2hhZGVyU3lzdGVtfSBzaGFkZXJcbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLlJlbmRlcmVyI1xuICAgICAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIC5hZGRTeXN0ZW0oU2hhZGVyU3lzdGVtLCAnc2hhZGVyJylcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogVGV4dHVyZSBzeXN0ZW0gaW5zdGFuY2VcbiAgICAgICAgICAgICAqIEBtZW1iZXIge1BJWEkuc3lzdGVtcy5UZXh0dXJlU3lzdGVtfSB0ZXh0dXJlXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5SZW5kZXJlciNcbiAgICAgICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAuYWRkU3lzdGVtKFRleHR1cmVTeXN0ZW0sICd0ZXh0dXJlJylcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogR2VvbWV0cnkgc3lzdGVtIGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLnN5c3RlbXMuR2VvbWV0cnlTeXN0ZW19IGdlb21ldHJ5XG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5SZW5kZXJlciNcbiAgICAgICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAuYWRkU3lzdGVtKEdlb21ldHJ5U3lzdGVtLCAnZ2VvbWV0cnknKVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBGcmFtZWJ1ZmZlciBzeXN0ZW0gaW5zdGFuY2VcbiAgICAgICAgICAgICAqIEBtZW1iZXIge1BJWEkuc3lzdGVtcy5GcmFtZWJ1ZmZlclN5c3RlbX0gZnJhbWVidWZmZXJcbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLlJlbmRlcmVyI1xuICAgICAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIC5hZGRTeXN0ZW0oRnJhbWVidWZmZXJTeXN0ZW0sICdmcmFtZWJ1ZmZlcicpXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFNjaXNzb3Igc3lzdGVtIGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLnN5c3RlbXMuU2Npc3NvclN5c3RlbX0gc2Npc3NvclxuICAgICAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuUmVuZGVyZXIjXG4gICAgICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLmFkZFN5c3RlbShTY2lzc29yU3lzdGVtLCAnc2Npc3NvcicpXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFN0ZW5jaWwgc3lzdGVtIGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLnN5c3RlbXMuU3RlbmNpbFN5c3RlbX0gc3RlbmNpbFxuICAgICAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuUmVuZGVyZXIjXG4gICAgICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLmFkZFN5c3RlbShTdGVuY2lsU3lzdGVtLCAnc3RlbmNpbCcpXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFByb2plY3Rpb24gc3lzdGVtIGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLnN5c3RlbXMuUHJvamVjdGlvblN5c3RlbX0gcHJvamVjdGlvblxuICAgICAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuUmVuZGVyZXIjXG4gICAgICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLmFkZFN5c3RlbShQcm9qZWN0aW9uU3lzdGVtLCAncHJvamVjdGlvbicpXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFRleHR1cmUgZ2FyYmFnZSBjb2xsZWN0b3Igc3lzdGVtIGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLnN5c3RlbXMuVGV4dHVyZUdDU3lzdGVtfSB0ZXh0dXJlR0NcbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLlJlbmRlcmVyI1xuICAgICAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIC5hZGRTeXN0ZW0oVGV4dHVyZUdDU3lzdGVtLCAndGV4dHVyZUdDJylcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogRmlsdGVyIHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlciB7UElYSS5zeXN0ZW1zLkZpbHRlclN5c3RlbX0gZmlsdGVyXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5SZW5kZXJlciNcbiAgICAgICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAuYWRkU3lzdGVtKEZpbHRlclN5c3RlbSwgJ2ZpbHRlcicpXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFJlbmRlclRleHR1cmUgc3lzdGVtIGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLnN5c3RlbXMuUmVuZGVyVGV4dHVyZVN5c3RlbX0gcmVuZGVyVGV4dHVyZVxuICAgICAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuUmVuZGVyZXIjXG4gICAgICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLmFkZFN5c3RlbShSZW5kZXJUZXh0dXJlU3lzdGVtLCAncmVuZGVyVGV4dHVyZScpXG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQmF0Y2ggc3lzdGVtIGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLnN5c3RlbXMuQmF0Y2hTeXN0ZW19IGJhdGNoXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5SZW5kZXJlciNcbiAgICAgICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAuYWRkU3lzdGVtKEJhdGNoU3lzdGVtLCAnYmF0Y2gnKTtcblxuICAgICAgICB0aGlzLmluaXRQbHVnaW5zKFJlbmRlcmVyLl9fcGx1Z2lucyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBvcHRpb25zIHBhc3NlZCBpbiB0byBjcmVhdGUgYSBuZXcgV2ViR0wgY29udGV4dC5cbiAgICAgICAgICovXG4gICAgICAgIGlmIChvcHRpb25zLmNvbnRleHQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5pbml0RnJvbUNvbnRleHQob3B0aW9ucy5jb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5pbml0RnJvbU9wdGlvbnMoe1xuICAgICAgICAgICAgICAgIGFscGhhOiAhIXRoaXMudHJhbnNwYXJlbnQsXG4gICAgICAgICAgICAgICAgYW50aWFsaWFzOiBvcHRpb25zLmFudGlhbGlhcyxcbiAgICAgICAgICAgICAgICBwcmVtdWx0aXBsaWVkQWxwaGE6IHRoaXMudHJhbnNwYXJlbnQgJiYgdGhpcy50cmFuc3BhcmVudCAhPT0gJ25vdE11bHRpcGxpZWQnLFxuICAgICAgICAgICAgICAgIHN0ZW5jaWw6IHRydWUsXG4gICAgICAgICAgICAgICAgcHJlc2VydmVEcmF3aW5nQnVmZmVyOiBvcHRpb25zLnByZXNlcnZlRHJhd2luZ0J1ZmZlcixcbiAgICAgICAgICAgICAgICBwb3dlclByZWZlcmVuY2U6IHRoaXMub3B0aW9ucy5wb3dlclByZWZlcmVuY2UsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGbGFnIGlmIHdlIGFyZSByZW5kZXJpbmcgdG8gdGhlIHNjcmVlbiB2cyByZW5kZXJUZXh0dXJlXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlbmRlcmluZ1RvU2NyZWVuID0gdHJ1ZTtcblxuICAgICAgICBzYXlIZWxsbyh0aGlzLmNvbnRleHQud2ViR0xWZXJzaW9uID09PSAyID8gJ1dlYkdMIDInIDogJ1dlYkdMIDEnKTtcblxuICAgICAgICB0aGlzLnJlc2l6ZSh0aGlzLm9wdGlvbnMud2lkdGgsIHRoaXMub3B0aW9ucy5oZWlnaHQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZCBhIG5ldyBzeXN0ZW0gdG8gdGhlIHJlbmRlcmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IENsYXNzUmVmIC0gQ2xhc3MgcmVmZXJlbmNlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtuYW1lXSAtIFByb3BlcnR5IG5hbWUgZm9yIHN5c3RlbSwgaWYgbm90IHNwZWNpZmllZFxuICAgICAqICAgICAgICB3aWxsIHVzZSBhIHN0YXRpYyBgbmFtZWAgcHJvcGVydHkgb24gdGhlIGNsYXNzIGl0c2VsZi4gVGhpc1xuICAgICAqICAgICAgICBuYW1lIHdpbGwgYmUgYXNzaWduZWQgYXMgcyBwcm9wZXJ0eSBvbiB0aGUgUmVuZGVyZXIgc28gbWFrZVxuICAgICAqICAgICAgICBzdXJlIGl0IGRvZXNuJ3QgY29sbGlkZSB3aXRoIHByb3BlcnRpZXMgb24gUmVuZGVyZXIuXG4gICAgICogQHJldHVybiB7UElYSS5SZW5kZXJlcn0gUmV0dXJuIGluc3RhbmNlIG9mIHJlbmRlcmVyXG4gICAgICovXG4gICAgYWRkU3lzdGVtPFQgZXh0ZW5kcyBTeXN0ZW0+KENsYXNzUmVmOiB7IG5ldyhyZW5kZXJlcjogUmVuZGVyZXIpOiBUfSwgbmFtZTogc3RyaW5nKTogdGhpc1xuICAgIHtcbiAgICAgICAgaWYgKCFuYW1lKVxuICAgICAgICB7XG4gICAgICAgICAgICBuYW1lID0gQ2xhc3NSZWYubmFtZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHN5c3RlbSA9IG5ldyBDbGFzc1JlZih0aGlzKTtcblxuICAgICAgICBpZiAoKHRoaXMgYXMgYW55KVtuYW1lXSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBXaG9vcHMhIFRoZSBuYW1lIFwiJHtuYW1lfVwiIGlzIGFscmVhZHkgaW4gdXNlYCk7XG4gICAgICAgIH1cblxuICAgICAgICAodGhpcyBhcyBhbnkpW25hbWVdID0gc3lzdGVtO1xuXG4gICAgICAgIGZvciAoY29uc3QgaSBpbiB0aGlzLnJ1bm5lcnMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucnVubmVyc1tpXS5hZGQoc3lzdGVtKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCBhZnRlciByZW5kZXJpbmcgZmluaXNoZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLlJlbmRlcmVyI3Bvc3RyZW5kZXJcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIGJlZm9yZSByZW5kZXJpbmcgc3RhcnRzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5SZW5kZXJlciNwcmVyZW5kZXJcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gdGhlIFdlYkdMIGNvbnRleHQgaXMgc2V0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5SZW5kZXJlciNjb250ZXh0XG4gICAgICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCAtIFdlYkdMIGNvbnRleHQuXG4gICAgICAgICAqL1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIG9iamVjdCB0byBpdHMgV2ViR0wgdmlld1xuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGRpc3BsYXlPYmplY3QgLSBUaGUgb2JqZWN0IHRvIGJlIHJlbmRlcmVkLlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBbcmVuZGVyVGV4dHVyZV0gLSBUaGUgcmVuZGVyIHRleHR1cmUgdG8gcmVuZGVyIHRvLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2NsZWFyPXRydWVdIC0gU2hvdWxkIHRoZSBjYW52YXMgYmUgY2xlYXJlZCBiZWZvcmUgdGhlIG5ldyByZW5kZXIuXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gW3RyYW5zZm9ybV0gLSBBIHRyYW5zZm9ybSB0byBhcHBseSB0byB0aGUgcmVuZGVyIHRleHR1cmUgYmVmb3JlIHJlbmRlcmluZy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtza2lwVXBkYXRlVHJhbnNmb3JtPWZhbHNlXSAtIFNob3VsZCB3ZSBza2lwIHRoZSB1cGRhdGUgdHJhbnNmb3JtIHBhc3M/XG4gICAgICovXG4gICAgcmVuZGVyKGRpc3BsYXlPYmplY3Q6IERpc3BsYXlPYmplY3QsIHJlbmRlclRleHR1cmU/OiBSZW5kZXJUZXh0dXJlLFxuICAgICAgICBjbGVhcj86IGJvb2xlYW4sIHRyYW5zZm9ybT86IE1hdHJpeCwgc2tpcFVwZGF0ZVRyYW5zZm9ybT86IGJvb2xlYW4pOiB2b2lkXG4gICAge1xuICAgICAgICAvLyBjYW4gYmUgaGFuZHkgdG8ga25vdyFcbiAgICAgICAgdGhpcy5yZW5kZXJpbmdUb1NjcmVlbiA9ICFyZW5kZXJUZXh0dXJlO1xuXG4gICAgICAgIHRoaXMucnVubmVycy5wcmVyZW5kZXIuZW1pdCgpO1xuICAgICAgICB0aGlzLmVtaXQoJ3ByZXJlbmRlcicpO1xuXG4gICAgICAgIC8vIGFwcGx5IGEgdHJhbnNmb3JtIGF0IGEgR1BVIGxldmVsXG4gICAgICAgIHRoaXMucHJvamVjdGlvbi50cmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG5cbiAgICAgICAgLy8gbm8gcG9pbnQgcmVuZGVyaW5nIGlmIG91ciBjb250ZXh0IGhhcyBiZWVuIGJsb3duIHVwIVxuICAgICAgICBpZiAodGhpcy5jb250ZXh0LmlzTG9zdClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFyZW5kZXJUZXh0dXJlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9sYXN0T2JqZWN0UmVuZGVyZWQgPSBkaXNwbGF5T2JqZWN0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFza2lwVXBkYXRlVHJhbnNmb3JtKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyB1cGRhdGUgdGhlIHNjZW5lIGdyYXBoXG4gICAgICAgICAgICBjb25zdCBjYWNoZVBhcmVudCA9IGRpc3BsYXlPYmplY3QuZW5hYmxlVGVtcFBhcmVudCgpO1xuXG4gICAgICAgICAgICBkaXNwbGF5T2JqZWN0LnVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgZGlzcGxheU9iamVjdC5kaXNhYmxlVGVtcFBhcmVudChjYWNoZVBhcmVudCk7XG4gICAgICAgICAgICAvLyBkaXNwbGF5T2JqZWN0LmhpdEFyZWEgPSAvL1RPRE8gYWRkIGEgdGVtcCBoaXQgYXJlYVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZW5kZXJUZXh0dXJlLmJpbmQocmVuZGVyVGV4dHVyZSk7XG4gICAgICAgIHRoaXMuYmF0Y2guY3VycmVudFJlbmRlcmVyLnN0YXJ0KCk7XG5cbiAgICAgICAgaWYgKGNsZWFyICE9PSB1bmRlZmluZWQgPyBjbGVhciA6IHRoaXMuY2xlYXJCZWZvcmVSZW5kZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyVGV4dHVyZS5jbGVhcigpO1xuICAgICAgICB9XG5cbiAgICAgICAgZGlzcGxheU9iamVjdC5yZW5kZXIodGhpcyk7XG5cbiAgICAgICAgLy8gYXBwbHkgdHJhbnNmb3JtLi5cbiAgICAgICAgdGhpcy5iYXRjaC5jdXJyZW50UmVuZGVyZXIuZmx1c2goKTtcblxuICAgICAgICBpZiAocmVuZGVyVGV4dHVyZSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmVuZGVyVGV4dHVyZS5iYXNlVGV4dHVyZS51cGRhdGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucnVubmVycy5wb3N0cmVuZGVyLmVtaXQoKTtcblxuICAgICAgICAvLyByZXNldCB0cmFuc2Zvcm0gYWZ0ZXIgcmVuZGVyXG4gICAgICAgIHRoaXMucHJvamVjdGlvbi50cmFuc2Zvcm0gPSBudWxsO1xuXG4gICAgICAgIHRoaXMuZW1pdCgncG9zdHJlbmRlcicpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlc2l6ZXMgdGhlIFdlYkdMIHZpZXcgdG8gdGhlIHNwZWNpZmllZCB3aWR0aCBhbmQgaGVpZ2h0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNjcmVlbldpZHRoIC0gVGhlIG5ldyB3aWR0aCBvZiB0aGUgc2NyZWVuLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY3JlZW5IZWlnaHQgLSBUaGUgbmV3IGhlaWdodCBvZiB0aGUgc2NyZWVuLlxuICAgICAqL1xuICAgIHJlc2l6ZShzY3JlZW5XaWR0aDogbnVtYmVyLCBzY3JlZW5IZWlnaHQ6IG51bWJlcik6IHZvaWRcbiAgICB7XG4gICAgICAgIHN1cGVyLnJlc2l6ZShzY3JlZW5XaWR0aCwgc2NyZWVuSGVpZ2h0KTtcblxuICAgICAgICB0aGlzLnJ1bm5lcnMucmVzaXplLmVtaXQoc2NyZWVuV2lkdGgsIHNjcmVlbkhlaWdodCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVzZXRzIHRoZSBXZWJHTCBzdGF0ZSBzbyB5b3UgY2FuIHJlbmRlciB0aGluZ3MgaG93ZXZlciB5b3UgZmFuY3khXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlbmRlcmVyfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICByZXNldCgpOiB0aGlzXG4gICAge1xuICAgICAgICB0aGlzLnJ1bm5lcnMucmVzZXQuZW1pdCgpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENsZWFyIHRoZSBmcmFtZSBidWZmZXJcbiAgICAgKi9cbiAgICBjbGVhcigpOiB2b2lkXG4gICAge1xuICAgICAgICB0aGlzLnJlbmRlclRleHR1cmUuYmluZCgpO1xuICAgICAgICB0aGlzLnJlbmRlclRleHR1cmUuY2xlYXIoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGV2ZXJ5dGhpbmcgZnJvbSB0aGUgcmVuZGVyZXIgKGV2ZW50IGxpc3RlbmVycywgc3ByaXRlYmF0Y2gsIGV0Yy4uLilcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3JlbW92ZVZpZXc9ZmFsc2VdIC0gUmVtb3ZlcyB0aGUgQ2FudmFzIGVsZW1lbnQgZnJvbSB0aGUgRE9NLlxuICAgICAqICBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9waXhpanMvcGl4aS5qcy9pc3N1ZXMvMjIzM1xuICAgICAqL1xuICAgIGRlc3Ryb3kocmVtb3ZlVmlldz86IGJvb2xlYW4pOiB2b2lkXG4gICAge1xuICAgICAgICB0aGlzLnJ1bm5lcnMuZGVzdHJveS5lbWl0KCk7XG5cbiAgICAgICAgZm9yIChjb25zdCByIGluIHRoaXMucnVubmVycylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5ydW5uZXJzW3JdLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNhbGwgYmFzZSBkZXN0cm95XG4gICAgICAgIHN1cGVyLmRlc3Ryb3kocmVtb3ZlVmlldyk7XG5cbiAgICAgICAgLy8gVE9ETyBudWxsaWZ5IGFsbCB0aGUgbWFuYWdlcnMuLlxuICAgICAgICB0aGlzLmdsID0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb2xsZWN0aW9uIG9mIGluc3RhbGxlZCBwbHVnaW5zLiBUaGVzZSBhcmUgaW5jbHVkZWQgYnkgZGVmYXVsdCBpbiBQSVhJLCBidXQgY2FuIGJlIGV4Y2x1ZGVkXG4gICAgICogYnkgY3JlYXRpbmcgYSBjdXN0b20gYnVpbGQuIENvbnN1bHQgdGhlIFJFQURNRSBmb3IgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCBjcmVhdGluZyBjdXN0b21cbiAgICAgKiBidWlsZHMgYW5kIGV4Y2x1ZGluZyBwbHVnaW5zLlxuICAgICAqIEBuYW1lIFBJWEkuUmVuZGVyZXIjcGx1Z2luc1xuICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQHByb3BlcnR5IHtQSVhJLkFjY2Vzc2liaWxpdHlNYW5hZ2VyfSBhY2Nlc3NpYmlsaXR5IFN1cHBvcnQgdGFiYmluZyBpbnRlcmFjdGl2ZSBlbGVtZW50cy5cbiAgICAgKiBAcHJvcGVydHkge1BJWEkuRXh0cmFjdH0gZXh0cmFjdCBFeHRyYWN0IGltYWdlIGRhdGEgZnJvbSByZW5kZXJlci5cbiAgICAgKiBAcHJvcGVydHkge1BJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyfSBpbnRlcmFjdGlvbiBIYW5kbGVzIG1vdXNlLCB0b3VjaCBhbmQgcG9pbnRlciBldmVudHMuXG4gICAgICogQHByb3BlcnR5IHtQSVhJLlByZXBhcmV9IHByZXBhcmUgUHJlLXJlbmRlciBkaXNwbGF5IG9iamVjdHMuXG4gICAgICovXG5cbiAgICBzdGF0aWMgX19wbHVnaW5zOiBJUmVuZGVyZXJQbHVnaW5zO1xuICAgIC8qKlxuICAgICAqIEFkZHMgYSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyLlxuICAgICAqXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwbHVnaW5OYW1lIC0gVGhlIG5hbWUgb2YgdGhlIHBsdWdpbi5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdG9yIC0gVGhlIGNvbnN0cnVjdG9yIGZ1bmN0aW9uIG9yIGNsYXNzIGZvciB0aGUgcGx1Z2luLlxuICAgICAqL1xuICAgIHN0YXRpYyByZWdpc3RlclBsdWdpbihwbHVnaW5OYW1lOiBzdHJpbmcsIGN0b3I6IElSZW5kZXJlclBsdWdpbkNvbnN0cnVjdG9yKTogdm9pZFxuICAgIHtcbiAgICAgICAgUmVuZGVyZXIuX19wbHVnaW5zID0gUmVuZGVyZXIuX19wbHVnaW5zIHx8IHt9O1xuICAgICAgICBSZW5kZXJlci5fX3BsdWdpbnNbcGx1Z2luTmFtZV0gPSBjdG9yO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFJlbmRlcmVyIH0gZnJvbSAnLi9SZW5kZXJlcic7XG5pbXBvcnQgdHlwZSB7IEFic3RyYWN0UmVuZGVyZXIsIElSZW5kZXJlck9wdGlvbnMgfSBmcm9tICcuL0Fic3RyYWN0UmVuZGVyZXInO1xuXG5leHBvcnQgaW50ZXJmYWNlIElSZW5kZXJlck9wdGlvbnNBdXRvIGV4dGVuZHMgSVJlbmRlcmVyT3B0aW9uc1xue1xuICAgIGZvcmNlQ2FudmFzPzogYm9vbGVhbjtcbn1cbi8qKlxuICogVGhpcyBoZWxwZXIgZnVuY3Rpb24gd2lsbCBhdXRvbWF0aWNhbGx5IGRldGVjdCB3aGljaCByZW5kZXJlciB5b3Ugc2hvdWxkIGJlIHVzaW5nLlxuICogV2ViR0wgaXMgdGhlIHByZWZlcnJlZCByZW5kZXJlciBhcyBpdCBpcyBhIGxvdCBmYXN0ZXIuIElmIFdlYkdMIGlzIG5vdCBzdXBwb3J0ZWQgYnlcbiAqIHRoZSBicm93c2VyIHRoZW4gdGhpcyBmdW5jdGlvbiB3aWxsIHJldHVybiBhIGNhbnZhcyByZW5kZXJlclxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZnVuY3Rpb24gYXV0b0RldGVjdFJlbmRlcmVyXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gVGhlIG9wdGlvbmFsIHJlbmRlcmVyIHBhcmFtZXRlcnNcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy53aWR0aD04MDBdIC0gdGhlIHdpZHRoIG9mIHRoZSByZW5kZXJlcnMgdmlld1xuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmhlaWdodD02MDBdIC0gdGhlIGhlaWdodCBvZiB0aGUgcmVuZGVyZXJzIHZpZXdcbiAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IFtvcHRpb25zLnZpZXddIC0gdGhlIGNhbnZhcyB0byB1c2UgYXMgYSB2aWV3LCBvcHRpb25hbFxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50cmFuc3BhcmVudD1mYWxzZV0gLSBJZiB0aGUgcmVuZGVyIHZpZXcgaXMgdHJhbnNwYXJlbnQsIGRlZmF1bHQgZmFsc2VcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYXV0b0RlbnNpdHk9ZmFsc2VdIC0gUmVzaXplcyByZW5kZXJlciB2aWV3IGluIENTUyBwaXhlbHMgdG8gYWxsb3cgZm9yXG4gKiAgIHJlc29sdXRpb25zIG90aGVyIHRoYW4gMVxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hbnRpYWxpYXM9ZmFsc2VdIC0gc2V0cyBhbnRpYWxpYXNcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMucHJlc2VydmVEcmF3aW5nQnVmZmVyPWZhbHNlXSAtIGVuYWJsZXMgZHJhd2luZyBidWZmZXIgcHJlc2VydmF0aW9uLCBlbmFibGUgdGhpcyBpZiB5b3VcbiAqICBuZWVkIHRvIGNhbGwgdG9EYXRhVXJsIG9uIHRoZSB3ZWJnbCBjb250ZXh0XG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuYmFja2dyb3VuZENvbG9yPTB4MDAwMDAwXSAtIFRoZSBiYWNrZ3JvdW5kIGNvbG9yIG9mIHRoZSByZW5kZXJlZCBhcmVhXG4gKiAgKHNob3duIGlmIG5vdCB0cmFuc3BhcmVudCkuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNsZWFyQmVmb3JlUmVuZGVyPXRydWVdIC0gVGhpcyBzZXRzIGlmIHRoZSByZW5kZXJlciB3aWxsIGNsZWFyIHRoZSBjYW52YXMgb3JcbiAqICAgbm90IGJlZm9yZSB0aGUgbmV3IHJlbmRlciBwYXNzLlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnJlc29sdXRpb249MV0gLSBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgcmVuZGVyZXIsIHJldGluYSB3b3VsZCBiZSAyXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmZvcmNlQ2FudmFzPWZhbHNlXSAtIHByZXZlbnRzIHNlbGVjdGlvbiBvZiBXZWJHTCByZW5kZXJlciwgZXZlbiBpZiBzdWNoIGlzIHByZXNlbnQsIHRoaXNcbiAqICAgb3B0aW9uIG9ubHkgaXMgYXZhaWxhYmxlIHdoZW4gdXNpbmcgKipwaXhpLmpzLWxlZ2FjeSoqIG9yICoqQHBpeGkvY2FudmFzLXJlbmRlcmVyKiogbW9kdWxlcywgb3RoZXJ3aXNlXG4gKiAgIGl0IGlzIGlnbm9yZWQuXG4gKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMucG93ZXJQcmVmZXJlbmNlXSAtIFBhcmFtZXRlciBwYXNzZWQgdG8gd2ViZ2wgY29udGV4dCwgc2V0IHRvIFwiaGlnaC1wZXJmb3JtYW5jZVwiXG4gKiAgZm9yIGRldmljZXMgd2l0aCBkdWFsIGdyYXBoaWNzIGNhcmQgKip3ZWJnbCBvbmx5KipcbiAqIEByZXR1cm4ge1BJWEkuUmVuZGVyZXJ8UElYSS5DYW52YXNSZW5kZXJlcn0gUmV0dXJucyBXZWJHTCByZW5kZXJlciBpZiBhdmFpbGFibGUsIG90aGVyd2lzZSBDYW52YXNSZW5kZXJlclxuICovXG5leHBvcnQgZnVuY3Rpb24gYXV0b0RldGVjdFJlbmRlcmVyKG9wdGlvbnM6IElSZW5kZXJlck9wdGlvbnNBdXRvKTogQWJzdHJhY3RSZW5kZXJlclxue1xuICAgIHJldHVybiBSZW5kZXJlci5jcmVhdGUob3B0aW9ucyk7XG59XG4iLCJpbXBvcnQgeyBEUkFXX01PREVTIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcblxuaW1wb3J0IHR5cGUgeyBCTEVORF9NT0RFUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5pbXBvcnQgdHlwZSB7IEJhdGNoVGV4dHVyZUFycmF5IH0gZnJvbSAnLi9CYXRjaFRleHR1cmVBcnJheSc7XG5cbi8qKlxuICogVXNlZCBieSB0aGUgYmF0Y2hlciB0byBkcmF3IGJhdGNoZXMuXG4gKiBFYWNoIG9uZSBvZiB0aGVzZSBjb250YWlucyBhbGwgaW5mb3JtYXRpb24gcmVxdWlyZWQgdG8gZHJhdyBhIGJvdW5kIGdlb21ldHJ5LlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGNsYXNzIEJhdGNoRHJhd0NhbGxcbntcbiAgICB0ZXhBcnJheTogQmF0Y2hUZXh0dXJlQXJyYXk7XG4gICAgdHlwZTogRFJBV19NT0RFUztcbiAgICBibGVuZDogQkxFTkRfTU9ERVM7XG4gICAgc3RhcnQ6IG51bWJlcjtcbiAgICBzaXplOiBudW1iZXI7XG4gICAgZGF0YTogYW55O1xuXG4gICAgY29uc3RydWN0b3IoKVxuICAgIHtcbiAgICAgICAgdGhpcy50ZXhBcnJheSA9IG51bGw7XG4gICAgICAgIHRoaXMuYmxlbmQgPSAwO1xuICAgICAgICB0aGlzLnR5cGUgPSBEUkFXX01PREVTLlRSSUFOR0xFUztcblxuICAgICAgICB0aGlzLnN0YXJ0ID0gMDtcbiAgICAgICAgdGhpcy5zaXplID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogZGF0YSBmb3IgdW5pZm9ybXMgb3IgY3VzdG9tIHdlYmdsIHN0YXRlXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGF0YSA9IG51bGw7XG4gICAgfVxufVxuIiwiaW1wb3J0IHR5cGUgeyBCYXNlVGV4dHVyZSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuXG4vKipcbiAqIFVzZWQgYnkgdGhlIGJhdGNoZXIgdG8gYnVpbGQgdGV4dHVyZSBiYXRjaGVzLlxuICogSG9sZHMgbGlzdCBvZiB0ZXh0dXJlcyBhbmQgdGhlaXIgcmVzcGVjdGl2ZSBsb2NhdGlvbnMuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgY2xhc3MgQmF0Y2hUZXh0dXJlQXJyYXlcbntcbiAgICBwdWJsaWMgZWxlbWVudHM6IEJhc2VUZXh0dXJlW107XG4gICAgcHVibGljIGlkczogbnVtYmVyW107XG4gICAgcHVibGljIGNvdW50OiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3RvcigpXG4gICAge1xuICAgICAgICAvKipcbiAgICAgICAgICogaW5zaWRlIHRleHR1cmVzIGFycmF5XG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQmFzZVRleHR1cmVbXX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZWxlbWVudHMgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlc3BlY3RpdmUgbG9jYXRpb25zIGZvciB0ZXh0dXJlc1xuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaWRzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBudW1iZXIgb2YgZmlsbGVkIGVsZW1lbnRzXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY291bnQgPSAwO1xuICAgIH1cblxuICAgIGNsZWFyKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jb3VudDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnRzW2ldID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvdW50ID0gMDtcbiAgICB9XG59XG4iLCJpbXBvcnQgdHlwZSB7IElUeXBlZEFycmF5IH0gZnJvbSAnLi9CdWZmZXInO1xuXG4vKipcbiAqIEZsZXhpYmxlIHdyYXBwZXIgYXJvdW5kIGBBcnJheUJ1ZmZlcmAgdGhhdCBhbHNvIHByb3ZpZGVzXG4gKiB0eXBlZCBhcnJheSB2aWV3cyBvbiBkZW1hbmQuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgY2xhc3MgVmlld2FibGVCdWZmZXJcbntcbiAgICBwdWJsaWMgc2l6ZTogbnVtYmVyO1xuICAgIHB1YmxpYyByYXdCaW5hcnlEYXRhOiBBcnJheUJ1ZmZlcjtcbiAgICBwdWJsaWMgdWludDMyVmlldzogVWludDMyQXJyYXk7XG4gICAgcHVibGljIGZsb2F0MzJWaWV3OiBGbG9hdDMyQXJyYXk7XG5cbiAgICBwcml2YXRlIF9pbnQ4VmlldzogSW50OEFycmF5O1xuICAgIHByaXZhdGUgX3VpbnQ4VmlldzogVWludDhBcnJheTtcbiAgICBwcml2YXRlIF9pbnQxNlZpZXc6IEludDE2QXJyYXk7XG4gICAgcHJpdmF0ZSBfdWludDE2VmlldzogVWludDE2QXJyYXk7XG4gICAgcHJpdmF0ZSBfaW50MzJWaWV3OiBJbnQzMkFycmF5O1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNpemUgLSBUaGUgc2l6ZSBvZiB0aGUgYnVmZmVyIGluIGJ5dGVzLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHNpemU6IG51bWJlcilcbiAgICB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVbmRlcmx5aW5nIGBBcnJheUJ1ZmZlcmAgdGhhdCBob2xkcyBhbGwgdGhlIGRhdGFcbiAgICAgICAgICogYW5kIGlzIG9mIGNhcGFjaXR5IGBzaXplYC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7QXJyYXlCdWZmZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJhd0JpbmFyeURhdGEgPSBuZXcgQXJyYXlCdWZmZXIoc2l6ZSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFZpZXcgb24gdGhlIHJhdyBiaW5hcnkgZGF0YSBhcyBhIGBVaW50MzJBcnJheWAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1VpbnQzMkFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51aW50MzJWaWV3ID0gbmV3IFVpbnQzMkFycmF5KHRoaXMucmF3QmluYXJ5RGF0YSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFZpZXcgb24gdGhlIHJhdyBiaW5hcnkgZGF0YSBhcyBhIGBGbG9hdDMyQXJyYXlgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZsb2F0MzJWaWV3ID0gbmV3IEZsb2F0MzJBcnJheSh0aGlzLnJhd0JpbmFyeURhdGEpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFZpZXcgb24gdGhlIHJhdyBiaW5hcnkgZGF0YSBhcyBhIGBJbnQ4QXJyYXlgLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7SW50OEFycmF5fVxuICAgICAqL1xuICAgIGdldCBpbnQ4VmlldygpOiBJbnQ4QXJyYXlcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5faW50OFZpZXcpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2ludDhWaWV3ID0gbmV3IEludDhBcnJheSh0aGlzLnJhd0JpbmFyeURhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2ludDhWaWV3O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFZpZXcgb24gdGhlIHJhdyBiaW5hcnkgZGF0YSBhcyBhIGBVaW50OEFycmF5YC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1VpbnQ4QXJyYXl9XG4gICAgICovXG4gICAgZ2V0IHVpbnQ4VmlldygpOiBVaW50OEFycmF5XG4gICAge1xuICAgICAgICBpZiAoIXRoaXMuX3VpbnQ4VmlldylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fdWludDhWaWV3ID0gbmV3IFVpbnQ4QXJyYXkodGhpcy5yYXdCaW5hcnlEYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLl91aW50OFZpZXc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVmlldyBvbiB0aGUgcmF3IGJpbmFyeSBkYXRhIGFzIGEgYEludDE2QXJyYXlgLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7SW50MTZBcnJheX1cbiAgICAgKi9cbiAgICBnZXQgaW50MTZWaWV3KCk6IEludDE2QXJyYXlcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5faW50MTZWaWV3KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9pbnQxNlZpZXcgPSBuZXcgSW50MTZBcnJheSh0aGlzLnJhd0JpbmFyeURhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2ludDE2VmlldztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBWaWV3IG9uIHRoZSByYXcgYmluYXJ5IGRhdGEgYXMgYSBgVWludDE2QXJyYXlgLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7VWludDE2QXJyYXl9XG4gICAgICovXG4gICAgZ2V0IHVpbnQxNlZpZXcoKTogVWludDE2QXJyYXlcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5fdWludDE2VmlldylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fdWludDE2VmlldyA9IG5ldyBVaW50MTZBcnJheSh0aGlzLnJhd0JpbmFyeURhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3VpbnQxNlZpZXc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVmlldyBvbiB0aGUgcmF3IGJpbmFyeSBkYXRhIGFzIGEgYEludDMyQXJyYXlgLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7SW50MzJBcnJheX1cbiAgICAgKi9cbiAgICBnZXQgaW50MzJWaWV3KCk6IEludDMyQXJyYXlcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5faW50MzJWaWV3KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9pbnQzMlZpZXcgPSBuZXcgSW50MzJBcnJheSh0aGlzLnJhd0JpbmFyeURhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2ludDMyVmlldztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSB2aWV3IG9mIHRoZSBnaXZlbiB0eXBlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSBPbmUgb2YgYGludDhgLCBgdWludDhgLCBgaW50MTZgLFxuICAgICAqICAgIGB1aW50MTZgLCBgaW50MzJgLCBgdWludDMyYCwgYW5kIGBmbG9hdDMyYC5cbiAgICAgKiBAcmV0dXJuIHtvYmplY3R9IHR5cGVkIGFycmF5IG9mIGdpdmVuIHR5cGVcbiAgICAgKi9cbiAgICB2aWV3KHR5cGU6IHN0cmluZyk6IElUeXBlZEFycmF5XG4gICAge1xuICAgICAgICByZXR1cm4gKHRoaXMgYXMgYW55KVtgJHt0eXBlfVZpZXdgXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyBhbGwgYnVmZmVyIHJlZmVyZW5jZXMuIERvIG5vdCB1c2UgYWZ0ZXIgY2FsbGluZ1xuICAgICAqIHRoaXMuXG4gICAgICovXG4gICAgZGVzdHJveSgpOiB2b2lkXG4gICAge1xuICAgICAgICB0aGlzLnJhd0JpbmFyeURhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLl9pbnQ4VmlldyA9IG51bGw7XG4gICAgICAgIHRoaXMuX3VpbnQ4VmlldyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2ludDE2VmlldyA9IG51bGw7XG4gICAgICAgIHRoaXMuX3VpbnQxNlZpZXcgPSBudWxsO1xuICAgICAgICB0aGlzLl9pbnQzMlZpZXcgPSBudWxsO1xuICAgICAgICB0aGlzLnVpbnQzMlZpZXcgPSBudWxsO1xuICAgICAgICB0aGlzLmZsb2F0MzJWaWV3ID0gbnVsbDtcbiAgICB9XG5cbiAgICBzdGF0aWMgc2l6ZU9mKHR5cGU6IHN0cmluZyk6IG51bWJlclxuICAgIHtcbiAgICAgICAgc3dpdGNoICh0eXBlKVxuICAgICAgICB7XG4gICAgICAgICAgICBjYXNlICdpbnQ4JzpcbiAgICAgICAgICAgIGNhc2UgJ3VpbnQ4JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgICAgIGNhc2UgJ2ludDE2JzpcbiAgICAgICAgICAgIGNhc2UgJ3VpbnQxNic6XG4gICAgICAgICAgICAgICAgcmV0dXJuIDI7XG4gICAgICAgICAgICBjYXNlICdpbnQzMic6XG4gICAgICAgICAgICBjYXNlICd1aW50MzInOlxuICAgICAgICAgICAgY2FzZSAnZmxvYXQzMic6XG4gICAgICAgICAgICAgICAgcmV0dXJuIDQ7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgJHt0eXBlfSBpc24ndCBhIHZhbGlkIHZpZXcgdHlwZWApO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQmF0Y2hEcmF3Q2FsbCB9IGZyb20gJy4vQmF0Y2hEcmF3Q2FsbCc7XG5pbXBvcnQgeyBCYXRjaFRleHR1cmVBcnJheSB9IGZyb20gJy4vQmF0Y2hUZXh0dXJlQXJyYXknO1xuaW1wb3J0IHsgQmFzZVRleHR1cmUgfSBmcm9tICcuLi90ZXh0dXJlcy9CYXNlVGV4dHVyZSc7XG5pbXBvcnQgeyBPYmplY3RSZW5kZXJlciB9IGZyb20gJy4vT2JqZWN0UmVuZGVyZXInO1xuaW1wb3J0IHsgU3RhdGUgfSBmcm9tICcuLi9zdGF0ZS9TdGF0ZSc7XG5pbXBvcnQgeyBWaWV3YWJsZUJ1ZmZlciB9IGZyb20gJy4uL2dlb21ldHJ5L1ZpZXdhYmxlQnVmZmVyJztcblxuaW1wb3J0IHsgY2hlY2tNYXhJZlN0YXRlbWVudHNJblNoYWRlciB9IGZyb20gJy4uL3NoYWRlci91dGlscy9jaGVja01heElmU3RhdGVtZW50c0luU2hhZGVyJztcblxuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5pbXBvcnQgeyBwcmVtdWx0aXBseUJsZW5kTW9kZSwgcHJlbXVsdGlwbHlUaW50LCBuZXh0UG93MiwgbG9nMiB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCB7IEVOViB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5cbmltcG9ydCB0eXBlIHsgUmVuZGVyZXIgfSBmcm9tICcuLi9SZW5kZXJlcic7XG5pbXBvcnQgdHlwZSB7IFNoYWRlciB9IGZyb20gJy4uL3NoYWRlci9TaGFkZXInO1xuaW1wb3J0IHR5cGUgeyBCYXRjaFNoYWRlckdlbmVyYXRvciB9IGZyb20gJy4vQmF0Y2hTaGFkZXJHZW5lcmF0b3InO1xuaW1wb3J0IHR5cGUgeyBCYXRjaEdlb21ldHJ5IH0gZnJvbSAnLi9CYXRjaEdlb21ldHJ5JztcbmltcG9ydCB0eXBlIHsgVGV4dHVyZSB9IGZyb20gJy4uL3RleHR1cmVzL1RleHR1cmUnO1xuaW1wb3J0IHR5cGUgeyBCTEVORF9NT0RFUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5cbi8qKlxuICogSW50ZXJmYWNlIGZvciBlbGVtZW50cyBsaWtlIFNwcml0ZSwgTWVzaCBldGMuIGZvciBiYXRjaGluZy5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJQmF0Y2hhYmxlRWxlbWVudCB7XG4gICAgX3RleHR1cmU6IFRleHR1cmU7XG4gICAgdmVydGV4RGF0YTogRmxvYXQzMkFycmF5O1xuICAgIGluZGljZXM6IFVpbnQxNkFycmF5IHwgVWludDMyQXJyYXkgfCBBcnJheTxudW1iZXI+O1xuICAgIHV2czogRmxvYXQzMkFycmF5O1xuICAgIHdvcmxkQWxwaGE6IG51bWJlcjtcbiAgICBfdGludFJHQjogbnVtYmVyO1xuICAgIGJsZW5kTW9kZTogQkxFTkRfTU9ERVM7XG59XG5cbi8qKlxuICogUmVuZGVyZXIgZGVkaWNhdGVkIHRvIGRyYXdpbmcgYW5kIGJhdGNoaW5nIHNwcml0ZXMuXG4gKlxuICogVGhpcyBpcyB0aGUgZGVmYXVsdCBiYXRjaCByZW5kZXJlci4gSXQgYnVmZmVycyBvYmplY3RzXG4gKiB3aXRoIHRleHR1cmUtYmFzZWQgZ2VvbWV0cmllcyBhbmQgcmVuZGVycyB0aGVtIGluXG4gKiBiYXRjaGVzLiBJdCB1cGxvYWRzIG11bHRpcGxlIHRleHR1cmVzIHRvIHRoZSBHUFUgdG9cbiAqIHJlZHVjZSB0byB0aGUgbnVtYmVyIG9mIGRyYXcgY2FsbHMuXG4gKlxuICogQGNsYXNzXG4gKiBAcHJvdGVjdGVkXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGV4dGVuZHMgUElYSS5PYmplY3RSZW5kZXJlclxuICovXG5leHBvcnQgY2xhc3MgQWJzdHJhY3RCYXRjaFJlbmRlcmVyIGV4dGVuZHMgT2JqZWN0UmVuZGVyZXJcbntcbiAgICBwdWJsaWMgcmVhZG9ubHkgc3RhdGU6IFN0YXRlO1xuICAgIHB1YmxpYyBzaXplOiBudW1iZXI7XG4gICAgcHVibGljIE1BWF9URVhUVVJFUzogbnVtYmVyO1xuXG4gICAgcHJvdGVjdGVkIHNoYWRlckdlbmVyYXRvcjogQmF0Y2hTaGFkZXJHZW5lcmF0b3I7XG4gICAgcHJvdGVjdGVkIGdlb21ldHJ5Q2xhc3M6IHR5cGVvZiBCYXRjaEdlb21ldHJ5O1xuICAgIHByb3RlY3RlZCB2ZXJ0ZXhTaXplOiBudW1iZXI7XG4gICAgcHJvdGVjdGVkIF92ZXJ0ZXhDb3VudDogbnVtYmVyO1xuICAgIHByb3RlY3RlZCBfaW5kZXhDb3VudDogbnVtYmVyO1xuICAgIHByb3RlY3RlZCBfYnVmZmVyZWRFbGVtZW50czogQXJyYXk8SUJhdGNoYWJsZUVsZW1lbnQ+O1xuICAgIHByb3RlY3RlZCBfYnVmZmVyZWRUZXh0dXJlczogQXJyYXk8QmFzZVRleHR1cmU+O1xuICAgIHByb3RlY3RlZCBfYnVmZmVyU2l6ZTogbnVtYmVyO1xuICAgIHByb3RlY3RlZCBfc2hhZGVyOiBTaGFkZXI7XG4gICAgcHJvdGVjdGVkIF9mbHVzaElkOiBudW1iZXI7XG4gICAgcHJvdGVjdGVkIF9hQnVmZmVyczogQXJyYXk8Vmlld2FibGVCdWZmZXI+O1xuICAgIHByb3RlY3RlZCBfaUJ1ZmZlcnM6IEFycmF5PFVpbnQxNkFycmF5PjtcbiAgICBwcm90ZWN0ZWQgX2RjSW5kZXg6IG51bWJlcjtcbiAgICBwcm90ZWN0ZWQgX2FJbmRleDogbnVtYmVyO1xuICAgIHByb3RlY3RlZCBfaUluZGV4OiBudW1iZXI7XG4gICAgcHJvdGVjdGVkIF9hdHRyaWJ1dGVCdWZmZXI6IFZpZXdhYmxlQnVmZmVyO1xuICAgIHByb3RlY3RlZCBfaW5kZXhCdWZmZXI6IFVpbnQxNkFycmF5O1xuICAgIHByb3RlY3RlZCBfdGVtcEJvdW5kVGV4dHVyZXM6IEJhc2VUZXh0dXJlW107XG5cbiAgICBwcml2YXRlIF9wYWNrZWRHZW9tZXRyaWVzOiBBcnJheTxCYXRjaEdlb21ldHJ5PjtcbiAgICBwcml2YXRlIF9wYWNrZWRHZW9tZXRyeVBvb2xTaXplOiBudW1iZXI7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIHdpbGwgaG9vayBvbnRvIHRoZSByZW5kZXJlcidzIGBjb250ZXh0Q2hhbmdlYFxuICAgICAqIGFuZCBgcHJlcmVuZGVyYCBzaWduYWxzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihyZW5kZXJlcjogUmVuZGVyZXIpXG4gICAge1xuICAgICAgICBzdXBlcihyZW5kZXJlcik7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgaXMgdXNlZCB0byBnZW5lcmF0ZSBhIHNoYWRlciB0aGF0IGNhblxuICAgICAgICAgKiBjb2xvciBlYWNoIHZlcnRleCBiYXNlZCBvbiBhIGBhVGV4dHVyZUlkYFxuICAgICAgICAgKiBhdHRyaWJ1dGUgdGhhdCBwb2ludHMgdG8gYW4gdGV4dHVyZSBpbiBgdVNhbXBsZXJgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGlzIGVuYWJsZXMgdGhlIG9iamVjdHMgd2l0aCBkaWZmZXJlbnQgdGV4dHVyZXNcbiAgICAgICAgICogdG8gYmUgZHJhd24gaW4gdGhlIHNhbWUgZHJhdyBjYWxsLlxuICAgICAgICAgKlxuICAgICAgICAgKiBZb3UgY2FuIGN1c3RvbWl6ZSB5b3VyIHNoYWRlciBieSBjcmVhdGluZyB5b3VyXG4gICAgICAgICAqIGN1c3RvbSBzaGFkZXIgZ2VuZXJhdG9yLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJhdGNoU2hhZGVyR2VuZXJhdG9yfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNoYWRlckdlbmVyYXRvciA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjbGFzcyB0aGF0IHJlcHJlc2VudHMgdGhlIGdlb21ldHJ5IG9mIG9iamVjdHNcbiAgICAgICAgICogdGhhdCBhcmUgZ29pbmcgdG8gYmUgYmF0Y2hlZCB3aXRoIHRoaXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5CYXRjaEdlb21ldHJ5XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZ2VvbWV0cnlDbGFzcyA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNpemUgb2YgZGF0YSBiZWluZyBidWZmZXJlZCBwZXIgdmVydGV4IGluIHRoZVxuICAgICAgICAgKiBhdHRyaWJ1dGUgYnVmZmVycyAoaW4gZmxvYXRzKS4gQnkgZGVmYXVsdCwgdGhlXG4gICAgICAgICAqIGJhdGNoLXJlbmRlcmVyIHBsdWdpbiB1c2VzIDY6XG4gICAgICAgICAqXG4gICAgICAgICAqIHwgYVZlcnRleFBvc2l0aW9uIHwgMiB8XG4gICAgICAgICAqIHwtLS0tLS0tLS0tLS0tLS0tLXwtLS18XG4gICAgICAgICAqIHwgYVRleHR1cmVDb29yZHMgIHwgMiB8XG4gICAgICAgICAqIHwgYUNvbG9yICAgICAgICAgIHwgMSB8XG4gICAgICAgICAqIHwgYVRleHR1cmVJZCAgICAgIHwgMSB8XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnZlcnRleFNpemUgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgV2ViR0wgc3RhdGUgaW4gd2hpY2ggdGhpcyByZW5kZXJlciB3aWxsIHdvcmsuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU3RhdGV9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLmZvcjJkKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBudW1iZXIgb2YgYnVmZmVyYWJsZSBvYmplY3RzIGJlZm9yZSBhIGZsdXNoXG4gICAgICAgICAqIG9jY3VycyBhdXRvbWF0aWNhbGx5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IHNldHRpbmdzLlNQUklURV9CQVRDSF9TSVpFICogNFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zaXplID0gc2V0dGluZ3MuU1BSSVRFX0JBVENIX1NJWkUgKiA0O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUb3RhbCBjb3VudCBvZiBhbGwgdmVydGljZXMgdXNlZCBieSB0aGUgY3VycmVudGx5XG4gICAgICAgICAqIGJ1ZmZlcmVkIG9iamVjdHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3ZlcnRleENvdW50ID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVG90YWwgY291bnQgb2YgYWxsIGluZGljZXMgdXNlZCBieSB0aGUgY3VycmVudGx5XG4gICAgICAgICAqIGJ1ZmZlcmVkIG9iamVjdHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2luZGV4Q291bnQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCdWZmZXIgb2Ygb2JqZWN0cyB0aGF0IGFyZSB5ZXQgdG8gYmUgcmVuZGVyZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuRGlzcGxheU9iamVjdFtdfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYnVmZmVyZWRFbGVtZW50cyA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEYXRhIGZvciB0ZXh0dXJlIGJhdGNoIGJ1aWxkZXIsIGhlbHBzIHRvIHNhdmUgYSBiaXQgb2YgQ1BVIG9uIGEgcGFzcy5cbiAgICAgICAgICogQHR5cGUge1BJWEkuQmFzZVRleHR1cmVbXX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2J1ZmZlcmVkVGV4dHVyZXMgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTnVtYmVyIG9mIGVsZW1lbnRzIHRoYXQgYXJlIGJ1ZmZlcmVkIGFuZCBhcmVcbiAgICAgICAgICogd2FpdGluZyB0byBiZSBmbHVzaGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9idWZmZXJTaXplID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBzaGFkZXIgaXMgZ2VuZXJhdGVkIGJ5IGB0aGlzLnNoYWRlckdlbmVyYXRvcmAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEl0IGlzIGdlbmVyYXRlZCBzcGVjaWZpY2FsbHkgdG8gaGFuZGxlIHRoZSByZXF1aXJlZFxuICAgICAgICAgKiBudW1iZXIgb2YgdGV4dHVyZXMgYmVpbmcgYmF0Y2hlZCB0b2dldGhlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5TaGFkZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3NoYWRlciA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBvb2wgb2YgYHRoaXMuZ2VvbWV0cnlDbGFzc2AgZ2VvbWV0cnkgb2JqZWN0c1xuICAgICAgICAgKiB0aGF0IHN0b3JlIGJ1ZmZlcnMuIFRoZXkgYXJlIHVzZWQgdG8gcGFzcyBkYXRhXG4gICAgICAgICAqIHRvIHRoZSBzaGFkZXIgb24gZWFjaCBkcmF3IGNhbGwuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZXNlIGFyZSBuZXZlciByZS1hbGxvY2F0ZWQgYWdhaW4sIHVubGVzcyBhXG4gICAgICAgICAqIGNvbnRleHQgY2hhbmdlIG9jY3VyczsgaG93ZXZlciwgdGhlIHBvb2wgbWF5XG4gICAgICAgICAqIGJlIGV4cGFuZGVkIGlmIHJlcXVpcmVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkdlb21ldHJ5W119XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBzZWUgUElYSS5BYnN0cmFjdEJhdGNoUmVuZGVyZXIuY29udGV4dENoYW5nZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fcGFja2VkR2VvbWV0cmllcyA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTaXplIG9mIGB0aGlzLl9wYWNrZWRHZW9tZXRyaWVzYC4gSXQgY2FuIGJlIGV4cGFuZGVkXG4gICAgICAgICAqIGlmIG1vcmUgdGhhbiBgdGhpcy5fcGFja2VkR2VvbWV0cnlQb29sU2l6ZWAgZmx1c2hlc1xuICAgICAgICAgKiBvY2N1ciBpbiBhIHNpbmdsZSBmcmFtZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fcGFja2VkR2VvbWV0cnlQb29sU2l6ZSA9IDI7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgZmx1c2ggbWF5IG9jY3VyIG11bHRpcGxlIHRpbWVzIGluIGEgc2luZ2xlXG4gICAgICAgICAqIGZyYW1lLiBPbiBpT1MgZGV2aWNlcyBvciB3aGVuXG4gICAgICAgICAqIGBzZXR0aW5ncy5DQU5fVVBMT0FEX1NBTUVfQlVGRkVSYCBpcyBmYWxzZSwgdGhlXG4gICAgICAgICAqIGJhdGNoIHJlbmRlcmVyIGRvZXMgbm90IHVwbG9hZCBkYXRhIHRvIHRoZSBzYW1lXG4gICAgICAgICAqIGBXZWJHTEJ1ZmZlcmAgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoaXMgaXMgdGhlIGluZGV4IGludG8gYHBhY2tlZEdlb21ldHJpZXNgIHRoYXQgcG9pbnRzIHRvXG4gICAgICAgICAqIGdlb21ldHJ5IGhvbGRpbmcgdGhlIG1vc3QgcmVjZW50IGJ1ZmZlcnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2ZsdXNoSWQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQb29sIG9mIGBWaWV3YWJsZUJ1ZmZlcmAgb2JqZWN0cyB0aGF0IGFyZSBzb3J0ZWQgaW5cbiAgICAgICAgICogb3JkZXIgb2YgaW5jcmVhc2luZyBzaXplLiBUaGUgZmx1c2ggbWV0aG9kIHVzZXNcbiAgICAgICAgICogdGhlIGJ1ZmZlciB3aXRoIHRoZSBsZWFzdCBzaXplIGFib3ZlIHRoZSBhbW91bnRcbiAgICAgICAgICogaXQgcmVxdWlyZXMuIFRoZXNlIGFyZSB1c2VkIGZvciBwYXNzaW5nIGF0dHJpYnV0ZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZSBmaXJzdCBidWZmZXIgaGFzIGEgc2l6ZSBvZiA4OyBlYWNoIHN1YnNlcXVlbnRcbiAgICAgICAgICogYnVmZmVyIGhhcyBkb3VibGUgY2FwYWNpdHkgb2YgaXRzIHByZXZpb3VzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlZpZXdhYmxlQnVmZmVyW119XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBzZWUgUElYSS5BYnN0cmFjdEJhdGNoUmVuZGVyZXIjZ2V0QXR0cmlidXRlQnVmZmVyXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9hQnVmZmVycyA9IHt9IGFzIGFueTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUG9vbCBvZiBgVWludDE2QXJyYXlgIG9iamVjdHMgdGhhdCBhcmUgc29ydGVkIGluXG4gICAgICAgICAqIG9yZGVyIG9mIGluY3JlYXNpbmcgc2l6ZS4gVGhlIGZsdXNoIG1ldGhvZCB1c2VzXG4gICAgICAgICAqIHRoZSBidWZmZXIgd2l0aCB0aGUgbGVhc3Qgc2l6ZSBhYm92ZSB0aGUgYW1vdW50XG4gICAgICAgICAqIGl0IHJlcXVpcmVzLiBUaGVzZSBhcmUgdXNlZCBmb3IgcGFzc2luZyBpbmRpY2VzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGUgZmlyc3QgYnVmZmVyIGhhcyBhIHNpemUgb2YgMTI7IGVhY2ggc3Vic2VxdWVudFxuICAgICAgICAgKiBidWZmZXIgaGFzIGRvdWJsZSBjYXBhY2l0eSBvZiBpdHMgcHJldmlvdXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1VpbnQxNkFycmF5W119XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBzZWUgUElYSS5BYnN0cmFjdEJhdGNoUmVuZGVyZXIjZ2V0SW5kZXhCdWZmZXJcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2lCdWZmZXJzID0ge30gYXMgYW55O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYXhpbXVtIG51bWJlciBvZiB0ZXh0dXJlcyB0aGF0IGNhbiBiZSB1cGxvYWRlZCB0b1xuICAgICAgICAgKiB0aGUgR1BVIHVuZGVyIHRoZSBjdXJyZW50IGNvbnRleHQuIEl0IGlzIGluaXRpYWxpemVkXG4gICAgICAgICAqIHByb3Blcmx5IGluIGB0aGlzLmNvbnRleHRDaGFuZ2VgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBzZWUgUElYSS5BYnN0cmFjdEJhdGNoUmVuZGVyZXIjY29udGV4dENoYW5nZVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuTUFYX1RFWFRVUkVTID0gMTtcblxuICAgICAgICB0aGlzLnJlbmRlcmVyLm9uKCdwcmVyZW5kZXInLCB0aGlzLm9uUHJlcmVuZGVyLCB0aGlzKTtcbiAgICAgICAgcmVuZGVyZXIucnVubmVycy5jb250ZXh0Q2hhbmdlLmFkZCh0aGlzKTtcblxuICAgICAgICB0aGlzLl9kY0luZGV4ID0gMDtcbiAgICAgICAgdGhpcy5fYUluZGV4ID0gMDtcbiAgICAgICAgdGhpcy5faUluZGV4ID0gMDtcbiAgICAgICAgdGhpcy5fYXR0cmlidXRlQnVmZmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5faW5kZXhCdWZmZXIgPSBudWxsO1xuICAgICAgICB0aGlzLl90ZW1wQm91bmRUZXh0dXJlcyA9IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgdGhlIGBjb250ZXh0Q2hhbmdlYCBzaWduYWwuXG4gICAgICpcbiAgICAgKiBJdCBjYWxjdWxhdGVzIGB0aGlzLk1BWF9URVhUVVJFU2AgYW5kIGFsbG9jYXRpbmcgdGhlXG4gICAgICogcGFja2VkLWdlb21ldHJ5IG9iamVjdCBwb29sLlxuICAgICAqL1xuICAgIGNvbnRleHRDaGFuZ2UoKTogdm9pZFxuICAgIHtcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuXG4gICAgICAgIGlmIChzZXR0aW5ncy5QUkVGRVJfRU5WID09PSBFTlYuV0VCR0xfTEVHQUNZKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLk1BWF9URVhUVVJFUyA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBzdGVwIDE6IGZpcnN0IGNoZWNrIG1heCB0ZXh0dXJlcyB0aGUgR1BVIGNhbiBoYW5kbGUuXG4gICAgICAgICAgICB0aGlzLk1BWF9URVhUVVJFUyA9IE1hdGgubWluKFxuICAgICAgICAgICAgICAgIGdsLmdldFBhcmFtZXRlcihnbC5NQVhfVEVYVFVSRV9JTUFHRV9VTklUUyksXG4gICAgICAgICAgICAgICAgc2V0dGluZ3MuU1BSSVRFX01BWF9URVhUVVJFUyk7XG5cbiAgICAgICAgICAgIC8vIHN0ZXAgMjogY2hlY2sgdGhlIG1heGltdW0gbnVtYmVyIG9mIGlmIHN0YXRlbWVudHMgdGhlIHNoYWRlciBjYW4gaGF2ZSB0b28uLlxuICAgICAgICAgICAgdGhpcy5NQVhfVEVYVFVSRVMgPSBjaGVja01heElmU3RhdGVtZW50c0luU2hhZGVyKFxuICAgICAgICAgICAgICAgIHRoaXMuTUFYX1RFWFRVUkVTLCBnbCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9zaGFkZXIgPSB0aGlzLnNoYWRlckdlbmVyYXRvci5nZW5lcmF0ZVNoYWRlcih0aGlzLk1BWF9URVhUVVJFUyk7XG5cbiAgICAgICAgLy8gd2UgdXNlIHRoZSBzZWNvbmQgc2hhZGVyIGFzIHRoZSBmaXJzdCBvbmUgZGVwZW5kaW5nIG9uIHlvdXIgYnJvd3NlclxuICAgICAgICAvLyBtYXkgb21pdCBhVGV4dHVyZUlkIGFzIGl0IGlzIG5vdCB1c2VkIGJ5IHRoZSBzaGFkZXIgc28gaXMgb3B0aW1pemVkIG91dC5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9wYWNrZWRHZW9tZXRyeVBvb2xTaXplOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbiAgICAgICAgICAgIHRoaXMuX3BhY2tlZEdlb21ldHJpZXNbaV0gPSBuZXcgKHRoaXMuZ2VvbWV0cnlDbGFzcykoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaW5pdEZsdXNoQnVmZmVycygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1ha2VzIHN1cmUgdGhhdCBzdGF0aWMgYW5kIGR5bmFtaWMgZmx1c2ggcG9vbGVkIG9iamVjdHMgaGF2ZSBjb3JyZWN0IGRpbWVuc2lvbnNcbiAgICAgKi9cbiAgICBpbml0Rmx1c2hCdWZmZXJzKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIF9kcmF3Q2FsbFBvb2wsXG4gICAgICAgICAgICBfdGV4dHVyZUFycmF5UG9vbCxcbiAgICAgICAgfSA9IEFic3RyYWN0QmF0Y2hSZW5kZXJlcjtcbiAgICAgICAgLy8gbWF4IGRyYXcgY2FsbHNcbiAgICAgICAgY29uc3QgTUFYX1NQUklURVMgPSB0aGlzLnNpemUgLyA0O1xuICAgICAgICAvLyBtYXggdGV4dHVyZSBhcnJheXNcbiAgICAgICAgY29uc3QgTUFYX1RBID0gTWF0aC5mbG9vcihNQVhfU1BSSVRFUyAvIHRoaXMuTUFYX1RFWFRVUkVTKSArIDE7XG5cbiAgICAgICAgd2hpbGUgKF9kcmF3Q2FsbFBvb2wubGVuZ3RoIDwgTUFYX1NQUklURVMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIF9kcmF3Q2FsbFBvb2wucHVzaChuZXcgQmF0Y2hEcmF3Q2FsbCgpKTtcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAoX3RleHR1cmVBcnJheVBvb2wubGVuZ3RoIDwgTUFYX1RBKVxuICAgICAgICB7XG4gICAgICAgICAgICBfdGV4dHVyZUFycmF5UG9vbC5wdXNoKG5ldyBCYXRjaFRleHR1cmVBcnJheSgpKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuTUFYX1RFWFRVUkVTOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3RlbXBCb3VuZFRleHR1cmVzW2ldID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgdGhlIGBwcmVyZW5kZXJgIHNpZ25hbC5cbiAgICAgKlxuICAgICAqIEl0IGVuc3VyZXMgdGhhdCBmbHVzaGVzIHN0YXJ0IGZyb20gdGhlIGZpcnN0IGdlb21ldHJ5XG4gICAgICogb2JqZWN0IGFnYWluLlxuICAgICAqL1xuICAgIG9uUHJlcmVuZGVyKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHRoaXMuX2ZsdXNoSWQgPSAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEJ1ZmZlcnMgdGhlIFwiYmF0Y2hhYmxlXCIgb2JqZWN0LiBJdCBuZWVkIG5vdCBiZSByZW5kZXJlZFxuICAgICAqIGltbWVkaWF0ZWx5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGVsZW1lbnQgLSB0aGUgZWxlbWVudCB0byByZW5kZXIgd2hlblxuICAgICAqICAgIHVzaW5nIHRoaXMgcmVuZGVyZXJcbiAgICAgKi9cbiAgICByZW5kZXIoZWxlbWVudDogSUJhdGNoYWJsZUVsZW1lbnQpOiB2b2lkXG4gICAge1xuICAgICAgICBpZiAoIWVsZW1lbnQuX3RleHR1cmUudmFsaWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl92ZXJ0ZXhDb3VudCArIChlbGVtZW50LnZlcnRleERhdGEubGVuZ3RoIC8gMikgPiB0aGlzLnNpemUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZmx1c2goKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3ZlcnRleENvdW50ICs9IGVsZW1lbnQudmVydGV4RGF0YS5sZW5ndGggLyAyO1xuICAgICAgICB0aGlzLl9pbmRleENvdW50ICs9IGVsZW1lbnQuaW5kaWNlcy5sZW5ndGg7XG4gICAgICAgIHRoaXMuX2J1ZmZlcmVkVGV4dHVyZXNbdGhpcy5fYnVmZmVyU2l6ZV0gPSBlbGVtZW50Ll90ZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgICAgICB0aGlzLl9idWZmZXJlZEVsZW1lbnRzW3RoaXMuX2J1ZmZlclNpemUrK10gPSBlbGVtZW50O1xuICAgIH1cblxuICAgIGJ1aWxkVGV4dHVyZXNBbmREcmF3Q2FsbHMoKTogdm9pZFxuICAgIHtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgX2J1ZmZlcmVkVGV4dHVyZXM6IHRleHR1cmVzLFxuICAgICAgICAgICAgTUFYX1RFWFRVUkVTLFxuICAgICAgICB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgdGV4dHVyZUFycmF5cyA9IEFic3RyYWN0QmF0Y2hSZW5kZXJlci5fdGV4dHVyZUFycmF5UG9vbDtcbiAgICAgICAgY29uc3QgYmF0Y2ggPSB0aGlzLnJlbmRlcmVyLmJhdGNoO1xuICAgICAgICBjb25zdCBib3VuZFRleHR1cmVzID0gdGhpcy5fdGVtcEJvdW5kVGV4dHVyZXM7XG4gICAgICAgIGNvbnN0IHRvdWNoID0gdGhpcy5yZW5kZXJlci50ZXh0dXJlR0MuY291bnQ7XG5cbiAgICAgICAgbGV0IFRJQ0sgPSArK0Jhc2VUZXh0dXJlLl9nbG9iYWxCYXRjaDtcbiAgICAgICAgbGV0IGNvdW50VGV4QXJyYXlzID0gMDtcbiAgICAgICAgbGV0IHRleEFycmF5ID0gdGV4dHVyZUFycmF5c1swXTtcbiAgICAgICAgbGV0IHN0YXJ0ID0gMDtcblxuICAgICAgICBiYXRjaC5jb3B5Qm91bmRUZXh0dXJlcyhib3VuZFRleHR1cmVzLCBNQVhfVEVYVFVSRVMpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fYnVmZmVyU2l6ZTsgKytpKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCB0ZXggPSB0ZXh0dXJlc1tpXTtcblxuICAgICAgICAgICAgdGV4dHVyZXNbaV0gPSBudWxsO1xuICAgICAgICAgICAgaWYgKHRleC5fYmF0Y2hFbmFibGVkID09PSBUSUNLKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGV4QXJyYXkuY291bnQgPj0gTUFYX1RFWFRVUkVTKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGJhdGNoLmJvdW5kQXJyYXkodGV4QXJyYXksIGJvdW5kVGV4dHVyZXMsIFRJQ0ssIE1BWF9URVhUVVJFUyk7XG4gICAgICAgICAgICAgICAgdGhpcy5idWlsZERyYXdDYWxscyh0ZXhBcnJheSwgc3RhcnQsIGkpO1xuICAgICAgICAgICAgICAgIHN0YXJ0ID0gaTtcbiAgICAgICAgICAgICAgICB0ZXhBcnJheSA9IHRleHR1cmVBcnJheXNbKytjb3VudFRleEFycmF5c107XG4gICAgICAgICAgICAgICAgKytUSUNLO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0ZXguX2JhdGNoRW5hYmxlZCA9IFRJQ0s7XG4gICAgICAgICAgICB0ZXgudG91Y2hlZCA9IHRvdWNoO1xuICAgICAgICAgICAgdGV4QXJyYXkuZWxlbWVudHNbdGV4QXJyYXkuY291bnQrK10gPSB0ZXg7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGV4QXJyYXkuY291bnQgPiAwKVxuICAgICAgICB7XG4gICAgICAgICAgICBiYXRjaC5ib3VuZEFycmF5KHRleEFycmF5LCBib3VuZFRleHR1cmVzLCBUSUNLLCBNQVhfVEVYVFVSRVMpO1xuICAgICAgICAgICAgdGhpcy5idWlsZERyYXdDYWxscyh0ZXhBcnJheSwgc3RhcnQsIHRoaXMuX2J1ZmZlclNpemUpO1xuICAgICAgICAgICAgKytjb3VudFRleEFycmF5cztcbiAgICAgICAgICAgICsrVElDSztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENsZWFuLXVwXG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBib3VuZFRleHR1cmVzLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBib3VuZFRleHR1cmVzW2ldID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBCYXNlVGV4dHVyZS5fZ2xvYmFsQmF0Y2ggPSBUSUNLO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBvcHVsYXRpbmcgZHJhd2NhbGxzIGZvciByZW5kZXJpbmdcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5CYXRjaFRleHR1cmVBcnJheX0gdGV4QXJyYXlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZmluaXNoXG4gICAgICovXG4gICAgYnVpbGREcmF3Q2FsbHModGV4QXJyYXk6IEJhdGNoVGV4dHVyZUFycmF5LCBzdGFydDogbnVtYmVyLCBmaW5pc2g6IG51bWJlcik6IHZvaWRcbiAgICB7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIF9idWZmZXJlZEVsZW1lbnRzOiBlbGVtZW50cyxcbiAgICAgICAgICAgIF9hdHRyaWJ1dGVCdWZmZXIsXG4gICAgICAgICAgICBfaW5kZXhCdWZmZXIsXG4gICAgICAgICAgICB2ZXJ0ZXhTaXplLFxuICAgICAgICB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgZHJhd0NhbGxzID0gQWJzdHJhY3RCYXRjaFJlbmRlcmVyLl9kcmF3Q2FsbFBvb2w7XG5cbiAgICAgICAgbGV0IGRjSW5kZXggPSB0aGlzLl9kY0luZGV4O1xuICAgICAgICBsZXQgYUluZGV4ID0gdGhpcy5fYUluZGV4O1xuICAgICAgICBsZXQgaUluZGV4ID0gdGhpcy5faUluZGV4O1xuXG4gICAgICAgIGxldCBkcmF3Q2FsbCA9IGRyYXdDYWxsc1tkY0luZGV4XTtcblxuICAgICAgICBkcmF3Q2FsbC5zdGFydCA9IHRoaXMuX2lJbmRleDtcbiAgICAgICAgZHJhd0NhbGwudGV4QXJyYXkgPSB0ZXhBcnJheTtcblxuICAgICAgICBmb3IgKGxldCBpID0gc3RhcnQ7IGkgPCBmaW5pc2g7ICsraSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3Qgc3ByaXRlID0gZWxlbWVudHNbaV07XG4gICAgICAgICAgICBjb25zdCB0ZXggPSBzcHJpdGUuX3RleHR1cmUuYmFzZVRleHR1cmU7XG4gICAgICAgICAgICBjb25zdCBzcHJpdGVCbGVuZE1vZGUgPSBwcmVtdWx0aXBseUJsZW5kTW9kZVtcbiAgICAgICAgICAgICAgICB0ZXguYWxwaGFNb2RlID8gMSA6IDBdW3Nwcml0ZS5ibGVuZE1vZGVdO1xuXG4gICAgICAgICAgICBlbGVtZW50c1tpXSA9IG51bGw7XG5cbiAgICAgICAgICAgIGlmIChzdGFydCA8IGkgJiYgZHJhd0NhbGwuYmxlbmQgIT09IHNwcml0ZUJsZW5kTW9kZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkcmF3Q2FsbC5zaXplID0gaUluZGV4IC0gZHJhd0NhbGwuc3RhcnQ7XG4gICAgICAgICAgICAgICAgc3RhcnQgPSBpO1xuICAgICAgICAgICAgICAgIGRyYXdDYWxsID0gZHJhd0NhbGxzWysrZGNJbmRleF07XG4gICAgICAgICAgICAgICAgZHJhd0NhbGwudGV4QXJyYXkgPSB0ZXhBcnJheTtcbiAgICAgICAgICAgICAgICBkcmF3Q2FsbC5zdGFydCA9IGlJbmRleDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5wYWNrSW50ZXJsZWF2ZWRHZW9tZXRyeShzcHJpdGUsIF9hdHRyaWJ1dGVCdWZmZXIsIF9pbmRleEJ1ZmZlciwgYUluZGV4LCBpSW5kZXgpO1xuICAgICAgICAgICAgYUluZGV4ICs9IHNwcml0ZS52ZXJ0ZXhEYXRhLmxlbmd0aCAvIDIgKiB2ZXJ0ZXhTaXplO1xuICAgICAgICAgICAgaUluZGV4ICs9IHNwcml0ZS5pbmRpY2VzLmxlbmd0aDtcblxuICAgICAgICAgICAgZHJhd0NhbGwuYmxlbmQgPSBzcHJpdGVCbGVuZE1vZGU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3RhcnQgPCBmaW5pc2gpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRyYXdDYWxsLnNpemUgPSBpSW5kZXggLSBkcmF3Q2FsbC5zdGFydDtcbiAgICAgICAgICAgICsrZGNJbmRleDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2RjSW5kZXggPSBkY0luZGV4O1xuICAgICAgICB0aGlzLl9hSW5kZXggPSBhSW5kZXg7XG4gICAgICAgIHRoaXMuX2lJbmRleCA9IGlJbmRleDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBCaW5kIHRleHR1cmVzIGZvciBjdXJyZW50IHJlbmRlcmluZ1xuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkJhdGNoVGV4dHVyZUFycmF5fSB0ZXhBcnJheVxuICAgICAqL1xuICAgIGJpbmRBbmRDbGVhclRleEFycmF5KHRleEFycmF5OiBCYXRjaFRleHR1cmVBcnJheSk6IHZvaWRcbiAgICB7XG4gICAgICAgIGNvbnN0IHRleHR1cmVTeXN0ZW0gPSB0aGlzLnJlbmRlcmVyLnRleHR1cmU7XG5cbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0ZXhBcnJheS5jb3VudDsgaisrKVxuICAgICAgICB7XG4gICAgICAgICAgICB0ZXh0dXJlU3lzdGVtLmJpbmQodGV4QXJyYXkuZWxlbWVudHNbal0sIHRleEFycmF5Lmlkc1tqXSk7XG4gICAgICAgICAgICB0ZXhBcnJheS5lbGVtZW50c1tqXSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGV4QXJyYXkuY291bnQgPSAwO1xuICAgIH1cblxuICAgIHVwZGF0ZUdlb21ldHJ5KCk6IHZvaWRcbiAgICB7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIF9wYWNrZWRHZW9tZXRyaWVzOiBwYWNrZWRHZW9tZXRyaWVzLFxuICAgICAgICAgICAgX2F0dHJpYnV0ZUJ1ZmZlcjogYXR0cmlidXRlQnVmZmVyLFxuICAgICAgICAgICAgX2luZGV4QnVmZmVyOiBpbmRleEJ1ZmZlcixcbiAgICAgICAgfSA9IHRoaXM7XG5cbiAgICAgICAgaWYgKCFzZXR0aW5ncy5DQU5fVVBMT0FEX1NBTUVfQlVGRkVSKVxuICAgICAgICB7IC8qIFVzdWFsbHkgb24gaU9TIGRldmljZXMsIHdoZXJlIHRoZSBicm93c2VyIGRvZXNuJ3RcbiAgICAgICAgICAgIGxpa2UgdXBsb2FkcyB0byB0aGUgc2FtZSBidWZmZXIgaW4gYSBzaW5nbGUgZnJhbWUuICovXG4gICAgICAgICAgICBpZiAodGhpcy5fcGFja2VkR2VvbWV0cnlQb29sU2l6ZSA8PSB0aGlzLl9mbHVzaElkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuX3BhY2tlZEdlb21ldHJ5UG9vbFNpemUrKztcbiAgICAgICAgICAgICAgICBwYWNrZWRHZW9tZXRyaWVzW3RoaXMuX2ZsdXNoSWRdID0gbmV3ICh0aGlzLmdlb21ldHJ5Q2xhc3MpKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHBhY2tlZEdlb21ldHJpZXNbdGhpcy5fZmx1c2hJZF0uX2J1ZmZlci51cGRhdGUoYXR0cmlidXRlQnVmZmVyLnJhd0JpbmFyeURhdGEpO1xuICAgICAgICAgICAgcGFja2VkR2VvbWV0cmllc1t0aGlzLl9mbHVzaElkXS5faW5kZXhCdWZmZXIudXBkYXRlKGluZGV4QnVmZmVyKTtcblxuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5nZW9tZXRyeS5iaW5kKHBhY2tlZEdlb21ldHJpZXNbdGhpcy5fZmx1c2hJZF0pO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5nZW9tZXRyeS51cGRhdGVCdWZmZXJzKCk7XG4gICAgICAgICAgICB0aGlzLl9mbHVzaElkKys7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBsZXRzIHVzZSB0aGUgZmFzdGVyIG9wdGlvbiwgYWx3YXlzIHVzZSBidWZmZXIgbnVtYmVyIDBcbiAgICAgICAgICAgIHBhY2tlZEdlb21ldHJpZXNbdGhpcy5fZmx1c2hJZF0uX2J1ZmZlci51cGRhdGUoYXR0cmlidXRlQnVmZmVyLnJhd0JpbmFyeURhdGEpO1xuICAgICAgICAgICAgcGFja2VkR2VvbWV0cmllc1t0aGlzLl9mbHVzaElkXS5faW5kZXhCdWZmZXIudXBkYXRlKGluZGV4QnVmZmVyKTtcblxuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5nZW9tZXRyeS51cGRhdGVCdWZmZXJzKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkcmF3QmF0Y2hlcygpOiB2b2lkXG4gICAge1xuICAgICAgICBjb25zdCBkY0NvdW50ID0gdGhpcy5fZGNJbmRleDtcbiAgICAgICAgY29uc3QgeyBnbCwgc3RhdGU6IHN0YXRlU3lzdGVtIH0gPSB0aGlzLnJlbmRlcmVyO1xuICAgICAgICBjb25zdCBkcmF3Q2FsbHMgPSBBYnN0cmFjdEJhdGNoUmVuZGVyZXIuX2RyYXdDYWxsUG9vbDtcblxuICAgICAgICBsZXQgY3VyVGV4QXJyYXkgPSBudWxsO1xuXG4gICAgICAgIC8vIFVwbG9hZCB0ZXh0dXJlcyBhbmQgZG8gdGhlIGRyYXcgY2FsbHNcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkY0NvdW50OyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHsgdGV4QXJyYXksIHR5cGUsIHNpemUsIHN0YXJ0LCBibGVuZCB9ID0gZHJhd0NhbGxzW2ldO1xuXG4gICAgICAgICAgICBpZiAoY3VyVGV4QXJyYXkgIT09IHRleEFycmF5KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGN1clRleEFycmF5ID0gdGV4QXJyYXk7XG4gICAgICAgICAgICAgICAgdGhpcy5iaW5kQW5kQ2xlYXJUZXhBcnJheSh0ZXhBcnJheSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuc3RhdGUuYmxlbmRNb2RlID0gYmxlbmQ7XG4gICAgICAgICAgICBzdGF0ZVN5c3RlbS5zZXQodGhpcy5zdGF0ZSk7XG4gICAgICAgICAgICBnbC5kcmF3RWxlbWVudHModHlwZSwgc2l6ZSwgZ2wuVU5TSUdORURfU0hPUlQsIHN0YXJ0ICogMik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBjb250ZW50IF9ub3dfIGFuZCBlbXB0aWVzIHRoZSBjdXJyZW50IGJhdGNoLlxuICAgICAqL1xuICAgIGZsdXNoKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl92ZXJ0ZXhDb3VudCA9PT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fYXR0cmlidXRlQnVmZmVyID0gdGhpcy5nZXRBdHRyaWJ1dGVCdWZmZXIodGhpcy5fdmVydGV4Q291bnQpO1xuICAgICAgICB0aGlzLl9pbmRleEJ1ZmZlciA9IHRoaXMuZ2V0SW5kZXhCdWZmZXIodGhpcy5faW5kZXhDb3VudCk7XG4gICAgICAgIHRoaXMuX2FJbmRleCA9IDA7XG4gICAgICAgIHRoaXMuX2lJbmRleCA9IDA7XG4gICAgICAgIHRoaXMuX2RjSW5kZXggPSAwO1xuXG4gICAgICAgIHRoaXMuYnVpbGRUZXh0dXJlc0FuZERyYXdDYWxscygpO1xuICAgICAgICB0aGlzLnVwZGF0ZUdlb21ldHJ5KCk7XG4gICAgICAgIHRoaXMuZHJhd0JhdGNoZXMoKTtcblxuICAgICAgICAvLyByZXNldCBlbGVtZW50cyBidWZmZXIgZm9yIHRoZSBuZXh0IGZsdXNoXG4gICAgICAgIHRoaXMuX2J1ZmZlclNpemUgPSAwO1xuICAgICAgICB0aGlzLl92ZXJ0ZXhDb3VudCA9IDA7XG4gICAgICAgIHRoaXMuX2luZGV4Q291bnQgPSAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFN0YXJ0cyBhIG5ldyBzcHJpdGUgYmF0Y2guXG4gICAgICovXG4gICAgc3RhcnQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zdGF0ZS5zZXQodGhpcy5zdGF0ZSk7XG5cbiAgICAgICAgdGhpcy5yZW5kZXJlci5zaGFkZXIuYmluZCh0aGlzLl9zaGFkZXIpO1xuXG4gICAgICAgIGlmIChzZXR0aW5ncy5DQU5fVVBMT0FEX1NBTUVfQlVGRkVSKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBiaW5kIGJ1ZmZlciAjMCwgd2UgZG9uJ3QgbmVlZCBvdGhlcnNcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuZ2VvbWV0cnkuYmluZCh0aGlzLl9wYWNrZWRHZW9tZXRyaWVzW3RoaXMuX2ZsdXNoSWRdKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFN0b3BzIGFuZCBmbHVzaGVzIHRoZSBjdXJyZW50IGJhdGNoLlxuICAgICAqL1xuICAgIHN0b3AoKTogdm9pZFxuICAgIHtcbiAgICAgICAgdGhpcy5mbHVzaCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgYEFic3RyYWN0QmF0Y2hSZW5kZXJlcmAuIEl0IGNhbm5vdCBiZSB1c2VkIGFnYWluLlxuICAgICAqL1xuICAgIGRlc3Ryb3koKTogdm9pZFxuICAgIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9wYWNrZWRHZW9tZXRyeVBvb2xTaXplOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9wYWNrZWRHZW9tZXRyaWVzW2ldKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuX3BhY2tlZEdlb21ldHJpZXNbaV0uZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZW5kZXJlci5vZmYoJ3ByZXJlbmRlcicsIHRoaXMub25QcmVyZW5kZXIsIHRoaXMpO1xuXG4gICAgICAgIHRoaXMuX2FCdWZmZXJzID0gbnVsbDtcbiAgICAgICAgdGhpcy5faUJ1ZmZlcnMgPSBudWxsO1xuICAgICAgICB0aGlzLl9wYWNrZWRHZW9tZXRyaWVzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYXR0cmlidXRlQnVmZmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5faW5kZXhCdWZmZXIgPSBudWxsO1xuXG4gICAgICAgIGlmICh0aGlzLl9zaGFkZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3NoYWRlci5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLl9zaGFkZXIgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgc3VwZXIuZGVzdHJveSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZldGNoZXMgYW4gYXR0cmlidXRlIGJ1ZmZlciBmcm9tIGB0aGlzLl9hQnVmZmVyc2AgdGhhdFxuICAgICAqIGNhbiBob2xkIGF0bGVhc3QgYHNpemVgIGZsb2F0cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzaXplIC0gbWluaW11bSBjYXBhY2l0eSByZXF1aXJlZFxuICAgICAqIEByZXR1cm4ge1ZpZXdhYmxlQnVmZmVyfSAtIGJ1ZmZlciB0aGFuIGNhbiBob2xkIGF0bGVhc3QgYHNpemVgIGZsb2F0c1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgZ2V0QXR0cmlidXRlQnVmZmVyKHNpemU6IG51bWJlcik6IFZpZXdhYmxlQnVmZmVyXG4gICAge1xuICAgICAgICAvLyA4IHZlcnRpY2VzIGlzIGVub3VnaCBmb3IgMiBxdWFkc1xuICAgICAgICBjb25zdCByb3VuZGVkUDIgPSBuZXh0UG93MihNYXRoLmNlaWwoc2l6ZSAvIDgpKTtcbiAgICAgICAgY29uc3Qgcm91bmRlZFNpemVJbmRleCA9IGxvZzIocm91bmRlZFAyKTtcbiAgICAgICAgY29uc3Qgcm91bmRlZFNpemUgPSByb3VuZGVkUDIgKiA4O1xuXG4gICAgICAgIGlmICh0aGlzLl9hQnVmZmVycy5sZW5ndGggPD0gcm91bmRlZFNpemVJbmRleClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5faUJ1ZmZlcnMubGVuZ3RoID0gcm91bmRlZFNpemVJbmRleCArIDE7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgYnVmZmVyID0gdGhpcy5fYUJ1ZmZlcnNbcm91bmRlZFNpemVdO1xuXG4gICAgICAgIGlmICghYnVmZmVyKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9hQnVmZmVyc1tyb3VuZGVkU2l6ZV0gPSBidWZmZXIgPSBuZXcgVmlld2FibGVCdWZmZXIocm91bmRlZFNpemUgKiB0aGlzLnZlcnRleFNpemUgKiA0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBidWZmZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmV0Y2hlcyBhbiBpbmRleCBidWZmZXIgZnJvbSBgdGhpcy5faUJ1ZmZlcnNgIHRoYXQgY2FuXG4gICAgICogaGF2ZSBhdCBsZWFzdCBgc2l6ZWAgY2FwYWNpdHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2l6ZSAtIG1pbmltdW0gcmVxdWlyZWQgY2FwYWNpdHlcbiAgICAgKiBAcmV0dXJuIHtVaW50MTZBcnJheX0gLSBidWZmZXIgdGhhdCBjYW4gZml0IGBzaXplYFxuICAgICAqICAgIGluZGljZXMuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBnZXRJbmRleEJ1ZmZlcihzaXplOiBudW1iZXIpOiBVaW50MTZBcnJheVxuICAgIHtcbiAgICAgICAgLy8gMTIgaW5kaWNlcyBpcyBlbm91Z2ggZm9yIDIgcXVhZHNcbiAgICAgICAgY29uc3Qgcm91bmRlZFAyID0gbmV4dFBvdzIoTWF0aC5jZWlsKHNpemUgLyAxMikpO1xuICAgICAgICBjb25zdCByb3VuZGVkU2l6ZUluZGV4ID0gbG9nMihyb3VuZGVkUDIpO1xuICAgICAgICBjb25zdCByb3VuZGVkU2l6ZSA9IHJvdW5kZWRQMiAqIDEyO1xuXG4gICAgICAgIGlmICh0aGlzLl9pQnVmZmVycy5sZW5ndGggPD0gcm91bmRlZFNpemVJbmRleClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5faUJ1ZmZlcnMubGVuZ3RoID0gcm91bmRlZFNpemVJbmRleCArIDE7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgYnVmZmVyID0gdGhpcy5faUJ1ZmZlcnNbcm91bmRlZFNpemVJbmRleF07XG5cbiAgICAgICAgaWYgKCFidWZmZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2lCdWZmZXJzW3JvdW5kZWRTaXplSW5kZXhdID0gYnVmZmVyID0gbmV3IFVpbnQxNkFycmF5KHJvdW5kZWRTaXplKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBidWZmZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGFrZXMgdGhlIGZvdXIgYmF0Y2hpbmcgcGFyYW1ldGVycyBvZiBgZWxlbWVudGAsIGludGVybGVhdmVzXG4gICAgICogYW5kIHB1c2hlcyB0aGVtIGludG8gdGhlIGJhdGNoaW5nIGF0dHJpYnV0ZS9pbmRleCBidWZmZXJzIGdpdmVuLlxuICAgICAqXG4gICAgICogSXQgdXNlcyB0aGVzZSBwcm9wZXJ0aWVzOiBgdmVydGV4RGF0YWAgYHV2c2AsIGB0ZXh0dXJlSWRgIGFuZFxuICAgICAqIGBpbmRpY2llc2AuIEl0IGFsc28gdXNlcyB0aGUgXCJ0aW50XCIgb2YgdGhlIGJhc2UtdGV4dHVyZSwgaWZcbiAgICAgKiBwcmVzZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlNwcml0ZX0gZWxlbWVudCAtIGVsZW1lbnQgYmVpbmcgcmVuZGVyZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuVmlld2FibGVCdWZmZXJ9IGF0dHJpYnV0ZUJ1ZmZlciAtIGF0dHJpYnV0ZSBidWZmZXIuXG4gICAgICogQHBhcmFtIHtVaW50MTZBcnJheX0gaW5kZXhCdWZmZXIgLSBpbmRleCBidWZmZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYUluZGV4IC0gbnVtYmVyIG9mIGZsb2F0cyBhbHJlYWR5IGluIHRoZSBhdHRyaWJ1dGUgYnVmZmVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGlJbmRleCAtIG51bWJlciBvZiBpbmRpY2VzIGFscmVhZHkgaW4gYGluZGV4QnVmZmVyYFxuICAgICAqL1xuICAgIHBhY2tJbnRlcmxlYXZlZEdlb21ldHJ5KGVsZW1lbnQ6IElCYXRjaGFibGVFbGVtZW50LCBhdHRyaWJ1dGVCdWZmZXI6IFZpZXdhYmxlQnVmZmVyLCBpbmRleEJ1ZmZlcjogVWludDE2QXJyYXksXG4gICAgICAgIGFJbmRleDogbnVtYmVyLCBpSW5kZXg6IG51bWJlcik6IHZvaWRcbiAgICB7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIHVpbnQzMlZpZXcsXG4gICAgICAgICAgICBmbG9hdDMyVmlldyxcbiAgICAgICAgfSA9IGF0dHJpYnV0ZUJ1ZmZlcjtcblxuICAgICAgICBjb25zdCBwYWNrZWRWZXJ0aWNlcyA9IGFJbmRleCAvIHRoaXMudmVydGV4U2l6ZTtcbiAgICAgICAgY29uc3QgdXZzID0gZWxlbWVudC51dnM7XG4gICAgICAgIGNvbnN0IGluZGljaWVzID0gZWxlbWVudC5pbmRpY2VzO1xuICAgICAgICBjb25zdCB2ZXJ0ZXhEYXRhID0gZWxlbWVudC52ZXJ0ZXhEYXRhO1xuICAgICAgICBjb25zdCB0ZXh0dXJlSWQgPSBlbGVtZW50Ll90ZXh0dXJlLmJhc2VUZXh0dXJlLl9iYXRjaExvY2F0aW9uO1xuXG4gICAgICAgIGNvbnN0IGFscGhhID0gTWF0aC5taW4oZWxlbWVudC53b3JsZEFscGhhLCAxLjApO1xuICAgICAgICBjb25zdCBhcmdiID0gKGFscGhhIDwgMS4wXG4gICAgICAgICAgICAmJiBlbGVtZW50Ll90ZXh0dXJlLmJhc2VUZXh0dXJlLmFscGhhTW9kZSlcbiAgICAgICAgICAgID8gcHJlbXVsdGlwbHlUaW50KGVsZW1lbnQuX3RpbnRSR0IsIGFscGhhKVxuICAgICAgICAgICAgOiBlbGVtZW50Ll90aW50UkdCICsgKGFscGhhICogMjU1IDw8IDI0KTtcblxuICAgICAgICAvLyBsZXRzIG5vdCB3b3JyeSBhYm91dCB0aW50ISBmb3Igbm93Li5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2ZXJ0ZXhEYXRhLmxlbmd0aDsgaSArPSAyKVxuICAgICAgICB7XG4gICAgICAgICAgICBmbG9hdDMyVmlld1thSW5kZXgrK10gPSB2ZXJ0ZXhEYXRhW2ldO1xuICAgICAgICAgICAgZmxvYXQzMlZpZXdbYUluZGV4KytdID0gdmVydGV4RGF0YVtpICsgMV07XG4gICAgICAgICAgICBmbG9hdDMyVmlld1thSW5kZXgrK10gPSB1dnNbaV07XG4gICAgICAgICAgICBmbG9hdDMyVmlld1thSW5kZXgrK10gPSB1dnNbaSArIDFdO1xuICAgICAgICAgICAgdWludDMyVmlld1thSW5kZXgrK10gPSBhcmdiO1xuICAgICAgICAgICAgZmxvYXQzMlZpZXdbYUluZGV4KytdID0gdGV4dHVyZUlkO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbmRpY2llcy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgaW5kZXhCdWZmZXJbaUluZGV4KytdID0gcGFja2VkVmVydGljZXMgKyBpbmRpY2llc1tpXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBvb2wgb2YgYEJhdGNoRHJhd0NhbGxgIG9iamVjdHMgdGhhdCBgZmx1c2hgIHVzZWRcbiAgICAgKiB0byBjcmVhdGUgXCJiYXRjaGVzXCIgb2YgdGhlIG9iamVjdHMgYmVpbmcgcmVuZGVyZWQuXG4gICAgICpcbiAgICAgKiBUaGVzZSBhcmUgbmV2ZXIgcmUtYWxsb2NhdGVkIGFnYWluLlxuICAgICAqIFNoYXJlZCBiZXR3ZWVuIGFsbCBiYXRjaCByZW5kZXJlcnMgYmVjYXVzZSBpdCBjYW4gYmUgb25seSBvbmUgXCJmbHVzaFwiIHdvcmtpbmcgYXQgdGhlIG1vbWVudC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyIHtQSVhJLkJhdGNoRHJhd0NhbGxbXX1cbiAgICAgKi9cbiAgICBzdGF0aWMgX2RyYXdDYWxsUG9vbDogQXJyYXk8QmF0Y2hEcmF3Q2FsbD4gPSBbXTtcblxuICAgIC8qKlxuICAgICAqIFBvb2wgb2YgYEJhdGNoRHJhd0NhbGxgIG9iamVjdHMgdGhhdCBgZmx1c2hgIHVzZWRcbiAgICAgKiB0byBjcmVhdGUgXCJiYXRjaGVzXCIgb2YgdGhlIG9iamVjdHMgYmVpbmcgcmVuZGVyZWQuXG4gICAgICpcbiAgICAgKiBUaGVzZSBhcmUgbmV2ZXIgcmUtYWxsb2NhdGVkIGFnYWluLlxuICAgICAqIFNoYXJlZCBiZXR3ZWVuIGFsbCBiYXRjaCByZW5kZXJlcnMgYmVjYXVzZSBpdCBjYW4gYmUgb25seSBvbmUgXCJmbHVzaFwiIHdvcmtpbmcgYXQgdGhlIG1vbWVudC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyIHtQSVhJLkJhdGNoVGV4dHVyZUFycmF5W119XG4gICAgICovXG4gICAgc3RhdGljIF90ZXh0dXJlQXJyYXlQb29sOiBBcnJheTxCYXRjaFRleHR1cmVBcnJheT4gPSBbXTtcbn1cbiIsImltcG9ydCB7IFNoYWRlciB9IGZyb20gJy4uL3NoYWRlci9TaGFkZXInO1xuaW1wb3J0IHsgUHJvZ3JhbSB9IGZyb20gJy4uL3NoYWRlci9Qcm9ncmFtJztcbmltcG9ydCB7IFVuaWZvcm1Hcm91cCB9IGZyb20gJy4uL3NoYWRlci9Vbmlmb3JtR3JvdXAnO1xuaW1wb3J0IHsgTWF0cml4IH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5cbi8qKlxuICogSGVscGVyIHRoYXQgZ2VuZXJhdGVzIGJhdGNoaW5nIG11bHRpLXRleHR1cmUgc2hhZGVyLiBVc2UgaXQgd2l0aCB5b3VyIG5ldyBCYXRjaFJlbmRlcmVyXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgY2xhc3MgQmF0Y2hTaGFkZXJHZW5lcmF0b3JcbntcbiAgICBwdWJsaWMgdmVydGV4U3JjOiBzdHJpbmc7XG4gICAgcHVibGljIGZyYWdUZW1wbGF0ZTogc3RyaW5nO1xuICAgIHByb2dyYW1DYWNoZToge1trZXk6IG51bWJlcl06IFByb2dyYW19O1xuICAgIGRlZmF1bHRHcm91cENhY2hlOiB7W2tleTogbnVtYmVyXTogVW5pZm9ybUdyb3VwfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmVydGV4U3JjIC0gVmVydGV4IHNoYWRlclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmcmFnVGVtcGxhdGUgLSBGcmFnbWVudCBzaGFkZXIgdGVtcGxhdGVcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih2ZXJ0ZXhTcmM6IHN0cmluZywgZnJhZ1RlbXBsYXRlOiBzdHJpbmcpXG4gICAge1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIHRoZSB2ZXJ0ZXggc2hhZGVyIHNvdXJjZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy52ZXJ0ZXhTcmMgPSB2ZXJ0ZXhTcmM7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlZmVyZW5jZSB0byB0aGUgZnJhZ2VtZW50IHNoYWRlciB0ZW1wbGF0ZS4gTXVzdCBjb250YWluIFwiJWNvdW50JVwiIGFuZCBcIiVmb3Jsb29wJVwiLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZyYWdUZW1wbGF0ZSA9IGZyYWdUZW1wbGF0ZTtcblxuICAgICAgICB0aGlzLnByb2dyYW1DYWNoZSA9IHt9O1xuICAgICAgICB0aGlzLmRlZmF1bHRHcm91cENhY2hlID0ge307XG5cbiAgICAgICAgaWYgKGZyYWdUZW1wbGF0ZS5pbmRleE9mKCclY291bnQlJykgPCAwKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZyYWdtZW50IHRlbXBsYXRlIG11c3QgY29udGFpbiBcIiVjb3VudCVcIi4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChmcmFnVGVtcGxhdGUuaW5kZXhPZignJWZvcmxvb3AlJykgPCAwKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZyYWdtZW50IHRlbXBsYXRlIG11c3QgY29udGFpbiBcIiVmb3Jsb29wJVwiLicpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2VuZXJhdGVTaGFkZXIobWF4VGV4dHVyZXM6IG51bWJlcik6IFNoYWRlclxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLnByb2dyYW1DYWNoZVttYXhUZXh0dXJlc10pXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHNhbXBsZVZhbHVlcyA9IG5ldyBJbnQzMkFycmF5KG1heFRleHR1cmVzKTtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYXhUZXh0dXJlczsgaSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNhbXBsZVZhbHVlc1tpXSA9IGk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuZGVmYXVsdEdyb3VwQ2FjaGVbbWF4VGV4dHVyZXNdID0gVW5pZm9ybUdyb3VwLmZyb20oeyB1U2FtcGxlcnM6IHNhbXBsZVZhbHVlcyB9LCB0cnVlKTtcblxuICAgICAgICAgICAgbGV0IGZyYWdtZW50U3JjID0gdGhpcy5mcmFnVGVtcGxhdGU7XG5cbiAgICAgICAgICAgIGZyYWdtZW50U3JjID0gZnJhZ21lbnRTcmMucmVwbGFjZSgvJWNvdW50JS9naSwgYCR7bWF4VGV4dHVyZXN9YCk7XG4gICAgICAgICAgICBmcmFnbWVudFNyYyA9IGZyYWdtZW50U3JjLnJlcGxhY2UoLyVmb3Jsb29wJS9naSwgdGhpcy5nZW5lcmF0ZVNhbXBsZVNyYyhtYXhUZXh0dXJlcykpO1xuXG4gICAgICAgICAgICB0aGlzLnByb2dyYW1DYWNoZVttYXhUZXh0dXJlc10gPSBuZXcgUHJvZ3JhbSh0aGlzLnZlcnRleFNyYywgZnJhZ21lbnRTcmMpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdW5pZm9ybXMgPSB7XG4gICAgICAgICAgICB0aW50OiBuZXcgRmxvYXQzMkFycmF5KFsxLCAxLCAxLCAxXSksXG4gICAgICAgICAgICB0cmFuc2xhdGlvbk1hdHJpeDogbmV3IE1hdHJpeCgpLFxuICAgICAgICAgICAgZGVmYXVsdDogdGhpcy5kZWZhdWx0R3JvdXBDYWNoZVttYXhUZXh0dXJlc10sXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIG5ldyBTaGFkZXIodGhpcy5wcm9ncmFtQ2FjaGVbbWF4VGV4dHVyZXNdLCB1bmlmb3Jtcyk7XG4gICAgfVxuXG4gICAgZ2VuZXJhdGVTYW1wbGVTcmMobWF4VGV4dHVyZXM6IG51bWJlcik6IHN0cmluZ1xuICAgIHtcbiAgICAgICAgbGV0IHNyYyA9ICcnO1xuXG4gICAgICAgIHNyYyArPSAnXFxuJztcbiAgICAgICAgc3JjICs9ICdcXG4nO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWF4VGV4dHVyZXM7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKGkgPiAwKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNyYyArPSAnXFxuZWxzZSAnO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaSA8IG1heFRleHR1cmVzIC0gMSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzcmMgKz0gYGlmKHZUZXh0dXJlSWQgPCAke2l9LjUpYDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc3JjICs9ICdcXG57JztcbiAgICAgICAgICAgIHNyYyArPSBgXFxuXFx0Y29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXJzWyR7aX1dLCB2VGV4dHVyZUNvb3JkKTtgO1xuICAgICAgICAgICAgc3JjICs9ICdcXG59JztcbiAgICAgICAgfVxuXG4gICAgICAgIHNyYyArPSAnXFxuJztcbiAgICAgICAgc3JjICs9ICdcXG4nO1xuXG4gICAgICAgIHJldHVybiBzcmM7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgVFlQRVMgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuaW1wb3J0IHsgR2VvbWV0cnkgfSBmcm9tICcuLi9nZW9tZXRyeS9HZW9tZXRyeSc7XG5pbXBvcnQgeyBCdWZmZXIgfSBmcm9tICcuLi9nZW9tZXRyeS9CdWZmZXInO1xuXG4vKipcbiAqIEdlb21ldHJ5IHVzZWQgdG8gYmF0Y2ggc3RhbmRhcmQgUElYSSBjb250ZW50IChlLmcuIE1lc2gsIFNwcml0ZSwgR3JhcGhpY3Mgb2JqZWN0cykuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgY2xhc3MgQmF0Y2hHZW9tZXRyeSBleHRlbmRzIEdlb21ldHJ5XG57XG4gICAgX2J1ZmZlcjogQnVmZmVyO1xuICAgIF9pbmRleEJ1ZmZlcjogQnVmZmVyO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW19zdGF0aWM9ZmFsc2VdIC0gT3B0aW1pemF0aW9uIGZsYWcsIHdoZXJlIGBmYWxzZWBcbiAgICAgKiAgICAgICAgaXMgdXBkYXRlZCBldmVyeSBmcmFtZSwgYHRydWVgIGRvZXNuJ3QgY2hhbmdlIGZyYW1lLXRvLWZyYW1lLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKF9zdGF0aWMgPSBmYWxzZSlcbiAgICB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJ1ZmZlciB1c2VkIGZvciBwb3NpdGlvbiwgY29sb3IsIHRleHR1cmUgSURzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQnVmZmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9idWZmZXIgPSBuZXcgQnVmZmVyKG51bGwsIF9zdGF0aWMsIGZhbHNlKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW5kZXggYnVmZmVyIGRhdGFcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5CdWZmZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2luZGV4QnVmZmVyID0gbmV3IEJ1ZmZlcihudWxsLCBfc3RhdGljLCB0cnVlKTtcblxuICAgICAgICB0aGlzLmFkZEF0dHJpYnV0ZSgnYVZlcnRleFBvc2l0aW9uJywgdGhpcy5fYnVmZmVyLCAyLCBmYWxzZSwgVFlQRVMuRkxPQVQpXG4gICAgICAgICAgICAuYWRkQXR0cmlidXRlKCdhVGV4dHVyZUNvb3JkJywgdGhpcy5fYnVmZmVyLCAyLCBmYWxzZSwgVFlQRVMuRkxPQVQpXG4gICAgICAgICAgICAuYWRkQXR0cmlidXRlKCdhQ29sb3InLCB0aGlzLl9idWZmZXIsIDQsIHRydWUsIFRZUEVTLlVOU0lHTkVEX0JZVEUpXG4gICAgICAgICAgICAuYWRkQXR0cmlidXRlKCdhVGV4dHVyZUlkJywgdGhpcy5fYnVmZmVyLCAxLCB0cnVlLCBUWVBFUy5GTE9BVClcbiAgICAgICAgICAgIC5hZGRJbmRleCh0aGlzLl9pbmRleEJ1ZmZlcik7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQmF0Y2hTaGFkZXJHZW5lcmF0b3IgfSBmcm9tICcuL0JhdGNoU2hhZGVyR2VuZXJhdG9yJztcbmltcG9ydCB7IEJhdGNoR2VvbWV0cnkgfSBmcm9tICcuL0JhdGNoR2VvbWV0cnknO1xuaW1wb3J0IHsgQWJzdHJhY3RCYXRjaFJlbmRlcmVyIH0gZnJvbSAnLi9BYnN0cmFjdEJhdGNoUmVuZGVyZXInO1xuXG5pbXBvcnQgZGVmYXVsdFZlcnRleCBmcm9tICcuL3RleHR1cmUudmVydCc7XG5pbXBvcnQgZGVmYXVsdEZyYWdtZW50IGZyb20gJy4vdGV4dHVyZS5mcmFnJztcblxuaW1wb3J0IHR5cGUgeyBSZW5kZXJlciB9IGZyb20gJy4uL1JlbmRlcmVyJztcblxuZXhwb3J0IGludGVyZmFjZSBJQmF0Y2hGYWN0b3J5T3B0aW9uc1xue1xuICAgIHZlcnRleD86IHN0cmluZztcbiAgICBmcmFnbWVudD86IHN0cmluZztcbiAgICBnZW9tZXRyeUNsYXNzPzogdHlwZW9mIEJhdGNoR2VvbWV0cnk7XG4gICAgdmVydGV4U2l6ZT86IG51bWJlcjtcbn1cblxuLyoqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAaGlkZWNvbnN0cnVjdG9yXG4gKi9cbmV4cG9ydCBjbGFzcyBCYXRjaFBsdWdpbkZhY3RvcnlcbntcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgQmF0Y2hSZW5kZXJlciBwbHVnaW4gZm9yIFJlbmRlcmVyLiB0aGlzIGNvbnZlbmllbmNlIGNhbiBwcm92aWRlIGFuIGVhc3kgd2F5XG4gICAgICogdG8gZXh0ZW5kIEJhdGNoUmVuZGVyZXIgd2l0aCBhbGwgdGhlIG5lY2Vzc2FyeSBwaWVjZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBmcmFnbWVudCA9IGBcbiAgICAgKiB2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcbiAgICAgKiB2YXJ5aW5nIHZlYzQgdkNvbG9yO1xuICAgICAqIHZhcnlpbmcgZmxvYXQgdlRleHR1cmVJZDtcbiAgICAgKiB1bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcnNbJWNvdW50JV07XG4gICAgICpcbiAgICAgKiB2b2lkIG1haW4odm9pZCl7XG4gICAgICogICAgIHZlYzQgY29sb3I7XG4gICAgICogICAgICVmb3Jsb29wJVxuICAgICAqICAgICBnbF9GcmFnQ29sb3IgPSB2Q29sb3IgKiB2ZWM0KGNvbG9yLmEgLSBjb2xvci5yZ2IsIGNvbG9yLmEpO1xuICAgICAqIH1cbiAgICAgKiBgO1xuICAgICAqIGNvbnN0IEludmVydEJhdGNoUmVuZGVyZXIgPSBQSVhJLkJhdGNoUGx1Z2luRmFjdG9yeS5jcmVhdGUoeyBmcmFnbWVudCB9KTtcbiAgICAgKiBQSVhJLlJlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luKCdpbnZlcnQnLCBJbnZlcnRCYXRjaFJlbmRlcmVyKTtcbiAgICAgKiBjb25zdCBzcHJpdGUgPSBuZXcgUElYSS5TcHJpdGUoKTtcbiAgICAgKiBzcHJpdGUucGx1Z2luTmFtZSA9ICdpbnZlcnQnO1xuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc11cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMudmVydGV4PVBJWEkuQmF0Y2hQbHVnaW5GYWN0b3J5LmRlZmF1bHRWZXJ0ZXhTcmNdIC0gVmVydGV4IHNoYWRlciBzb3VyY2VcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMuZnJhZ21lbnQ9UElYSS5CYXRjaFBsdWdpbkZhY3RvcnkuZGVmYXVsdEZyYWdtZW50VGVtcGxhdGVdIC0gRnJhZ21lbnQgc2hhZGVyIHRlbXBsYXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnZlcnRleFNpemU9Nl0gLSBWZXJ0ZXggc2l6ZVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9ucy5nZW9tZXRyeUNsYXNzPVBJWEkuQmF0Y2hHZW9tZXRyeV1cbiAgICAgKiBAcmV0dXJuIHsqfSBOZXcgYmF0Y2ggcmVuZGVyZXIgcGx1Z2luXG4gICAgICovXG4gICAgc3RhdGljIGNyZWF0ZShvcHRpb25zPzogSUJhdGNoRmFjdG9yeU9wdGlvbnMpOiB0eXBlb2YgQWJzdHJhY3RCYXRjaFJlbmRlcmVyXG4gICAge1xuICAgICAgICBjb25zdCB7IHZlcnRleCwgZnJhZ21lbnQsIHZlcnRleFNpemUsIGdlb21ldHJ5Q2xhc3MgfSA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgdmVydGV4OiBkZWZhdWx0VmVydGV4LFxuICAgICAgICAgICAgZnJhZ21lbnQ6IGRlZmF1bHRGcmFnbWVudCxcbiAgICAgICAgICAgIGdlb21ldHJ5Q2xhc3M6IEJhdGNoR2VvbWV0cnksXG4gICAgICAgICAgICB2ZXJ0ZXhTaXplOiA2LFxuICAgICAgICB9LCBvcHRpb25zKTtcblxuICAgICAgICByZXR1cm4gY2xhc3MgQmF0Y2hQbHVnaW4gZXh0ZW5kcyBBYnN0cmFjdEJhdGNoUmVuZGVyZXJcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3RydWN0b3IocmVuZGVyZXI6IFJlbmRlcmVyKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN1cGVyKHJlbmRlcmVyKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuc2hhZGVyR2VuZXJhdG9yID0gbmV3IEJhdGNoU2hhZGVyR2VuZXJhdG9yKHZlcnRleCwgZnJhZ21lbnQpO1xuICAgICAgICAgICAgICAgIHRoaXMuZ2VvbWV0cnlDbGFzcyA9IGdlb21ldHJ5Q2xhc3M7XG4gICAgICAgICAgICAgICAgdGhpcy52ZXJ0ZXhTaXplID0gdmVydGV4U2l6ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZGVmYXVsdCB2ZXJ0ZXggc2hhZGVyIHNvdXJjZVxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICogQGNvbnN0YW50XG4gICAgICovXG4gICAgc3RhdGljIGdldCBkZWZhdWx0VmVydGV4U3JjKCk6IHN0cmluZ1xuICAgIHtcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRWZXJ0ZXg7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGRlZmF1bHQgZnJhZ21lbnQgc2hhZGVyIHNvdXJjZVxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICogQGNvbnN0YW50XG4gICAgICovXG4gICAgc3RhdGljIGdldCBkZWZhdWx0RnJhZ21lbnRUZW1wbGF0ZSgpOiBzdHJpbmdcbiAgICB7XG4gICAgICAgIHJldHVybiBkZWZhdWx0RnJhZ21lbnQ7XG4gICAgfVxufVxuXG4vLyBTZXR1cCB0aGUgZGVmYXVsdCBCYXRjaFJlbmRlcmVyIHBsdWdpbiwgdGhpcyBpcyB3aGF0XG4vLyB3ZSdsbCBhY3R1YWxseSBleHBvcnQgYXQgdGhlIHJvb3QgbGV2ZWxcbmV4cG9ydCBjb25zdCBCYXRjaFJlbmRlcmVyID0gQmF0Y2hQbHVnaW5GYWN0b3J5LmNyZWF0ZSgpO1xuIiwiaW1wb3J0IHsgQ29udGFpbmVyIH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5pbXBvcnQgeyBhdXRvRGV0ZWN0UmVuZGVyZXIgfSBmcm9tICdAcGl4aS9jb3JlJztcblxuaW1wb3J0IHR5cGUgeyBSZWN0YW5nbGUgfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB0eXBlIHsgUmVuZGVyZXIsIElSZW5kZXJlck9wdGlvbnNBdXRvLCBBYnN0cmFjdFJlbmRlcmVyIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgdHlwZSB7IElEZXN0cm95T3B0aW9ucyB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuXG5leHBvcnQgaW50ZXJmYWNlIElBcHBsaWNhdGlvblBsdWdpbiB7XG4gICAgaW5pdDogKC4uLnBhcmFtczogYW55W10pID0+IGFueTtcbiAgICBkZXN0cm95OiAoLi4ucGFyYW1zOiBhbnlbXSkgPT4gYW55O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElBcHBsaWNhdGlvbk9wdGlvbnMgZXh0ZW5kcyBJUmVuZGVyZXJPcHRpb25zQXV0byB7XG4gICAgYXV0b1N0YXJ0PzogYm9vbGVhbjtcbiAgICBzaGFyZWRUaWNrZXI/OiBib29sZWFuO1xuICAgIHNoYXJlZExvYWRlcj86IGJvb2xlYW47XG4gICAgcmVzaXplVG8/OiBXaW5kb3cgfCBIVE1MRWxlbWVudDtcbiAgICByZXNpemVUaHJvdHRsZT86IG51bWJlcjtcbn1cblxuLyoqXG4gKiBDb252ZW5pZW5jZSBjbGFzcyB0byBjcmVhdGUgYSBuZXcgUElYSSBhcHBsaWNhdGlvbi5cbiAqXG4gKiBUaGlzIGNsYXNzIGF1dG9tYXRpY2FsbHkgY3JlYXRlcyB0aGUgcmVuZGVyZXIsIHRpY2tlciBhbmQgcm9vdCBjb250YWluZXIuXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIENyZWF0ZSB0aGUgYXBwbGljYXRpb25cbiAqIGNvbnN0IGFwcCA9IG5ldyBQSVhJLkFwcGxpY2F0aW9uKCk7XG4gKlxuICogLy8gQWRkIHRoZSB2aWV3IHRvIHRoZSBET01cbiAqIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYXBwLnZpZXcpO1xuICpcbiAqIC8vIGV4LCBhZGQgZGlzcGxheSBvYmplY3RzXG4gKiBhcHAuc3RhZ2UuYWRkQ2hpbGQoUElYSS5TcHJpdGUuZnJvbSgnc29tZXRoaW5nLnBuZycpKTtcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBjbGFzcyBBcHBsaWNhdGlvblxue1xuICAgIHB1YmxpYyBzdGF0aWMgX3BsdWdpbnM6IElBcHBsaWNhdGlvblBsdWdpbltdO1xuXG4gICAgcHVibGljIHN0YWdlOiBDb250YWluZXI7XG4gICAgcHVibGljIHJlbmRlcmVyOiBSZW5kZXJlcnxBYnN0cmFjdFJlbmRlcmVyO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIFRoZSBvcHRpb25hbCByZW5kZXJlciBwYXJhbWV0ZXJzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYXV0b1N0YXJ0PXRydWVdIC0gQXV0b21hdGljYWxseSBzdGFydHMgdGhlIHJlbmRlcmluZyBhZnRlciB0aGUgY29uc3RydWN0aW9uLlxuICAgICAqICAgICAqKk5vdGUqKjogU2V0dGluZyB0aGlzIHBhcmFtZXRlciB0byBmYWxzZSBkb2VzIE5PVCBzdG9wIHRoZSBzaGFyZWQgdGlja2VyIGV2ZW4gaWYgeW91IHNldFxuICAgICAqICAgICBvcHRpb25zLnNoYXJlZFRpY2tlciB0byB0cnVlIGluIGNhc2UgdGhhdCBpdCBpcyBhbHJlYWR5IHN0YXJ0ZWQuIFN0b3AgaXQgYnkgeW91ciBvd24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLndpZHRoPTgwMF0gLSBUaGUgd2lkdGggb2YgdGhlIHJlbmRlcmVycyB2aWV3LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5oZWlnaHQ9NjAwXSAtIFRoZSBoZWlnaHQgb2YgdGhlIHJlbmRlcmVycyB2aWV3LlxuICAgICAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IFtvcHRpb25zLnZpZXddIC0gVGhlIGNhbnZhcyB0byB1c2UgYXMgYSB2aWV3LCBvcHRpb25hbC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRyYW5zcGFyZW50PWZhbHNlXSAtIElmIHRoZSByZW5kZXIgdmlldyBpcyB0cmFuc3BhcmVudC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmF1dG9EZW5zaXR5PWZhbHNlXSAtIFJlc2l6ZXMgcmVuZGVyZXIgdmlldyBpbiBDU1MgcGl4ZWxzIHRvIGFsbG93IGZvclxuICAgICAqICAgcmVzb2x1dGlvbnMgb3RoZXIgdGhhbiAxLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYW50aWFsaWFzPWZhbHNlXSAtIFNldHMgYW50aWFsaWFzXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5wcmVzZXJ2ZURyYXdpbmdCdWZmZXI9ZmFsc2VdIC0gRW5hYmxlcyBkcmF3aW5nIGJ1ZmZlciBwcmVzZXJ2YXRpb24sIGVuYWJsZSB0aGlzIGlmIHlvdVxuICAgICAqICBuZWVkIHRvIGNhbGwgdG9EYXRhVXJsIG9uIHRoZSBXZWJHTCBjb250ZXh0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5yZXNvbHV0aW9uPTFdIC0gVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHJlbmRlcmVyLCByZXRpbmEgd291bGQgYmUgMi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmZvcmNlQ2FudmFzPWZhbHNlXSAtIHByZXZlbnRzIHNlbGVjdGlvbiBvZiBXZWJHTCByZW5kZXJlciwgZXZlbiBpZiBzdWNoIGlzIHByZXNlbnQsIHRoaXNcbiAgICAgKiAgIG9wdGlvbiBvbmx5IGlzIGF2YWlsYWJsZSB3aGVuIHVzaW5nICoqcGl4aS5qcy1sZWdhY3kqKiBvciAqKkBwaXhpL2NhbnZhcy1yZW5kZXJlcioqIG1vZHVsZXMsIG90aGVyd2lzZVxuICAgICAqICAgaXQgaXMgaWdub3JlZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuYmFja2dyb3VuZENvbG9yPTB4MDAwMDAwXSAtIFRoZSBiYWNrZ3JvdW5kIGNvbG9yIG9mIHRoZSByZW5kZXJlZCBhcmVhXG4gICAgICogIChzaG93biBpZiBub3QgdHJhbnNwYXJlbnQpLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2xlYXJCZWZvcmVSZW5kZXI9dHJ1ZV0gLSBUaGlzIHNldHMgaWYgdGhlIHJlbmRlcmVyIHdpbGwgY2xlYXIgdGhlIGNhbnZhcyBvclxuICAgICAqICAgbm90IGJlZm9yZSB0aGUgbmV3IHJlbmRlciBwYXNzLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5wb3dlclByZWZlcmVuY2VdIC0gUGFyYW1ldGVyIHBhc3NlZCB0byB3ZWJnbCBjb250ZXh0LCBzZXQgdG8gXCJoaWdoLXBlcmZvcm1hbmNlXCJcbiAgICAgKiAgZm9yIGRldmljZXMgd2l0aCBkdWFsIGdyYXBoaWNzIGNhcmQuICoqKFdlYkdMIG9ubHkpKiouXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5zaGFyZWRUaWNrZXI9ZmFsc2VdIC0gYHRydWVgIHRvIHVzZSBQSVhJLlRpY2tlci5zaGFyZWQsIGBmYWxzZWAgdG8gY3JlYXRlIG5ldyB0aWNrZXIuXG4gICAgICogIElmIHNldCB0byBmYWxzZSwgeW91IGNhbm5vdCByZWdpc3RlciBhIGhhbmRsZXIgdG8gb2NjdXIgYmVmb3JlIGFueXRoaW5nIHRoYXQgcnVucyBvbiB0aGUgc2hhcmVkIHRpY2tlci5cbiAgICAgKiAgVGhlIHN5c3RlbSB0aWNrZXIgd2lsbCBhbHdheXMgcnVuIGJlZm9yZSBib3RoIHRoZSBzaGFyZWQgdGlja2VyIGFuZCB0aGUgYXBwIHRpY2tlci5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnNoYXJlZExvYWRlcj1mYWxzZV0gLSBgdHJ1ZWAgdG8gdXNlIFBJWEkuTG9hZGVyLnNoYXJlZCwgYGZhbHNlYCB0byBjcmVhdGUgbmV3IExvYWRlci5cbiAgICAgKiBAcGFyYW0ge1dpbmRvd3xIVE1MRWxlbWVudH0gW29wdGlvbnMucmVzaXplVG9dIC0gRWxlbWVudCB0byBhdXRvbWF0aWNhbGx5IHJlc2l6ZSBzdGFnZSB0by5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zPzogSUFwcGxpY2F0aW9uT3B0aW9ucylcbiAgICB7XG4gICAgICAgIC8vIFRoZSBkZWZhdWx0IG9wdGlvbnNcbiAgICAgICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgZm9yY2VDYW52YXM6IGZhbHNlLFxuICAgICAgICB9LCBvcHRpb25zKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogV2ViR0wgcmVuZGVyZXIgaWYgYXZhaWxhYmxlLCBvdGhlcndpc2UgQ2FudmFzUmVuZGVyZXIuXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVuZGVyZXJ8UElYSS5DYW52YXNSZW5kZXJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBhdXRvRGV0ZWN0UmVuZGVyZXIob3B0aW9ucyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByb290IGRpc3BsYXkgY29udGFpbmVyIHRoYXQncyByZW5kZXJlZC5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Db250YWluZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0YWdlID0gbmV3IENvbnRhaW5lcigpO1xuXG4gICAgICAgIC8vIGluc3RhbGwgcGx1Z2lucyBoZXJlXG4gICAgICAgIEFwcGxpY2F0aW9uLl9wbHVnaW5zLmZvckVhY2goKHBsdWdpbikgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgcGx1Z2luLmluaXQuY2FsbCh0aGlzLCBvcHRpb25zKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXIgYSBtaWRkbGV3YXJlIHBsdWdpbiBmb3IgdGhlIGFwcGxpY2F0aW9uXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7UElYSS5BcHBsaWNhdGlvbi5QbHVnaW59IHBsdWdpbiAtIFBsdWdpbiBiZWluZyBpbnN0YWxsZWRcbiAgICAgKi9cbiAgICBzdGF0aWMgcmVnaXN0ZXJQbHVnaW4ocGx1Z2luOiBJQXBwbGljYXRpb25QbHVnaW4pOiB2b2lkXG4gICAge1xuICAgICAgICBBcHBsaWNhdGlvbi5fcGx1Z2lucy5wdXNoKHBsdWdpbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVyIHRoZSBjdXJyZW50IHN0YWdlLlxuICAgICAqL1xuICAgIHB1YmxpYyByZW5kZXIoKTogdm9pZFxuICAgIHtcbiAgICAgICAgLy8gVE9ETzogU2luY2UgQ2FudmFzUmVuZGVyZXIgaGFzIG5vdCBiZWVuIGNvbnZlcnRlZCB0aGlzIGZ1bmN0aW9uIHRoaW5rcyBpdCB0YWtlcyBEaXNwbGF5T2JqZWN0ICYgUElYSS5EaXNwbGF5T2JqZWN0XG4gICAgICAgIC8vIFRoaXMgY2FuIGJlIGZpeGVkIHdoZW4gQ2FudmFzUmVuZGVyZXIgaXMgY29udmVydGVkLlxuICAgICAgICB0aGlzLnJlbmRlcmVyLnJlbmRlcih0aGlzLnN0YWdlIGFzIGFueSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVmZXJlbmNlIHRvIHRoZSByZW5kZXJlcidzIGNhbnZhcyBlbGVtZW50LlxuICAgICAqIEBtZW1iZXIge0hUTUxDYW52YXNFbGVtZW50fVxuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuICAgIGdldCB2aWV3KCk6IEhUTUxDYW52YXNFbGVtZW50XG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJlci52aWV3O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlZmVyZW5jZSB0byB0aGUgcmVuZGVyZXIncyBzY3JlZW4gcmVjdGFuZ2xlLiBJdHMgc2FmZSB0byB1c2UgYXMgYGZpbHRlckFyZWFgIG9yIGBoaXRBcmVhYCBmb3IgdGhlIHdob2xlIHNjcmVlbi5cbiAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICBnZXQgc2NyZWVuKCk6IFJlY3RhbmdsZVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZXIuc2NyZWVuO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3kgYW5kIGRvbid0IHVzZSBhZnRlciB0aGlzLlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW3JlbW92ZVZpZXc9ZmFsc2VdIC0gQXV0b21hdGljYWxseSByZW1vdmUgY2FudmFzIGZyb20gRE9NLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fGJvb2xlYW59IFtzdGFnZU9wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGwgb3B0aW9uc1xuICAgICAqICBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtzdGFnZU9wdGlvbnMuY2hpbGRyZW49ZmFsc2VdIC0gaWYgc2V0IHRvIHRydWUsIGFsbCB0aGUgY2hpbGRyZW4gd2lsbCBoYXZlIHRoZWlyIGRlc3Ryb3lcbiAgICAgKiAgbWV0aG9kIGNhbGxlZCBhcyB3ZWxsLiAnc3RhZ2VPcHRpb25zJyB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aG9zZSBjYWxscy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtzdGFnZU9wdGlvbnMudGV4dHVyZT1mYWxzZV0gLSBPbmx5IHVzZWQgZm9yIGNoaWxkIFNwcml0ZXMgaWYgc3RhZ2VPcHRpb25zLmNoaWxkcmVuIGlzIHNldFxuICAgICAqICB0byB0cnVlLiBTaG91bGQgaXQgZGVzdHJveSB0aGUgdGV4dHVyZSBvZiB0aGUgY2hpbGQgc3ByaXRlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc3RhZ2VPcHRpb25zLmJhc2VUZXh0dXJlPWZhbHNlXSAtIE9ubHkgdXNlZCBmb3IgY2hpbGQgU3ByaXRlcyBpZiBzdGFnZU9wdGlvbnMuY2hpbGRyZW4gaXMgc2V0XG4gICAgICogIHRvIHRydWUuIFNob3VsZCBpdCBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgb2YgdGhlIGNoaWxkIHNwcml0ZVxuICAgICAqL1xuICAgIHB1YmxpYyBkZXN0cm95KHJlbW92ZVZpZXc/OiBib29sZWFuLCBzdGFnZU9wdGlvbnM/OiBJRGVzdHJveU9wdGlvbnN8Ym9vbGVhbik6IHZvaWRcbiAgICB7XG4gICAgICAgIC8vIERlc3Ryb3kgcGx1Z2lucyBpbiB0aGUgb3Bwb3NpdGUgb3JkZXJcbiAgICAgICAgLy8gd2hpY2ggdGhleSB3ZXJlIGNvbnN0cnVjdGVkXG4gICAgICAgIGNvbnN0IHBsdWdpbnMgPSBBcHBsaWNhdGlvbi5fcGx1Z2lucy5zbGljZSgwKTtcblxuICAgICAgICBwbHVnaW5zLnJldmVyc2UoKTtcbiAgICAgICAgcGx1Z2lucy5mb3JFYWNoKChwbHVnaW4pID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIHBsdWdpbi5kZXN0cm95LmNhbGwodGhpcyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuc3RhZ2UuZGVzdHJveShzdGFnZU9wdGlvbnMpO1xuICAgICAgICB0aGlzLnN0YWdlID0gbnVsbDtcblxuICAgICAgICB0aGlzLnJlbmRlcmVyLmRlc3Ryb3kocmVtb3ZlVmlldyk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbWVtYmVyb2YgUElYSS5BcHBsaWNhdGlvblxuICogQHR5cGVkZWYge29iamVjdH0gUGx1Z2luXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9ufSBpbml0IC0gQ2FsbGVkIHdoZW4gQXBwbGljYXRpb24gaXMgY29uc3RydWN0ZWQsIHNjb3BlZCB0byBBcHBsaWNhdGlvbiBpbnN0YW5jZS5cbiAqICBQYXNzZXMgaW4gYG9wdGlvbnNgIGFzIHRoZSBvbmx5IGFyZ3VtZW50LCB3aGljaCBhcmUgQXBwbGljYXRpb24gY29uc3RydWN0b3Igb3B0aW9ucy5cbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb259IGRlc3Ryb3kgLSBDYWxsZWQgd2hlbiBkZXN0cm95aW5nIEFwcGxpY2F0aW9uLCBzY29wZWQgdG8gQXBwbGljYXRpb24gaW5zdGFuY2VcbiAqL1xuXG4vKipcbiAqIENvbGxlY3Rpb24gb2YgaW5zdGFsbGVkIHBsdWdpbnMuXG4gKiBAc3RhdGljXG4gKiBAcHJpdmF0ZVxuICogQHR5cGUge1BJWEkuQXBwbGljYXRpb24uUGx1Z2luW119XG4gKi9cbkFwcGxpY2F0aW9uLl9wbHVnaW5zID0gW107XG4iLCJpbXBvcnQgdHlwZSB7IENhbnZhc1JlbmRlcmVyIH0gZnJvbSAnQHBpeGkvY2FudmFzLXJlbmRlcmVyJztcbmltcG9ydCB0eXBlIHsgUmVuZGVyZXIgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB0eXBlIHsgSUFwcGxpY2F0aW9uT3B0aW9ucyB9IGZyb20gJy4vQXBwbGljYXRpb24nO1xuXG4vKipcbiAqIE1pZGRsZXdhcmUgZm9yIGZvciBBcHBsaWNhdGlvbidzIHJlc2l6ZSBmdW5jdGlvbmFsaXR5XG4gKiBAcHJpdmF0ZVxuICogQGNsYXNzXG4gKi9cbmV4cG9ydCBjbGFzcyBSZXNpemVQbHVnaW5cbntcbiAgICBwdWJsaWMgc3RhdGljIHJlc2l6ZVRvOiBXaW5kb3d8SFRNTEVsZW1lbnQ7XG4gICAgcHVibGljIHN0YXRpYyByZXNpemU6ICgpID0+IHZvaWQ7XG4gICAgcHVibGljIHN0YXRpYyByZW5kZXJlcjogUmVuZGVyZXJ8Q2FudmFzUmVuZGVyZXI7XG4gICAgcHVibGljIHN0YXRpYyBxdWV1ZVJlc2l6ZTogKCkgPT4gdm9pZDtcbiAgICBwcml2YXRlIHN0YXRpYyBfcmVzaXplSWQ6IG51bWJlcjtcbiAgICBwcml2YXRlIHN0YXRpYyBfcmVzaXplVG86IFdpbmRvd3xIVE1MRWxlbWVudDtcbiAgICBwcml2YXRlIHN0YXRpYyBjYW5jZWxSZXNpemU6ICgpID0+IHZvaWQ7XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIHRoZSBwbHVnaW4gd2l0aCBzY29wZSBvZiBhcHBsaWNhdGlvbiBpbnN0YW5jZVxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBTZWUgYXBwbGljYXRpb24gb3B0aW9uc1xuICAgICAqL1xuICAgIHN0YXRpYyBpbml0KG9wdGlvbnM/OiBJQXBwbGljYXRpb25PcHRpb25zKTogdm9pZFxuICAgIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBIVE1MIGVsZW1lbnQgb3Igd2luZG93IHRvIGF1dG9tYXRpY2FsbHkgcmVzaXplIHRoZVxuICAgICAgICAgKiByZW5kZXJlcidzIHZpZXcgZWxlbWVudCB0byBtYXRjaCB3aWR0aCBhbmQgaGVpZ2h0LlxuICAgICAgICAgKiBAdHlwZSB7V2luZG93fEhUTUxFbGVtZW50fVxuICAgICAgICAgKiBAbmFtZSByZXNpemVUb1xuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5BcHBsaWNhdGlvbiNcbiAgICAgICAgICovXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAncmVzaXplVG8nLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNldChkb206IFdpbmRvd3xIVE1MRWxlbWVudClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLnF1ZXVlUmVzaXplKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmVzaXplVG8gPSBkb207XG4gICAgICAgICAgICAgICAgICAgIGlmIChkb20pXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLnF1ZXVlUmVzaXplKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVzaXplKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGdldCgpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVzaXplVG87XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXNpemUgaXMgdGhyb3R0bGVkLCBzbyBpdCdzXG4gICAgICAgICAqIHNhZmUgdG8gY2FsbCB0aGlzIG11bHRpcGxlIHRpbWVzIHBlciBmcmFtZSBhbmQgaXQnbGxcbiAgICAgICAgICogb25seSBiZSBjYWxsZWQgb25jZS5cbiAgICAgICAgICogQG1ldGhvZCBQSVhJLkFwcGxpY2F0aW9uI3F1ZXVlUmVzaXplXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnF1ZXVlUmVzaXplID0gKCk6IHZvaWQgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9yZXNpemVUbylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuY2FuY2VsUmVzaXplKCk7XG5cbiAgICAgICAgICAgIC8vIC8vIFRocm90dGxlIHJlc2l6ZSBldmVudHMgcGVyIHJhZlxuICAgICAgICAgICAgdGhpcy5fcmVzaXplSWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gdGhpcy5yZXNpemUoKSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhbmNlbCB0aGUgcmVzaXplIHF1ZXVlLlxuICAgICAgICAgKiBAbWV0aG9kIFBJWEkuQXBwbGljYXRpb24jY2FuY2VsUmVzaXplXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNhbmNlbFJlc2l6ZSA9ICgpOiB2b2lkID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9yZXNpemVJZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLl9yZXNpemVJZCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVzaXplSWQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFeGVjdXRlIGFuIGltbWVkaWF0ZSByZXNpemUgb24gdGhlIHJlbmRlcmVyLCB0aGlzIGlzIG5vdFxuICAgICAgICAgKiB0aHJvdHRsZWQgYW5kIGNhbiBiZSBleHBlbnNpdmUgdG8gY2FsbCBtYW55IHRpbWVzIGluIGEgcm93LlxuICAgICAgICAgKiBXaWxsIHJlc2l6ZSBvbmx5IGlmIGByZXNpemVUb2AgcHJvcGVydHkgaXMgc2V0LlxuICAgICAgICAgKiBAbWV0aG9kIFBJWEkuQXBwbGljYXRpb24jcmVzaXplXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlc2l6ZSA9ICgpOiB2b2lkID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fcmVzaXplVG8pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBjbGVhciBxdWV1ZSByZXNpemVcbiAgICAgICAgICAgIHRoaXMuY2FuY2VsUmVzaXplKCk7XG5cbiAgICAgICAgICAgIGxldCB3aWR0aDogbnVtYmVyO1xuICAgICAgICAgICAgbGV0IGhlaWdodDogbnVtYmVyO1xuXG4gICAgICAgICAgICAvLyBSZXNpemUgdG8gdGhlIHdpbmRvd1xuICAgICAgICAgICAgaWYgKHRoaXMuX3Jlc2l6ZVRvID09PSB3aW5kb3cpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgd2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICAgICAgICAgICAgICBoZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBSZXNpemUgdG8gb3RoZXIgSFRNTCBlbnRpdGllc1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgY2xpZW50V2lkdGgsIGNsaWVudEhlaWdodCB9ID0gdGhpcy5fcmVzaXplVG8gYXMgSFRNTEVsZW1lbnQ7XG5cbiAgICAgICAgICAgICAgICB3aWR0aCA9IGNsaWVudFdpZHRoO1xuICAgICAgICAgICAgICAgIGhlaWdodCA9IGNsaWVudEhlaWdodDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5yZXNpemUod2lkdGgsIGhlaWdodCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gT24gcmVzaXplXG4gICAgICAgIHRoaXMuX3Jlc2l6ZUlkID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcmVzaXplVG8gPSBudWxsO1xuICAgICAgICB0aGlzLnJlc2l6ZVRvID0gb3B0aW9ucy5yZXNpemVUbyB8fCBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENsZWFuIHVwIHRoZSB0aWNrZXIsIHNjb3BlZCB0byBhcHBsaWNhdGlvblxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHN0YXRpYyBkZXN0cm95KCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLnF1ZXVlUmVzaXplKTtcbiAgICAgICAgdGhpcy5jYW5jZWxSZXNpemUoKTtcbiAgICAgICAgdGhpcy5jYW5jZWxSZXNpemUgPSBudWxsO1xuICAgICAgICB0aGlzLnF1ZXVlUmVzaXplID0gbnVsbDtcbiAgICAgICAgdGhpcy5yZXNpemVUbyA9IG51bGw7XG4gICAgICAgIHRoaXMucmVzaXplID0gbnVsbDtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBBcHBsaWNhdGlvbiB9IGZyb20gJy4vQXBwbGljYXRpb24nO1xuaW1wb3J0IHsgUmVzaXplUGx1Z2luIH0gZnJvbSAnLi9SZXNpemVQbHVnaW4nO1xuXG5BcHBsaWNhdGlvbi5yZWdpc3RlclBsdWdpbihSZXNpemVQbHVnaW4pO1xuXG5leHBvcnQgKiBmcm9tICcuL0FwcGxpY2F0aW9uJztcbiIsImltcG9ydCB7IENhbnZhc1JlbmRlclRhcmdldCB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IHsgUmVuZGVyVGV4dHVyZSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuXG5pbXBvcnQgdHlwZSB7IFJlbmRlcmVyLCBJUmVuZGVyZXJQbHVnaW4gfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB0eXBlIHsgRGlzcGxheU9iamVjdCB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuXG5jb25zdCBURU1QX1JFQ1QgPSBuZXcgUmVjdGFuZ2xlKCk7XG5jb25zdCBCWVRFU19QRVJfUElYRUwgPSA0O1xuXG4vKipcbiAqIFRoaXMgY2xhc3MgcHJvdmlkZXMgcmVuZGVyZXItc3BlY2lmaWMgcGx1Z2lucyBmb3IgZXhwb3J0aW5nIGNvbnRlbnQgZnJvbSBhIHJlbmRlcmVyLlxuICogRm9yIGluc3RhbmNlLCB0aGVzZSBwbHVnaW5zIGNhbiBiZSB1c2VkIGZvciBzYXZpbmcgYW4gSW1hZ2UsIENhbnZhcyBlbGVtZW50IG9yIGZvciBleHBvcnRpbmcgdGhlIHJhdyBpbWFnZSBkYXRhIChwaXhlbHMpLlxuICpcbiAqIERvIG5vdCBpbnN0YW50aWF0ZSB0aGVzZSBwbHVnaW5zIGRpcmVjdGx5LiBJdCBpcyBhdmFpbGFibGUgZnJvbSB0aGUgYHJlbmRlcmVyLnBsdWdpbnNgIHByb3BlcnR5LlxuICogU2VlIHtAbGluayBQSVhJLkNhbnZhc1JlbmRlcmVyI3BsdWdpbnN9IG9yIHtAbGluayBQSVhJLlJlbmRlcmVyI3BsdWdpbnN9LlxuICogQGV4YW1wbGVcbiAqIC8vIENyZWF0ZSBhIG5ldyBhcHAgKHdpbGwgYXV0by1hZGQgZXh0cmFjdCBwbHVnaW4gdG8gcmVuZGVyZXIpXG4gKiBjb25zdCBhcHAgPSBuZXcgUElYSS5BcHBsaWNhdGlvbigpO1xuICpcbiAqIC8vIERyYXcgYSByZWQgY2lyY2xlXG4gKiBjb25zdCBncmFwaGljcyA9IG5ldyBQSVhJLkdyYXBoaWNzKClcbiAqICAgICAuYmVnaW5GaWxsKDB4RkYwMDAwKVxuICogICAgIC5kcmF3Q2lyY2xlKDAsIDAsIDUwKTtcbiAqXG4gKiAvLyBSZW5kZXIgdGhlIGdyYXBoaWNzIGFzIGFuIEhUTUxJbWFnZUVsZW1lbnRcbiAqIGNvbnN0IGltYWdlID0gYXBwLnJlbmRlcmVyLnBsdWdpbnMuZXh0cmFjdC5pbWFnZShncmFwaGljcyk7XG4gKiBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGltYWdlKTtcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGNsYXNzIEV4dHJhY3QgaW1wbGVtZW50cyBJUmVuZGVyZXJQbHVnaW5cbntcbiAgICBwcml2YXRlIHJlbmRlcmVyOiBSZW5kZXJlcjtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBBIHJlZmVyZW5jZSB0byB0aGUgY3VycmVudCByZW5kZXJlclxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHJlbmRlcmVyOiBSZW5kZXJlcilcbiAgICB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbGxlY3Rpb24gb2YgbWV0aG9kcyBmb3IgZXh0cmFjdGluZyBkYXRhIChpbWFnZSwgcGl4ZWxzLCBldGMuKSBmcm9tIGEgZGlzcGxheSBvYmplY3Qgb3IgcmVuZGVyIHRleHR1cmVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5FeHRyYWN0fSBleHRyYWN0XG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLlJlbmRlcmVyI1xuICAgICAgICAgKiBAc2VlIFBJWEkuRXh0cmFjdFxuICAgICAgICAgKi9cbiAgICAgICAgcmVuZGVyZXIuZXh0cmFjdCA9IHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogV2lsbCByZXR1cm4gYSBIVE1MIEltYWdlIG9mIHRoZSB0YXJnZXRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fFBJWEkuUmVuZGVyVGV4dHVyZX0gdGFyZ2V0IC0gQSBkaXNwbGF5T2JqZWN0IG9yIHJlbmRlclRleHR1cmVcbiAgICAgKiAgdG8gY29udmVydC4gSWYgbGVmdCBlbXB0eSB3aWxsIHVzZSB0aGUgbWFpbiByZW5kZXJlclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbZm9ybWF0XSAtIEltYWdlIGZvcm1hdCwgZS5nLiBcImltYWdlL2pwZWdcIiBvciBcImltYWdlL3dlYnBcIi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3F1YWxpdHldIC0gSlBFRyBvciBXZWJwIGNvbXByZXNzaW9uIGZyb20gMCB0byAxLiBEZWZhdWx0IGlzIDAuOTIuXG4gICAgICogQHJldHVybiB7SFRNTEltYWdlRWxlbWVudH0gSFRNTCBJbWFnZSBvZiB0aGUgdGFyZ2V0XG4gICAgICovXG4gICAgcHVibGljIGltYWdlKHRhcmdldDogRGlzcGxheU9iamVjdHxSZW5kZXJUZXh0dXJlLCBmb3JtYXQ/OiBzdHJpbmcsIHF1YWxpdHk/OiBudW1iZXIpOiBIVE1MSW1hZ2VFbGVtZW50XG4gICAge1xuICAgICAgICBjb25zdCBpbWFnZSA9IG5ldyBJbWFnZSgpO1xuXG4gICAgICAgIGltYWdlLnNyYyA9IHRoaXMuYmFzZTY0KHRhcmdldCwgZm9ybWF0LCBxdWFsaXR5KTtcblxuICAgICAgICByZXR1cm4gaW1hZ2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogV2lsbCByZXR1cm4gYSBhIGJhc2U2NCBlbmNvZGVkIHN0cmluZyBvZiB0aGlzIHRhcmdldC4gSXQgd29ya3MgYnkgY2FsbGluZ1xuICAgICAqICBgRXh0cmFjdC5nZXRDYW52YXNgIGFuZCB0aGVuIHJ1bm5pbmcgdG9EYXRhVVJMIG9uIHRoYXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdHxQSVhJLlJlbmRlclRleHR1cmV9IHRhcmdldCAtIEEgZGlzcGxheU9iamVjdCBvciByZW5kZXJUZXh0dXJlXG4gICAgICogIHRvIGNvbnZlcnQuIElmIGxlZnQgZW1wdHkgd2lsbCB1c2UgdGhlIG1haW4gcmVuZGVyZXJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2Zvcm1hdF0gLSBJbWFnZSBmb3JtYXQsIGUuZy4gXCJpbWFnZS9qcGVnXCIgb3IgXCJpbWFnZS93ZWJwXCIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtxdWFsaXR5XSAtIEpQRUcgb3IgV2VicCBjb21wcmVzc2lvbiBmcm9tIDAgdG8gMS4gRGVmYXVsdCBpcyAwLjkyLlxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gQSBiYXNlNjQgZW5jb2RlZCBzdHJpbmcgb2YgdGhlIHRleHR1cmUuXG4gICAgICovXG4gICAgcHVibGljIGJhc2U2NCh0YXJnZXQ6IERpc3BsYXlPYmplY3R8UmVuZGVyVGV4dHVyZSwgZm9ybWF0Pzogc3RyaW5nLCBxdWFsaXR5PzogbnVtYmVyKTogc3RyaW5nXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5jYW52YXModGFyZ2V0KS50b0RhdGFVUkwoZm9ybWF0LCBxdWFsaXR5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgQ2FudmFzIGVsZW1lbnQsIHJlbmRlcnMgdGhpcyB0YXJnZXQgdG8gaXQgYW5kIHRoZW4gcmV0dXJucyBpdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fFBJWEkuUmVuZGVyVGV4dHVyZX0gdGFyZ2V0IC0gQSBkaXNwbGF5T2JqZWN0IG9yIHJlbmRlclRleHR1cmVcbiAgICAgKiAgdG8gY29udmVydC4gSWYgbGVmdCBlbXB0eSB3aWxsIHVzZSB0aGUgbWFpbiByZW5kZXJlclxuICAgICAqIEByZXR1cm4ge0hUTUxDYW52YXNFbGVtZW50fSBBIENhbnZhcyBlbGVtZW50IHdpdGggdGhlIHRleHR1cmUgcmVuZGVyZWQgb24uXG4gICAgICovXG4gICAgcHVibGljIGNhbnZhcyh0YXJnZXQ6IERpc3BsYXlPYmplY3R8UmVuZGVyVGV4dHVyZSk6IEhUTUxDYW52YXNFbGVtZW50XG4gICAge1xuICAgICAgICBjb25zdCByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG4gICAgICAgIGxldCByZXNvbHV0aW9uO1xuICAgICAgICBsZXQgZnJhbWU7XG4gICAgICAgIGxldCBmbGlwWSA9IGZhbHNlO1xuICAgICAgICBsZXQgcmVuZGVyVGV4dHVyZTtcbiAgICAgICAgbGV0IGdlbmVyYXRlZCA9IGZhbHNlO1xuXG4gICAgICAgIGlmICh0YXJnZXQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBSZW5kZXJUZXh0dXJlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJlbmRlclRleHR1cmUgPSB0YXJnZXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmVuZGVyVGV4dHVyZSA9IHRoaXMucmVuZGVyZXIuZ2VuZXJhdGVUZXh0dXJlKHRhcmdldCk7XG4gICAgICAgICAgICAgICAgZ2VuZXJhdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZW5kZXJUZXh0dXJlKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXNvbHV0aW9uID0gcmVuZGVyVGV4dHVyZS5iYXNlVGV4dHVyZS5yZXNvbHV0aW9uO1xuICAgICAgICAgICAgZnJhbWUgPSByZW5kZXJUZXh0dXJlLmZyYW1lO1xuICAgICAgICAgICAgZmxpcFkgPSBmYWxzZTtcbiAgICAgICAgICAgIHJlbmRlcmVyLnJlbmRlclRleHR1cmUuYmluZChyZW5kZXJUZXh0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJlc29sdXRpb24gPSB0aGlzLnJlbmRlcmVyLnJlc29sdXRpb247XG5cbiAgICAgICAgICAgIGZsaXBZID0gdHJ1ZTtcblxuICAgICAgICAgICAgZnJhbWUgPSBURU1QX1JFQ1Q7XG4gICAgICAgICAgICBmcmFtZS53aWR0aCA9IHRoaXMucmVuZGVyZXIud2lkdGg7XG4gICAgICAgICAgICBmcmFtZS5oZWlnaHQgPSB0aGlzLnJlbmRlcmVyLmhlaWdodDtcblxuICAgICAgICAgICAgcmVuZGVyZXIucmVuZGVyVGV4dHVyZS5iaW5kKG51bGwpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgd2lkdGggPSBNYXRoLmZsb29yKChmcmFtZS53aWR0aCAqIHJlc29sdXRpb24pICsgMWUtNCk7XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IE1hdGguZmxvb3IoKGZyYW1lLmhlaWdodCAqIHJlc29sdXRpb24pICsgMWUtNCk7XG5cbiAgICAgICAgbGV0IGNhbnZhc0J1ZmZlciA9IG5ldyBDYW52YXNSZW5kZXJUYXJnZXQod2lkdGgsIGhlaWdodCwgMSk7XG5cbiAgICAgICAgY29uc3Qgd2ViZ2xQaXhlbHMgPSBuZXcgVWludDhBcnJheShCWVRFU19QRVJfUElYRUwgKiB3aWR0aCAqIGhlaWdodCk7XG5cbiAgICAgICAgLy8gcmVhZCBwaXhlbHMgdG8gdGhlIGFycmF5XG4gICAgICAgIGNvbnN0IGdsID0gcmVuZGVyZXIuZ2w7XG5cbiAgICAgICAgZ2wucmVhZFBpeGVscyhcbiAgICAgICAgICAgIGZyYW1lLnggKiByZXNvbHV0aW9uLFxuICAgICAgICAgICAgZnJhbWUueSAqIHJlc29sdXRpb24sXG4gICAgICAgICAgICB3aWR0aCxcbiAgICAgICAgICAgIGhlaWdodCxcbiAgICAgICAgICAgIGdsLlJHQkEsXG4gICAgICAgICAgICBnbC5VTlNJR05FRF9CWVRFLFxuICAgICAgICAgICAgd2ViZ2xQaXhlbHNcbiAgICAgICAgKTtcblxuICAgICAgICAvLyBhZGQgdGhlIHBpeGVscyB0byB0aGUgY2FudmFzXG4gICAgICAgIGNvbnN0IGNhbnZhc0RhdGEgPSBjYW52YXNCdWZmZXIuY29udGV4dC5nZXRJbWFnZURhdGEoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG5cbiAgICAgICAgRXh0cmFjdC5hcnJheVBvc3REaXZpZGUod2ViZ2xQaXhlbHMsIGNhbnZhc0RhdGEuZGF0YSk7XG5cbiAgICAgICAgY2FudmFzQnVmZmVyLmNvbnRleHQucHV0SW1hZ2VEYXRhKGNhbnZhc0RhdGEsIDAsIDApO1xuXG4gICAgICAgIC8vIHB1bGxpbmcgcGl4ZWxzXG4gICAgICAgIGlmIChmbGlwWSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gbmV3IENhbnZhc1JlbmRlclRhcmdldChjYW52YXNCdWZmZXIud2lkdGgsIGNhbnZhc0J1ZmZlci5oZWlnaHQsIDEpO1xuXG4gICAgICAgICAgICB0YXJnZXQuY29udGV4dC5zY2FsZSgxLCAtMSk7XG5cbiAgICAgICAgICAgIC8vIHdlIGNhbid0IHJlbmRlciB0byBpdHNlbGYgYmVjYXVzZSB3ZSBzaG91bGQgYmUgZW1wdHkgYmVmb3JlIHJlbmRlci5cbiAgICAgICAgICAgIHRhcmdldC5jb250ZXh0LmRyYXdJbWFnZShjYW52YXNCdWZmZXIuY2FudmFzLCAwLCAtaGVpZ2h0KTtcblxuICAgICAgICAgICAgY2FudmFzQnVmZmVyLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIGNhbnZhc0J1ZmZlciA9IHRhcmdldDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChnZW5lcmF0ZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJlbmRlclRleHR1cmUuZGVzdHJveSh0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNlbmQgdGhlIGNhbnZhcyBiYWNrLi5cbiAgICAgICAgcmV0dXJuIGNhbnZhc0J1ZmZlci5jYW52YXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogV2lsbCByZXR1cm4gYSBvbmUtZGltZW5zaW9uYWwgYXJyYXkgY29udGFpbmluZyB0aGUgcGl4ZWwgZGF0YSBvZiB0aGUgZW50aXJlIHRleHR1cmUgaW4gUkdCQVxuICAgICAqIG9yZGVyLCB3aXRoIGludGVnZXIgdmFsdWVzIGJldHdlZW4gMCBhbmQgMjU1IChpbmNsdWRlZCkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdHxQSVhJLlJlbmRlclRleHR1cmV9IHRhcmdldCAtIEEgZGlzcGxheU9iamVjdCBvciByZW5kZXJUZXh0dXJlXG4gICAgICogIHRvIGNvbnZlcnQuIElmIGxlZnQgZW1wdHkgd2lsbCB1c2UgdGhlIG1haW4gcmVuZGVyZXJcbiAgICAgKiBAcmV0dXJuIHtVaW50OEFycmF5fSBPbmUtZGltZW5zaW9uYWwgYXJyYXkgY29udGFpbmluZyB0aGUgcGl4ZWwgZGF0YSBvZiB0aGUgZW50aXJlIHRleHR1cmVcbiAgICAgKi9cbiAgICBwdWJsaWMgcGl4ZWxzKHRhcmdldDogRGlzcGxheU9iamVjdHxSZW5kZXJUZXh0dXJlKTogVWludDhBcnJheVxuICAgIHtcbiAgICAgICAgY29uc3QgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgICAgICBsZXQgcmVzb2x1dGlvbjtcbiAgICAgICAgbGV0IGZyYW1lO1xuICAgICAgICBsZXQgcmVuZGVyVGV4dHVyZTtcbiAgICAgICAgbGV0IGdlbmVyYXRlZCA9IGZhbHNlO1xuXG4gICAgICAgIGlmICh0YXJnZXQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBSZW5kZXJUZXh0dXJlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJlbmRlclRleHR1cmUgPSB0YXJnZXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmVuZGVyVGV4dHVyZSA9IHRoaXMucmVuZGVyZXIuZ2VuZXJhdGVUZXh0dXJlKHRhcmdldCk7XG4gICAgICAgICAgICAgICAgZ2VuZXJhdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZW5kZXJUZXh0dXJlKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXNvbHV0aW9uID0gcmVuZGVyVGV4dHVyZS5iYXNlVGV4dHVyZS5yZXNvbHV0aW9uO1xuICAgICAgICAgICAgZnJhbWUgPSByZW5kZXJUZXh0dXJlLmZyYW1lO1xuXG4gICAgICAgICAgICAvLyBiaW5kIHRoZSBidWZmZXJcbiAgICAgICAgICAgIHJlbmRlcmVyLnJlbmRlclRleHR1cmUuYmluZChyZW5kZXJUZXh0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJlc29sdXRpb24gPSByZW5kZXJlci5yZXNvbHV0aW9uO1xuXG4gICAgICAgICAgICBmcmFtZSA9IFRFTVBfUkVDVDtcbiAgICAgICAgICAgIGZyYW1lLndpZHRoID0gcmVuZGVyZXIud2lkdGg7XG4gICAgICAgICAgICBmcmFtZS5oZWlnaHQgPSByZW5kZXJlci5oZWlnaHQ7XG5cbiAgICAgICAgICAgIHJlbmRlcmVyLnJlbmRlclRleHR1cmUuYmluZChudWxsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHdpZHRoID0gZnJhbWUud2lkdGggKiByZXNvbHV0aW9uO1xuICAgICAgICBjb25zdCBoZWlnaHQgPSBmcmFtZS5oZWlnaHQgKiByZXNvbHV0aW9uO1xuXG4gICAgICAgIGNvbnN0IHdlYmdsUGl4ZWxzID0gbmV3IFVpbnQ4QXJyYXkoQllURVNfUEVSX1BJWEVMICogd2lkdGggKiBoZWlnaHQpO1xuXG4gICAgICAgIC8vIHJlYWQgcGl4ZWxzIHRvIHRoZSBhcnJheVxuICAgICAgICBjb25zdCBnbCA9IHJlbmRlcmVyLmdsO1xuXG4gICAgICAgIGdsLnJlYWRQaXhlbHMoXG4gICAgICAgICAgICBmcmFtZS54ICogcmVzb2x1dGlvbixcbiAgICAgICAgICAgIGZyYW1lLnkgKiByZXNvbHV0aW9uLFxuICAgICAgICAgICAgd2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQsXG4gICAgICAgICAgICBnbC5SR0JBLFxuICAgICAgICAgICAgZ2wuVU5TSUdORURfQllURSxcbiAgICAgICAgICAgIHdlYmdsUGl4ZWxzXG4gICAgICAgICk7XG5cbiAgICAgICAgaWYgKGdlbmVyYXRlZClcbiAgICAgICAge1xuICAgICAgICAgICAgcmVuZGVyVGV4dHVyZS5kZXN0cm95KHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgRXh0cmFjdC5hcnJheVBvc3REaXZpZGUod2ViZ2xQaXhlbHMsIHdlYmdsUGl4ZWxzKTtcblxuICAgICAgICByZXR1cm4gd2ViZ2xQaXhlbHM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIGV4dHJhY3RcbiAgICAgKlxuICAgICAqL1xuICAgIHB1YmxpYyBkZXN0cm95KCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuZXh0cmFjdCA9IG51bGw7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRha2VzIHByZW11bHRpcGxpZWQgcGl4ZWwgZGF0YSBhbmQgcHJvZHVjZXMgcmVndWxhciBwaXhlbCBkYXRhXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSBwaXhlbHMge251bWJlcltdIHwgVWludDhBcnJheSB8IFVpbnQ4Q2xhbXBlZEFycmF5fSBhcnJheSBvZiBwaXhlbCBkYXRhXG4gICAgICogQHBhcmFtIG91dCB7bnVtYmVyW10gfCBVaW50OEFycmF5IHwgVWludDhDbGFtcGVkQXJyYXl9IG91dHB1dCBhcnJheVxuICAgICAqL1xuICAgIHN0YXRpYyBhcnJheVBvc3REaXZpZGUoXG4gICAgICAgIHBpeGVsczogbnVtYmVyW10gfCBVaW50OEFycmF5IHwgVWludDhDbGFtcGVkQXJyYXksIG91dDogbnVtYmVyW10gfCBVaW50OEFycmF5IHwgVWludDhDbGFtcGVkQXJyYXlcbiAgICApOiB2b2lkXG4gICAge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBpeGVscy5sZW5ndGg7IGkgKz0gNClcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgYWxwaGEgPSBvdXRbaSArIDNdID0gcGl4ZWxzW2kgKyAzXTtcblxuICAgICAgICAgICAgaWYgKGFscGhhICE9PSAwKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG91dFtpXSA9IE1hdGgucm91bmQoTWF0aC5taW4ocGl4ZWxzW2ldICogMjU1LjAgLyBhbHBoYSwgMjU1LjApKTtcbiAgICAgICAgICAgICAgICBvdXRbaSArIDFdID0gTWF0aC5yb3VuZChNYXRoLm1pbihwaXhlbHNbaSArIDFdICogMjU1LjAgLyBhbHBoYSwgMjU1LjApKTtcbiAgICAgICAgICAgICAgICBvdXRbaSArIDJdID0gTWF0aC5yb3VuZChNYXRoLm1pbihwaXhlbHNbaSArIDJdICogMjU1LjAgLyBhbHBoYSwgMjU1LjApKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBvdXRbaV0gPSBwaXhlbHNbaV07XG4gICAgICAgICAgICAgICAgb3V0W2kgKyAxXSA9IHBpeGVsc1tpICsgMV07XG4gICAgICAgICAgICAgICAgb3V0W2kgKyAyXSA9IHBpeGVsc1tpICsgMl07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCIndXNlIHN0cmljdCdcblxubW9kdWxlLmV4cG9ydHMgPSAoc3RyLCBvcHRzID0ge30pID0+IHtcbiAgaWYgKCFzdHIpIHJldHVybiB1bmRlZmluZWRcblxuICBjb25zdCBvID0ge1xuICAgIGtleTogW1xuICAgICAgJ3NvdXJjZScsXG4gICAgICAncHJvdG9jb2wnLFxuICAgICAgJ2F1dGhvcml0eScsXG4gICAgICAndXNlckluZm8nLFxuICAgICAgJ3VzZXInLFxuICAgICAgJ3Bhc3N3b3JkJyxcbiAgICAgICdob3N0JyxcbiAgICAgICdwb3J0JyxcbiAgICAgICdyZWxhdGl2ZScsXG4gICAgICAncGF0aCcsXG4gICAgICAnZGlyZWN0b3J5JyxcbiAgICAgICdmaWxlJyxcbiAgICAgICdxdWVyeScsXG4gICAgICAnYW5jaG9yJ1xuICAgIF0sXG4gICAgcToge1xuICAgICAgbmFtZTogJ3F1ZXJ5S2V5JyxcbiAgICAgIHBhcnNlcjogLyg/Ol58JikoW14mPV0qKT0/KFteJl0qKS9nXG4gICAgfSxcbiAgICBwYXJzZXI6IHtcbiAgICAgIHN0cmljdDogL14oPzooW146Lz8jXSspOik/KD86XFwvXFwvKCg/OigoW146QF0qKSg/OjooW146QF0qKSk/KT9AKT8oW146Lz8jXSopKD86OihcXGQqKSk/KSk/KCgoKD86W14/Iy9dKlxcLykqKShbXj8jXSopKSg/OlxcPyhbXiNdKikpPyg/OiMoLiopKT8pLyxcbiAgICAgIGxvb3NlOiAvXig/Oig/IVteOkBdKzpbXjpAL10qQCkoW146Lz8jLl0rKTopPyg/OlxcL1xcLyk/KCg/OigoW146QF0qKSg/OjooW146QF0qKSk/KT9AKT8oW146Lz8jXSopKD86OihcXGQqKSk/KSgoKFxcLyg/OltePyNdKD8hW14/Iy9dKlxcLltePyMvLl0rKD86Wz8jXXwkKSkpKlxcLz8pPyhbXj8jL10qKSkoPzpcXD8oW14jXSopKT8oPzojKC4qKSk/KS9cbiAgICB9XG4gIH1cblxuICBjb25zdCBtID0gby5wYXJzZXJbb3B0cy5zdHJpY3RNb2RlID8gJ3N0cmljdCcgOiAnbG9vc2UnXS5leGVjKHN0cilcbiAgY29uc3QgdXJpID0ge31cbiAgbGV0IGkgPSAxNFxuXG4gIHdoaWxlIChpLS0pIHVyaVtvLmtleVtpXV0gPSBtW2ldIHx8ICcnXG5cbiAgdXJpW28ucS5uYW1lXSA9IHt9XG4gIHVyaVtvLmtleVsxMl1dLnJlcGxhY2Uoby5xLnBhcnNlciwgZnVuY3Rpb24gKCQwLCAkMSwgJDIpIHtcbiAgICBpZiAoJDEpIHVyaVtvLnEubmFtZV1bJDFdID0gJDJcbiAgfSlcblxuICByZXR1cm4gdXJpXG59XG4iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gKGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgndmFsdWUnIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbicpOyB9IH1cblxudmFyIE1pbmlTaWduYWxCaW5kaW5nID0gKGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gTWluaVNpZ25hbEJpbmRpbmcoZm4sIG9uY2UsIHRoaXNBcmcpIHtcbiAgICBpZiAob25jZSA9PT0gdW5kZWZpbmVkKSBvbmNlID0gZmFsc2U7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTWluaVNpZ25hbEJpbmRpbmcpO1xuXG4gICAgdGhpcy5fZm4gPSBmbjtcbiAgICB0aGlzLl9vbmNlID0gb25jZTtcbiAgICB0aGlzLl90aGlzQXJnID0gdGhpc0FyZztcbiAgICB0aGlzLl9uZXh0ID0gdGhpcy5fcHJldiA9IHRoaXMuX293bmVyID0gbnVsbDtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhNaW5pU2lnbmFsQmluZGluZywgW3tcbiAgICBrZXk6ICdkZXRhY2gnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkZXRhY2goKSB7XG4gICAgICBpZiAodGhpcy5fb3duZXIgPT09IG51bGwpIHJldHVybiBmYWxzZTtcbiAgICAgIHRoaXMuX293bmVyLmRldGFjaCh0aGlzKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBNaW5pU2lnbmFsQmluZGluZztcbn0pKCk7XG5cbmZ1bmN0aW9uIF9hZGRNaW5pU2lnbmFsQmluZGluZyhzZWxmLCBub2RlKSB7XG4gIGlmICghc2VsZi5faGVhZCkge1xuICAgIHNlbGYuX2hlYWQgPSBub2RlO1xuICAgIHNlbGYuX3RhaWwgPSBub2RlO1xuICB9IGVsc2Uge1xuICAgIHNlbGYuX3RhaWwuX25leHQgPSBub2RlO1xuICAgIG5vZGUuX3ByZXYgPSBzZWxmLl90YWlsO1xuICAgIHNlbGYuX3RhaWwgPSBub2RlO1xuICB9XG5cbiAgbm9kZS5fb3duZXIgPSBzZWxmO1xuXG4gIHJldHVybiBub2RlO1xufVxuXG52YXIgTWluaVNpZ25hbCA9IChmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIE1pbmlTaWduYWwoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1pbmlTaWduYWwpO1xuXG4gICAgdGhpcy5faGVhZCA9IHRoaXMuX3RhaWwgPSB1bmRlZmluZWQ7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoTWluaVNpZ25hbCwgW3tcbiAgICBrZXk6ICdoYW5kbGVycycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZXJzKCkge1xuICAgICAgdmFyIGV4aXN0cyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IGZhbHNlIDogYXJndW1lbnRzWzBdO1xuXG4gICAgICB2YXIgbm9kZSA9IHRoaXMuX2hlYWQ7XG5cbiAgICAgIGlmIChleGlzdHMpIHJldHVybiAhIW5vZGU7XG5cbiAgICAgIHZhciBlZSA9IFtdO1xuXG4gICAgICB3aGlsZSAobm9kZSkge1xuICAgICAgICBlZS5wdXNoKG5vZGUpO1xuICAgICAgICBub2RlID0gbm9kZS5fbmV4dDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGVlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2hhcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGhhcyhub2RlKSB7XG4gICAgICBpZiAoIShub2RlIGluc3RhbmNlb2YgTWluaVNpZ25hbEJpbmRpbmcpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTWluaVNpZ25hbCNoYXMoKTogRmlyc3QgYXJnIG11c3QgYmUgYSBNaW5pU2lnbmFsQmluZGluZyBvYmplY3QuJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBub2RlLl9vd25lciA9PT0gdGhpcztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdkaXNwYXRjaCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRpc3BhdGNoKCkge1xuICAgICAgdmFyIG5vZGUgPSB0aGlzLl9oZWFkO1xuXG4gICAgICBpZiAoIW5vZGUpIHJldHVybiBmYWxzZTtcblxuICAgICAgd2hpbGUgKG5vZGUpIHtcbiAgICAgICAgaWYgKG5vZGUuX29uY2UpIHRoaXMuZGV0YWNoKG5vZGUpO1xuICAgICAgICBub2RlLl9mbi5hcHBseShub2RlLl90aGlzQXJnLCBhcmd1bWVudHMpO1xuICAgICAgICBub2RlID0gbm9kZS5fbmV4dDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnYWRkJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkKGZuKSB7XG4gICAgICB2YXIgdGhpc0FyZyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IG51bGwgOiBhcmd1bWVudHNbMV07XG5cbiAgICAgIGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaW5pU2lnbmFsI2FkZCgpOiBGaXJzdCBhcmcgbXVzdCBiZSBhIEZ1bmN0aW9uLicpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIF9hZGRNaW5pU2lnbmFsQmluZGluZyh0aGlzLCBuZXcgTWluaVNpZ25hbEJpbmRpbmcoZm4sIGZhbHNlLCB0aGlzQXJnKSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnb25jZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uY2UoZm4pIHtcbiAgICAgIHZhciB0aGlzQXJnID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IGFyZ3VtZW50c1sxXTtcblxuICAgICAgaWYgKHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pbmlTaWduYWwjb25jZSgpOiBGaXJzdCBhcmcgbXVzdCBiZSBhIEZ1bmN0aW9uLicpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIF9hZGRNaW5pU2lnbmFsQmluZGluZyh0aGlzLCBuZXcgTWluaVNpZ25hbEJpbmRpbmcoZm4sIHRydWUsIHRoaXNBcmcpKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdkZXRhY2gnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkZXRhY2gobm9kZSkge1xuICAgICAgaWYgKCEobm9kZSBpbnN0YW5jZW9mIE1pbmlTaWduYWxCaW5kaW5nKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pbmlTaWduYWwjZGV0YWNoKCk6IEZpcnN0IGFyZyBtdXN0IGJlIGEgTWluaVNpZ25hbEJpbmRpbmcgb2JqZWN0LicpO1xuICAgICAgfVxuICAgICAgaWYgKG5vZGUuX293bmVyICE9PSB0aGlzKSByZXR1cm4gdGhpcztcblxuICAgICAgaWYgKG5vZGUuX3ByZXYpIG5vZGUuX3ByZXYuX25leHQgPSBub2RlLl9uZXh0O1xuICAgICAgaWYgKG5vZGUuX25leHQpIG5vZGUuX25leHQuX3ByZXYgPSBub2RlLl9wcmV2O1xuXG4gICAgICBpZiAobm9kZSA9PT0gdGhpcy5faGVhZCkge1xuICAgICAgICB0aGlzLl9oZWFkID0gbm9kZS5fbmV4dDtcbiAgICAgICAgaWYgKG5vZGUuX25leHQgPT09IG51bGwpIHtcbiAgICAgICAgICB0aGlzLl90YWlsID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChub2RlID09PSB0aGlzLl90YWlsKSB7XG4gICAgICAgIHRoaXMuX3RhaWwgPSBub2RlLl9wcmV2O1xuICAgICAgICB0aGlzLl90YWlsLl9uZXh0ID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgbm9kZS5fb3duZXIgPSBudWxsO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZGV0YWNoQWxsJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGV0YWNoQWxsKCkge1xuICAgICAgdmFyIG5vZGUgPSB0aGlzLl9oZWFkO1xuICAgICAgaWYgKCFub2RlKSByZXR1cm4gdGhpcztcblxuICAgICAgdGhpcy5faGVhZCA9IHRoaXMuX3RhaWwgPSBudWxsO1xuXG4gICAgICB3aGlsZSAobm9kZSkge1xuICAgICAgICBub2RlLl9vd25lciA9IG51bGw7XG4gICAgICAgIG5vZGUgPSBub2RlLl9uZXh0O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIE1pbmlTaWduYWw7XG59KSgpO1xuXG5NaW5pU2lnbmFsLk1pbmlTaWduYWxCaW5kaW5nID0gTWluaVNpZ25hbEJpbmRpbmc7XG5cbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IE1pbmlTaWduYWw7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcbiIsIi8qKlxuICogU21hbGxlciB2ZXJzaW9uIG9mIHRoZSBhc3luYyBsaWJyYXJ5IGNvbnN0cnVjdHMuXG4gKlxuICogQG5hbWVzcGFjZSBhc3luY1xuICovXG5cbi8qKlxuICogTm9vcCBmdW5jdGlvblxuICpcbiAqIEBpZ25vcmVcbiAqIEBmdW5jdGlvblxuICogQG1lbWJlcm9mIGFzeW5jXG4gKi9cbmZ1bmN0aW9uIF9ub29wKCkgeyAvKiBlbXB0eSAqLyB9XG5cbi8qKlxuICogSXRlcmF0ZXMgYW4gYXJyYXkgaW4gc2VyaWVzLlxuICpcbiAqIEBtZW1iZXJvZiBhc3luY1xuICogQGZ1bmN0aW9uIGVhY2hTZXJpZXNcbiAqIEBwYXJhbSB7QXJyYXkuPCo+fSBhcnJheSAtIEFycmF5IHRvIGl0ZXJhdGUuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBpdGVyYXRvciAtIEZ1bmN0aW9uIHRvIGNhbGwgZm9yIGVhY2ggZWxlbWVudC5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrIC0gRnVuY3Rpb24gdG8gY2FsbCB3aGVuIGRvbmUsIG9yIG9uIGVycm9yLlxuICogQHBhcmFtIHtib29sZWFufSBbZGVmZXJOZXh0PWZhbHNlXSAtIEJyZWFrIHN5bmNocm9ub3VzIGVhY2ggbG9vcCBieSBjYWxsaW5nIG5leHQgd2l0aCBhIHNldFRpbWVvdXQgb2YgMS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVhY2hTZXJpZXMoYXJyYXksIGl0ZXJhdG9yLCBjYWxsYmFjaywgZGVmZXJOZXh0KSB7XG4gICAgbGV0IGkgPSAwO1xuICAgIGNvbnN0IGxlbiA9IGFycmF5Lmxlbmd0aDtcblxuICAgIChmdW5jdGlvbiBuZXh0KGVycikge1xuICAgICAgICBpZiAoZXJyIHx8IGkgPT09IGxlbikge1xuICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRlZmVyTmV4dCkge1xuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgaXRlcmF0b3IoYXJyYXlbaSsrXSwgbmV4dCk7XG4gICAgICAgICAgICB9LCAxKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGl0ZXJhdG9yKGFycmF5W2krK10sIG5leHQpO1xuICAgICAgICB9XG4gICAgfSkoKTtcbn1cblxuLyoqXG4gKiBFbnN1cmVzIGEgZnVuY3Rpb24gaXMgb25seSBjYWxsZWQgb25jZS5cbiAqXG4gKiBAaWdub3JlXG4gKiBAbWVtYmVyb2YgYXN5bmNcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuIC0gVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gKiBAcmV0dXJuIHtmdW5jdGlvbn0gVGhlIHdyYXBwaW5nIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBvbmx5T25jZShmbikge1xuICAgIHJldHVybiBmdW5jdGlvbiBvbmNlV3JhcHBlcigpIHtcbiAgICAgICAgaWYgKGZuID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NhbGxiYWNrIHdhcyBhbHJlYWR5IGNhbGxlZC4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGNhbGxGbiA9IGZuO1xuXG4gICAgICAgIGZuID0gbnVsbDtcbiAgICAgICAgY2FsbEZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcbn1cblxuLyoqXG4gKiBBc3luYyBxdWV1ZSBpbXBsZW1lbnRhdGlvbixcbiAqXG4gKiBAbWVtYmVyb2YgYXN5bmNcbiAqIEBmdW5jdGlvbiBxdWV1ZVxuICogQHBhcmFtIHtmdW5jdGlvbn0gd29ya2VyIC0gVGhlIHdvcmtlciBmdW5jdGlvbiB0byBjYWxsIGZvciBlYWNoIHRhc2suXG4gKiBAcGFyYW0ge251bWJlcn0gY29uY3VycmVuY3kgLSBIb3cgbWFueSB3b3JrZXJzIHRvIHJ1biBpbiBwYXJyYWxsZWwuXG4gKiBAcmV0dXJuIHsqfSBUaGUgYXN5bmMgcXVldWUgb2JqZWN0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gcXVldWUod29ya2VyLCBjb25jdXJyZW5jeSkge1xuICAgIGlmIChjb25jdXJyZW5jeSA9PSBudWxsKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZXEtbnVsbCxlcWVxZXFcbiAgICAgICAgY29uY3VycmVuY3kgPSAxO1xuICAgIH1cbiAgICBlbHNlIGlmIChjb25jdXJyZW5jeSA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvbmN1cnJlbmN5IG11c3Qgbm90IGJlIHplcm8nKTtcbiAgICB9XG5cbiAgICBsZXQgd29ya2VycyA9IDA7XG4gICAgY29uc3QgcSA9IHtcbiAgICAgICAgX3Rhc2tzOiBbXSxcbiAgICAgICAgY29uY3VycmVuY3ksXG4gICAgICAgIHNhdHVyYXRlZDogX25vb3AsXG4gICAgICAgIHVuc2F0dXJhdGVkOiBfbm9vcCxcbiAgICAgICAgYnVmZmVyOiBjb25jdXJyZW5jeSAvIDQsXG4gICAgICAgIGVtcHR5OiBfbm9vcCxcbiAgICAgICAgZHJhaW46IF9ub29wLFxuICAgICAgICBlcnJvcjogX25vb3AsXG4gICAgICAgIHN0YXJ0ZWQ6IGZhbHNlLFxuICAgICAgICBwYXVzZWQ6IGZhbHNlLFxuICAgICAgICBwdXNoKGRhdGEsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBfaW5zZXJ0KGRhdGEsIGZhbHNlLCBjYWxsYmFjayk7XG4gICAgICAgIH0sXG4gICAgICAgIGtpbGwoKSB7XG4gICAgICAgICAgICB3b3JrZXJzID0gMDtcbiAgICAgICAgICAgIHEuZHJhaW4gPSBfbm9vcDtcbiAgICAgICAgICAgIHEuc3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgcS5fdGFza3MgPSBbXTtcbiAgICAgICAgfSxcbiAgICAgICAgdW5zaGlmdChkYXRhLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgX2luc2VydChkYXRhLCB0cnVlLCBjYWxsYmFjayk7XG4gICAgICAgIH0sXG4gICAgICAgIHByb2Nlc3MoKSB7XG4gICAgICAgICAgICB3aGlsZSAoIXEucGF1c2VkICYmIHdvcmtlcnMgPCBxLmNvbmN1cnJlbmN5ICYmIHEuX3Rhc2tzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRhc2sgPSBxLl90YXNrcy5zaGlmdCgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHEuX3Rhc2tzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBxLmVtcHR5KCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgd29ya2VycyArPSAxO1xuXG4gICAgICAgICAgICAgICAgaWYgKHdvcmtlcnMgPT09IHEuY29uY3VycmVuY3kpIHtcbiAgICAgICAgICAgICAgICAgICAgcS5zYXR1cmF0ZWQoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB3b3JrZXIodGFzay5kYXRhLCBvbmx5T25jZShfbmV4dCh0YXNrKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBsZW5ndGgoKSB7XG4gICAgICAgICAgICByZXR1cm4gcS5fdGFza3MubGVuZ3RoO1xuICAgICAgICB9LFxuICAgICAgICBydW5uaW5nKCkge1xuICAgICAgICAgICAgcmV0dXJuIHdvcmtlcnM7XG4gICAgICAgIH0sXG4gICAgICAgIGlkbGUoKSB7XG4gICAgICAgICAgICByZXR1cm4gcS5fdGFza3MubGVuZ3RoICsgd29ya2VycyA9PT0gMDtcbiAgICAgICAgfSxcbiAgICAgICAgcGF1c2UoKSB7XG4gICAgICAgICAgICBpZiAocS5wYXVzZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHEucGF1c2VkID0gdHJ1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVzdW1lKCkge1xuICAgICAgICAgICAgaWYgKHEucGF1c2VkID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcS5wYXVzZWQgPSBmYWxzZTtcblxuICAgICAgICAgICAgLy8gTmVlZCB0byBjYWxsIHEucHJvY2VzcyBvbmNlIHBlciBjb25jdXJyZW50XG4gICAgICAgICAgICAvLyB3b3JrZXIgdG8gcHJlc2VydmUgZnVsbCBjb25jdXJyZW5jeSBhZnRlciBwYXVzZVxuICAgICAgICAgICAgZm9yIChsZXQgdyA9IDE7IHcgPD0gcS5jb25jdXJyZW5jeTsgdysrKSB7XG4gICAgICAgICAgICAgICAgcS5wcm9jZXNzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIF9pbnNlcnQoZGF0YSwgaW5zZXJ0QXRGcm9udCwgY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKGNhbGxiYWNrICE9IG51bGwgJiYgdHlwZW9mIGNhbGxiYWNrICE9PSAnZnVuY3Rpb24nKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZXEtbnVsbCxlcWVxZXFcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigndGFzayBjYWxsYmFjayBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHEuc3RhcnRlZCA9IHRydWU7XG5cbiAgICAgICAgaWYgKGRhdGEgPT0gbnVsbCAmJiBxLmlkbGUoKSkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWVxLW51bGwsZXFlcWVxXG4gICAgICAgICAgICAvLyBjYWxsIGRyYWluIGltbWVkaWF0ZWx5IGlmIHRoZXJlIGFyZSBubyB0YXNrc1xuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiBxLmRyYWluKCksIDEpO1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBpdGVtID0ge1xuICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgIGNhbGxiYWNrOiB0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicgPyBjYWxsYmFjayA6IF9ub29wLFxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChpbnNlcnRBdEZyb250KSB7XG4gICAgICAgICAgICBxLl90YXNrcy51bnNoaWZ0KGl0ZW0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcS5fdGFza3MucHVzaChpdGVtKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4gcS5wcm9jZXNzKCksIDEpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9uZXh0KHRhc2spIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICAgICAgICB3b3JrZXJzIC09IDE7XG5cbiAgICAgICAgICAgIHRhc2suY2FsbGJhY2suYXBwbHkodGFzaywgYXJndW1lbnRzKTtcblxuICAgICAgICAgICAgaWYgKGFyZ3VtZW50c1swXSAhPSBudWxsKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZXEtbnVsbCxlcWVxZXFcbiAgICAgICAgICAgICAgICBxLmVycm9yKGFyZ3VtZW50c1swXSwgdGFzay5kYXRhKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHdvcmtlcnMgPD0gKHEuY29uY3VycmVuY3kgLSBxLmJ1ZmZlcikpIHtcbiAgICAgICAgICAgICAgICBxLnVuc2F0dXJhdGVkKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChxLmlkbGUoKSkge1xuICAgICAgICAgICAgICAgIHEuZHJhaW4oKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcS5wcm9jZXNzKCk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHE7XG59XG4iLCIvLyBhIHNpbXBsZSBpbi1tZW1vcnkgY2FjaGUgZm9yIHJlc291cmNlc1xuY29uc3QgY2FjaGUgPSB7fTtcblxuLyoqXG4gKiBBIHNpbXBsZSBpbi1tZW1vcnkgY2FjaGUgZm9yIHJlc291cmNlLlxuICpcbiAqIEBtZW1iZXJvZiBtaWRkbGV3YXJlXG4gKiBAZnVuY3Rpb24gY2FjaGluZ1xuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IExvYWRlciwgbWlkZGxld2FyZSB9IGZyb20gJ3Jlc291cmNlLWxvYWRlcic7XG4gKiBjb25zdCBsb2FkZXIgPSBuZXcgTG9hZGVyKCk7XG4gKiBsb2FkZXIudXNlKG1pZGRsZXdhcmUuY2FjaGluZyk7XG4gKiBAcGFyYW0ge1Jlc291cmNlfSByZXNvdXJjZSAtIEN1cnJlbnQgUmVzb3VyY2VcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IG5leHQgLSBDYWxsYmFjayB3aGVuIGNvbXBsZXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjYWNoaW5nKHJlc291cmNlLCBuZXh0KSB7XG4gICAgLy8gaWYgY2FjaGVkLCB0aGVuIHNldCBkYXRhIGFuZCBjb21wbGV0ZSB0aGUgcmVzb3VyY2VcbiAgICBpZiAoY2FjaGVbcmVzb3VyY2UudXJsXSkge1xuICAgICAgICByZXNvdXJjZS5kYXRhID0gY2FjaGVbcmVzb3VyY2UudXJsXTtcbiAgICAgICAgcmVzb3VyY2UuY29tcGxldGUoKTsgLy8gbWFya3MgcmVzb3VyY2UgbG9hZCBjb21wbGV0ZSBhbmQgc3RvcHMgcHJvY2Vzc2luZyBiZWZvcmUgbWlkZGxld2FyZXNcbiAgICB9XG4gICAgLy8gaWYgbm90IGNhY2hlZCwgd2FpdCBmb3IgY29tcGxldGUgYW5kIHN0b3JlIGl0IGluIHRoZSBjYWNoZS5cbiAgICBlbHNlIHtcbiAgICAgICAgcmVzb3VyY2Uub25Db21wbGV0ZS5vbmNlKCgpID0+IChjYWNoZVt0aGlzLnVybF0gPSB0aGlzLmRhdGEpKTtcbiAgICB9XG5cbiAgICBuZXh0KCk7XG59XG4iLCJpbXBvcnQgcGFyc2VVcmkgZnJvbSAncGFyc2UtdXJpJztcbmltcG9ydCBTaWduYWwgZnJvbSAnbWluaS1zaWduYWxzJztcblxuLy8gdGVzdHMgaWYgQ09SUyBpcyBzdXBwb3J0ZWQgaW4gWEhSLCBpZiBub3Qgd2UgbmVlZCB0byB1c2UgWERSXG5jb25zdCB1c2VYZHIgPSAhISh3aW5kb3cuWERvbWFpblJlcXVlc3QgJiYgISgnd2l0aENyZWRlbnRpYWxzJyBpbiAobmV3IFhNTEh0dHBSZXF1ZXN0KCkpKSk7XG5sZXQgdGVtcEFuY2hvciA9IG51bGw7XG5cbi8vIHNvbWUgc3RhdHVzIGNvbnN0YW50c1xuY29uc3QgU1RBVFVTX05PTkUgPSAwO1xuY29uc3QgU1RBVFVTX09LID0gMjAwO1xuY29uc3QgU1RBVFVTX0VNUFRZID0gMjA0O1xuY29uc3QgU1RBVFVTX0lFX0JVR19FTVBUWSA9IDEyMjM7XG5jb25zdCBTVEFUVVNfVFlQRV9PSyA9IDI7XG5cbi8vIG5vb3BcbmZ1bmN0aW9uIF9ub29wKCkgeyAvKiBlbXB0eSAqLyB9XG5cbi8qKlxuICogTWFuYWdlcyB0aGUgc3RhdGUgYW5kIGxvYWRpbmcgb2YgYSByZXNvdXJjZSBhbmQgYWxsIGNoaWxkIHJlc291cmNlcy5cbiAqXG4gKiBAY2xhc3NcbiAqL1xuY2xhc3MgUmVzb3VyY2Uge1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGxvYWQgdHlwZSB0byBiZSB1c2VkIGZvciBhIHNwZWNpZmljIGV4dGVuc2lvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXh0bmFtZSAtIFRoZSBleHRlbnNpb24gdG8gc2V0IHRoZSB0eXBlIGZvciwgZS5nLiBcInBuZ1wiIG9yIFwiZm50XCJcbiAgICAgKiBAcGFyYW0ge1Jlc291cmNlLkxPQURfVFlQRX0gbG9hZFR5cGUgLSBUaGUgbG9hZCB0eXBlIHRvIHNldCBpdCB0by5cbiAgICAgKi9cbiAgICBzdGF0aWMgc2V0RXh0ZW5zaW9uTG9hZFR5cGUoZXh0bmFtZSwgbG9hZFR5cGUpIHtcbiAgICAgICAgc2V0RXh0TWFwKFJlc291cmNlLl9sb2FkVHlwZU1hcCwgZXh0bmFtZSwgbG9hZFR5cGUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGxvYWQgdHlwZSB0byBiZSB1c2VkIGZvciBhIHNwZWNpZmljIGV4dGVuc2lvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXh0bmFtZSAtIFRoZSBleHRlbnNpb24gdG8gc2V0IHRoZSB0eXBlIGZvciwgZS5nLiBcInBuZ1wiIG9yIFwiZm50XCJcbiAgICAgKiBAcGFyYW0ge1Jlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFfSB4aHJUeXBlIC0gVGhlIHhociB0eXBlIHRvIHNldCBpdCB0by5cbiAgICAgKi9cbiAgICBzdGF0aWMgc2V0RXh0ZW5zaW9uWGhyVHlwZShleHRuYW1lLCB4aHJUeXBlKSB7XG4gICAgICAgIHNldEV4dE1hcChSZXNvdXJjZS5feGhyVHlwZU1hcCwgZXh0bmFtZSwgeGhyVHlwZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgcmVzb3VyY2UgdG8gbG9hZC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xzdHJpbmdbXX0gdXJsIC0gVGhlIHVybCBmb3IgdGhpcyByZXNvdXJjZSwgZm9yIGF1ZGlvL3ZpZGVvIGxvYWRzIHlvdSBjYW4gcGFzc1xuICAgICAqICAgICAgYW4gYXJyYXkgb2Ygc291cmNlcy5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gVGhlIG9wdGlvbnMgZm9yIHRoZSBsb2FkLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfGJvb2xlYW59IFtvcHRpb25zLmNyb3NzT3JpZ2luXSAtIElzIHRoaXMgcmVxdWVzdCBjcm9zcy1vcmlnaW4/IERlZmF1bHQgaXMgdG9cbiAgICAgKiAgICAgIGRldGVybWluZSBhdXRvbWF0aWNhbGx5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy50aW1lb3V0PTBdIC0gQSB0aW1lb3V0IGluIG1pbGxpc2Vjb25kcyBmb3IgdGhlIGxvYWQuIElmIHRoZSBsb2FkIHRha2VzXG4gICAgICogICAgICBsb25nZXIgdGhhbiB0aGlzIHRpbWUgaXQgaXMgY2FuY2VsbGVkIGFuZCB0aGUgbG9hZCBpcyBjb25zaWRlcmVkIGEgZmFpbHVyZS4gSWYgdGhpcyB2YWx1ZSBpc1xuICAgICAqICAgICAgc2V0IHRvIGAwYCB0aGVuIHRoZXJlIGlzIG5vIGV4cGxpY2l0IHRpbWVvdXQuXG4gICAgICogQHBhcmFtIHtSZXNvdXJjZS5MT0FEX1RZUEV9IFtvcHRpb25zLmxvYWRUeXBlPVJlc291cmNlLkxPQURfVFlQRS5YSFJdIC0gSG93IHNob3VsZCB0aGlzIHJlc291cmNlXG4gICAgICogICAgICBiZSBsb2FkZWQ/XG4gICAgICogQHBhcmFtIHtSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRX0gW29wdGlvbnMueGhyVHlwZT1SZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ERUZBVUxUXSAtIEhvd1xuICAgICAqICAgICAgc2hvdWxkIHRoZSBkYXRhIGJlaW5nIGxvYWRlZCBiZSBpbnRlcnByZXRlZCB3aGVuIHVzaW5nIFhIUj9cbiAgICAgKiBAcGFyYW0ge1Jlc291cmNlLklNZXRhZGF0YX0gW29wdGlvbnMubWV0YWRhdGFdIC0gRXh0cmEgY29uZmlndXJhdGlvbiBmb3IgbWlkZGxld2FyZSBhbmQgdGhlIFJlc291cmNlIG9iamVjdC5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihuYW1lLCB1cmwsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJyB8fCB0eXBlb2YgdXJsICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdCb3RoIG5hbWUgYW5kIHVybCBhcmUgcmVxdWlyZWQgZm9yIGNvbnN0cnVjdGluZyBhIHJlc291cmNlLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzdGF0ZSBmbGFncyBvZiB0aGlzIHJlc291cmNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9mbGFncyA9IDA7XG5cbiAgICAgICAgLy8gc2V0IGRhdGEgdXJsIGZsYWcsIG5lZWRzIHRvIGJlIHNldCBlYXJseSBmb3Igc29tZSBfZGV0ZXJtaW5lWCBjaGVja3MgdG8gd29yay5cbiAgICAgICAgdGhpcy5fc2V0RmxhZyhSZXNvdXJjZS5TVEFUVVNfRkxBR1MuREFUQV9VUkwsIHVybC5pbmRleE9mKCdkYXRhOicpID09PSAwKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG5hbWUgb2YgdGhpcyByZXNvdXJjZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB1cmwgdXNlZCB0byBsb2FkIHRoaXMgcmVzb3VyY2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnVybCA9IHVybDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGV4dGVuc2lvbiB1c2VkIHRvIGxvYWQgdGhpcyByZXNvdXJjZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZXh0ZW5zaW9uID0gdGhpcy5fZ2V0RXh0ZW5zaW9uKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBkYXRhIHRoYXQgd2FzIGxvYWRlZCBieSB0aGUgcmVzb3VyY2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2FueX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGF0YSA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElzIHRoaXMgcmVxdWVzdCBjcm9zcy1vcmlnaW4/IElmIHVuc2V0LCBkZXRlcm1pbmVkIGF1dG9tYXRpY2FsbHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY3Jvc3NPcmlnaW4gPSBvcHRpb25zLmNyb3NzT3JpZ2luID09PSB0cnVlID8gJ2Fub255bW91cycgOiBvcHRpb25zLmNyb3NzT3JpZ2luO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHRpbWVvdXQgaW4gbWlsbGlzZWNvbmRzIGZvciB0aGUgbG9hZC4gSWYgdGhlIGxvYWQgdGFrZXMgbG9uZ2VyIHRoYW4gdGhpcyB0aW1lXG4gICAgICAgICAqIGl0IGlzIGNhbmNlbGxlZCBhbmQgdGhlIGxvYWQgaXMgY29uc2lkZXJlZCBhIGZhaWx1cmUuIElmIHRoaXMgdmFsdWUgaXMgc2V0IHRvIGAwYFxuICAgICAgICAgKiB0aGVuIHRoZXJlIGlzIG5vIGV4cGxpY2l0IHRpbWVvdXQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGltZW91dCA9IG9wdGlvbnMudGltZW91dCB8fCAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWV0aG9kIG9mIGxvYWRpbmcgdG8gdXNlIGZvciB0aGlzIHJlc291cmNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtSZXNvdXJjZS5MT0FEX1RZUEV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxvYWRUeXBlID0gb3B0aW9ucy5sb2FkVHlwZSB8fCB0aGlzLl9kZXRlcm1pbmVMb2FkVHlwZSgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHlwZSB1c2VkIHRvIGxvYWQgdGhlIHJlc291cmNlIHZpYSBYSFIuIElmIHVuc2V0LCBkZXRlcm1pbmVkIGF1dG9tYXRpY2FsbHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueGhyVHlwZSA9IG9wdGlvbnMueGhyVHlwZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRXh0cmEgaW5mbyBmb3IgbWlkZGxld2FyZSwgYW5kIGNvbnRyb2xsaW5nIHNwZWNpZmljcyBhYm91dCBob3cgdGhlIHJlc291cmNlIGxvYWRzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBOb3RlIHRoYXQgaWYgeW91IHBhc3MgaW4gYSBgbG9hZEVsZW1lbnRgLCB0aGUgUmVzb3VyY2UgY2xhc3MgdGFrZXMgb3duZXJzaGlwIG9mIGl0LlxuICAgICAgICAgKiBNZWFuaW5nIGl0IHdpbGwgbW9kaWZ5IGl0IGFzIGl0IHNlZXMgZml0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtSZXNvdXJjZS5JTWV0YWRhdGF9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1ldGFkYXRhID0gb3B0aW9ucy5tZXRhZGF0YSB8fCB7fTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGVycm9yIHRoYXQgb2NjdXJyZWQgd2hpbGUgbG9hZGluZyAoaWYgYW55KS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge0Vycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5lcnJvciA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBYSFIgb2JqZWN0IHRoYXQgd2FzIHVzZWQgdG8gbG9hZCB0aGlzIHJlc291cmNlLiBUaGlzIGlzIG9ubHkgc2V0XG4gICAgICAgICAqIHdoZW4gYGxvYWRUeXBlYCBpcyBgUmVzb3VyY2UuTE9BRF9UWVBFLlhIUmAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtYTUxIdHRwUmVxdWVzdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueGhyID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNoaWxkIHJlc291cmNlcyB0aGlzIHJlc291cmNlIG93bnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtSZXNvdXJjZVtdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVzb3VyY2UgdHlwZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge1Jlc291cmNlLlRZUEV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR5cGUgPSBSZXNvdXJjZS5UWVBFLlVOS05PV047XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBwcm9ncmVzcyBjaHVuayBvd25lZCBieSB0aGlzIHJlc291cmNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wcm9ncmVzc0NodW5rID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGBkZXF1ZXVlYCBtZXRob2QgdGhhdCB3aWxsIGJlIHVzZWQgYSBzdG9yYWdlIHBsYWNlIGZvciB0aGUgYXN5bmMgcXVldWUgZGVxdWV1ZSBtZXRob2RcbiAgICAgICAgICogdXNlZCBwcml2YXRlbHkgYnkgdGhlIGxvYWRlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7ZnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9kZXF1ZXVlID0gX25vb3A7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZWQgYSBzdG9yYWdlIHBsYWNlIGZvciB0aGUgb24gbG9hZCBiaW5kaW5nIHVzZWQgcHJpdmF0ZWx5IGJ5IHRoZSBsb2FkZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge2Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fb25Mb2FkQmluZGluZyA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0aW1lciBmb3IgZWxlbWVudCBsb2FkcyB0byBjaGVjayBpZiB0aGV5IHRpbWVvdXQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2VsZW1lbnRUaW1lciA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBgY29tcGxldGVgIGZ1bmN0aW9uIGJvdW5kIHRvIHRoaXMgcmVzb3VyY2UncyBjb250ZXh0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2JvdW5kQ29tcGxldGUgPSB0aGlzLmNvbXBsZXRlLmJpbmQodGhpcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBgX29uRXJyb3JgIGZ1bmN0aW9uIGJvdW5kIHRvIHRoaXMgcmVzb3VyY2UncyBjb250ZXh0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2JvdW5kT25FcnJvciA9IHRoaXMuX29uRXJyb3IuYmluZCh0aGlzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGBfb25Qcm9ncmVzc2AgZnVuY3Rpb24gYm91bmQgdG8gdGhpcyByZXNvdXJjZSdzIGNvbnRleHQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge2Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYm91bmRPblByb2dyZXNzID0gdGhpcy5fb25Qcm9ncmVzcy5iaW5kKHRoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYF9vblRpbWVvdXRgIGZ1bmN0aW9uIGJvdW5kIHRvIHRoaXMgcmVzb3VyY2UncyBjb250ZXh0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2JvdW5kT25UaW1lb3V0ID0gdGhpcy5fb25UaW1lb3V0LmJpbmQodGhpcyk7XG5cbiAgICAgICAgLy8geGhyIGNhbGxiYWNrc1xuICAgICAgICB0aGlzLl9ib3VuZFhock9uRXJyb3IgPSB0aGlzLl94aHJPbkVycm9yLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX2JvdW5kWGhyT25UaW1lb3V0ID0gdGhpcy5feGhyT25UaW1lb3V0LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX2JvdW5kWGhyT25BYm9ydCA9IHRoaXMuX3hock9uQWJvcnQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5fYm91bmRYaHJPbkxvYWQgPSB0aGlzLl94aHJPbkxvYWQuYmluZCh0aGlzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGlzcGF0Y2hlZCB3aGVuIHRoZSByZXNvdXJjZSBiZWluZ3MgdG8gbG9hZC5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIGNhbGxiYWNrIGxvb2tzIGxpa2Uge0BsaW5rIFJlc291cmNlLk9uU3RhcnRTaWduYWx9LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtTaWduYWw8UmVzb3VyY2UuT25TdGFydFNpZ25hbD59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uU3RhcnQgPSBuZXcgU2lnbmFsKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpc3BhdGNoZWQgZWFjaCB0aW1lIHByb2dyZXNzIG9mIHRoaXMgcmVzb3VyY2UgbG9hZCB1cGRhdGVzLlxuICAgICAgICAgKiBOb3QgYWxsIHJlc291cmNlcyB0eXBlcyBhbmQgbG9hZGVyIHN5c3RlbXMgY2FuIHN1cHBvcnQgdGhpcyBldmVudFxuICAgICAgICAgKiBzbyBzb21ldGltZXMgaXQgbWF5IG5vdCBiZSBhdmFpbGFibGUuIElmIHRoZSByZXNvdXJjZVxuICAgICAgICAgKiBpcyBiZWluZyBsb2FkZWQgb24gYSBtb2Rlcm4gYnJvd3NlciwgdXNpbmcgWEhSLCBhbmQgdGhlIHJlbW90ZSBzZXJ2ZXJcbiAgICAgICAgICogcHJvcGVybHkgc2V0cyBDb250ZW50LUxlbmd0aCBoZWFkZXJzLCB0aGVuIHRoaXMgd2lsbCBiZSBhdmFpbGFibGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZSBjYWxsYmFjayBsb29rcyBsaWtlIHtAbGluayBSZXNvdXJjZS5PblByb2dyZXNzU2lnbmFsfS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7U2lnbmFsPFJlc291cmNlLk9uUHJvZ3Jlc3NTaWduYWw+fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vblByb2dyZXNzID0gbmV3IFNpZ25hbCgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaXNwYXRjaGVkIG9uY2UgdGhpcyByZXNvdXJjZSBoYXMgbG9hZGVkLCBpZiB0aGVyZSB3YXMgYW4gZXJyb3IgaXQgd2lsbFxuICAgICAgICAgKiBiZSBpbiB0aGUgYGVycm9yYCBwcm9wZXJ0eS5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIGNhbGxiYWNrIGxvb2tzIGxpa2Uge0BsaW5rIFJlc291cmNlLk9uQ29tcGxldGVTaWduYWx9LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtTaWduYWw8UmVzb3VyY2UuT25Db21wbGV0ZVNpZ25hbD59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uQ29tcGxldGUgPSBuZXcgU2lnbmFsKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpc3BhdGNoZWQgYWZ0ZXIgdGhpcyByZXNvdXJjZSBoYXMgaGFkIGFsbCB0aGUgKmFmdGVyKiBtaWRkbGV3YXJlIHJ1biBvbiBpdC5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIGNhbGxiYWNrIGxvb2tzIGxpa2Uge0BsaW5rIFJlc291cmNlLk9uQ29tcGxldGVTaWduYWx9LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtTaWduYWw8UmVzb3VyY2UuT25Db21wbGV0ZVNpZ25hbD59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uQWZ0ZXJNaWRkbGV3YXJlID0gbmV3IFNpZ25hbCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFdoZW4gdGhlIHJlc291cmNlIHN0YXJ0cyB0byBsb2FkLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFJlc291cmNlXG4gICAgICogQGNhbGxiYWNrIE9uU3RhcnRTaWduYWxcbiAgICAgKiBAcGFyYW0ge1Jlc291cmNlfSByZXNvdXJjZSAtIFRoZSByZXNvdXJjZSB0aGF0IHRoZSBldmVudCBoYXBwZW5lZCBvbi5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIFdoZW4gdGhlIHJlc291cmNlIHJlcG9ydHMgbG9hZGluZyBwcm9ncmVzcy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBSZXNvdXJjZVxuICAgICAqIEBjYWxsYmFjayBPblByb2dyZXNzU2lnbmFsXG4gICAgICogQHBhcmFtIHtSZXNvdXJjZX0gcmVzb3VyY2UgLSBUaGUgcmVzb3VyY2UgdGhhdCB0aGUgZXZlbnQgaGFwcGVuZWQgb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBlcmNlbnRhZ2UgLSBUaGUgcHJvZ3Jlc3Mgb2YgdGhlIGxvYWQgaW4gdGhlIHJhbmdlIFswLCAxXS5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIFdoZW4gdGhlIHJlc291cmNlIGZpbmlzaGVzIGxvYWRpbmcuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUmVzb3VyY2VcbiAgICAgKiBAY2FsbGJhY2sgT25Db21wbGV0ZVNpZ25hbFxuICAgICAqIEBwYXJhbSB7UmVzb3VyY2V9IHJlc291cmNlIC0gVGhlIHJlc291cmNlIHRoYXQgdGhlIGV2ZW50IGhhcHBlbmVkIG9uLlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQG1lbWJlcm9mIFJlc291cmNlXG4gICAgICogQHR5cGVkZWYge29iamVjdH0gSU1ldGFkYXRhXG4gICAgICogQHByb3BlcnR5IHtIVE1MSW1hZ2VFbGVtZW50fEhUTUxBdWRpb0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudH0gW2xvYWRFbGVtZW50PW51bGxdIC0gVGhlXG4gICAgICogICAgICBlbGVtZW50IHRvIHVzZSBmb3IgbG9hZGluZywgaW5zdGVhZCBvZiBjcmVhdGluZyBvbmUuXG4gICAgICogQHByb3BlcnR5IHtib29sZWFufSBbc2tpcFNvdXJjZT1mYWxzZV0gLSBTa2lwcyBhZGRpbmcgc291cmNlKHMpIHRvIHRoZSBsb2FkIGVsZW1lbnQuIFRoaXNcbiAgICAgKiAgICAgIGlzIHVzZWZ1bCBpZiB5b3Ugd2FudCB0byBwYXNzIGluIGEgYGxvYWRFbGVtZW50YCB0aGF0IHlvdSBhbHJlYWR5IGFkZGVkIGxvYWQgc291cmNlcyB0by5cbiAgICAgKiBAcHJvcGVydHkge3N0cmluZ3xzdHJpbmdbXX0gW21pbWVUeXBlXSAtIFRoZSBtaW1lIHR5cGUgdG8gdXNlIGZvciB0aGUgc291cmNlIGVsZW1lbnRcbiAgICAgKiAgICAgIG9mIGEgdmlkZW8vYXVkaW8gZWxtZW50LiBJZiB0aGUgdXJscyBhcmUgYW4gYXJyYXksIHlvdSBjYW4gcGFzcyB0aGlzIGFzIGFuIGFycmF5IGFzIHdlbGxcbiAgICAgKiAgICAgIHdoZXJlIGVhY2ggaW5kZXggaXMgdGhlIG1pbWUgdHlwZSB0byB1c2UgZm9yIHRoZSBjb3JyZXNwb25kaW5nIHVybCBpbmRleC5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIFN0b3JlcyB3aGV0aGVyIG9yIG5vdCB0aGlzIHVybCBpcyBhIGRhdGEgdXJsLlxuICAgICAqXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBnZXQgaXNEYXRhVXJsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faGFzRmxhZyhSZXNvdXJjZS5TVEFUVVNfRkxBR1MuREFUQV9VUkwpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc2NyaWJlcyBpZiB0aGlzIHJlc291cmNlIGhhcyBmaW5pc2hlZCBsb2FkaW5nLiBJcyB0cnVlIHdoZW4gdGhlIHJlc291cmNlIGhhcyBjb21wbGV0ZWx5XG4gICAgICogbG9hZGVkLlxuICAgICAqXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBnZXQgaXNDb21wbGV0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2hhc0ZsYWcoUmVzb3VyY2UuU1RBVFVTX0ZMQUdTLkNPTVBMRVRFKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXNjcmliZXMgaWYgdGhpcyByZXNvdXJjZSBpcyBjdXJyZW50bHkgbG9hZGluZy4gSXMgdHJ1ZSB3aGVuIHRoZSByZXNvdXJjZSBzdGFydHMgbG9hZGluZyxcbiAgICAgKiBhbmQgaXMgZmFsc2UgYWdhaW4gd2hlbiBjb21wbGV0ZS5cbiAgICAgKlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICovXG4gICAgZ2V0IGlzTG9hZGluZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2hhc0ZsYWcoUmVzb3VyY2UuU1RBVFVTX0ZMQUdTLkxPQURJTkcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1hcmtzIHRoZSByZXNvdXJjZSBhcyBjb21wbGV0ZS5cbiAgICAgKlxuICAgICAqL1xuICAgIGNvbXBsZXRlKCkge1xuICAgICAgICB0aGlzLl9jbGVhckV2ZW50cygpO1xuICAgICAgICB0aGlzLl9maW5pc2goKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBYm9ydHMgdGhlIGxvYWRpbmcgb2YgdGhpcyByZXNvdXJjZSwgd2l0aCBhbiBvcHRpb25hbCBtZXNzYWdlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2UgLSBUaGUgbWVzc2FnZSB0byB1c2UgZm9yIHRoZSBlcnJvclxuICAgICAqL1xuICAgIGFib3J0KG1lc3NhZ2UpIHtcbiAgICAgICAgLy8gYWJvcnQgY2FuIGJlIGNhbGxlZCBtdWx0aXBsZSB0aW1lcywgaWdub3JlIHN1YnNlcXVlbnQgY2FsbHMuXG4gICAgICAgIGlmICh0aGlzLmVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzdG9yZSBlcnJvclxuICAgICAgICB0aGlzLmVycm9yID0gbmV3IEVycm9yKG1lc3NhZ2UpO1xuXG4gICAgICAgIC8vIGNsZWFyIGV2ZW50cyBiZWZvcmUgY2FsbGluZyBhYm9ydHNcbiAgICAgICAgdGhpcy5fY2xlYXJFdmVudHMoKTtcblxuICAgICAgICAvLyBhYm9ydCB0aGUgYWN0dWFsIGxvYWRpbmdcbiAgICAgICAgaWYgKHRoaXMueGhyKSB7XG4gICAgICAgICAgICB0aGlzLnhoci5hYm9ydCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMueGRyKSB7XG4gICAgICAgICAgICB0aGlzLnhkci5hYm9ydCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuZGF0YSkge1xuICAgICAgICAgICAgLy8gc2luZ2xlIHNvdXJjZVxuICAgICAgICAgICAgaWYgKHRoaXMuZGF0YS5zcmMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGEuc3JjID0gUmVzb3VyY2UuRU1QVFlfR0lGO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gbXVsdGktc291cmNlXG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB3aGlsZSAodGhpcy5kYXRhLmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhLnJlbW92ZUNoaWxkKHRoaXMuZGF0YS5maXJzdENoaWxkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBkb25lIG5vdy5cbiAgICAgICAgdGhpcy5fZmluaXNoKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogS2lja3Mgb2ZmIGxvYWRpbmcgb2YgdGhpcyByZXNvdXJjZS4gVGhpcyBtZXRob2QgaXMgYXN5bmNocm9ub3VzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtSZXNvdXJjZS5PbkNvbXBsZXRlU2lnbmFsfSBbY2JdIC0gT3B0aW9uYWwgY2FsbGJhY2sgdG8gY2FsbCBvbmNlIHRoZSByZXNvdXJjZSBpcyBsb2FkZWQuXG4gICAgICovXG4gICAgbG9hZChjYikge1xuICAgICAgICBpZiAodGhpcy5pc0xvYWRpbmcpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmlzQ29tcGxldGUpIHtcbiAgICAgICAgICAgIGlmIChjYikge1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gY2IodGhpcyksIDEpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY2IpIHtcbiAgICAgICAgICAgIHRoaXMub25Db21wbGV0ZS5vbmNlKGNiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3NldEZsYWcoUmVzb3VyY2UuU1RBVFVTX0ZMQUdTLkxPQURJTkcsIHRydWUpO1xuXG4gICAgICAgIHRoaXMub25TdGFydC5kaXNwYXRjaCh0aGlzKTtcblxuICAgICAgICAvLyBpZiB1bnNldCwgZGV0ZXJtaW5lIHRoZSB2YWx1ZVxuICAgICAgICBpZiAodGhpcy5jcm9zc09yaWdpbiA9PT0gZmFsc2UgfHwgdHlwZW9mIHRoaXMuY3Jvc3NPcmlnaW4gIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB0aGlzLmNyb3NzT3JpZ2luID0gdGhpcy5fZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4odGhpcy51cmwpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3dpdGNoICh0aGlzLmxvYWRUeXBlKSB7XG4gICAgICAgICAgICBjYXNlIFJlc291cmNlLkxPQURfVFlQRS5JTUFHRTpcbiAgICAgICAgICAgICAgICB0aGlzLnR5cGUgPSBSZXNvdXJjZS5UWVBFLklNQUdFO1xuICAgICAgICAgICAgICAgIHRoaXMuX2xvYWRFbGVtZW50KCdpbWFnZScpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIFJlc291cmNlLkxPQURfVFlQRS5BVURJTzpcbiAgICAgICAgICAgICAgICB0aGlzLnR5cGUgPSBSZXNvdXJjZS5UWVBFLkFVRElPO1xuICAgICAgICAgICAgICAgIHRoaXMuX2xvYWRTb3VyY2VFbGVtZW50KCdhdWRpbycpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIFJlc291cmNlLkxPQURfVFlQRS5WSURFTzpcbiAgICAgICAgICAgICAgICB0aGlzLnR5cGUgPSBSZXNvdXJjZS5UWVBFLlZJREVPO1xuICAgICAgICAgICAgICAgIHRoaXMuX2xvYWRTb3VyY2VFbGVtZW50KCd2aWRlbycpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIFJlc291cmNlLkxPQURfVFlQRS5YSFI6XG4gICAgICAgICAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBpZiAodXNlWGRyICYmIHRoaXMuY3Jvc3NPcmlnaW4pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbG9hZFhkcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbG9hZFhocigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiB0aGUgZmxhZyBpcyBzZXQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBmbGFnIC0gVGhlIGZsYWcgdG8gY2hlY2suXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgZmxhZyBpcyBzZXQuXG4gICAgICovXG4gICAgX2hhc0ZsYWcoZmxhZykge1xuICAgICAgICByZXR1cm4gKHRoaXMuX2ZsYWdzICYgZmxhZykgIT09IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogKFVuKVNldHMgdGhlIGZsYWcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBmbGFnIC0gVGhlIGZsYWcgdG8gKHVuKXNldC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlIC0gV2hldGhlciB0byBzZXQgb3IgKHVuKXNldCB0aGUgZmxhZy5cbiAgICAgKi9cbiAgICBfc2V0RmxhZyhmbGFnLCB2YWx1ZSkge1xuICAgICAgICB0aGlzLl9mbGFncyA9IHZhbHVlID8gKHRoaXMuX2ZsYWdzIHwgZmxhZykgOiAodGhpcy5fZmxhZ3MgJiB+ZmxhZyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2xlYXJzIGFsbCB0aGUgZXZlbnRzIGZyb20gdGhlIHVuZGVybHlpbmcgbG9hZGluZyBzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9jbGVhckV2ZW50cygpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX2VsZW1lbnRUaW1lcik7XG5cbiAgICAgICAgaWYgKHRoaXMuZGF0YSAmJiB0aGlzLmRhdGEucmVtb3ZlRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICAgICAgdGhpcy5kYXRhLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgdGhpcy5fYm91bmRPbkVycm9yLCBmYWxzZSk7XG4gICAgICAgICAgICB0aGlzLmRhdGEucmVtb3ZlRXZlbnRMaXN0ZW5lcignbG9hZCcsIHRoaXMuX2JvdW5kQ29tcGxldGUsIGZhbHNlKTtcbiAgICAgICAgICAgIHRoaXMuZGF0YS5yZW1vdmVFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIHRoaXMuX2JvdW5kT25Qcm9ncmVzcywgZmFsc2UpO1xuICAgICAgICAgICAgdGhpcy5kYXRhLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NhbnBsYXl0aHJvdWdoJywgdGhpcy5fYm91bmRDb21wbGV0ZSwgZmFsc2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMueGhyKSB7XG4gICAgICAgICAgICBpZiAodGhpcy54aHIucmVtb3ZlRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICAgICAgICAgIHRoaXMueGhyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgdGhpcy5fYm91bmRYaHJPbkVycm9yLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgdGhpcy54aHIucmVtb3ZlRXZlbnRMaXN0ZW5lcigndGltZW91dCcsIHRoaXMuX2JvdW5kWGhyT25UaW1lb3V0LCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgdGhpcy54aHIucmVtb3ZlRXZlbnRMaXN0ZW5lcignYWJvcnQnLCB0aGlzLl9ib3VuZFhock9uQWJvcnQsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB0aGlzLnhoci5yZW1vdmVFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIHRoaXMuX2JvdW5kT25Qcm9ncmVzcywgZmFsc2UpO1xuICAgICAgICAgICAgICAgIHRoaXMueGhyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2xvYWQnLCB0aGlzLl9ib3VuZFhock9uTG9hZCwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy54aHIub25lcnJvciA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhpcy54aHIub250aW1lb3V0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0aGlzLnhoci5vbnByb2dyZXNzID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0aGlzLnhoci5vbmxvYWQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmluYWxpemVzIHRoZSBsb2FkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfZmluaXNoKCkge1xuICAgICAgICBpZiAodGhpcy5pc0NvbXBsZXRlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvbXBsZXRlIGNhbGxlZCBhZ2FpbiBmb3IgYW4gYWxyZWFkeSBjb21wbGV0ZWQgcmVzb3VyY2UuJyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9zZXRGbGFnKFJlc291cmNlLlNUQVRVU19GTEFHUy5DT01QTEVURSwgdHJ1ZSk7XG4gICAgICAgIHRoaXMuX3NldEZsYWcoUmVzb3VyY2UuU1RBVFVTX0ZMQUdTLkxPQURJTkcsIGZhbHNlKTtcblxuICAgICAgICB0aGlzLm9uQ29tcGxldGUuZGlzcGF0Y2godGhpcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTG9hZHMgdGhpcyByZXNvdXJjZXMgdXNpbmcgYW4gZWxlbWVudCB0aGF0IGhhcyBhIHNpbmdsZSBzb3VyY2UsXG4gICAgICogbGlrZSBhbiBIVE1MSW1hZ2VFbGVtZW50LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAtIFRoZSB0eXBlIG9mIGVsZW1lbnQgdG8gdXNlLlxuICAgICAqL1xuICAgIF9sb2FkRWxlbWVudCh0eXBlKSB7XG4gICAgICAgIGlmICh0aGlzLm1ldGFkYXRhLmxvYWRFbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEgPSB0aGlzLm1ldGFkYXRhLmxvYWRFbGVtZW50O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGUgPT09ICdpbWFnZScgJiYgdHlwZW9mIHdpbmRvdy5JbWFnZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YSA9IG5ldyBJbWFnZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5kYXRhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0eXBlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmNyb3NzT3JpZ2luKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEuY3Jvc3NPcmlnaW4gPSB0aGlzLmNyb3NzT3JpZ2luO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLm1ldGFkYXRhLnNraXBTb3VyY2UpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YS5zcmMgPSB0aGlzLnVybDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZGF0YS5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIHRoaXMuX2JvdW5kT25FcnJvciwgZmFsc2UpO1xuICAgICAgICB0aGlzLmRhdGEuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIHRoaXMuX2JvdW5kQ29tcGxldGUsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5kYXRhLmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgdGhpcy5fYm91bmRPblByb2dyZXNzLCBmYWxzZSk7XG5cbiAgICAgICAgaWYgKHRoaXMudGltZW91dCkge1xuICAgICAgICAgICAgdGhpcy5fZWxlbWVudFRpbWVyID0gc2V0VGltZW91dCh0aGlzLl9ib3VuZE9uVGltZW91dCwgdGhpcy50aW1lb3V0KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExvYWRzIHRoaXMgcmVzb3VyY2VzIHVzaW5nIGFuIGVsZW1lbnQgdGhhdCBoYXMgbXVsdGlwbGUgc291cmNlcyxcbiAgICAgKiBsaWtlIGFuIEhUTUxBdWRpb0VsZW1lbnQgb3IgSFRNTFZpZGVvRWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSBUaGUgdHlwZSBvZiBlbGVtZW50IHRvIHVzZS5cbiAgICAgKi9cbiAgICBfbG9hZFNvdXJjZUVsZW1lbnQodHlwZSkge1xuICAgICAgICBpZiAodGhpcy5tZXRhZGF0YS5sb2FkRWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5kYXRhID0gdGhpcy5tZXRhZGF0YS5sb2FkRWxlbWVudDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlID09PSAnYXVkaW8nICYmIHR5cGVvZiB3aW5kb3cuQXVkaW8gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEgPSBuZXcgQXVkaW8oKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodHlwZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5kYXRhID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmFib3J0KGBVbnN1cHBvcnRlZCBlbGVtZW50OiAke3R5cGV9YCk7XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmNyb3NzT3JpZ2luKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEuY3Jvc3NPcmlnaW4gPSB0aGlzLmNyb3NzT3JpZ2luO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLm1ldGFkYXRhLnNraXBTb3VyY2UpIHtcbiAgICAgICAgICAgIC8vIHN1cHBvcnQgZm9yIENvY29vbkpTIENhbnZhcysgcnVudGltZSwgbGFja3MgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc291cmNlJylcbiAgICAgICAgICAgIGlmIChuYXZpZ2F0b3IuaXNDb2Nvb25KUykge1xuICAgICAgICAgICAgICAgIHRoaXMuZGF0YS5zcmMgPSBBcnJheS5pc0FycmF5KHRoaXMudXJsKSA/IHRoaXMudXJsWzBdIDogdGhpcy51cmw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KHRoaXMudXJsKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1pbWVUeXBlcyA9IHRoaXMubWV0YWRhdGEubWltZVR5cGU7XG5cbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMudXJsLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YS5hcHBlbmRDaGlsZChcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2NyZWF0ZVNvdXJjZSh0eXBlLCB0aGlzLnVybFtpXSwgQXJyYXkuaXNBcnJheShtaW1lVHlwZXMpID8gbWltZVR5cGVzW2ldIDogbWltZVR5cGVzKVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1pbWVUeXBlcyA9IHRoaXMubWV0YWRhdGEubWltZVR5cGU7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmRhdGEuYXBwZW5kQ2hpbGQoXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NyZWF0ZVNvdXJjZSh0eXBlLCB0aGlzLnVybCwgQXJyYXkuaXNBcnJheShtaW1lVHlwZXMpID8gbWltZVR5cGVzWzBdIDogbWltZVR5cGVzKVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmRhdGEuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCB0aGlzLl9ib3VuZE9uRXJyb3IsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5kYXRhLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCB0aGlzLl9ib3VuZENvbXBsZXRlLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuZGF0YS5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIHRoaXMuX2JvdW5kT25Qcm9ncmVzcywgZmFsc2UpO1xuICAgICAgICB0aGlzLmRhdGEuYWRkRXZlbnRMaXN0ZW5lcignY2FucGxheXRocm91Z2gnLCB0aGlzLl9ib3VuZENvbXBsZXRlLCBmYWxzZSk7XG5cbiAgICAgICAgdGhpcy5kYXRhLmxvYWQoKTtcblxuICAgICAgICBpZiAodGhpcy50aW1lb3V0KSB7XG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50VGltZXIgPSBzZXRUaW1lb3V0KHRoaXMuX2JvdW5kT25UaW1lb3V0LCB0aGlzLnRpbWVvdXQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTG9hZHMgdGhpcyByZXNvdXJjZXMgdXNpbmcgYW4gWE1MSHR0cFJlcXVlc3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9sb2FkWGhyKCkge1xuICAgICAgICAvLyBpZiB1bnNldCwgZGV0ZXJtaW5lIHRoZSB2YWx1ZVxuICAgICAgICBpZiAodHlwZW9mIHRoaXMueGhyVHlwZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHRoaXMueGhyVHlwZSA9IHRoaXMuX2RldGVybWluZVhoclR5cGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHhociA9IHRoaXMueGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cbiAgICAgICAgLy8gc2V0IHRoZSByZXF1ZXN0IHR5cGUgYW5kIHVybFxuICAgICAgICB4aHIub3BlbignR0VUJywgdGhpcy51cmwsIHRydWUpO1xuXG4gICAgICAgIHhoci50aW1lb3V0ID0gdGhpcy50aW1lb3V0O1xuXG4gICAgICAgIC8vIGxvYWQganNvbiBhcyB0ZXh0IGFuZCBwYXJzZSBpdCBvdXJzZWx2ZXMuIFdlIGRvIHRoaXMgYmVjYXVzZSBzb21lIGJyb3dzZXJzXG4gICAgICAgIC8vICpjb3VnaCogc2FmYXJpICpjb3VnaCogY2FuJ3QgZGVhbCB3aXRoIGl0LlxuICAgICAgICBpZiAodGhpcy54aHJUeXBlID09PSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5KU09OIHx8IHRoaXMueGhyVHlwZSA9PT0gUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQpIHtcbiAgICAgICAgICAgIHhoci5yZXNwb25zZVR5cGUgPSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5URVhUO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9IHRoaXMueGhyVHlwZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIHRoaXMuX2JvdW5kWGhyT25FcnJvciwgZmFsc2UpO1xuICAgICAgICB4aHIuYWRkRXZlbnRMaXN0ZW5lcigndGltZW91dCcsIHRoaXMuX2JvdW5kWGhyT25UaW1lb3V0LCBmYWxzZSk7XG4gICAgICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsIHRoaXMuX2JvdW5kWGhyT25BYm9ydCwgZmFsc2UpO1xuICAgICAgICB4aHIuYWRkRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCB0aGlzLl9ib3VuZE9uUHJvZ3Jlc3MsIGZhbHNlKTtcbiAgICAgICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCB0aGlzLl9ib3VuZFhock9uTG9hZCwgZmFsc2UpO1xuXG4gICAgICAgIHhoci5zZW5kKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTG9hZHMgdGhpcyByZXNvdXJjZXMgdXNpbmcgYW4gWERvbWFpblJlcXVlc3QuIFRoaXMgaXMgaGVyZSBiZWNhdXNlIHdlIG5lZWQgdG8gc3VwcG9ydCBJRTkgKGdyb3NzKS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2xvYWRYZHIoKSB7XG4gICAgICAgIC8vIGlmIHVuc2V0LCBkZXRlcm1pbmUgdGhlIHZhbHVlXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy54aHJUeXBlICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdGhpcy54aHJUeXBlID0gdGhpcy5fZGV0ZXJtaW5lWGhyVHlwZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgeGRyID0gdGhpcy54aHIgPSBuZXcgWERvbWFpblJlcXVlc3QoKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZlxuXG4gICAgICAgIC8vIFhEb21haW5SZXF1ZXN0IGhhcyBhIGZldyBxdWlya3MuIE9jY2FzaW9uYWxseSBpdCB3aWxsIGFib3J0IHJlcXVlc3RzXG4gICAgICAgIC8vIEEgd2F5IHRvIGF2b2lkIHRoaXMgaXMgdG8gbWFrZSBzdXJlIEFMTCBjYWxsYmFja3MgYXJlIHNldCBldmVuIGlmIG5vdCB1c2VkXG4gICAgICAgIC8vIE1vcmUgaW5mbyBoZXJlOiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzE1Nzg2OTY2L3hkb21haW5yZXF1ZXN0LWFib3J0cy1wb3N0LW9uLWllLTlcbiAgICAgICAgeGRyLnRpbWVvdXQgPSB0aGlzLnRpbWVvdXQgfHwgNTAwMDsgLy8gWERSIG5lZWRzIGEgdGltZW91dCB2YWx1ZSBvciBpdCBicmVha3MgaW4gSUU5XG5cbiAgICAgICAgeGRyLm9uZXJyb3IgPSB0aGlzLl9ib3VuZFhock9uRXJyb3I7XG4gICAgICAgIHhkci5vbnRpbWVvdXQgPSB0aGlzLl9ib3VuZFhock9uVGltZW91dDtcbiAgICAgICAgeGRyLm9ucHJvZ3Jlc3MgPSB0aGlzLl9ib3VuZE9uUHJvZ3Jlc3M7XG4gICAgICAgIHhkci5vbmxvYWQgPSB0aGlzLl9ib3VuZFhock9uTG9hZDtcblxuICAgICAgICB4ZHIub3BlbignR0VUJywgdGhpcy51cmwsIHRydWUpO1xuXG4gICAgICAgIC8vIE5vdGU6IFRoZSB4ZHIuc2VuZCgpIGNhbGwgaXMgd3JhcHBlZCBpbiBhIHRpbWVvdXQgdG8gcHJldmVudCBhblxuICAgICAgICAvLyBpc3N1ZSB3aXRoIHRoZSBpbnRlcmZhY2Ugd2hlcmUgc29tZSByZXF1ZXN0cyBhcmUgbG9zdCBpZiBtdWx0aXBsZVxuICAgICAgICAvLyBYRG9tYWluUmVxdWVzdHMgYXJlIGJlaW5nIHNlbnQgYXQgdGhlIHNhbWUgdGltZS5cbiAgICAgICAgLy8gU29tZSBpbmZvIGhlcmU6IGh0dHBzOi8vZ2l0aHViLmNvbS9waG90b25zdG9ybS9waGFzZXIvaXNzdWVzLzEyNDhcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB4ZHIuc2VuZCgpLCAxKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc291cmNlIHVzZWQgaW4gbG9hZGluZyB2aWEgYW4gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSBUaGUgZWxlbWVudCB0eXBlICh2aWRlbyBvciBhdWRpbykuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFRoZSBzb3VyY2UgVVJMIHRvIGxvYWQgZnJvbS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW21pbWVdIC0gVGhlIG1pbWUgdHlwZSBvZiB0aGUgdmlkZW9cbiAgICAgKiBAcmV0dXJuIHtIVE1MU291cmNlRWxlbWVudH0gVGhlIHNvdXJjZSBlbGVtZW50LlxuICAgICAqL1xuICAgIF9jcmVhdGVTb3VyY2UodHlwZSwgdXJsLCBtaW1lKSB7XG4gICAgICAgIGlmICghbWltZSkge1xuICAgICAgICAgICAgbWltZSA9IGAke3R5cGV9LyR7dGhpcy5fZ2V0RXh0ZW5zaW9uKHVybCl9YDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHNvdXJjZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NvdXJjZScpO1xuXG4gICAgICAgIHNvdXJjZS5zcmMgPSB1cmw7XG4gICAgICAgIHNvdXJjZS50eXBlID0gbWltZTtcblxuICAgICAgICByZXR1cm4gc291cmNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGxlZCBpZiBhIGxvYWQgZXJyb3JzIG91dC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50IC0gVGhlIGVycm9yIGV2ZW50IGZyb20gdGhlIGVsZW1lbnQgdGhhdCBlbWl0cyBpdC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9vbkVycm9yKGV2ZW50KSB7XG4gICAgICAgIHRoaXMuYWJvcnQoYEZhaWxlZCB0byBsb2FkIGVsZW1lbnQgdXNpbmc6ICR7ZXZlbnQudGFyZ2V0Lm5vZGVOYW1lfWApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGxlZCBpZiBhIGxvYWQgcHJvZ3Jlc3MgZXZlbnQgZmlyZXMgZm9yIGFuIGVsZW1lbnQgb3IgeGhyL3hkci5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtYTUxIdHRwUmVxdWVzdFByb2dyZXNzRXZlbnR8RXZlbnR9IGV2ZW50IC0gUHJvZ3Jlc3MgZXZlbnQuXG4gICAgICovXG4gICAgX29uUHJvZ3Jlc3MoZXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50ICYmIGV2ZW50Lmxlbmd0aENvbXB1dGFibGUpIHtcbiAgICAgICAgICAgIHRoaXMub25Qcm9ncmVzcy5kaXNwYXRjaCh0aGlzLCBldmVudC5sb2FkZWQgLyBldmVudC50b3RhbCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgaWYgYSB0aW1lb3V0IGV2ZW50IGZpcmVzIGZvciBhbiBlbGVtZW50LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfb25UaW1lb3V0KCkge1xuICAgICAgICB0aGlzLmFib3J0KGBMb2FkIHRpbWVkIG91dC5gKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgaWYgYW4gZXJyb3IgZXZlbnQgZmlyZXMgZm9yIHhoci94ZHIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF94aHJPbkVycm9yKCkge1xuICAgICAgICBjb25zdCB4aHIgPSB0aGlzLnhocjtcblxuICAgICAgICB0aGlzLmFib3J0KGAke3JlcVR5cGUoeGhyKX0gUmVxdWVzdCBmYWlsZWQuIFN0YXR1czogJHt4aHIuc3RhdHVzfSwgdGV4dDogXCIke3hoci5zdGF0dXNUZXh0fVwiYCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIGlmIGFuIGVycm9yIGV2ZW50IGZpcmVzIGZvciB4aHIveGRyLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfeGhyT25UaW1lb3V0KCkge1xuICAgICAgICBjb25zdCB4aHIgPSB0aGlzLnhocjtcblxuICAgICAgICB0aGlzLmFib3J0KGAke3JlcVR5cGUoeGhyKX0gUmVxdWVzdCB0aW1lZCBvdXQuYCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIGlmIGFuIGFib3J0IGV2ZW50IGZpcmVzIGZvciB4aHIveGRyLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfeGhyT25BYm9ydCgpIHtcbiAgICAgICAgY29uc3QgeGhyID0gdGhpcy54aHI7XG5cbiAgICAgICAgdGhpcy5hYm9ydChgJHtyZXFUeXBlKHhocil9IFJlcXVlc3Qgd2FzIGFib3J0ZWQgYnkgdGhlIHVzZXIuYCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gZGF0YSBzdWNjZXNzZnVsbHkgbG9hZHMgZnJvbSBhbiB4aHIveGRyIHJlcXVlc3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7WE1MSHR0cFJlcXVlc3RMb2FkRXZlbnR8RXZlbnR9IGV2ZW50IC0gTG9hZCBldmVudFxuICAgICAqL1xuICAgIF94aHJPbkxvYWQoKSB7XG4gICAgICAgIGNvbnN0IHhociA9IHRoaXMueGhyO1xuICAgICAgICBsZXQgdGV4dCA9ICcnO1xuICAgICAgICBsZXQgc3RhdHVzID0gdHlwZW9mIHhoci5zdGF0dXMgPT09ICd1bmRlZmluZWQnID8gU1RBVFVTX09LIDogeGhyLnN0YXR1czsgLy8gWERSIGhhcyBubyBgLnN0YXR1c2AsIGFzc3VtZSAyMDAuXG5cbiAgICAgICAgLy8gcmVzcG9uc2VUZXh0IGlzIGFjY2Vzc2libGUgb25seSBpZiByZXNwb25zZVR5cGUgaXMgJycgb3IgJ3RleHQnIGFuZCBvbiBvbGRlciBicm93c2Vyc1xuICAgICAgICBpZiAoeGhyLnJlc3BvbnNlVHlwZSA9PT0gJycgfHwgeGhyLnJlc3BvbnNlVHlwZSA9PT0gJ3RleHQnIHx8IHR5cGVvZiB4aHIucmVzcG9uc2VUeXBlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdGV4dCA9IHhoci5yZXNwb25zZVRleHQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzdGF0dXMgY2FuIGJlIDAgd2hlbiB1c2luZyB0aGUgYGZpbGU6Ly9gIHByb3RvY29sIHNvIHdlIGFsc28gY2hlY2sgaWYgYSByZXNwb25zZSBpcyBzZXQuXG4gICAgICAgIC8vIElmIGl0IGhhcyBhIHJlc3BvbnNlLCB3ZSBhc3N1bWUgMjAwOyBvdGhlcndpc2UgYSAwIHN0YXR1cyBjb2RlIHdpdGggbm8gY29udGVudHMgaXMgYW4gYWJvcnRlZCByZXF1ZXN0LlxuICAgICAgICBpZiAoc3RhdHVzID09PSBTVEFUVVNfTk9ORSAmJiAodGV4dC5sZW5ndGggPiAwIHx8IHhoci5yZXNwb25zZVR5cGUgPT09IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJVRkZFUikpIHtcbiAgICAgICAgICAgIHN0YXR1cyA9IFNUQVRVU19PSztcbiAgICAgICAgfVxuICAgICAgICAvLyBoYW5kbGUgSUU5IGJ1ZzogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xMDA0Njk3Mi9tc2llLXJldHVybnMtc3RhdHVzLWNvZGUtb2YtMTIyMy1mb3ItYWpheC1yZXF1ZXN0XG4gICAgICAgIGVsc2UgaWYgKHN0YXR1cyA9PT0gU1RBVFVTX0lFX0JVR19FTVBUWSkge1xuICAgICAgICAgICAgc3RhdHVzID0gU1RBVFVTX0VNUFRZO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc3RhdHVzVHlwZSA9IChzdGF0dXMgLyAxMDApIHwgMDtcblxuICAgICAgICBpZiAoc3RhdHVzVHlwZSA9PT0gU1RBVFVTX1RZUEVfT0spIHtcbiAgICAgICAgICAgIC8vIGlmIHRleHQsIGp1c3QgcmV0dXJuIGl0XG4gICAgICAgICAgICBpZiAodGhpcy54aHJUeXBlID09PSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5URVhUKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhID0gdGV4dDtcbiAgICAgICAgICAgICAgICB0aGlzLnR5cGUgPSBSZXNvdXJjZS5UWVBFLlRFWFQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBpZiBqc29uLCBwYXJzZSBpbnRvIGpzb24gb2JqZWN0XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLnhoclR5cGUgPT09IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkpTT04pIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGEgPSBKU09OLnBhcnNlKHRleHQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnR5cGUgPSBSZXNvdXJjZS5UWVBFLkpTT047XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWJvcnQoYEVycm9yIHRyeWluZyB0byBwYXJzZSBsb2FkZWQganNvbjogJHtlfWApO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBpZiB4bWwsIHBhcnNlIGludG8gYW4geG1sIGRvY3VtZW50IG9yIGRpdiBlbGVtZW50XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLnhoclR5cGUgPT09IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRPQ1VNRU5UKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5ET01QYXJzZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRvbXBhcnNlciA9IG5ldyBET01QYXJzZXIoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhID0gZG9tcGFyc2VyLnBhcnNlRnJvbVN0cmluZyh0ZXh0LCAndGV4dC94bWwnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXYuaW5uZXJIVE1MID0gdGV4dDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhID0gZGl2O1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy50eXBlID0gUmVzb3VyY2UuVFlQRS5YTUw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWJvcnQoYEVycm9yIHRyeWluZyB0byBwYXJzZSBsb2FkZWQgeG1sOiAke2V9YCk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIG90aGVyIHR5cGVzIGp1c3QgcmV0dXJuIHRoZSByZXNwb25zZVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhID0geGhyLnJlc3BvbnNlIHx8IHRleHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmFib3J0KGBbJHt4aHIuc3RhdHVzfV0gJHt4aHIuc3RhdHVzVGV4dH06ICR7eGhyLnJlc3BvbnNlVVJMfWApO1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNvbXBsZXRlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgYGNyb3NzT3JpZ2luYCBwcm9wZXJ0eSBmb3IgdGhpcyByZXNvdXJjZSBiYXNlZCBvbiBpZiB0aGUgdXJsXG4gICAgICogZm9yIHRoaXMgcmVzb3VyY2UgaXMgY3Jvc3Mtb3JpZ2luLiBJZiBjcm9zc09yaWdpbiB3YXMgbWFudWFsbHkgc2V0LCB0aGlzXG4gICAgICogZnVuY3Rpb24gZG9lcyBub3RoaW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gVGhlIHVybCB0byB0ZXN0LlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbbG9jPXdpbmRvdy5sb2NhdGlvbl0gLSBUaGUgbG9jYXRpb24gb2JqZWN0IHRvIHRlc3QgYWdhaW5zdC5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBjcm9zc09yaWdpbiB2YWx1ZSB0byB1c2UgKG9yIGVtcHR5IHN0cmluZyBmb3Igbm9uZSkuXG4gICAgICovXG4gICAgX2RldGVybWluZUNyb3NzT3JpZ2luKHVybCwgbG9jKSB7XG4gICAgICAgIC8vIGRhdGE6IGFuZCBqYXZhc2NyaXB0OiB1cmxzIGFyZSBjb25zaWRlcmVkIHNhbWUtb3JpZ2luXG4gICAgICAgIGlmICh1cmwuaW5kZXhPZignZGF0YTonKSA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQSBzYW5kYm94ZWQgaWZyYW1lIHdpdGhvdXQgdGhlICdhbGxvdy1zYW1lLW9yaWdpbicgYXR0cmlidXRlIHdpbGwgaGF2ZSBhIHNwZWNpYWxcbiAgICAgICAgLy8gb3JpZ2luIGRlc2lnbmVkIG5vdCB0byBtYXRjaCB3aW5kb3cubG9jYXRpb24ub3JpZ2luLCBhbmQgd2lsbCBhbHdheXMgcmVxdWlyZVxuICAgICAgICAvLyBjcm9zc09yaWdpbiByZXF1ZXN0cyByZWdhcmRsZXNzIG9mIHdoZXRoZXIgdGhlIGxvY2F0aW9uIG1hdGNoZXMuXG4gICAgICAgIGlmICh3aW5kb3cub3JpZ2luICE9PSB3aW5kb3cubG9jYXRpb24ub3JpZ2luKSB7XG4gICAgICAgICAgICByZXR1cm4gJ2Fub255bW91cyc7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBkZWZhdWx0IGlzIHdpbmRvdy5sb2NhdGlvblxuICAgICAgICBsb2MgPSBsb2MgfHwgd2luZG93LmxvY2F0aW9uO1xuXG4gICAgICAgIGlmICghdGVtcEFuY2hvcikge1xuICAgICAgICAgICAgdGVtcEFuY2hvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGxldCB0aGUgYnJvd3NlciBkZXRlcm1pbmUgdGhlIGZ1bGwgaHJlZiBmb3IgdGhlIHVybCBvZiB0aGlzIHJlc291cmNlIGFuZCB0aGVuXG4gICAgICAgIC8vIHBhcnNlIHdpdGggdGhlIG5vZGUgdXJsIGxpYiwgd2UgY2FuJ3QgdXNlIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBhbmNob3IgZWxlbWVudFxuICAgICAgICAvLyBiZWNhdXNlIHRoZXkgZG9uJ3Qgd29yayBpbiBJRTkgOihcbiAgICAgICAgdGVtcEFuY2hvci5ocmVmID0gdXJsO1xuICAgICAgICB1cmwgPSBwYXJzZVVyaSh0ZW1wQW5jaG9yLmhyZWYsIHsgc3RyaWN0TW9kZTogdHJ1ZSB9KTtcblxuICAgICAgICBjb25zdCBzYW1lUG9ydCA9ICghdXJsLnBvcnQgJiYgbG9jLnBvcnQgPT09ICcnKSB8fCAodXJsLnBvcnQgPT09IGxvYy5wb3J0KTtcbiAgICAgICAgY29uc3QgcHJvdG9jb2wgPSB1cmwucHJvdG9jb2wgPyBgJHt1cmwucHJvdG9jb2x9OmAgOiAnJztcblxuICAgICAgICAvLyBpZiBjcm9zcyBvcmlnaW5cbiAgICAgICAgaWYgKHVybC5ob3N0ICE9PSBsb2MuaG9zdG5hbWUgfHwgIXNhbWVQb3J0IHx8IHByb3RvY29sICE9PSBsb2MucHJvdG9jb2wpIHtcbiAgICAgICAgICAgIHJldHVybiAnYW5vbnltb3VzJztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAnJztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIHRoZSByZXNwb25zZVR5cGUgb2YgYW4gWEhSIHJlcXVlc3QgYmFzZWQgb24gdGhlIGV4dGVuc2lvbiBvZiB0aGVcbiAgICAgKiByZXNvdXJjZSBiZWluZyBsb2FkZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge1Jlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFfSBUaGUgcmVzcG9uc2VUeXBlIHRvIHVzZS5cbiAgICAgKi9cbiAgICBfZGV0ZXJtaW5lWGhyVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIFJlc291cmNlLl94aHJUeXBlTWFwW3RoaXMuZXh0ZW5zaW9uXSB8fCBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5URVhUO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgdGhlIGxvYWRUeXBlIG9mIGEgcmVzb3VyY2UgYmFzZWQgb24gdGhlIGV4dGVuc2lvbiBvZiB0aGVcbiAgICAgKiByZXNvdXJjZSBiZWluZyBsb2FkZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge1Jlc291cmNlLkxPQURfVFlQRX0gVGhlIGxvYWRUeXBlIHRvIHVzZS5cbiAgICAgKi9cbiAgICBfZGV0ZXJtaW5lTG9hZFR5cGUoKSB7XG4gICAgICAgIHJldHVybiBSZXNvdXJjZS5fbG9hZFR5cGVNYXBbdGhpcy5leHRlbnNpb25dIHx8IFJlc291cmNlLkxPQURfVFlQRS5YSFI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXh0cmFjdHMgdGhlIGV4dGVuc2lvbiAoc2FucyAnLicpIG9mIHRoZSBmaWxlIGJlaW5nIGxvYWRlZCBieSB0aGUgcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIGV4dGVuc2lvbi5cbiAgICAgKi9cbiAgICBfZ2V0RXh0ZW5zaW9uKCkge1xuICAgICAgICBsZXQgdXJsID0gdGhpcy51cmw7XG4gICAgICAgIGxldCBleHQgPSAnJztcblxuICAgICAgICBpZiAodGhpcy5pc0RhdGFVcmwpIHtcbiAgICAgICAgICAgIGNvbnN0IHNsYXNoSW5kZXggPSB1cmwuaW5kZXhPZignLycpO1xuXG4gICAgICAgICAgICBleHQgPSB1cmwuc3Vic3RyaW5nKHNsYXNoSW5kZXggKyAxLCB1cmwuaW5kZXhPZignOycsIHNsYXNoSW5kZXgpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5U3RhcnQgPSB1cmwuaW5kZXhPZignPycpO1xuICAgICAgICAgICAgY29uc3QgaGFzaFN0YXJ0ID0gdXJsLmluZGV4T2YoJyMnKTtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gTWF0aC5taW4oXG4gICAgICAgICAgICAgICAgcXVlcnlTdGFydCA+IC0xID8gcXVlcnlTdGFydCA6IHVybC5sZW5ndGgsXG4gICAgICAgICAgICAgICAgaGFzaFN0YXJ0ID4gLTEgPyBoYXNoU3RhcnQgOiB1cmwubGVuZ3RoXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICB1cmwgPSB1cmwuc3Vic3RyaW5nKDAsIGluZGV4KTtcbiAgICAgICAgICAgIGV4dCA9IHVybC5zdWJzdHJpbmcodXJsLmxhc3RJbmRleE9mKCcuJykgKyAxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBleHQudG9Mb3dlckNhc2UoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIHRoZSBtaW1lIHR5cGUgb2YgYW4gWEhSIHJlcXVlc3QgYmFzZWQgb24gdGhlIHJlc3BvbnNlVHlwZSBvZlxuICAgICAqIHJlc291cmNlIGJlaW5nIGxvYWRlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRX0gdHlwZSAtIFRoZSB0eXBlIHRvIGdldCBhIG1pbWUgdHlwZSBmb3IuXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBUaGUgbWltZSB0eXBlIHRvIHVzZS5cbiAgICAgKi9cbiAgICBfZ2V0TWltZUZyb21YaHJUeXBlKHR5cGUpIHtcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICBjYXNlIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJVRkZFUjpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2FwcGxpY2F0aW9uL29jdGV0LWJpbmFyeSc7XG5cbiAgICAgICAgICAgIGNhc2UgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQjpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2FwcGxpY2F0aW9uL2Jsb2InO1xuXG4gICAgICAgICAgICBjYXNlIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRPQ1VNRU5UOlxuICAgICAgICAgICAgICAgIHJldHVybiAnYXBwbGljYXRpb24veG1sJztcblxuICAgICAgICAgICAgY2FzZSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5KU09OOlxuICAgICAgICAgICAgICAgIHJldHVybiAnYXBwbGljYXRpb24vanNvbic7XG5cbiAgICAgICAgICAgIGNhc2UgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuREVGQVVMVDpcbiAgICAgICAgICAgIGNhc2UgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuVEVYVDpcbiAgICAgICAgICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiAndGV4dC9wbGFpbic7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICogVGhlIHR5cGVzIG9mIHJlc291cmNlcyBhIHJlc291cmNlIGNvdWxkIHJlcHJlc2VudC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAcmVhZG9ubHlcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKi9cblJlc291cmNlLlNUQVRVU19GTEFHUyA9IHtcbiAgICBOT05FOiAgICAgICAwLFxuICAgIERBVEFfVVJMOiAgICgxIDw8IDApLFxuICAgIENPTVBMRVRFOiAgICgxIDw8IDEpLFxuICAgIExPQURJTkc6ICAgICgxIDw8IDIpLFxufTtcblxuLyoqXG4gKiBUaGUgdHlwZXMgb2YgcmVzb3VyY2VzIGEgcmVzb3VyY2UgY291bGQgcmVwcmVzZW50LlxuICpcbiAqIEBzdGF0aWNcbiAqIEByZWFkb25seVxuICogQGVudW0ge251bWJlcn1cbiAqL1xuUmVzb3VyY2UuVFlQRSA9IHtcbiAgICBVTktOT1dOOiAgICAwLFxuICAgIEpTT046ICAgICAgIDEsXG4gICAgWE1MOiAgICAgICAgMixcbiAgICBJTUFHRTogICAgICAzLFxuICAgIEFVRElPOiAgICAgIDQsXG4gICAgVklERU86ICAgICAgNSxcbiAgICBURVhUOiAgICAgICA2LFxufTtcblxuLyoqXG4gKiBUaGUgdHlwZXMgb2YgbG9hZGluZyBhIHJlc291cmNlIGNhbiB1c2UuXG4gKlxuICogQHN0YXRpY1xuICogQHJlYWRvbmx5XG4gKiBAZW51bSB7bnVtYmVyfVxuICovXG5SZXNvdXJjZS5MT0FEX1RZUEUgPSB7XG4gICAgLyoqIFVzZXMgWE1MSHR0cFJlcXVlc3QgdG8gbG9hZCB0aGUgcmVzb3VyY2UuICovXG4gICAgWEhSOiAgICAxLFxuICAgIC8qKiBVc2VzIGFuIGBJbWFnZWAgb2JqZWN0IHRvIGxvYWQgdGhlIHJlc291cmNlLiAqL1xuICAgIElNQUdFOiAgMixcbiAgICAvKiogVXNlcyBhbiBgQXVkaW9gIG9iamVjdCB0byBsb2FkIHRoZSByZXNvdXJjZS4gKi9cbiAgICBBVURJTzogIDMsXG4gICAgLyoqIFVzZXMgYSBgVmlkZW9gIG9iamVjdCB0byBsb2FkIHRoZSByZXNvdXJjZS4gKi9cbiAgICBWSURFTzogIDQsXG59O1xuXG4vKipcbiAqIFRoZSBYSFIgcmVhZHkgc3RhdGVzLCB1c2VkIGludGVybmFsbHkuXG4gKlxuICogQHN0YXRpY1xuICogQHJlYWRvbmx5XG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5SZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRSA9IHtcbiAgICAvKiogc3RyaW5nICovXG4gICAgREVGQVVMVDogICAgJ3RleHQnLFxuICAgIC8qKiBBcnJheUJ1ZmZlciAqL1xuICAgIEJVRkZFUjogICAgICdhcnJheWJ1ZmZlcicsXG4gICAgLyoqIEJsb2IgKi9cbiAgICBCTE9COiAgICAgICAnYmxvYicsXG4gICAgLyoqIERvY3VtZW50ICovXG4gICAgRE9DVU1FTlQ6ICAgJ2RvY3VtZW50JyxcbiAgICAvKiogT2JqZWN0ICovXG4gICAgSlNPTjogICAgICAgJ2pzb24nLFxuICAgIC8qKiBTdHJpbmcgKi9cbiAgICBURVhUOiAgICAgICAndGV4dCcsXG59O1xuXG5SZXNvdXJjZS5fbG9hZFR5cGVNYXAgPSB7XG4gICAgLy8gaW1hZ2VzXG4gICAgZ2lmOiAgICAgICAgUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICAgIHBuZzogICAgICAgIFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgICBibXA6ICAgICAgICBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gICAganBnOiAgICAgICAgUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICAgIGpwZWc6ICAgICAgIFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgICB0aWY6ICAgICAgICBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gICAgdGlmZjogICAgICAgUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICAgIHdlYnA6ICAgICAgIFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgICB0Z2E6ICAgICAgICBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gICAgc3ZnOiAgICAgICAgUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICAgICdzdmcreG1sJzogIFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSwgLy8gZm9yIFNWRyBkYXRhIHVybHNcblxuICAgIC8vIGF1ZGlvXG4gICAgbXAzOiAgICAgICAgUmVzb3VyY2UuTE9BRF9UWVBFLkFVRElPLFxuICAgIG9nZzogICAgICAgIFJlc291cmNlLkxPQURfVFlQRS5BVURJTyxcbiAgICB3YXY6ICAgICAgICBSZXNvdXJjZS5MT0FEX1RZUEUuQVVESU8sXG5cbiAgICAvLyB2aWRlb3NcbiAgICBtcDQ6ICAgICAgICBSZXNvdXJjZS5MT0FEX1RZUEUuVklERU8sXG4gICAgd2VibTogICAgICAgUmVzb3VyY2UuTE9BRF9UWVBFLlZJREVPLFxufTtcblxuUmVzb3VyY2UuX3hoclR5cGVNYXAgPSB7XG4gICAgLy8geG1sXG4gICAgeGh0bWw6ICAgICAgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQsXG4gICAgaHRtbDogICAgICAgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQsXG4gICAgaHRtOiAgICAgICAgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQsXG4gICAgeG1sOiAgICAgICAgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQsXG4gICAgdG14OiAgICAgICAgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQsXG4gICAgc3ZnOiAgICAgICAgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQsXG5cbiAgICAvLyBUaGlzIHdhcyBhZGRlZCB0byBoYW5kbGUgVGlsZWQgVGlsZXNldCBYTUwsIGJ1dCAudHN4IGlzIGFsc28gYSBUeXBlU2NyaXB0IFJlYWN0IENvbXBvbmVudC5cbiAgICAvLyBTaW5jZSBpdCBpcyB3YXkgbGVzcyBsaWtlbHkgZm9yIHBlb3BsZSB0byBiZSBsb2FkaW5nIFR5cGVTY3JpcHQgZmlsZXMgaW5zdGVhZCBvZiBUaWxlZCBmaWxlcyxcbiAgICAvLyB0aGlzIHNob3VsZCBwcm9iYWJseSBiZSBmaW5lLlxuICAgIHRzeDogICAgICAgIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRPQ1VNRU5ULFxuXG4gICAgLy8gaW1hZ2VzXG4gICAgZ2lmOiAgICAgICAgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQixcbiAgICBwbmc6ICAgICAgICBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICAgIGJtcDogICAgICAgIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsXG4gICAganBnOiAgICAgICAgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQixcbiAgICBqcGVnOiAgICAgICBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICAgIHRpZjogICAgICAgIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsXG4gICAgdGlmZjogICAgICAgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQixcbiAgICB3ZWJwOiAgICAgICBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICAgIHRnYTogICAgICAgIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsXG5cbiAgICAvLyBqc29uXG4gICAganNvbjogICAgICAgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuSlNPTixcblxuICAgIC8vIHRleHRcbiAgICB0ZXh0OiAgICAgICBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5URVhULFxuICAgIHR4dDogICAgICAgIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLlRFWFQsXG5cbiAgICAvLyBmb250c1xuICAgIHR0ZjogICAgICAgIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJVRkZFUixcbiAgICBvdGY6ICAgICAgICBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CVUZGRVIsXG59O1xuXG4vLyBXZSBjYW4ndCBzZXQgdGhlIGBzcmNgIGF0dHJpYnV0ZSB0byBlbXB0eSBzdHJpbmcsIHNvIG9uIGFib3J0IHdlIHNldCBpdCB0byB0aGlzIDFweCB0cmFuc3BhcmVudCBnaWZcblJlc291cmNlLkVNUFRZX0dJRiA9ICdkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhBUUFCQUlBQUFQLy8vd0FBQUNINUJBRUFBQUFBTEFBQUFBQUJBQUVBQUFJQ1JBRUFPdz09JztcblxuLyoqXG4gKiBRdWljayBoZWxwZXIgdG8gc2V0IGEgdmFsdWUgb24gb25lIG9mIHRoZSBleHRlbnNpb24gbWFwcy4gRW5zdXJlcyB0aGVyZSBpcyBub1xuICogZG90IGF0IHRoZSBzdGFydCBvZiB0aGUgZXh0ZW5zaW9uLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwYXJhbSB7b2JqZWN0fSBtYXAgLSBUaGUgbWFwIHRvIHNldCBvbi5cbiAqIEBwYXJhbSB7c3RyaW5nfSBleHRuYW1lIC0gVGhlIGV4dGVuc2lvbiAob3Iga2V5KSB0byBzZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsIC0gVGhlIHZhbHVlIHRvIHNldC5cbiAqL1xuZnVuY3Rpb24gc2V0RXh0TWFwKG1hcCwgZXh0bmFtZSwgdmFsKSB7XG4gICAgaWYgKGV4dG5hbWUgJiYgZXh0bmFtZS5pbmRleE9mKCcuJykgPT09IDApIHtcbiAgICAgICAgZXh0bmFtZSA9IGV4dG5hbWUuc3Vic3RyaW5nKDEpO1xuICAgIH1cblxuICAgIGlmICghZXh0bmFtZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbWFwW2V4dG5hbWVdID0gdmFsO1xufVxuXG4vKipcbiAqIFF1aWNrIGhlbHBlciB0byBnZXQgc3RyaW5nIHhociB0eXBlLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwYXJhbSB7WE1MSHR0cFJlcXVlc3R8WERvbWFpblJlcXVlc3R9IHhociAtIFRoZSByZXF1ZXN0IHRvIGNoZWNrLlxuICogQHJldHVybiB7c3RyaW5nfSBUaGUgdHlwZS5cbiAqL1xuZnVuY3Rpb24gcmVxVHlwZSh4aHIpIHtcbiAgICByZXR1cm4geGhyLnRvU3RyaW5nKCkucmVwbGFjZSgnb2JqZWN0ICcsICcnKTtcbn1cblxuZXhwb3J0IHsgUmVzb3VyY2UgfTtcbiIsImNvbnN0IF9rZXlTdHIgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz0nO1xuXG4vKipcbiAqIEVuY29kZXMgYmluYXJ5IGludG8gYmFzZTY0LlxuICpcbiAqIEBmdW5jdGlvbiBlbmNvZGVCaW5hcnlcbiAqIEBwYXJhbSB7c3RyaW5nfSBpbnB1dCBUaGUgaW5wdXQgZGF0YSB0byBlbmNvZGUuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgZW5jb2RlZCBiYXNlNjQgc3RyaW5nXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbmNvZGVCaW5hcnkoaW5wdXQpIHtcbiAgICBsZXQgb3V0cHV0ID0gJyc7XG4gICAgbGV0IGlueCA9IDA7XG5cbiAgICB3aGlsZSAoaW54IDwgaW5wdXQubGVuZ3RoKSB7XG4gICAgICAgIC8vIEZpbGwgYnl0ZSBidWZmZXIgYXJyYXlcbiAgICAgICAgY29uc3QgYnl0ZWJ1ZmZlciA9IFswLCAwLCAwXTtcbiAgICAgICAgY29uc3QgZW5jb2RlZENoYXJJbmRleGVzID0gWzAsIDAsIDAsIDBdO1xuXG4gICAgICAgIGZvciAobGV0IGpueCA9IDA7IGpueCA8IGJ5dGVidWZmZXIubGVuZ3RoOyArK2pueCkge1xuICAgICAgICAgICAgaWYgKGlueCA8IGlucHV0Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIC8vIHRocm93IGF3YXkgaGlnaC1vcmRlciBieXRlLCBhcyBkb2N1bWVudGVkIGF0OlxuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL0VuL1VzaW5nX1hNTEh0dHBSZXF1ZXN0I0hhbmRsaW5nX2JpbmFyeV9kYXRhXG4gICAgICAgICAgICAgICAgYnl0ZWJ1ZmZlcltqbnhdID0gaW5wdXQuY2hhckNvZGVBdChpbngrKykgJiAweGZmO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYnl0ZWJ1ZmZlcltqbnhdID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEdldCBlYWNoIGVuY29kZWQgY2hhcmFjdGVyLCA2IGJpdHMgYXQgYSB0aW1lXG4gICAgICAgIC8vIGluZGV4IDE6IGZpcnN0IDYgYml0c1xuICAgICAgICBlbmNvZGVkQ2hhckluZGV4ZXNbMF0gPSBieXRlYnVmZmVyWzBdID4+IDI7XG5cbiAgICAgICAgLy8gaW5kZXggMjogc2Vjb25kIDYgYml0cyAoMiBsZWFzdCBzaWduaWZpY2FudCBiaXRzIGZyb20gaW5wdXQgYnl0ZSAxICsgNCBtb3N0IHNpZ25pZmljYW50IGJpdHMgZnJvbSBieXRlIDIpXG4gICAgICAgIGVuY29kZWRDaGFySW5kZXhlc1sxXSA9ICgoYnl0ZWJ1ZmZlclswXSAmIDB4MykgPDwgNCkgfCAoYnl0ZWJ1ZmZlclsxXSA+PiA0KTtcblxuICAgICAgICAvLyBpbmRleCAzOiB0aGlyZCA2IGJpdHMgKDQgbGVhc3Qgc2lnbmlmaWNhbnQgYml0cyBmcm9tIGlucHV0IGJ5dGUgMiArIDIgbW9zdCBzaWduaWZpY2FudCBiaXRzIGZyb20gYnl0ZSAzKVxuICAgICAgICBlbmNvZGVkQ2hhckluZGV4ZXNbMl0gPSAoKGJ5dGVidWZmZXJbMV0gJiAweDBmKSA8PCAyKSB8IChieXRlYnVmZmVyWzJdID4+IDYpO1xuXG4gICAgICAgIC8vIGluZGV4IDM6IGZvcnRoIDYgYml0cyAoNiBsZWFzdCBzaWduaWZpY2FudCBiaXRzIGZyb20gaW5wdXQgYnl0ZSAzKVxuICAgICAgICBlbmNvZGVkQ2hhckluZGV4ZXNbM10gPSBieXRlYnVmZmVyWzJdICYgMHgzZjtcblxuICAgICAgICAvLyBEZXRlcm1pbmUgd2hldGhlciBwYWRkaW5nIGhhcHBlbmVkLCBhbmQgYWRqdXN0IGFjY29yZGluZ2x5XG4gICAgICAgIGNvbnN0IHBhZGRpbmdCeXRlcyA9IGlueCAtIChpbnB1dC5sZW5ndGggLSAxKTtcblxuICAgICAgICBzd2l0Y2ggKHBhZGRpbmdCeXRlcykge1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIC8vIFNldCBsYXN0IDIgY2hhcmFjdGVycyB0byBwYWRkaW5nIGNoYXJcbiAgICAgICAgICAgICAgICBlbmNvZGVkQ2hhckluZGV4ZXNbM10gPSA2NDtcbiAgICAgICAgICAgICAgICBlbmNvZGVkQ2hhckluZGV4ZXNbMl0gPSA2NDtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIC8vIFNldCBsYXN0IGNoYXJhY3RlciB0byBwYWRkaW5nIGNoYXJcbiAgICAgICAgICAgICAgICBlbmNvZGVkQ2hhckluZGV4ZXNbM10gPSA2NDtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBicmVhazsgLy8gTm8gcGFkZGluZyAtIHByb2NlZWRcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE5vdyB3ZSB3aWxsIGdyYWIgZWFjaCBhcHByb3ByaWF0ZSBjaGFyYWN0ZXIgb3V0IG9mIG91ciBrZXlzdHJpbmdcbiAgICAgICAgLy8gYmFzZWQgb24gb3VyIGluZGV4IGFycmF5IGFuZCBhcHBlbmQgaXQgdG8gdGhlIG91dHB1dCBzdHJpbmdcbiAgICAgICAgZm9yIChsZXQgam54ID0gMDsgam54IDwgZW5jb2RlZENoYXJJbmRleGVzLmxlbmd0aDsgKytqbngpIHtcbiAgICAgICAgICAgIG91dHB1dCArPSBfa2V5U3RyLmNoYXJBdChlbmNvZGVkQ2hhckluZGV4ZXNbam54XSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gb3V0cHV0O1xufVxuIiwiaW1wb3J0IHsgUmVzb3VyY2UgfSBmcm9tICcuLi9SZXNvdXJjZSc7XG5pbXBvcnQgeyBlbmNvZGVCaW5hcnkgfSBmcm9tICcuLi9lbmNvZGVCaW5hcnknO1xuXG5jb25zdCBVcmwgPSB3aW5kb3cuVVJMIHx8IHdpbmRvdy53ZWJraXRVUkw7XG5cbi8qKlxuICogQSBtaWRkbGV3YXJlIGZvciB0cmFuc2Zvcm1pbmcgWEhSIGxvYWRlZCBCbG9icyBpbnRvIG1vcmUgdXNlZnVsIG9iamVjdHNcbiAqXG4gKiBAbWVtYmVyb2YgbWlkZGxld2FyZVxuICogQGZ1bmN0aW9uIHBhcnNpbmdcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgeyBMb2FkZXIsIG1pZGRsZXdhcmUgfSBmcm9tICdyZXNvdXJjZS1sb2FkZXInO1xuICogY29uc3QgbG9hZGVyID0gbmV3IExvYWRlcigpO1xuICogbG9hZGVyLnVzZShtaWRkbGV3YXJlLnBhcnNpbmcpO1xuICogQHBhcmFtIHtSZXNvdXJjZX0gcmVzb3VyY2UgLSBDdXJyZW50IFJlc291cmNlXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBuZXh0IC0gQ2FsbGJhY2sgd2hlbiBjb21wbGV0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gcGFyc2luZyhyZXNvdXJjZSwgbmV4dCkge1xuICAgIGlmICghcmVzb3VyY2UuZGF0YSkge1xuICAgICAgICBuZXh0KCk7XG5cbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGlmIHRoaXMgd2FzIGFuIFhIUiBsb2FkIG9mIGEgYmxvYlxuICAgIGlmIChyZXNvdXJjZS54aHIgJiYgcmVzb3VyY2UueGhyVHlwZSA9PT0gUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQikge1xuICAgICAgICAvLyBpZiB0aGVyZSBpcyBubyBibG9iIHN1cHBvcnQgd2UgcHJvYmFibHkgZ290IGEgYmluYXJ5IHN0cmluZyBiYWNrXG4gICAgICAgIGlmICghd2luZG93LkJsb2IgfHwgdHlwZW9mIHJlc291cmNlLmRhdGEgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBjb25zdCB0eXBlID0gcmVzb3VyY2UueGhyLmdldFJlc3BvbnNlSGVhZGVyKCdjb250ZW50LXR5cGUnKTtcblxuICAgICAgICAgICAgLy8gdGhpcyBpcyBhbiBpbWFnZSwgY29udmVydCB0aGUgYmluYXJ5IHN0cmluZyBpbnRvIGEgZGF0YSB1cmxcbiAgICAgICAgICAgIGlmICh0eXBlICYmIHR5cGUuaW5kZXhPZignaW1hZ2UnKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJlc291cmNlLmRhdGEgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgICAgICAgICByZXNvdXJjZS5kYXRhLnNyYyA9IGBkYXRhOiR7dHlwZX07YmFzZTY0LCR7ZW5jb2RlQmluYXJ5KHJlc291cmNlLnhoci5yZXNwb25zZVRleHQpfWA7XG5cbiAgICAgICAgICAgICAgICByZXNvdXJjZS50eXBlID0gUmVzb3VyY2UuVFlQRS5JTUFHRTtcblxuICAgICAgICAgICAgICAgIC8vIHdhaXQgdW50aWwgdGhlIGltYWdlIGxvYWRzIGFuZCB0aGVuIGNhbGxiYWNrXG4gICAgICAgICAgICAgICAgcmVzb3VyY2UuZGF0YS5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJlc291cmNlLmRhdGEub25sb2FkID0gbnVsbDtcblxuICAgICAgICAgICAgICAgICAgICBuZXh0KCk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8vIG5leHQgd2lsbCBiZSBjYWxsZWQgb24gbG9hZFxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBpZiBjb250ZW50IHR5cGUgc2F5cyB0aGlzIGlzIGFuIGltYWdlLCB0aGVuIHdlIHNob3VsZCB0cmFuc2Zvcm0gdGhlIGJsb2IgaW50byBhbiBJbWFnZSBvYmplY3RcbiAgICAgICAgZWxzZSBpZiAocmVzb3VyY2UuZGF0YS50eXBlLmluZGV4T2YoJ2ltYWdlJykgPT09IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHNyYyA9IFVybC5jcmVhdGVPYmplY3RVUkwocmVzb3VyY2UuZGF0YSk7XG5cbiAgICAgICAgICAgIHJlc291cmNlLmJsb2IgPSByZXNvdXJjZS5kYXRhO1xuICAgICAgICAgICAgcmVzb3VyY2UuZGF0YSA9IG5ldyBJbWFnZSgpO1xuICAgICAgICAgICAgcmVzb3VyY2UuZGF0YS5zcmMgPSBzcmM7XG5cbiAgICAgICAgICAgIHJlc291cmNlLnR5cGUgPSBSZXNvdXJjZS5UWVBFLklNQUdFO1xuXG4gICAgICAgICAgICAvLyBjbGVhbnVwIHRoZSBubyBsb25nZXIgdXNlZCBibG9iIGFmdGVyIHRoZSBpbWFnZSBsb2Fkc1xuICAgICAgICAgICAgLy8gVE9ETzogSXMgdGhpcyBjb3JyZWN0PyBXaWxsIHRoZSBpbWFnZSBiZSBpbnZhbGlkIGFmdGVyIHJldm9raW5nP1xuICAgICAgICAgICAgcmVzb3VyY2UuZGF0YS5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgVXJsLnJldm9rZU9iamVjdFVSTChzcmMpO1xuICAgICAgICAgICAgICAgIHJlc291cmNlLmRhdGEub25sb2FkID0gbnVsbDtcblxuICAgICAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIG5leHQgd2lsbCBiZSBjYWxsZWQgb24gbG9hZC5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG5leHQoKTtcbn1cbiIsImltcG9ydCBTaWduYWwgZnJvbSAnbWluaS1zaWduYWxzJztcbmltcG9ydCBwYXJzZVVyaSBmcm9tICdwYXJzZS11cmknO1xuaW1wb3J0ICogYXMgYXN5bmMgZnJvbSAnLi9hc3luYyc7XG5pbXBvcnQgeyBSZXNvdXJjZSB9IGZyb20gJy4vUmVzb3VyY2UnO1xuXG4vLyBzb21lIGNvbnN0YW50c1xuY29uc3QgTUFYX1BST0dSRVNTID0gMTAwO1xuY29uc3Qgcmd4RXh0cmFjdFVybEhhc2ggPSAvKCNbXFx3LV0rKT8kLztcblxuLyoqXG4gKiBNYW5hZ2VzIHRoZSBzdGF0ZSBhbmQgbG9hZGluZyBvZiBtdWx0aXBsZSByZXNvdXJjZXMgdG8gbG9hZC5cbiAqXG4gKiBAY2xhc3NcbiAqL1xuY2xhc3MgTG9hZGVyIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2Jhc2VVcmw9JyddIC0gVGhlIGJhc2UgdXJsIGZvciBhbGwgcmVzb3VyY2VzIGxvYWRlZCBieSB0aGlzIGxvYWRlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2NvbmN1cnJlbmN5PTEwXSAtIFRoZSBudW1iZXIgb2YgcmVzb3VyY2VzIHRvIGxvYWQgY29uY3VycmVudGx5LlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGJhc2VVcmwgPSAnJywgY29uY3VycmVuY3kgPSAxMCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJhc2UgdXJsIGZvciBhbGwgcmVzb3VyY2VzIGxvYWRlZCBieSB0aGlzIGxvYWRlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5iYXNlVXJsID0gYmFzZVVybDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHByb2dyZXNzIHBlcmNlbnQgb2YgdGhlIGxvYWRlciBnb2luZyB0aHJvdWdoIHRoZSBxdWV1ZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnByb2dyZXNzID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTG9hZGluZyBzdGF0ZSBvZiB0aGUgbG9hZGVyLCB0cnVlIGlmIGl0IGlzIGN1cnJlbnRseSBsb2FkaW5nIHJlc291cmNlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHF1ZXJ5c3RyaW5nIHRvIGFwcGVuZCB0byBldmVyeSBVUkwgYWRkZWQgdG8gdGhlIGxvYWRlci5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhpcyBzaG91bGQgYmUgYSB2YWxpZCBxdWVyeSBzdHJpbmcgKndpdGhvdXQqIHRoZSBxdWVzdGlvbi1tYXJrIChgP2ApLiBUaGUgbG9hZGVyIHdpbGxcbiAgICAgICAgICogYWxzbyAqbm90KiBlc2NhcGUgdmFsdWVzIGZvciB5b3UuIE1ha2Ugc3VyZSB0byBlc2NhcGUgeW91ciBwYXJhbWV0ZXJzIHdpdGhcbiAgICAgICAgICogW2BlbmNvZGVVUklDb21wb25lbnRgXShodHRwczovL21kbi5pby9lbmNvZGVVUklDb21wb25lbnQpIGJlZm9yZSBhc3NpZ25pbmcgdGhpcyBwcm9wZXJ0eS5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogY29uc3QgbG9hZGVyID0gbmV3IExvYWRlcigpO1xuICAgICAgICAgKlxuICAgICAgICAgKiBsb2FkZXIuZGVmYXVsdFF1ZXJ5U3RyaW5nID0gJ3VzZXI9bWUmcGFzc3dvcmQ9c2VjcmV0JztcbiAgICAgICAgICpcbiAgICAgICAgICogLy8gVGhpcyB3aWxsIHJlcXVlc3QgJ2ltYWdlLnBuZz91c2VyPW1lJnBhc3N3b3JkPXNlY3JldCdcbiAgICAgICAgICogbG9hZGVyLmFkZCgnaW1hZ2UucG5nJykubG9hZCgpO1xuICAgICAgICAgKlxuICAgICAgICAgKiBsb2FkZXIucmVzZXQoKTtcbiAgICAgICAgICpcbiAgICAgICAgICogLy8gVGhpcyB3aWxsIHJlcXVlc3QgJ2ltYWdlLnBuZz92PTEmdXNlcj1tZSZwYXNzd29yZD1zZWNyZXQnXG4gICAgICAgICAqIGxvYWRlci5hZGQoJ2lhbWdlLnBuZz92PTEnKS5sb2FkKCk7XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQGRlZmF1bHQgJydcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGVmYXVsdFF1ZXJ5U3RyaW5nID0gJyc7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtaWRkbGV3YXJlIHRvIHJ1biBiZWZvcmUgbG9hZGluZyBlYWNoIHJlc291cmNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbltdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYmVmb3JlTWlkZGxld2FyZSA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWlkZGxld2FyZSB0byBydW4gYWZ0ZXIgbG9hZGluZyBlYWNoIHJlc291cmNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbltdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYWZ0ZXJNaWRkbGV3YXJlID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0cmFja3MgdGhlIHJlc291cmNlcyB3ZSBhcmUgY3VycmVudGx5IGNvbXBsZXRpbmcgcGFyc2luZyBmb3IuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge1Jlc291cmNlW119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9yZXNvdXJjZXNQYXJzaW5nID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBgX2xvYWRSZXNvdXJjZWAgZnVuY3Rpb24gYm91bmQgd2l0aCB0aGlzIG9iamVjdCBjb250ZXh0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbn1cbiAgICAgICAgICogQHBhcmFtIHtSZXNvdXJjZX0gciAtIFRoZSByZXNvdXJjZSB0byBsb2FkXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGQgLSBUaGUgZGVxdWV1ZSBmdW5jdGlvblxuICAgICAgICAgKiBAcmV0dXJuIHt1bmRlZmluZWR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9ib3VuZExvYWRSZXNvdXJjZSA9IChyLCBkKSA9PiB0aGlzLl9sb2FkUmVzb3VyY2UociwgZCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByZXNvdXJjZXMgd2FpdGluZyB0byBiZSBsb2FkZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge1Jlc291cmNlW119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9xdWV1ZSA9IGFzeW5jLnF1ZXVlKHRoaXMuX2JvdW5kTG9hZFJlc291cmNlLCBjb25jdXJyZW5jeSk7XG5cbiAgICAgICAgdGhpcy5fcXVldWUucGF1c2UoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQWxsIHRoZSByZXNvdXJjZXMgZm9yIHRoaXMgbG9hZGVyIGtleWVkIGJ5IG5hbWUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdDxzdHJpbmcsIFJlc291cmNlPn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVzb3VyY2VzID0ge307XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpc3BhdGNoZWQgb25jZSBwZXIgbG9hZGVkIG9yIGVycm9yZWQgcmVzb3VyY2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZSBjYWxsYmFjayBsb29rcyBsaWtlIHtAbGluayBMb2FkZXIuT25Qcm9ncmVzc1NpZ25hbH0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1NpZ25hbDxMb2FkZXIuT25Qcm9ncmVzc1NpZ25hbD59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uUHJvZ3Jlc3MgPSBuZXcgU2lnbmFsKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpc3BhdGNoZWQgb25jZSBwZXIgZXJyb3JlZCByZXNvdXJjZS5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIGNhbGxiYWNrIGxvb2tzIGxpa2Uge0BsaW5rIExvYWRlci5PbkVycm9yU2lnbmFsfS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7U2lnbmFsPExvYWRlci5PbkVycm9yU2lnbmFsPn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25FcnJvciA9IG5ldyBTaWduYWwoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGlzcGF0Y2hlZCBvbmNlIHBlciBsb2FkZWQgcmVzb3VyY2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZSBjYWxsYmFjayBsb29rcyBsaWtlIHtAbGluayBMb2FkZXIuT25Mb2FkU2lnbmFsfS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7U2lnbmFsPExvYWRlci5PbkxvYWRTaWduYWw+fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vbkxvYWQgPSBuZXcgU2lnbmFsKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpc3BhdGNoZWQgd2hlbiB0aGUgbG9hZGVyIGJlZ2lucyB0byBwcm9jZXNzIHRoZSBxdWV1ZS5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIGNhbGxiYWNrIGxvb2tzIGxpa2Uge0BsaW5rIExvYWRlci5PblN0YXJ0U2lnbmFsfS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7U2lnbmFsPExvYWRlci5PblN0YXJ0U2lnbmFsPn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25TdGFydCA9IG5ldyBTaWduYWwoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGlzcGF0Y2hlZCB3aGVuIHRoZSBxdWV1ZWQgcmVzb3VyY2VzIGFsbCBsb2FkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGUgY2FsbGJhY2sgbG9va3MgbGlrZSB7QGxpbmsgTG9hZGVyLk9uQ29tcGxldGVTaWduYWx9LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtTaWduYWw8TG9hZGVyLk9uQ29tcGxldGVTaWduYWw+fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vbkNvbXBsZXRlID0gbmV3IFNpZ25hbCgpO1xuXG4gICAgICAgIC8vIEFkZCBkZWZhdWx0IGJlZm9yZSBtaWRkbGV3YXJlXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgTG9hZGVyLl9kZWZhdWx0QmVmb3JlTWlkZGxld2FyZS5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdGhpcy5wcmUoTG9hZGVyLl9kZWZhdWx0QmVmb3JlTWlkZGxld2FyZVtpXSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBZGQgZGVmYXVsdCBhZnRlciBtaWRkbGV3YXJlXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgTG9hZGVyLl9kZWZhdWx0QWZ0ZXJNaWRkbGV3YXJlLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB0aGlzLnVzZShMb2FkZXIuX2RlZmF1bHRBZnRlck1pZGRsZXdhcmVbaV0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogV2hlbiB0aGUgcHJvZ3Jlc3MgY2hhbmdlcyB0aGUgbG9hZGVyIGFuZCByZXNvdXJjZSBhcmUgZGlzYXB0Y2hlZC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBMb2FkZXJcbiAgICAgKiBAY2FsbGJhY2sgT25Qcm9ncmVzc1NpZ25hbFxuICAgICAqIEBwYXJhbSB7TG9hZGVyfSBsb2FkZXIgLSBUaGUgbG9hZGVyIHRoZSBwcm9ncmVzcyBpcyBhZHZhbmNpbmcgb24uXG4gICAgICogQHBhcmFtIHtSZXNvdXJjZX0gcmVzb3VyY2UgLSBUaGUgcmVzb3VyY2UgdGhhdCBoYXMgY29tcGxldGVkIG9yIGZhaWxlZCB0byBjYXVzZSB0aGUgcHJvZ3Jlc3MgdG8gYWR2YW5jZS5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIFdoZW4gYW4gZXJyb3Igb2NjdXJycyB0aGUgbG9hZGVyIGFuZCByZXNvdXJjZSBhcmUgZGlzYXB0Y2hlZC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBMb2FkZXJcbiAgICAgKiBAY2FsbGJhY2sgT25FcnJvclNpZ25hbFxuICAgICAqIEBwYXJhbSB7TG9hZGVyfSBsb2FkZXIgLSBUaGUgbG9hZGVyIHRoZSBlcnJvciBoYXBwZW5lZCBpbi5cbiAgICAgKiBAcGFyYW0ge1Jlc291cmNlfSByZXNvdXJjZSAtIFRoZSByZXNvdXJjZSB0aGF0IGNhdXNlZCB0aGUgZXJyb3IuXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBXaGVuIGEgbG9hZCBjb21wbGV0ZXMgdGhlIGxvYWRlciBhbmQgcmVzb3VyY2UgYXJlIGRpc2FwdGNoZWQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgTG9hZGVyXG4gICAgICogQGNhbGxiYWNrIE9uTG9hZFNpZ25hbFxuICAgICAqIEBwYXJhbSB7TG9hZGVyfSBsb2FkZXIgLSBUaGUgbG9hZGVyIHRoYXQgbGFvZGVkIHRoZSByZXNvdXJjZS5cbiAgICAgKiBAcGFyYW0ge1Jlc291cmNlfSByZXNvdXJjZSAtIFRoZSByZXNvdXJjZSB0aGF0IGhhcyBjb21wbGV0ZWQgbG9hZGluZy5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIFdoZW4gdGhlIGxvYWRlciBzdGFydHMgbG9hZGluZyByZXNvdXJjZXMgaXQgZGlzcGF0Y2hlcyB0aGlzIGNhbGxiYWNrLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIExvYWRlclxuICAgICAqIEBjYWxsYmFjayBPblN0YXJ0U2lnbmFsXG4gICAgICogQHBhcmFtIHtMb2FkZXJ9IGxvYWRlciAtIFRoZSBsb2FkZXIgdGhhdCBoYXMgc3RhcnRlZCBsb2FkaW5nIHJlc291cmNlcy5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIFdoZW4gdGhlIGxvYWRlciBjb21wbGV0ZXMgbG9hZGluZyByZXNvdXJjZXMgaXQgZGlzcGF0Y2hlcyB0aGlzIGNhbGxiYWNrLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIExvYWRlclxuICAgICAqIEBjYWxsYmFjayBPbkNvbXBsZXRlU2lnbmFsXG4gICAgICogQHBhcmFtIHtMb2FkZXJ9IGxvYWRlciAtIFRoZSBsb2FkZXIgdGhhdCBoYXMgZmluaXNoZWQgbG9hZGluZyByZXNvdXJjZXMuXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBPcHRpb25zIGZvciBhIGNhbGwgdG8gYC5hZGQoKWAuXG4gICAgICpcbiAgICAgKiBAc2VlIExvYWRlciNhZGRcbiAgICAgKlxuICAgICAqIEB0eXBlZGVmIHtvYmplY3R9IElBZGRPcHRpb25zXG4gICAgICogQHByb3BlcnR5IHtzdHJpbmd9IFtuYW1lXSAtIFRoZSBuYW1lIG9mIHRoZSByZXNvdXJjZSB0byBsb2FkLCBpZiBub3QgcGFzc2VkIHRoZSB1cmwgaXMgdXNlZC5cbiAgICAgKiBAcHJvcGVydHkge3N0cmluZ30gW2tleV0gLSBBbGlhcyBmb3IgYG5hbWVgLlxuICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbdXJsXSAtIFRoZSB1cmwgZm9yIHRoaXMgcmVzb3VyY2UsIHJlbGF0aXZlIHRvIHRoZSBiYXNlVXJsIG9mIHRoaXMgbG9hZGVyLlxuICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfGJvb2xlYW59IFtjcm9zc09yaWdpbl0gLSBJcyB0aGlzIHJlcXVlc3QgY3Jvc3Mtb3JpZ2luPyBEZWZhdWx0IGlzIHRvXG4gICAgICogICAgICBkZXRlcm1pbmUgYXV0b21hdGljYWxseS5cbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gW3RpbWVvdXQ9MF0gLSBBIHRpbWVvdXQgaW4gbWlsbGlzZWNvbmRzIGZvciB0aGUgbG9hZC4gSWYgdGhlIGxvYWQgdGFrZXNcbiAgICAgKiAgICAgIGxvbmdlciB0aGFuIHRoaXMgdGltZSBpdCBpcyBjYW5jZWxsZWQgYW5kIHRoZSBsb2FkIGlzIGNvbnNpZGVyZWQgYSBmYWlsdXJlLiBJZiB0aGlzIHZhbHVlIGlzXG4gICAgICogICAgICBzZXQgdG8gYDBgIHRoZW4gdGhlcmUgaXMgbm8gZXhwbGljaXQgdGltZW91dC5cbiAgICAgKiBAcHJvcGVydHkge1Jlc291cmNlLkxPQURfVFlQRX0gW2xvYWRUeXBlPVJlc291cmNlLkxPQURfVFlQRS5YSFJdIC0gSG93IHNob3VsZCB0aGlzIHJlc291cmNlXG4gICAgICogICAgICBiZSBsb2FkZWQ/XG4gICAgICogQHByb3BlcnR5IHtSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRX0gW3hoclR5cGU9UmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuREVGQVVMVF0gLSBIb3dcbiAgICAgKiAgICAgIHNob3VsZCB0aGUgZGF0YSBiZWluZyBsb2FkZWQgYmUgaW50ZXJwcmV0ZWQgd2hlbiB1c2luZyBYSFI/XG4gICAgICogQHByb3BlcnR5IHtSZXNvdXJjZS5PbkNvbXBsZXRlU2lnbmFsfSBbb25Db21wbGV0ZV0gLSBDYWxsYmFjayB0byBhZGQgYW4gYW4gb25Db21wbGV0ZSBzaWduYWwgaXN0ZW5lci5cbiAgICAgKiBAcHJvcGVydHkge1Jlc291cmNlLk9uQ29tcGxldGVTaWduYWx9IFtjYWxsYmFja10gLSBBbGlhcyBmb3IgYG9uQ29tcGxldGVgLlxuICAgICAqIEBwcm9wZXJ0eSB7UmVzb3VyY2UuSU1ldGFkYXRhfSBbbWV0YWRhdGFdIC0gRXh0cmEgY29uZmlndXJhdGlvbiBmb3IgbWlkZGxld2FyZSBhbmQgdGhlIFJlc291cmNlIG9iamVjdC5cbiAgICAgKi9cblxuICAgIC8qIGVzbGludC1kaXNhYmxlIHJlcXVpcmUtanNkb2MsdmFsaWQtanNkb2MgKi9cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgcmVzb3VyY2UgKG9yIG11bHRpcGxlIHJlc291cmNlcykgdG8gdGhlIGxvYWRlciBxdWV1ZS5cbiAgICAgKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gY2FuIHRha2UgYSB3aWRlIHZhcmlldHkgb2YgZGlmZmVyZW50IHBhcmFtZXRlcnMuIFRoZSBvbmx5IHRoaW5nIHRoYXQgaXMgYWx3YXlzXG4gICAgICogcmVxdWlyZWQgdGhlIHVybCB0byBsb2FkLiBBbGwgdGhlIGZvbGxvd2luZyB3aWxsIHdvcms6XG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqIGxvYWRlclxuICAgICAqICAgICAvLyBub3JtYWwgcGFyYW0gc3ludGF4XG4gICAgICogICAgIC5hZGQoJ2tleScsICdodHRwOi8vLi4uJywgZnVuY3Rpb24gKCkge30pXG4gICAgICogICAgIC5hZGQoJ2h0dHA6Ly8uLi4nLCBmdW5jdGlvbiAoKSB7fSlcbiAgICAgKiAgICAgLmFkZCgnaHR0cDovLy4uLicpXG4gICAgICpcbiAgICAgKiAgICAgLy8gb2JqZWN0IHN5bnRheFxuICAgICAqICAgICAuYWRkKHtcbiAgICAgKiAgICAgICAgIG5hbWU6ICdrZXkyJyxcbiAgICAgKiAgICAgICAgIHVybDogJ2h0dHA6Ly8uLi4nXG4gICAgICogICAgIH0sIGZ1bmN0aW9uICgpIHt9KVxuICAgICAqICAgICAuYWRkKHtcbiAgICAgKiAgICAgICAgIHVybDogJ2h0dHA6Ly8uLi4nXG4gICAgICogICAgIH0sIGZ1bmN0aW9uICgpIHt9KVxuICAgICAqICAgICAuYWRkKHtcbiAgICAgKiAgICAgICAgIG5hbWU6ICdrZXkzJyxcbiAgICAgKiAgICAgICAgIHVybDogJ2h0dHA6Ly8uLi4nXG4gICAgICogICAgICAgICBvbkNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7fVxuICAgICAqICAgICB9KVxuICAgICAqICAgICAuYWRkKHtcbiAgICAgKiAgICAgICAgIHVybDogJ2h0dHBzOi8vLi4uJyxcbiAgICAgKiAgICAgICAgIG9uQ29tcGxldGU6IGZ1bmN0aW9uICgpIHt9LFxuICAgICAqICAgICAgICAgY3Jvc3NPcmlnaW46IHRydWVcbiAgICAgKiAgICAgfSlcbiAgICAgKlxuICAgICAqICAgICAvLyB5b3UgY2FuIGFsc28gcGFzcyBhbiBhcnJheSBvZiBvYmplY3RzIG9yIHVybHMgb3IgYm90aFxuICAgICAqICAgICAuYWRkKFtcbiAgICAgKiAgICAgICAgIHsgbmFtZTogJ2tleTQnLCB1cmw6ICdodHRwOi8vLi4uJywgb25Db21wbGV0ZTogZnVuY3Rpb24gKCkge30gfSxcbiAgICAgKiAgICAgICAgIHsgdXJsOiAnaHR0cDovLy4uLicsIG9uQ29tcGxldGU6IGZ1bmN0aW9uICgpIHt9IH0sXG4gICAgICogICAgICAgICAnaHR0cDovLy4uLidcbiAgICAgKiAgICAgXSlcbiAgICAgKlxuICAgICAqICAgICAvLyBhbmQgeW91IGNhbiB1c2UgYm90aCBwYXJhbXMgYW5kIG9wdGlvbnNcbiAgICAgKiAgICAgLmFkZCgna2V5JywgJ2h0dHA6Ly8uLi4nLCB7IGNyb3NzT3JpZ2luOiB0cnVlIH0sIGZ1bmN0aW9uICgpIHt9KVxuICAgICAqICAgICAuYWRkKCdodHRwOi8vLi4uJywgeyBjcm9zc09yaWdpbjogdHJ1ZSB9LCBmdW5jdGlvbiAoKSB7fSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAdmFyaWF0aW9uIDFcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSByZXNvdXJjZSB0byBsb2FkLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBUaGUgdXJsIGZvciB0aGlzIHJlc291cmNlLCByZWxhdGl2ZSB0byB0aGUgYmFzZVVybCBvZiB0aGlzIGxvYWRlci5cbiAgICAgKiBAcGFyYW0ge1Jlc291cmNlLk9uQ29tcGxldGVTaWduYWx9IFtjYWxsYmFja10gLSBGdW5jdGlvbiB0byBjYWxsIHdoZW4gdGhpcyBzcGVjaWZpYyByZXNvdXJjZSBjb21wbGV0ZXMgbG9hZGluZy5cbiAgICAgKiBAcmV0dXJuIHt0aGlzfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi8vKipcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAdmFyaWF0aW9uIDJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSByZXNvdXJjZSB0byBsb2FkLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBUaGUgdXJsIGZvciB0aGlzIHJlc291cmNlLCByZWxhdGl2ZSB0byB0aGUgYmFzZVVybCBvZiB0aGlzIGxvYWRlci5cbiAgICAgKiBAcGFyYW0ge0lBZGRPcHRpb25zfSBbb3B0aW9uc10gLSBUaGUgb3B0aW9ucyBmb3IgdGhlIGxvYWQuXG4gICAgICogQHBhcmFtIHtSZXNvdXJjZS5PbkNvbXBsZXRlU2lnbmFsfSBbY2FsbGJhY2tdIC0gRnVuY3Rpb24gdG8gY2FsbCB3aGVuIHRoaXMgc3BlY2lmaWMgcmVzb3VyY2UgY29tcGxldGVzIGxvYWRpbmcuXG4gICAgICogQHJldHVybiB7dGhpc30gUmV0dXJucyBpdHNlbGYuXG4gICAgICovLyoqXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHZhcmlhdGlvbiAzXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFRoZSB1cmwgZm9yIHRoaXMgcmVzb3VyY2UsIHJlbGF0aXZlIHRvIHRoZSBiYXNlVXJsIG9mIHRoaXMgbG9hZGVyLlxuICAgICAqIEBwYXJhbSB7UmVzb3VyY2UuT25Db21wbGV0ZVNpZ25hbH0gW2NhbGxiYWNrXSAtIEZ1bmN0aW9uIHRvIGNhbGwgd2hlbiB0aGlzIHNwZWNpZmljIHJlc291cmNlIGNvbXBsZXRlcyBsb2FkaW5nLlxuICAgICAqIEByZXR1cm4ge3RoaXN9IFJldHVybnMgaXRzZWxmLlxuICAgICAqLy8qKlxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEB2YXJpYXRpb24gNFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBUaGUgdXJsIGZvciB0aGlzIHJlc291cmNlLCByZWxhdGl2ZSB0byB0aGUgYmFzZVVybCBvZiB0aGlzIGxvYWRlci5cbiAgICAgKiBAcGFyYW0ge0lBZGRPcHRpb25zfSBbb3B0aW9uc10gLSBUaGUgb3B0aW9ucyBmb3IgdGhlIGxvYWQuXG4gICAgICogQHBhcmFtIHtSZXNvdXJjZS5PbkNvbXBsZXRlU2lnbmFsfSBbY2FsbGJhY2tdIC0gRnVuY3Rpb24gdG8gY2FsbCB3aGVuIHRoaXMgc3BlY2lmaWMgcmVzb3VyY2UgY29tcGxldGVzIGxvYWRpbmcuXG4gICAgICogQHJldHVybiB7dGhpc30gUmV0dXJucyBpdHNlbGYuXG4gICAgICovLyoqXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHZhcmlhdGlvbiA1XG4gICAgICogQHBhcmFtIHtJQWRkT3B0aW9uc30gb3B0aW9ucyAtIFRoZSBvcHRpb25zIGZvciB0aGUgbG9hZC4gVGhpcyBvYmplY3QgbXVzdCBjb250YWluIGEgYHVybGAgcHJvcGVydHkuXG4gICAgICogQHBhcmFtIHtSZXNvdXJjZS5PbkNvbXBsZXRlU2lnbmFsfSBbY2FsbGJhY2tdIC0gRnVuY3Rpb24gdG8gY2FsbCB3aGVuIHRoaXMgc3BlY2lmaWMgcmVzb3VyY2UgY29tcGxldGVzIGxvYWRpbmcuXG4gICAgICogQHJldHVybiB7dGhpc30gUmV0dXJucyBpdHNlbGYuXG4gICAgICovLyoqXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHZhcmlhdGlvbiA2XG4gICAgICogQHBhcmFtIHtBcnJheTxJQWRkT3B0aW9uc3xzdHJpbmc+fSByZXNvdXJjZXMgLSBBbiBhcnJheSBvZiByZXNvdXJjZXMgdG8gbG9hZCwgd2hlcmUgZWFjaCBpc1xuICAgICAqICAgICAgZWl0aGVyIGFuIG9iamVjdCB3aXRoIHRoZSBvcHRpb25zIG9yIGEgc3RyaW5nIHVybC4gSWYgeW91IHBhc3MgYW4gb2JqZWN0LCBpdCBtdXN0IGNvbnRhaW4gYSBgdXJsYCBwcm9wZXJ0eS5cbiAgICAgKiBAcGFyYW0ge1Jlc291cmNlLk9uQ29tcGxldGVTaWduYWx9IFtjYWxsYmFja10gLSBGdW5jdGlvbiB0byBjYWxsIHdoZW4gdGhpcyBzcGVjaWZpYyByZXNvdXJjZSBjb21wbGV0ZXMgbG9hZGluZy5cbiAgICAgKiBAcmV0dXJuIHt0aGlzfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICBhZGQobmFtZSwgdXJsLCBvcHRpb25zLCBjYikge1xuICAgICAgICAvLyBzcGVjaWFsIGNhc2Ugb2YgYW4gYXJyYXkgb2Ygb2JqZWN0cyBvciB1cmxzXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KG5hbWUpKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5hbWUubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZChuYW1lW2ldKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiBhbiBvYmplY3QgaXMgcGFzc2VkIGluc3RlYWQgb2YgcGFyYW1zXG4gICAgICAgIGlmICh0eXBlb2YgbmFtZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIGNiID0gdXJsIHx8IG5hbWUuY2FsbGJhY2sgfHwgbmFtZS5vbkNvbXBsZXRlO1xuICAgICAgICAgICAgb3B0aW9ucyA9IG5hbWU7XG4gICAgICAgICAgICB1cmwgPSBuYW1lLnVybDtcbiAgICAgICAgICAgIG5hbWUgPSBuYW1lLm5hbWUgfHwgbmFtZS5rZXkgfHwgbmFtZS51cmw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjYXNlIHdoZXJlIG5vIG5hbWUgaXMgcGFzc2VkIHNoaWZ0IGFsbCBhcmdzIG92ZXIgYnkgb25lLlxuICAgICAgICBpZiAodHlwZW9mIHVybCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGNiID0gb3B0aW9ucztcbiAgICAgICAgICAgIG9wdGlvbnMgPSB1cmw7XG4gICAgICAgICAgICB1cmwgPSBuYW1lO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbm93IHRoYXQgd2Ugc2hpZnRlZCBtYWtlIHN1cmUgd2UgaGF2ZSBhIHByb3BlciB1cmwuXG4gICAgICAgIGlmICh0eXBlb2YgdXJsICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyB1cmwgcGFzc2VkIHRvIGFkZCByZXNvdXJjZSB0byBsb2FkZXIuJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBvcHRpb25zIGFyZSBvcHRpb25hbCBzbyBwZW9wbGUgbWlnaHQgcGFzcyBhIGZ1bmN0aW9uIGFuZCBubyBvcHRpb25zXG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2IgPSBvcHRpb25zO1xuICAgICAgICAgICAgb3B0aW9ucyA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiBsb2FkaW5nIGFscmVhZHkgeW91IGNhbiBvbmx5IGFkZCByZXNvdXJjZXMgdGhhdCBoYXZlIGEgcGFyZW50LlxuICAgICAgICBpZiAodGhpcy5sb2FkaW5nICYmICghb3B0aW9ucyB8fCAhb3B0aW9ucy5wYXJlbnRSZXNvdXJjZSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGFkZCByZXNvdXJjZXMgd2hpbGUgdGhlIGxvYWRlciBpcyBydW5uaW5nLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY2hlY2sgaWYgcmVzb3VyY2UgYWxyZWFkeSBleGlzdHMuXG4gICAgICAgIGlmICh0aGlzLnJlc291cmNlc1tuYW1lXSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBSZXNvdXJjZSBuYW1lZCBcIiR7bmFtZX1cIiBhbHJlYWR5IGV4aXN0cy5gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGFkZCBiYXNlIHVybCBpZiB0aGlzIGlzbid0IGFuIGFic29sdXRlIHVybFxuICAgICAgICB1cmwgPSB0aGlzLl9wcmVwYXJlVXJsKHVybCk7XG5cbiAgICAgICAgLy8gY3JlYXRlIHRoZSBzdG9yZSB0aGUgcmVzb3VyY2VcbiAgICAgICAgdGhpcy5yZXNvdXJjZXNbbmFtZV0gPSBuZXcgUmVzb3VyY2UobmFtZSwgdXJsLCBvcHRpb25zKTtcblxuICAgICAgICBpZiAodHlwZW9mIGNiID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aGlzLnJlc291cmNlc1tuYW1lXS5vbkFmdGVyTWlkZGxld2FyZS5vbmNlKGNiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmIGFjdGl2ZWx5IGxvYWRpbmcsIG1ha2Ugc3VyZSB0byBhZGp1c3QgcHJvZ3Jlc3MgY2h1bmtzIGZvciB0aGF0IHBhcmVudCBhbmQgaXRzIGNoaWxkcmVuXG4gICAgICAgIGlmICh0aGlzLmxvYWRpbmcpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudCA9IG9wdGlvbnMucGFyZW50UmVzb3VyY2U7XG4gICAgICAgICAgICBjb25zdCBpbmNvbXBsZXRlQ2hpbGRyZW4gPSBbXTtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXJlbnQuY2hpbGRyZW4ubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXBhcmVudC5jaGlsZHJlbltpXS5pc0NvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIGluY29tcGxldGVDaGlsZHJlbi5wdXNoKHBhcmVudC5jaGlsZHJlbltpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBmdWxsQ2h1bmsgPSBwYXJlbnQucHJvZ3Jlc3NDaHVuayAqIChpbmNvbXBsZXRlQ2hpbGRyZW4ubGVuZ3RoICsgMSk7IC8vICsxIGZvciBwYXJlbnRcbiAgICAgICAgICAgIGNvbnN0IGVhY2hDaHVuayA9IGZ1bGxDaHVuayAvIChpbmNvbXBsZXRlQ2hpbGRyZW4ubGVuZ3RoICsgMik7IC8vICsyIGZvciBwYXJlbnQgJiBuZXcgY2hpbGRcblxuICAgICAgICAgICAgcGFyZW50LmNoaWxkcmVuLnB1c2godGhpcy5yZXNvdXJjZXNbbmFtZV0pO1xuICAgICAgICAgICAgcGFyZW50LnByb2dyZXNzQ2h1bmsgPSBlYWNoQ2h1bms7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW5jb21wbGV0ZUNoaWxkcmVuLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgaW5jb21wbGV0ZUNoaWxkcmVuW2ldLnByb2dyZXNzQ2h1bmsgPSBlYWNoQ2h1bms7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMucmVzb3VyY2VzW25hbWVdLnByb2dyZXNzQ2h1bmsgPSBlYWNoQ2h1bms7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBhZGQgdGhlIHJlc291cmNlIHRvIHRoZSBxdWV1ZVxuICAgICAgICB0aGlzLl9xdWV1ZS5wdXNoKHRoaXMucmVzb3VyY2VzW25hbWVdKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyogZXNsaW50LWVuYWJsZSByZXF1aXJlLWpzZG9jLHZhbGlkLWpzZG9jICovXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHVwIGEgbWlkZGxld2FyZSBmdW5jdGlvbiB0aGF0IHdpbGwgcnVuICpiZWZvcmUqIHRoZVxuICAgICAqIHJlc291cmNlIGlzIGxvYWRlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuIC0gVGhlIG1pZGRsZXdhcmUgZnVuY3Rpb24gdG8gcmVnaXN0ZXIuXG4gICAgICogQHJldHVybiB7dGhpc30gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG4gICAgcHJlKGZuKSB7XG4gICAgICAgIHRoaXMuX2JlZm9yZU1pZGRsZXdhcmUucHVzaChmbik7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB1cCBhIG1pZGRsZXdhcmUgZnVuY3Rpb24gdGhhdCB3aWxsIHJ1biAqYWZ0ZXIqIHRoZVxuICAgICAqIHJlc291cmNlIGlzIGxvYWRlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuIC0gVGhlIG1pZGRsZXdhcmUgZnVuY3Rpb24gdG8gcmVnaXN0ZXIuXG4gICAgICogQHJldHVybiB7dGhpc30gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG4gICAgdXNlKGZuKSB7XG4gICAgICAgIHRoaXMuX2FmdGVyTWlkZGxld2FyZS5wdXNoKGZuKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXNldHMgdGhlIHF1ZXVlIG9mIHRoZSBsb2FkZXIgdG8gcHJlcGFyZSBmb3IgYSBuZXcgbG9hZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3RoaXN9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuICAgIHJlc2V0KCkge1xuICAgICAgICB0aGlzLnByb2dyZXNzID0gMDtcbiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5fcXVldWUua2lsbCgpO1xuICAgICAgICB0aGlzLl9xdWV1ZS5wYXVzZSgpO1xuXG4gICAgICAgIC8vIGFib3J0IGFsbCByZXNvdXJjZSBsb2Fkc1xuICAgICAgICBmb3IgKGNvbnN0IGsgaW4gdGhpcy5yZXNvdXJjZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlcyA9IHRoaXMucmVzb3VyY2VzW2tdO1xuXG4gICAgICAgICAgICBpZiAocmVzLl9vbkxvYWRCaW5kaW5nKSB7XG4gICAgICAgICAgICAgICAgcmVzLl9vbkxvYWRCaW5kaW5nLmRldGFjaCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocmVzLmlzTG9hZGluZykge1xuICAgICAgICAgICAgICAgIHJlcy5hYm9ydCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZXNvdXJjZXMgPSB7fTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTdGFydHMgbG9hZGluZyB0aGUgcXVldWVkIHJlc291cmNlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IFtjYl0gLSBPcHRpb25hbCBjYWxsYmFjayB0aGF0IHdpbGwgYmUgYm91bmQgdG8gdGhlIGBjb21wbGV0ZWAgZXZlbnQuXG4gICAgICogQHJldHVybiB7dGhpc30gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG4gICAgbG9hZChjYikge1xuICAgICAgICAvLyByZWdpc3RlciBjb21wbGV0ZSBjYWxsYmFjayBpZiB0aGV5IHBhc3Mgb25lXG4gICAgICAgIGlmICh0eXBlb2YgY2IgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRoaXMub25Db21wbGV0ZS5vbmNlKGNiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmIHRoZSBxdWV1ZSBoYXMgYWxyZWFkeSBzdGFydGVkIHdlIGFyZSBkb25lIGhlcmVcbiAgICAgICAgaWYgKHRoaXMubG9hZGluZykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fcXVldWUuaWRsZSgpKSB7XG4gICAgICAgICAgICB0aGlzLl9vblN0YXJ0KCk7XG4gICAgICAgICAgICB0aGlzLl9vbkNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBkaXN0cmlidXRlIHByb2dyZXNzIGNodW5rc1xuICAgICAgICAgICAgY29uc3QgbnVtVGFza3MgPSB0aGlzLl9xdWV1ZS5fdGFza3MubGVuZ3RoO1xuICAgICAgICAgICAgY29uc3QgY2h1bmsgPSBNQVhfUFJPR1JFU1MgLyBudW1UYXNrcztcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9xdWV1ZS5fdGFza3MubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9xdWV1ZS5fdGFza3NbaV0uZGF0YS5wcm9ncmVzc0NodW5rID0gY2h1bms7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIG5vdGlmeSB3ZSBhcmUgc3RhcnRpbmdcbiAgICAgICAgICAgIHRoaXMuX29uU3RhcnQoKTtcblxuICAgICAgICAgICAgLy8gc3RhcnQgbG9hZGluZ1xuICAgICAgICAgICAgdGhpcy5fcXVldWUucmVzdW1lKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbnVtYmVyIG9mIHJlc291cmNlcyB0byBsb2FkIGNvbmN1cnJlbnRseS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAxMFxuICAgICAqL1xuICAgIGdldCBjb25jdXJyZW5jeSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3F1ZXVlLmNvbmN1cnJlbmN5O1xuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHNldCBjb25jdXJyZW5jeShjb25jdXJyZW5jeSkge1xuICAgICAgICB0aGlzLl9xdWV1ZS5jb25jdXJyZW5jeSA9IGNvbmN1cnJlbmN5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFByZXBhcmVzIGEgdXJsIGZvciB1c2FnZSBiYXNlZCBvbiB0aGUgY29uZmlndXJhdGlvbiBvZiB0aGlzIG9iamVjdFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gVGhlIHVybCB0byBwcmVwYXJlLlxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIHByZXBhcmVkIHVybC5cbiAgICAgKi9cbiAgICBfcHJlcGFyZVVybCh1cmwpIHtcbiAgICAgICAgY29uc3QgcGFyc2VkVXJsID0gcGFyc2VVcmkodXJsLCB7IHN0cmljdE1vZGU6IHRydWUgfSk7XG4gICAgICAgIGxldCByZXN1bHQ7XG5cbiAgICAgICAgLy8gYWJzb2x1dGUgdXJsLCBqdXN0IHVzZSBpdCBhcyBpcy5cbiAgICAgICAgaWYgKHBhcnNlZFVybC5wcm90b2NvbCB8fCAhcGFyc2VkVXJsLnBhdGggfHwgdXJsLmluZGV4T2YoJy8vJykgPT09IDApIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHVybDtcbiAgICAgICAgfVxuICAgICAgICAvLyBpZiBiYXNlVXJsIGRvZXNuJ3QgZW5kIGluIHNsYXNoIGFuZCB1cmwgZG9lc24ndCBzdGFydCB3aXRoIHNsYXNoLCB0aGVuIGFkZCBhIHNsYXNoIGluYmV0d2VlblxuICAgICAgICBlbHNlIGlmICh0aGlzLmJhc2VVcmwubGVuZ3RoXG4gICAgICAgICAgICAmJiB0aGlzLmJhc2VVcmwubGFzdEluZGV4T2YoJy8nKSAhPT0gdGhpcy5iYXNlVXJsLmxlbmd0aCAtIDFcbiAgICAgICAgICAgICYmIHVybC5jaGFyQXQoMCkgIT09ICcvJ1xuICAgICAgICApIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGAke3RoaXMuYmFzZVVybH0vJHt1cmx9YDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuYmFzZVVybCArIHVybDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmIHdlIG5lZWQgdG8gYWRkIGEgZGVmYXVsdCBxdWVyeXN0cmluZywgdGhlcmUgaXMgYSBiaXQgbW9yZSB3b3JrXG4gICAgICAgIGlmICh0aGlzLmRlZmF1bHRRdWVyeVN0cmluZykge1xuICAgICAgICAgICAgY29uc3QgaGFzaCA9IHJneEV4dHJhY3RVcmxIYXNoLmV4ZWMocmVzdWx0KVswXTtcblxuICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0LnN1YnN0cigwLCByZXN1bHQubGVuZ3RoIC0gaGFzaC5sZW5ndGgpO1xuXG4gICAgICAgICAgICBpZiAocmVzdWx0LmluZGV4T2YoJz8nKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgKz0gYCYke3RoaXMuZGVmYXVsdFF1ZXJ5U3RyaW5nfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgKz0gYD8ke3RoaXMuZGVmYXVsdFF1ZXJ5U3RyaW5nfWA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJlc3VsdCArPSBoYXNoO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMb2FkcyBhIHNpbmdsZSByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtSZXNvdXJjZX0gcmVzb3VyY2UgLSBUaGUgcmVzb3VyY2UgdG8gbG9hZC5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBkZXF1ZXVlIC0gVGhlIGZ1bmN0aW9uIHRvIGNhbGwgd2hlbiB3ZSBuZWVkIHRvIGRlcXVldWUgdGhpcyBpdGVtLlxuICAgICAqL1xuICAgIF9sb2FkUmVzb3VyY2UocmVzb3VyY2UsIGRlcXVldWUpIHtcbiAgICAgICAgcmVzb3VyY2UuX2RlcXVldWUgPSBkZXF1ZXVlO1xuXG4gICAgICAgIC8vIHJ1biBiZWZvcmUgbWlkZGxld2FyZVxuICAgICAgICBhc3luYy5lYWNoU2VyaWVzKFxuICAgICAgICAgICAgdGhpcy5fYmVmb3JlTWlkZGxld2FyZSxcbiAgICAgICAgICAgIChmbiwgbmV4dCkgPT4ge1xuICAgICAgICAgICAgICAgIGZuLmNhbGwodGhpcywgcmVzb3VyY2UsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgdGhlIGJlZm9yZSBtaWRkbGV3YXJlIG1hcmtzIHRoZSByZXNvdXJjZSBhcyBjb21wbGV0ZSxcbiAgICAgICAgICAgICAgICAgICAgLy8gYnJlYWsgYW5kIGRvbid0IHByb2Nlc3MgYW55IG1vcmUgYmVmb3JlIG1pZGRsZXdhcmVcbiAgICAgICAgICAgICAgICAgICAgbmV4dChyZXNvdXJjZS5pc0NvbXBsZXRlID8ge30gOiBudWxsKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc291cmNlLmlzQ29tcGxldGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fb25Mb2FkKHJlc291cmNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc291cmNlLl9vbkxvYWRCaW5kaW5nID0gcmVzb3VyY2Uub25Db21wbGV0ZS5vbmNlKHRoaXMuX29uTG9hZCwgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIHJlc291cmNlLmxvYWQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdHJ1ZVxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGxlZCBvbmNlIGxvYWRpbmcgaGFzIHN0YXJ0ZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9vblN0YXJ0KCkge1xuICAgICAgICB0aGlzLnByb2dyZXNzID0gMDtcbiAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5vblN0YXJ0LmRpc3BhdGNoKHRoaXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGxlZCBvbmNlIGVhY2ggcmVzb3VyY2UgaGFzIGxvYWRlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX29uQ29tcGxldGUoKSB7XG4gICAgICAgIHRoaXMucHJvZ3Jlc3MgPSBNQVhfUFJPR1JFU1M7XG4gICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLm9uQ29tcGxldGUuZGlzcGF0Y2godGhpcywgdGhpcy5yZXNvdXJjZXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGxlZCBlYWNoIHRpbWUgYSByZXNvdXJjZXMgaXMgbG9hZGVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1Jlc291cmNlfSByZXNvdXJjZSAtIFRoZSByZXNvdXJjZSB0aGF0IHdhcyBsb2FkZWRcbiAgICAgKi9cbiAgICBfb25Mb2FkKHJlc291cmNlKSB7XG4gICAgICAgIHJlc291cmNlLl9vbkxvYWRCaW5kaW5nID0gbnVsbDtcblxuICAgICAgICAvLyByZW1vdmUgdGhpcyByZXNvdXJjZSBmcm9tIHRoZSBhc3luYyBxdWV1ZSwgYW5kIGFkZCBpdCB0byBvdXIgbGlzdCBvZiByZXNvdXJjZXMgdGhhdCBhcmUgYmVpbmcgcGFyc2VkXG4gICAgICAgIHRoaXMuX3Jlc291cmNlc1BhcnNpbmcucHVzaChyZXNvdXJjZSk7XG4gICAgICAgIHJlc291cmNlLl9kZXF1ZXVlKCk7XG5cbiAgICAgICAgLy8gcnVuIGFsbCB0aGUgYWZ0ZXIgbWlkZGxld2FyZSBmb3IgdGhpcyByZXNvdXJjZVxuICAgICAgICBhc3luYy5lYWNoU2VyaWVzKFxuICAgICAgICAgICAgdGhpcy5fYWZ0ZXJNaWRkbGV3YXJlLFxuICAgICAgICAgICAgKGZuLCBuZXh0KSA9PiB7XG4gICAgICAgICAgICAgICAgZm4uY2FsbCh0aGlzLCByZXNvdXJjZSwgbmV4dCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlc291cmNlLm9uQWZ0ZXJNaWRkbGV3YXJlLmRpc3BhdGNoKHJlc291cmNlKTtcblxuICAgICAgICAgICAgICAgIHRoaXMucHJvZ3Jlc3MgPSBNYXRoLm1pbihNQVhfUFJPR1JFU1MsIHRoaXMucHJvZ3Jlc3MgKyByZXNvdXJjZS5wcm9ncmVzc0NodW5rKTtcbiAgICAgICAgICAgICAgICB0aGlzLm9uUHJvZ3Jlc3MuZGlzcGF0Y2godGhpcywgcmVzb3VyY2UpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHJlc291cmNlLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25FcnJvci5kaXNwYXRjaChyZXNvdXJjZS5lcnJvciwgdGhpcywgcmVzb3VyY2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkxvYWQuZGlzcGF0Y2godGhpcywgcmVzb3VyY2UpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuX3Jlc291cmNlc1BhcnNpbmcuc3BsaWNlKHRoaXMuX3Jlc291cmNlc1BhcnNpbmcuaW5kZXhPZihyZXNvdXJjZSksIDEpO1xuXG4gICAgICAgICAgICAgICAgLy8gZG8gY29tcGxldGlvbiBjaGVja1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9xdWV1ZS5pZGxlKCkgJiYgdGhpcy5fcmVzb3VyY2VzUGFyc2luZy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fb25Db21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0cnVlXG4gICAgICAgICk7XG4gICAgfVxufVxuXG4vKipcbiAqIEEgZGVmYXVsdCBhcnJheSBvZiBtaWRkbGV3YXJlIHRvIHJ1biBiZWZvcmUgbG9hZGluZyBlYWNoIHJlc291cmNlLlxuICogRWFjaCBvZiB0aGVzZSBtaWRkbGV3YXJlcyBhcmUgYWRkZWQgdG8gYW55IG5ldyBMb2FkZXIgaW5zdGFuY2VzIHdoZW4gdGhleSBhcmUgY3JlYXRlZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG1lbWJlciB7ZnVuY3Rpb25bXX1cbiAqL1xuTG9hZGVyLl9kZWZhdWx0QmVmb3JlTWlkZGxld2FyZSA9IFtdO1xuXG4vKipcbiAqIEEgZGVmYXVsdCBhcnJheSBvZiBtaWRkbGV3YXJlIHRvIHJ1biBhZnRlciBsb2FkaW5nIGVhY2ggcmVzb3VyY2UuXG4gKiBFYWNoIG9mIHRoZXNlIG1pZGRsZXdhcmVzIGFyZSBhZGRlZCB0byBhbnkgbmV3IExvYWRlciBpbnN0YW5jZXMgd2hlbiB0aGV5IGFyZSBjcmVhdGVkLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyIHtmdW5jdGlvbltdfVxuICovXG5Mb2FkZXIuX2RlZmF1bHRBZnRlck1pZGRsZXdhcmUgPSBbXTtcblxuLyoqXG4gKiBTZXRzIHVwIGEgbWlkZGxld2FyZSBmdW5jdGlvbiB0aGF0IHdpbGwgcnVuICpiZWZvcmUqIHRoZVxuICogcmVzb3VyY2UgaXMgbG9hZGVkLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuIC0gVGhlIG1pZGRsZXdhcmUgZnVuY3Rpb24gdG8gcmVnaXN0ZXIuXG4gKiBAcmV0dXJuIHtMb2FkZXJ9IFJldHVybnMgaXRzZWxmLlxuICovXG5Mb2FkZXIucHJlID0gZnVuY3Rpb24gTG9hZGVyUHJlU3RhdGljKGZuKSB7XG4gICAgTG9hZGVyLl9kZWZhdWx0QmVmb3JlTWlkZGxld2FyZS5wdXNoKGZuKTtcblxuICAgIHJldHVybiBMb2FkZXI7XG59O1xuXG4vKipcbiAqIFNldHMgdXAgYSBtaWRkbGV3YXJlIGZ1bmN0aW9uIHRoYXQgd2lsbCBydW4gKmFmdGVyKiB0aGVcbiAqIHJlc291cmNlIGlzIGxvYWRlZC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBmbiAtIFRoZSBtaWRkbGV3YXJlIGZ1bmN0aW9uIHRvIHJlZ2lzdGVyLlxuICogQHJldHVybiB7TG9hZGVyfSBSZXR1cm5zIGl0c2VsZi5cbiAqL1xuTG9hZGVyLnVzZSA9IGZ1bmN0aW9uIExvYWRlclVzZVN0YXRpYyhmbikge1xuICAgIExvYWRlci5fZGVmYXVsdEFmdGVyTWlkZGxld2FyZS5wdXNoKGZuKTtcblxuICAgIHJldHVybiBMb2FkZXI7XG59O1xuXG5leHBvcnQgeyBMb2FkZXIgfTtcblxuIiwiaW1wb3J0IHsgUmVzb3VyY2UgfSBmcm9tICdyZXNvdXJjZS1sb2FkZXInO1xuXG5pbXBvcnQgdHlwZSB7IFNwcml0ZXNoZWV0IH0gZnJvbSAnQHBpeGkvc3ByaXRlc2hlZXQnO1xuaW1wb3J0IHR5cGUgeyBUZXh0dXJlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgdHlwZSB7IERpY3QgfSBmcm9tICdAcGl4aS91dGlscyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVJlc291cmNlTWV0YWRhdGEgZXh0ZW5kcyBHbG9iYWxNaXhpbnMuSVJlc291cmNlTWV0YWRhdGEsIFJlc291cmNlLklNZXRhZGF0YSB7XG4gICAgaW1hZ2VNZXRhZGF0YT86IGFueTtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgSUxvYWRlclJlc291cmNlIGV4dGVuZHMgR2xvYmFsTWl4aW5zLklMb2FkZXJSZXNvdXJjZSwgUmVzb3VyY2VcbntcbiAgICB0ZXh0dXJlPzogVGV4dHVyZTtcbiAgICBzcHJpdGVzaGVldD86IFNwcml0ZXNoZWV0O1xuXG4gICAgLy8gcmVxdWlyZWQgZm9yIFNwcml0ZXNoZWV0XG4gICAgdGV4dHVyZXM/OiBEaWN0PFRleHR1cmU+O1xuXG4gICAgLy8gcmVxdWlyZWQgc3BlY2lmaWMgdHlwZSBmb3IgU3ByaXRlc2hlZXRcbiAgICBtZXRhZGF0YTogSVJlc291cmNlTWV0YWRhdGE7XG59XG5cbi8vIE1peCBjb25zdHJ1Y3RvciBhbmQgdHlwZW9mIFJlc291cmNlICwgb3RoZXJ3aXNlIHdlIGNhbid0IGFjY2VzcyB0byBzdGF0aWNzIGZpZWxkXG50eXBlIFRMb2FkZXJSZXNvdXJjZSA9IHsgbmV3KC4uLmFyZ3M6IGFueVtdKTogSUxvYWRlclJlc291cmNlIH0gJiB0eXBlb2YgUmVzb3VyY2U7XG5cbi8qKlxuKiBSZWZlcmVuY2UgdG8gKip7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL2VuZ2xlcmNqL3Jlc291cmNlLWxvYWRlclxuKiByZXNvdXJjZS1sb2FkZXJ9KioncyBSZXNvdXJjZSBjbGFzcy5cbiogQHNlZSBodHRwOi8vZW5nbGVyY2ouZ2l0aHViLmlvL3Jlc291cmNlLWxvYWRlci9SZXNvdXJjZS5odG1sXG4qIEBjbGFzcyBMb2FkZXJSZXNvdXJjZVxuKiBAbWVtYmVyb2YgUElYSVxuKi9cbmV4cG9ydCBjb25zdCBMb2FkZXJSZXNvdXJjZTogVExvYWRlclJlc291cmNlID0gUmVzb3VyY2U7XG4iLCJpbXBvcnQgeyBSZXNvdXJjZSB9IGZyb20gJ3Jlc291cmNlLWxvYWRlcic7XG5pbXBvcnQgeyBUZXh0dXJlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5cbmltcG9ydCB0eXBlIHsgSUxvYWRlclJlc291cmNlIH0gZnJvbSAnLi9Mb2FkZXJSZXNvdXJjZSc7XG5cbi8qKlxuICogTG9hZGVyIHBsdWdpbiBmb3IgaGFuZGxpbmcgVGV4dHVyZSByZXNvdXJjZXMuXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAaW1wbGVtZW50cyBQSVhJLklMb2FkZXJQbHVnaW5cbiAqL1xuZXhwb3J0IGNsYXNzIFRleHR1cmVMb2FkZXJcbntcbiAgICAvKipcbiAgICAgKiBDYWxsZWQgYWZ0ZXIgYSByZXNvdXJjZSBpcyBsb2FkZWQuXG4gICAgICogQHNlZSBQSVhJLkxvYWRlci5sb2FkZXJNaWRkbGV3YXJlXG4gICAgICogQHBhcmFtIHtQSVhJLkxvYWRlclJlc291cmNlfSByZXNvdXJjZVxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IG5leHRcbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIHVzZShyZXNvdXJjZTogSUxvYWRlclJlc291cmNlLCBuZXh0OiAoLi4uYXJnczogYW55W10pID0+IHZvaWQpOiB2b2lkXG4gICAge1xuICAgICAgICAvLyBjcmVhdGUgYSBuZXcgdGV4dHVyZSBpZiB0aGUgZGF0YSBpcyBhbiBJbWFnZSBvYmplY3RcbiAgICAgICAgaWYgKHJlc291cmNlLmRhdGEgJiYgcmVzb3VyY2UudHlwZSA9PT0gUmVzb3VyY2UuVFlQRS5JTUFHRSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmVzb3VyY2UudGV4dHVyZSA9IFRleHR1cmUuZnJvbUxvYWRlcihcbiAgICAgICAgICAgICAgICByZXNvdXJjZS5kYXRhLFxuICAgICAgICAgICAgICAgIHJlc291cmNlLnVybCxcbiAgICAgICAgICAgICAgICByZXNvdXJjZS5uYW1lXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIG5leHQoKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBMb2FkZXIgYXMgUmVzb3VyY2VMb2FkZXIsIG1pZGRsZXdhcmUgfSBmcm9tICdyZXNvdXJjZS1sb2FkZXInO1xuaW1wb3J0IHsgVGV4dHVyZUxvYWRlciB9IGZyb20gJy4vVGV4dHVyZUxvYWRlcic7XG5cbmltcG9ydCB0eXBlIHsgUmVzb3VyY2UgfSBmcm9tICdyZXNvdXJjZS1sb2FkZXInO1xuXG4vKipcbiAqIFRoZSBuZXcgbG9hZGVyLCBleHRlbmRzIFJlc291cmNlIExvYWRlciBieSBDaGFkIEVuZ2xlcjogaHR0cHM6Ly9naXRodWIuY29tL2VuZ2xlcmNqL3Jlc291cmNlLWxvYWRlclxuICpcbiAqIGBgYGpzXG4gKiBjb25zdCBsb2FkZXIgPSBQSVhJLkxvYWRlci5zaGFyZWQ7IC8vIFBpeGlKUyBleHBvc2VzIGEgcHJlbWFkZSBpbnN0YW5jZSBmb3IgeW91IHRvIHVzZS5cbiAqIC8vb3JcbiAqIGNvbnN0IGxvYWRlciA9IG5ldyBQSVhJLkxvYWRlcigpOyAvLyB5b3UgY2FuIGFsc28gY3JlYXRlIHlvdXIgb3duIGlmIHlvdSB3YW50XG4gKlxuICogY29uc3Qgc3ByaXRlcyA9IHt9O1xuICpcbiAqIC8vIENoYWluYWJsZSBgYWRkYCB0byBlbnF1ZXVlIGEgcmVzb3VyY2VcbiAqIGxvYWRlci5hZGQoJ2J1bm55JywgJ2RhdGEvYnVubnkucG5nJylcbiAqICAgICAgIC5hZGQoJ3NwYWNlc2hpcCcsICdhc3NldHMvc3ByaXRlc2hlZXQuanNvbicpO1xuICogbG9hZGVyLmFkZCgnc2NvcmVGb250JywgJ2Fzc2V0cy9zY29yZS5mbnQnKTtcbiAqXG4gKiAvLyBDaGFpbmFibGUgYHByZWAgdG8gYWRkIGEgbWlkZGxld2FyZSB0aGF0IHJ1bnMgZm9yIGVhY2ggcmVzb3VyY2UsICpiZWZvcmUqIGxvYWRpbmcgdGhhdCByZXNvdXJjZS5cbiAqIC8vIFRoaXMgaXMgdXNlZnVsIHRvIGltcGxlbWVudCBjdXN0b20gY2FjaGluZyBtb2R1bGVzICh1c2luZyBmaWxlc3lzdGVtLCBpbmRleGVkZGIsIG1lbW9yeSwgZXRjKS5cbiAqIGxvYWRlci5wcmUoY2FjaGluZ01pZGRsZXdhcmUpO1xuICpcbiAqIC8vIENoYWluYWJsZSBgdXNlYCB0byBhZGQgYSBtaWRkbGV3YXJlIHRoYXQgcnVucyBmb3IgZWFjaCByZXNvdXJjZSwgKmFmdGVyKiBsb2FkaW5nIHRoYXQgcmVzb3VyY2UuXG4gKiAvLyBUaGlzIGlzIHVzZWZ1bCB0byBpbXBsZW1lbnQgY3VzdG9tIHBhcnNpbmcgbW9kdWxlcyAobGlrZSBzcHJpdGVzaGVldCBwYXJzZXJzLCBzcGluZSBwYXJzZXIsIGV0YykuXG4gKiBsb2FkZXIudXNlKHBhcnNpbmdNaWRkbGV3YXJlKTtcbiAqXG4gKiAvLyBUaGUgYGxvYWRgIG1ldGhvZCBsb2FkcyB0aGUgcXVldWUgb2YgcmVzb3VyY2VzLCBhbmQgY2FsbHMgdGhlIHBhc3NlZCBpbiBjYWxsYmFjayBjYWxsZWQgb25jZSBhbGxcbiAqIC8vIHJlc291cmNlcyBoYXZlIGxvYWRlZC5cbiAqIGxvYWRlci5sb2FkKChsb2FkZXIsIHJlc291cmNlcykgPT4ge1xuICogICAgIC8vIHJlc291cmNlcyBpcyBhbiBvYmplY3Qgd2hlcmUgdGhlIGtleSBpcyB0aGUgbmFtZSBvZiB0aGUgcmVzb3VyY2UgbG9hZGVkIGFuZCB0aGUgdmFsdWUgaXMgdGhlIHJlc291cmNlIG9iamVjdC5cbiAqICAgICAvLyBUaGV5IGhhdmUgYSBjb3VwbGUgZGVmYXVsdCBwcm9wZXJ0aWVzOlxuICogICAgIC8vIC0gYHVybGA6IFRoZSBVUkwgdGhhdCB0aGUgcmVzb3VyY2Ugd2FzIGxvYWRlZCBmcm9tXG4gKiAgICAgLy8gLSBgZXJyb3JgOiBUaGUgZXJyb3IgdGhhdCBoYXBwZW5lZCB3aGVuIHRyeWluZyB0byBsb2FkIChpZiBhbnkpXG4gKiAgICAgLy8gLSBgZGF0YWA6IFRoZSByYXcgZGF0YSB0aGF0IHdhcyBsb2FkZWRcbiAqICAgICAvLyBhbHNvIG1heSBjb250YWluIG90aGVyIHByb3BlcnRpZXMgYmFzZWQgb24gdGhlIG1pZGRsZXdhcmUgdGhhdCBydW5zLlxuICogICAgIHNwcml0ZXMuYnVubnkgPSBuZXcgUElYSS5UaWxpbmdTcHJpdGUocmVzb3VyY2VzLmJ1bm55LnRleHR1cmUpO1xuICogICAgIHNwcml0ZXMuc3BhY2VzaGlwID0gbmV3IFBJWEkuVGlsaW5nU3ByaXRlKHJlc291cmNlcy5zcGFjZXNoaXAudGV4dHVyZSk7XG4gKiAgICAgc3ByaXRlcy5zY29yZUZvbnQgPSBuZXcgUElYSS5UaWxpbmdTcHJpdGUocmVzb3VyY2VzLnNjb3JlRm9udC50ZXh0dXJlKTtcbiAqIH0pO1xuICpcbiAqIC8vIHRocm91Z2hvdXQgdGhlIHByb2Nlc3MgbXVsdGlwbGUgc2lnbmFscyBjYW4gYmUgZGlzcGF0Y2hlZC5cbiAqIGxvYWRlci5vblByb2dyZXNzLmFkZCgoKSA9PiB7fSk7IC8vIGNhbGxlZCBvbmNlIHBlciBsb2FkZWQvZXJyb3JlZCBmaWxlXG4gKiBsb2FkZXIub25FcnJvci5hZGQoKCkgPT4ge30pOyAvLyBjYWxsZWQgb25jZSBwZXIgZXJyb3JlZCBmaWxlXG4gKiBsb2FkZXIub25Mb2FkLmFkZCgoKSA9PiB7fSk7IC8vIGNhbGxlZCBvbmNlIHBlciBsb2FkZWQgZmlsZVxuICogbG9hZGVyLm9uQ29tcGxldGUuYWRkKCgpID0+IHt9KTsgLy8gY2FsbGVkIG9uY2Ugd2hlbiB0aGUgcXVldWVkIHJlc291cmNlcyBhbGwgbG9hZC5cbiAqIGBgYFxuICpcbiAqIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2VuZ2xlcmNqL3Jlc291cmNlLWxvYWRlclxuICpcbiAqIEBjbGFzcyBMb2FkZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAcGFyYW0ge3N0cmluZ30gW2Jhc2VVcmw9JyddIC0gVGhlIGJhc2UgdXJsIGZvciBhbGwgcmVzb3VyY2VzIGxvYWRlZCBieSB0aGlzIGxvYWRlci5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbY29uY3VycmVuY3k9MTBdIC0gVGhlIG51bWJlciBvZiByZXNvdXJjZXMgdG8gbG9hZCBjb25jdXJyZW50bHkuXG4gKi9cbmV4cG9ydCBjbGFzcyBMb2FkZXIgZXh0ZW5kcyBSZXNvdXJjZUxvYWRlclxue1xuICAgIC8qKlxuICAgICAqIENvbGxlY3Rpb24gb2YgYWxsIGluc3RhbGxlZCBgdXNlYCBtaWRkbGV3YXJlIGZvciBMb2FkZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlciB7QXJyYXk8UElYSS5JTG9hZGVyUGx1Z2luPn0gX3BsdWdpbnNcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5Mb2FkZXJcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHByaXZhdGUgc3RhdGljIF9wbHVnaW5zOiBBcnJheTxJTG9hZGVyUGx1Z2luPiA9IFtdO1xuICAgIHByaXZhdGUgc3RhdGljIF9zaGFyZWQ6IExvYWRlcjtcbiAgICBwcml2YXRlIF9wcm90ZWN0ZWQ6IGJvb2xlYW47XG5cbiAgICBjb25zdHJ1Y3RvcihiYXNlVXJsPzogc3RyaW5nLCBjb25jdXJyZW5jeT86IG51bWJlcilcbiAgICB7XG4gICAgICAgIHN1cGVyKGJhc2VVcmwsIGNvbmN1cnJlbmN5KTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IExvYWRlci5fcGx1Z2lucy5sZW5ndGg7ICsraSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgcGx1Z2luID0gTG9hZGVyLl9wbHVnaW5zW2ldO1xuICAgICAgICAgICAgY29uc3QgeyBwcmUsIHVzZSB9ID0gcGx1Z2luO1xuXG4gICAgICAgICAgICBpZiAocHJlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMucHJlKHByZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh1c2UpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy51c2UodXNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0aGlzIGxvYWRlciBjYW5ub3QgYmUgZGVzdHJveWVkLlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fcHJvdGVjdGVkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVzdHJveSB0aGUgbG9hZGVyLCByZW1vdmVzIHJlZmVyZW5jZXMuXG4gICAgICogQG1lbWJlcm9mIFBJWEkuTG9hZGVyI1xuICAgICAqIEBtZXRob2QgZGVzdHJveVxuICAgICAqIEBwdWJsaWNcbiAgICAgKi9cbiAgICBwdWJsaWMgZGVzdHJveSgpOiB2b2lkXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMuX3Byb3RlY3RlZClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBwcmVtYWRlIGluc3RhbmNlIG9mIHRoZSBsb2FkZXIgdGhhdCBjYW4gYmUgdXNlZCB0byBsb2FkIHJlc291cmNlcy5cbiAgICAgKiBAbmFtZSBzaGFyZWRcbiAgICAgKiBAdHlwZSB7UElYSS5Mb2FkZXJ9XG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJvZiBQSVhJLkxvYWRlclxuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IHNoYXJlZCgpOiBMb2FkZXJcbiAgICB7XG4gICAgICAgIGxldCBzaGFyZWQgPSBMb2FkZXIuX3NoYXJlZDtcblxuICAgICAgICBpZiAoIXNoYXJlZClcbiAgICAgICAge1xuICAgICAgICAgICAgc2hhcmVkID0gbmV3IExvYWRlcigpO1xuICAgICAgICAgICAgc2hhcmVkLl9wcm90ZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgTG9hZGVyLl9zaGFyZWQgPSBzaGFyZWQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc2hhcmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBMb2FkZXIgcGx1Z2luIGZvciB0aGUgZ2xvYmFsIHNoYXJlZCBsb2FkZXIgYW5kIGFsbFxuICAgICAqIG5ldyBMb2FkZXIgaW5zdGFuY2VzIGNyZWF0ZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1ldGhvZCByZWdpc3RlclBsdWdpblxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkxvYWRlclxuICAgICAqIEBwYXJhbSB7UElYSS5JTG9hZGVyUGx1Z2lufSBwbHVnaW4gLSBUaGUgcGx1Z2luIHRvIGFkZFxuICAgICAqIEByZXR1cm4ge1BJWEkuTG9hZGVyfSBSZWZlcmVuY2UgdG8gUElYSS5Mb2FkZXIgZm9yIGNoYWluaW5nXG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyByZWdpc3RlclBsdWdpbihwbHVnaW46IElMb2FkZXJQbHVnaW4pOiB0eXBlb2YgTG9hZGVyXG4gICAge1xuICAgICAgICBMb2FkZXIuX3BsdWdpbnMucHVzaChwbHVnaW4pO1xuXG4gICAgICAgIGlmIChwbHVnaW4uYWRkKVxuICAgICAgICB7XG4gICAgICAgICAgICBwbHVnaW4uYWRkKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gTG9hZGVyO1xuICAgIH1cbn1cblxuLy8gcGFyc2UgYW55IGJsb2IgaW50byBtb3JlIHVzYWJsZSBvYmplY3RzIChlLmcuIEltYWdlKVxuTG9hZGVyLnJlZ2lzdGVyUGx1Z2luKHsgdXNlOiBtaWRkbGV3YXJlLnBhcnNpbmcgfSk7XG5cbi8vIHBhcnNlIGFueSBJbWFnZSBvYmplY3RzIGludG8gdGV4dHVyZXNcbkxvYWRlci5yZWdpc3RlclBsdWdpbihUZXh0dXJlTG9hZGVyKTtcblxuZXhwb3J0IGludGVyZmFjZSBJTG9hZGVyUGx1Z2luIHtcbiAgICBhZGQ/KCk6IHZvaWQ7XG4gICAgcHJlPyhyZXNvdXJjZTogUmVzb3VyY2UsIG5leHQ/OiAoLi4uYXJnczogYW55W10pID0+IHZvaWQpOiB2b2lkO1xuICAgIHVzZT8ocmVzb3VyY2U6IFJlc291cmNlLCBuZXh0PzogKC4uLmFyZ3M6IGFueVtdKSA9PiB2b2lkKTogdm9pZDtcbn1cblxuLyoqXG4gKiBQbHVnaW4gdG8gYmUgaW5zdGFsbGVkIGZvciBoYW5kbGluZyBzcGVjaWZpYyBMb2FkZXIgcmVzb3VyY2VzLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBJTG9hZGVyUGx1Z2luXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9ufSBbYWRkXSAtIEZ1bmN0aW9uIHRvIGNhbGwgaW1tZWRpYXRlIGFmdGVyIHJlZ2lzdGVyaW5nIHBsdWdpbi5cbiAqIEBwcm9wZXJ0eSB7UElYSS5Mb2FkZXIubG9hZGVyTWlkZGxld2FyZX0gW3ByZV0gLSBNaWRkbGV3YXJlIGZ1bmN0aW9uIHRvIHJ1biBiZWZvcmUgbG9hZCwgdGhlXG4gKiAgICAgICAgICAgYXJndW1lbnRzIGZvciB0aGlzIGFyZSBgKHJlc291cmNlLCBuZXh0KWBcbiAqIEBwcm9wZXJ0eSB7UElYSS5Mb2FkZXIubG9hZGVyTWlkZGxld2FyZX0gW3VzZV0gLSBNaWRkbGV3YXJlIGZ1bmN0aW9uIHRvIHJ1biBhZnRlciBsb2FkLCB0aGVcbiAqICAgICAgICAgICBhcmd1bWVudHMgZm9yIHRoaXMgYXJlIGAocmVzb3VyY2UsIG5leHQpYFxuICovXG5cbi8qKlxuICogQG1lbWJlcm9mIFBJWEkuTG9hZGVyXG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBJQ2FsbGJhY2tJRFxuICovXG5cbi8qKlxuICogQG1lbWJlcm9mIFBJWEkuTG9hZGVyXG4gKiBAdHlwZWRlZiB7ZnVuY3Rpb259IElTaWduYWxDYWxsYmFja1xuICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2sgLSBDYWxsYmFjayBmdW5jdGlvblxuICogQHBhcmFtIHtvYmplY3R9IFtjb250ZXh0XSAtIENvbnRleHRcbiAqIEByZXR1cm5zIHtJQ2FsbGJhY2tJRH0gLSBDYWxsYmFja0lEXG4gKi9cblxuLyoqXG4gKiBAbWVtYmVyb2YgUElYSS5Mb2FkZXJcbiAqIEB0eXBlZGVmIHtmdW5jdGlvbn0gSVNpZ25hbERldGFjaFxuICogQHBhcmFtIHtJQ2FsbGJhY2tJRH0gaWQgLSBDYWxsYmFja0lEIHJldHVybmVkIGJ5IGBhZGRgL2BvbmNlYCBtZXRob2RzXG4gKi9cblxuLyoqXG4gKiBAbWVtYmVyb2YgUElYSS5Mb2FkZXJcbiAqIEB0eXBlZGVmIElMb2FkZXJTaWduYWxcbiAqIEBwcm9wZXJ0eSB7SVNpZ25hbENhbGxiYWNrfSBhZGQgLSBSZWdpc3RlciBjYWxsYmFja1xuICogQHByb3BlcnR5IHtJU2lnbmFsQ2FsbGJhY2t9IG9uY2UgLSBSZWdpc3RlciBvbmVzaG90IGNhbGxiYWNrXG4gKiBAcHJvcGVydHkge0lTaWduYWxEZXRhY2h9IGRldGFjaCAtIERldGFjaCBzcGVjaWZpYyBjYWxsYmFjayBieSBJRFxuICovXG5cbi8qKlxuICogQG1lbWJlcm9mIFBJWEkuTG9hZGVyXG4gKiBAY2FsbGJhY2sgbG9hZGVyTWlkZGxld2FyZVxuICogQHBhcmFtIHtQSVhJLkxvYWRlclJlc291cmNlfSByZXNvdXJjZVxuICogQHBhcmFtIHtmdW5jdGlvbn0gbmV4dFxuICovXG5cbi8qKlxuICogQG1lbWJlcm9mIFBJWEkuTG9hZGVyI1xuICogQGRlc2NyaXB0aW9uIERpc3BhdGNoZWQgd2hlbiB0aGUgbG9hZGVyIGJlZ2lucyB0byBsb2FkaW5nIHByb2Nlc3MuXG4gKiBAbWVtYmVyIHtQSVhJLkxvYWRlci5JTG9hZGVyU2lnbmFsfSBvblN0YXJ0XG4gKi9cblxuLyoqXG4gKiBAbWVtYmVyb2YgUElYSS5Mb2FkZXIjXG4gKiBAZGVzY3JpcHRpb24gRGlzcGF0Y2hlZCBvbmNlIHBlciBsb2FkZWQgb3IgZXJyb3JlZCByZXNvdXJjZS5cbiAqIEBtZW1iZXIge1BJWEkuTG9hZGVyLklMb2FkZXJTaWduYWx9IG9uUHJvZ3Jlc3NcbiAqL1xuXG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJLkxvYWRlciNcbiAqIEBkZXNjcmlwdGlvbiBEaXNwYXRjaGVkIG9uY2UgcGVyIGVycm9yZWQgcmVzb3VyY2UuXG4gKiBAbWVtYmVyIHtQSVhJLkxvYWRlci5JTG9hZGVyU2lnbmFsfSBvbkVycm9yXG4gKi9cblxuLyoqXG4gKiBAbWVtYmVyb2YgUElYSS5Mb2FkZXIjXG4gKiBAZGVzY3JpcHRpb24gRGlzcGF0Y2hlZCBvbmNlIHBlciBsb2FkZWQgcmVzb3VyY2UuXG4gKiBAbWVtYmVyIHtQSVhJLkxvYWRlci5JTG9hZGVyU2lnbmFsfSBvbkxvYWRcbiAqL1xuXG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJLkxvYWRlciNcbiAqIEBkZXNjcmlwdGlvbiBEaXNwYXRjaGVkIHdoZW4gY29tcGxldGVseSBsb2FkZWQgYWxsIHJlc291cmNlcy5cbiAqIEBtZW1iZXIge1BJWEkuTG9hZGVyLklMb2FkZXJTaWduYWx9IG9uQ29tcGxldGVcbiAqL1xuIiwiaW1wb3J0IHsgTG9hZGVyIH0gZnJvbSAnLi9Mb2FkZXInO1xuXG5pbXBvcnQgdHlwZSB7IElBcHBsaWNhdGlvbk9wdGlvbnMgfSBmcm9tICdAcGl4aS9hcHAnO1xuLyoqXG4gKiBBcHBsaWNhdGlvbiBwbHVnaW4gZm9yIHN1cHBvcnRpbmcgbG9hZGVyIG9wdGlvbi4gSW5zdGFsbGluZyB0aGUgTG9hZGVyUGx1Z2luXG4gKiBpcyBub3QgbmVjZXNzYXJ5IGlmIHVzaW5nICoqcGl4aS5qcyoqIG9yICoqcGl4aS5qcy1sZWdhY3kqKi5cbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQge0FwcExvYWRlclBsdWdpbn0gZnJvbSAnQHBpeGkvbG9hZGVycyc7XG4gKiBpbXBvcnQge0FwcGxpY2F0aW9ufSBmcm9tICdAcGl4aS9hcHAnO1xuICogQXBwbGljYXRpb24ucmVnaXN0ZXJQbHVnaW4oQXBwTG9hZGVyUGx1Z2luKTtcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGNsYXNzIEFwcExvYWRlclBsdWdpblxue1xuICAgIHB1YmxpYyBzdGF0aWMgbG9hZGVyOiBMb2FkZXI7XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIG9uIGFwcGxpY2F0aW9uIGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHN0YXRpYyBpbml0KG9wdGlvbnM/OiBJQXBwbGljYXRpb25PcHRpb25zKTogdm9pZFxuICAgIHtcbiAgICAgICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgc2hhcmVkTG9hZGVyOiBmYWxzZSxcbiAgICAgICAgfSwgb3B0aW9ucyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIExvYWRlciBpbnN0YW5jZSB0byBoZWxwIHdpdGggYXNzZXQgbG9hZGluZy5cbiAgICAgICAgICogQG5hbWUgUElYSS5BcHBsaWNhdGlvbiNsb2FkZXJcbiAgICAgICAgICogQHR5cGUge1BJWEkuTG9hZGVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubG9hZGVyID0gb3B0aW9ucy5zaGFyZWRMb2FkZXIgPyBMb2FkZXIuc2hhcmVkIDogbmV3IExvYWRlcigpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIGFwcGxpY2F0aW9uIGRlc3Ryb3llZFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgc3RhdGljIGRlc3Ryb3koKTogdm9pZFxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMubG9hZGVyKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmxvYWRlci5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLmxvYWRlciA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCIvKipcbiAqIFN1cHBvcnRlZCBsaW5lIGpvaW50cyBpbiBgUElYSS5MaW5lU3R5bGVgIGZvciBncmFwaGljcy5cbiAqXG4gKiBAc2VlIFBJWEkuR3JhcGhpY3MjbGluZVN0eWxlXG4gKiBAc2VlIGh0dHBzOi8vZ3JhcGhpY2Rlc2lnbi5zdGFja2V4Y2hhbmdlLmNvbS9xdWVzdGlvbnMvNTkwMTgvd2hhdC1pcy1hLWJldmVsLWpvaW4tb2YtdHdvLWxpbmVzLWV4YWN0bHktaWxsdXN0cmF0b3JcbiAqXG4gKiBAbmFtZSBMSU5FX0pPSU5cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAZW51bSB7c3RyaW5nfVxuICogQHByb3BlcnR5IHtzdHJpbmd9IE1JVEVSIC0gJ21pdGVyJzogbWFrZSBhIHNoYXJwIGNvcm5lciB3aGVyZSBvdXRlciBwYXJ0IG9mIGxpbmVzIG1lZXRcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBCRVZFTCAtICdiZXZlbCc6IGFkZCBhIHNxdWFyZSBidXR0IGF0IGVhY2ggZW5kIG9mIGxpbmUgc2VnbWVudCBhbmQgZmlsbCB0aGUgdHJpYW5nbGUgYXQgdHVyblxuICogQHByb3BlcnR5IHtzdHJpbmd9IFJPVU5EIC0gJ3JvdW5kJzogYWRkIGFuIGFyYyBhdCB0aGUgam9pbnRcbiAqL1xuZXhwb3J0IGVudW0gTElORV9KT0lOIHtcbiAgICBNSVRFUiA9ICdtaXRlcicsXG4gICAgQkVWRUwgPSAnYmV2ZWwnLFxuICAgIFJPVU5EID0gJ3JvdW5kJ1xufVxuXG4vKipcbiAqIFN1cHBvcnQgbGluZSBjYXBzIGluIGBQSVhJLkxpbmVTdHlsZWAgZm9yIGdyYXBoaWNzLlxuICpcbiAqIEBzZWUgUElYSS5HcmFwaGljcyNsaW5lU3R5bGVcbiAqXG4gKiBAbmFtZSBMSU5FX0NBUFxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKiBAcHJvcGVydHkge3N0cmluZ30gQlVUVCAtICdidXR0JzogZG9uJ3QgYWRkIGFueSBjYXAgYXQgbGluZSBlbmRzIChsZWF2ZXMgb3J0aG9nb25hbCBlZGdlcylcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBST1VORCAtICdyb3VuZCc6IGFkZCBzZW1pY2lyY2xlIGF0IGVuZHNcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBTUVVBUkUgLSAnc3F1YXJlJzogYWRkIHNxdWFyZSBhdCBlbmQgKGxpa2UgYEJVVFRgIGV4Y2VwdCBtb3JlIGxlbmd0aCBhdCBlbmQpXG4gKi9cbmV4cG9ydCBlbnVtIExJTkVfQ0FQIHtcbiAgICBCVVRUID0gJ2J1dHQnLFxuICAgIFJPVU5EID0gJ3JvdW5kJyxcbiAgICBTUVVBUkUgPSAnc3F1YXJlJ1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElHcmFwaGljc0N1cnZlc1NldHRpbmdzIHtcbiAgICBhZGFwdGl2ZTogYm9vbGVhbjtcbiAgICBtYXhMZW5ndGg6IG51bWJlcjtcbiAgICBtaW5TZWdtZW50czogbnVtYmVyO1xuICAgIG1heFNlZ21lbnRzOiBudW1iZXI7XG5cbiAgICBlcHNpbG9uOiBudW1iZXI7XG5cbiAgICBfc2VnbWVudHNDb3VudChsZW5ndGg6IG51bWJlciwgZGVmYXVsdFNlZ21lbnRzPzogbnVtYmVyKTogbnVtYmVyO1xufVxuXG4vKipcbiAqIEdyYXBoaWNzIGN1cnZlcyByZXNvbHV0aW9uIHNldHRpbmdzLiBJZiBgYWRhcHRpdmVgIGZsYWcgaXMgc2V0IHRvIGB0cnVlYCxcbiAqIHRoZSByZXNvbHV0aW9uIGlzIGNhbGN1bGF0ZWQgYmFzZWQgb24gdGhlIGN1cnZlJ3MgbGVuZ3RoIHRvIGVuc3VyZSBiZXR0ZXIgdmlzdWFsIHF1YWxpdHkuXG4gKiBBZGFwdGl2ZSBkcmF3IHdvcmtzIHdpdGggYGJlemllckN1cnZlVG9gIGFuZCBgcXVhZHJhdGljQ3VydmVUb2AuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbWVtYmVyb2YgUElYSVxuICogQG5hbWUgR1JBUEhJQ1NfQ1VSVkVTXG4gKiBAdHlwZSB7b2JqZWN0fVxuICogQHByb3BlcnR5IHtib29sZWFufSBhZGFwdGl2ZT1mYWxzZSAtIGZsYWcgaW5kaWNhdGluZyBpZiB0aGUgcmVzb2x1dGlvbiBzaG91bGQgYmUgYWRhcHRpdmVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtYXhMZW5ndGg9MTAgLSBtYXhpbWFsIGxlbmd0aCBvZiBhIHNpbmdsZSBzZWdtZW50IG9mIHRoZSBjdXJ2ZSAoaWYgYWRhcHRpdmUgPSBmYWxzZSwgaWdub3JlZClcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtaW5TZWdtZW50cz04IC0gbWluaW1hbCBudW1iZXIgb2Ygc2VnbWVudHMgaW4gdGhlIGN1cnZlIChpZiBhZGFwdGl2ZSA9IGZhbHNlLCBpZ25vcmVkKVxuICogQHByb3BlcnR5IHtudW1iZXJ9IG1heFNlZ21lbnRzPTIwNDggLSBtYXhpbWFsIG51bWJlciBvZiBzZWdtZW50cyBpbiB0aGUgY3VydmUgKGlmIGFkYXB0aXZlID0gZmFsc2UsIGlnbm9yZWQpXG4gKi9cbmV4cG9ydCBjb25zdCBHUkFQSElDU19DVVJWRVM6IElHcmFwaGljc0N1cnZlc1NldHRpbmdzID0ge1xuICAgIGFkYXB0aXZlOiB0cnVlLFxuICAgIG1heExlbmd0aDogMTAsXG4gICAgbWluU2VnbWVudHM6IDgsXG4gICAgbWF4U2VnbWVudHM6ICAyMDQ4LFxuXG4gICAgZXBzaWxvbjogMC4wMDAxLFxuXG4gICAgX3NlZ21lbnRzQ291bnQobGVuZ3RoOiBudW1iZXIsIGRlZmF1bHRTZWdtZW50cyA9IDIwKVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLmFkYXB0aXZlIHx8ICFsZW5ndGggfHwgaXNOYU4obGVuZ3RoKSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRTZWdtZW50cztcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCByZXN1bHQgPSBNYXRoLmNlaWwobGVuZ3RoIC8gdGhpcy5tYXhMZW5ndGgpO1xuXG4gICAgICAgIGlmIChyZXN1bHQgPCB0aGlzLm1pblNlZ21lbnRzKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLm1pblNlZ21lbnRzO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHJlc3VsdCA+IHRoaXMubWF4U2VnbWVudHMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMubWF4U2VnbWVudHM7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0sXG59O1xuIiwiaW1wb3J0IHsgQkxFTkRfTU9ERVMgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuaW1wb3J0IHsgQ29udGFpbmVyIH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5pbXBvcnQgeyBoZXgycmdiIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuXG5pbXBvcnQgdHlwZSB7IEJhc2VUZXh0dXJlLCBSZW5kZXJlciB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHR5cGUgeyBQYXJ0aWNsZUJ1ZmZlciB9IGZyb20gJy4vUGFydGljbGVCdWZmZXInO1xuaW1wb3J0IHR5cGUgeyBJRGVzdHJveU9wdGlvbnMgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcblxuZXhwb3J0IGludGVyZmFjZSBJUGFydGljbGVQcm9wZXJ0aWVzIHtcbiAgICB2ZXJ0aWNlcz86IGJvb2xlYW47XG4gICAgcG9zaXRpb24/OiBib29sZWFuO1xuICAgIHJvdGF0aW9uPzogYm9vbGVhbjtcbiAgICB1dnM/OiBib29sZWFuO1xuICAgIHRpbnQ/OiBib29sZWFuO1xuICAgIGFscGhhPzogYm9vbGVhbjtcbiAgICBzY2FsZT86IGJvb2xlYW47XG59XG5cbi8qKlxuICogVGhlIFBhcnRpY2xlQ29udGFpbmVyIGNsYXNzIGlzIGEgcmVhbGx5IGZhc3QgdmVyc2lvbiBvZiB0aGUgQ29udGFpbmVyIGJ1aWx0IHNvbGVseSBmb3Igc3BlZWQsXG4gKiBzbyB1c2Ugd2hlbiB5b3UgbmVlZCBhIGxvdCBvZiBzcHJpdGVzIG9yIHBhcnRpY2xlcy5cbiAqXG4gKiBUaGUgdHJhZGVvZmYgb2YgdGhlIFBhcnRpY2xlQ29udGFpbmVyIGlzIHRoYXQgbW9zdCBhZHZhbmNlZCBmdW5jdGlvbmFsaXR5IHdpbGwgbm90IHdvcmsuXG4gKiBQYXJ0aWNsZUNvbnRhaW5lciBpbXBsZW1lbnRzIHRoZSBiYXNpYyBvYmplY3QgdHJhbnNmb3JtIChwb3NpdGlvbiwgc2NhbGUsIHJvdGF0aW9uKVxuICogYW5kIHNvbWUgYWR2YW5jZWQgZnVuY3Rpb25hbGl0eSBsaWtlIHRpbnQgKGFzIG9mIHY0LjUuNikuXG4gKlxuICogT3RoZXIgbW9yZSBhZHZhbmNlZCBmdW5jdGlvbmFsaXR5IGxpa2UgbWFza2luZywgY2hpbGRyZW4sIGZpbHRlcnMsIGV0YyB3aWxsIG5vdCB3b3JrIG9uIHNwcml0ZXMgaW4gdGhpcyBiYXRjaC5cbiAqXG4gKiBJdCdzIGV4dHJlbWVseSBlYXN5IHRvIHVzZTpcbiAqIGBgYGpzXG4gKiBsZXQgY29udGFpbmVyID0gbmV3IFBhcnRpY2xlQ29udGFpbmVyKCk7XG4gKlxuICogZm9yIChsZXQgaSA9IDA7IGkgPCAxMDA7ICsraSlcbiAqIHtcbiAqICAgICBsZXQgc3ByaXRlID0gUElYSS5TcHJpdGUuZnJvbShcIm15SW1hZ2UucG5nXCIpO1xuICogICAgIGNvbnRhaW5lci5hZGRDaGlsZChzcHJpdGUpO1xuICogfVxuICogYGBgXG4gKlxuICogQW5kIGhlcmUgeW91IGhhdmUgYSBodW5kcmVkIHNwcml0ZXMgdGhhdCB3aWxsIGJlIHJlbmRlcmVkIGF0IHRoZSBzcGVlZCBvZiBsaWdodC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuQ29udGFpbmVyXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgY2xhc3MgUGFydGljbGVDb250YWluZXIgZXh0ZW5kcyBDb250YWluZXJcbntcbiAgICBwdWJsaWMgcmVhZG9ubHkgYmxlbmRNb2RlOiBCTEVORF9NT0RFUztcbiAgICBwdWJsaWMgYXV0b1Jlc2l6ZTogYm9vbGVhbjtcbiAgICBwdWJsaWMgcm91bmRQaXhlbHM6IGJvb2xlYW47XG4gICAgcHVibGljIGJhc2VUZXh0dXJlOiBCYXNlVGV4dHVyZTtcbiAgICBwdWJsaWMgdGludFJnYjogRmxvYXQzMkFycmF5O1xuXG4gICAgX21heFNpemU6IG51bWJlcjtcbiAgICBfYnVmZmVyczogUGFydGljbGVCdWZmZXJbXTtcbiAgICBfYmF0Y2hTaXplOiBudW1iZXI7XG4gICAgX3Byb3BlcnRpZXM6IGJvb2xlYW5bXTtcbiAgICBfYnVmZmVyVXBkYXRlSURzOiBudW1iZXJbXTtcbiAgICBfdXBkYXRlSUQ6IG51bWJlcjtcbiAgICBwcml2YXRlIF90aW50OiBudW1iZXI7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW21heFNpemU9MTUwMF0gLSBUaGUgbWF4aW11bSBudW1iZXIgb2YgcGFydGljbGVzIHRoYXQgY2FuIGJlIHJlbmRlcmVkIGJ5IHRoZSBjb250YWluZXIuXG4gICAgICogIEFmZmVjdHMgc2l6ZSBvZiBhbGxvY2F0ZWQgYnVmZmVycy5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW3Byb3BlcnRpZXNdIC0gVGhlIHByb3BlcnRpZXMgb2YgY2hpbGRyZW4gdGhhdCBzaG91bGQgYmUgdXBsb2FkZWQgdG8gdGhlIGdwdSBhbmQgYXBwbGllZC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtwcm9wZXJ0aWVzLnZlcnRpY2VzPWZhbHNlXSAtIFdoZW4gdHJ1ZSwgdmVydGljZXMgYmUgdXBsb2FkZWQgYW5kIGFwcGxpZWQuXG4gICAgICogICAgICAgICAgICAgICAgICBpZiBzcHJpdGUncyBgIHNjYWxlL2FuY2hvci90cmltL2ZyYW1lL29yaWdgIGlzIGR5bmFtaWMsIHBsZWFzZSBzZXQgYHRydWVgLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Byb3BlcnRpZXMucG9zaXRpb249dHJ1ZV0gLSBXaGVuIHRydWUsIHBvc2l0aW9uIGJlIHVwbG9hZGVkIGFuZCBhcHBsaWVkLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Byb3BlcnRpZXMucm90YXRpb249ZmFsc2VdIC0gV2hlbiB0cnVlLCByb3RhdGlvbiBiZSB1cGxvYWRlZCBhbmQgYXBwbGllZC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtwcm9wZXJ0aWVzLnV2cz1mYWxzZV0gLSBXaGVuIHRydWUsIHV2cyBiZSB1cGxvYWRlZCBhbmQgYXBwbGllZC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtwcm9wZXJ0aWVzLnRpbnQ9ZmFsc2VdIC0gV2hlbiB0cnVlLCBhbHBoYSBhbmQgdGludCBiZSB1cGxvYWRlZCBhbmQgYXBwbGllZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2JhdGNoU2l6ZT0xNjM4NF0gLSBOdW1iZXIgb2YgcGFydGljbGVzIHBlciBiYXRjaC4gSWYgbGVzcyB0aGFuIG1heFNpemUsIGl0IHVzZXMgbWF4U2l6ZSBpbnN0ZWFkLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2F1dG9SZXNpemU9ZmFsc2VdIC0gSWYgdHJ1ZSwgY29udGFpbmVyIGFsbG9jYXRlcyBtb3JlIGJhdGNoZXMgaW4gY2FzZVxuICAgICAqICB0aGVyZSBhcmUgbW9yZSB0aGFuIGBtYXhTaXplYCBwYXJ0aWNsZXMuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IobWF4U2l6ZSA9IDE1MDAsIHByb3BlcnRpZXM6IElQYXJ0aWNsZVByb3BlcnRpZXMsIGJhdGNoU2l6ZSA9IDE2Mzg0LCBhdXRvUmVzaXplID0gZmFsc2UpXG4gICAge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIC8vIE1ha2luZyBzdXJlIHRoZSBiYXRjaCBzaXplIGlzIHZhbGlkXG4gICAgICAgIC8vIDY1NTM1IGlzIG1heCB2ZXJ0ZXggaW5kZXggaW4gdGhlIGluZGV4IGJ1ZmZlciAoc2VlIFBhcnRpY2xlUmVuZGVyZXIpXG4gICAgICAgIC8vIHNvIG1heCBudW1iZXIgb2YgcGFydGljbGVzIGlzIDY1NTM2IC8gNCA9IDE2Mzg0XG4gICAgICAgIGNvbnN0IG1heEJhdGNoU2l6ZSA9IDE2Mzg0O1xuXG4gICAgICAgIGlmIChiYXRjaFNpemUgPiBtYXhCYXRjaFNpemUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGJhdGNoU2l6ZSA9IG1heEJhdGNoU2l6ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgcHJvcGVydGllcyB0byBiZSBkeW5hbWljICh0cnVlKSAvIHN0YXRpYyAoZmFsc2UpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW5bXX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3Byb3BlcnRpZXMgPSBbZmFsc2UsIHRydWUsIGZhbHNlLCBmYWxzZSwgZmFsc2VdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9tYXhTaXplID0gbWF4U2l6ZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYmF0Y2hTaXplID0gYmF0Y2hTaXplO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtBcnJheTxQSVhJLkJ1ZmZlcj59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9idWZmZXJzID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogZm9yIGV2ZXJ5IGJhdGNoIHN0b3JlcyBfdXBkYXRlSUQgY29ycmVzcG9uZGluZyB0byB0aGUgbGFzdCBjaGFuZ2UgaW4gdGhhdCBiYXRjaFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2J1ZmZlclVwZGF0ZUlEcyA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiB3aGVuIGNoaWxkIGluc2VydGVkLCByZW1vdmVkIG9yIGNoYW5nZXMgcG9zaXRpb24gdGhpcyBudW1iZXIgZ29lcyB1cFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3VwZGF0ZUlEID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICpcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaW50ZXJhY3RpdmVDaGlsZHJlbiA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYmxlbmQgbW9kZSB0byBiZSBhcHBsaWVkIHRvIHRoZSBzcHJpdGUuIEFwcGx5IGEgdmFsdWUgb2YgYFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMYFxuICAgICAgICAgKiB0byByZXNldCB0aGUgYmxlbmQgbW9kZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLkJMRU5EX01PREVTLk5PUk1BTFxuICAgICAgICAgKiBAc2VlIFBJWEkuQkxFTkRfTU9ERVNcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYmxlbmRNb2RlID0gQkxFTkRfTU9ERVMuTk9STUFMO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0cnVlLCBjb250YWluZXIgYWxsb2NhdGVzIG1vcmUgYmF0Y2hlcyBpbiBjYXNlIHRoZXJlIGFyZSBtb3JlIHRoYW4gYG1heFNpemVgIHBhcnRpY2xlcy5cbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYXV0b1Jlc2l6ZSA9IGF1dG9SZXNpemU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRydWUgUGl4aUpTIHdpbGwgTWF0aC5mbG9vcigpIHgveSB2YWx1ZXMgd2hlbiByZW5kZXJpbmcsIHN0b3BwaW5nIHBpeGVsIGludGVycG9sYXRpb24uXG4gICAgICAgICAqIEFkdmFudGFnZXMgY2FuIGluY2x1ZGUgc2hhcnBlciBpbWFnZSBxdWFsaXR5IChsaWtlIHRleHQpIGFuZCBmYXN0ZXIgcmVuZGVyaW5nIG9uIGNhbnZhcy5cbiAgICAgICAgICogVGhlIG1haW4gZGlzYWR2YW50YWdlIGlzIG1vdmVtZW50IG9mIG9iamVjdHMgbWF5IGFwcGVhciBsZXNzIHNtb290aC5cbiAgICAgICAgICogRGVmYXVsdCB0byB0cnVlIGhlcmUgYXMgcGVyZm9ybWFuY2UgaXMgdXN1YWxseSB0aGUgcHJpb3JpdHkgZm9yIHBhcnRpY2xlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yb3VuZFBpeGVscyA9IHRydWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0ZXh0dXJlIHVzZWQgdG8gcmVuZGVyIHRoZSBjaGlsZHJlbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQmFzZVRleHR1cmV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmJhc2VUZXh0dXJlID0gbnVsbDtcblxuICAgICAgICB0aGlzLnNldFByb3BlcnRpZXMocHJvcGVydGllcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0aW50IGFwcGxpZWQgdG8gdGhlIGNvbnRhaW5lci5cbiAgICAgICAgICogVGhpcyBpcyBhIGhleCB2YWx1ZS4gQSB2YWx1ZSBvZiAweEZGRkZGRiB3aWxsIHJlbW92ZSBhbnkgdGludCBlZmZlY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMHhGRkZGRkZcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3RpbnQgPSAwO1xuICAgICAgICB0aGlzLnRpbnRSZ2IgPSBuZXcgRmxvYXQzMkFycmF5KDQpO1xuICAgICAgICB0aGlzLnRpbnQgPSAweEZGRkZGRjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBwcml2YXRlIHByb3BlcnRpZXMgYXJyYXkgdG8gZHluYW1pYyAvIHN0YXRpYyBiYXNlZCBvbiB0aGUgcGFzc2VkIHByb3BlcnRpZXMgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gcHJvcGVydGllcyAtIFRoZSBwcm9wZXJ0aWVzIHRvIGJlIHVwbG9hZGVkXG4gICAgICovXG4gICAgcHVibGljIHNldFByb3BlcnRpZXMocHJvcGVydGllczogSVBhcnRpY2xlUHJvcGVydGllcyk6IHZvaWRcbiAgICB7XG4gICAgICAgIGlmIChwcm9wZXJ0aWVzKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9wcm9wZXJ0aWVzWzBdID0gJ3ZlcnRpY2VzJyBpbiBwcm9wZXJ0aWVzIHx8ICdzY2FsZScgaW4gcHJvcGVydGllc1xuICAgICAgICAgICAgICAgID8gISFwcm9wZXJ0aWVzLnZlcnRpY2VzIHx8ICEhcHJvcGVydGllcy5zY2FsZSA6IHRoaXMuX3Byb3BlcnRpZXNbMF07XG4gICAgICAgICAgICB0aGlzLl9wcm9wZXJ0aWVzWzFdID0gJ3Bvc2l0aW9uJyBpbiBwcm9wZXJ0aWVzID8gISFwcm9wZXJ0aWVzLnBvc2l0aW9uIDogdGhpcy5fcHJvcGVydGllc1sxXTtcbiAgICAgICAgICAgIHRoaXMuX3Byb3BlcnRpZXNbMl0gPSAncm90YXRpb24nIGluIHByb3BlcnRpZXMgPyAhIXByb3BlcnRpZXMucm90YXRpb24gOiB0aGlzLl9wcm9wZXJ0aWVzWzJdO1xuICAgICAgICAgICAgdGhpcy5fcHJvcGVydGllc1szXSA9ICd1dnMnIGluIHByb3BlcnRpZXMgPyAhIXByb3BlcnRpZXMudXZzIDogdGhpcy5fcHJvcGVydGllc1szXTtcbiAgICAgICAgICAgIHRoaXMuX3Byb3BlcnRpZXNbNF0gPSAndGludCcgaW4gcHJvcGVydGllcyB8fCAnYWxwaGEnIGluIHByb3BlcnRpZXNcbiAgICAgICAgICAgICAgICA/ICEhcHJvcGVydGllcy50aW50IHx8ICEhcHJvcGVydGllcy5hbHBoYSA6IHRoaXMuX3Byb3BlcnRpZXNbNF07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBvYmplY3QgdHJhbnNmb3JtIGZvciByZW5kZXJpbmdcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdXBkYXRlVHJhbnNmb3JtKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIC8vIFRPRE8gZG9uJ3QgbmVlZCB0byFcbiAgICAgICAgdGhpcy5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIHRpbnQgYXBwbGllZCB0byB0aGUgY29udGFpbmVyLiBUaGlzIGlzIGEgaGV4IHZhbHVlLlxuICAgICAqIEEgdmFsdWUgb2YgMHhGRkZGRkYgd2lsbCByZW1vdmUgYW55IHRpbnQgZWZmZWN0LlxuICAgICAqKiBJTVBPUlRBTlQ6IFRoaXMgaXMgYSBXZWJHTCBvbmx5IGZlYXR1cmUgYW5kIHdpbGwgYmUgaWdub3JlZCBieSB0aGUgY2FudmFzIHJlbmRlcmVyLlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAweEZGRkZGRlxuICAgICAqL1xuICAgIGdldCB0aW50KCk6IG51bWJlclxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RpbnQ7XG4gICAgfVxuXG4gICAgc2V0IHRpbnQodmFsdWU6IG51bWJlcilcbiAgICB7XG4gICAgICAgIHRoaXMuX3RpbnQgPSB2YWx1ZTtcbiAgICAgICAgaGV4MnJnYih2YWx1ZSwgdGhpcy50aW50UmdiKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBjb250YWluZXIgdXNpbmcgdGhlIFdlYkdMIHJlbmRlcmVyXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgd2ViZ2wgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBwdWJsaWMgcmVuZGVyKHJlbmRlcmVyOiBSZW5kZXJlcik6IHZvaWRcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy52aXNpYmxlIHx8IHRoaXMud29ybGRBbHBoYSA8PSAwIHx8ICF0aGlzLmNoaWxkcmVuLmxlbmd0aCB8fCAhdGhpcy5yZW5kZXJhYmxlKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuYmFzZVRleHR1cmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuYmFzZVRleHR1cmUgPSAodGhpcy5jaGlsZHJlblswXSBhcyBhbnkpLl90ZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgICAgICAgICAgaWYgKCF0aGlzLmJhc2VUZXh0dXJlLnZhbGlkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuYmFzZVRleHR1cmUub25jZSgndXBkYXRlJywgKCkgPT4gdGhpcy5vbkNoaWxkcmVuQ2hhbmdlKDApKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJlbmRlcmVyLmJhdGNoLnNldE9iamVjdFJlbmRlcmVyKHJlbmRlcmVyLnBsdWdpbnMucGFydGljbGUpO1xuICAgICAgICByZW5kZXJlci5wbHVnaW5zLnBhcnRpY2xlLnJlbmRlcih0aGlzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGZsYWcgdGhhdCBzdGF0aWMgZGF0YSBzaG91bGQgYmUgdXBkYXRlZCB0byB0cnVlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzbWFsbGVzdENoaWxkSW5kZXggLSBUaGUgc21hbGxlc3QgY2hpbGQgaW5kZXhcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgb25DaGlsZHJlbkNoYW5nZShzbWFsbGVzdENoaWxkSW5kZXg6IG51bWJlcik6IHZvaWRcbiAgICB7XG4gICAgICAgIGNvbnN0IGJ1ZmZlckluZGV4ID0gTWF0aC5mbG9vcihzbWFsbGVzdENoaWxkSW5kZXggLyB0aGlzLl9iYXRjaFNpemUpO1xuXG4gICAgICAgIHdoaWxlICh0aGlzLl9idWZmZXJVcGRhdGVJRHMubGVuZ3RoIDwgYnVmZmVySW5kZXgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2J1ZmZlclVwZGF0ZUlEcy5wdXNoKDApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2J1ZmZlclVwZGF0ZUlEc1tidWZmZXJJbmRleF0gPSArK3RoaXMuX3VwZGF0ZUlEO1xuICAgIH1cblxuICAgIHB1YmxpYyBkaXNwb3NlKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9idWZmZXJzKVxuICAgICAgICB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX2J1ZmZlcnMubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYnVmZmVyc1tpXS5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2J1ZmZlcnMgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIGNvbnRhaW5lclxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R8Ym9vbGVhbn0gW29wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGwgb3B0aW9uc1xuICAgICAqICBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNoaWxkcmVuPWZhbHNlXSAtIGlmIHNldCB0byB0cnVlLCBhbGwgdGhlIGNoaWxkcmVuIHdpbGwgaGF2ZSB0aGVpclxuICAgICAqICBkZXN0cm95IG1ldGhvZCBjYWxsZWQgYXMgd2VsbC4gJ29wdGlvbnMnIHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRob3NlIGNhbGxzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudGV4dHVyZT1mYWxzZV0gLSBPbmx5IHVzZWQgZm9yIGNoaWxkIFNwcml0ZXMgaWYgb3B0aW9ucy5jaGlsZHJlbiBpcyBzZXQgdG8gdHJ1ZVxuICAgICAqICBTaG91bGQgaXQgZGVzdHJveSB0aGUgdGV4dHVyZSBvZiB0aGUgY2hpbGQgc3ByaXRlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5iYXNlVGV4dHVyZT1mYWxzZV0gLSBPbmx5IHVzZWQgZm9yIGNoaWxkIFNwcml0ZXMgaWYgb3B0aW9ucy5jaGlsZHJlbiBpcyBzZXQgdG8gdHJ1ZVxuICAgICAqICBTaG91bGQgaXQgZGVzdHJveSB0aGUgYmFzZSB0ZXh0dXJlIG9mIHRoZSBjaGlsZCBzcHJpdGVcbiAgICAgKi9cbiAgICBwdWJsaWMgZGVzdHJveShvcHRpb25zOiBJRGVzdHJveU9wdGlvbnN8Ym9vbGVhbik6IHZvaWRcbiAgICB7XG4gICAgICAgIHN1cGVyLmRlc3Ryb3kob3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy5kaXNwb3NlKCk7XG5cbiAgICAgICAgdGhpcy5fcHJvcGVydGllcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2J1ZmZlcnMgPSBudWxsO1xuICAgICAgICB0aGlzLl9idWZmZXJVcGRhdGVJRHMgPSBudWxsO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IGNyZWF0ZUluZGljZXNGb3JRdWFkcyB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCB7IEdlb21ldHJ5LCBCdWZmZXIgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IFRZUEVTIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcblxuaW1wb3J0IHR5cGUgeyBEaXNwbGF5T2JqZWN0IH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5pbXBvcnQgdHlwZSB7IElQYXJ0aWNsZVJlbmRlcmVyUHJvcGVydHkgfSBmcm9tICcuL1BhcnRpY2xlUmVuZGVyZXInO1xuXG4vKipcbiAqIEBhdXRob3IgTWF0IEdyb3Zlc1xuICpcbiAqIEJpZyB0aGFua3MgdG8gdGhlIHZlcnkgY2xldmVyIE1hdHQgRGVzTGF1cmllcnMgPG1hdHRkZXNsPiBodHRwczovL2dpdGh1Yi5jb20vbWF0dGRlc2wvXG4gKiBmb3IgY3JlYXRpbmcgdGhlIG9yaWdpbmFsIFBpeGlKUyB2ZXJzaW9uIVxuICogQWxzbyBhIHRoYW5rcyB0byBodHRwczovL2dpdGh1Yi5jb20vYmNoZXZhbGllciBmb3IgdHdlYWtpbmcgdGhlIHRpbnQgYW5kIGFscGhhIHNvIHRoYXRcbiAqIHRoZXkgbm93IHNoYXJlIDQgYnl0ZXMgb24gdGhlIHZlcnRleCBidWZmZXJcbiAqXG4gKiBIZWF2aWx5IGluc3BpcmVkIGJ5IExpYkdEWCdzIFBhcnRpY2xlQnVmZmVyOlxuICogaHR0cHM6Ly9naXRodWIuY29tL2xpYmdkeC9saWJnZHgvYmxvYi9tYXN0ZXIvZ2R4L3NyYy9jb20vYmFkbG9naWMvZ2R4L2dyYXBoaWNzL2cyZC9QYXJ0aWNsZUJ1ZmZlci5qYXZhXG4gKi9cblxuLyoqXG4gKiBUaGUgcGFydGljbGUgYnVmZmVyIG1hbmFnZXMgdGhlIHN0YXRpYyBhbmQgZHluYW1pYyBidWZmZXJzIGZvciBhIHBhcnRpY2xlIGNvbnRhaW5lci5cbiAqXG4gKiBAY2xhc3NcbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgY2xhc3MgUGFydGljbGVCdWZmZXJcbntcbiAgICBwdWJsaWMgZ2VvbWV0cnk6IEdlb21ldHJ5O1xuICAgIHB1YmxpYyBzdGF0aWNTdHJpZGU6IG51bWJlcjtcbiAgICBwdWJsaWMgc3RhdGljQnVmZmVyOiBCdWZmZXI7XG4gICAgcHVibGljIHN0YXRpY0RhdGE6IEZsb2F0MzJBcnJheTtcbiAgICBwdWJsaWMgc3RhdGljRGF0YVVpbnQzMjogVWludDMyQXJyYXk7XG4gICAgcHVibGljIGR5bmFtaWNTdHJpZGU6IG51bWJlcjtcbiAgICBwdWJsaWMgZHluYW1pY0J1ZmZlcjogQnVmZmVyO1xuICAgIHB1YmxpYyBkeW5hbWljRGF0YTogRmxvYXQzMkFycmF5O1xuICAgIHB1YmxpYyBkeW5hbWljRGF0YVVpbnQzMjogVWludDMyQXJyYXk7XG4gICAgcHVibGljIF91cGRhdGVJRDogbnVtYmVyO1xuXG4gICAgaW5kZXhCdWZmZXI6IEJ1ZmZlcjtcbiAgICBwcml2YXRlIHNpemU6IG51bWJlcjtcbiAgICBwcml2YXRlIGR5bmFtaWNQcm9wZXJ0aWVzOiBJUGFydGljbGVSZW5kZXJlclByb3BlcnR5W107XG4gICAgcHJpdmF0ZSBzdGF0aWNQcm9wZXJ0aWVzOiBJUGFydGljbGVSZW5kZXJlclByb3BlcnR5W107XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBwcm9wZXJ0aWVzIC0gVGhlIHByb3BlcnRpZXMgdG8gdXBsb2FkLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbltdfSBkeW5hbWljUHJvcGVydHlGbGFncyAtIEZsYWdzIGZvciB3aGljaCBwcm9wZXJ0aWVzIGFyZSBkeW5hbWljLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzaXplIC0gVGhlIHNpemUgb2YgdGhlIGJhdGNoLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHByb3BlcnRpZXM6IElQYXJ0aWNsZVJlbmRlcmVyUHJvcGVydHlbXSwgZHluYW1pY1Byb3BlcnR5RmxhZ3M6IGJvb2xlYW5bXSwgc2l6ZTogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgdGhpcy5nZW9tZXRyeSA9IG5ldyBHZW9tZXRyeSgpO1xuXG4gICAgICAgIHRoaXMuaW5kZXhCdWZmZXIgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbnVtYmVyIG9mIHBhcnRpY2xlcyB0aGUgYnVmZmVyIGNhbiBob2xkXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2l6ZSA9IHNpemU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgbGlzdCBvZiB0aGUgcHJvcGVydGllcyB0aGF0IGFyZSBkeW5hbWljLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3RbXX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZHluYW1pY1Byb3BlcnRpZXMgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQSBsaXN0IG9mIHRoZSBwcm9wZXJ0aWVzIHRoYXQgYXJlIHN0YXRpYy5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0W119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0YXRpY1Byb3BlcnRpZXMgPSBbXTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByb3BlcnRpZXMubGVuZ3RoOyArK2kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBwcm9wZXJ0eSA9IHByb3BlcnRpZXNbaV07XG5cbiAgICAgICAgICAgIC8vIE1ha2UgY29weSBvZiBwcm9wZXJ0aWVzIG9iamVjdCBzbyB0aGF0IHdoZW4gd2UgZWRpdCB0aGUgb2Zmc2V0IGl0IGRvZXNuJ3RcbiAgICAgICAgICAgIC8vIGNoYW5nZSBhbGwgb3RoZXIgaW5zdGFuY2VzIG9mIHRoZSBvYmplY3QgbGl0ZXJhbFxuICAgICAgICAgICAgcHJvcGVydHkgPSB7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlTmFtZTogcHJvcGVydHkuYXR0cmlidXRlTmFtZSxcbiAgICAgICAgICAgICAgICBzaXplOiBwcm9wZXJ0eS5zaXplLFxuICAgICAgICAgICAgICAgIHVwbG9hZEZ1bmN0aW9uOiBwcm9wZXJ0eS51cGxvYWRGdW5jdGlvbixcbiAgICAgICAgICAgICAgICB0eXBlOiBwcm9wZXJ0eS50eXBlIHx8IFRZUEVTLkZMT0FULFxuICAgICAgICAgICAgICAgIG9mZnNldDogcHJvcGVydHkub2Zmc2V0LFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgaWYgKGR5bmFtaWNQcm9wZXJ0eUZsYWdzW2ldKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuZHluYW1pY1Byb3BlcnRpZXMucHVzaChwcm9wZXJ0eSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0aWNQcm9wZXJ0aWVzLnB1c2gocHJvcGVydHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zdGF0aWNTdHJpZGUgPSAwO1xuICAgICAgICB0aGlzLnN0YXRpY0J1ZmZlciA9IG51bGw7XG4gICAgICAgIHRoaXMuc3RhdGljRGF0YSA9IG51bGw7XG4gICAgICAgIHRoaXMuc3RhdGljRGF0YVVpbnQzMiA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5keW5hbWljU3RyaWRlID0gMDtcbiAgICAgICAgdGhpcy5keW5hbWljQnVmZmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5keW5hbWljRGF0YSA9IG51bGw7XG4gICAgICAgIHRoaXMuZHluYW1pY0RhdGFVaW50MzIgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuX3VwZGF0ZUlEID0gMDtcblxuICAgICAgICB0aGlzLmluaXRCdWZmZXJzKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB1cCB0aGUgcmVuZGVyZXIgY29udGV4dCBhbmQgbmVjZXNzYXJ5IGJ1ZmZlcnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHByaXZhdGUgaW5pdEJ1ZmZlcnMoKTogdm9pZFxuICAgIHtcbiAgICAgICAgY29uc3QgZ2VvbWV0cnkgPSB0aGlzLmdlb21ldHJ5O1xuXG4gICAgICAgIGxldCBkeW5hbWljT2Zmc2V0ID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSG9sZHMgdGhlIGluZGljZXMgb2YgdGhlIGdlb21ldHJ5IChxdWFkcykgdG8gZHJhd1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtVaW50MTZBcnJheX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaW5kZXhCdWZmZXIgPSBuZXcgQnVmZmVyKGNyZWF0ZUluZGljZXNGb3JRdWFkcyh0aGlzLnNpemUpLCB0cnVlLCB0cnVlKTtcbiAgICAgICAgZ2VvbWV0cnkuYWRkSW5kZXgodGhpcy5pbmRleEJ1ZmZlcik7XG5cbiAgICAgICAgdGhpcy5keW5hbWljU3RyaWRlID0gMDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZHluYW1pY1Byb3BlcnRpZXMubGVuZ3RoOyArK2kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHByb3BlcnR5ID0gdGhpcy5keW5hbWljUHJvcGVydGllc1tpXTtcblxuICAgICAgICAgICAgcHJvcGVydHkub2Zmc2V0ID0gZHluYW1pY09mZnNldDtcbiAgICAgICAgICAgIGR5bmFtaWNPZmZzZXQgKz0gcHJvcGVydHkuc2l6ZTtcbiAgICAgICAgICAgIHRoaXMuZHluYW1pY1N0cmlkZSArPSBwcm9wZXJ0eS5zaXplO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZHluQnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKHRoaXMuc2l6ZSAqIHRoaXMuZHluYW1pY1N0cmlkZSAqIDQgKiA0KTtcblxuICAgICAgICB0aGlzLmR5bmFtaWNEYXRhID0gbmV3IEZsb2F0MzJBcnJheShkeW5CdWZmZXIpO1xuICAgICAgICB0aGlzLmR5bmFtaWNEYXRhVWludDMyID0gbmV3IFVpbnQzMkFycmF5KGR5bkJ1ZmZlcik7XG4gICAgICAgIHRoaXMuZHluYW1pY0J1ZmZlciA9IG5ldyBCdWZmZXIodGhpcy5keW5hbWljRGF0YSwgZmFsc2UsIGZhbHNlKTtcblxuICAgICAgICAvLyBzdGF0aWMgLy9cbiAgICAgICAgbGV0IHN0YXRpY09mZnNldCA9IDA7XG5cbiAgICAgICAgdGhpcy5zdGF0aWNTdHJpZGUgPSAwO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zdGF0aWNQcm9wZXJ0aWVzLmxlbmd0aDsgKytpKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBwcm9wZXJ0eSA9IHRoaXMuc3RhdGljUHJvcGVydGllc1tpXTtcblxuICAgICAgICAgICAgcHJvcGVydHkub2Zmc2V0ID0gc3RhdGljT2Zmc2V0O1xuICAgICAgICAgICAgc3RhdGljT2Zmc2V0ICs9IHByb3BlcnR5LnNpemU7XG4gICAgICAgICAgICB0aGlzLnN0YXRpY1N0cmlkZSArPSBwcm9wZXJ0eS5zaXplO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc3RhdEJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcih0aGlzLnNpemUgKiB0aGlzLnN0YXRpY1N0cmlkZSAqIDQgKiA0KTtcblxuICAgICAgICB0aGlzLnN0YXRpY0RhdGEgPSBuZXcgRmxvYXQzMkFycmF5KHN0YXRCdWZmZXIpO1xuICAgICAgICB0aGlzLnN0YXRpY0RhdGFVaW50MzIgPSBuZXcgVWludDMyQXJyYXkoc3RhdEJ1ZmZlcik7XG4gICAgICAgIHRoaXMuc3RhdGljQnVmZmVyID0gbmV3IEJ1ZmZlcih0aGlzLnN0YXRpY0RhdGEsIHRydWUsIGZhbHNlKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZHluYW1pY1Byb3BlcnRpZXMubGVuZ3RoOyArK2kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHByb3BlcnR5ID0gdGhpcy5keW5hbWljUHJvcGVydGllc1tpXTtcblxuICAgICAgICAgICAgZ2VvbWV0cnkuYWRkQXR0cmlidXRlKFxuICAgICAgICAgICAgICAgIHByb3BlcnR5LmF0dHJpYnV0ZU5hbWUsXG4gICAgICAgICAgICAgICAgdGhpcy5keW5hbWljQnVmZmVyLFxuICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgcHJvcGVydHkudHlwZSA9PT0gVFlQRVMuVU5TSUdORURfQllURSxcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eS50eXBlLFxuICAgICAgICAgICAgICAgIHRoaXMuZHluYW1pY1N0cmlkZSAqIDQsXG4gICAgICAgICAgICAgICAgcHJvcGVydHkub2Zmc2V0ICogNFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zdGF0aWNQcm9wZXJ0aWVzLmxlbmd0aDsgKytpKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBwcm9wZXJ0eSA9IHRoaXMuc3RhdGljUHJvcGVydGllc1tpXTtcblxuICAgICAgICAgICAgZ2VvbWV0cnkuYWRkQXR0cmlidXRlKFxuICAgICAgICAgICAgICAgIHByb3BlcnR5LmF0dHJpYnV0ZU5hbWUsXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0aWNCdWZmZXIsXG4gICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eS50eXBlID09PSBUWVBFUy5VTlNJR05FRF9CWVRFLFxuICAgICAgICAgICAgICAgIHByb3BlcnR5LnR5cGUsXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0aWNTdHJpZGUgKiA0LFxuICAgICAgICAgICAgICAgIHByb3BlcnR5Lm9mZnNldCAqIDRcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGxvYWRzIHRoZSBkeW5hbWljIHByb3BlcnRpZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0W119IGNoaWxkcmVuIC0gVGhlIGNoaWxkcmVuIHRvIHVwbG9hZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRJbmRleCAtIFRoZSBpbmRleCB0byBzdGFydCBhdC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW1vdW50IC0gVGhlIG51bWJlciB0byB1cGxvYWQuXG4gICAgICovXG4gICAgdXBsb2FkRHluYW1pYyhjaGlsZHJlbjogRGlzcGxheU9iamVjdFtdLCBzdGFydEluZGV4OiBudW1iZXIsIGFtb3VudDogbnVtYmVyKTogdm9pZFxuICAgIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBwcm9wZXJ0eSA9IHRoaXMuZHluYW1pY1Byb3BlcnRpZXNbaV07XG5cbiAgICAgICAgICAgIHByb3BlcnR5LnVwbG9hZEZ1bmN0aW9uKGNoaWxkcmVuLCBzdGFydEluZGV4LCBhbW91bnQsXG4gICAgICAgICAgICAgICAgcHJvcGVydHkudHlwZSA9PT0gVFlQRVMuVU5TSUdORURfQllURSA/IHRoaXMuZHluYW1pY0RhdGFVaW50MzIgOiB0aGlzLmR5bmFtaWNEYXRhLFxuICAgICAgICAgICAgICAgIHRoaXMuZHluYW1pY1N0cmlkZSwgcHJvcGVydHkub2Zmc2V0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZHluYW1pY0J1ZmZlci5fdXBkYXRlSUQrKztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGxvYWRzIHRoZSBzdGF0aWMgcHJvcGVydGllcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3RbXX0gY2hpbGRyZW4gLSBUaGUgY2hpbGRyZW4gdG8gdXBsb2FkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEluZGV4IC0gVGhlIGluZGV4IHRvIHN0YXJ0IGF0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSBUaGUgbnVtYmVyIHRvIHVwbG9hZC5cbiAgICAgKi9cbiAgICB1cGxvYWRTdGF0aWMoY2hpbGRyZW46IERpc3BsYXlPYmplY3RbXSwgc3RhcnRJbmRleDogbnVtYmVyLCBhbW91bnQ6IG51bWJlcik6IHZvaWRcbiAgICB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zdGF0aWNQcm9wZXJ0aWVzLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBwcm9wZXJ0eSA9IHRoaXMuc3RhdGljUHJvcGVydGllc1tpXTtcblxuICAgICAgICAgICAgcHJvcGVydHkudXBsb2FkRnVuY3Rpb24oY2hpbGRyZW4sIHN0YXJ0SW5kZXgsIGFtb3VudCxcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eS50eXBlID09PSBUWVBFUy5VTlNJR05FRF9CWVRFID8gdGhpcy5zdGF0aWNEYXRhVWludDMyIDogdGhpcy5zdGF0aWNEYXRhLFxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGljU3RyaWRlLCBwcm9wZXJ0eS5vZmZzZXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zdGF0aWNCdWZmZXIuX3VwZGF0ZUlEKys7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIFBhcnRpY2xlQnVmZmVyLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBkZXN0cm95KCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHRoaXMuaW5kZXhCdWZmZXIgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuZHluYW1pY1Byb3BlcnRpZXMgPSBudWxsO1xuICAgICAgICB0aGlzLmR5bmFtaWNCdWZmZXIgPSBudWxsO1xuICAgICAgICB0aGlzLmR5bmFtaWNEYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy5keW5hbWljRGF0YVVpbnQzMiA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5zdGF0aWNQcm9wZXJ0aWVzID0gbnVsbDtcbiAgICAgICAgdGhpcy5zdGF0aWNCdWZmZXIgPSBudWxsO1xuICAgICAgICB0aGlzLnN0YXRpY0RhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLnN0YXRpY0RhdGFVaW50MzIgPSBudWxsO1xuICAgICAgICAvLyBhbGwgYnVmZmVycyBhcmUgZGVzdHJveWVkIGluc2lkZSBnZW9tZXRyeVxuICAgICAgICB0aGlzLmdlb21ldHJ5LmRlc3Ryb3koKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBUWVBFUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBPYmplY3RSZW5kZXJlciwgU2hhZGVyLCBTdGF0ZSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgTWF0cml4IH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyBjb3JyZWN0QmxlbmRNb2RlLCBwcmVtdWx0aXBseVJnYmEsIHByZW11bHRpcGx5VGludCB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCB7IFBhcnRpY2xlQnVmZmVyIH0gZnJvbSAnLi9QYXJ0aWNsZUJ1ZmZlcic7XG5pbXBvcnQgZnJhZ21lbnQgZnJvbSAnLi9wYXJ0aWNsZXMuZnJhZyc7XG5pbXBvcnQgdmVydGV4IGZyb20gJy4vcGFydGljbGVzLnZlcnQnO1xuXG5pbXBvcnQgdHlwZSB7IERpc3BsYXlPYmplY3QgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcbmltcG9ydCB0eXBlIHsgUGFydGljbGVDb250YWluZXIgfSBmcm9tICcuL1BhcnRpY2xlQ29udGFpbmVyJztcbmltcG9ydCB0eXBlIHsgUmVuZGVyZXIgfSBmcm9tICdAcGl4aS9jb3JlJztcblxuZXhwb3J0IGludGVyZmFjZSBJUGFydGljbGVSZW5kZXJlclByb3BlcnR5IHtcbiAgICBhdHRyaWJ1dGVOYW1lOiBzdHJpbmc7XG4gICAgc2l6ZTogbnVtYmVyO1xuICAgIHR5cGU/OiBUWVBFUztcbiAgICB1cGxvYWRGdW5jdGlvbjogKC4uLnBhcmFtczogYW55W10pID0+IGFueTtcbiAgICBvZmZzZXQ6IG51bWJlcjtcbn1cblxuLyoqXG4gKiBAYXV0aG9yIE1hdCBHcm92ZXNcbiAqXG4gKiBCaWcgdGhhbmtzIHRvIHRoZSB2ZXJ5IGNsZXZlciBNYXR0IERlc0xhdXJpZXJzIDxtYXR0ZGVzbD4gaHR0cHM6Ly9naXRodWIuY29tL21hdHRkZXNsL1xuICogZm9yIGNyZWF0aW5nIHRoZSBvcmlnaW5hbCBQaXhpSlMgdmVyc2lvbiFcbiAqIEFsc28gYSB0aGFua3MgdG8gaHR0cHM6Ly9naXRodWIuY29tL2JjaGV2YWxpZXIgZm9yIHR3ZWFraW5nIHRoZSB0aW50IGFuZCBhbHBoYSBzbyB0aGF0IHRoZXkgbm93XG4gKiBzaGFyZSA0IGJ5dGVzIG9uIHRoZSB2ZXJ0ZXggYnVmZmVyXG4gKlxuICogSGVhdmlseSBpbnNwaXJlZCBieSBMaWJHRFgncyBQYXJ0aWNsZVJlbmRlcmVyOlxuICogaHR0cHM6Ly9naXRodWIuY29tL2xpYmdkeC9saWJnZHgvYmxvYi9tYXN0ZXIvZ2R4L3NyYy9jb20vYmFkbG9naWMvZ2R4L2dyYXBoaWNzL2cyZC9QYXJ0aWNsZVJlbmRlcmVyLmphdmFcbiAqL1xuXG4vKipcbiAqIFJlbmRlcmVyIGZvciBQYXJ0aWNsZXMgdGhhdCBpcyBkZXNpZ25lciBmb3Igc3BlZWQgb3ZlciBmZWF0dXJlIHNldC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBjbGFzcyBQYXJ0aWNsZVJlbmRlcmVyIGV4dGVuZHMgT2JqZWN0UmVuZGVyZXJcbntcbiAgICBwdWJsaWMgcmVhZG9ubHkgc3RhdGU6IFN0YXRlO1xuICAgIHB1YmxpYyBzaGFkZXI6IFNoYWRlcjtcbiAgICBwdWJsaWMgdGVtcE1hdHJpeDogTWF0cml4O1xuICAgIHB1YmxpYyBwcm9wZXJ0aWVzOiBJUGFydGljbGVSZW5kZXJlclByb3BlcnR5W107XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgc3ByaXRlIGJhdGNoIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihyZW5kZXJlcjogUmVuZGVyZXIpXG4gICAge1xuICAgICAgICBzdXBlcihyZW5kZXJlcik7XG5cbiAgICAgICAgLy8gNjU1MzUgaXMgbWF4IHZlcnRleCBpbmRleCBpbiB0aGUgaW5kZXggYnVmZmVyIChzZWUgUGFydGljbGVSZW5kZXJlcilcbiAgICAgICAgLy8gc28gbWF4IG51bWJlciBvZiBwYXJ0aWNsZXMgaXMgNjU1MzYgLyA0ID0gMTYzODRcbiAgICAgICAgLy8gYW5kIG1heCBudW1iZXIgb2YgZWxlbWVudCBpbiB0aGUgaW5kZXggYnVmZmVyIGlzIDE2Mzg0ICogNiA9IDk4MzA0XG4gICAgICAgIC8vIENyZWF0aW5nIGEgZnVsbCBpbmRleCBidWZmZXIsIG92ZXJoZWFkIGlzIDk4MzA0ICogMiA9IDE5NktvXG4gICAgICAgIC8vIGxldCBudW1JbmRpY2VzID0gOTgzMDQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBkZWZhdWx0IHNoYWRlciB0aGF0IGlzIHVzZWQgaWYgYSBzcHJpdGUgZG9lc24ndCBoYXZlIGEgbW9yZSBzcGVjaWZpYyBvbmUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU2hhZGVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zaGFkZXIgPSBudWxsO1xuXG4gICAgICAgIHRoaXMucHJvcGVydGllcyA9IG51bGw7XG5cbiAgICAgICAgdGhpcy50ZW1wTWF0cml4ID0gbmV3IE1hdHJpeCgpO1xuXG4gICAgICAgIHRoaXMucHJvcGVydGllcyA9IFtcbiAgICAgICAgICAgIC8vIHZlcnRpY2VzRGF0YVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZU5hbWU6ICdhVmVydGV4UG9zaXRpb24nLFxuICAgICAgICAgICAgICAgIHNpemU6IDIsXG4gICAgICAgICAgICAgICAgdXBsb2FkRnVuY3Rpb246IHRoaXMudXBsb2FkVmVydGljZXMsXG4gICAgICAgICAgICAgICAgb2Zmc2V0OiAwLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIHBvc2l0aW9uRGF0YVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZU5hbWU6ICdhUG9zaXRpb25Db29yZCcsXG4gICAgICAgICAgICAgICAgc2l6ZTogMixcbiAgICAgICAgICAgICAgICB1cGxvYWRGdW5jdGlvbjogdGhpcy51cGxvYWRQb3NpdGlvbixcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IDAsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gcm90YXRpb25EYXRhXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlTmFtZTogJ2FSb3RhdGlvbicsXG4gICAgICAgICAgICAgICAgc2l6ZTogMSxcbiAgICAgICAgICAgICAgICB1cGxvYWRGdW5jdGlvbjogdGhpcy51cGxvYWRSb3RhdGlvbixcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IDAsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gdXZzRGF0YVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZU5hbWU6ICdhVGV4dHVyZUNvb3JkJyxcbiAgICAgICAgICAgICAgICBzaXplOiAyLFxuICAgICAgICAgICAgICAgIHVwbG9hZEZ1bmN0aW9uOiB0aGlzLnVwbG9hZFV2cyxcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IDAsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gdGludERhdGFcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVOYW1lOiAnYUNvbG9yJyxcbiAgICAgICAgICAgICAgICBzaXplOiAxLFxuICAgICAgICAgICAgICAgIHR5cGU6IFRZUEVTLlVOU0lHTkVEX0JZVEUsXG4gICAgICAgICAgICAgICAgdXBsb2FkRnVuY3Rpb246IHRoaXMudXBsb2FkVGludCxcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IDAsXG4gICAgICAgICAgICB9LFxuICAgICAgICBdO1xuXG4gICAgICAgIHRoaXMuc2hhZGVyID0gU2hhZGVyLmZyb20odmVydGV4LCBmcmFnbWVudCwge30pO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgV2ViR0wgc3RhdGUgaW4gd2hpY2ggdGhpcyByZW5kZXJlciB3aWxsIHdvcmsuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU3RhdGV9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLmZvcjJkKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgcGFydGljbGUgY29udGFpbmVyIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5QYXJ0aWNsZUNvbnRhaW5lcn0gY29udGFpbmVyIC0gVGhlIGNvbnRhaW5lciB0byByZW5kZXIgdXNpbmcgdGhpcyBQYXJ0aWNsZVJlbmRlcmVyXG4gICAgICovXG4gICAgcHVibGljIHJlbmRlcihjb250YWluZXI6IFBhcnRpY2xlQ29udGFpbmVyKTogdm9pZFxuICAgIHtcbiAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBjb250YWluZXIuY2hpbGRyZW47XG4gICAgICAgIGNvbnN0IG1heFNpemUgPSBjb250YWluZXIuX21heFNpemU7XG4gICAgICAgIGNvbnN0IGJhdGNoU2l6ZSA9IGNvbnRhaW5lci5fYmF0Y2hTaXplO1xuICAgICAgICBjb25zdCByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG4gICAgICAgIGxldCB0b3RhbENoaWxkcmVuID0gY2hpbGRyZW4ubGVuZ3RoO1xuXG4gICAgICAgIGlmICh0b3RhbENoaWxkcmVuID09PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodG90YWxDaGlsZHJlbiA+IG1heFNpemUgJiYgIWNvbnRhaW5lci5hdXRvUmVzaXplKVxuICAgICAgICB7XG4gICAgICAgICAgICB0b3RhbENoaWxkcmVuID0gbWF4U2l6ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBidWZmZXJzID0gY29udGFpbmVyLl9idWZmZXJzO1xuXG4gICAgICAgIGlmICghYnVmZmVycylcbiAgICAgICAge1xuICAgICAgICAgICAgYnVmZmVycyA9IGNvbnRhaW5lci5fYnVmZmVycyA9IHRoaXMuZ2VuZXJhdGVCdWZmZXJzKGNvbnRhaW5lcik7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBiYXNlVGV4dHVyZSA9IChjaGlsZHJlblswXSBhcyBhbnkpLl90ZXh0dXJlLmJhc2VUZXh0dXJlO1xuXG4gICAgICAgIC8vIGlmIHRoZSB1dnMgaGF2ZSBub3QgdXBkYXRlZCB0aGVuIG5vIHBvaW50IHJlbmRlcmluZyBqdXN0IHlldCFcbiAgICAgICAgdGhpcy5zdGF0ZS5ibGVuZE1vZGUgPSBjb3JyZWN0QmxlbmRNb2RlKGNvbnRhaW5lci5ibGVuZE1vZGUsIGJhc2VUZXh0dXJlLmFscGhhTW9kZSk7XG4gICAgICAgIHJlbmRlcmVyLnN0YXRlLnNldCh0aGlzLnN0YXRlKTtcblxuICAgICAgICBjb25zdCBnbCA9IHJlbmRlcmVyLmdsO1xuXG4gICAgICAgIGNvbnN0IG0gPSBjb250YWluZXIud29ybGRUcmFuc2Zvcm0uY29weVRvKHRoaXMudGVtcE1hdHJpeCk7XG5cbiAgICAgICAgbS5wcmVwZW5kKHJlbmRlcmVyLmdsb2JhbFVuaWZvcm1zLnVuaWZvcm1zLnByb2plY3Rpb25NYXRyaXgpO1xuXG4gICAgICAgIHRoaXMuc2hhZGVyLnVuaWZvcm1zLnRyYW5zbGF0aW9uTWF0cml4ID0gbS50b0FycmF5KHRydWUpO1xuXG4gICAgICAgIHRoaXMuc2hhZGVyLnVuaWZvcm1zLnVDb2xvciA9IHByZW11bHRpcGx5UmdiYShjb250YWluZXIudGludFJnYixcbiAgICAgICAgICAgIGNvbnRhaW5lci53b3JsZEFscGhhLCB0aGlzLnNoYWRlci51bmlmb3Jtcy51Q29sb3IsIGJhc2VUZXh0dXJlLmFscGhhTW9kZSk7XG5cbiAgICAgICAgdGhpcy5zaGFkZXIudW5pZm9ybXMudVNhbXBsZXIgPSBiYXNlVGV4dHVyZTtcblxuICAgICAgICB0aGlzLnJlbmRlcmVyLnNoYWRlci5iaW5kKHRoaXMuc2hhZGVyKTtcblxuICAgICAgICBsZXQgdXBkYXRlU3RhdGljID0gZmFsc2U7XG5cbiAgICAgICAgLy8gbm93IGxldHMgdXBsb2FkIGFuZCByZW5kZXIgdGhlIGJ1ZmZlcnMuLlxuICAgICAgICBmb3IgKGxldCBpID0gMCwgaiA9IDA7IGkgPCB0b3RhbENoaWxkcmVuOyBpICs9IGJhdGNoU2l6ZSwgaiArPSAxKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgYW1vdW50ID0gKHRvdGFsQ2hpbGRyZW4gLSBpKTtcblxuICAgICAgICAgICAgaWYgKGFtb3VudCA+IGJhdGNoU2l6ZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBhbW91bnQgPSBiYXRjaFNpemU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChqID49IGJ1ZmZlcnMubGVuZ3RoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGJ1ZmZlcnMucHVzaCh0aGlzLl9nZW5lcmF0ZU9uZU1vcmVCdWZmZXIoY29udGFpbmVyKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGJ1ZmZlciA9IGJ1ZmZlcnNbal07XG5cbiAgICAgICAgICAgIC8vIHdlIGFsd2F5cyB1cGxvYWQgdGhlIGR5bmFtaWNcbiAgICAgICAgICAgIGJ1ZmZlci51cGxvYWREeW5hbWljKGNoaWxkcmVuLCBpLCBhbW91bnQpO1xuXG4gICAgICAgICAgICBjb25zdCBiaWQgPSBjb250YWluZXIuX2J1ZmZlclVwZGF0ZUlEc1tqXSB8fCAwO1xuXG4gICAgICAgICAgICB1cGRhdGVTdGF0aWMgPSB1cGRhdGVTdGF0aWMgfHwgKGJ1ZmZlci5fdXBkYXRlSUQgPCBiaWQpO1xuICAgICAgICAgICAgLy8gd2Ugb25seSB1cGxvYWQgdGhlIHN0YXRpYyBjb250ZW50IHdoZW4gd2UgaGF2ZSB0byFcbiAgICAgICAgICAgIGlmICh1cGRhdGVTdGF0aWMpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYnVmZmVyLl91cGRhdGVJRCA9IGNvbnRhaW5lci5fdXBkYXRlSUQ7XG4gICAgICAgICAgICAgICAgYnVmZmVyLnVwbG9hZFN0YXRpYyhjaGlsZHJlbiwgaSwgYW1vdW50KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gYmluZCB0aGUgYnVmZmVyXG4gICAgICAgICAgICByZW5kZXJlci5nZW9tZXRyeS5iaW5kKGJ1ZmZlci5nZW9tZXRyeSk7XG4gICAgICAgICAgICBnbC5kcmF3RWxlbWVudHMoZ2wuVFJJQU5HTEVTLCBhbW91bnQgKiA2LCBnbC5VTlNJR05FRF9TSE9SVCwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIG9uZSBwYXJ0aWNsZSBidWZmZXIgZm9yIGVhY2ggY2hpbGQgaW4gdGhlIGNvbnRhaW5lciB3ZSB3YW50IHRvIHJlbmRlciBhbmQgdXBkYXRlcyBpbnRlcm5hbCBwcm9wZXJ0aWVzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUGFydGljbGVDb250YWluZXJ9IGNvbnRhaW5lciAtIFRoZSBjb250YWluZXIgdG8gcmVuZGVyIHVzaW5nIHRoaXMgUGFydGljbGVSZW5kZXJlclxuICAgICAqIEByZXR1cm4ge1BJWEkuUGFydGljbGVCdWZmZXJbXX0gVGhlIGJ1ZmZlcnNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHByaXZhdGUgZ2VuZXJhdGVCdWZmZXJzKGNvbnRhaW5lcjogUGFydGljbGVDb250YWluZXIpOiBQYXJ0aWNsZUJ1ZmZlcltdXG4gICAge1xuICAgICAgICBjb25zdCBidWZmZXJzID0gW107XG4gICAgICAgIGNvbnN0IHNpemUgPSBjb250YWluZXIuX21heFNpemU7XG4gICAgICAgIGNvbnN0IGJhdGNoU2l6ZSA9IGNvbnRhaW5lci5fYmF0Y2hTaXplO1xuICAgICAgICBjb25zdCBkeW5hbWljUHJvcGVydHlGbGFncyA9IGNvbnRhaW5lci5fcHJvcGVydGllcztcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNpemU7IGkgKz0gYmF0Y2hTaXplKVxuICAgICAgICB7XG4gICAgICAgICAgICBidWZmZXJzLnB1c2gobmV3IFBhcnRpY2xlQnVmZmVyKHRoaXMucHJvcGVydGllcywgZHluYW1pY1Byb3BlcnR5RmxhZ3MsIGJhdGNoU2l6ZSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGJ1ZmZlcnM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBvbmUgbW9yZSBwYXJ0aWNsZSBidWZmZXIsIGJlY2F1c2UgY29udGFpbmVyIGhhcyBhdXRvUmVzaXplIGZlYXR1cmVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5QYXJ0aWNsZUNvbnRhaW5lcn0gY29udGFpbmVyIC0gVGhlIGNvbnRhaW5lciB0byByZW5kZXIgdXNpbmcgdGhpcyBQYXJ0aWNsZVJlbmRlcmVyXG4gICAgICogQHJldHVybiB7UElYSS5QYXJ0aWNsZUJ1ZmZlcn0gZ2VuZXJhdGVkIGJ1ZmZlclxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgcHJpdmF0ZSBfZ2VuZXJhdGVPbmVNb3JlQnVmZmVyKGNvbnRhaW5lcjogUGFydGljbGVDb250YWluZXIpOiBQYXJ0aWNsZUJ1ZmZlclxuICAgIHtcbiAgICAgICAgY29uc3QgYmF0Y2hTaXplID0gY29udGFpbmVyLl9iYXRjaFNpemU7XG4gICAgICAgIGNvbnN0IGR5bmFtaWNQcm9wZXJ0eUZsYWdzID0gY29udGFpbmVyLl9wcm9wZXJ0aWVzO1xuXG4gICAgICAgIHJldHVybiBuZXcgUGFydGljbGVCdWZmZXIodGhpcy5wcm9wZXJ0aWVzLCBkeW5hbWljUHJvcGVydHlGbGFncywgYmF0Y2hTaXplKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGxvYWRzIHRoZSB2ZXJ0aWNlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0W119IGNoaWxkcmVuIC0gdGhlIGFycmF5IG9mIGRpc3BsYXkgb2JqZWN0cyB0byByZW5kZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRJbmRleCAtIHRoZSBpbmRleCB0byBzdGFydCBmcm9tIGluIHRoZSBjaGlsZHJlbiBhcnJheVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSB0aGUgYW1vdW50IG9mIGNoaWxkcmVuIHRoYXQgd2lsbCBoYXZlIHRoZWlyIHZlcnRpY2VzIHVwbG9hZGVkXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gYXJyYXkgLSBUaGUgdmVydGljZXMgdG8gdXBsb2FkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgLSBTdHJpZGUgdG8gdXNlIGZvciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCAtIE9mZnNldCB0byBzdGFydCBhdC5cbiAgICAgKi9cbiAgICBwdWJsaWMgdXBsb2FkVmVydGljZXMoXG4gICAgICAgIGNoaWxkcmVuOiBEaXNwbGF5T2JqZWN0W10sIHN0YXJ0SW5kZXg6IG51bWJlciwgYW1vdW50OiBudW1iZXIsXG4gICAgICAgIGFycmF5OiBudW1iZXJbXSwgc3RyaWRlOiBudW1iZXIsIG9mZnNldDogbnVtYmVyXG4gICAgKTogdm9pZFxuICAgIHtcbiAgICAgICAgbGV0IHcwID0gMDtcbiAgICAgICAgbGV0IHcxID0gMDtcbiAgICAgICAgbGV0IGgwID0gMDtcbiAgICAgICAgbGV0IGgxID0gMDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFtb3VudDsgKytpKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBzcHJpdGU6IGFueSA9IGNoaWxkcmVuW3N0YXJ0SW5kZXggKyBpXTtcbiAgICAgICAgICAgIGNvbnN0IHRleHR1cmUgPSBzcHJpdGUuX3RleHR1cmU7XG4gICAgICAgICAgICBjb25zdCBzeCA9IHNwcml0ZS5zY2FsZS54O1xuICAgICAgICAgICAgY29uc3Qgc3kgPSBzcHJpdGUuc2NhbGUueTtcbiAgICAgICAgICAgIGNvbnN0IHRyaW0gPSB0ZXh0dXJlLnRyaW07XG4gICAgICAgICAgICBjb25zdCBvcmlnID0gdGV4dHVyZS5vcmlnO1xuXG4gICAgICAgICAgICBpZiAodHJpbSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBpZiB0aGUgc3ByaXRlIGlzIHRyaW1tZWQgYW5kIGlzIG5vdCBhIHRpbGluZ3Nwcml0ZSB0aGVuIHdlIG5lZWQgdG8gYWRkIHRoZVxuICAgICAgICAgICAgICAgIC8vIGV4dHJhIHNwYWNlIGJlZm9yZSB0cmFuc2Zvcm1pbmcgdGhlIHNwcml0ZSBjb29yZHMuLlxuICAgICAgICAgICAgICAgIHcxID0gdHJpbS54IC0gKHNwcml0ZS5hbmNob3IueCAqIG9yaWcud2lkdGgpO1xuICAgICAgICAgICAgICAgIHcwID0gdzEgKyB0cmltLndpZHRoO1xuXG4gICAgICAgICAgICAgICAgaDEgPSB0cmltLnkgLSAoc3ByaXRlLmFuY2hvci55ICogb3JpZy5oZWlnaHQpO1xuICAgICAgICAgICAgICAgIGgwID0gaDEgKyB0cmltLmhlaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB3MCA9IChvcmlnLndpZHRoKSAqICgxIC0gc3ByaXRlLmFuY2hvci54KTtcbiAgICAgICAgICAgICAgICB3MSA9IChvcmlnLndpZHRoKSAqIC1zcHJpdGUuYW5jaG9yLng7XG5cbiAgICAgICAgICAgICAgICBoMCA9IG9yaWcuaGVpZ2h0ICogKDEgLSBzcHJpdGUuYW5jaG9yLnkpO1xuICAgICAgICAgICAgICAgIGgxID0gb3JpZy5oZWlnaHQgKiAtc3ByaXRlLmFuY2hvci55O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBhcnJheVtvZmZzZXRdID0gdzEgKiBzeDtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIDFdID0gaDEgKiBzeTtcblxuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlXSA9IHcwICogc3g7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKyAxXSA9IGgxICogc3k7XG5cbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAyKV0gPSB3MCAqIHN4O1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDIpICsgMV0gPSBoMCAqIHN5O1xuXG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMyldID0gdzEgKiBzeDtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAzKSArIDFdID0gaDAgKiBzeTtcblxuICAgICAgICAgICAgb2Zmc2V0ICs9IHN0cmlkZSAqIDQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGxvYWRzIHRoZSBwb3NpdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0W119IGNoaWxkcmVuIC0gdGhlIGFycmF5IG9mIGRpc3BsYXkgb2JqZWN0cyB0byByZW5kZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRJbmRleCAtIHRoZSBpbmRleCB0byBzdGFydCBmcm9tIGluIHRoZSBjaGlsZHJlbiBhcnJheVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSB0aGUgYW1vdW50IG9mIGNoaWxkcmVuIHRoYXQgd2lsbCBoYXZlIHRoZWlyIHBvc2l0aW9ucyB1cGxvYWRlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGFycmF5IC0gVGhlIHZlcnRpY2VzIHRvIHVwbG9hZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIC0gU3RyaWRlIHRvIHVzZSBmb3IgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgLSBPZmZzZXQgdG8gc3RhcnQgYXQuXG4gICAgICovXG4gICAgcHVibGljIHVwbG9hZFBvc2l0aW9uKFxuICAgICAgICBjaGlsZHJlbjogRGlzcGxheU9iamVjdFtdLCBzdGFydEluZGV4OiBudW1iZXIsIGFtb3VudDogbnVtYmVyLFxuICAgICAgICBhcnJheTogbnVtYmVyW10sIHN0cmlkZTogbnVtYmVyLCBvZmZzZXQ6IG51bWJlclxuICAgICk6IHZvaWRcbiAgICB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYW1vdW50OyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHNwcml0ZVBvc2l0aW9uID0gY2hpbGRyZW5bc3RhcnRJbmRleCArIGldLnBvc2l0aW9uO1xuXG4gICAgICAgICAgICBhcnJheVtvZmZzZXRdID0gc3ByaXRlUG9zaXRpb24ueDtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIDFdID0gc3ByaXRlUG9zaXRpb24ueTtcblxuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlXSA9IHNwcml0ZVBvc2l0aW9uLng7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKyAxXSA9IHNwcml0ZVBvc2l0aW9uLnk7XG5cbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAyKV0gPSBzcHJpdGVQb3NpdGlvbi54O1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDIpICsgMV0gPSBzcHJpdGVQb3NpdGlvbi55O1xuXG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMyldID0gc3ByaXRlUG9zaXRpb24ueDtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAzKSArIDFdID0gc3ByaXRlUG9zaXRpb24ueTtcblxuICAgICAgICAgICAgb2Zmc2V0ICs9IHN0cmlkZSAqIDQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGxvYWRzIHRoZSByb3RhdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0W119IGNoaWxkcmVuIC0gdGhlIGFycmF5IG9mIGRpc3BsYXkgb2JqZWN0cyB0byByZW5kZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRJbmRleCAtIHRoZSBpbmRleCB0byBzdGFydCBmcm9tIGluIHRoZSBjaGlsZHJlbiBhcnJheVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSB0aGUgYW1vdW50IG9mIGNoaWxkcmVuIHRoYXQgd2lsbCBoYXZlIHRoZWlyIHJvdGF0aW9uIHVwbG9hZGVkXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gYXJyYXkgLSBUaGUgdmVydGljZXMgdG8gdXBsb2FkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgLSBTdHJpZGUgdG8gdXNlIGZvciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCAtIE9mZnNldCB0byBzdGFydCBhdC5cbiAgICAgKi9cbiAgICBwdWJsaWMgdXBsb2FkUm90YXRpb24oXG4gICAgICAgIGNoaWxkcmVuOiBEaXNwbGF5T2JqZWN0W10sIHN0YXJ0SW5kZXg6IG51bWJlciwgYW1vdW50OiBudW1iZXIsXG4gICAgICAgIGFycmF5OiBudW1iZXJbXSwgc3RyaWRlOiBudW1iZXIsIG9mZnNldDogbnVtYmVyXG4gICAgKTogdm9pZFxuICAgIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhbW91bnQ7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3Qgc3ByaXRlUm90YXRpb24gPSBjaGlsZHJlbltzdGFydEluZGV4ICsgaV0ucm90YXRpb247XG5cbiAgICAgICAgICAgIGFycmF5W29mZnNldF0gPSBzcHJpdGVSb3RhdGlvbjtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZV0gPSBzcHJpdGVSb3RhdGlvbjtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAyKV0gPSBzcHJpdGVSb3RhdGlvbjtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAzKV0gPSBzcHJpdGVSb3RhdGlvbjtcblxuICAgICAgICAgICAgb2Zmc2V0ICs9IHN0cmlkZSAqIDQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGxvYWRzIHRoZSBVdnNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0W119IGNoaWxkcmVuIC0gdGhlIGFycmF5IG9mIGRpc3BsYXkgb2JqZWN0cyB0byByZW5kZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRJbmRleCAtIHRoZSBpbmRleCB0byBzdGFydCBmcm9tIGluIHRoZSBjaGlsZHJlbiBhcnJheVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSB0aGUgYW1vdW50IG9mIGNoaWxkcmVuIHRoYXQgd2lsbCBoYXZlIHRoZWlyIHJvdGF0aW9uIHVwbG9hZGVkXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gYXJyYXkgLSBUaGUgdmVydGljZXMgdG8gdXBsb2FkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgLSBTdHJpZGUgdG8gdXNlIGZvciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCAtIE9mZnNldCB0byBzdGFydCBhdC5cbiAgICAgKi9cbiAgICBwdWJsaWMgdXBsb2FkVXZzKFxuICAgICAgICBjaGlsZHJlbjogRGlzcGxheU9iamVjdFtdLCBzdGFydEluZGV4OiBudW1iZXIsIGFtb3VudDogbnVtYmVyLFxuICAgICAgICBhcnJheTogbnVtYmVyW10sIHN0cmlkZTogbnVtYmVyLCBvZmZzZXQ6IG51bWJlclxuICAgICk6IHZvaWRcbiAgICB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYW1vdW50OyArK2kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHRleHR1cmVVdnMgPSAoY2hpbGRyZW5bc3RhcnRJbmRleCArIGldIGFzIGFueSkuX3RleHR1cmUuX3V2cztcblxuICAgICAgICAgICAgaWYgKHRleHR1cmVVdnMpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0XSA9IHRleHR1cmVVdnMueDA7XG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgMV0gPSB0ZXh0dXJlVXZzLnkwO1xuXG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlXSA9IHRleHR1cmVVdnMueDE7XG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICsgMV0gPSB0ZXh0dXJlVXZzLnkxO1xuXG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDIpXSA9IHRleHR1cmVVdnMueDI7XG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDIpICsgMV0gPSB0ZXh0dXJlVXZzLnkyO1xuXG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDMpXSA9IHRleHR1cmVVdnMueDM7XG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDMpICsgMV0gPSB0ZXh0dXJlVXZzLnkzO1xuXG4gICAgICAgICAgICAgICAgb2Zmc2V0ICs9IHN0cmlkZSAqIDQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gVE9ETyB5b3Uga25vdyB0aGlzIGNhbiBiZSBlYXNpZXIhXG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0XSA9IDA7XG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgMV0gPSAwO1xuXG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlXSA9IDA7XG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICsgMV0gPSAwO1xuXG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDIpXSA9IDA7XG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDIpICsgMV0gPSAwO1xuXG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDMpXSA9IDA7XG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDMpICsgMV0gPSAwO1xuXG4gICAgICAgICAgICAgICAgb2Zmc2V0ICs9IHN0cmlkZSAqIDQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGxvYWRzIHRoZSB0aW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3RbXX0gY2hpbGRyZW4gLSB0aGUgYXJyYXkgb2YgZGlzcGxheSBvYmplY3RzIHRvIHJlbmRlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEluZGV4IC0gdGhlIGluZGV4IHRvIHN0YXJ0IGZyb20gaW4gdGhlIGNoaWxkcmVuIGFycmF5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFtb3VudCAtIHRoZSBhbW91bnQgb2YgY2hpbGRyZW4gdGhhdCB3aWxsIGhhdmUgdGhlaXIgcm90YXRpb24gdXBsb2FkZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBhcnJheSAtIFRoZSB2ZXJ0aWNlcyB0byB1cGxvYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSAtIFN0cmlkZSB0byB1c2UgZm9yIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IC0gT2Zmc2V0IHRvIHN0YXJ0IGF0LlxuICAgICAqL1xuICAgIHB1YmxpYyB1cGxvYWRUaW50KFxuICAgICAgICBjaGlsZHJlbjogRGlzcGxheU9iamVjdFtdLCBzdGFydEluZGV4OiBudW1iZXIsIGFtb3VudDogbnVtYmVyLFxuICAgICAgICBhcnJheTogbnVtYmVyW10sIHN0cmlkZTogbnVtYmVyLCBvZmZzZXQ6IG51bWJlclxuICAgICk6IHZvaWRcbiAgICB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYW1vdW50OyArK2kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHNwcml0ZTogYW55ID0gY2hpbGRyZW5bc3RhcnRJbmRleCArIGldO1xuICAgICAgICAgICAgY29uc3QgcHJlbXVsdGlwbGllZCA9IHNwcml0ZS5fdGV4dHVyZS5iYXNlVGV4dHVyZS5hbHBoYU1vZGUgPiAwO1xuICAgICAgICAgICAgY29uc3QgYWxwaGEgPSBzcHJpdGUuYWxwaGE7XG5cbiAgICAgICAgICAgIC8vIHdlIGRvbnQgY2FsbCBleHRyYSBmdW5jdGlvbiBpZiBhbHBoYSBpcyAxLjAsIHRoYXQncyBmYXN0ZXJcbiAgICAgICAgICAgIGNvbnN0IGFyZ2IgPSBhbHBoYSA8IDEuMCAmJiBwcmVtdWx0aXBsaWVkXG4gICAgICAgICAgICAgICAgPyBwcmVtdWx0aXBseVRpbnQoc3ByaXRlLl90aW50UkdCLCBhbHBoYSkgOiBzcHJpdGUuX3RpbnRSR0IgKyAoYWxwaGEgKiAyNTUgPDwgMjQpO1xuXG4gICAgICAgICAgICBhcnJheVtvZmZzZXRdID0gYXJnYjtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZV0gPSBhcmdiO1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDIpXSA9IGFyZ2I7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMyldID0gYXJnYjtcblxuICAgICAgICAgICAgb2Zmc2V0ICs9IHN0cmlkZSAqIDQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgUGFydGljbGVSZW5kZXJlci5cbiAgICAgKi9cbiAgICBwdWJsaWMgZGVzdHJveSgpOiB2b2lkXG4gICAge1xuICAgICAgICBzdXBlci5kZXN0cm95KCk7XG5cbiAgICAgICAgaWYgKHRoaXMuc2hhZGVyKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnNoYWRlci5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLnNoYWRlciA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnRlbXBNYXRyaXggPSBudWxsO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFRleHR1cmUgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB0eXBlIHsgTWF0cml4IH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5cbi8qKlxuICogRmlsbCBzdHlsZSBvYmplY3QgZm9yIEdyYXBoaWNzLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGNsYXNzIEZpbGxTdHlsZVxue1xuICAgIC8qKlxuICAgICAqIFRoZSBoZXggY29sb3IgdmFsdWUgdXNlZCB3aGVuIGNvbG9yaW5nIHRoZSBHcmFwaGljcyBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMHhGRkZGRkZcbiAgICAgKi9cbiAgICBwdWJsaWMgY29sb3IgPSAweEZGRkZGRjtcblxuICAgIC8qKlxuICAgICAqIFRoZSBhbHBoYSB2YWx1ZSB1c2VkIHdoZW4gZmlsbGluZyB0aGUgR3JhcGhpY3Mgb2JqZWN0LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDFcbiAgICAgKi9cbiAgICBwdWJsaWMgYWxwaGEgPSAxLjA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdGV4dHVyZSB0byBiZSB1c2VkIGZvciB0aGUgZmlsbC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZX1cbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG4gICAgcHVibGljIHRleHR1cmU6IFRleHR1cmUgPSBUZXh0dXJlLldISVRFO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHRyYW5zZm9ybSBhcGxwaWVkIHRvIHRoZSB0ZXh0dXJlLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5NYXRyaXh9XG4gICAgICogQGRlZmF1bHQgbnVsbFxuICAgICAqL1xuICAgIHB1YmxpYyBtYXRyaXg6IE1hdHJpeCA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBJZiB0aGUgY3VycmVudCBmaWxsIGlzIHZpc2libGUuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICovXG4gICAgcHVibGljIHZpc2libGUgPSBmYWxzZTtcblxuICAgIGNvbnN0cnVjdG9yKClcbiAgICB7XG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDbG9uZXMgdGhlIG9iamVjdFxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5GaWxsU3R5bGV9XG4gICAgICovXG4gICAgcHVibGljIGNsb25lKCk6IEZpbGxTdHlsZVxuICAgIHtcbiAgICAgICAgY29uc3Qgb2JqID0gbmV3IEZpbGxTdHlsZSgpO1xuXG4gICAgICAgIG9iai5jb2xvciA9IHRoaXMuY29sb3I7XG4gICAgICAgIG9iai5hbHBoYSA9IHRoaXMuYWxwaGE7XG4gICAgICAgIG9iai50ZXh0dXJlID0gdGhpcy50ZXh0dXJlO1xuICAgICAgICBvYmoubWF0cml4ID0gdGhpcy5tYXRyaXg7XG4gICAgICAgIG9iai52aXNpYmxlID0gdGhpcy52aXNpYmxlO1xuXG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVzZXRcbiAgICAgKi9cbiAgICBwdWJsaWMgcmVzZXQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgdGhpcy5jb2xvciA9IDB4RkZGRkZGO1xuICAgICAgICB0aGlzLmFscGhhID0gMTtcbiAgICAgICAgdGhpcy50ZXh0dXJlID0gVGV4dHVyZS5XSElURTtcbiAgICAgICAgdGhpcy5tYXRyaXggPSBudWxsO1xuICAgICAgICB0aGlzLnZpc2libGUgPSBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95IGFuZCBkb24ndCB1c2UgYWZ0ZXIgdGhpc1xuICAgICAqL1xuICAgIHB1YmxpYyBkZXN0cm95KCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHRoaXMudGV4dHVyZSA9IG51bGw7XG4gICAgICAgIHRoaXMubWF0cml4ID0gbnVsbDtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBlYXJjdXQgfSBmcm9tICdAcGl4aS91dGlscyc7XG5cbmltcG9ydCB0eXBlIHsgSVNoYXBlQnVpbGRDb21tYW5kIH0gZnJvbSAnLi9JU2hhcGVCdWlsZENvbW1hbmQnO1xuaW1wb3J0IHR5cGUgeyBQb2x5Z29uIH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5cbi8qKlxuICogQnVpbGRzIGEgcG9seWdvbiB0byBkcmF3XG4gKlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5XZWJHTEdyYXBoaWNzRGF0YX0gZ3JhcGhpY3NEYXRhIC0gVGhlIGdyYXBoaWNzIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgbmVjZXNzYXJ5IHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7b2JqZWN0fSB3ZWJHTERhdGEgLSBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIFdlYkdMLXNwZWNpZmljIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSB0aGlzIHNoYXBlXG4gKiBAcGFyYW0ge29iamVjdH0gd2ViR0xEYXRhTmF0aXZlTGluZXMgLSBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIFdlYkdMLXNwZWNpZmljIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSBuYXRpdmVMaW5lc1xuICovXG5leHBvcnQgY29uc3QgYnVpbGRQb2x5OiBJU2hhcGVCdWlsZENvbW1hbmQgPSB7XG5cbiAgICBidWlsZChncmFwaGljc0RhdGEpXG4gICAge1xuICAgICAgICBncmFwaGljc0RhdGEucG9pbnRzID0gKGdyYXBoaWNzRGF0YS5zaGFwZSBhcyBQb2x5Z29uKS5wb2ludHMuc2xpY2UoKTtcbiAgICB9LFxuXG4gICAgdHJpYW5ndWxhdGUoZ3JhcGhpY3NEYXRhLCBncmFwaGljc0dlb21ldHJ5KVxuICAgIHtcbiAgICAgICAgbGV0IHBvaW50cyA9IGdyYXBoaWNzRGF0YS5wb2ludHM7XG4gICAgICAgIGNvbnN0IGhvbGVzID0gZ3JhcGhpY3NEYXRhLmhvbGVzO1xuICAgICAgICBjb25zdCB2ZXJ0cyA9IGdyYXBoaWNzR2VvbWV0cnkucG9pbnRzO1xuICAgICAgICBjb25zdCBpbmRpY2VzID0gZ3JhcGhpY3NHZW9tZXRyeS5pbmRpY2VzO1xuXG4gICAgICAgIGlmIChwb2ludHMubGVuZ3RoID49IDYpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGhvbGVBcnJheSA9IFtdO1xuICAgICAgICAgICAgLy8gUHJvY2VzcyBob2xlcy4uXG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaG9sZXMubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgaG9sZSA9IGhvbGVzW2ldO1xuXG4gICAgICAgICAgICAgICAgaG9sZUFycmF5LnB1c2gocG9pbnRzLmxlbmd0aCAvIDIpO1xuICAgICAgICAgICAgICAgIHBvaW50cyA9IHBvaW50cy5jb25jYXQoaG9sZS5wb2ludHMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBzb3J0IGNvbG9yXG4gICAgICAgICAgICBjb25zdCB0cmlhbmdsZXMgPSBlYXJjdXQocG9pbnRzLCBob2xlQXJyYXksIDIpO1xuXG4gICAgICAgICAgICBpZiAoIXRyaWFuZ2xlcylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHZlcnRQb3MgPSB2ZXJ0cy5sZW5ndGggLyAyO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRyaWFuZ2xlcy5sZW5ndGg7IGkgKz0gMylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRpY2VzLnB1c2godHJpYW5nbGVzW2ldICsgdmVydFBvcyk7XG4gICAgICAgICAgICAgICAgaW5kaWNlcy5wdXNoKHRyaWFuZ2xlc1tpICsgMV0gKyB2ZXJ0UG9zKTtcbiAgICAgICAgICAgICAgICBpbmRpY2VzLnB1c2godHJpYW5nbGVzW2kgKyAyXSArIHZlcnRQb3MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2ZXJ0cy5wdXNoKHBvaW50c1tpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxufTtcbiIsIi8vIGZvciB0eXBlIG9ubHlcbmltcG9ydCB7IFNIQVBFUyB9IGZyb20gJ0BwaXhpL21hdGgnO1xuXG5pbXBvcnQgdHlwZSB7IENpcmNsZSwgRWxsaXBzZSB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IHR5cGUgeyBJU2hhcGVCdWlsZENvbW1hbmQgfSBmcm9tICcuL0lTaGFwZUJ1aWxkQ29tbWFuZCc7XG5cbi8qKlxuICogQnVpbGRzIGEgY2lyY2xlIHRvIGRyYXdcbiAqXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLldlYkdMR3JhcGhpY3NEYXRhfSBncmFwaGljc0RhdGEgLSBUaGUgZ3JhcGhpY3Mgb2JqZWN0IHRvIGRyYXdcbiAqIEBwYXJhbSB7b2JqZWN0fSB3ZWJHTERhdGEgLSBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIFdlYkdMLXNwZWNpZmljIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSB0aGlzIHNoYXBlXG4gKiBAcGFyYW0ge29iamVjdH0gd2ViR0xEYXRhTmF0aXZlTGluZXMgLSBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIFdlYkdMLXNwZWNpZmljIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSBuYXRpdmVMaW5lc1xuICovXG5leHBvcnQgY29uc3QgYnVpbGRDaXJjbGU6IElTaGFwZUJ1aWxkQ29tbWFuZCA9IHtcblxuICAgIGJ1aWxkKGdyYXBoaWNzRGF0YSlcbiAgICB7XG4gICAgICAgIC8vIG5lZWQgdG8gY29udmVydCBwb2ludHMgdG8gYSBuaWNlIHJlZ3VsYXIgZGF0YVxuICAgICAgICBjb25zdCBjaXJjbGVEYXRhID0gZ3JhcGhpY3NEYXRhLnNoYXBlIGFzIENpcmNsZTtcbiAgICAgICAgY29uc3QgcG9pbnRzID0gZ3JhcGhpY3NEYXRhLnBvaW50cztcbiAgICAgICAgY29uc3QgeCA9IGNpcmNsZURhdGEueDtcbiAgICAgICAgY29uc3QgeSA9IGNpcmNsZURhdGEueTtcbiAgICAgICAgbGV0IHdpZHRoO1xuICAgICAgICBsZXQgaGVpZ2h0O1xuXG4gICAgICAgIHBvaW50cy5sZW5ndGggPSAwO1xuXG4gICAgICAgIC8vIFRPRE8gLSBiaXQgaGFja3k/P1xuICAgICAgICBpZiAoZ3JhcGhpY3NEYXRhLnR5cGUgPT09IFNIQVBFUy5DSVJDKVxuICAgICAgICB7XG4gICAgICAgICAgICB3aWR0aCA9IGNpcmNsZURhdGEucmFkaXVzO1xuICAgICAgICAgICAgaGVpZ2h0ID0gY2lyY2xlRGF0YS5yYWRpdXM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBlbGxpcHNlRGF0YSA9IGdyYXBoaWNzRGF0YS5zaGFwZSBhcyBFbGxpcHNlO1xuXG4gICAgICAgICAgICB3aWR0aCA9IGVsbGlwc2VEYXRhLndpZHRoO1xuICAgICAgICAgICAgaGVpZ2h0ID0gZWxsaXBzZURhdGEuaGVpZ2h0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHdpZHRoID09PSAwIHx8IGhlaWdodCA9PT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHRvdGFsU2VncyA9IE1hdGguZmxvb3IoMzAgKiBNYXRoLnNxcnQoY2lyY2xlRGF0YS5yYWRpdXMpKVxuICAgICAgICAgICAgfHwgTWF0aC5mbG9vcigxNSAqIE1hdGguc3FydCh3aWR0aCArIGhlaWdodCkpO1xuXG4gICAgICAgIHRvdGFsU2VncyAvPSAyLjM7XG5cbiAgICAgICAgY29uc3Qgc2VnID0gKE1hdGguUEkgKiAyKSAvIHRvdGFsU2VncztcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRvdGFsU2VncyAtIDAuNTsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBwb2ludHMucHVzaChcbiAgICAgICAgICAgICAgICB4ICsgKE1hdGguc2luKC1zZWcgKiBpKSAqIHdpZHRoKSxcbiAgICAgICAgICAgICAgICB5ICsgKE1hdGguY29zKC1zZWcgKiBpKSAqIGhlaWdodClcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBwb2ludHMucHVzaChwb2ludHNbMF0sIHBvaW50c1sxXSk7XG4gICAgfSxcblxuICAgIHRyaWFuZ3VsYXRlKGdyYXBoaWNzRGF0YSwgZ3JhcGhpY3NHZW9tZXRyeSlcbiAgICB7XG4gICAgICAgIGNvbnN0IHBvaW50cyA9IGdyYXBoaWNzRGF0YS5wb2ludHM7XG4gICAgICAgIGNvbnN0IHZlcnRzID0gZ3JhcGhpY3NHZW9tZXRyeS5wb2ludHM7XG4gICAgICAgIGNvbnN0IGluZGljZXMgPSBncmFwaGljc0dlb21ldHJ5LmluZGljZXM7XG5cbiAgICAgICAgbGV0IHZlcnRQb3MgPSB2ZXJ0cy5sZW5ndGggLyAyO1xuICAgICAgICBjb25zdCBjZW50ZXIgPSB2ZXJ0UG9zO1xuXG4gICAgICAgIGNvbnN0IGNpcmNsZSA9IChncmFwaGljc0RhdGEuc2hhcGUpIGFzIENpcmNsZTtcbiAgICAgICAgY29uc3QgbWF0cml4ID0gZ3JhcGhpY3NEYXRhLm1hdHJpeDtcbiAgICAgICAgY29uc3QgeCA9IGNpcmNsZS54O1xuICAgICAgICBjb25zdCB5ID0gY2lyY2xlLnk7XG5cbiAgICAgICAgLy8gUHVzaCBjZW50ZXIgKHNwZWNpYWwgcG9pbnQpXG4gICAgICAgIHZlcnRzLnB1c2goXG4gICAgICAgICAgICBncmFwaGljc0RhdGEubWF0cml4ID8gKG1hdHJpeC5hICogeCkgKyAobWF0cml4LmMgKiB5KSArIG1hdHJpeC50eCA6IHgsXG4gICAgICAgICAgICBncmFwaGljc0RhdGEubWF0cml4ID8gKG1hdHJpeC5iICogeCkgKyAobWF0cml4LmQgKiB5KSArIG1hdHJpeC50eSA6IHkpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSArPSAyKVxuICAgICAgICB7XG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHBvaW50c1tpXSwgcG9pbnRzW2kgKyAxXSk7XG5cbiAgICAgICAgICAgIC8vIGFkZCBzb21lIHV2c1xuICAgICAgICAgICAgaW5kaWNlcy5wdXNoKHZlcnRQb3MrKywgY2VudGVyLCB2ZXJ0UG9zKTtcbiAgICAgICAgfVxuICAgIH0sXG59O1xuIiwiaW1wb3J0IHR5cGUgeyBJU2hhcGVCdWlsZENvbW1hbmQgfSBmcm9tICcuL0lTaGFwZUJ1aWxkQ29tbWFuZCc7XG5pbXBvcnQgdHlwZSB7IFJlY3RhbmdsZSB9IGZyb20gJ0BwaXhpL21hdGgnO1xuXG4vKipcbiAqIEJ1aWxkcyBhIHJlY3RhbmdsZSB0byBkcmF3XG4gKlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5XZWJHTEdyYXBoaWNzRGF0YX0gZ3JhcGhpY3NEYXRhIC0gVGhlIGdyYXBoaWNzIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgbmVjZXNzYXJ5IHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7b2JqZWN0fSB3ZWJHTERhdGEgLSBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIFdlYkdMLXNwZWNpZmljIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSB0aGlzIHNoYXBlXG4gKiBAcGFyYW0ge29iamVjdH0gd2ViR0xEYXRhTmF0aXZlTGluZXMgLSBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIFdlYkdMLXNwZWNpZmljIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSBuYXRpdmVMaW5lc1xuICovXG5leHBvcnQgY29uc3QgYnVpbGRSZWN0YW5nbGU6IElTaGFwZUJ1aWxkQ29tbWFuZCA9IHtcblxuICAgIGJ1aWxkKGdyYXBoaWNzRGF0YSlcbiAgICB7XG4gICAgICAgIC8vIC0tLSAvL1xuICAgICAgICAvLyBuZWVkIHRvIGNvbnZlcnQgcG9pbnRzIHRvIGEgbmljZSByZWd1bGFyIGRhdGFcbiAgICAgICAgLy9cbiAgICAgICAgY29uc3QgcmVjdERhdGEgPSBncmFwaGljc0RhdGEuc2hhcGUgYXMgUmVjdGFuZ2xlO1xuICAgICAgICBjb25zdCB4ID0gcmVjdERhdGEueDtcbiAgICAgICAgY29uc3QgeSA9IHJlY3REYXRhLnk7XG4gICAgICAgIGNvbnN0IHdpZHRoID0gcmVjdERhdGEud2lkdGg7XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IHJlY3REYXRhLmhlaWdodDtcblxuICAgICAgICBjb25zdCBwb2ludHMgPSBncmFwaGljc0RhdGEucG9pbnRzO1xuXG4gICAgICAgIHBvaW50cy5sZW5ndGggPSAwO1xuXG4gICAgICAgIHBvaW50cy5wdXNoKHgsIHksXG4gICAgICAgICAgICB4ICsgd2lkdGgsIHksXG4gICAgICAgICAgICB4ICsgd2lkdGgsIHkgKyBoZWlnaHQsXG4gICAgICAgICAgICB4LCB5ICsgaGVpZ2h0KTtcbiAgICB9LFxuXG4gICAgdHJpYW5ndWxhdGUoZ3JhcGhpY3NEYXRhLCBncmFwaGljc0dlb21ldHJ5KVxuICAgIHtcbiAgICAgICAgY29uc3QgcG9pbnRzID0gZ3JhcGhpY3NEYXRhLnBvaW50cztcbiAgICAgICAgY29uc3QgdmVydHMgPSBncmFwaGljc0dlb21ldHJ5LnBvaW50cztcblxuICAgICAgICBjb25zdCB2ZXJ0UG9zID0gdmVydHMubGVuZ3RoIC8gMjtcblxuICAgICAgICB2ZXJ0cy5wdXNoKHBvaW50c1swXSwgcG9pbnRzWzFdLFxuICAgICAgICAgICAgcG9pbnRzWzJdLCBwb2ludHNbM10sXG4gICAgICAgICAgICBwb2ludHNbNl0sIHBvaW50c1s3XSxcbiAgICAgICAgICAgIHBvaW50c1s0XSwgcG9pbnRzWzVdKTtcblxuICAgICAgICBncmFwaGljc0dlb21ldHJ5LmluZGljZXMucHVzaCh2ZXJ0UG9zLCB2ZXJ0UG9zICsgMSwgdmVydFBvcyArIDIsXG4gICAgICAgICAgICB2ZXJ0UG9zICsgMSwgdmVydFBvcyArIDIsIHZlcnRQb3MgKyAzKTtcbiAgICB9LFxufTtcbiIsImltcG9ydCB7IGVhcmN1dCB9IGZyb20gJ0BwaXhpL3V0aWxzJztcblxuLy8gZm9yIHR5cGUgb25seVxuaW1wb3J0IHR5cGUgeyBJU2hhcGVCdWlsZENvbW1hbmQgfSBmcm9tICcuL0lTaGFwZUJ1aWxkQ29tbWFuZCc7XG5pbXBvcnQgdHlwZSB7IFJvdW5kZWRSZWN0YW5nbGUgfSBmcm9tICdAcGl4aS9tYXRoJztcblxuLyoqXG4gKiBDYWxjdWxhdGUgYSBzaW5nbGUgcG9pbnQgZm9yIGEgcXVhZHJhdGljIGJlemllciBjdXJ2ZS5cbiAqIFV0aWxpdHkgZnVuY3Rpb24gdXNlZCBieSBxdWFkcmF0aWNCZXppZXJDdXJ2ZS5cbiAqIElnbm9yZWQgZnJvbSBkb2NzIHNpbmNlIGl0IGlzIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge251bWJlcn0gbjEgLSBmaXJzdCBudW1iZXJcbiAqIEBwYXJhbSB7bnVtYmVyfSBuMiAtIHNlY29uZCBudW1iZXJcbiAqIEBwYXJhbSB7bnVtYmVyfSBwZXJjIC0gcGVyY2VudGFnZVxuICogQHJldHVybiB7bnVtYmVyfSB0aGUgcmVzdWx0XG4gKlxuICovXG5mdW5jdGlvbiBnZXRQdChuMTogbnVtYmVyLCBuMjogbnVtYmVyLCBwZXJjOiBudW1iZXIpOiBudW1iZXJcbntcbiAgICBjb25zdCBkaWZmID0gbjIgLSBuMTtcblxuICAgIHJldHVybiBuMSArIChkaWZmICogcGVyYyk7XG59XG5cbi8qKlxuICogQ2FsY3VsYXRlIHRoZSBwb2ludHMgZm9yIGEgcXVhZHJhdGljIGJlemllciBjdXJ2ZS4gKGhlbHBlciBmdW5jdGlvbi4uKVxuICogQmFzZWQgb246IGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzc4NTA5Ny9ob3ctZG8taS1pbXBsZW1lbnQtYS1iZXppZXItY3VydmUtaW4tY1xuICpcbiAqIElnbm9yZWQgZnJvbSBkb2NzIHNpbmNlIGl0IGlzIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge251bWJlcn0gZnJvbVggLSBPcmlnaW4gcG9pbnQgeFxuICogQHBhcmFtIHtudW1iZXJ9IGZyb21ZIC0gT3JpZ2luIHBvaW50IHhcbiAqIEBwYXJhbSB7bnVtYmVyfSBjcFggLSBDb250cm9sIHBvaW50IHhcbiAqIEBwYXJhbSB7bnVtYmVyfSBjcFkgLSBDb250cm9sIHBvaW50IHlcbiAqIEBwYXJhbSB7bnVtYmVyfSB0b1ggLSBEZXN0aW5hdGlvbiBwb2ludCB4XG4gKiBAcGFyYW0ge251bWJlcn0gdG9ZIC0gRGVzdGluYXRpb24gcG9pbnQgeVxuICogQHBhcmFtIHtudW1iZXJbXX0gW291dD1bXV0gLSBUaGUgb3V0cHV0IGFycmF5IHRvIGFkZCBwb2ludHMgaW50by4gSWYgbm90IHBhc3NlZCwgYSBuZXcgYXJyYXkgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm4ge251bWJlcltdfSBhbiBhcnJheSBvZiBwb2ludHNcbiAqL1xuZnVuY3Rpb24gcXVhZHJhdGljQmV6aWVyQ3VydmUoXG4gICAgZnJvbVg6IG51bWJlciwgZnJvbVk6IG51bWJlcixcbiAgICBjcFg6IG51bWJlciwgY3BZOiBudW1iZXIsXG4gICAgdG9YOiBudW1iZXIsIHRvWTogbnVtYmVyLFxuICAgIG91dDogQXJyYXk8bnVtYmVyPiA9IFtdKTogQXJyYXk8bnVtYmVyPlxue1xuICAgIGNvbnN0IG4gPSAyMDtcbiAgICBjb25zdCBwb2ludHMgPSBvdXQ7XG5cbiAgICBsZXQgeGEgPSAwO1xuICAgIGxldCB5YSA9IDA7XG4gICAgbGV0IHhiID0gMDtcbiAgICBsZXQgeWIgPSAwO1xuICAgIGxldCB4ID0gMDtcbiAgICBsZXQgeSA9IDA7XG5cbiAgICBmb3IgKGxldCBpID0gMCwgaiA9IDA7IGkgPD0gbjsgKytpKVxuICAgIHtcbiAgICAgICAgaiA9IGkgLyBuO1xuXG4gICAgICAgIC8vIFRoZSBHcmVlbiBMaW5lXG4gICAgICAgIHhhID0gZ2V0UHQoZnJvbVgsIGNwWCwgaik7XG4gICAgICAgIHlhID0gZ2V0UHQoZnJvbVksIGNwWSwgaik7XG4gICAgICAgIHhiID0gZ2V0UHQoY3BYLCB0b1gsIGopO1xuICAgICAgICB5YiA9IGdldFB0KGNwWSwgdG9ZLCBqKTtcblxuICAgICAgICAvLyBUaGUgQmxhY2sgRG90XG4gICAgICAgIHggPSBnZXRQdCh4YSwgeGIsIGopO1xuICAgICAgICB5ID0gZ2V0UHQoeWEsIHliLCBqKTtcblxuICAgICAgICBwb2ludHMucHVzaCh4LCB5KTtcbiAgICB9XG5cbiAgICByZXR1cm4gcG9pbnRzO1xufVxuXG4vKipcbiAqIEJ1aWxkcyBhIHJvdW5kZWQgcmVjdGFuZ2xlIHRvIGRyYXdcbiAqXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLldlYkdMR3JhcGhpY3NEYXRhfSBncmFwaGljc0RhdGEgLSBUaGUgZ3JhcGhpY3Mgb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBuZWNlc3NhcnkgcHJvcGVydGllc1xuICogQHBhcmFtIHtvYmplY3R9IHdlYkdMRGF0YSAtIGFuIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgV2ViR0wtc3BlY2lmaWMgaW5mb3JtYXRpb24gdG8gY3JlYXRlIHRoaXMgc2hhcGVcbiAqIEBwYXJhbSB7b2JqZWN0fSB3ZWJHTERhdGFOYXRpdmVMaW5lcyAtIGFuIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgV2ViR0wtc3BlY2lmaWMgaW5mb3JtYXRpb24gdG8gY3JlYXRlIG5hdGl2ZUxpbmVzXG4gKi9cbmV4cG9ydCBjb25zdCBidWlsZFJvdW5kZWRSZWN0YW5nbGU6IElTaGFwZUJ1aWxkQ29tbWFuZCA9IHtcblxuICAgIGJ1aWxkKGdyYXBoaWNzRGF0YSlcbiAgICB7XG4gICAgICAgIGNvbnN0IHJyZWN0RGF0YSA9IGdyYXBoaWNzRGF0YS5zaGFwZSBhcyBSb3VuZGVkUmVjdGFuZ2xlO1xuICAgICAgICBjb25zdCBwb2ludHMgPSBncmFwaGljc0RhdGEucG9pbnRzO1xuICAgICAgICBjb25zdCB4ID0gcnJlY3REYXRhLng7XG4gICAgICAgIGNvbnN0IHkgPSBycmVjdERhdGEueTtcbiAgICAgICAgY29uc3Qgd2lkdGggPSBycmVjdERhdGEud2lkdGg7XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IHJyZWN0RGF0YS5oZWlnaHQ7XG5cbiAgICAgICAgLy8gRG9uJ3QgYWxsb3cgbmVnYXRpdmUgcmFkaXVzIG9yIGdyZWF0ZXIgdGhhbiBoYWxmIHRoZSBzbWFsbGVzdCB3aWR0aFxuICAgICAgICBjb25zdCByYWRpdXMgPSBNYXRoLm1heCgwLCBNYXRoLm1pbihycmVjdERhdGEucmFkaXVzLCBNYXRoLm1pbih3aWR0aCwgaGVpZ2h0KSAvIDIpKTtcblxuICAgICAgICBwb2ludHMubGVuZ3RoID0gMDtcblxuICAgICAgICAvLyBObyByYWRpdXMsIGRvIGEgc2ltcGxlIHJlY3RhbmdsZVxuICAgICAgICBpZiAoIXJhZGl1cylcbiAgICAgICAge1xuICAgICAgICAgICAgcG9pbnRzLnB1c2goeCwgeSxcbiAgICAgICAgICAgICAgICB4ICsgd2lkdGgsIHksXG4gICAgICAgICAgICAgICAgeCArIHdpZHRoLCB5ICsgaGVpZ2h0LFxuICAgICAgICAgICAgICAgIHgsIHkgKyBoZWlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgcXVhZHJhdGljQmV6aWVyQ3VydmUoeCwgeSArIHJhZGl1cyxcbiAgICAgICAgICAgICAgICB4LCB5LFxuICAgICAgICAgICAgICAgIHggKyByYWRpdXMsIHksXG4gICAgICAgICAgICAgICAgcG9pbnRzKTtcbiAgICAgICAgICAgIHF1YWRyYXRpY0JlemllckN1cnZlKHggKyB3aWR0aCAtIHJhZGl1cyxcbiAgICAgICAgICAgICAgICB5LCB4ICsgd2lkdGgsIHksXG4gICAgICAgICAgICAgICAgeCArIHdpZHRoLCB5ICsgcmFkaXVzLFxuICAgICAgICAgICAgICAgIHBvaW50cyk7XG4gICAgICAgICAgICBxdWFkcmF0aWNCZXppZXJDdXJ2ZSh4ICsgd2lkdGgsIHkgKyBoZWlnaHQgLSByYWRpdXMsXG4gICAgICAgICAgICAgICAgeCArIHdpZHRoLCB5ICsgaGVpZ2h0LFxuICAgICAgICAgICAgICAgIHggKyB3aWR0aCAtIHJhZGl1cywgeSArIGhlaWdodCxcbiAgICAgICAgICAgICAgICBwb2ludHMpO1xuICAgICAgICAgICAgcXVhZHJhdGljQmV6aWVyQ3VydmUoeCArIHJhZGl1cywgeSArIGhlaWdodCxcbiAgICAgICAgICAgICAgICB4LCB5ICsgaGVpZ2h0LFxuICAgICAgICAgICAgICAgIHgsIHkgKyBoZWlnaHQgLSByYWRpdXMsXG4gICAgICAgICAgICAgICAgcG9pbnRzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRoaXMgdGlueSBudW1iZXIgZGVhbHMgd2l0aCB0aGUgaXNzdWUgdGhhdCBvY2N1cnMgd2hlbiBwb2ludHMgb3ZlcmxhcCBhbmQgZWFyY3V0IGZhaWxzIHRvIHRyaWFuZ3VsYXRlIHRoZSBpdGVtLlxuICAgICAgICAvLyBUT0RPIC0gZml4IHRoaXMgcHJvcGVybHksIHRoaXMgaXMgbm90IHZlcnkgZWxlZ2FudC4uIGJ1dCBpdCB3b3JrcyBmb3Igbm93LlxuICAgIH0sXG5cbiAgICB0cmlhbmd1bGF0ZShncmFwaGljc0RhdGEsIGdyYXBoaWNzR2VvbWV0cnkpXG4gICAge1xuICAgICAgICBjb25zdCBwb2ludHMgPSBncmFwaGljc0RhdGEucG9pbnRzO1xuXG4gICAgICAgIGNvbnN0IHZlcnRzID0gZ3JhcGhpY3NHZW9tZXRyeS5wb2ludHM7XG4gICAgICAgIGNvbnN0IGluZGljZXMgPSBncmFwaGljc0dlb21ldHJ5LmluZGljZXM7XG5cbiAgICAgICAgY29uc3QgdmVjUG9zID0gdmVydHMubGVuZ3RoIC8gMjtcblxuICAgICAgICBjb25zdCB0cmlhbmdsZXMgPSBlYXJjdXQocG9pbnRzLCBudWxsLCAyKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMCwgaiA9IHRyaWFuZ2xlcy5sZW5ndGg7IGkgPCBqOyBpICs9IDMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGluZGljZXMucHVzaCh0cmlhbmdsZXNbaV0gKyB2ZWNQb3MpO1xuICAgICAgICAgICAgLy8gICAgIGluZGljZXMucHVzaCh0cmlhbmdsZXNbaV0gKyB2ZWNQb3MpO1xuICAgICAgICAgICAgaW5kaWNlcy5wdXNoKHRyaWFuZ2xlc1tpICsgMV0gKyB2ZWNQb3MpO1xuICAgICAgICAgICAgLy8gICBpbmRpY2VzLnB1c2godHJpYW5nbGVzW2kgKyAyXSArIHZlY1Bvcyk7XG4gICAgICAgICAgICBpbmRpY2VzLnB1c2godHJpYW5nbGVzW2kgKyAyXSArIHZlY1Bvcyk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBpID0gMCwgaiA9IHBvaW50cy5sZW5ndGg7IGkgPCBqOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZlcnRzLnB1c2gocG9pbnRzW2ldLCBwb2ludHNbKytpXSk7XG4gICAgICAgIH1cbiAgICB9LFxufTtcbiIsImltcG9ydCB7IFBvaW50LCBTSEFQRVMgfSBmcm9tICdAcGl4aS9tYXRoJztcblxuaW1wb3J0IHR5cGUgeyBQb2x5Z29uIH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgdHlwZSB7IEdyYXBoaWNzRGF0YSB9IGZyb20gJy4uL0dyYXBoaWNzRGF0YSc7XG5pbXBvcnQgdHlwZSB7IEdyYXBoaWNzR2VvbWV0cnkgfSBmcm9tICcuLi9HcmFwaGljc0dlb21ldHJ5JztcbmltcG9ydCB7IExJTkVfSk9JTiwgTElORV9DQVAgfSBmcm9tICcuLi9jb25zdCc7XG5pbXBvcnQgeyBHUkFQSElDU19DVVJWRVMgfSBmcm9tICcuLi9jb25zdCc7XG5cbi8qKlxuICogQnVmZmVycyB2ZXJ0aWNlcyB0byBkcmF3IGEgc3F1YXJlIGNhcC5cbiAqXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IHggLSBYLWNvb3JkIG9mIGVuZCBwb2ludFxuICogQHBhcmFtIHtudW1iZXJ9IHkgLSBZLWNvb3JkIG9mIGVuZCBwb2ludFxuICogQHBhcmFtIHtudW1iZXJ9IG54IC0gWC1jb29yZCBvZiBsaW5lIG5vcm1hbCBwb2ludGluZyBpbnNpZGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBueSAtIFktY29vcmQgb2YgbGluZSBub3JtYWwgcG9pbnRpbmcgaW5zaWRlXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IHZlcnRzIC0gdmVydGV4IGJ1ZmZlclxuICogQHJldHVybnMge31cbiAqL1xuZnVuY3Rpb24gc3F1YXJlKFxuICAgIHg6IG51bWJlcixcbiAgICB5OiBudW1iZXIsXG4gICAgbng6IG51bWJlcixcbiAgICBueTogbnVtYmVyLFxuICAgIGlubmVyV2VpZ2h0OiBudW1iZXIsXG4gICAgb3V0ZXJXZWlnaHQ6IG51bWJlcixcbiAgICBjbG9ja3dpc2U6IGJvb2xlYW4sIC8qIHJvdGF0aW9uIGZvciBzcXVhcmUgKHRydWUgYXQgbGVmdCBlbmQsIGZhbHNlIGF0IHJpZ2h0IGVuZCkgKi9cbiAgICB2ZXJ0czogQXJyYXk8bnVtYmVyPlxuKTogbnVtYmVyXG57XG4gICAgY29uc3QgaXggPSB4IC0gKG54ICogaW5uZXJXZWlnaHQpO1xuICAgIGNvbnN0IGl5ID0geSAtIChueSAqIGlubmVyV2VpZ2h0KTtcbiAgICBjb25zdCBveCA9IHggKyAobnggKiBvdXRlcldlaWdodCk7XG4gICAgY29uc3Qgb3kgPSB5ICsgKG55ICogb3V0ZXJXZWlnaHQpO1xuXG4gICAgLyogUm90YXRlIG54LG55IGZvciBleHRlbnNpb24gdmVjdG9yICovXG4gICAgbGV0IGV4eDsgbGV0XG4gICAgICAgIGV5eTtcblxuICAgIGlmIChjbG9ja3dpc2UpXG4gICAge1xuICAgICAgICBleHggPSBueTtcbiAgICAgICAgZXl5ID0gLW54O1xuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICBleHggPSAtbnk7XG4gICAgICAgIGV5eSA9IG54O1xuICAgIH1cblxuICAgIC8qIFtpfDBdeCx5IGV4dGVuZGVkIGF0IGNhcCAqL1xuICAgIGNvbnN0IGVpeCA9IGl4ICsgZXh4O1xuICAgIGNvbnN0IGVpeSA9IGl5ICsgZXl5O1xuICAgIGNvbnN0IGVveCA9IG94ICsgZXh4O1xuICAgIGNvbnN0IGVveSA9IG95ICsgZXl5O1xuXG4gICAgLyogU3F1YXJlIGl0c2VsZiBtdXN0IGJlIGluc2VydGVkIGNsb2Nrd2lzZSovXG4gICAgdmVydHMucHVzaChlaXgsIGVpeSk7XG4gICAgdmVydHMucHVzaChlb3gsIGVveSk7XG5cbiAgICByZXR1cm4gMjtcbn1cblxuLyoqXG4gKiBCdWZmZXJzIHZlcnRpY2VzIHRvIGRyYXcgYW4gYXJjIGF0IHRoZSBsaW5lIGpvaW50IG9yIGNhcC5cbiAqXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IGN4IC0gWC1jb29yZCBvZiBjZW50ZXJcbiAqIEBwYXJhbSB7bnVtYmVyfSBjeSAtIFktY29vcmQgb2YgY2VudGVyXG4gKiBAcGFyYW0ge251bWJlcn0gc3ggLSBYLWNvb3JkIG9mIGFyYyBzdGFydFxuICogQHBhcmFtIHtudW1iZXJ9IHN5IC0gWS1jb29yZCBvZiBhcmMgc3RhcnRcbiAqIEBwYXJhbSB7bnVtYmVyfSBleCAtIFgtY29vcmQgb2YgYXJjIGVuZFxuICogQHBhcmFtIHtudW1iZXJ9IGV5IC0gWS1jb29yZCBvZiBhcmMgZW5kXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IHZlcnRzIC0gYnVmZmVyIG9mIHZlcnRpY2VzXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGNsb2Nrd2lzZSAtIG9yaWVudGF0aW9uIG9mIHZlcnRpY2VzXG4gKiBAcmV0dXJucyB7bnVtYmVyfSAtIG5vLiBvZiB2ZXJ0aWNlcyBwdXNoZWRcbiAqL1xuZnVuY3Rpb24gcm91bmQoXG4gICAgY3g6IG51bWJlcixcbiAgICBjeTogbnVtYmVyLFxuICAgIHN4OiBudW1iZXIsXG4gICAgc3k6IG51bWJlcixcbiAgICBleDogbnVtYmVyLFxuICAgIGV5OiBudW1iZXIsXG4gICAgdmVydHM6IEFycmF5PG51bWJlcj4sXG4gICAgY2xvY2t3aXNlOiBib29sZWFuLCAvKiBpZiBub3QgY2FwLCB0aGVuIGNsb2Nrd2lzZSBpcyB0dXJuIG9mIGpvaW50LCBvdGhlcndpc2Ugcm90YXRpb24gZnJvbSBhbmdsZTAgdG8gYW5nbGUxICovXG4pOiBudW1iZXJcbntcbiAgICBjb25zdCBjeDJwMHggPSBzeCAtIGN4O1xuICAgIGNvbnN0IGN5MnAweSA9IHN5IC0gY3k7XG5cbiAgICBsZXQgYW5nbGUwID0gTWF0aC5hdGFuMihjeDJwMHgsIGN5MnAweSk7XG4gICAgbGV0IGFuZ2xlMSA9IE1hdGguYXRhbjIoZXggLSBjeCwgZXkgLSBjeSk7XG5cbiAgICBpZiAoY2xvY2t3aXNlICYmIGFuZ2xlMCA8IGFuZ2xlMSlcbiAgICB7XG4gICAgICAgIGFuZ2xlMCArPSBNYXRoLlBJICogMjtcbiAgICB9XG4gICAgZWxzZSBpZiAoIWNsb2Nrd2lzZSAmJiBhbmdsZTAgPiBhbmdsZTEpXG4gICAge1xuICAgICAgICBhbmdsZTEgKz0gTWF0aC5QSSAqIDI7XG4gICAgfVxuXG4gICAgbGV0IHN0YXJ0QW5nbGUgPSBhbmdsZTA7XG4gICAgY29uc3QgYW5nbGVEaWZmID0gYW5nbGUxIC0gYW5nbGUwO1xuICAgIGNvbnN0IGFic0FuZ2xlRGlmZiA9IE1hdGguYWJzKGFuZ2xlRGlmZik7XG5cbiAgICAvKiBpZiAoYWJzQW5nbGVEaWZmID49IFBJX0xCT1VORCAmJiBhYnNBbmdsZURpZmYgPD0gUElfVUJPVU5EKVxuICAgIHtcbiAgICAgICAgY29uc3QgcjF4ID0gY3ggLSBueHRQeDtcbiAgICAgICAgY29uc3QgcjF5ID0gY3kgLSBueHRQeTtcblxuICAgICAgICBpZiAocjF4ID09PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAocjF5ID4gMClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBhbmdsZURpZmYgPSAtYW5nbGVEaWZmO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHIxeCA+PSAtR1JBUEhJQ1NfQ1VSVkVTLmVwc2lsb24pXG4gICAgICAgIHtcbiAgICAgICAgICAgIGFuZ2xlRGlmZiA9IC1hbmdsZURpZmY7XG4gICAgICAgIH1cbiAgICB9Ki9cblxuICAgIGNvbnN0IHJhZGl1cyA9IE1hdGguc3FydCgoY3gycDB4ICogY3gycDB4KSArIChjeTJwMHkgKiBjeTJwMHkpKTtcbiAgICBjb25zdCBzZWdDb3VudCA9ICgoMTUgKiBhYnNBbmdsZURpZmYgKiBNYXRoLnNxcnQocmFkaXVzKSAvIE1hdGguUEkpID4+IDApICsgMTtcbiAgICBjb25zdCBhbmdsZUluYyA9IGFuZ2xlRGlmZiAvIHNlZ0NvdW50O1xuXG4gICAgc3RhcnRBbmdsZSArPSBhbmdsZUluYztcblxuICAgIGlmIChjbG9ja3dpc2UpXG4gICAge1xuICAgICAgICB2ZXJ0cy5wdXNoKGN4LCBjeSk7XG4gICAgICAgIHZlcnRzLnB1c2goc3gsIHN5KTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMSwgYW5nbGUgPSBzdGFydEFuZ2xlOyBpIDwgc2VnQ291bnQ7IGkrKywgYW5nbGUgKz0gYW5nbGVJbmMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZlcnRzLnB1c2goY3gsIGN5KTtcbiAgICAgICAgICAgIHZlcnRzLnB1c2goY3ggKyAoKE1hdGguc2luKGFuZ2xlKSAqIHJhZGl1cykpLFxuICAgICAgICAgICAgICAgIGN5ICsgKChNYXRoLmNvcyhhbmdsZSkgKiByYWRpdXMpKSk7XG4gICAgICAgIH1cblxuICAgICAgICB2ZXJ0cy5wdXNoKGN4LCBjeSk7XG4gICAgICAgIHZlcnRzLnB1c2goZXgsIGV5KTtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgdmVydHMucHVzaChzeCwgc3kpO1xuICAgICAgICB2ZXJ0cy5wdXNoKGN4LCBjeSk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDEsIGFuZ2xlID0gc3RhcnRBbmdsZTsgaSA8IHNlZ0NvdW50OyBpKyssIGFuZ2xlICs9IGFuZ2xlSW5jKVxuICAgICAgICB7XG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKGN4ICsgKChNYXRoLnNpbihhbmdsZSkgKiByYWRpdXMpKSxcbiAgICAgICAgICAgICAgICBjeSArICgoTWF0aC5jb3MoYW5nbGUpICogcmFkaXVzKSkpO1xuICAgICAgICAgICAgdmVydHMucHVzaChjeCwgY3kpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmVydHMucHVzaChleCwgZXkpO1xuICAgICAgICB2ZXJ0cy5wdXNoKGN4LCBjeSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNlZ0NvdW50ICogMjtcbn1cblxuLyoqXG4gKiBCdWlsZHMgYSBsaW5lIHRvIGRyYXcgdXNpbmcgdGhlIHBvbHlnb24gbWV0aG9kLlxuICpcbiAqIElnbm9yZWQgZnJvbSBkb2NzIHNpbmNlIGl0IGlzIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuR3JhcGhpY3NEYXRhfSBncmFwaGljc0RhdGEgLSBUaGUgZ3JhcGhpY3Mgb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBuZWNlc3NhcnkgcHJvcGVydGllc1xuICogQHBhcmFtIHtQSVhJLkdyYXBoaWNzR2VvbWV0cnl9IGdyYXBoaWNzR2VvbWV0cnkgLSBHZW9tZXRyeSB3aGVyZSB0byBhcHBlbmQgb3V0cHV0XG4gKi9cbmZ1bmN0aW9uIGJ1aWxkTm9uTmF0aXZlTGluZShncmFwaGljc0RhdGE6IEdyYXBoaWNzRGF0YSwgZ3JhcGhpY3NHZW9tZXRyeTogR3JhcGhpY3NHZW9tZXRyeSk6IHZvaWRcbntcbiAgICBjb25zdCBzaGFwZSA9IGdyYXBoaWNzRGF0YS5zaGFwZSBhcyBQb2x5Z29uO1xuICAgIGxldCBwb2ludHMgPSBncmFwaGljc0RhdGEucG9pbnRzIHx8IHNoYXBlLnBvaW50cy5zbGljZSgpO1xuICAgIGNvbnN0IGVwcyA9IGdyYXBoaWNzR2VvbWV0cnkuY2xvc2VQb2ludEVwcztcblxuICAgIGlmIChwb2ludHMubGVuZ3RoID09PSAwKVxuICAgIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBpZiB0aGUgbGluZSB3aWR0aCBpcyBhbiBvZGQgbnVtYmVyIGFkZCAwLjUgdG8gYWxpZ24gdG8gYSB3aG9sZSBwaXhlbFxuICAgIC8vIGNvbW1lbnRpbmcgdGhpcyBvdXQgZml4ZXMgIzcxMSBhbmQgIzE2MjBcbiAgICAvLyBpZiAoZ3JhcGhpY3NEYXRhLmxpbmVXaWR0aCUyKVxuICAgIC8vIHtcbiAgICAvLyAgICAgZm9yIChpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkrKylcbiAgICAvLyAgICAge1xuICAgIC8vICAgICAgICAgcG9pbnRzW2ldICs9IDAuNTtcbiAgICAvLyAgICAgfVxuICAgIC8vIH1cblxuICAgIGNvbnN0IHN0eWxlID0gZ3JhcGhpY3NEYXRhLmxpbmVTdHlsZTtcblxuICAgIC8vIGdldCBmaXJzdCBhbmQgbGFzdCBwb2ludC4uIGZpZ3VyZSBvdXQgdGhlIG1pZGRsZSFcbiAgICBjb25zdCBmaXJzdFBvaW50ID0gbmV3IFBvaW50KHBvaW50c1swXSwgcG9pbnRzWzFdKTtcbiAgICBjb25zdCBsYXN0UG9pbnQgPSBuZXcgUG9pbnQocG9pbnRzW3BvaW50cy5sZW5ndGggLSAyXSwgcG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXSk7XG4gICAgY29uc3QgY2xvc2VkU2hhcGUgPSBzaGFwZS50eXBlICE9PSBTSEFQRVMuUE9MWSB8fCBzaGFwZS5jbG9zZVN0cm9rZTtcbiAgICBjb25zdCBjbG9zZWRQYXRoID0gTWF0aC5hYnMoZmlyc3RQb2ludC54IC0gbGFzdFBvaW50LngpIDwgZXBzXG4gICAgICAgICYmIE1hdGguYWJzKGZpcnN0UG9pbnQueSAtIGxhc3RQb2ludC55KSA8IGVwcztcblxuICAgIC8vIGlmIHRoZSBmaXJzdCBwb2ludCBpcyB0aGUgbGFzdCBwb2ludCAtIGdvbm5hIGhhdmUgaXNzdWVzIDopXG4gICAgaWYgKGNsb3NlZFNoYXBlKVxuICAgIHtcbiAgICAgICAgLy8gbmVlZCB0byBjbG9uZSBhcyB3ZSBhcmUgZ29pbmcgdG8gc2xpZ2h0bHkgbW9kaWZ5IHRoZSBzaGFwZS4uXG4gICAgICAgIHBvaW50cyA9IHBvaW50cy5zbGljZSgpO1xuXG4gICAgICAgIGlmIChjbG9zZWRQYXRoKVxuICAgICAgICB7XG4gICAgICAgICAgICBwb2ludHMucG9wKCk7XG4gICAgICAgICAgICBwb2ludHMucG9wKCk7XG4gICAgICAgICAgICBsYXN0UG9pbnQuc2V0KHBvaW50c1twb2ludHMubGVuZ3RoIC0gMl0sIHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbWlkUG9pbnRYID0gKGZpcnN0UG9pbnQueCArIGxhc3RQb2ludC54KSAqIDAuNTtcbiAgICAgICAgY29uc3QgbWlkUG9pbnRZID0gKGxhc3RQb2ludC55ICsgZmlyc3RQb2ludC55KSAqIDAuNTtcblxuICAgICAgICBwb2ludHMudW5zaGlmdChtaWRQb2ludFgsIG1pZFBvaW50WSk7XG4gICAgICAgIHBvaW50cy5wdXNoKG1pZFBvaW50WCwgbWlkUG9pbnRZKTtcbiAgICB9XG5cbiAgICBjb25zdCB2ZXJ0cyA9IGdyYXBoaWNzR2VvbWV0cnkucG9pbnRzO1xuICAgIGNvbnN0IGxlbmd0aCA9IHBvaW50cy5sZW5ndGggLyAyO1xuICAgIGxldCBpbmRleENvdW50ID0gcG9pbnRzLmxlbmd0aDtcbiAgICBjb25zdCBpbmRleFN0YXJ0ID0gdmVydHMubGVuZ3RoIC8gMjtcblxuICAgIC8vIE1heC4gaW5uZXIgYW5kIG91dGVyIHdpZHRoXG4gICAgY29uc3Qgd2lkdGggPSBzdHlsZS53aWR0aCAvIDI7XG4gICAgY29uc3Qgd2lkdGhTcXVhcmVkID0gd2lkdGggKiB3aWR0aDtcbiAgICBjb25zdCBtaXRlckxpbWl0U3F1YXJlZCA9IHN0eWxlLm1pdGVyTGltaXQgKiBzdHlsZS5taXRlckxpbWl0O1xuXG4gICAgLyogTGluZSBzZWdtZW50cyBvZiBpbnRlcmVzdCB3aGVyZSAoeDEseTEpIGZvcm1zIHRoZSBjb3JuZXIuICovXG4gICAgbGV0IHgwID0gcG9pbnRzWzBdO1xuICAgIGxldCB5MCA9IHBvaW50c1sxXTtcbiAgICBsZXQgeDEgPSBwb2ludHNbMl07XG4gICAgbGV0IHkxID0gcG9pbnRzWzNdO1xuICAgIGxldCB4MiA9IDA7XG4gICAgbGV0IHkyID0gMDtcblxuICAgIC8qIHBlcnBbP10oeHx5KSA9IHRoZSBsaW5lIG5vcm1hbCB3aXRoIG1hZ25pdHVkZSBsaW5lV2lkdGguICovXG4gICAgbGV0IHBlcnB4ID0gLSh5MCAtIHkxKTtcbiAgICBsZXQgcGVycHkgPSB4MCAtIHgxO1xuICAgIGxldCBwZXJwMXggPSAwO1xuICAgIGxldCBwZXJwMXkgPSAwO1xuXG4gICAgbGV0IGRpc3QgPSBNYXRoLnNxcnQoKHBlcnB4ICogcGVycHgpICsgKHBlcnB5ICogcGVycHkpKTtcblxuICAgIHBlcnB4IC89IGRpc3Q7XG4gICAgcGVycHkgLz0gZGlzdDtcbiAgICBwZXJweCAqPSB3aWR0aDtcbiAgICBwZXJweSAqPSB3aWR0aDtcblxuICAgIGNvbnN0IHJhdGlvID0gc3R5bGUuYWxpZ25tZW50Oy8vIDAuNTtcbiAgICBjb25zdCBpbm5lcldlaWdodCA9ICgxIC0gcmF0aW8pICogMjtcbiAgICBjb25zdCBvdXRlcldlaWdodCA9IHJhdGlvICogMjtcblxuICAgIGlmICghY2xvc2VkU2hhcGUpXG4gICAge1xuICAgICAgICBpZiAoc3R5bGUuY2FwID09PSBMSU5FX0NBUC5ST1VORClcbiAgICAgICAge1xuICAgICAgICAgICAgaW5kZXhDb3VudCArPSByb3VuZChcbiAgICAgICAgICAgICAgICB4MCAtIChwZXJweCAqIChpbm5lcldlaWdodCAtIG91dGVyV2VpZ2h0KSAqIDAuNSksXG4gICAgICAgICAgICAgICAgeTAgLSAocGVycHkgKiAoaW5uZXJXZWlnaHQgLSBvdXRlcldlaWdodCkgKiAwLjUpLFxuICAgICAgICAgICAgICAgIHgwIC0gKHBlcnB4ICogaW5uZXJXZWlnaHQpLFxuICAgICAgICAgICAgICAgIHkwIC0gKHBlcnB5ICogaW5uZXJXZWlnaHQpLFxuICAgICAgICAgICAgICAgIHgwICsgKHBlcnB4ICogb3V0ZXJXZWlnaHQpLFxuICAgICAgICAgICAgICAgIHkwICsgKHBlcnB5ICogb3V0ZXJXZWlnaHQpLFxuICAgICAgICAgICAgICAgIHZlcnRzLFxuICAgICAgICAgICAgICAgIHRydWUsXG4gICAgICAgICAgICApICsgMjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzdHlsZS5jYXAgPT09IExJTkVfQ0FQLlNRVUFSRSlcbiAgICAgICAge1xuICAgICAgICAgICAgaW5kZXhDb3VudCArPSBzcXVhcmUoeDAsIHkwLCBwZXJweCwgcGVycHksIGlubmVyV2VpZ2h0LCBvdXRlcldlaWdodCwgdHJ1ZSwgdmVydHMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gUHVzaCBmaXJzdCBwb2ludCAoYmVsb3cgJiBhYm92ZSB2ZXJ0aWNlcylcbiAgICB2ZXJ0cy5wdXNoKFxuICAgICAgICB4MCAtIChwZXJweCAqIGlubmVyV2VpZ2h0KSxcbiAgICAgICAgeTAgLSAocGVycHkgKiBpbm5lcldlaWdodCkpO1xuICAgIHZlcnRzLnB1c2goXG4gICAgICAgIHgwICsgKHBlcnB4ICogb3V0ZXJXZWlnaHQpLFxuICAgICAgICB5MCArIChwZXJweSAqIG91dGVyV2VpZ2h0KSk7XG5cbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IGxlbmd0aCAtIDE7ICsraSlcbiAgICB7XG4gICAgICAgIHgwID0gcG9pbnRzWyhpIC0gMSkgKiAyXTtcbiAgICAgICAgeTAgPSBwb2ludHNbKChpIC0gMSkgKiAyKSArIDFdO1xuXG4gICAgICAgIHgxID0gcG9pbnRzW2kgKiAyXTtcbiAgICAgICAgeTEgPSBwb2ludHNbKGkgKiAyKSArIDFdO1xuXG4gICAgICAgIHgyID0gcG9pbnRzWyhpICsgMSkgKiAyXTtcbiAgICAgICAgeTIgPSBwb2ludHNbKChpICsgMSkgKiAyKSArIDFdO1xuXG4gICAgICAgIHBlcnB4ID0gLSh5MCAtIHkxKTtcbiAgICAgICAgcGVycHkgPSB4MCAtIHgxO1xuXG4gICAgICAgIGRpc3QgPSBNYXRoLnNxcnQoKHBlcnB4ICogcGVycHgpICsgKHBlcnB5ICogcGVycHkpKTtcbiAgICAgICAgcGVycHggLz0gZGlzdDtcbiAgICAgICAgcGVycHkgLz0gZGlzdDtcbiAgICAgICAgcGVycHggKj0gd2lkdGg7XG4gICAgICAgIHBlcnB5ICo9IHdpZHRoO1xuXG4gICAgICAgIHBlcnAxeCA9IC0oeTEgLSB5Mik7XG4gICAgICAgIHBlcnAxeSA9IHgxIC0geDI7XG5cbiAgICAgICAgZGlzdCA9IE1hdGguc3FydCgocGVycDF4ICogcGVycDF4KSArIChwZXJwMXkgKiBwZXJwMXkpKTtcbiAgICAgICAgcGVycDF4IC89IGRpc3Q7XG4gICAgICAgIHBlcnAxeSAvPSBkaXN0O1xuICAgICAgICBwZXJwMXggKj0gd2lkdGg7XG4gICAgICAgIHBlcnAxeSAqPSB3aWR0aDtcblxuICAgICAgICAvKiBkW3h8eV0oMHwxKSA9IHRoZSBjb21wb25lbnQgZGlzcGxhY21lbnQgYmV0d2VlbiBwb2ludHMgcCgwLDF8MSwyKSAqL1xuICAgICAgICBjb25zdCBkeDAgPSB4MSAtIHgwO1xuICAgICAgICBjb25zdCBkeTAgPSB5MCAtIHkxO1xuICAgICAgICBjb25zdCBkeDEgPSB4MSAtIHgyO1xuICAgICAgICBjb25zdCBkeTEgPSB5MiAtIHkxO1xuXG4gICAgICAgIC8qICt2ZSBpZiBpbnRlcm5hbCBhbmdsZSBjb3VudGVyY2xvY2t3aXNlLCAtdmUgaWYgaW50ZXJuYWwgYW5nbGUgY2xvY2t3aXNlLiAqL1xuICAgICAgICBjb25zdCBjcm9zcyA9IChkeTAgKiBkeDEpIC0gKGR5MSAqIGR4MCk7XG4gICAgICAgIGNvbnN0IGNsb2Nrd2lzZSA9IChjcm9zcyA8IDApO1xuXG4gICAgICAgIC8qIEdvaW5nIG5lYXJseSBzdHJhaWdodD8gKi9cbiAgICAgICAgaWYgKE1hdGguYWJzKGNyb3NzKSA8IDAuMSlcbiAgICAgICAge1xuICAgICAgICAgICAgdmVydHMucHVzaChcbiAgICAgICAgICAgICAgICB4MSAtIChwZXJweCAqIGlubmVyV2VpZ2h0KSxcbiAgICAgICAgICAgICAgICB5MSAtIChwZXJweSAqIGlubmVyV2VpZ2h0KSk7XG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKFxuICAgICAgICAgICAgICAgIHgxICsgKHBlcnB4ICogb3V0ZXJXZWlnaHQpLFxuICAgICAgICAgICAgICAgIHkxICsgKHBlcnB5ICogb3V0ZXJXZWlnaHQpKTtcblxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICAvKiBwW3h8eV0gaXMgdGhlIG1pdGVyIHBvaW50LiBwZGlzdCBpcyB0aGUgZGlzdGFuY2UgYmV0d2VlbiBtaXRlciBwb2ludCBhbmQgcDEuICovXG4gICAgICAgIGNvbnN0IGMxID0gKCgtcGVycHggKyB4MCkgKiAoLXBlcnB5ICsgeTEpKSAtICgoLXBlcnB4ICsgeDEpICogKC1wZXJweSArIHkwKSk7XG4gICAgICAgIGNvbnN0IGMyID0gKCgtcGVycDF4ICsgeDIpICogKC1wZXJwMXkgKyB5MSkpIC0gKCgtcGVycDF4ICsgeDEpICogKC1wZXJwMXkgKyB5MikpO1xuICAgICAgICBjb25zdCBweCA9ICgoZHgwICogYzIpIC0gKGR4MSAqIGMxKSkgLyBjcm9zcztcbiAgICAgICAgY29uc3QgcHkgPSAoKGR5MSAqIGMxKSAtIChkeTAgKiBjMikpIC8gY3Jvc3M7XG4gICAgICAgIGNvbnN0IHBkaXN0ID0gKChweCAtIHgxKSAqIChweCAtIHgxKSkgKyAoKHB5IC0geTEpICogKHB5IC0geTEpKTtcblxuICAgICAgICAvKiBJbm5lciBtaXRlciBwb2ludCAqL1xuICAgICAgICBjb25zdCBpbXggPSB4MSArICgocHggLSB4MSkgKiBpbm5lcldlaWdodCk7XG4gICAgICAgIGNvbnN0IGlteSA9IHkxICsgKChweSAtIHkxKSAqIGlubmVyV2VpZ2h0KTtcbiAgICAgICAgLyogT3V0ZXIgbWl0ZXIgcG9pbnQgKi9cbiAgICAgICAgY29uc3Qgb214ID0geDEgLSAoKHB4IC0geDEpICogb3V0ZXJXZWlnaHQpO1xuICAgICAgICBjb25zdCBvbXkgPSB5MSAtICgocHkgLSB5MSkgKiBvdXRlcldlaWdodCk7XG5cbiAgICAgICAgLyogSXMgdGhlIGluc2lkZSBtaXRlciBwb2ludCB0b28gZmFyIGF3YXksIGNyZWF0aW5nIGEgc3Bpa2U/ICovXG4gICAgICAgIGNvbnN0IHNtYWxsZXJJbnNpZGVTZWdtZW50U3EgPSBNYXRoLm1pbigoZHgwICogZHgwKSArIChkeTAgKiBkeTApLCAoZHgxICogZHgxKSArIChkeTEgKiBkeTEpKTtcbiAgICAgICAgY29uc3QgaW5zaWRlV2VpZ2h0ID0gY2xvY2t3aXNlID8gaW5uZXJXZWlnaHQgOiBvdXRlcldlaWdodDtcbiAgICAgICAgY29uc3Qgc21hbGxlckluc2lkZURpYWdvbmFsU3EgPSBzbWFsbGVySW5zaWRlU2VnbWVudFNxICsgKGluc2lkZVdlaWdodCAqIGluc2lkZVdlaWdodCAqIHdpZHRoU3F1YXJlZCk7XG4gICAgICAgIGNvbnN0IGluc2lkZU1pdGVyT2sgPSBwZGlzdCA8PSBzbWFsbGVySW5zaWRlRGlhZ29uYWxTcTtcblxuICAgICAgICBpZiAoaW5zaWRlTWl0ZXJPaylcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHN0eWxlLmpvaW4gPT09IExJTkVfSk9JTi5CRVZFTCB8fCBwZGlzdCAvIHdpZHRoU3F1YXJlZCA+IG1pdGVyTGltaXRTcXVhcmVkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChjbG9ja3dpc2UpIC8qIHJvdGF0aW5nIGF0IGlubmVyIGFuZ2xlICovXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB2ZXJ0cy5wdXNoKGlteCwgaW15KTsvLyBpbm5lciBtaXRlciBwb2ludFxuICAgICAgICAgICAgICAgICAgICB2ZXJ0cy5wdXNoKHgxICsgKHBlcnB4ICogb3V0ZXJXZWlnaHQpLCB5MSArIChwZXJweSAqIG91dGVyV2VpZ2h0KSk7Ly8gZmlyc3Qgc2VnbWVudCdzIG91dGVyIHZlcnRleFxuICAgICAgICAgICAgICAgICAgICB2ZXJ0cy5wdXNoKGlteCwgaW15KTsvLyBpbm5lciBtaXRlciBwb2ludFxuICAgICAgICAgICAgICAgICAgICB2ZXJ0cy5wdXNoKHgxICsgKHBlcnAxeCAqIG91dGVyV2VpZ2h0KSwgeTEgKyAocGVycDF5ICogb3V0ZXJXZWlnaHQpKTsvLyBzZWNvbmQgc2VnbWVudCdzIG91dGVyIHZlcnRleFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIC8qIHJvdGF0aW5nIGF0IG91dGVyIGFuZ2xlICovXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB2ZXJ0cy5wdXNoKHgxIC0gKHBlcnB4ICogaW5uZXJXZWlnaHQpLCB5MSAtIChwZXJweSAqIGlubmVyV2VpZ2h0KSk7Ly8gZmlyc3Qgc2VnbWVudCdzIGlubmVyIHZlcnRleFxuICAgICAgICAgICAgICAgICAgICB2ZXJ0cy5wdXNoKG9teCwgb215KTsvLyBvdXRlciBtaXRlciBwb2ludFxuICAgICAgICAgICAgICAgICAgICB2ZXJ0cy5wdXNoKHgxIC0gKHBlcnAxeCAqIGlubmVyV2VpZ2h0KSwgeTEgLSAocGVycDF5ICogaW5uZXJXZWlnaHQpKTsvLyBzZWNvbmQgc2VnbWVudCdzIG91dGVyIHZlcnRleFxuICAgICAgICAgICAgICAgICAgICB2ZXJ0cy5wdXNoKG9teCwgb215KTsvLyBvdXRlciBtaXRlciBwb2ludFxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGluZGV4Q291bnQgKz0gMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHN0eWxlLmpvaW4gPT09IExJTkVfSk9JTi5ST1VORClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoY2xvY2t3aXNlKSAvKiBhcmMgaXMgb3V0c2lkZSAqL1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdmVydHMucHVzaChpbXgsIGlteSk7XG4gICAgICAgICAgICAgICAgICAgIHZlcnRzLnB1c2goeDEgKyAocGVycHggKiBvdXRlcldlaWdodCksIHkxICsgKHBlcnB5ICogb3V0ZXJXZWlnaHQpKTtcblxuICAgICAgICAgICAgICAgICAgICBpbmRleENvdW50ICs9IHJvdW5kKFxuICAgICAgICAgICAgICAgICAgICAgICAgeDEsIHkxLFxuICAgICAgICAgICAgICAgICAgICAgICAgeDEgKyAocGVycHggKiBvdXRlcldlaWdodCksIHkxICsgKHBlcnB5ICogb3V0ZXJXZWlnaHQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgeDEgKyAocGVycDF4ICogb3V0ZXJXZWlnaHQpLCB5MSArIChwZXJwMXkgKiBvdXRlcldlaWdodCksXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJ0cywgdHJ1ZVxuICAgICAgICAgICAgICAgICAgICApICsgNDtcblxuICAgICAgICAgICAgICAgICAgICB2ZXJ0cy5wdXNoKGlteCwgaW15KTtcbiAgICAgICAgICAgICAgICAgICAgdmVydHMucHVzaCh4MSArIChwZXJwMXggKiBvdXRlcldlaWdodCksIHkxICsgKHBlcnAxeSAqIG91dGVyV2VpZ2h0KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgLyogYXJjIGlzIGluc2lkZSAqL1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdmVydHMucHVzaCh4MSAtIChwZXJweCAqIGlubmVyV2VpZ2h0KSwgeTEgLSAocGVycHkgKiBpbm5lcldlaWdodCkpO1xuICAgICAgICAgICAgICAgICAgICB2ZXJ0cy5wdXNoKG9teCwgb215KTtcblxuICAgICAgICAgICAgICAgICAgICBpbmRleENvdW50ICs9IHJvdW5kKFxuICAgICAgICAgICAgICAgICAgICAgICAgeDEsIHkxLFxuICAgICAgICAgICAgICAgICAgICAgICAgeDEgLSAocGVycHggKiBpbm5lcldlaWdodCksIHkxIC0gKHBlcnB5ICogaW5uZXJXZWlnaHQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgeDEgLSAocGVycDF4ICogaW5uZXJXZWlnaHQpLCB5MSAtIChwZXJwMXkgKiBpbm5lcldlaWdodCksXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJ0cywgZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgKSArIDQ7XG5cbiAgICAgICAgICAgICAgICAgICAgdmVydHMucHVzaCh4MSAtIChwZXJwMXggKiBpbm5lcldlaWdodCksIHkxIC0gKHBlcnAxeSAqIGlubmVyV2VpZ2h0KSk7XG4gICAgICAgICAgICAgICAgICAgIHZlcnRzLnB1c2gob214LCBvbXkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2ZXJ0cy5wdXNoKGlteCwgaW15KTtcbiAgICAgICAgICAgICAgICB2ZXJ0cy5wdXNoKG9teCwgb215KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIC8vIGluc2lkZSBtaXRlciBpcyBOT1Qgb2tcbiAgICAgICAge1xuICAgICAgICAgICAgdmVydHMucHVzaCh4MSAtIChwZXJweCAqIGlubmVyV2VpZ2h0KSwgeTEgLSAocGVycHkgKiBpbm5lcldlaWdodCkpOyAvLyBmaXJzdCBzZWdtZW50J3MgaW5uZXIgdmVydGV4XG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHgxICsgKHBlcnB4ICogb3V0ZXJXZWlnaHQpLCB5MSArIChwZXJweSAqIG91dGVyV2VpZ2h0KSk7IC8vIGZpcnN0IHNlZ21lbnQncyBvdXRlciB2ZXJ0ZXhcbiAgICAgICAgICAgIGlmIChzdHlsZS5qb2luID09PSBMSU5FX0pPSU4uQkVWRUwgfHwgcGRpc3QgLyB3aWR0aFNxdWFyZWQgPiBtaXRlckxpbWl0U3F1YXJlZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBOb3RoaW5nIG5lZWRlZFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoc3R5bGUuam9pbiA9PT0gTElORV9KT0lOLlJPVU5EKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChjbG9ja3dpc2UpIC8qIGFyYyBpcyBvdXRzaWRlICovXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpbmRleENvdW50ICs9IHJvdW5kKFxuICAgICAgICAgICAgICAgICAgICAgICAgeDEsIHkxLFxuICAgICAgICAgICAgICAgICAgICAgICAgeDEgKyAocGVycHggKiBvdXRlcldlaWdodCksIHkxICsgKHBlcnB5ICogb3V0ZXJXZWlnaHQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgeDEgKyAocGVycDF4ICogb3V0ZXJXZWlnaHQpLCB5MSArIChwZXJwMXkgKiBvdXRlcldlaWdodCksXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJ0cywgdHJ1ZVxuICAgICAgICAgICAgICAgICAgICApICsgMjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSAvKiBhcmMgaXMgaW5zaWRlICovXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpbmRleENvdW50ICs9IHJvdW5kKFxuICAgICAgICAgICAgICAgICAgICAgICAgeDEsIHkxLFxuICAgICAgICAgICAgICAgICAgICAgICAgeDEgLSAocGVycHggKiBpbm5lcldlaWdodCksIHkxIC0gKHBlcnB5ICogaW5uZXJXZWlnaHQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgeDEgLSAocGVycDF4ICogaW5uZXJXZWlnaHQpLCB5MSAtIChwZXJwMXkgKiBpbm5lcldlaWdodCksXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJ0cywgZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgKSArIDI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChjbG9ja3dpc2UpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB2ZXJ0cy5wdXNoKG9teCwgb215KTsgLy8gaW5uZXIgbWl0ZXIgcG9pbnRcbiAgICAgICAgICAgICAgICAgICAgdmVydHMucHVzaChvbXgsIG9teSk7IC8vIGlubmVyIG1pdGVyIHBvaW50XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHZlcnRzLnB1c2goaW14LCBpbXkpOyAvLyBvdXRlciBtaXRlciBwb2ludFxuICAgICAgICAgICAgICAgICAgICB2ZXJ0cy5wdXNoKGlteCwgaW15KTsgLy8gb3V0ZXIgbWl0ZXIgcG9pbnRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaW5kZXhDb3VudCArPSAyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmVydHMucHVzaCh4MSAtIChwZXJwMXggKiBpbm5lcldlaWdodCksIHkxIC0gKHBlcnAxeSAqIGlubmVyV2VpZ2h0KSk7IC8vIHNlY29uZCBzZWdtZW50J3MgaW5uZXIgdmVydGV4XG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHgxICsgKHBlcnAxeCAqIG91dGVyV2VpZ2h0KSwgeTEgKyAocGVycDF5ICogb3V0ZXJXZWlnaHQpKTsgLy8gc2Vjb25kIHNlZ21lbnQncyBvdXRlciB2ZXJ0ZXhcbiAgICAgICAgICAgIGluZGV4Q291bnQgKz0gMjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHgwID0gcG9pbnRzWyhsZW5ndGggLSAyKSAqIDJdO1xuICAgIHkwID0gcG9pbnRzWygobGVuZ3RoIC0gMikgKiAyKSArIDFdO1xuXG4gICAgeDEgPSBwb2ludHNbKGxlbmd0aCAtIDEpICogMl07XG4gICAgeTEgPSBwb2ludHNbKChsZW5ndGggLSAxKSAqIDIpICsgMV07XG5cbiAgICBwZXJweCA9IC0oeTAgLSB5MSk7XG4gICAgcGVycHkgPSB4MCAtIHgxO1xuXG4gICAgZGlzdCA9IE1hdGguc3FydCgocGVycHggKiBwZXJweCkgKyAocGVycHkgKiBwZXJweSkpO1xuICAgIHBlcnB4IC89IGRpc3Q7XG4gICAgcGVycHkgLz0gZGlzdDtcbiAgICBwZXJweCAqPSB3aWR0aDtcbiAgICBwZXJweSAqPSB3aWR0aDtcblxuICAgIHZlcnRzLnB1c2goeDEgLSAocGVycHggKiBpbm5lcldlaWdodCksIHkxIC0gKHBlcnB5ICogaW5uZXJXZWlnaHQpKTtcbiAgICB2ZXJ0cy5wdXNoKHgxICsgKHBlcnB4ICogb3V0ZXJXZWlnaHQpLCB5MSArIChwZXJweSAqIG91dGVyV2VpZ2h0KSk7XG5cbiAgICBpZiAoIWNsb3NlZFNoYXBlKVxuICAgIHtcbiAgICAgICAgaWYgKHN0eWxlLmNhcCA9PT0gTElORV9DQVAuUk9VTkQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGluZGV4Q291bnQgKz0gcm91bmQoXG4gICAgICAgICAgICAgICAgeDEgLSAocGVycHggKiAoaW5uZXJXZWlnaHQgLSBvdXRlcldlaWdodCkgKiAwLjUpLFxuICAgICAgICAgICAgICAgIHkxIC0gKHBlcnB5ICogKGlubmVyV2VpZ2h0IC0gb3V0ZXJXZWlnaHQpICogMC41KSxcbiAgICAgICAgICAgICAgICB4MSAtIChwZXJweCAqIGlubmVyV2VpZ2h0KSxcbiAgICAgICAgICAgICAgICB5MSAtIChwZXJweSAqIGlubmVyV2VpZ2h0KSxcbiAgICAgICAgICAgICAgICB4MSArIChwZXJweCAqIG91dGVyV2VpZ2h0KSxcbiAgICAgICAgICAgICAgICB5MSArIChwZXJweSAqIG91dGVyV2VpZ2h0KSxcbiAgICAgICAgICAgICAgICB2ZXJ0cyxcbiAgICAgICAgICAgICAgICBmYWxzZVxuICAgICAgICAgICAgKSArIDI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc3R5bGUuY2FwID09PSBMSU5FX0NBUC5TUVVBUkUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGluZGV4Q291bnQgKz0gc3F1YXJlKHgxLCB5MSwgcGVycHgsIHBlcnB5LCBpbm5lcldlaWdodCwgb3V0ZXJXZWlnaHQsIGZhbHNlLCB2ZXJ0cyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBpbmRpY2VzID0gZ3JhcGhpY3NHZW9tZXRyeS5pbmRpY2VzO1xuICAgIGNvbnN0IGVwczIgPSBHUkFQSElDU19DVVJWRVMuZXBzaWxvbiAqIEdSQVBISUNTX0NVUlZFUy5lcHNpbG9uO1xuXG4gICAgLy8gaW5kaWNlcy5wdXNoKGluZGV4U3RhcnQpO1xuICAgIGZvciAobGV0IGkgPSBpbmRleFN0YXJ0OyBpIDwgaW5kZXhDb3VudCArIGluZGV4U3RhcnQgLSAyOyArK2kpXG4gICAge1xuICAgICAgICB4MCA9IHZlcnRzWyhpICogMildO1xuICAgICAgICB5MCA9IHZlcnRzWyhpICogMikgKyAxXTtcblxuICAgICAgICB4MSA9IHZlcnRzWyhpICsgMSkgKiAyXTtcbiAgICAgICAgeTEgPSB2ZXJ0c1soKGkgKyAxKSAqIDIpICsgMV07XG5cbiAgICAgICAgeDIgPSB2ZXJ0c1soaSArIDIpICogMl07XG4gICAgICAgIHkyID0gdmVydHNbKChpICsgMikgKiAyKSArIDFdO1xuXG4gICAgICAgIC8qIFNraXAgemVybyBhcmVhIHRyaWFuZ2xlcyAqL1xuICAgICAgICBpZiAoTWF0aC5hYnMoKHgwICogKHkxIC0geTIpKSArICh4MSAqICh5MiAtIHkwKSkgKyAoeDIgKiAoeTAgLSB5MSkpKSA8IGVwczIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaW5kaWNlcy5wdXNoKGksIGkgKyAxLCBpICsgMik7XG4gICAgfVxufVxuXG4vKipcbiAqIEJ1aWxkcyBhIGxpbmUgdG8gZHJhdyB1c2luZyB0aGUgZ2wuZHJhd0FycmF5cyhnbC5MSU5FUykgbWV0aG9kXG4gKlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5HcmFwaGljc0RhdGF9IGdyYXBoaWNzRGF0YSAtIFRoZSBncmFwaGljcyBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIG5lY2Vzc2FyeSBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge1BJWEkuR3JhcGhpY3NHZW9tZXRyeX0gZ3JhcGhpY3NHZW9tZXRyeSAtIEdlb21ldHJ5IHdoZXJlIHRvIGFwcGVuZCBvdXRwdXRcbiAqL1xuZnVuY3Rpb24gYnVpbGROYXRpdmVMaW5lKGdyYXBoaWNzRGF0YTogR3JhcGhpY3NEYXRhLCBncmFwaGljc0dlb21ldHJ5OiBHcmFwaGljc0dlb21ldHJ5KTogdm9pZFxue1xuICAgIGxldCBpID0gMDtcblxuICAgIGNvbnN0IHNoYXBlID0gZ3JhcGhpY3NEYXRhLnNoYXBlIGFzIFBvbHlnb247XG4gICAgY29uc3QgcG9pbnRzID0gZ3JhcGhpY3NEYXRhLnBvaW50cyB8fCBzaGFwZS5wb2ludHM7XG4gICAgY29uc3QgY2xvc2VkU2hhcGUgPSBzaGFwZS50eXBlICE9PSBTSEFQRVMuUE9MWSB8fCBzaGFwZS5jbG9zZVN0cm9rZTtcblxuICAgIGlmIChwb2ludHMubGVuZ3RoID09PSAwKSByZXR1cm47XG5cbiAgICBjb25zdCB2ZXJ0cyA9IGdyYXBoaWNzR2VvbWV0cnkucG9pbnRzO1xuICAgIGNvbnN0IGluZGljZXMgPSBncmFwaGljc0dlb21ldHJ5LmluZGljZXM7XG4gICAgY29uc3QgbGVuZ3RoID0gcG9pbnRzLmxlbmd0aCAvIDI7XG5cbiAgICBjb25zdCBzdGFydEluZGV4ID0gdmVydHMubGVuZ3RoIC8gMjtcbiAgICBsZXQgY3VycmVudEluZGV4ID0gc3RhcnRJbmRleDtcblxuICAgIHZlcnRzLnB1c2gocG9pbnRzWzBdLCBwb2ludHNbMV0pO1xuXG4gICAgZm9yIChpID0gMTsgaSA8IGxlbmd0aDsgaSsrKVxuICAgIHtcbiAgICAgICAgdmVydHMucHVzaChwb2ludHNbaSAqIDJdLCBwb2ludHNbKGkgKiAyKSArIDFdKTtcbiAgICAgICAgaW5kaWNlcy5wdXNoKGN1cnJlbnRJbmRleCwgY3VycmVudEluZGV4ICsgMSk7XG5cbiAgICAgICAgY3VycmVudEluZGV4Kys7XG4gICAgfVxuXG4gICAgaWYgKGNsb3NlZFNoYXBlKVxuICAgIHtcbiAgICAgICAgaW5kaWNlcy5wdXNoKGN1cnJlbnRJbmRleCwgc3RhcnRJbmRleCk7XG4gICAgfVxufVxuXG4vKipcbiAqIEJ1aWxkcyBhIGxpbmUgdG8gZHJhd1xuICpcbiAqIElnbm9yZWQgZnJvbSBkb2NzIHNpbmNlIGl0IGlzIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuR3JhcGhpY3NEYXRhfSBncmFwaGljc0RhdGEgLSBUaGUgZ3JhcGhpY3Mgb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBuZWNlc3NhcnkgcHJvcGVydGllc1xuICogQHBhcmFtIHtQSVhJLkdyYXBoaWNzR2VvbWV0cnl9IGdyYXBoaWNzR2VvbWV0cnkgLSBHZW9tZXRyeSB3aGVyZSB0byBhcHBlbmQgb3V0cHV0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBidWlsZExpbmUoZ3JhcGhpY3NEYXRhOiBHcmFwaGljc0RhdGEsIGdyYXBoaWNzR2VvbWV0cnk6IEdyYXBoaWNzR2VvbWV0cnkpOiB2b2lkXG57XG4gICAgaWYgKGdyYXBoaWNzRGF0YS5saW5lU3R5bGUubmF0aXZlKVxuICAgIHtcbiAgICAgICAgYnVpbGROYXRpdmVMaW5lKGdyYXBoaWNzRGF0YSwgZ3JhcGhpY3NHZW9tZXRyeSk7XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIGJ1aWxkTm9uTmF0aXZlTGluZShncmFwaGljc0RhdGEsIGdyYXBoaWNzR2VvbWV0cnkpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFBvbHlnb24sIFBJXzIgfSBmcm9tICdAcGl4aS9tYXRoJztcblxuLyoqXG4gKiBEcmF3IGEgc3RhciBzaGFwZSB3aXRoIGFuIGFyYml0cmFyeSBudW1iZXIgb2YgcG9pbnRzLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5Qb2x5Z29uXG4gKiBAbWVtYmVyb2YgUElYSS5ncmFwaGljc1V0aWxzXG4gKiBAcGFyYW0ge251bWJlcn0geCAtIENlbnRlciBYIHBvc2l0aW9uIG9mIHRoZSBzdGFyXG4gKiBAcGFyYW0ge251bWJlcn0geSAtIENlbnRlciBZIHBvc2l0aW9uIG9mIHRoZSBzdGFyXG4gKiBAcGFyYW0ge251bWJlcn0gcG9pbnRzIC0gVGhlIG51bWJlciBvZiBwb2ludHMgb2YgdGhlIHN0YXIsIG11c3QgYmUgPiAxXG4gKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzIC0gVGhlIG91dGVyIHJhZGl1cyBvZiB0aGUgc3RhclxuICogQHBhcmFtIHtudW1iZXJ9IFtpbm5lclJhZGl1c10gLSBUaGUgaW5uZXIgcmFkaXVzIGJldHdlZW4gcG9pbnRzLCBkZWZhdWx0IGhhbGYgYHJhZGl1c2BcbiAqIEBwYXJhbSB7bnVtYmVyfSBbcm90YXRpb249MF0gLSBUaGUgcm90YXRpb24gb2YgdGhlIHN0YXIgaW4gcmFkaWFucywgd2hlcmUgMCBpcyB2ZXJ0aWNhbFxuICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICovXG5leHBvcnQgY2xhc3MgU3RhciBleHRlbmRzIFBvbHlnb25cbntcbiAgICBjb25zdHJ1Y3Rvcih4OiBudW1iZXIsIHk6IG51bWJlciwgcG9pbnRzOiBudW1iZXIsIHJhZGl1czogbnVtYmVyLCBpbm5lclJhZGl1czogbnVtYmVyLCByb3RhdGlvbiA9IDApXG4gICAge1xuICAgICAgICBpbm5lclJhZGl1cyA9IGlubmVyUmFkaXVzIHx8IHJhZGl1cyAvIDI7XG5cbiAgICAgICAgY29uc3Qgc3RhcnRBbmdsZSA9ICgtMSAqIE1hdGguUEkgLyAyKSArIHJvdGF0aW9uO1xuICAgICAgICBjb25zdCBsZW4gPSBwb2ludHMgKiAyO1xuICAgICAgICBjb25zdCBkZWx0YSA9IFBJXzIgLyBsZW47XG4gICAgICAgIGNvbnN0IHBvbHlnb24gPSBbXTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCByID0gaSAlIDIgPyBpbm5lclJhZGl1cyA6IHJhZGl1cztcbiAgICAgICAgICAgIGNvbnN0IGFuZ2xlID0gKGkgKiBkZWx0YSkgKyBzdGFydEFuZ2xlO1xuXG4gICAgICAgICAgICBwb2x5Z29uLnB1c2goXG4gICAgICAgICAgICAgICAgeCArIChyICogTWF0aC5jb3MoYW5nbGUpKSxcbiAgICAgICAgICAgICAgICB5ICsgKHIgKiBNYXRoLnNpbihhbmdsZSkpXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgc3VwZXIocG9seWdvbik7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgR1JBUEhJQ1NfQ1VSVkVTIH0gZnJvbSAnLi4vY29uc3QnO1xuaW1wb3J0IHsgUElfMiB9IGZyb20gJ0BwaXhpL21hdGgnO1xuXG5pbnRlcmZhY2UgSUFyY0xpa2VTaGFwZSB7XG4gICAgY3g6IG51bWJlcjtcbiAgICBjeTogbnVtYmVyO1xuICAgIHJhZGl1czogbnVtYmVyO1xuICAgIHN0YXJ0QW5nbGU6IG51bWJlcjtcbiAgICBlbmRBbmdsZTogbnVtYmVyO1xuICAgIGFudGljbG9ja3dpc2U6IGJvb2xlYW47XG59XG5cbi8qKlxuICogVXRpbGl0aWVzIGZvciBhcmMgY3VydmVzXG4gKiBAY2xhc3NcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBjbGFzcyBBcmNVdGlsc1xue1xuICAgIC8qKlxuICAgICAqIFRoZSBhcmNUbygpIG1ldGhvZCBjcmVhdGVzIGFuIGFyYy9jdXJ2ZSBiZXR3ZWVuIHR3byB0YW5nZW50cyBvbiB0aGUgY2FudmFzLlxuICAgICAqXG4gICAgICogXCJib3Jyb3dlZFwiIGZyb20gaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9meGNhbnZhcy8gLSB0aGFua3MgZ29vZ2xlIVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geDEgLSBUaGUgeC1jb29yZGluYXRlIG9mIHRoZSBiZWdpbm5pbmcgb2YgdGhlIGFyY1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5MSAtIFRoZSB5LWNvb3JkaW5hdGUgb2YgdGhlIGJlZ2lubmluZyBvZiB0aGUgYXJjXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHgyIC0gVGhlIHgtY29vcmRpbmF0ZSBvZiB0aGUgZW5kIG9mIHRoZSBhcmNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geTIgLSBUaGUgeS1jb29yZGluYXRlIG9mIHRoZSBlbmQgb2YgdGhlIGFyY1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgLSBUaGUgcmFkaXVzIG9mIHRoZSBhcmNcbiAgICAgKiBAcmV0dXJuIHtvYmplY3R9IElmIHRoZSBhcmMgbGVuZ3RoIGlzIHZhbGlkLCByZXR1cm4gY2VudGVyIG9mIGNpcmNsZSwgcmFkaXVzIGFuZCBvdGhlciBpbmZvIG90aGVyd2lzZSBgbnVsbGAuXG4gICAgICovXG4gICAgc3RhdGljIGN1cnZlVG8oeDE6IG51bWJlciwgeTE6IG51bWJlciwgeDI6IG51bWJlciwgeTI6IG51bWJlciwgcmFkaXVzOiBudW1iZXIsIHBvaW50czogQXJyYXk8bnVtYmVyPik6IElBcmNMaWtlU2hhcGVcbiAgICB7XG4gICAgICAgIGNvbnN0IGZyb21YID0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAyXTtcbiAgICAgICAgY29uc3QgZnJvbVkgPSBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDFdO1xuXG4gICAgICAgIGNvbnN0IGExID0gZnJvbVkgLSB5MTtcbiAgICAgICAgY29uc3QgYjEgPSBmcm9tWCAtIHgxO1xuICAgICAgICBjb25zdCBhMiA9IHkyIC0geTE7XG4gICAgICAgIGNvbnN0IGIyID0geDIgLSB4MTtcbiAgICAgICAgY29uc3QgbW0gPSBNYXRoLmFicygoYTEgKiBiMikgLSAoYjEgKiBhMikpO1xuXG4gICAgICAgIGlmIChtbSA8IDEuMGUtOCB8fCByYWRpdXMgPT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDJdICE9PSB4MSB8fCBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDFdICE9PSB5MSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBwb2ludHMucHVzaCh4MSwgeTEpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGRkID0gKGExICogYTEpICsgKGIxICogYjEpO1xuICAgICAgICBjb25zdCBjYyA9IChhMiAqIGEyKSArIChiMiAqIGIyKTtcbiAgICAgICAgY29uc3QgdHQgPSAoYTEgKiBhMikgKyAoYjEgKiBiMik7XG4gICAgICAgIGNvbnN0IGsxID0gcmFkaXVzICogTWF0aC5zcXJ0KGRkKSAvIG1tO1xuICAgICAgICBjb25zdCBrMiA9IHJhZGl1cyAqIE1hdGguc3FydChjYykgLyBtbTtcbiAgICAgICAgY29uc3QgajEgPSBrMSAqIHR0IC8gZGQ7XG4gICAgICAgIGNvbnN0IGoyID0gazIgKiB0dCAvIGNjO1xuICAgICAgICBjb25zdCBjeCA9IChrMSAqIGIyKSArIChrMiAqIGIxKTtcbiAgICAgICAgY29uc3QgY3kgPSAoazEgKiBhMikgKyAoazIgKiBhMSk7XG4gICAgICAgIGNvbnN0IHB4ID0gYjEgKiAoazIgKyBqMSk7XG4gICAgICAgIGNvbnN0IHB5ID0gYTEgKiAoazIgKyBqMSk7XG4gICAgICAgIGNvbnN0IHF4ID0gYjIgKiAoazEgKyBqMik7XG4gICAgICAgIGNvbnN0IHF5ID0gYTIgKiAoazEgKyBqMik7XG4gICAgICAgIGNvbnN0IHN0YXJ0QW5nbGUgPSBNYXRoLmF0YW4yKHB5IC0gY3ksIHB4IC0gY3gpO1xuICAgICAgICBjb25zdCBlbmRBbmdsZSA9IE1hdGguYXRhbjIocXkgLSBjeSwgcXggLSBjeCk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGN4OiAoY3ggKyB4MSksXG4gICAgICAgICAgICBjeTogKGN5ICsgeTEpLFxuICAgICAgICAgICAgcmFkaXVzLFxuICAgICAgICAgICAgc3RhcnRBbmdsZSxcbiAgICAgICAgICAgIGVuZEFuZ2xlLFxuICAgICAgICAgICAgYW50aWNsb2Nrd2lzZTogKGIxICogYTIgPiBiMiAqIGExKSxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG4gICAgLyoqXG4gICAgICogVGhlIGFyYyBtZXRob2QgY3JlYXRlcyBhbiBhcmMvY3VydmUgKHVzZWQgdG8gY3JlYXRlIGNpcmNsZXMsIG9yIHBhcnRzIG9mIGNpcmNsZXMpLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRYIC0gU3RhcnQgeCBsb2NhdGlvbiBvZiBhcmNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRZIC0gU3RhcnQgeSBsb2NhdGlvbiBvZiBhcmNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3ggLSBUaGUgeC1jb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhlIGNpcmNsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjeSAtIFRoZSB5LWNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGUgY2lyY2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJhZGl1cyAtIFRoZSByYWRpdXMgb2YgdGhlIGNpcmNsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEFuZ2xlIC0gVGhlIHN0YXJ0aW5nIGFuZ2xlLCBpbiByYWRpYW5zICgwIGlzIGF0IHRoZSAzIG8nY2xvY2sgcG9zaXRpb25cbiAgICAgKiAgb2YgdGhlIGFyYydzIGNpcmNsZSlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kQW5nbGUgLSBUaGUgZW5kaW5nIGFuZ2xlLCBpbiByYWRpYW5zXG4gICAgICogQHBhcmFtIHtib29sZWFufSBhbnRpY2xvY2t3aXNlIC0gU3BlY2lmaWVzIHdoZXRoZXIgdGhlIGRyYXdpbmcgc2hvdWxkIGJlXG4gICAgICogIGNvdW50ZXItY2xvY2t3aXNlIG9yIGNsb2Nrd2lzZS4gRmFsc2UgaXMgZGVmYXVsdCwgYW5kIGluZGljYXRlcyBjbG9ja3dpc2UsIHdoaWxlIHRydWVcbiAgICAgKiAgaW5kaWNhdGVzIGNvdW50ZXItY2xvY2t3aXNlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IHBvaW50cyAtIENvbGxlY3Rpb24gb2YgcG9pbnRzIHRvIGFkZCB0b1xuICAgICAqL1xuICAgIHN0YXRpYyBhcmMoX3N0YXJ0WDogbnVtYmVyLCBfc3RhcnRZOiBudW1iZXIsIGN4OiBudW1iZXIsIGN5OiBudW1iZXIsIHJhZGl1czogbnVtYmVyLFxuICAgICAgICBzdGFydEFuZ2xlOiBudW1iZXIsIGVuZEFuZ2xlOiBudW1iZXIsIF9hbnRpY2xvY2t3aXNlOiBib29sZWFuLCBwb2ludHM6IEFycmF5PG51bWJlcj4pOiB2b2lkXG4gICAge1xuICAgICAgICBjb25zdCBzd2VlcCA9IGVuZEFuZ2xlIC0gc3RhcnRBbmdsZTtcbiAgICAgICAgY29uc3QgbiA9IEdSQVBISUNTX0NVUlZFUy5fc2VnbWVudHNDb3VudChcbiAgICAgICAgICAgIE1hdGguYWJzKHN3ZWVwKSAqIHJhZGl1cyxcbiAgICAgICAgICAgIE1hdGguY2VpbChNYXRoLmFicyhzd2VlcCkgLyBQSV8yKSAqIDQwXG4gICAgICAgICk7XG5cbiAgICAgICAgY29uc3QgdGhldGEgPSAoc3dlZXApIC8gKG4gKiAyKTtcbiAgICAgICAgY29uc3QgdGhldGEyID0gdGhldGEgKiAyO1xuICAgICAgICBjb25zdCBjVGhldGEgPSBNYXRoLmNvcyh0aGV0YSk7XG4gICAgICAgIGNvbnN0IHNUaGV0YSA9IE1hdGguc2luKHRoZXRhKTtcbiAgICAgICAgY29uc3Qgc2VnTWludXMgPSBuIC0gMTtcbiAgICAgICAgY29uc3QgcmVtYWluZGVyID0gKHNlZ01pbnVzICUgMSkgLyBzZWdNaW51cztcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8PSBzZWdNaW51czsgKytpKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCByZWFsID0gaSArIChyZW1haW5kZXIgKiBpKTtcbiAgICAgICAgICAgIGNvbnN0IGFuZ2xlID0gKCh0aGV0YSkgKyBzdGFydEFuZ2xlICsgKHRoZXRhMiAqIHJlYWwpKTtcbiAgICAgICAgICAgIGNvbnN0IGMgPSBNYXRoLmNvcyhhbmdsZSk7XG4gICAgICAgICAgICBjb25zdCBzID0gLU1hdGguc2luKGFuZ2xlKTtcblxuICAgICAgICAgICAgcG9pbnRzLnB1c2goXG4gICAgICAgICAgICAgICAgKCgoY1RoZXRhICogYykgKyAoc1RoZXRhICogcykpICogcmFkaXVzKSArIGN4LFxuICAgICAgICAgICAgICAgICgoKGNUaGV0YSAqIC1zKSArIChzVGhldGEgKiBjKSkgKiByYWRpdXMpICsgY3lcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyogZXNsaW50LWVuYWJsZSBtYXgtbGVuICovXG59XG4iLCJpbXBvcnQgeyBHUkFQSElDU19DVVJWRVMgfSBmcm9tICcuLi9jb25zdCc7XG5cbi8qKlxuICogVXRpbGl0aWVzIGZvciBiZXppZXIgY3VydmVzXG4gKiBAY2xhc3NcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBjbGFzcyBCZXppZXJVdGlsc1xue1xuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSBsZW5ndGggb2YgYmV6aWVyIGN1cnZlLlxuICAgICAqIEFuYWx5dGljYWwgc29sdXRpb24gaXMgaW1wb3NzaWJsZSwgc2luY2UgaXQgaW52b2x2ZXMgYW4gaW50ZWdyYWwgdGhhdCBkb2VzIG5vdCBpbnRlZ3JhdGUgaW4gZ2VuZXJhbC5cbiAgICAgKiBUaGVyZWZvcmUgbnVtZXJpY2FsIHNvbHV0aW9uIGlzIHVzZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tWCAtIFN0YXJ0aW5nIHBvaW50IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbVkgLSBTdGFydGluZyBwb2ludCB5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWCAtIENvbnRyb2wgcG9pbnQgeFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFkgLSBDb250cm9sIHBvaW50IHlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BYMiAtIFNlY29uZCBDb250cm9sIHBvaW50IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BZMiAtIFNlY29uZCBDb250cm9sIHBvaW50IHlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9YIC0gRGVzdGluYXRpb24gcG9pbnQgeFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0b1kgLSBEZXN0aW5hdGlvbiBwb2ludCB5XG4gICAgICogQHJldHVybiB7bnVtYmVyfSBMZW5ndGggb2YgYmV6aWVyIGN1cnZlXG4gICAgICovXG4gICAgc3RhdGljIGN1cnZlTGVuZ3RoKFxuICAgICAgICBmcm9tWDogbnVtYmVyLCBmcm9tWTogbnVtYmVyLFxuICAgICAgICBjcFg6IG51bWJlciwgY3BZOiBudW1iZXIsXG4gICAgICAgIGNwWDI6IG51bWJlciwgY3BZMjogbnVtYmVyLFxuICAgICAgICB0b1g6IG51bWJlciwgdG9ZOiBudW1iZXIpOiBudW1iZXJcbiAgICB7XG4gICAgICAgIGNvbnN0IG4gPSAxMDtcbiAgICAgICAgbGV0IHJlc3VsdCA9IDAuMDtcbiAgICAgICAgbGV0IHQgPSAwLjA7XG4gICAgICAgIGxldCB0MiA9IDAuMDtcbiAgICAgICAgbGV0IHQzID0gMC4wO1xuICAgICAgICBsZXQgbnQgPSAwLjA7XG4gICAgICAgIGxldCBudDIgPSAwLjA7XG4gICAgICAgIGxldCBudDMgPSAwLjA7XG4gICAgICAgIGxldCB4ID0gMC4wO1xuICAgICAgICBsZXQgeSA9IDAuMDtcbiAgICAgICAgbGV0IGR4ID0gMC4wO1xuICAgICAgICBsZXQgZHkgPSAwLjA7XG4gICAgICAgIGxldCBwcmV2WCA9IGZyb21YO1xuICAgICAgICBsZXQgcHJldlkgPSBmcm9tWTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8PSBuOyArK2kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHQgPSBpIC8gbjtcbiAgICAgICAgICAgIHQyID0gdCAqIHQ7XG4gICAgICAgICAgICB0MyA9IHQyICogdDtcbiAgICAgICAgICAgIG50ID0gKDEuMCAtIHQpO1xuICAgICAgICAgICAgbnQyID0gbnQgKiBudDtcbiAgICAgICAgICAgIG50MyA9IG50MiAqIG50O1xuXG4gICAgICAgICAgICB4ID0gKG50MyAqIGZyb21YKSArICgzLjAgKiBudDIgKiB0ICogY3BYKSArICgzLjAgKiBudCAqIHQyICogY3BYMikgKyAodDMgKiB0b1gpO1xuICAgICAgICAgICAgeSA9IChudDMgKiBmcm9tWSkgKyAoMy4wICogbnQyICogdCAqIGNwWSkgKyAoMyAqIG50ICogdDIgKiBjcFkyKSArICh0MyAqIHRvWSk7XG4gICAgICAgICAgICBkeCA9IHByZXZYIC0geDtcbiAgICAgICAgICAgIGR5ID0gcHJldlkgLSB5O1xuICAgICAgICAgICAgcHJldlggPSB4O1xuICAgICAgICAgICAgcHJldlkgPSB5O1xuXG4gICAgICAgICAgICByZXN1bHQgKz0gTWF0aC5zcXJ0KChkeCAqIGR4KSArIChkeSAqIGR5KSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgcG9pbnRzIGZvciBhIGJlemllciBjdXJ2ZSBhbmQgdGhlbiBkcmF3cyBpdC5cbiAgICAgKlxuICAgICAqIElnbm9yZWQgZnJvbSBkb2NzIHNpbmNlIGl0IGlzIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICAgICAqXG4gICAgICogQGlnbm9yZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFggLSBDb250cm9sIHBvaW50IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BZIC0gQ29udHJvbCBwb2ludCB5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWDIgLSBTZWNvbmQgQ29udHJvbCBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWTIgLSBTZWNvbmQgQ29udHJvbCBwb2ludCB5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvWCAtIERlc3RpbmF0aW9uIHBvaW50IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9ZIC0gRGVzdGluYXRpb24gcG9pbnQgeVxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IHBvaW50cyAtIFBhdGggYXJyYXkgdG8gcHVzaCBwb2ludHMgaW50b1xuICAgICAqL1xuICAgIHN0YXRpYyBjdXJ2ZVRvKFxuICAgICAgICBjcFg6IG51bWJlciwgY3BZOiBudW1iZXIsXG4gICAgICAgIGNwWDI6IG51bWJlciwgY3BZMjogbnVtYmVyLFxuICAgICAgICB0b1g6IG51bWJlciwgdG9ZOiBudW1iZXIsXG4gICAgICAgIHBvaW50czogQXJyYXk8bnVtYmVyPik6IHZvaWRcbiAgICB7XG4gICAgICAgIGNvbnN0IGZyb21YID0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAyXTtcbiAgICAgICAgY29uc3QgZnJvbVkgPSBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDFdO1xuXG4gICAgICAgIHBvaW50cy5sZW5ndGggLT0gMjtcblxuICAgICAgICBjb25zdCBuID0gR1JBUEhJQ1NfQ1VSVkVTLl9zZWdtZW50c0NvdW50KFxuICAgICAgICAgICAgQmV6aWVyVXRpbHMuY3VydmVMZW5ndGgoZnJvbVgsIGZyb21ZLCBjcFgsIGNwWSwgY3BYMiwgY3BZMiwgdG9YLCB0b1kpXG4gICAgICAgICk7XG5cbiAgICAgICAgbGV0IGR0ID0gMDtcbiAgICAgICAgbGV0IGR0MiA9IDA7XG4gICAgICAgIGxldCBkdDMgPSAwO1xuICAgICAgICBsZXQgdDIgPSAwO1xuICAgICAgICBsZXQgdDMgPSAwO1xuXG4gICAgICAgIHBvaW50cy5wdXNoKGZyb21YLCBmcm9tWSk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDEsIGogPSAwOyBpIDw9IG47ICsraSlcbiAgICAgICAge1xuICAgICAgICAgICAgaiA9IGkgLyBuO1xuXG4gICAgICAgICAgICBkdCA9ICgxIC0gaik7XG4gICAgICAgICAgICBkdDIgPSBkdCAqIGR0O1xuICAgICAgICAgICAgZHQzID0gZHQyICogZHQ7XG5cbiAgICAgICAgICAgIHQyID0gaiAqIGo7XG4gICAgICAgICAgICB0MyA9IHQyICogajtcblxuICAgICAgICAgICAgcG9pbnRzLnB1c2goXG4gICAgICAgICAgICAgICAgKGR0MyAqIGZyb21YKSArICgzICogZHQyICogaiAqIGNwWCkgKyAoMyAqIGR0ICogdDIgKiBjcFgyKSArICh0MyAqIHRvWCksXG4gICAgICAgICAgICAgICAgKGR0MyAqIGZyb21ZKSArICgzICogZHQyICogaiAqIGNwWSkgKyAoMyAqIGR0ICogdDIgKiBjcFkyKSArICh0MyAqIHRvWSlcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgeyBHUkFQSElDU19DVVJWRVMgfSBmcm9tICcuLi9jb25zdCc7XG5cbi8qKlxuICogVXRpbGl0aWVzIGZvciBxdWFkcmF0aWMgY3VydmVzXG4gKiBAY2xhc3NcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBjbGFzcyBRdWFkcmF0aWNVdGlsc1xue1xuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSBsZW5ndGggb2YgcXVhZHJhdGljIGN1cnZlXG4gICAgICogQHNlZSB7QGxpbmsgaHR0cDovL3d3dy5tYWxjemFrLmxpbnV4cGwuY29tL2Jsb2cvcXVhZHJhdGljLWJlemllci1jdXJ2ZS1sZW5ndGgvfVxuICAgICAqIGZvciB0aGUgZGV0YWlsZWQgZXhwbGFuYXRpb24gb2YgbWF0aCBiZWhpbmQgdGhpcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGZyb21YIC0geC1jb29yZGluYXRlIG9mIGN1cnZlIHN0YXJ0IHBvaW50XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGZyb21ZIC0geS1jb29yZGluYXRlIG9mIGN1cnZlIHN0YXJ0IHBvaW50XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWCAtIHgtY29vcmRpbmF0ZSBvZiBjdXJ2ZSBjb250cm9sIHBvaW50XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWSAtIHktY29vcmRpbmF0ZSBvZiBjdXJ2ZSBjb250cm9sIHBvaW50XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvWCAtIHgtY29vcmRpbmF0ZSBvZiBjdXJ2ZSBlbmQgcG9pbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9ZIC0geS1jb29yZGluYXRlIG9mIGN1cnZlIGVuZCBwb2ludFxuICAgICAqIEByZXR1cm4ge251bWJlcn0gTGVuZ3RoIG9mIHF1YWRyYXRpYyBjdXJ2ZVxuICAgICAqL1xuICAgIHN0YXRpYyBjdXJ2ZUxlbmd0aChcbiAgICAgICAgZnJvbVg6IG51bWJlciwgZnJvbVk6IG51bWJlcixcbiAgICAgICAgY3BYOiBudW1iZXIsIGNwWTogbnVtYmVyLFxuICAgICAgICB0b1g6IG51bWJlciwgdG9ZOiBudW1iZXIpOiBudW1iZXJcbiAgICB7XG4gICAgICAgIGNvbnN0IGF4ID0gZnJvbVggLSAoMi4wICogY3BYKSArIHRvWDtcbiAgICAgICAgY29uc3QgYXkgPSBmcm9tWSAtICgyLjAgKiBjcFkpICsgdG9ZO1xuICAgICAgICBjb25zdCBieCA9ICgyLjAgKiBjcFgpIC0gKDIuMCAqIGZyb21YKTtcbiAgICAgICAgY29uc3QgYnkgPSAoMi4wICogY3BZKSAtICgyLjAgKiBmcm9tWSk7XG4gICAgICAgIGNvbnN0IGEgPSA0LjAgKiAoKGF4ICogYXgpICsgKGF5ICogYXkpKTtcbiAgICAgICAgY29uc3QgYiA9IDQuMCAqICgoYXggKiBieCkgKyAoYXkgKiBieSkpO1xuICAgICAgICBjb25zdCBjID0gKGJ4ICogYngpICsgKGJ5ICogYnkpO1xuXG4gICAgICAgIGNvbnN0IHMgPSAyLjAgKiBNYXRoLnNxcnQoYSArIGIgKyBjKTtcbiAgICAgICAgY29uc3QgYTIgPSBNYXRoLnNxcnQoYSk7XG4gICAgICAgIGNvbnN0IGEzMiA9IDIuMCAqIGEgKiBhMjtcbiAgICAgICAgY29uc3QgYzIgPSAyLjAgKiBNYXRoLnNxcnQoYyk7XG4gICAgICAgIGNvbnN0IGJhID0gYiAvIGEyO1xuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAoYTMyICogcylcbiAgICAgICAgICAgICAgICArIChhMiAqIGIgKiAocyAtIGMyKSlcbiAgICAgICAgICAgICAgICArIChcbiAgICAgICAgICAgICAgICAgICAgKCg0LjAgKiBjICogYSkgLSAoYiAqIGIpKVxuICAgICAgICAgICAgICAgICAgICogTWF0aC5sb2coKCgyLjAgKiBhMikgKyBiYSArIHMpIC8gKGJhICsgYzIpKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgKSAvICg0LjAgKiBhMzIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgcG9pbnRzIGZvciBhIHF1YWRyYXRpYyBiZXppZXIgY3VydmUgYW5kIHRoZW4gZHJhd3MgaXQuXG4gICAgICogQmFzZWQgb246IGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzc4NTA5Ny9ob3ctZG8taS1pbXBsZW1lbnQtYS1iZXppZXItY3VydmUtaW4tY1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BYIC0gQ29udHJvbCBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWSAtIENvbnRyb2wgcG9pbnQgeVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0b1ggLSBEZXN0aW5hdGlvbiBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvWSAtIERlc3RpbmF0aW9uIHBvaW50IHlcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBwb2ludHMgLSBQb2ludHMgdG8gYWRkIHNlZ21lbnRzIHRvLlxuICAgICAqL1xuICAgIHN0YXRpYyBjdXJ2ZVRvKGNwWDogbnVtYmVyLCBjcFk6IG51bWJlciwgdG9YOiBudW1iZXIsIHRvWTogbnVtYmVyLCBwb2ludHM6IEFycmF5PG51bWJlcj4pOiB2b2lkXG4gICAge1xuICAgICAgICBjb25zdCBmcm9tWCA9IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMl07XG4gICAgICAgIGNvbnN0IGZyb21ZID0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXTtcblxuICAgICAgICBjb25zdCBuID0gR1JBUEhJQ1NfQ1VSVkVTLl9zZWdtZW50c0NvdW50KFxuICAgICAgICAgICAgUXVhZHJhdGljVXRpbHMuY3VydmVMZW5ndGgoZnJvbVgsIGZyb21ZLCBjcFgsIGNwWSwgdG9YLCB0b1kpXG4gICAgICAgICk7XG5cbiAgICAgICAgbGV0IHhhID0gMDtcbiAgICAgICAgbGV0IHlhID0gMDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8PSBuOyArK2kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGogPSBpIC8gbjtcblxuICAgICAgICAgICAgeGEgPSBmcm9tWCArICgoY3BYIC0gZnJvbVgpICogaik7XG4gICAgICAgICAgICB5YSA9IGZyb21ZICsgKChjcFkgLSBmcm9tWSkgKiBqKTtcblxuICAgICAgICAgICAgcG9pbnRzLnB1c2goeGEgKyAoKChjcFggKyAoKHRvWCAtIGNwWCkgKiBqKSkgLSB4YSkgKiBqKSxcbiAgICAgICAgICAgICAgICB5YSArICgoKGNwWSArICgodG9ZIC0gY3BZKSAqIGopKSAtIHlhKSAqIGopKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB0eXBlIHsgTGluZVN0eWxlIH0gZnJvbSAnLi4vc3R5bGVzL0xpbmVTdHlsZSc7XG5pbXBvcnQgdHlwZSB7IEZpbGxTdHlsZSB9IGZyb20gJy4uL3N0eWxlcy9GaWxsU3R5bGUnO1xuXG4vKipcbiAqIEEgc3RydWN0dXJlIHRvIGhvbGQgaW50ZXJpbSBiYXRjaCBvYmplY3RzIGZvciBHcmFwaGljcy5cbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkuZ3JhcGhpY3NVdGlsc1xuICovXG5leHBvcnQgY2xhc3MgQmF0Y2hQYXJ0XG57XG4gICAgcHVibGljIHN0eWxlOiBMaW5lU3R5bGUgfCBGaWxsU3R5bGU7XG4gICAgcHVibGljIHN0YXJ0OiBudW1iZXI7XG4gICAgcHVibGljIHNpemU6IG51bWJlcjtcbiAgICBwdWJsaWMgYXR0cmliU3RhcnQ6IG51bWJlcjtcbiAgICBwdWJsaWMgYXR0cmliU2l6ZTogbnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3IoKVxuICAgIHtcbiAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEJlZ2luIGJhdGNoIHBhcnRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5GaWxsU3R5bGUgfCBQSVhJLkxpbmVTdHlsZX0gc3R5bGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRJbmRleFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhdHRyaWJTdGFydFxuICAgICAqL1xuICAgIHB1YmxpYyBiZWdpbihzdHlsZTogTGluZVN0eWxlIHwgRmlsbFN0eWxlLCBzdGFydEluZGV4OiBudW1iZXIsIGF0dHJpYlN0YXJ0OiBudW1iZXIpOiB2b2lkXG4gICAge1xuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICAgIHRoaXMuc3R5bGUgPSBzdHlsZTtcbiAgICAgICAgdGhpcy5zdGFydCA9IHN0YXJ0SW5kZXg7XG4gICAgICAgIHRoaXMuYXR0cmliU3RhcnQgPSBhdHRyaWJTdGFydDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbmQgYmF0Y2ggcGFydFxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZEluZGV4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZEF0dHJpYlxuICAgICAqL1xuICAgIHB1YmxpYyBlbmQoZW5kSW5kZXg6IG51bWJlciwgZW5kQXR0cmliOiBudW1iZXIpOiB2b2lkXG4gICAge1xuICAgICAgICB0aGlzLmF0dHJpYlNpemUgPSBlbmRBdHRyaWIgLSB0aGlzLmF0dHJpYlN0YXJ0O1xuICAgICAgICB0aGlzLnNpemUgPSBlbmRJbmRleCAtIHRoaXMuc3RhcnQ7XG4gICAgfVxuXG4gICAgcHVibGljIHJlc2V0KCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHRoaXMuc3R5bGUgPSBudWxsO1xuICAgICAgICB0aGlzLnNpemUgPSAwO1xuICAgICAgICB0aGlzLnN0YXJ0ID0gMDtcbiAgICAgICAgdGhpcy5hdHRyaWJTdGFydCA9IDA7XG4gICAgICAgIHRoaXMuYXR0cmliU2l6ZSA9IDA7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBHZW5lcmFsaXplZCBjb252ZW5pZW5jZSB1dGlsaXRpZXMgZm9yIEdyYXBoaWNzLlxuICpcbiAqIEBuYW1lc3BhY2UgZ3JhcGhpY3NVdGlsc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuXG5pbXBvcnQgeyBidWlsZFBvbHkgfSBmcm9tICcuL2J1aWxkUG9seSc7XG5leHBvcnQgeyBidWlsZFBvbHkgfTtcblxuaW1wb3J0IHsgYnVpbGRDaXJjbGUgfSBmcm9tICcuL2J1aWxkQ2lyY2xlJztcbmV4cG9ydCB7IGJ1aWxkQ2lyY2xlIH07XG5cbmltcG9ydCB7IGJ1aWxkUmVjdGFuZ2xlIH0gZnJvbSAnLi9idWlsZFJlY3RhbmdsZSc7XG5leHBvcnQgeyBidWlsZFJlY3RhbmdsZSB9O1xuXG5pbXBvcnQgeyBidWlsZFJvdW5kZWRSZWN0YW5nbGUgfSBmcm9tICcuL2J1aWxkUm91bmRlZFJlY3RhbmdsZSc7XG5leHBvcnQgeyBidWlsZFJvdW5kZWRSZWN0YW5nbGUgfTtcblxuZXhwb3J0ICogZnJvbSAnLi9idWlsZExpbmUnO1xuZXhwb3J0ICogZnJvbSAnLi9TdGFyJztcbmV4cG9ydCAqIGZyb20gJy4vQXJjVXRpbHMnO1xuZXhwb3J0ICogZnJvbSAnLi9CZXppZXJVdGlscyc7XG5leHBvcnQgKiBmcm9tICcuL1F1YWRyYXRpY1V0aWxzJztcbmV4cG9ydCAqIGZyb20gJy4vQmF0Y2hQYXJ0JztcblxuLy8gZm9yIHR5cGUgb25seVxuaW1wb3J0IHsgQmF0Y2hQYXJ0IH0gZnJvbSAnLi9CYXRjaFBhcnQnO1xuaW1wb3J0IHsgU0hBUEVTIH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyBCYXRjaERyYXdDYWxsIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBJU2hhcGVCdWlsZENvbW1hbmQgfSBmcm9tICcuL0lTaGFwZUJ1aWxkQ29tbWFuZCc7XG5cbi8qKlxuICogTWFwIG9mIGZpbGwgY29tbWFuZHMgZm9yIGVhY2ggc2hhcGUgdHlwZS5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS5ncmFwaGljc1V0aWxzXG4gKiBAbWVtYmVyIHtPYmplY3R9IEZJTExfQ09NTUFORFNcbiAqL1xuZXhwb3J0IGNvbnN0IEZJTExfQ09NTUFORFM6IFJlY29yZDxTSEFQRVMsIElTaGFwZUJ1aWxkQ29tbWFuZD4gPSB7XG4gICAgW1NIQVBFUy5QT0xZXTogYnVpbGRQb2x5LFxuICAgIFtTSEFQRVMuQ0lSQ106IGJ1aWxkQ2lyY2xlLFxuICAgIFtTSEFQRVMuRUxJUF06IGJ1aWxkQ2lyY2xlLFxuICAgIFtTSEFQRVMuUkVDVF06IGJ1aWxkUmVjdGFuZ2xlLFxuICAgIFtTSEFQRVMuUlJFQ106IGJ1aWxkUm91bmRlZFJlY3RhbmdsZSxcbn07XG5cbi8qKlxuICogQmF0Y2ggcG9vbCwgc3RvcmVzIHVudXNlZCBiYXRjaGVzIGZvciBwcmV2ZW50aW5nIGFsbG9jYXRpb25zLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLmdyYXBoaWNzVXRpbHNcbiAqIEBtZW1iZXIge0FycmF5PFBJWEkuZ3JhcGhpY3NVdGlscy5CYXRjaFBhcnQ+fSBCQVRDSF9QT09MXG4gKi9cbmV4cG9ydCBjb25zdCBCQVRDSF9QT09MOiBBcnJheTxCYXRjaFBhcnQ+ID0gW107XG5cbi8qKlxuICogRHJhdyBjYWxsIHBvb2wsIHN0b3JlcyB1bnVzZWQgZHJhdyBjYWxscyBmb3IgcHJldmVudGluZyBhbGxvY2F0aW9ucy5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS5ncmFwaGljc1V0aWxzXG4gKiBAbWVtYmVyIHtBcnJheTxQSVhJLkJhdGNoRHJhd0NhbGw+fSBEUkFXX0NBTExfUE9PTFxuICovXG5leHBvcnQgY29uc3QgRFJBV19DQUxMX1BPT0w6IEFycmF5PEJhdGNoRHJhd0NhbGw+ID0gW107XG4iLCJpbXBvcnQgdHlwZSB7IE1hdHJpeCwgU0hBUEVTLCBJU2hhcGUgfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB0eXBlIHsgRmlsbFN0eWxlIH0gZnJvbSAnLi9zdHlsZXMvRmlsbFN0eWxlJztcbmltcG9ydCB0eXBlIHsgTGluZVN0eWxlIH0gZnJvbSAnLi9zdHlsZXMvTGluZVN0eWxlJztcblxuLyoqXG4gKiBBIGNsYXNzIHRvIGNvbnRhaW4gZGF0YSB1c2VmdWwgZm9yIEdyYXBoaWNzIG9iamVjdHNcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBjbGFzcyBHcmFwaGljc0RhdGFcbntcbiAgICBzaGFwZTogSVNoYXBlO1xuICAgIGxpbmVTdHlsZTogTGluZVN0eWxlO1xuICAgIGZpbGxTdHlsZTogRmlsbFN0eWxlO1xuICAgIG1hdHJpeDogTWF0cml4O1xuICAgIHR5cGU6IFNIQVBFUztcbiAgICBwb2ludHM6IG51bWJlcltdO1xuICAgIGhvbGVzOiBBcnJheTxHcmFwaGljc0RhdGE+O1xuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkNpcmNsZXxQSVhJLkVsbGlwc2V8UElYSS5Qb2x5Z29ufFBJWEkuUmVjdGFuZ2xlfFBJWEkuUm91bmRlZFJlY3RhbmdsZX0gc2hhcGUgLSBUaGUgc2hhcGUgb2JqZWN0IHRvIGRyYXcuXG4gICAgICogQHBhcmFtIHtQSVhJLkZpbGxTdHlsZX0gW2ZpbGxTdHlsZV0gLSB0aGUgd2lkdGggb2YgdGhlIGxpbmUgdG8gZHJhd1xuICAgICAqIEBwYXJhbSB7UElYSS5MaW5lU3R5bGV9IFtsaW5lU3R5bGVdIC0gdGhlIGNvbG9yIG9mIHRoZSBsaW5lIHRvIGRyYXdcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBbbWF0cml4XSAtIFRyYW5zZm9ybSBtYXRyaXhcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihzaGFwZTogSVNoYXBlLCBmaWxsU3R5bGU6IEZpbGxTdHlsZSA9IG51bGwsIGxpbmVTdHlsZTogTGluZVN0eWxlID0gbnVsbCwgbWF0cml4OiBNYXRyaXggPSBudWxsKVxuICAgIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzaGFwZSBvYmplY3QgdG8gZHJhdy5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5DaXJjbGV8UElYSS5FbGxpcHNlfFBJWEkuUG9seWdvbnxQSVhJLlJlY3RhbmdsZXxQSVhJLlJvdW5kZWRSZWN0YW5nbGV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNoYXBlID0gc2hhcGU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzdHlsZSBvZiB0aGUgbGluZS5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5MaW5lU3R5bGV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxpbmVTdHlsZSA9IGxpbmVTdHlsZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHN0eWxlIG9mIHRoZSBmaWxsLlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkZpbGxTdHlsZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmlsbFN0eWxlID0gZmlsbFN0eWxlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHJhbnNmb3JtIG1hdHJpeC5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5NYXRyaXh9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1hdHJpeCA9IG1hdHJpeDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHR5cGUgb2YgdGhlIHNoYXBlLCBzZWUgdGhlIENvbnN0LlNoYXBlcyBmaWxlIGZvciBhbGwgdGhlIGV4aXN0aW5nIHR5cGVzLFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR5cGUgPSBzaGFwZS50eXBlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY29sbGVjdGlvbiBvZiBwb2ludHMuXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wb2ludHMgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNvbGxlY3Rpb24gb2YgaG9sZXMuXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuR3JhcGhpY3NEYXRhW119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmhvbGVzID0gW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBHcmFwaGljc0RhdGEgb2JqZWN0IHdpdGggdGhlIHNhbWUgdmFsdWVzIGFzIHRoaXMgb25lLlxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc0RhdGF9IENsb25lZCBHcmFwaGljc0RhdGEgb2JqZWN0XG4gICAgICovXG4gICAgcHVibGljIGNsb25lKCk6IEdyYXBoaWNzRGF0YVxuICAgIHtcbiAgICAgICAgcmV0dXJuIG5ldyBHcmFwaGljc0RhdGEoXG4gICAgICAgICAgICB0aGlzLnNoYXBlLFxuICAgICAgICAgICAgdGhpcy5maWxsU3R5bGUsXG4gICAgICAgICAgICB0aGlzLmxpbmVTdHlsZSxcbiAgICAgICAgICAgIHRoaXMubWF0cml4XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIEdyYXBoaWNzIGRhdGEuXG4gICAgICpcbiAgICAgKi9cbiAgICBwdWJsaWMgZGVzdHJveSgpOiB2b2lkXG4gICAge1xuICAgICAgICB0aGlzLnNoYXBlID0gbnVsbDtcbiAgICAgICAgdGhpcy5ob2xlcy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLmhvbGVzID0gbnVsbDtcbiAgICAgICAgdGhpcy5wb2ludHMubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5wb2ludHMgPSBudWxsO1xuICAgICAgICB0aGlzLmxpbmVTdHlsZSA9IG51bGw7XG4gICAgICAgIHRoaXMuZmlsbFN0eWxlID0gbnVsbDtcbiAgICB9XG59XG4iLCJpbXBvcnQge1xuICAgIGJ1aWxkTGluZSxcbiAgICBidWlsZFBvbHksXG4gICAgQmF0Y2hQYXJ0LFxuICAgIEZJTExfQ09NTUFORFMsXG4gICAgQkFUQ0hfUE9PTCxcbiAgICBEUkFXX0NBTExfUE9PTCxcbn0gZnJvbSAnLi91dGlscyc7XG5cbmltcG9ydCB7XG4gICAgQmF0Y2hHZW9tZXRyeSxcbiAgICBCYXRjaERyYXdDYWxsLFxuICAgIEJhdGNoVGV4dHVyZUFycmF5LFxuICAgIEJhc2VUZXh0dXJlLFxuICAgIFRleHR1cmUsXG59IGZyb20gJ0BwaXhpL2NvcmUnO1xuXG5pbXBvcnQgeyBEUkFXX01PREVTLCBXUkFQX01PREVTIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmltcG9ydCB7IFNIQVBFUywgUG9pbnQsIE1hdHJpeCB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IHsgR3JhcGhpY3NEYXRhIH0gZnJvbSAnLi9HcmFwaGljc0RhdGEnO1xuaW1wb3J0IHsgcHJlbXVsdGlwbHlUaW50IH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuaW1wb3J0IHsgQm91bmRzIH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5cbmltcG9ydCB0eXBlIHsgQ2lyY2xlLCBFbGxpcHNlLCBQb2x5Z29uLCBSZWN0YW5nbGUsIFJvdW5kZWRSZWN0YW5nbGUsIElQb2ludERhdGEgfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB0eXBlIHsgRmlsbFN0eWxlIH0gZnJvbSAnLi9zdHlsZXMvRmlsbFN0eWxlJztcbmltcG9ydCB0eXBlIHsgTGluZVN0eWxlIH0gZnJvbSAnLi9zdHlsZXMvTGluZVN0eWxlJztcblxuLyoqXG4gKiBAZGVzY3JpcHRpb24gQ29tcGxleCBzaGFwZSB0eXBlXG4gKiBAdG9kbyBNb3ZlIHRvIE1hdGggc2hhcGVzXG4gKi9cbnR5cGUgSVNoYXBlID0gQ2lyY2xlIHwgRWxsaXBzZSB8IFBvbHlnb24gfCBSZWN0YW5nbGUgfCBSb3VuZGVkUmVjdGFuZ2xlO1xuXG5jb25zdCB0bXBQb2ludCA9IG5ldyBQb2ludCgpO1xuY29uc3QgdG1wQm91bmRzID0gbmV3IEJvdW5kcygpO1xuXG4vKipcbiAqIFRoZSBHcmFwaGljcyBjbGFzcyBjb250YWlucyBtZXRob2RzIHVzZWQgdG8gZHJhdyBwcmltaXRpdmUgc2hhcGVzIHN1Y2ggYXMgbGluZXMsIGNpcmNsZXMgYW5kXG4gKiByZWN0YW5nbGVzIHRvIHRoZSBkaXNwbGF5LCBhbmQgdG8gY29sb3IgYW5kIGZpbGwgdGhlbS5cbiAqXG4gKiBHcmFwaGljc0dlb21ldHJ5IGlzIGRlc2lnbmVkIHRvIG5vdCBiZSBjb250aW51YWxseSB1cGRhdGluZyB0aGUgZ2VvbWV0cnkgc2luY2UgaXQncyBleHBlbnNpdmVcbiAqIHRvIHJlLXRlc3NlbGF0ZSB1c2luZyAqKmVhcmN1dCoqLiBDb25zaWRlciB1c2luZyB7QGxpbmsgUElYSS5NZXNofSBmb3IgdGhpcyB1c2UtY2FzZSwgaXQncyBtdWNoIGZhc3Rlci5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuQmF0Y2hHZW9tZXRyeVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGNsYXNzIEdyYXBoaWNzR2VvbWV0cnkgZXh0ZW5kcyBCYXRjaEdlb21ldHJ5XG57XG4gICAgLyoqXG4gICAgICogVGhlIG1heGltdW0gbnVtYmVyIG9mIHBvaW50cyB0byBjb25zaWRlciBhbiBvYmplY3QgXCJiYXRjaGFibGVcIixcbiAgICAgKiBhYmxlIHRvIGJlIGJhdGNoZWQgYnkgdGhlIHJlbmRlcmVyJ3MgYmF0Y2ggc3lzdGVtLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuR3JhcGhpY3NHZW9tZXRyeVxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9IEJBVENIQUJMRV9TSVpFXG4gICAgICogQGRlZmF1bHQgMTAwXG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyBCQVRDSEFCTEVfU0laRSA9IDEwMDtcblxuICAgIHB1YmxpYyBjbG9zZVBvaW50RXBzOiBudW1iZXI7XG4gICAgcHVibGljIGJvdW5kc1BhZGRpbmc6IG51bWJlcjtcblxuICAgIHV2c0Zsb2F0MzI6IEZsb2F0MzJBcnJheSA9IG51bGw7XG4gICAgaW5kaWNlc1VpbnQxNjogVWludDE2QXJyYXkgfCBVaW50MzJBcnJheSA9IG51bGw7XG4gICAgYmF0Y2hhYmxlOiBib29sZWFuO1xuICAgIHBvaW50czogQXJyYXk8bnVtYmVyPjtcbiAgICBjb2xvcnM6IEFycmF5PG51bWJlcj47XG4gICAgdXZzOiBBcnJheTxudW1iZXI+O1xuICAgIGluZGljZXM6IEFycmF5PG51bWJlcj47XG4gICAgdGV4dHVyZUlkczogQXJyYXk8bnVtYmVyPjtcbiAgICBncmFwaGljc0RhdGE6IEFycmF5PEdyYXBoaWNzRGF0YT47XG4gICAgZHJhd0NhbGxzOiBBcnJheTxCYXRjaERyYXdDYWxsPjtcbiAgICBiYXRjaERpcnR5OiBudW1iZXI7XG4gICAgYmF0Y2hlczogQXJyYXk8QmF0Y2hQYXJ0PjtcblxuICAgIHByb3RlY3RlZCBkaXJ0eTogbnVtYmVyO1xuICAgIHByb3RlY3RlZCBjYWNoZURpcnR5OiBudW1iZXI7XG4gICAgcHJvdGVjdGVkIGNsZWFyRGlydHk6IG51bWJlcjtcbiAgICBwcm90ZWN0ZWQgc2hhcGVJbmRleDogbnVtYmVyO1xuICAgIHByb3RlY3RlZCBfYm91bmRzOiBCb3VuZHM7XG4gICAgcHJvdGVjdGVkIGJvdW5kc0RpcnR5OiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3RvcigpXG4gICAge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbiBhcnJheSBvZiBwb2ludHMgdG8gZHJhdywgMiBudW1iZXJzIHBlciBwb2ludFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wb2ludHMgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNvbGxlY3Rpb24gb2YgY29sb3JzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNvbG9ycyA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgVVZzIGNvbGxlY3Rpb25cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudXZzID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBpbmRpY2VzIG9mIHRoZSB2ZXJ0aWNlc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pbmRpY2VzID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlZmVyZW5jZSB0byB0aGUgdGV4dHVyZSBJRHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRleHR1cmVJZHMgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNvbGxlY3Rpb24gb2YgZHJhd24gc2hhcGVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkdyYXBoaWNzRGF0YVtdfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmdyYXBoaWNzRGF0YSA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2VkIHRvIGRldGVjdCBpZiB0aGUgZ3JhcGhpY3Mgb2JqZWN0IGhhcyBjaGFuZ2VkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGlydHkgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCYXRjaGVzIG5lZWQgdG8gcmVnZW5lcmF0ZWQgaWYgdGhlIGdlb21ldHJ5IGlzIHVwZGF0ZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5iYXRjaERpcnR5ID0gLTE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZWQgdG8gY2hlY2sgaWYgdGhlIGNhY2hlIGlzIGRpcnR5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2FjaGVEaXJ0eSA9IC0xO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2VkIHRvIGRldGVjdCBpZiB3ZSBjbGVhcmVkIHRoZSBncmFwaGljc0RhdGEuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNsZWFyRGlydHkgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMaXN0IG9mIGN1cnJlbnQgZHJhdyBjYWxscyBkcml2ZWQgZnJvbSB0aGUgYmF0Y2hlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0W119XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZHJhd0NhbGxzID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVybWVkaWF0ZSBhYnN0cmFjdCBmb3JtYXQgc2VudCB0byBiYXRjaCBzeXN0ZW0uXG4gICAgICAgICAqIENhbiBiZSBjb252ZXJ0ZWQgdG8gZHJhd0NhbGxzIG9yIHRvIGJhdGNoYWJsZSBvYmplY3RzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLmdyYXBoaWNzVXRpbHMuQmF0Y2hQYXJ0W119XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYmF0Y2hlcyA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbmRleCBvZiB0aGUgbGFzdCBiYXRjaGVkIHNoYXBlIGluIHRoZSBzdGFjayBvZiBjYWxscy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNoYXBlSW5kZXggPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWNoZWQgYm91bmRzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJvdW5kc31cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYm91bmRzID0gbmV3IEJvdW5kcygpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYm91bmRzIGRpcnR5IGZsYWcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ib3VuZHNEaXJ0eSA9IC0xO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQYWRkaW5nIHRvIGFkZCB0byB0aGUgYm91bmRzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYm91bmRzUGFkZGluZyA9IDA7XG5cbiAgICAgICAgdGhpcy5iYXRjaGFibGUgPSBmYWxzZTtcblxuICAgICAgICB0aGlzLmluZGljZXNVaW50MTYgPSBudWxsO1xuXG4gICAgICAgIHRoaXMudXZzRmxvYXQzMiA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1pbmltYWwgZGlzdGFuY2UgYmV0d2VlbiBwb2ludHMgdGhhdCBhcmUgY29uc2lkZXJlZCBkaWZmZXJlbnQuXG4gICAgICAgICAqIEFmZmVjdHMgbGluZSB0ZXNzZWxhdGlvbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jbG9zZVBvaW50RXBzID0gMWUtNDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGN1cnJlbnQgYm91bmRzIG9mIHRoZSBncmFwaGljIGdlb21ldHJ5LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5Cb3VuZHN9XG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgcHVibGljIGdldCBib3VuZHMoKTogQm91bmRzXG4gICAge1xuICAgICAgICBpZiAodGhpcy5ib3VuZHNEaXJ0eSAhPT0gdGhpcy5kaXJ0eSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5ib3VuZHNEaXJ0eSA9IHRoaXMuZGlydHk7XG4gICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZUJvdW5kcygpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2JvdW5kcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxsIGlmIHlvdSBjaGFuZ2VkIGdyYXBoaWNzRGF0YSBtYW51YWxseS5cbiAgICAgKiBFbXB0aWVzIGFsbCBiYXRjaCBidWZmZXJzLlxuICAgICAqL1xuICAgIHByb3RlY3RlZCBpbnZhbGlkYXRlKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHRoaXMuYm91bmRzRGlydHkgPSAtMTtcbiAgICAgICAgdGhpcy5kaXJ0eSsrO1xuICAgICAgICB0aGlzLmJhdGNoRGlydHkrKztcbiAgICAgICAgdGhpcy5zaGFwZUluZGV4ID0gMDtcblxuICAgICAgICB0aGlzLnBvaW50cy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLmNvbG9ycy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLnV2cy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLmluZGljZXMubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy50ZXh0dXJlSWRzLmxlbmd0aCA9IDA7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmRyYXdDYWxscy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5kcmF3Q2FsbHNbaV0udGV4QXJyYXkuY2xlYXIoKTtcbiAgICAgICAgICAgIERSQVdfQ0FMTF9QT09MLnB1c2godGhpcy5kcmF3Q2FsbHNbaV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5kcmF3Q2FsbHMubGVuZ3RoID0gMDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuYmF0Y2hlcy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgYmF0Y2hQYXJ0ID0gdGhpcy5iYXRjaGVzW2ldO1xuXG4gICAgICAgICAgICBiYXRjaFBhcnQucmVzZXQoKTtcbiAgICAgICAgICAgIEJBVENIX1BPT0wucHVzaChiYXRjaFBhcnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5iYXRjaGVzLmxlbmd0aCA9IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2xlYXJzIHRoZSBncmFwaGljcyB0aGF0IHdlcmUgZHJhd24gdG8gdGhpcyBHcmFwaGljcyBvYmplY3QsIGFuZCByZXNldHMgZmlsbCBhbmQgbGluZSBzdHlsZSBzZXR0aW5ncy5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3NHZW9tZXRyeX0gVGhpcyBHcmFwaGljc0dlb21ldHJ5IG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgcHVibGljIGNsZWFyKCk6IEdyYXBoaWNzR2VvbWV0cnlcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGggPiAwKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmludmFsaWRhdGUoKTtcbiAgICAgICAgICAgIHRoaXMuY2xlYXJEaXJ0eSsrO1xuICAgICAgICAgICAgdGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERyYXdzIHRoZSBnaXZlbiBzaGFwZSB0byB0aGlzIEdyYXBoaWNzIG9iamVjdC4gQ2FuIGJlIGFueSBvZiBDaXJjbGUsIFJlY3RhbmdsZSwgRWxsaXBzZSwgTGluZSBvciBQb2x5Z29uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkNpcmNsZXxQSVhJLkVsbGlwc2V8UElYSS5Qb2x5Z29ufFBJWEkuUmVjdGFuZ2xlfFBJWEkuUm91bmRlZFJlY3RhbmdsZX0gc2hhcGUgLSBUaGUgc2hhcGUgb2JqZWN0IHRvIGRyYXcuXG4gICAgICogQHBhcmFtIHtQSVhJLkZpbGxTdHlsZX0gZmlsbFN0eWxlIC0gRGVmaW5lcyBzdHlsZSBvZiB0aGUgZmlsbC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuTGluZVN0eWxlfSBsaW5lU3R5bGUgLSBEZWZpbmVzIHN0eWxlIG9mIHRoZSBsaW5lcy5cbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBtYXRyaXggLSBUcmFuc2Zvcm0gYXBwbGllZCB0byB0aGUgcG9pbnRzIG9mIHRoZSBzaGFwZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzR2VvbWV0cnl9IFJldHVybnMgZ2VvbWV0cnkgZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIHB1YmxpYyBkcmF3U2hhcGUoXG4gICAgICAgIHNoYXBlOiBJU2hhcGUsXG4gICAgICAgIGZpbGxTdHlsZTogRmlsbFN0eWxlID0gbnVsbCxcbiAgICAgICAgbGluZVN0eWxlOiBMaW5lU3R5bGUgPSBudWxsLFxuICAgICAgICBtYXRyaXg6IE1hdHJpeCA9IG51bGwpOiBHcmFwaGljc0dlb21ldHJ5XG4gICAge1xuICAgICAgICBjb25zdCBkYXRhID0gbmV3IEdyYXBoaWNzRGF0YShzaGFwZSwgZmlsbFN0eWxlLCBsaW5lU3R5bGUsIG1hdHJpeCk7XG5cbiAgICAgICAgdGhpcy5ncmFwaGljc0RhdGEucHVzaChkYXRhKTtcbiAgICAgICAgdGhpcy5kaXJ0eSsrO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERyYXdzIHRoZSBnaXZlbiBzaGFwZSB0byB0aGlzIEdyYXBoaWNzIG9iamVjdC4gQ2FuIGJlIGFueSBvZiBDaXJjbGUsIFJlY3RhbmdsZSwgRWxsaXBzZSwgTGluZSBvciBQb2x5Z29uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkNpcmNsZXxQSVhJLkVsbGlwc2V8UElYSS5Qb2x5Z29ufFBJWEkuUmVjdGFuZ2xlfFBJWEkuUm91bmRlZFJlY3RhbmdsZX0gc2hhcGUgLSBUaGUgc2hhcGUgb2JqZWN0IHRvIGRyYXcuXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gVHJhbnNmb3JtIGFwcGxpZWQgdG8gdGhlIHBvaW50cyBvZiB0aGUgc2hhcGUuXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc0dlb21ldHJ5fSBSZXR1cm5zIGdlb21ldHJ5IGZvciBjaGFpbmluZy5cbiAgICAgKi9cbiAgICBwdWJsaWMgZHJhd0hvbGUoc2hhcGU6IElTaGFwZSwgbWF0cml4OiBNYXRyaXggPSBudWxsKTogR3JhcGhpY3NHZW9tZXRyeVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZGF0YSA9IG5ldyBHcmFwaGljc0RhdGEoc2hhcGUsIG51bGwsIG51bGwsIG1hdHJpeCk7XG5cbiAgICAgICAgY29uc3QgbGFzdFNoYXBlID0gdGhpcy5ncmFwaGljc0RhdGFbdGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoIC0gMV07XG5cbiAgICAgICAgZGF0YS5saW5lU3R5bGUgPSBsYXN0U2hhcGUubGluZVN0eWxlO1xuXG4gICAgICAgIGxhc3RTaGFwZS5ob2xlcy5wdXNoKGRhdGEpO1xuXG4gICAgICAgIHRoaXMuZGlydHkrKztcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgR3JhcGhpY3NHZW9tZXRyeSBvYmplY3QuXG4gICAgICpcbiAgICAgKi9cbiAgICBwdWJsaWMgZGVzdHJveSgpOiB2b2lkXG4gICAge1xuICAgICAgICBzdXBlci5kZXN0cm95KCk7XG5cbiAgICAgICAgLy8gZGVzdHJveSBlYWNoIG9mIHRoZSBHcmFwaGljc0RhdGEgb2JqZWN0c1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZ3JhcGhpY3NEYXRhLmxlbmd0aDsgKytpKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmdyYXBoaWNzRGF0YVtpXS5kZXN0cm95KCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnBvaW50cy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLnBvaW50cyA9IG51bGw7XG4gICAgICAgIHRoaXMuY29sb3JzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuY29sb3JzID0gbnVsbDtcbiAgICAgICAgdGhpcy51dnMubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy51dnMgPSBudWxsO1xuICAgICAgICB0aGlzLmluZGljZXMubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5pbmRpY2VzID0gbnVsbDtcbiAgICAgICAgdGhpcy5pbmRleEJ1ZmZlci5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuaW5kZXhCdWZmZXIgPSBudWxsO1xuICAgICAgICB0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLmdyYXBoaWNzRGF0YSA9IG51bGw7XG4gICAgICAgIHRoaXMuZHJhd0NhbGxzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuZHJhd0NhbGxzID0gbnVsbDtcbiAgICAgICAgdGhpcy5iYXRjaGVzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuYmF0Y2hlcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2JvdW5kcyA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgdG8gc2VlIGlmIGEgcG9pbnQgaXMgY29udGFpbmVkIHdpdGhpbiB0aGlzIGdlb21ldHJ5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLklQb2ludERhdGF9IHBvaW50IC0gUG9pbnQgdG8gY2hlY2sgaWYgaXQncyBjb250YWluZWQuXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gYHRydWVgIGlmIHRoZSBwb2ludCBpcyBjb250YWluZWQgd2l0aGluIGdlb21ldHJ5LlxuICAgICAqL1xuICAgIHB1YmxpYyBjb250YWluc1BvaW50KHBvaW50OiBJUG9pbnREYXRhKTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgY29uc3QgZ3JhcGhpY3NEYXRhID0gdGhpcy5ncmFwaGljc0RhdGE7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBncmFwaGljc0RhdGEubGVuZ3RoOyArK2kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBncmFwaGljc0RhdGFbaV07XG5cbiAgICAgICAgICAgIGlmICghZGF0YS5maWxsU3R5bGUudmlzaWJsZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gb25seSBkZWFsIHdpdGggZmlsbHMuLlxuICAgICAgICAgICAgaWYgKGRhdGEuc2hhcGUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEubWF0cml4KVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5tYXRyaXguYXBwbHlJbnZlcnNlKHBvaW50LCB0bXBQb2ludCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRtcFBvaW50LmNvcHlGcm9tKHBvaW50KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5zaGFwZS5jb250YWlucyh0bXBQb2ludC54LCB0bXBQb2ludC55KSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBoaXRIb2xlID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuaG9sZXMpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YS5ob2xlcy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBob2xlID0gZGF0YS5ob2xlc1tpXTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChob2xlLnNoYXBlLmNvbnRhaW5zKHRtcFBvaW50LngsIHRtcFBvaW50LnkpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGl0SG9sZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmICghaGl0SG9sZSlcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIGludGVybWVkaWF0ZSBiYXRjaCBkYXRhLiBFaXRoZXIgZ2V0cyBjb252ZXJ0ZWQgdG8gZHJhd0NhbGxzXG4gICAgICogb3IgdXNlZCB0byBjb252ZXJ0IHRvIGJhdGNoIG9iamVjdHMgZGlyZWN0bHkgYnkgdGhlIEdyYXBoaWNzIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Fsb293MzJJbmRpY2VzXSAtIEFsbG93IHVzaW5nIDMyLWJpdCBpbmRpY2VzIGZvciBwcmV2ZW50aW5ncyBhcnRlZmFjdHMgd2hlbiBtb3JlIHRoYXQgNjU1MzUgdmVydGljZXNcbiAgICAgKi9cbiAgICB1cGRhdGVCYXRjaGVzKGFsbG93MzJJbmRpY2VzPzogYm9vbGVhbik6IHZvaWRcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmJhdGNoYWJsZSA9IHRydWU7XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy52YWxpZGF0ZUJhdGNoaW5nKCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY2FjaGVEaXJ0eSA9IHRoaXMuZGlydHk7XG5cbiAgICAgICAgY29uc3QgdXZzID0gdGhpcy51dnM7XG4gICAgICAgIGNvbnN0IGdyYXBoaWNzRGF0YSA9IHRoaXMuZ3JhcGhpY3NEYXRhO1xuXG4gICAgICAgIGxldCBiYXRjaFBhcnQ6IEJhdGNoUGFydCA9IG51bGw7XG5cbiAgICAgICAgbGV0IGN1cnJlbnRTdHlsZSA9IG51bGw7XG5cbiAgICAgICAgaWYgKHRoaXMuYmF0Y2hlcy5sZW5ndGggPiAwKVxuICAgICAgICB7XG4gICAgICAgICAgICBiYXRjaFBhcnQgPSB0aGlzLmJhdGNoZXNbdGhpcy5iYXRjaGVzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgY3VycmVudFN0eWxlID0gYmF0Y2hQYXJ0LnN0eWxlO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IHRoaXMuc2hhcGVJbmRleDsgaSA8IGdyYXBoaWNzRGF0YS5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5zaGFwZUluZGV4Kys7XG5cbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBncmFwaGljc0RhdGFbaV07XG4gICAgICAgICAgICBjb25zdCBmaWxsU3R5bGUgPSBkYXRhLmZpbGxTdHlsZTtcbiAgICAgICAgICAgIGNvbnN0IGxpbmVTdHlsZSA9IGRhdGEubGluZVN0eWxlO1xuICAgICAgICAgICAgY29uc3QgY29tbWFuZCA9IEZJTExfQ09NTUFORFNbZGF0YS50eXBlXTtcblxuICAgICAgICAgICAgLy8gYnVpbGQgb3V0IHRoZSBzaGFwZXMgcG9pbnRzLi5cbiAgICAgICAgICAgIGNvbW1hbmQuYnVpbGQoZGF0YSk7XG5cbiAgICAgICAgICAgIGlmIChkYXRhLm1hdHJpeClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYW5zZm9ybVBvaW50cyhkYXRhLnBvaW50cywgZGF0YS5tYXRyaXgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDI7IGorKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdHlsZSA9IChqID09PSAwKSA/IGZpbGxTdHlsZSA6IGxpbmVTdHlsZTtcblxuICAgICAgICAgICAgICAgIGlmICghc3R5bGUudmlzaWJsZSkgY29udGludWU7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0VGV4dHVyZSA9IHN0eWxlLnRleHR1cmUuYmFzZVRleHR1cmU7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLmluZGljZXMubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGNvbnN0IGF0dHJpYkluZGV4ID0gdGhpcy5wb2ludHMubGVuZ3RoIC8gMjtcblxuICAgICAgICAgICAgICAgIG5leHRUZXh0dXJlLndyYXBNb2RlID0gV1JBUF9NT0RFUy5SRVBFQVQ7XG5cbiAgICAgICAgICAgICAgICBpZiAoaiA9PT0gMClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJvY2Vzc0ZpbGwoZGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJvY2Vzc0xpbmUoZGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6ZSA9ICh0aGlzLnBvaW50cy5sZW5ndGggLyAyKSAtIGF0dHJpYkluZGV4O1xuXG4gICAgICAgICAgICAgICAgaWYgKHNpemUgPT09IDApIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIC8vIGNsb3NlIGJhdGNoIGlmIHN0eWxlIGlzIGRpZmZlcmVudFxuICAgICAgICAgICAgICAgIGlmIChiYXRjaFBhcnQgJiYgIXRoaXMuX2NvbXBhcmVTdHlsZXMoY3VycmVudFN0eWxlLCBzdHlsZSkpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBiYXRjaFBhcnQuZW5kKGluZGV4LCBhdHRyaWJJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIGJhdGNoUGFydCA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIHNwYXduIG5ldyBiYXRjaCBpZiBpdHMgZmlyc3QgYmF0Y2ggb3IgcHJldmlvdXMgd2FzIGNsb3NlZFxuICAgICAgICAgICAgICAgIGlmICghYmF0Y2hQYXJ0KVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgYmF0Y2hQYXJ0ID0gQkFUQ0hfUE9PTC5wb3AoKSB8fCBuZXcgQmF0Y2hQYXJ0KCk7XG4gICAgICAgICAgICAgICAgICAgIGJhdGNoUGFydC5iZWdpbihzdHlsZSwgaW5kZXgsIGF0dHJpYkluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5iYXRjaGVzLnB1c2goYmF0Y2hQYXJ0KTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFN0eWxlID0gc3R5bGU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5hZGRVdnModGhpcy5wb2ludHMsIHV2cywgc3R5bGUudGV4dHVyZSwgYXR0cmliSW5kZXgsIHNpemUsIHN0eWxlLm1hdHJpeCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuaW5kaWNlcy5sZW5ndGg7XG4gICAgICAgIGNvbnN0IGF0dHJpYiA9IHRoaXMucG9pbnRzLmxlbmd0aCAvIDI7XG5cbiAgICAgICAgaWYgKGJhdGNoUGFydClcbiAgICAgICAge1xuICAgICAgICAgICAgYmF0Y2hQYXJ0LmVuZChpbmRleCwgYXR0cmliKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmJhdGNoZXMubGVuZ3RoID09PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyB0aGVyZSBhcmUgbm8gdmlzaWJsZSBzdHlsZXMgaW4gR3JhcGhpY3NEYXRhXG4gICAgICAgICAgICAvLyBpdHMgcG9zc2libGUgdGhhdCBzb21lb25lIHdhbnRzIEdyYXBoaWNzIGp1c3QgZm9yIHRoZSBib3VuZHNcbiAgICAgICAgICAgIHRoaXMuYmF0Y2hhYmxlID0gdHJ1ZTtcblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcHJldmVudCBhbGxvY2F0aW9uIHdoZW4gbGVuZ3RoIGlzIHNhbWUgYXMgYnVmZmVyXG4gICAgICAgIGlmICh0aGlzLmluZGljZXNVaW50MTYgJiYgdGhpcy5pbmRpY2VzLmxlbmd0aCA9PT0gdGhpcy5pbmRpY2VzVWludDE2Lmxlbmd0aClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5pbmRpY2VzVWludDE2LnNldCh0aGlzLmluZGljZXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgbmVlZDMyXG4gICAgICAgICAgICAgICAgPSBhdHRyaWIgPiAweGZmZmYgJiYgYWxsb3czMkluZGljZXM7XG5cbiAgICAgICAgICAgIHRoaXMuaW5kaWNlc1VpbnQxNiA9IG5lZWQzMiA/IG5ldyBVaW50MzJBcnJheSh0aGlzLmluZGljZXMpIDogbmV3IFVpbnQxNkFycmF5KHRoaXMuaW5kaWNlcyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUT0RPIG1ha2UgdGhpcyBhIGNvbnN0Li5cbiAgICAgICAgdGhpcy5iYXRjaGFibGUgPSB0aGlzLmlzQmF0Y2hhYmxlKCk7XG5cbiAgICAgICAgaWYgKHRoaXMuYmF0Y2hhYmxlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnBhY2tCYXRjaGVzKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmJ1aWxkRHJhd0NhbGxzKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZmZpbml0eSBjaGVja1xuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkZpbGxTdHlsZSB8IFBJWEkuTGluZVN0eWxlfSBzdHlsZUFcbiAgICAgKiBAcGFyYW0ge1BJWEkuRmlsbFN0eWxlIHwgUElYSS5MaW5lU3R5bGV9IHN0eWxlQlxuICAgICAqL1xuICAgIHByb3RlY3RlZCBfY29tcGFyZVN0eWxlcyhzdHlsZUE6IEZpbGxTdHlsZSB8IExpbmVTdHlsZSwgc3R5bGVCOiBGaWxsU3R5bGUgfCBMaW5lU3R5bGUpOiBib29sZWFuXG4gICAge1xuICAgICAgICBpZiAoIXN0eWxlQSB8fCAhc3R5bGVCKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3R5bGVBLnRleHR1cmUuYmFzZVRleHR1cmUgIT09IHN0eWxlQi50ZXh0dXJlLmJhc2VUZXh0dXJlKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3R5bGVBLmNvbG9yICsgc3R5bGVBLmFscGhhICE9PSBzdHlsZUIuY29sb3IgKyBzdHlsZUIuYWxwaGEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghIShzdHlsZUEgYXMgTGluZVN0eWxlKS5uYXRpdmUgIT09ICEhKHN0eWxlQiBhcyBMaW5lU3R5bGUpLm5hdGl2ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGVzdCBnZW9tZXRyeSBmb3IgYmF0Y2hpbmcgcHJvY2Vzcy5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgdmFsaWRhdGVCYXRjaGluZygpOiBib29sZWFuXG4gICAge1xuICAgICAgICBpZiAodGhpcy5kaXJ0eSA9PT0gdGhpcy5jYWNoZURpcnR5IHx8ICF0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gdGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoOyBpIDwgbDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gdGhpcy5ncmFwaGljc0RhdGFbaV07XG4gICAgICAgICAgICBjb25zdCBmaWxsID0gZGF0YS5maWxsU3R5bGU7XG4gICAgICAgICAgICBjb25zdCBsaW5lID0gZGF0YS5saW5lU3R5bGU7XG5cbiAgICAgICAgICAgIGlmIChmaWxsICYmICFmaWxsLnRleHR1cmUuYmFzZVRleHR1cmUudmFsaWQpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIGlmIChsaW5lICYmICFsaW5lLnRleHR1cmUuYmFzZVRleHR1cmUudmFsaWQpIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE9mZnNldCB0aGUgaW5kaWNlcyBzbyB0aGF0IGl0IHdvcmtzIHdpdGggdGhlIGJhdGNoZXIuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgcHJvdGVjdGVkIHBhY2tCYXRjaGVzKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHRoaXMuYmF0Y2hEaXJ0eSsrO1xuICAgICAgICB0aGlzLnV2c0Zsb2F0MzIgPSBuZXcgRmxvYXQzMkFycmF5KHRoaXMudXZzKTtcblxuICAgICAgICBjb25zdCBiYXRjaGVzID0gdGhpcy5iYXRjaGVzO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gYmF0Y2hlcy5sZW5ndGg7IGkgPCBsOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGJhdGNoID0gYmF0Y2hlc1tpXTtcblxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBiYXRjaC5zaXplOyBqKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSBiYXRjaC5zdGFydCArIGo7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmluZGljZXNVaW50MTZbaW5kZXhdID0gdGhpcy5pbmRpY2VzVWludDE2W2luZGV4XSAtIGJhdGNoLmF0dHJpYlN0YXJ0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHRvIHNlZSBpZiB0aGlzIGdyYXBoaWNzIGdlb21ldHJ5IGNhbiBiZSBiYXRjaGVkLlxuICAgICAqIEN1cnJlbnRseSBpdCBuZWVkcyB0byBiZSBzbWFsbCBlbm91Z2ggYW5kIG5vdCBjb250YWluIGFueSBuYXRpdmUgbGluZXMuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGlzQmF0Y2hhYmxlKCk6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIC8vIHByZXZlbnQgaGVhdnkgbWVzaCBiYXRjaGluZ1xuICAgICAgICBpZiAodGhpcy5wb2ludHMubGVuZ3RoID4gMHhmZmZmICogMilcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYmF0Y2hlcyA9IHRoaXMuYmF0Y2hlcztcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJhdGNoZXMubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICgoYmF0Y2hlc1tpXS5zdHlsZSBhcyBMaW5lU3R5bGUpLm5hdGl2ZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gKHRoaXMucG9pbnRzLmxlbmd0aCA8IEdyYXBoaWNzR2VvbWV0cnkuQkFUQ0hBQkxFX1NJWkUgKiAyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBpbnRlcm1lZGlhdGUgYmF0Y2hlcyBkYXRhIHRvIGRyYXdDYWxscy5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgYnVpbGREcmF3Q2FsbHMoKTogdm9pZFxuICAgIHtcbiAgICAgICAgbGV0IFRJQ0sgPSArK0Jhc2VUZXh0dXJlLl9nbG9iYWxCYXRjaDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZHJhd0NhbGxzLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmRyYXdDYWxsc1tpXS50ZXhBcnJheS5jbGVhcigpO1xuICAgICAgICAgICAgRFJBV19DQUxMX1BPT0wucHVzaCh0aGlzLmRyYXdDYWxsc1tpXSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmRyYXdDYWxscy5sZW5ndGggPSAwO1xuXG4gICAgICAgIGNvbnN0IGNvbG9ycyA9IHRoaXMuY29sb3JzO1xuICAgICAgICBjb25zdCB0ZXh0dXJlSWRzID0gdGhpcy50ZXh0dXJlSWRzO1xuXG4gICAgICAgIGxldCBjdXJyZW50R3JvdXA6IEJhdGNoRHJhd0NhbGwgPSAgRFJBV19DQUxMX1BPT0wucG9wKCk7XG5cbiAgICAgICAgaWYgKCFjdXJyZW50R3JvdXApXG4gICAgICAgIHtcbiAgICAgICAgICAgIGN1cnJlbnRHcm91cCA9IG5ldyBCYXRjaERyYXdDYWxsKCk7XG4gICAgICAgICAgICBjdXJyZW50R3JvdXAudGV4QXJyYXkgPSBuZXcgQmF0Y2hUZXh0dXJlQXJyYXkoKTtcbiAgICAgICAgfVxuICAgICAgICBjdXJyZW50R3JvdXAudGV4QXJyYXkuY291bnQgPSAwO1xuICAgICAgICBjdXJyZW50R3JvdXAuc3RhcnQgPSAwO1xuICAgICAgICBjdXJyZW50R3JvdXAuc2l6ZSA9IDA7XG4gICAgICAgIGN1cnJlbnRHcm91cC50eXBlID0gRFJBV19NT0RFUy5UUklBTkdMRVM7XG5cbiAgICAgICAgbGV0IHRleHR1cmVDb3VudCA9IDA7XG4gICAgICAgIGxldCBjdXJyZW50VGV4dHVyZSA9IG51bGw7XG4gICAgICAgIGxldCB0ZXh0dXJlSWQgPSAwO1xuICAgICAgICBsZXQgbmF0aXZlID0gZmFsc2U7XG4gICAgICAgIGxldCBkcmF3TW9kZSA9IERSQVdfTU9ERVMuVFJJQU5HTEVTO1xuXG4gICAgICAgIGxldCBpbmRleCA9IDA7XG5cbiAgICAgICAgdGhpcy5kcmF3Q2FsbHMucHVzaChjdXJyZW50R3JvdXApO1xuXG4gICAgICAgIC8vIFRPRE8gLSB0aGlzIGNhbiBiZSBzaW1wbGlmaWVkXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5iYXRjaGVzLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gdGhpcy5iYXRjaGVzW2ldO1xuXG4gICAgICAgICAgICAvLyBUT0RPIGFkZCBzb21lIGZ1bGwgb24gTUFYX1RFWFRVUkUgQ09ERS4uXG4gICAgICAgICAgICBjb25zdCBNQVhfVEVYVFVSRVMgPSA4O1xuXG4gICAgICAgICAgICAvLyBGb3JjZWQgY2FzdCBmb3IgY2hlY2tpbmcgYG5hdGl2ZWAgd2l0aG91dCBlcnJvcnNcbiAgICAgICAgICAgIGNvbnN0IHN0eWxlID0gZGF0YS5zdHlsZSBhcyBMaW5lU3R5bGU7XG5cbiAgICAgICAgICAgIGNvbnN0IG5leHRUZXh0dXJlID0gc3R5bGUudGV4dHVyZS5iYXNlVGV4dHVyZTtcblxuICAgICAgICAgICAgaWYgKG5hdGl2ZSAhPT0gISFzdHlsZS5uYXRpdmUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmF0aXZlID0gISFzdHlsZS5uYXRpdmU7XG4gICAgICAgICAgICAgICAgZHJhd01vZGUgPSBuYXRpdmUgPyBEUkFXX01PREVTLkxJTkVTIDogRFJBV19NT0RFUy5UUklBTkdMRVM7XG5cbiAgICAgICAgICAgICAgICAvLyBmb3JjZSB0aGUgYmF0Y2ggdG8gYnJlYWshXG4gICAgICAgICAgICAgICAgY3VycmVudFRleHR1cmUgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRleHR1cmVDb3VudCA9IE1BWF9URVhUVVJFUztcbiAgICAgICAgICAgICAgICBUSUNLKys7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChjdXJyZW50VGV4dHVyZSAhPT0gbmV4dFRleHR1cmUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY3VycmVudFRleHR1cmUgPSBuZXh0VGV4dHVyZTtcblxuICAgICAgICAgICAgICAgIGlmIChuZXh0VGV4dHVyZS5fYmF0Y2hFbmFibGVkICE9PSBUSUNLKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRleHR1cmVDb3VudCA9PT0gTUFYX1RFWFRVUkVTKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBUSUNLKys7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHR1cmVDb3VudCA9IDA7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50R3JvdXAuc2l6ZSA+IDApXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEdyb3VwID0gRFJBV19DQUxMX1BPT0wucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjdXJyZW50R3JvdXApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50R3JvdXAgPSBuZXcgQmF0Y2hEcmF3Q2FsbCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50R3JvdXAudGV4QXJyYXkgPSBuZXcgQmF0Y2hUZXh0dXJlQXJyYXkoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmF3Q2FsbHMucHVzaChjdXJyZW50R3JvdXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50R3JvdXAuc3RhcnQgPSBpbmRleDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRHcm91cC5zaXplID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRHcm91cC50ZXhBcnJheS5jb3VudCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50R3JvdXAudHlwZSA9IGRyYXdNb2RlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETyBhZGQgdGhpcyB0byB0aGUgcmVuZGVyIHBhcnQuLlxuICAgICAgICAgICAgICAgICAgICAvLyBIYWNrISBCZWNhdXNlIHRleHR1cmUgaGFzIHByb3RlY3RlZCBgdG91Y2hlZGBcbiAgICAgICAgICAgICAgICAgICAgbmV4dFRleHR1cmUudG91Y2hlZCA9IDE7Ly8gdG91Y2g7XG5cbiAgICAgICAgICAgICAgICAgICAgbmV4dFRleHR1cmUuX2JhdGNoRW5hYmxlZCA9IFRJQ0s7XG4gICAgICAgICAgICAgICAgICAgIG5leHRUZXh0dXJlLl9iYXRjaExvY2F0aW9uID0gdGV4dHVyZUNvdW50O1xuICAgICAgICAgICAgICAgICAgICBuZXh0VGV4dHVyZS53cmFwTW9kZSA9IDEwNDk3O1xuXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRHcm91cC50ZXhBcnJheS5lbGVtZW50c1tjdXJyZW50R3JvdXAudGV4QXJyYXkuY291bnQrK10gPSBuZXh0VGV4dHVyZTtcbiAgICAgICAgICAgICAgICAgICAgdGV4dHVyZUNvdW50Kys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjdXJyZW50R3JvdXAuc2l6ZSArPSBkYXRhLnNpemU7XG4gICAgICAgICAgICBpbmRleCArPSBkYXRhLnNpemU7XG5cbiAgICAgICAgICAgIHRleHR1cmVJZCA9IG5leHRUZXh0dXJlLl9iYXRjaExvY2F0aW9uO1xuXG4gICAgICAgICAgICB0aGlzLmFkZENvbG9ycyhjb2xvcnMsIHN0eWxlLmNvbG9yLCBzdHlsZS5hbHBoYSwgZGF0YS5hdHRyaWJTaXplLCBkYXRhLmF0dHJpYlN0YXJ0KTtcbiAgICAgICAgICAgIHRoaXMuYWRkVGV4dHVyZUlkcyh0ZXh0dXJlSWRzLCB0ZXh0dXJlSWQsIGRhdGEuYXR0cmliU2l6ZSwgZGF0YS5hdHRyaWJTdGFydCk7XG4gICAgICAgIH1cblxuICAgICAgICBCYXNlVGV4dHVyZS5fZ2xvYmFsQmF0Y2ggPSBUSUNLO1xuXG4gICAgICAgIC8vIHVwbG9hZC4uXG4gICAgICAgIC8vIG1lcmdlIGZvciBub3chXG4gICAgICAgIHRoaXMucGFja0F0dHJpYnV0ZXMoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQYWNrcyBhdHRyaWJ1dGVzIHRvIHNpbmdsZSBidWZmZXIuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgcHJvdGVjdGVkIHBhY2tBdHRyaWJ1dGVzKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIGNvbnN0IHZlcnRzID0gdGhpcy5wb2ludHM7XG4gICAgICAgIGNvbnN0IHV2cyA9IHRoaXMudXZzO1xuICAgICAgICBjb25zdCBjb2xvcnMgPSB0aGlzLmNvbG9ycztcbiAgICAgICAgY29uc3QgdGV4dHVyZUlkcyA9IHRoaXMudGV4dHVyZUlkcztcblxuICAgICAgICAvLyB2ZXJ0cyBhcmUgMiBwb3NpdGlvbnMuLiBzbyB3ZSAqIGJ5IDMgYXMgdGhlcmUgYXJlIDYgcHJvcGVydGllcy4uIHRoZW4gNCBjb3MgaXRzIGJ5dGVzXG4gICAgICAgIGNvbnN0IGdsUG9pbnRzID0gbmV3IEFycmF5QnVmZmVyKHZlcnRzLmxlbmd0aCAqIDMgKiA0KTtcbiAgICAgICAgY29uc3QgZjMyID0gbmV3IEZsb2F0MzJBcnJheShnbFBvaW50cyk7XG4gICAgICAgIGNvbnN0IHUzMiA9IG5ldyBVaW50MzJBcnJheShnbFBvaW50cyk7XG5cbiAgICAgICAgbGV0IHAgPSAwO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmVydHMubGVuZ3RoIC8gMjsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBmMzJbcCsrXSA9IHZlcnRzW2kgKiAyXTtcbiAgICAgICAgICAgIGYzMltwKytdID0gdmVydHNbKGkgKiAyKSArIDFdO1xuXG4gICAgICAgICAgICBmMzJbcCsrXSA9IHV2c1tpICogMl07XG4gICAgICAgICAgICBmMzJbcCsrXSA9IHV2c1soaSAqIDIpICsgMV07XG5cbiAgICAgICAgICAgIHUzMltwKytdID0gY29sb3JzW2ldO1xuXG4gICAgICAgICAgICBmMzJbcCsrXSA9IHRleHR1cmVJZHNbaV07XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9idWZmZXIudXBkYXRlKGdsUG9pbnRzKTtcbiAgICAgICAgdGhpcy5faW5kZXhCdWZmZXIudXBkYXRlKHRoaXMuaW5kaWNlc1VpbnQxNik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHJvY2VzcyBmaWxsIHBhcnQgb2YgR3JhcGhpY3MuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuR3JhcGhpY3NEYXRhfSBkYXRhXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIHByb3RlY3RlZCBwcm9jZXNzRmlsbChkYXRhOiBHcmFwaGljc0RhdGEpOiB2b2lkXG4gICAge1xuICAgICAgICBpZiAoZGF0YS5ob2xlcy5sZW5ndGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc0hvbGVzKGRhdGEuaG9sZXMpO1xuXG4gICAgICAgICAgICBidWlsZFBvbHkudHJpYW5ndWxhdGUoZGF0YSwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBjb21tYW5kID0gRklMTF9DT01NQU5EU1tkYXRhLnR5cGVdO1xuXG4gICAgICAgICAgICBjb21tYW5kLnRyaWFuZ3VsYXRlKGRhdGEsIHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHJvY2VzcyBsaW5lIHBhcnQgb2YgR3JhcGhpY3MuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuR3JhcGhpY3NEYXRhfSBkYXRhXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIHByb3RlY3RlZCBwcm9jZXNzTGluZShkYXRhOiBHcmFwaGljc0RhdGEpOiB2b2lkXG4gICAge1xuICAgICAgICBidWlsZExpbmUoZGF0YSwgdGhpcyk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLmhvbGVzLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBidWlsZExpbmUoZGF0YS5ob2xlc1tpXSwgdGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQcm9jZXNzIHRoZSBob2xlcyBkYXRhLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkdyYXBoaWNzRGF0YVtdfSBob2xlcyAtIEhvbGVzIHRvIHJlbmRlclxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgcHJvY2Vzc0hvbGVzKGhvbGVzOiBBcnJheTxHcmFwaGljc0RhdGE+KTogdm9pZFxuICAgIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBob2xlcy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgaG9sZSA9IGhvbGVzW2ldO1xuICAgICAgICAgICAgY29uc3QgY29tbWFuZCA9IEZJTExfQ09NTUFORFNbaG9sZS50eXBlXTtcblxuICAgICAgICAgICAgY29tbWFuZC5idWlsZChob2xlKTtcblxuICAgICAgICAgICAgaWYgKGhvbGUubWF0cml4KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtUG9pbnRzKGhvbGUucG9pbnRzLCBob2xlLm1hdHJpeCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgdGhlIGxvY2FsIGJvdW5kcyBvZiB0aGUgb2JqZWN0LiBFeHBlbnNpdmUgdG8gdXNlIHBlcmZvcm1hbmNlLXdpc2UuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGNhbGN1bGF0ZUJvdW5kcygpOiB2b2lkXG4gICAge1xuICAgICAgICBjb25zdCBib3VuZHMgPSB0aGlzLl9ib3VuZHM7XG4gICAgICAgIGNvbnN0IHNlcXVlbmNlQm91bmRzID0gdG1wQm91bmRzO1xuICAgICAgICBsZXQgY3VyTWF0cml4ID0gTWF0cml4LklERU5USVRZO1xuXG4gICAgICAgIHRoaXMuX2JvdW5kcy5jbGVhcigpO1xuICAgICAgICBzZXF1ZW5jZUJvdW5kcy5jbGVhcigpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLmdyYXBoaWNzRGF0YVtpXTtcbiAgICAgICAgICAgIGNvbnN0IHNoYXBlID0gZGF0YS5zaGFwZTtcbiAgICAgICAgICAgIGNvbnN0IHR5cGUgPSBkYXRhLnR5cGU7XG4gICAgICAgICAgICBjb25zdCBsaW5lU3R5bGUgPSBkYXRhLmxpbmVTdHlsZTtcbiAgICAgICAgICAgIGNvbnN0IG5leHRNYXRyaXggPSBkYXRhLm1hdHJpeCB8fCBNYXRyaXguSURFTlRJVFk7XG4gICAgICAgICAgICBsZXQgbGluZVdpZHRoID0gMC4wO1xuXG4gICAgICAgICAgICBpZiAobGluZVN0eWxlICYmIGxpbmVTdHlsZS52aXNpYmxlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFsaWdubWVudCA9IGxpbmVTdHlsZS5hbGlnbm1lbnQ7XG5cbiAgICAgICAgICAgICAgICBsaW5lV2lkdGggPSBsaW5lU3R5bGUud2lkdGg7XG5cbiAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gU0hBUEVTLlBPTFkpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBsaW5lV2lkdGggPSBsaW5lV2lkdGggKiAoMC41ICsgTWF0aC5hYnMoMC41IC0gYWxpZ25tZW50KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmVXaWR0aCA9IGxpbmVXaWR0aCAqIE1hdGgubWF4KDAsIGFsaWdubWVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoY3VyTWF0cml4ICE9PSBuZXh0TWF0cml4KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICghc2VxdWVuY2VCb3VuZHMuaXNFbXB0eSgpKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgYm91bmRzLmFkZEJvdW5kc01hdHJpeChzZXF1ZW5jZUJvdW5kcywgY3VyTWF0cml4KTtcbiAgICAgICAgICAgICAgICAgICAgc2VxdWVuY2VCb3VuZHMuY2xlYXIoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY3VyTWF0cml4ID0gbmV4dE1hdHJpeDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHR5cGUgPT09IFNIQVBFUy5SRUNUIHx8IHR5cGUgPT09IFNIQVBFUy5SUkVDKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlY3QgPSBzaGFwZSBhcyBSZWN0YW5nbGUgfCBSb3VuZGVkUmVjdGFuZ2xlO1xuXG4gICAgICAgICAgICAgICAgc2VxdWVuY2VCb3VuZHMuYWRkRnJhbWVQYWQocmVjdC54LCByZWN0LnksIHJlY3QueCArIHJlY3Qud2lkdGgsIHJlY3QueSArIHJlY3QuaGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICBsaW5lV2lkdGgsIGxpbmVXaWR0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlID09PSBTSEFQRVMuQ0lSQylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjaXJjbGUgPSBzaGFwZSBhcyBDaXJjbGU7XG5cbiAgICAgICAgICAgICAgICBzZXF1ZW5jZUJvdW5kcy5hZGRGcmFtZVBhZChjaXJjbGUueCwgY2lyY2xlLnksIGNpcmNsZS54LCBjaXJjbGUueSxcbiAgICAgICAgICAgICAgICAgICAgY2lyY2xlLnJhZGl1cyArIGxpbmVXaWR0aCwgY2lyY2xlLnJhZGl1cyArIGxpbmVXaWR0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlID09PSBTSEFQRVMuRUxJUClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlbGxpcHNlID0gc2hhcGUgYXMgRWxsaXBzZTtcblxuICAgICAgICAgICAgICAgIHNlcXVlbmNlQm91bmRzLmFkZEZyYW1lUGFkKGVsbGlwc2UueCwgZWxsaXBzZS55LCBlbGxpcHNlLngsIGVsbGlwc2UueSxcbiAgICAgICAgICAgICAgICAgICAgZWxsaXBzZS53aWR0aCArIGxpbmVXaWR0aCwgZWxsaXBzZS5oZWlnaHQgKyBsaW5lV2lkdGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBvbHkgPSBzaGFwZSBhcyBQb2x5Z29uO1xuICAgICAgICAgICAgICAgIC8vIGFkZGluZyBkaXJlY3RseSB0byB0aGUgYm91bmRzXG5cbiAgICAgICAgICAgICAgICBib3VuZHMuYWRkVmVydGljZXNNYXRyaXgoY3VyTWF0cml4LCAocG9seS5wb2ludHMgYXMgYW55KSwgMCwgcG9seS5wb2ludHMubGVuZ3RoLCBsaW5lV2lkdGgsIGxpbmVXaWR0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXNlcXVlbmNlQm91bmRzLmlzRW1wdHkoKSlcbiAgICAgICAge1xuICAgICAgICAgICAgYm91bmRzLmFkZEJvdW5kc01hdHJpeChzZXF1ZW5jZUJvdW5kcywgY3VyTWF0cml4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJvdW5kcy5wYWQodGhpcy5ib3VuZHNQYWRkaW5nLCB0aGlzLmJvdW5kc1BhZGRpbmcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRyYW5zZm9ybSBwb2ludHMgdXNpbmcgbWF0cml4LlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IHBvaW50cyAtIFBvaW50cyB0byB0cmFuc2Zvcm1cbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBtYXRyaXggLSBUcmFuc2Zvcm0gbWF0cml4XG4gICAgICovXG4gICAgcHJvdGVjdGVkIHRyYW5zZm9ybVBvaW50cyhwb2ludHM6IEFycmF5PG51bWJlcj4sIG1hdHJpeDogTWF0cml4KTogdm9pZFxuICAgIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoIC8gMjsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCB4ID0gcG9pbnRzWyhpICogMildO1xuICAgICAgICAgICAgY29uc3QgeSA9IHBvaW50c1soaSAqIDIpICsgMV07XG5cbiAgICAgICAgICAgIHBvaW50c1soaSAqIDIpXSA9IChtYXRyaXguYSAqIHgpICsgKG1hdHJpeC5jICogeSkgKyBtYXRyaXgudHg7XG4gICAgICAgICAgICBwb2ludHNbKGkgKiAyKSArIDFdID0gKG1hdHJpeC5iICogeCkgKyAobWF0cml4LmQgKiB5KSArIG1hdHJpeC50eTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZCBjb2xvcnMuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gY29sb3JzIC0gTGlzdCBvZiBjb2xvcnMgdG8gYWRkIHRvXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNvbG9yIC0gQ29sb3IgdG8gYWRkXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFscGhhIC0gQWxwaGEgdG8gdXNlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNpemUgLSBOdW1iZXIgb2YgY29sb3JzIHRvIGFkZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXRcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgYWRkQ29sb3JzKFxuICAgICAgICBjb2xvcnM6IEFycmF5PG51bWJlcj4sXG4gICAgICAgIGNvbG9yOiBudW1iZXIsXG4gICAgICAgIGFscGhhOiBudW1iZXIsXG4gICAgICAgIHNpemU6IG51bWJlcixcbiAgICAgICAgb2Zmc2V0ID0gMCk6IHZvaWRcbiAgICB7XG4gICAgICAgIC8vIFRPRE8gdXNlIHRoZSBwcmVtdWx0aXBseSBiaXRzIEl2YW4gYWRkZWRcbiAgICAgICAgY29uc3QgcmdiID0gKGNvbG9yID4+IDE2KSArIChjb2xvciAmIDB4ZmYwMCkgKyAoKGNvbG9yICYgMHhmZikgPDwgMTYpO1xuXG4gICAgICAgIGNvbnN0IHJnYmEgPSAgcHJlbXVsdGlwbHlUaW50KHJnYiwgYWxwaGEpO1xuXG4gICAgICAgIGNvbG9ycy5sZW5ndGggPSBNYXRoLm1heChjb2xvcnMubGVuZ3RoLCBvZmZzZXQgKyBzaXplKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNpemU7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgY29sb3JzW29mZnNldCArIGldID0gcmdiYTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZCB0ZXh0dXJlIGlkIHRoYXQgdGhlIHNoYWRlci9mcmFnbWVudCB3YW50cyB0byB1c2UuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gdGV4dHVyZUlkc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzaXplXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldFxuICAgICAqL1xuICAgIHByb3RlY3RlZCBhZGRUZXh0dXJlSWRzKFxuICAgICAgICB0ZXh0dXJlSWRzOiBBcnJheTxudW1iZXI+LFxuICAgICAgICBpZDogbnVtYmVyLFxuICAgICAgICBzaXplOiBudW1iZXIsXG4gICAgICAgIG9mZnNldCA9IDApOiB2b2lkXG4gICAge1xuICAgICAgICB0ZXh0dXJlSWRzLmxlbmd0aCA9IE1hdGgubWF4KHRleHR1cmVJZHMubGVuZ3RoLCBvZmZzZXQgKyBzaXplKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNpemU7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdGV4dHVyZUlkc1tvZmZzZXQgKyBpXSA9IGlkO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIHRoZSBVVnMgZm9yIGEgc2hhcGUuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gdmVydHMgLSBWZXJ0aWNlc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IHV2cyAtIFVWc1xuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gUmVmZXJlbmNlIHRvIFRleHR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnQgLSBJbmRleCBidWZmZXIgc3RhcnQgaW5kZXguXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNpemUgLSBUaGUgc2l6ZS9sZW5ndGggZm9yIGluZGV4IGJ1ZmZlci5cbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBbbWF0cml4XSAtIE9wdGlvbmFsIHRyYW5zZm9ybSBmb3IgYWxsIHBvaW50cy5cbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgYWRkVXZzKFxuICAgICAgICB2ZXJ0czogQXJyYXk8bnVtYmVyPixcbiAgICAgICAgdXZzOiBBcnJheTxudW1iZXI+LFxuICAgICAgICB0ZXh0dXJlOiBUZXh0dXJlLFxuICAgICAgICBzdGFydDogbnVtYmVyLCBzaXplOlxuICAgICAgICBudW1iZXIsIG1hdHJpeDpcbiAgICAgICAgTWF0cml4ID0gbnVsbCk6IHZvaWRcbiAgICB7XG4gICAgICAgIGxldCBpbmRleCA9IDA7XG4gICAgICAgIGNvbnN0IHV2c1N0YXJ0ID0gdXZzLmxlbmd0aDtcbiAgICAgICAgY29uc3QgZnJhbWUgPSB0ZXh0dXJlLmZyYW1lO1xuXG4gICAgICAgIHdoaWxlIChpbmRleCA8IHNpemUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCB4ID0gdmVydHNbKHN0YXJ0ICsgaW5kZXgpICogMl07XG4gICAgICAgICAgICBsZXQgeSA9IHZlcnRzWygoc3RhcnQgKyBpbmRleCkgKiAyKSArIDFdO1xuXG4gICAgICAgICAgICBpZiAobWF0cml4KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IG54ID0gKG1hdHJpeC5hICogeCkgKyAobWF0cml4LmMgKiB5KSArIG1hdHJpeC50eDtcblxuICAgICAgICAgICAgICAgIHkgPSAobWF0cml4LmIgKiB4KSArIChtYXRyaXguZCAqIHkpICsgbWF0cml4LnR5O1xuICAgICAgICAgICAgICAgIHggPSBueDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaW5kZXgrKztcblxuICAgICAgICAgICAgdXZzLnB1c2goeCAvIGZyYW1lLndpZHRoLCB5IC8gZnJhbWUuaGVpZ2h0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGJhc2VUZXh0dXJlID0gdGV4dHVyZS5iYXNlVGV4dHVyZTtcblxuICAgICAgICBpZiAoZnJhbWUud2lkdGggPCBiYXNlVGV4dHVyZS53aWR0aFxuICAgICAgICAgICAgfHwgZnJhbWUuaGVpZ2h0IDwgYmFzZVRleHR1cmUuaGVpZ2h0KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmFkanVzdFV2cyh1dnMsIHRleHR1cmUsIHV2c1N0YXJ0LCBzaXplKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1vZGlmeSB1dnMgYXJyYXkgYWNjb3JkaW5nIHRvIHBvc2l0aW9uIG9mIHRleHR1cmUgcmVnaW9uXG4gICAgICogRG9lcyBub3Qgd29yayB3aXRoIHJvdGF0ZWQgb3IgdHJpbW1lZCB0ZXh0dXJlc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gdXZzIC0gYXJyYXlcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIHJlZ2lvblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydCAtIHN0YXJ0aW5nIGluZGV4IGZvciB1dnNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2l6ZSAtIGhvdyBtYW55IHBvaW50cyB0byBhZGp1c3RcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgYWRqdXN0VXZzKHV2czogQXJyYXk8bnVtYmVyPiwgdGV4dHVyZTogVGV4dHVyZSwgc3RhcnQ6IG51bWJlciwgc2l6ZTogbnVtYmVyKTogdm9pZFxuICAgIHtcbiAgICAgICAgY29uc3QgYmFzZVRleHR1cmUgPSB0ZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgICAgICBjb25zdCBlcHMgPSAxZS02O1xuICAgICAgICBjb25zdCBmaW5pc2ggPSBzdGFydCArIChzaXplICogMik7XG4gICAgICAgIGNvbnN0IGZyYW1lID0gdGV4dHVyZS5mcmFtZTtcbiAgICAgICAgY29uc3Qgc2NhbGVYID0gZnJhbWUud2lkdGggLyBiYXNlVGV4dHVyZS53aWR0aDtcbiAgICAgICAgY29uc3Qgc2NhbGVZID0gZnJhbWUuaGVpZ2h0IC8gYmFzZVRleHR1cmUuaGVpZ2h0O1xuICAgICAgICBsZXQgb2Zmc2V0WCA9IGZyYW1lLnggLyBmcmFtZS53aWR0aDtcbiAgICAgICAgbGV0IG9mZnNldFkgPSBmcmFtZS55IC8gZnJhbWUuaGVpZ2h0O1xuICAgICAgICBsZXQgbWluWCA9IE1hdGguZmxvb3IodXZzW3N0YXJ0XSArIGVwcyk7XG4gICAgICAgIGxldCBtaW5ZID0gTWF0aC5mbG9vcih1dnNbc3RhcnQgKyAxXSArIGVwcyk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IHN0YXJ0ICsgMjsgaSA8IGZpbmlzaDsgaSArPSAyKVxuICAgICAgICB7XG4gICAgICAgICAgICBtaW5YID0gTWF0aC5taW4obWluWCwgTWF0aC5mbG9vcih1dnNbaV0gKyBlcHMpKTtcbiAgICAgICAgICAgIG1pblkgPSBNYXRoLm1pbihtaW5ZLCBNYXRoLmZsb29yKHV2c1tpICsgMV0gKyBlcHMpKTtcbiAgICAgICAgfVxuICAgICAgICBvZmZzZXRYIC09IG1pblg7XG4gICAgICAgIG9mZnNldFkgLT0gbWluWTtcbiAgICAgICAgZm9yIChsZXQgaSA9IHN0YXJ0OyBpIDwgZmluaXNoOyBpICs9IDIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHV2c1tpXSA9ICh1dnNbaV0gKyBvZmZzZXRYKSAqIHNjYWxlWDtcbiAgICAgICAgICAgIHV2c1tpICsgMV0gPSAodXZzW2kgKyAxXSArIG9mZnNldFkpICogc2NhbGVZO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgRmlsbFN0eWxlIH0gZnJvbSAnLi9GaWxsU3R5bGUnO1xuaW1wb3J0IHsgTElORV9KT0lOLCBMSU5FX0NBUCB9IGZyb20gJy4uL2NvbnN0JztcblxuLyoqXG4gKiBSZXByZXNlbnRzIHRoZSBsaW5lIHN0eWxlIGZvciBHcmFwaGljcy5cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuRmlsbFN0eWxlXG4gKi9cbmV4cG9ydCBjbGFzcyBMaW5lU3R5bGUgZXh0ZW5kcyBGaWxsU3R5bGVcbntcbiAgICAvKipcbiAgICAgKiBUaGUgd2lkdGggKHRoaWNrbmVzcykgb2YgYW55IGxpbmVzIGRyYXduLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cbiAgICBwdWJsaWMgd2lkdGggPSAwO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGFsaWdubWVudCBvZiBhbnkgbGluZXMgZHJhd24gKDAuNSA9IG1pZGRsZSwgMSA9IG91dGVyLCAwID0gaW5uZXIpLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDAuNVxuICAgICAqL1xuICAgIHB1YmxpYyBhbGlnbm1lbnQgPSAwLjU7XG5cbiAgICAvKipcbiAgICAgKiBJZiB0cnVlIHRoZSBsaW5lcyB3aWxsIGJlIGRyYXcgdXNpbmcgTElORVMgaW5zdGVhZCBvZiBUUklBTkdMRV9TVFJJUFxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqL1xuICAgIHB1YmxpYyBuYXRpdmUgPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIExpbmUgY2FwIHN0eWxlLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5MSU5FX0NBUH1cbiAgICAgKiBAZGVmYXVsdCBQSVhJLkxJTkVfQ0FQLkJVVFRcbiAgICAgKi9cbiAgICBwdWJsaWMgY2FwID0gTElORV9DQVAuQlVUVDtcblxuICAgIC8qKlxuICAgICAqIExpbmUgam9pbiBzdHlsZS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuTElORV9KT0lOfVxuICAgICAqIEBkZWZhdWx0IFBJWEkuTElORV9KT0lOLk1JVEVSXG4gICAgICovXG4gICAgcHVibGljIGpvaW4gPSBMSU5FX0pPSU4uTUlURVI7XG5cbiAgICAvKipcbiAgICAgKiBNaXRlciBsaW1pdC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAxMFxuICAgICAqL1xuICAgIHB1YmxpYyBtaXRlckxpbWl0ID0gMTA7XG5cbiAgICAvKipcbiAgICAgKiBDbG9uZXMgdGhlIG9iamVjdFxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5MaW5lU3R5bGV9XG4gICAgICovXG4gICAgcHVibGljIGNsb25lKCk6IExpbmVTdHlsZVxuICAgIHtcbiAgICAgICAgY29uc3Qgb2JqID0gbmV3IExpbmVTdHlsZSgpO1xuXG4gICAgICAgIG9iai5jb2xvciA9IHRoaXMuY29sb3I7XG4gICAgICAgIG9iai5hbHBoYSA9IHRoaXMuYWxwaGE7XG4gICAgICAgIG9iai50ZXh0dXJlID0gdGhpcy50ZXh0dXJlO1xuICAgICAgICBvYmoubWF0cml4ID0gdGhpcy5tYXRyaXg7XG4gICAgICAgIG9iai52aXNpYmxlID0gdGhpcy52aXNpYmxlO1xuICAgICAgICBvYmoud2lkdGggPSB0aGlzLndpZHRoO1xuICAgICAgICBvYmouYWxpZ25tZW50ID0gdGhpcy5hbGlnbm1lbnQ7XG4gICAgICAgIG9iai5uYXRpdmUgPSB0aGlzLm5hdGl2ZTtcbiAgICAgICAgb2JqLmNhcCA9IHRoaXMuY2FwO1xuICAgICAgICBvYmouam9pbiA9IHRoaXMuam9pbjtcbiAgICAgICAgb2JqLm1pdGVyTGltaXQgPSB0aGlzLm1pdGVyTGltaXQ7XG5cbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXNldCB0aGUgbGluZSBzdHlsZSB0byBkZWZhdWx0LlxuICAgICAqL1xuICAgIHB1YmxpYyByZXNldCgpOiB2b2lkXG4gICAge1xuICAgICAgICBzdXBlci5yZXNldCgpO1xuXG4gICAgICAgIC8vIE92ZXJyaWRlIGRlZmF1bHQgbGluZSBzdHlsZSBjb2xvclxuICAgICAgICB0aGlzLmNvbG9yID0gMHgwO1xuXG4gICAgICAgIHRoaXMuYWxpZ25tZW50ID0gMC41O1xuICAgICAgICB0aGlzLndpZHRoID0gMDtcbiAgICAgICAgdGhpcy5uYXRpdmUgPSBmYWxzZTtcbiAgICB9XG59XG4iLCJpbXBvcnQge1xuICAgIENpcmNsZSxcbiAgICBFbGxpcHNlLFxuICAgIFBJXzIsXG4gICAgUG9pbnQsXG4gICAgUG9seWdvbixcbiAgICBSZWN0YW5nbGUsXG4gICAgUm91bmRlZFJlY3RhbmdsZSxcbiAgICBNYXRyaXgsXG4gICAgU0hBUEVTLFxufSBmcm9tICdAcGl4aS9tYXRoJztcblxuaW1wb3J0IHsgVGV4dHVyZSwgVW5pZm9ybUdyb3VwLCBTdGF0ZSwgUmVuZGVyZXIsIEJhdGNoRHJhd0NhbGwgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IEJlemllclV0aWxzLCBRdWFkcmF0aWNVdGlscywgQXJjVXRpbHMsIFN0YXIgfSBmcm9tICcuL3V0aWxzJztcbmltcG9ydCB7IGhleDJyZ2IsIGRlcHJlY2F0aW9uIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuaW1wb3J0IHsgR3JhcGhpY3NHZW9tZXRyeSB9IGZyb20gJy4vR3JhcGhpY3NHZW9tZXRyeSc7XG5pbXBvcnQgeyBGaWxsU3R5bGUgfSBmcm9tICcuL3N0eWxlcy9GaWxsU3R5bGUnO1xuaW1wb3J0IHsgTGluZVN0eWxlIH0gZnJvbSAnLi9zdHlsZXMvTGluZVN0eWxlJztcbmltcG9ydCB7IEJMRU5EX01PREVTIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmltcG9ydCB7IENvbnRhaW5lciB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuaW1wb3J0IHsgU2hhZGVyIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5cbmltcG9ydCB0eXBlIHsgSVNoYXBlLCBJUG9pbnREYXRhIH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgdHlwZSB7IElEZXN0cm95T3B0aW9ucyB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuaW1wb3J0IHsgTElORV9KT0lOLCBMSU5FX0NBUCB9IGZyb20gJy4vY29uc3QnO1xuXG4vKipcbiAqIEJhdGNoIGVsZW1lbnQgY29tcHV0ZWQgZnJvbSBHcmFwaGljcyBnZW9tZXRyeVxuICovXG5leHBvcnQgaW50ZXJmYWNlIElHcmFwaGljc0JhdGNoRWxlbWVudCB7XG4gICAgdmVydGV4RGF0YTogRmxvYXQzMkFycmF5O1xuICAgIGJsZW5kTW9kZTogQkxFTkRfTU9ERVM7XG4gICAgaW5kaWNlczogVWludDE2QXJyYXkgfCBVaW50MzJBcnJheTtcbiAgICB1dnM6IEZsb2F0MzJBcnJheTtcbiAgICBhbHBoYTogbnVtYmVyO1xuICAgIHdvcmxkQWxwaGE6IG51bWJlcjtcbiAgICBfYmF0Y2hSR0I6IG51bWJlcltdO1xuICAgIF90aW50UkdCOiBudW1iZXI7XG4gICAgX3RleHR1cmU6IFRleHR1cmU7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUZpbGxTdHlsZU9wdGlvbnMge1xuICAgIGNvbG9yPzogbnVtYmVyO1xuICAgIGFscGhhPzogbnVtYmVyO1xuICAgIHRleHR1cmU/OiBUZXh0dXJlO1xuICAgIG1hdHJpeD86IE1hdHJpeDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJTGluZVN0eWxlT3B0aW9ucyBleHRlbmRzIElGaWxsU3R5bGVPcHRpb25zIHtcbiAgICB3aWR0aD86IG51bWJlcjtcbiAgICBhbGlnbm1lbnQ/OiBudW1iZXI7XG4gICAgbmF0aXZlPzogYm9vbGVhbjtcbiAgICBjYXA/OiBMSU5FX0NBUDtcbiAgICBqb2luPzogTElORV9KT0lOO1xuICAgIG1pdGVyTGltaXQ/OiBudW1iZXI7XG59XG5cbmNvbnN0IHRlbXAgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xuXG4vLyBhIGRlZmF1bHQgc2hhZGVycyBtYXAgdXNlZCBieSBncmFwaGljcy4uXG5jb25zdCBERUZBVUxUX1NIQURFUlM6IHtba2V5OiBzdHJpbmddOiBTaGFkZXJ9ID0ge307XG5cbmV4cG9ydCBpbnRlcmZhY2UgR3JhcGhpY3MgZXh0ZW5kcyBHbG9iYWxNaXhpbnMuR3JhcGhpY3MsIENvbnRhaW5lciB7fVxuXG4vKipcbiAqIFRoZSBHcmFwaGljcyBjbGFzcyBjb250YWlucyBtZXRob2RzIHVzZWQgdG8gZHJhdyBwcmltaXRpdmUgc2hhcGVzIHN1Y2ggYXMgbGluZXMsIGNpcmNsZXMgYW5kXG4gKiByZWN0YW5nbGVzIHRvIHRoZSBkaXNwbGF5LCBhbmQgdG8gY29sb3IgYW5kIGZpbGwgdGhlbS5cbiAqXG4gKiBOb3RlIHRoYXQgYmVjYXVzZSBHcmFwaGljcyBjYW4gc2hhcmUgYSBHcmFwaGljc0dlb21ldHJ5IHdpdGggb3RoZXIgaW5zdGFuY2VzLFxuICogaXQgaXMgbmVjZXNzYXJ5IHRvIGNhbGwgYGRlc3Ryb3koKWAgdG8gcHJvcGVybHkgZGVyZWZlcmVuY2UgdGhlIHVuZGVybHlpbmdcbiAqIEdyYXBoaWNzR2VvbWV0cnkgYW5kIGF2b2lkIGEgbWVtb3J5IGxlYWsuIEFsdGVybmF0aXZlbHksIGtlZXAgdXNpbmcgdGhlIHNhbWVcbiAqIEdyYXBoaWNzIGluc3RhbmNlIGFuZCBjYWxsIGBjbGVhcigpYCBiZXR3ZWVuIHJlZHJhd3MuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkNvbnRhaW5lclxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGNsYXNzIEdyYXBoaWNzIGV4dGVuZHMgQ29udGFpbmVyXG57XG4gICAgLyoqXG4gICAgICogVGVtcG9yYXJ5IHBvaW50IHRvIHVzZSBmb3IgY29udGFpbnNQb2ludFxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7UElYSS5Qb2ludH1cbiAgICAgKi9cblxuICAgIHN0YXRpYyBfVEVNUF9QT0lOVCA9IG5ldyBQb2ludCgpO1xuXG4gICAgcHVibGljIHNoYWRlcjogU2hhZGVyO1xuICAgIHB1YmxpYyBwbHVnaW5OYW1lOiBzdHJpbmc7XG5cbiAgICBwcm90ZWN0ZWQgY3VycmVudFBhdGg6IFBvbHlnb247XG4gICAgcHJvdGVjdGVkIGJhdGNoZXM6IEFycmF5PElHcmFwaGljc0JhdGNoRWxlbWVudD47XG4gICAgcHJvdGVjdGVkIGJhdGNoVGludDogbnVtYmVyO1xuICAgIHByb3RlY3RlZCBiYXRjaERpcnR5OiBudW1iZXI7XG4gICAgcHJvdGVjdGVkIHZlcnRleERhdGE6IEZsb2F0MzJBcnJheTtcblxuICAgIHByb3RlY3RlZCBfZmlsbFN0eWxlOiBGaWxsU3R5bGU7XG4gICAgcHJvdGVjdGVkIF9saW5lU3R5bGU6IExpbmVTdHlsZTtcbiAgICBwcm90ZWN0ZWQgX21hdHJpeDogTWF0cml4O1xuICAgIHByb3RlY3RlZCBfaG9sZU1vZGU6IGJvb2xlYW47XG4gICAgcHJvdGVjdGVkIF90cmFuc2Zvcm1JRDogbnVtYmVyO1xuICAgIHByb3RlY3RlZCBfdGludDogbnVtYmVyO1xuXG4gICAgcHJpdmF0ZSBzdGF0ZTogU3RhdGU7XG4gICAgcHJpdmF0ZSBfZ2VvbWV0cnk6IEdyYXBoaWNzR2VvbWV0cnk7XG5cbiAgICAvKipcbiAgICAgKiBJbmNsdWRlcyB2ZXJ0ZXggcG9zaXRpb25zLCBmYWNlIGluZGljZXMsIG5vcm1hbHMsIGNvbG9ycywgVVZzLCBhbmRcbiAgICAgKiBjdXN0b20gYXR0cmlidXRlcyB3aXRoaW4gYnVmZmVycywgcmVkdWNpbmcgdGhlIGNvc3Qgb2YgcGFzc2luZyBhbGxcbiAgICAgKiB0aGlzIGRhdGEgdG8gdGhlIEdQVS4gQ2FuIGJlIHNoYXJlZCBiZXR3ZWVuIG11bHRpcGxlIE1lc2ggb3IgR3JhcGhpY3Mgb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuR3JhcGhpY3NHZW9tZXRyeX1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0IGdlb21ldHJ5KCk6IEdyYXBoaWNzR2VvbWV0cnlcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9nZW9tZXRyeTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuR3JhcGhpY3NHZW9tZXRyeX0gW2dlb21ldHJ5PW51bGxdIC0gR2VvbWV0cnkgdG8gdXNlLCBpZiBvbWl0dGVkXG4gICAgICogICAgICAgIHdpbGwgY3JlYXRlIGEgbmV3IEdyYXBoaWNzR2VvbWV0cnkgaW5zdGFuY2UuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoZ2VvbWV0cnk6IEdyYXBoaWNzR2VvbWV0cnkgPSBudWxsKVxuICAgIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLl9nZW9tZXRyeSA9IGdlb21ldHJ5IHx8IG5ldyBHcmFwaGljc0dlb21ldHJ5KCk7XG4gICAgICAgIHRoaXMuX2dlb21ldHJ5LnJlZkNvdW50Kys7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlcHJlc2VudHMgdGhlIHZlcnRleCBhbmQgZnJhZ21lbnQgc2hhZGVycyB0aGF0IHByb2Nlc3NlcyB0aGUgZ2VvbWV0cnkgYW5kIHJ1bnMgb24gdGhlIEdQVS5cbiAgICAgICAgICogQ2FuIGJlIHNoYXJlZCBiZXR3ZWVuIG11bHRpcGxlIEdyYXBoaWNzIG9iamVjdHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU2hhZGVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zaGFkZXIgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXByZXNlbnRzIHRoZSBXZWJHTCBzdGF0ZSB0aGUgR3JhcGhpY3MgcmVxdWlyZWQgdG8gcmVuZGVyLCBleGNsdWRlcyBzaGFkZXIgYW5kIGdlb21ldHJ5LiBFLmcuLFxuICAgICAgICAgKiBibGVuZCBtb2RlLCBjdWxsaW5nLCBkZXB0aCB0ZXN0aW5nLCBkaXJlY3Rpb24gb2YgcmVuZGVyaW5nIHRyaWFuZ2xlcywgYmFja2ZhY2UsIGV0Yy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5TdGF0ZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5mb3IyZCgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDdXJyZW50IGZpbGwgc3R5bGVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5GaWxsU3R5bGV9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2ZpbGxTdHlsZSA9IG5ldyBGaWxsU3R5bGUoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ3VycmVudCBsaW5lIHN0eWxlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTGluZVN0eWxlfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9saW5lU3R5bGUgPSBuZXcgTGluZVN0eWxlKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEN1cnJlbnQgc2hhcGUgdHJhbnNmb3JtIG1hdHJpeC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5NYXRyaXh9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX21hdHJpeCA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEN1cnJlbnQgaG9sZSBtb2RlIGlzIGVuYWJsZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2hvbGVNb2RlID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEN1cnJlbnQgcGF0aFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlBvbHlnb259XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY3VycmVudFBhdGggPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGVuIGNhY2hlQXNCaXRtYXAgaXMgc2V0IHRvIHRydWUgdGhlIGdyYXBoaWNzIG9iamVjdCB3aWxsIGJlIHJlbmRlcmVkIGFzIGlmIGl0IHdhcyBhIHNwcml0ZS5cbiAgICAgICAgICogVGhpcyBpcyB1c2VmdWwgaWYgeW91ciBncmFwaGljcyBlbGVtZW50IGRvZXMgbm90IGNoYW5nZSBvZnRlbiwgYXMgaXQgd2lsbCBzcGVlZCB1cCB0aGUgcmVuZGVyaW5nXG4gICAgICAgICAqIG9mIHRoZSBvYmplY3QgaW4gZXhjaGFuZ2UgZm9yIHRha2luZyB1cCB0ZXh0dXJlIG1lbW9yeS4gSXQgaXMgYWxzbyB1c2VmdWwgaWYgeW91IG5lZWQgdGhlIGdyYXBoaWNzXG4gICAgICAgICAqIG9iamVjdCB0byBiZSBhbnRpLWFsaWFzZWQsIGJlY2F1c2UgaXQgd2lsbCBiZSByZW5kZXJlZCB1c2luZyBjYW52YXMuIFRoaXMgaXMgbm90IHJlY29tbWVuZGVkIGlmXG4gICAgICAgICAqIHlvdSBhcmUgY29uc3RhbnRseSByZWRyYXdpbmcgdGhlIGdyYXBoaWNzIGVsZW1lbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBuYW1lIGNhY2hlQXNCaXRtYXBcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuR3JhcGhpY3MjXG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGNvbGxlY3Rpb25zIG9mIGJhdGNoZXMhIFRoZXNlIGNhbiBiZSBkcmF3biBieSB0aGUgcmVuZGVyZXIgYmF0Y2ggc3lzdGVtLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdFtdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5iYXRjaGVzID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVwZGF0ZSBkaXJ0eSBmb3IgbGltaXRpbmcgY2FsY3VsYXRpbmcgdGludHMgZm9yIGJhdGNoZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAtMVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5iYXRjaFRpbnQgPSAtMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVXBkYXRlIGRpcnR5IGZvciBsaW1pdGluZyBjYWxjdWxhdGluZyBiYXRjaGVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgLTFcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYmF0Y2hEaXJ0eSA9IC0xO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb3B5IG9mIHRoZSBvYmplY3QgdmVydGV4IGRhdGEuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy52ZXJ0ZXhEYXRhID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVuZGVyZXIgcGx1Z2luIGZvciBiYXRjaGluZ1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqIEBkZWZhdWx0ICdiYXRjaCdcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucGx1Z2luTmFtZSA9ICdiYXRjaCc7XG5cbiAgICAgICAgdGhpcy5fdHJhbnNmb3JtSUQgPSAtMTtcblxuICAgICAgICAvLyBTZXQgZGVmYXVsdFxuICAgICAgICB0aGlzLnRpbnQgPSAweEZGRkZGRjtcbiAgICAgICAgdGhpcy5ibGVuZE1vZGUgPSBCTEVORF9NT0RFUy5OT1JNQUw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBHcmFwaGljcyBvYmplY3Qgd2l0aCB0aGUgc2FtZSB2YWx1ZXMgYXMgdGhpcyBvbmUuXG4gICAgICogTm90ZSB0aGF0IG9ubHkgdGhlIGdlb21ldHJ5IG9mIHRoZSBvYmplY3QgaXMgY2xvbmVkLCBub3QgaXRzIHRyYW5zZm9ybSAocG9zaXRpb24sc2NhbGUsZXRjKVxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gQSBjbG9uZSBvZiB0aGUgZ3JhcGhpY3Mgb2JqZWN0XG4gICAgICovXG4gICAgcHVibGljIGNsb25lKCk6IEdyYXBoaWNzXG4gICAge1xuICAgICAgICB0aGlzLmZpbmlzaFBvbHkoKTtcblxuICAgICAgICByZXR1cm4gbmV3IEdyYXBoaWNzKHRoaXMuX2dlb21ldHJ5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmxlbmQgbW9kZSB0byBiZSBhcHBsaWVkIHRvIHRoZSBncmFwaGljIHNoYXBlLiBBcHBseSBhIHZhbHVlIG9mXG4gICAgICogYFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMYCB0byByZXNldCB0aGUgYmxlbmQgbW9kZS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCBQSVhJLkJMRU5EX01PREVTLk5PUk1BTDtcbiAgICAgKiBAc2VlIFBJWEkuQkxFTkRfTU9ERVNcbiAgICAgKi9cbiAgICBwdWJsaWMgc2V0IGJsZW5kTW9kZSh2YWx1ZTogQkxFTkRfTU9ERVMpXG4gICAge1xuICAgICAgICB0aGlzLnN0YXRlLmJsZW5kTW9kZSA9IHZhbHVlO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgYmxlbmRNb2RlKCk6IEJMRU5EX01PREVTXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZS5ibGVuZE1vZGU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIHRpbnQgYXBwbGllZCB0byB0aGUgZ3JhcGhpYyBzaGFwZS4gVGhpcyBpcyBhIGhleCB2YWx1ZS4gQSB2YWx1ZSBvZlxuICAgICAqIDB4RkZGRkZGIHdpbGwgcmVtb3ZlIGFueSB0aW50IGVmZmVjdC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAweEZGRkZGRlxuICAgICAqL1xuICAgIHB1YmxpYyBnZXQgdGludCgpOiBudW1iZXJcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl90aW50O1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgdGludCh2YWx1ZTogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgdGhpcy5fdGludCA9IHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBjdXJyZW50IGZpbGwgc3R5bGUuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLkZpbGxTdHlsZX1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0IGZpbGwoKTogRmlsbFN0eWxlXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fZmlsbFN0eWxlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBjdXJyZW50IGxpbmUgc3R5bGUuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLkxpbmVTdHlsZX1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0IGxpbmUoKTogTGluZVN0eWxlXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fbGluZVN0eWxlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNwZWNpZmllcyB0aGUgbGluZSBzdHlsZSB1c2VkIGZvciBzdWJzZXF1ZW50IGNhbGxzIHRvIEdyYXBoaWNzIG1ldGhvZHMgc3VjaCBhcyB0aGUgbGluZVRvKClcbiAgICAgKiBtZXRob2Qgb3IgdGhlIGRyYXdDaXJjbGUoKSBtZXRob2QuXG4gICAgICpcbiAgICAgKiBAbWV0aG9kIFBJWEkuR3JhcGhpY3MjbGluZVN0eWxlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt3aWR0aD0wXSAtIHdpZHRoIG9mIHRoZSBsaW5lIHRvIGRyYXcsIHdpbGwgdXBkYXRlIHRoZSBvYmplY3RzIHN0b3JlZCBzdHlsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbY29sb3I9MHgwXSAtIGNvbG9yIG9mIHRoZSBsaW5lIHRvIGRyYXcsIHdpbGwgdXBkYXRlIHRoZSBvYmplY3RzIHN0b3JlZCBzdHlsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYWxwaGE9MV0gLSBhbHBoYSBvZiB0aGUgbGluZSB0byBkcmF3LCB3aWxsIHVwZGF0ZSB0aGUgb2JqZWN0cyBzdG9yZWQgc3R5bGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FsaWdubWVudD0wLjVdIC0gYWxpZ25tZW50IG9mIHRoZSBsaW5lIHRvIGRyYXcsICgwID0gaW5uZXIsIDAuNSA9IG1pZGRsZSwgMSA9IG91dHRlcilcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtuYXRpdmU9ZmFsc2VdIC0gSWYgdHJ1ZSB0aGUgbGluZXMgd2lsbCBiZSBkcmF3IHVzaW5nIExJTkVTIGluc3RlYWQgb2YgVFJJQU5HTEVfU1RSSVBcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgLyoqXG4gICAgICogU3BlY2lmaWVzIHRoZSBsaW5lIHN0eWxlIHVzZWQgZm9yIHN1YnNlcXVlbnQgY2FsbHMgdG8gR3JhcGhpY3MgbWV0aG9kcyBzdWNoIGFzIHRoZSBsaW5lVG8oKVxuICAgICAqIG1ldGhvZCBvciB0aGUgZHJhd0NpcmNsZSgpIG1ldGhvZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBMaW5lIHN0eWxlIG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGg9MF0gLSB3aWR0aCBvZiB0aGUgbGluZSB0byBkcmF3LCB3aWxsIHVwZGF0ZSB0aGUgb2JqZWN0cyBzdG9yZWQgc3R5bGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuY29sb3I9MHgwXSAtIGNvbG9yIG9mIHRoZSBsaW5lIHRvIGRyYXcsIHdpbGwgdXBkYXRlIHRoZSBvYmplY3RzIHN0b3JlZCBzdHlsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5hbHBoYT0xXSAtIGFscGhhIG9mIHRoZSBsaW5lIHRvIGRyYXcsIHdpbGwgdXBkYXRlIHRoZSBvYmplY3RzIHN0b3JlZCBzdHlsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5hbGlnbm1lbnQ9MC41XSAtIGFsaWdubWVudCBvZiB0aGUgbGluZSB0byBkcmF3LCAoMCA9IGlubmVyLCAwLjUgPSBtaWRkbGUsIDEgPSBvdXR0ZXIpXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5uYXRpdmU9ZmFsc2VdIC0gSWYgdHJ1ZSB0aGUgbGluZXMgd2lsbCBiZSBkcmF3IHVzaW5nIExJTkVTIGluc3RlYWQgb2YgVFJJQU5HTEVfU1RSSVBcbiAgICAgKiBAcGFyYW0ge1BJWEkuTElORV9DQVB9W29wdGlvbnMuY2FwPVBJWEkuTElORV9DQVAuQlVUVF0gLSBsaW5lIGNhcCBzdHlsZVxuICAgICAqIEBwYXJhbSB7UElYSS5MSU5FX0pPSU59W29wdGlvbnMuam9pbj1QSVhJLkxJTkVfSk9JTi5NSVRFUl0gLSBsaW5lIGpvaW4gc3R5bGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn1bb3B0aW9ucy5taXRlckxpbWl0PTEwXSAtIG1pdGVyIGxpbWl0IHJhdGlvXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIHB1YmxpYyBsaW5lU3R5bGUob3B0aW9uczogSUxpbmVTdHlsZU9wdGlvbnMgPSBudWxsKTogdGhpc1xuICAgIHtcbiAgICAgICAgLy8gU3VwcG9ydCBub24tb2JqZWN0IHBhcmFtczogKHdpZHRoLCBjb2xvciwgYWxwaGEsIGFsaWdubWVudCwgbmF0aXZlKVxuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdudW1iZXInKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgICAgICAgIGNvbnN0IGFyZ3MgPSBhcmd1bWVudHM7XG5cbiAgICAgICAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IGFyZ3NbMF0gfHwgMCxcbiAgICAgICAgICAgICAgICBjb2xvcjogYXJnc1sxXSB8fCAweDAsXG4gICAgICAgICAgICAgICAgYWxwaGE6IGFyZ3NbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3NbMl0gOiAxLFxuICAgICAgICAgICAgICAgIGFsaWdubWVudDogYXJnc1szXSAhPT0gdW5kZWZpbmVkID8gYXJnc1szXSA6IDAuNSxcbiAgICAgICAgICAgICAgICBuYXRpdmU6ICEhYXJnc1s0XSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5saW5lVGV4dHVyZVN0eWxlKG9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExpa2UgbGluZSBzdHlsZSBidXQgc3VwcG9ydCB0ZXh0dXJlIGZvciBsaW5lIGZpbGwuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gQ29sbGVjdGlvbiBvZiBvcHRpb25zIGZvciBzZXR0aW5nIGxpbmUgc3R5bGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLndpZHRoPTBdIC0gd2lkdGggb2YgdGhlIGxpbmUgdG8gZHJhdywgd2lsbCB1cGRhdGUgdGhlIG9iamVjdHMgc3RvcmVkIHN0eWxlXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IFtvcHRpb25zLnRleHR1cmU9UElYSS5UZXh0dXJlLldISVRFXSAtIFRleHR1cmUgdG8gdXNlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmNvbG9yPTB4MF0gLSBjb2xvciBvZiB0aGUgbGluZSB0byBkcmF3LCB3aWxsIHVwZGF0ZSB0aGUgb2JqZWN0cyBzdG9yZWQgc3R5bGUuXG4gICAgICogIERlZmF1bHQgMHhGRkZGRkYgaWYgdGV4dHVyZSBwcmVzZW50LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5hbHBoYT0xXSAtIGFscGhhIG9mIHRoZSBsaW5lIHRvIGRyYXcsIHdpbGwgdXBkYXRlIHRoZSBvYmplY3RzIHN0b3JlZCBzdHlsZVxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IFtvcHRpb25zLm1hdHJpeD1udWxsXSAtIFRleHR1cmUgbWF0cml4IHRvIHRyYW5zZm9ybSB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmFsaWdubWVudD0wLjVdIC0gYWxpZ25tZW50IG9mIHRoZSBsaW5lIHRvIGRyYXcsICgwID0gaW5uZXIsIDAuNSA9IG1pZGRsZSwgMSA9IG91dHRlcilcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLm5hdGl2ZT1mYWxzZV0gLSBJZiB0cnVlIHRoZSBsaW5lcyB3aWxsIGJlIGRyYXcgdXNpbmcgTElORVMgaW5zdGVhZCBvZiBUUklBTkdMRV9TVFJJUFxuICAgICAqIEBwYXJhbSB7UElYSS5MSU5FX0NBUH1bb3B0aW9ucy5jYXA9UElYSS5MSU5FX0NBUC5CVVRUXSAtIGxpbmUgY2FwIHN0eWxlXG4gICAgICogQHBhcmFtIHtQSVhJLkxJTkVfSk9JTn1bb3B0aW9ucy5qb2luPVBJWEkuTElORV9KT0lOLk1JVEVSXSAtIGxpbmUgam9pbiBzdHlsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfVtvcHRpb25zLm1pdGVyTGltaXQ9MTBdIC0gbWl0ZXIgbGltaXQgcmF0aW9cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgcHVibGljIGxpbmVUZXh0dXJlU3R5bGUob3B0aW9uczogSUxpbmVTdHlsZU9wdGlvbnMpOiB0aGlzXG4gICAge1xuICAgICAgICAvLyBiYWNrd2FyZCBjb21wYXRpYmlsaXR5IHdpdGggcGFyYW1zOiAod2lkdGgsIHRleHR1cmUsXG4gICAgICAgIC8vIGNvbG9yLCBhbHBoYSwgbWF0cml4LCBhbGlnbm1lbnQsIG5hdGl2ZSlcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnbnVtYmVyJylcbiAgICAgICAge1xuICAgICAgICAgICAgZGVwcmVjYXRpb24oJ3Y1LjIuMCcsICdQbGVhc2UgdXNlIG9iamVjdC1iYXNlZCBvcHRpb25zIGZvciBHcmFwaGljcyNsaW5lVGV4dHVyZVN0eWxlJyk7XG5cbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgICAgICAgY29uc3QgW3dpZHRoLCB0ZXh0dXJlLCBjb2xvciwgYWxwaGEsIG1hdHJpeCwgYWxpZ25tZW50LCBuYXRpdmVdID0gYXJndW1lbnRzIGFzIGFueTtcblxuICAgICAgICAgICAgb3B0aW9ucyA9IHsgd2lkdGgsIHRleHR1cmUsIGNvbG9yLCBhbHBoYSwgbWF0cml4LCBhbGlnbm1lbnQsIG5hdGl2ZSB9O1xuXG4gICAgICAgICAgICAvLyBSZW1vdmUgdW5kZWZpbmVkIGtleXNcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKG9wdGlvbnMpLmZvckVhY2goKGtleSkgPT4gKG9wdGlvbnMgYXMgYW55KVtrZXldID09PSB1bmRlZmluZWQgJiYgZGVsZXRlIChvcHRpb25zIGFzIGFueSlba2V5XSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBcHBseSBkZWZhdWx0c1xuICAgICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICB3aWR0aDogMCxcbiAgICAgICAgICAgIHRleHR1cmU6IFRleHR1cmUuV0hJVEUsXG4gICAgICAgICAgICBjb2xvcjogKG9wdGlvbnMgJiYgb3B0aW9ucy50ZXh0dXJlKSA/IDB4RkZGRkZGIDogMHgwLFxuICAgICAgICAgICAgYWxwaGE6IDEsXG4gICAgICAgICAgICBtYXRyaXg6IG51bGwsXG4gICAgICAgICAgICBhbGlnbm1lbnQ6IDAuNSxcbiAgICAgICAgICAgIG5hdGl2ZTogZmFsc2UsXG4gICAgICAgICAgICBjYXA6IExJTkVfQ0FQLkJVVFQsXG4gICAgICAgICAgICBqb2luOiBMSU5FX0pPSU4uTUlURVIsXG4gICAgICAgICAgICBtaXRlckxpbWl0OiAxMCxcbiAgICAgICAgfSwgb3B0aW9ucyk7XG5cbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFBhdGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRQb2x5KCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB2aXNpYmxlID0gb3B0aW9ucy53aWR0aCA+IDAgJiYgb3B0aW9ucy5hbHBoYSA+IDA7XG5cbiAgICAgICAgaWYgKCF2aXNpYmxlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9saW5lU3R5bGUucmVzZXQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLm1hdHJpeClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zLm1hdHJpeCA9IG9wdGlvbnMubWF0cml4LmNsb25lKCk7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5tYXRyaXguaW52ZXJ0KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5fbGluZVN0eWxlLCB7IHZpc2libGUgfSwgb3B0aW9ucyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTdGFydCBhIHBvbHlnb24gb2JqZWN0IGludGVybmFsbHlcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgcHJvdGVjdGVkIHN0YXJ0UG9seSgpOiB2b2lkXG4gICAge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50UGF0aClcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgcG9pbnRzID0gdGhpcy5jdXJyZW50UGF0aC5wb2ludHM7XG4gICAgICAgICAgICBjb25zdCBsZW4gPSB0aGlzLmN1cnJlbnRQYXRoLnBvaW50cy5sZW5ndGg7XG5cbiAgICAgICAgICAgIGlmIChsZW4gPiAyKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuZHJhd1NoYXBlKHRoaXMuY3VycmVudFBhdGgpO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhdGggPSBuZXcgUG9seWdvbigpO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhdGguY2xvc2VTdHJva2UgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYXRoLnBvaW50cy5wdXNoKHBvaW50c1tsZW4gLSAyXSwgcG9pbnRzW2xlbiAtIDFdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFBhdGggPSBuZXcgUG9seWdvbigpO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50UGF0aC5jbG9zZVN0cm9rZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmluaXNoIHRoZSBwb2x5Z29uIG9iamVjdC5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgZmluaXNoUG9seSgpOiB2b2lkXG4gICAge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50UGF0aClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudFBhdGgucG9pbnRzLmxlbmd0aCA+IDIpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3U2hhcGUodGhpcy5jdXJyZW50UGF0aCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGF0aCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGF0aC5wb2ludHMubGVuZ3RoID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1vdmVzIHRoZSBjdXJyZW50IGRyYXdpbmcgcG9zaXRpb24gdG8geCwgeS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gdGhlIFggY29vcmRpbmF0ZSB0byBtb3ZlIHRvXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSB0aGUgWSBjb29yZGluYXRlIHRvIG1vdmUgdG9cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgcHVibGljIG1vdmVUbyh4OiBudW1iZXIsIHk6IG51bWJlcik6IHRoaXNcbiAgICB7XG4gICAgICAgIHRoaXMuc3RhcnRQb2x5KCk7XG4gICAgICAgIHRoaXMuY3VycmVudFBhdGgucG9pbnRzWzBdID0geDtcbiAgICAgICAgdGhpcy5jdXJyZW50UGF0aC5wb2ludHNbMV0gPSB5O1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERyYXdzIGEgbGluZSB1c2luZyB0aGUgY3VycmVudCBsaW5lIHN0eWxlIGZyb20gdGhlIGN1cnJlbnQgZHJhd2luZyBwb3NpdGlvbiB0byAoeCwgeSk7XG4gICAgICogVGhlIGN1cnJlbnQgZHJhd2luZyBwb3NpdGlvbiBpcyB0aGVuIHNldCB0byAoeCwgeSkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIHRoZSBYIGNvb3JkaW5hdGUgdG8gZHJhdyB0b1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gdGhlIFkgY29vcmRpbmF0ZSB0byBkcmF3IHRvXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIHB1YmxpYyBsaW5lVG8oeDogbnVtYmVyLCB5OiBudW1iZXIpOiB0aGlzXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMuY3VycmVudFBhdGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMubW92ZVRvKDAsIDApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmVtb3ZlIGR1cGxpY2F0ZXMuLlxuICAgICAgICBjb25zdCBwb2ludHMgPSB0aGlzLmN1cnJlbnRQYXRoLnBvaW50cztcbiAgICAgICAgY29uc3QgZnJvbVggPSBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDJdO1xuICAgICAgICBjb25zdCBmcm9tWSA9IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV07XG5cbiAgICAgICAgaWYgKGZyb21YICE9PSB4IHx8IGZyb21ZICE9PSB5KVxuICAgICAgICB7XG4gICAgICAgICAgICBwb2ludHMucHVzaCh4LCB5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgdGhlIGN1cnZlXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt4PTBdXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt5PTBdXG4gICAgICovXG4gICAgcHJvdGVjdGVkIF9pbml0Q3VydmUoeCA9IDAsIHkgPSAwKTogdm9pZFxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFBhdGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYXRoLnBvaW50cy5sZW5ndGggPT09IDApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGF0aC5wb2ludHMgPSBbeCwgeV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLm1vdmVUbyh4LCB5KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgcG9pbnRzIGZvciBhIHF1YWRyYXRpYyBiZXppZXIgY3VydmUgYW5kIHRoZW4gZHJhd3MgaXQuXG4gICAgICogQmFzZWQgb246IGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzc4NTA5Ny9ob3ctZG8taS1pbXBsZW1lbnQtYS1iZXppZXItY3VydmUtaW4tY1xuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWCAtIENvbnRyb2wgcG9pbnQgeFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFkgLSBDb250cm9sIHBvaW50IHlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9YIC0gRGVzdGluYXRpb24gcG9pbnQgeFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0b1kgLSBEZXN0aW5hdGlvbiBwb2ludCB5XG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIHB1YmxpYyBxdWFkcmF0aWNDdXJ2ZVRvKGNwWDogbnVtYmVyLCBjcFk6IG51bWJlciwgdG9YOiBudW1iZXIsIHRvWTogbnVtYmVyKTogdGhpc1xuICAgIHtcbiAgICAgICAgdGhpcy5faW5pdEN1cnZlKCk7XG5cbiAgICAgICAgY29uc3QgcG9pbnRzID0gdGhpcy5jdXJyZW50UGF0aC5wb2ludHM7XG5cbiAgICAgICAgaWYgKHBvaW50cy5sZW5ndGggPT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMubW92ZVRvKDAsIDApO1xuICAgICAgICB9XG5cbiAgICAgICAgUXVhZHJhdGljVXRpbHMuY3VydmVUbyhjcFgsIGNwWSwgdG9YLCB0b1ksIHBvaW50cyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBwb2ludHMgZm9yIGEgYmV6aWVyIGN1cnZlIGFuZCB0aGVuIGRyYXdzIGl0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWCAtIENvbnRyb2wgcG9pbnQgeFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFkgLSBDb250cm9sIHBvaW50IHlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BYMiAtIFNlY29uZCBDb250cm9sIHBvaW50IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BZMiAtIFNlY29uZCBDb250cm9sIHBvaW50IHlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9YIC0gRGVzdGluYXRpb24gcG9pbnQgeFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0b1kgLSBEZXN0aW5hdGlvbiBwb2ludCB5XG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIHB1YmxpYyBiZXppZXJDdXJ2ZVRvKGNwWDogbnVtYmVyLCBjcFk6IG51bWJlciwgY3BYMjogbnVtYmVyLCBjcFkyOiBudW1iZXIsIHRvWDogbnVtYmVyLCB0b1k6IG51bWJlcik6IHRoaXNcbiAgICB7XG4gICAgICAgIHRoaXMuX2luaXRDdXJ2ZSgpO1xuXG4gICAgICAgIEJlemllclV0aWxzLmN1cnZlVG8oY3BYLCBjcFksIGNwWDIsIGNwWTIsIHRvWCwgdG9ZLCB0aGlzLmN1cnJlbnRQYXRoLnBvaW50cyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGFyY1RvKCkgbWV0aG9kIGNyZWF0ZXMgYW4gYXJjL2N1cnZlIGJldHdlZW4gdHdvIHRhbmdlbnRzIG9uIHRoZSBjYW52YXMuXG4gICAgICpcbiAgICAgKiBcImJvcnJvd2VkXCIgZnJvbSBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Z4Y2FudmFzLyAtIHRoYW5rcyBnb29nbGUhXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geDEgLSBUaGUgeC1jb29yZGluYXRlIG9mIHRoZSBmaXJzdCB0YW5nZW50IHBvaW50IG9mIHRoZSBhcmNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geTEgLSBUaGUgeS1jb29yZGluYXRlIG9mIHRoZSBmaXJzdCB0YW5nZW50IHBvaW50IG9mIHRoZSBhcmNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geDIgLSBUaGUgeC1jb29yZGluYXRlIG9mIHRoZSBlbmQgb2YgdGhlIGFyY1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5MiAtIFRoZSB5LWNvb3JkaW5hdGUgb2YgdGhlIGVuZCBvZiB0aGUgYXJjXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJhZGl1cyAtIFRoZSByYWRpdXMgb2YgdGhlIGFyY1xuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBwdWJsaWMgYXJjVG8oeDE6IG51bWJlciwgeTE6IG51bWJlciwgeDI6IG51bWJlciwgeTI6IG51bWJlciwgcmFkaXVzOiBudW1iZXIpOiB0aGlzXG4gICAge1xuICAgICAgICB0aGlzLl9pbml0Q3VydmUoeDEsIHkxKTtcblxuICAgICAgICBjb25zdCBwb2ludHMgPSB0aGlzLmN1cnJlbnRQYXRoLnBvaW50cztcblxuICAgICAgICBjb25zdCByZXN1bHQgPSBBcmNVdGlscy5jdXJ2ZVRvKHgxLCB5MSwgeDIsIHkyLCByYWRpdXMsIHBvaW50cyk7XG5cbiAgICAgICAgaWYgKHJlc3VsdClcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgeyBjeCwgY3ksIHJhZGl1cywgc3RhcnRBbmdsZSwgZW5kQW5nbGUsIGFudGljbG9ja3dpc2UgfSA9IHJlc3VsdDtcblxuICAgICAgICAgICAgdGhpcy5hcmMoY3gsIGN5LCByYWRpdXMsIHN0YXJ0QW5nbGUsIGVuZEFuZ2xlLCBhbnRpY2xvY2t3aXNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBhcmMgbWV0aG9kIGNyZWF0ZXMgYW4gYXJjL2N1cnZlICh1c2VkIHRvIGNyZWF0ZSBjaXJjbGVzLCBvciBwYXJ0cyBvZiBjaXJjbGVzKS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjeCAtIFRoZSB4LWNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGUgY2lyY2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGN5IC0gVGhlIHktY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoZSBjaXJjbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzIC0gVGhlIHJhZGl1cyBvZiB0aGUgY2lyY2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0QW5nbGUgLSBUaGUgc3RhcnRpbmcgYW5nbGUsIGluIHJhZGlhbnMgKDAgaXMgYXQgdGhlIDMgbydjbG9jayBwb3NpdGlvblxuICAgICAqICBvZiB0aGUgYXJjJ3MgY2lyY2xlKVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmRBbmdsZSAtIFRoZSBlbmRpbmcgYW5nbGUsIGluIHJhZGlhbnNcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFthbnRpY2xvY2t3aXNlPWZhbHNlXSAtIFNwZWNpZmllcyB3aGV0aGVyIHRoZSBkcmF3aW5nIHNob3VsZCBiZVxuICAgICAqICBjb3VudGVyLWNsb2Nrd2lzZSBvciBjbG9ja3dpc2UuIEZhbHNlIGlzIGRlZmF1bHQsIGFuZCBpbmRpY2F0ZXMgY2xvY2t3aXNlLCB3aGlsZSB0cnVlXG4gICAgICogIGluZGljYXRlcyBjb3VudGVyLWNsb2Nrd2lzZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgcHVibGljIGFyYyhjeDogbnVtYmVyLCBjeTogbnVtYmVyLCByYWRpdXM6IG51bWJlciwgc3RhcnRBbmdsZTogbnVtYmVyLCBlbmRBbmdsZTogbnVtYmVyLCBhbnRpY2xvY2t3aXNlID0gZmFsc2UpOiB0aGlzXG4gICAge1xuICAgICAgICBpZiAoc3RhcnRBbmdsZSA9PT0gZW5kQW5nbGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFhbnRpY2xvY2t3aXNlICYmIGVuZEFuZ2xlIDw9IHN0YXJ0QW5nbGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGVuZEFuZ2xlICs9IFBJXzI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYW50aWNsb2Nrd2lzZSAmJiBzdGFydEFuZ2xlIDw9IGVuZEFuZ2xlKVxuICAgICAgICB7XG4gICAgICAgICAgICBzdGFydEFuZ2xlICs9IFBJXzI7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzd2VlcCA9IGVuZEFuZ2xlIC0gc3RhcnRBbmdsZTtcblxuICAgICAgICBpZiAoc3dlZXAgPT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc3RhcnRYID0gY3ggKyAoTWF0aC5jb3Moc3RhcnRBbmdsZSkgKiByYWRpdXMpO1xuICAgICAgICBjb25zdCBzdGFydFkgPSBjeSArIChNYXRoLnNpbihzdGFydEFuZ2xlKSAqIHJhZGl1cyk7XG4gICAgICAgIGNvbnN0IGVwcyA9IHRoaXMuX2dlb21ldHJ5LmNsb3NlUG9pbnRFcHM7XG5cbiAgICAgICAgLy8gSWYgdGhlIGN1cnJlbnRQYXRoIGV4aXN0cywgdGFrZSBpdHMgcG9pbnRzLiBPdGhlcndpc2UgY2FsbCBgbW92ZVRvYCB0byBzdGFydCBhIHBhdGguXG4gICAgICAgIGxldCBwb2ludHMgPSB0aGlzLmN1cnJlbnRQYXRoID8gdGhpcy5jdXJyZW50UGF0aC5wb2ludHMgOiBudWxsO1xuXG4gICAgICAgIGlmIChwb2ludHMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIFRPRE86IG1ha2UgYSBiZXR0ZXIgZml4LlxuXG4gICAgICAgICAgICAvLyBXZSBjaGVjayBob3cgZmFyIG91ciBzdGFydCBpcyBmcm9tIHRoZSBsYXN0IGV4aXN0aW5nIHBvaW50XG4gICAgICAgICAgICBjb25zdCB4RGlmZiA9IE1hdGguYWJzKHBvaW50c1twb2ludHMubGVuZ3RoIC0gMl0gLSBzdGFydFgpO1xuICAgICAgICAgICAgY29uc3QgeURpZmYgPSBNYXRoLmFicyhwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDFdIC0gc3RhcnRZKTtcblxuICAgICAgICAgICAgaWYgKHhEaWZmIDwgZXBzICYmIHlEaWZmIDwgZXBzKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIElmIHRoZSBwb2ludCBpcyB2ZXJ5IGNsb3NlLCB3ZSBkb24ndCBhZGQgaXQsIHNpbmNlIHRoaXMgd291bGQgbGVhZCB0byBhcnRpZmFjdHNcbiAgICAgICAgICAgICAgICAvLyBkdXJpbmcgdGVzc2VsbGF0aW9uIGR1ZSB0byBmbG9hdGluZyBwb2ludCBpbXByZWNpc2lvbi5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBwb2ludHMucHVzaChzdGFydFgsIHN0YXJ0WSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLm1vdmVUbyhzdGFydFgsIHN0YXJ0WSk7XG4gICAgICAgICAgICBwb2ludHMgPSB0aGlzLmN1cnJlbnRQYXRoLnBvaW50cztcbiAgICAgICAgfVxuXG4gICAgICAgIEFyY1V0aWxzLmFyYyhzdGFydFgsIHN0YXJ0WSwgY3gsIGN5LCByYWRpdXMsIHN0YXJ0QW5nbGUsIGVuZEFuZ2xlLCBhbnRpY2xvY2t3aXNlLCBwb2ludHMpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNwZWNpZmllcyBhIHNpbXBsZSBvbmUtY29sb3IgZmlsbCB0aGF0IHN1YnNlcXVlbnQgY2FsbHMgdG8gb3RoZXIgR3JhcGhpY3MgbWV0aG9kc1xuICAgICAqIChzdWNoIGFzIGxpbmVUbygpIG9yIGRyYXdDaXJjbGUoKSkgdXNlIHdoZW4gZHJhd2luZy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbY29sb3I9MF0gLSB0aGUgY29sb3Igb2YgdGhlIGZpbGxcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FscGhhPTFdIC0gdGhlIGFscGhhIG9mIHRoZSBmaWxsXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIHB1YmxpYyBiZWdpbkZpbGwoY29sb3IgPSAwLCBhbHBoYSA9IDEpOiB0aGlzXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5iZWdpblRleHR1cmVGaWxsKHsgdGV4dHVyZTogVGV4dHVyZS5XSElURSwgY29sb3IsIGFscGhhIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEJlZ2luIHRoZSB0ZXh0dXJlIGZpbGxcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBPYmplY3Qgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSBbb3B0aW9ucy50ZXh0dXJlPVBJWEkuVGV4dHVyZS5XSElURV0gLSBUZXh0dXJlIHRvIGZpbGxcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuY29sb3I9MHhmZmZmZmZdIC0gQmFja2dyb3VuZCB0byBmaWxsIGJlaGluZCB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmFscGhhPTFdIC0gQWxwaGEgb2YgZmlsbFxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IFtvcHRpb25zLm1hdHJpeD1udWxsXSAtIFRyYW5zZm9ybSBtYXRyaXhcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgYmVnaW5UZXh0dXJlRmlsbChvcHRpb25zOiBJRmlsbFN0eWxlT3B0aW9ucyk6IHRoaXNcbiAgICB7XG4gICAgICAgIC8vIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkgd2l0aCBwYXJhbXM6ICh0ZXh0dXJlLCBjb2xvciwgYWxwaGEsIG1hdHJpeClcbiAgICAgICAgaWYgKG9wdGlvbnMgaW5zdGFuY2VvZiBUZXh0dXJlKVxuICAgICAgICB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbigndjUuMi4wJywgJ1BsZWFzZSB1c2Ugb2JqZWN0LWJhc2VkIG9wdGlvbnMgZm9yIEdyYXBoaWNzI2JlZ2luVGV4dHVyZUZpbGwnKTtcblxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICAgICAgICBjb25zdCBbdGV4dHVyZSwgY29sb3IsIGFscGhhLCBtYXRyaXhdID0gYXJndW1lbnRzIGFzIGFueTtcblxuICAgICAgICAgICAgb3B0aW9ucyA9IHsgdGV4dHVyZSwgY29sb3IsIGFscGhhLCBtYXRyaXggfTtcblxuICAgICAgICAgICAgLy8gUmVtb3ZlIHVuZGVmaW5lZCBrZXlzXG4gICAgICAgICAgICBPYmplY3Qua2V5cyhvcHRpb25zKS5mb3JFYWNoKChrZXkpID0+IChvcHRpb25zIGFzIGFueSlba2V5XSA9PT0gdW5kZWZpbmVkICYmIGRlbGV0ZSAob3B0aW9ucyBhcyBhbnkpW2tleV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQXBwbHkgZGVmYXVsdHNcbiAgICAgICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgdGV4dHVyZTogVGV4dHVyZS5XSElURSxcbiAgICAgICAgICAgIGNvbG9yOiAweEZGRkZGRixcbiAgICAgICAgICAgIGFscGhhOiAxLFxuICAgICAgICAgICAgbWF0cml4OiBudWxsLFxuICAgICAgICB9LCBvcHRpb25zKSBhcyBJRmlsbFN0eWxlT3B0aW9ucztcblxuICAgICAgICBpZiAodGhpcy5jdXJyZW50UGF0aClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5zdGFydFBvbHkoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHZpc2libGUgPSBvcHRpb25zLmFscGhhID4gMDtcblxuICAgICAgICBpZiAoIXZpc2libGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2ZpbGxTdHlsZS5yZXNldCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMubWF0cml4KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMubWF0cml4ID0gb3B0aW9ucy5tYXRyaXguY2xvbmUoKTtcbiAgICAgICAgICAgICAgICBvcHRpb25zLm1hdHJpeC5pbnZlcnQoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLl9maWxsU3R5bGUsIHsgdmlzaWJsZSB9LCBvcHRpb25zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgYSBmaWxsIHRvIHRoZSBsaW5lcyBhbmQgc2hhcGVzIHRoYXQgd2VyZSBhZGRlZCBzaW5jZSB0aGUgbGFzdCBjYWxsIHRvIHRoZSBiZWdpbkZpbGwoKSBtZXRob2QuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgcHVibGljIGVuZEZpbGwoKTogdGhpc1xuICAgIHtcbiAgICAgICAgdGhpcy5maW5pc2hQb2x5KCk7XG5cbiAgICAgICAgdGhpcy5fZmlsbFN0eWxlLnJlc2V0KCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRHJhd3MgYSByZWN0YW5nbGUgc2hhcGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFRoZSBYIGNvb3JkIG9mIHRoZSB0b3AtbGVmdCBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZCBvZiB0aGUgdG9wLWxlZnQgb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIFRoZSB3aWR0aCBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIFRoZSBoZWlnaHQgb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBwdWJsaWMgZHJhd1JlY3QoeDogbnVtYmVyLCB5OiBudW1iZXIsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKTogdGhpc1xuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZHJhd1NoYXBlKG5ldyBSZWN0YW5nbGUoeCwgeSwgd2lkdGgsIGhlaWdodCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERyYXcgYSByZWN0YW5nbGUgc2hhcGUgd2l0aCByb3VuZGVkL2JldmVsZWQgY29ybmVycy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gVGhlIFggY29vcmQgb2YgdGhlIHRvcC1sZWZ0IG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIFRoZSBZIGNvb3JkIG9mIHRoZSB0b3AtbGVmdCBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gVGhlIHdpZHRoIG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gVGhlIGhlaWdodCBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJhZGl1cyAtIFJhZGl1cyBvZiB0aGUgcmVjdGFuZ2xlIGNvcm5lcnNcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgcHVibGljIGRyYXdSb3VuZGVkUmVjdCh4OiBudW1iZXIsIHk6IG51bWJlciwgd2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIsIHJhZGl1czogbnVtYmVyKTogdGhpc1xuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZHJhd1NoYXBlKG5ldyBSb3VuZGVkUmVjdGFuZ2xlKHgsIHksIHdpZHRoLCBoZWlnaHQsIHJhZGl1cykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERyYXdzIGEgY2lyY2xlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhlIGNpcmNsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gVGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoZSBjaXJjbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzIC0gVGhlIHJhZGl1cyBvZiB0aGUgY2lyY2xlXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIHB1YmxpYyBkcmF3Q2lyY2xlKHg6IG51bWJlciwgeTogbnVtYmVyLCByYWRpdXM6IG51bWJlcik6IHRoaXNcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmRyYXdTaGFwZShuZXcgQ2lyY2xlKHgsIHksIHJhZGl1cykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERyYXdzIGFuIGVsbGlwc2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGUgZWxsaXBzZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gVGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoZSBlbGxpcHNlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gVGhlIGhhbGYgd2lkdGggb2YgdGhlIGVsbGlwc2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gVGhlIGhhbGYgaGVpZ2h0IG9mIHRoZSBlbGxpcHNlXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIHB1YmxpYyBkcmF3RWxsaXBzZSh4OiBudW1iZXIsIHk6IG51bWJlciwgd2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpOiB0aGlzXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5kcmF3U2hhcGUobmV3IEVsbGlwc2UoeCwgeSwgd2lkdGgsIGhlaWdodCkpO1xuICAgIH1cblxuICAgIHB1YmxpYyBkcmF3UG9seWdvbiguLi5wYXRoOiBBcnJheTxudW1iZXI+IHwgQXJyYXk8UG9pbnQ+KTogdGhpc1xuICAgIHB1YmxpYyBkcmF3UG9seWdvbihwYXRoOiBBcnJheTxudW1iZXI+IHwgQXJyYXk8UG9pbnQ+IHwgUG9seWdvbik6IHRoaXNcblxuICAgIC8qKlxuICAgICAqIERyYXdzIGEgcG9seWdvbiB1c2luZyB0aGUgZ2l2ZW4gcGF0aC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyW118UElYSS5Qb2ludFtdfFBJWEkuUG9seWdvbn0gcGF0aCAtIFRoZSBwYXRoIGRhdGEgdXNlZCB0byBjb25zdHJ1Y3QgdGhlIHBvbHlnb24uXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIHB1YmxpYyBkcmF3UG9seWdvbiguLi5wYXRoOiBhbnlbXSk6IHRoaXNcbiAgICB7XG4gICAgICAgIGxldCBwb2ludHM6IEFycmF5PG51bWJlcj4gfCBBcnJheTxQb2ludD47XG4gICAgICAgIGxldCBjbG9zZVN0cm9rZSA9IHRydWU7Ly8gISF0aGlzLl9maWxsU3R5bGU7XG5cbiAgICAgICAgY29uc3QgcG9seSA9IHBhdGhbMF0gYXMgUG9seWdvbjtcblxuICAgICAgICAvLyBjaGVjayBpZiBkYXRhIGhhcyBwb2ludHMuLlxuICAgICAgICBpZiAocG9seS5wb2ludHMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNsb3NlU3Ryb2tlID0gcG9seS5jbG9zZVN0cm9rZTtcbiAgICAgICAgICAgIHBvaW50cyA9IHBvbHkucG9pbnRzO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocGF0aFswXSkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHBvaW50cyA9IHBhdGhbMF07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBwb2ludHMgPSBwYXRoO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc2hhcGUgPSBuZXcgUG9seWdvbihwb2ludHMpO1xuXG4gICAgICAgIHNoYXBlLmNsb3NlU3Ryb2tlID0gY2xvc2VTdHJva2U7XG5cbiAgICAgICAgdGhpcy5kcmF3U2hhcGUoc2hhcGUpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERyYXcgYW55IHNoYXBlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkNpcmNsZXxQSVhJLkVsbGlwc2V8UElYSS5Qb2x5Z29ufFBJWEkuUmVjdGFuZ2xlfFBJWEkuUm91bmRlZFJlY3RhbmdsZX0gc2hhcGUgLSBTaGFwZSB0byBkcmF3XG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIHB1YmxpYyBkcmF3U2hhcGUoc2hhcGU6IElTaGFwZSk6IHRoaXNcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5faG9sZU1vZGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2dlb21ldHJ5LmRyYXdTaGFwZShcbiAgICAgICAgICAgICAgICBzaGFwZSxcbiAgICAgICAgICAgICAgICB0aGlzLl9maWxsU3R5bGUuY2xvbmUoKSxcbiAgICAgICAgICAgICAgICB0aGlzLl9saW5lU3R5bGUuY2xvbmUoKSxcbiAgICAgICAgICAgICAgICB0aGlzLl9tYXRyaXhcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9nZW9tZXRyeS5kcmF3SG9sZShzaGFwZSwgdGhpcy5fbWF0cml4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERyYXcgYSBzdGFyIHNoYXBlIHdpdGggYW4gYXJiaXRyYXJ5IG51bWJlciBvZiBwb2ludHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIENlbnRlciBYIHBvc2l0aW9uIG9mIHRoZSBzdGFyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBDZW50ZXIgWSBwb3NpdGlvbiBvZiB0aGUgc3RhclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwb2ludHMgLSBUaGUgbnVtYmVyIG9mIHBvaW50cyBvZiB0aGUgc3RhciwgbXVzdCBiZSA+IDFcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzIC0gVGhlIG91dGVyIHJhZGl1cyBvZiB0aGUgc3RhclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbaW5uZXJSYWRpdXNdIC0gVGhlIGlubmVyIHJhZGl1cyBiZXR3ZWVuIHBvaW50cywgZGVmYXVsdCBoYWxmIGByYWRpdXNgXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyb3RhdGlvbj0wXSAtIFRoZSByb3RhdGlvbiBvZiB0aGUgc3RhciBpbiByYWRpYW5zLCB3aGVyZSAwIGlzIHZlcnRpY2FsXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIHB1YmxpYyBkcmF3U3Rhcih4OiBudW1iZXIsIHk6IG51bWJlciwgcG9pbnRzOiBudW1iZXIsIHJhZGl1czogbnVtYmVyLCBpbm5lclJhZGl1czogbnVtYmVyLCByb3RhdGlvbiA9IDApOiB0aGlzXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5kcmF3UG9seWdvbihuZXcgU3Rhcih4LCB5LCBwb2ludHMsIHJhZGl1cywgaW5uZXJSYWRpdXMsIHJvdGF0aW9uKSBhcyBQb2x5Z29uKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDbGVhcnMgdGhlIGdyYXBoaWNzIHRoYXQgd2VyZSBkcmF3biB0byB0aGlzIEdyYXBoaWNzIG9iamVjdCwgYW5kIHJlc2V0cyBmaWxsIGFuZCBsaW5lIHN0eWxlIHNldHRpbmdzLlxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIHB1YmxpYyBjbGVhcigpOiB0aGlzXG4gICAge1xuICAgICAgICB0aGlzLl9nZW9tZXRyeS5jbGVhcigpO1xuICAgICAgICB0aGlzLl9saW5lU3R5bGUucmVzZXQoKTtcbiAgICAgICAgdGhpcy5fZmlsbFN0eWxlLnJlc2V0KCk7XG5cbiAgICAgICAgdGhpcy5fYm91bmRzSUQrKztcbiAgICAgICAgdGhpcy5fbWF0cml4ID0gbnVsbDtcbiAgICAgICAgdGhpcy5faG9sZU1vZGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jdXJyZW50UGF0aCA9IG51bGw7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVHJ1ZSBpZiBncmFwaGljcyBjb25zaXN0cyBvZiBvbmUgcmVjdGFuZ2xlLCBhbmQgdGh1cywgY2FuIGJlIGRyYXduIGxpa2UgYSBTcHJpdGUgYW5kXG4gICAgICogbWFza2VkIHdpdGggZ2wuc2Npc3Nvci5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIG9ubHkgMSByZWN0LlxuICAgICAqL1xuICAgIHB1YmxpYyBpc0Zhc3RSZWN0KCk6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLl9nZW9tZXRyeS5ncmFwaGljc0RhdGE7XG5cbiAgICAgICAgcmV0dXJuIGRhdGEubGVuZ3RoID09PSAxXG4gICAgICAgICAgICAmJiBkYXRhWzBdLnNoYXBlLnR5cGUgPT09IFNIQVBFUy5SRUNUXG4gICAgICAgICAgICAmJiAhKGRhdGFbMF0ubGluZVN0eWxlLnZpc2libGUgJiYgZGF0YVswXS5saW5lU3R5bGUud2lkdGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIG9iamVjdCB1c2luZyB0aGUgV2ViR0wgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyXG4gICAgICovXG4gICAgcHJvdGVjdGVkIF9yZW5kZXIocmVuZGVyZXI6IFJlbmRlcmVyKTogdm9pZFxuICAgIHtcbiAgICAgICAgdGhpcy5maW5pc2hQb2x5KCk7XG5cbiAgICAgICAgY29uc3QgZ2VvbWV0cnkgPSB0aGlzLl9nZW9tZXRyeTtcbiAgICAgICAgY29uc3QgaGFzdWludDMyID0gcmVuZGVyZXIuY29udGV4dC5zdXBwb3J0cy51aW50MzJJbmRpY2VzO1xuICAgICAgICAvLyBiYXRjaCBwYXJ0Li5cbiAgICAgICAgLy8gYmF0Y2ggaXQhXG5cbiAgICAgICAgZ2VvbWV0cnkudXBkYXRlQmF0Y2hlcyhoYXN1aW50MzIpO1xuXG4gICAgICAgIGlmIChnZW9tZXRyeS5iYXRjaGFibGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmJhdGNoRGlydHkgIT09IGdlb21ldHJ5LmJhdGNoRGlydHkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcG9wdWxhdGVCYXRjaGVzKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX3JlbmRlckJhdGNoZWQocmVuZGVyZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gbm8gYmF0Y2hpbmcuLi5cbiAgICAgICAgICAgIHJlbmRlcmVyLmJhdGNoLmZsdXNoKCk7XG5cbiAgICAgICAgICAgIHRoaXMuX3JlbmRlckRpcmVjdChyZW5kZXJlcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQb3B1bGF0aW5nIGJhdGNoZXMgZm9yIHJlbmRlcmluZ1xuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIHByb3RlY3RlZCBfcG9wdWxhdGVCYXRjaGVzKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIGNvbnN0IGdlb21ldHJ5ID0gdGhpcy5fZ2VvbWV0cnk7XG4gICAgICAgIGNvbnN0IGJsZW5kTW9kZSA9IHRoaXMuYmxlbmRNb2RlO1xuICAgICAgICBjb25zdCBsZW4gPSBnZW9tZXRyeS5iYXRjaGVzLmxlbmd0aDtcblxuICAgICAgICB0aGlzLmJhdGNoVGludCA9IC0xO1xuICAgICAgICB0aGlzLl90cmFuc2Zvcm1JRCA9IC0xO1xuICAgICAgICB0aGlzLmJhdGNoRGlydHkgPSBnZW9tZXRyeS5iYXRjaERpcnR5O1xuICAgICAgICB0aGlzLmJhdGNoZXMubGVuZ3RoID0gbGVuO1xuXG4gICAgICAgIHRoaXMudmVydGV4RGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkoZ2VvbWV0cnkucG9pbnRzKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBnSSA9IGdlb21ldHJ5LmJhdGNoZXNbaV07XG4gICAgICAgICAgICBjb25zdCBjb2xvciA9IGdJLnN0eWxlLmNvbG9yO1xuICAgICAgICAgICAgY29uc3QgdmVydGV4RGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkodGhpcy52ZXJ0ZXhEYXRhLmJ1ZmZlcixcbiAgICAgICAgICAgICAgICBnSS5hdHRyaWJTdGFydCAqIDQgKiAyLFxuICAgICAgICAgICAgICAgIGdJLmF0dHJpYlNpemUgKiAyKTtcblxuICAgICAgICAgICAgY29uc3QgdXZzID0gbmV3IEZsb2F0MzJBcnJheShnZW9tZXRyeS51dnNGbG9hdDMyLmJ1ZmZlcixcbiAgICAgICAgICAgICAgICBnSS5hdHRyaWJTdGFydCAqIDQgKiAyLFxuICAgICAgICAgICAgICAgIGdJLmF0dHJpYlNpemUgKiAyKTtcblxuICAgICAgICAgICAgY29uc3QgaW5kaWNlcyA9IG5ldyBVaW50MTZBcnJheShnZW9tZXRyeS5pbmRpY2VzVWludDE2LmJ1ZmZlcixcbiAgICAgICAgICAgICAgICBnSS5zdGFydCAqIDIsXG4gICAgICAgICAgICAgICAgZ0kuc2l6ZSk7XG5cbiAgICAgICAgICAgIGNvbnN0IGJhdGNoID0ge1xuICAgICAgICAgICAgICAgIHZlcnRleERhdGEsXG4gICAgICAgICAgICAgICAgYmxlbmRNb2RlLFxuICAgICAgICAgICAgICAgIGluZGljZXMsXG4gICAgICAgICAgICAgICAgdXZzLFxuICAgICAgICAgICAgICAgIF9iYXRjaFJHQjogaGV4MnJnYihjb2xvcikgYXMgQXJyYXk8bnVtYmVyPixcbiAgICAgICAgICAgICAgICBfdGludFJHQjogY29sb3IsXG4gICAgICAgICAgICAgICAgX3RleHR1cmU6IGdJLnN0eWxlLnRleHR1cmUsXG4gICAgICAgICAgICAgICAgYWxwaGE6IGdJLnN0eWxlLmFscGhhLFxuICAgICAgICAgICAgICAgIHdvcmxkQWxwaGE6IDEgfTtcblxuICAgICAgICAgICAgdGhpcy5iYXRjaGVzW2ldID0gYmF0Y2g7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBiYXRjaGVzIHVzaW5nIHRoZSBCYXRoZWRSZW5kZXJlciBwbHVnaW5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyXG4gICAgICovXG4gICAgcHJvdGVjdGVkIF9yZW5kZXJCYXRjaGVkKHJlbmRlcmVyOiBSZW5kZXJlcik6IHZvaWRcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5iYXRjaGVzLmxlbmd0aClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVuZGVyZXIuYmF0Y2guc2V0T2JqZWN0UmVuZGVyZXIocmVuZGVyZXIucGx1Z2luc1t0aGlzLnBsdWdpbk5hbWVdKTtcblxuICAgICAgICB0aGlzLmNhbGN1bGF0ZVZlcnRpY2VzKCk7XG4gICAgICAgIHRoaXMuY2FsY3VsYXRlVGludHMoKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMCwgbCA9IHRoaXMuYmF0Y2hlcy5sZW5ndGg7IGkgPCBsOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGJhdGNoID0gdGhpcy5iYXRjaGVzW2ldO1xuXG4gICAgICAgICAgICBiYXRjaC53b3JsZEFscGhhID0gdGhpcy53b3JsZEFscGhhICogYmF0Y2guYWxwaGE7XG5cbiAgICAgICAgICAgIHJlbmRlcmVyLnBsdWdpbnNbdGhpcy5wbHVnaW5OYW1lXS5yZW5kZXIoYmF0Y2gpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgZ3JhcGhpY3MgZGlyZWN0XG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuICAgIHByb3RlY3RlZCBfcmVuZGVyRGlyZWN0KHJlbmRlcmVyOiBSZW5kZXJlcik6IHZvaWRcbiAgICB7XG4gICAgICAgIGNvbnN0IHNoYWRlciA9IHRoaXMuX3Jlc29sdmVEaXJlY3RTaGFkZXIocmVuZGVyZXIpO1xuXG4gICAgICAgIGNvbnN0IGdlb21ldHJ5ID0gdGhpcy5fZ2VvbWV0cnk7XG4gICAgICAgIGNvbnN0IHRpbnQgPSB0aGlzLnRpbnQ7XG4gICAgICAgIGNvbnN0IHdvcmxkQWxwaGEgPSB0aGlzLndvcmxkQWxwaGE7XG4gICAgICAgIGNvbnN0IHVuaWZvcm1zID0gc2hhZGVyLnVuaWZvcm1zO1xuICAgICAgICBjb25zdCBkcmF3Q2FsbHMgPSBnZW9tZXRyeS5kcmF3Q2FsbHM7XG5cbiAgICAgICAgLy8gbGV0cyBzZXQgdGhlIHRyYW5zZm9tclxuICAgICAgICB1bmlmb3Jtcy50cmFuc2xhdGlvbk1hdHJpeCA9IHRoaXMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuXG4gICAgICAgIC8vIGFuZCB0aGVuIGxldHMgc2V0IHRoZSB0aW50Li5cbiAgICAgICAgdW5pZm9ybXMudGludFswXSA9ICgoKHRpbnQgPj4gMTYpICYgMHhGRikgLyAyNTUpICogd29ybGRBbHBoYTtcbiAgICAgICAgdW5pZm9ybXMudGludFsxXSA9ICgoKHRpbnQgPj4gOCkgJiAweEZGKSAvIDI1NSkgKiB3b3JsZEFscGhhO1xuICAgICAgICB1bmlmb3Jtcy50aW50WzJdID0gKCh0aW50ICYgMHhGRikgLyAyNTUpICogd29ybGRBbHBoYTtcbiAgICAgICAgdW5pZm9ybXMudGludFszXSA9IHdvcmxkQWxwaGE7XG5cbiAgICAgICAgLy8gdGhlIGZpcnN0IGRyYXcgY2FsbCwgd2UgY2FuIHNldCB0aGUgdW5pZm9ybXMgb2YgdGhlIHNoYWRlciBkaXJlY3RseSBoZXJlLlxuXG4gICAgICAgIC8vIHRoaXMgbWVhbnMgdGhhdCB3ZSBjYW4gdGFjayBhZHZhbnRhZ2Ugb2YgdGhlIHN5bmMgZnVuY3Rpb24gb2YgcGl4aSFcbiAgICAgICAgLy8gYmluZCBhbmQgc3luYyB1bmlmb3Jtcy4uXG4gICAgICAgIC8vIHRoZXJlIGlzIGEgd2F5IHRvIG9wdGltaXNlIHRoaXMuLlxuICAgICAgICByZW5kZXJlci5zaGFkZXIuYmluZChzaGFkZXIpO1xuICAgICAgICByZW5kZXJlci5nZW9tZXRyeS5iaW5kKGdlb21ldHJ5LCBzaGFkZXIpO1xuXG4gICAgICAgIC8vIHNldCBzdGF0ZS4uXG4gICAgICAgIHJlbmRlcmVyLnN0YXRlLnNldCh0aGlzLnN0YXRlKTtcblxuICAgICAgICAvLyB0aGVuIHJlbmRlciB0aGUgcmVzdCBvZiB0aGVtLi4uXG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gZHJhd0NhbGxzLmxlbmd0aDsgaSA8IGw7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fcmVuZGVyRHJhd0NhbGxEaXJlY3QocmVuZGVyZXIsIGdlb21ldHJ5LmRyYXdDYWxsc1tpXSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHNwZWNpZmljIERyYXdDYWxsXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyXG4gICAgICogQHBhcmFtIHtQSVhJLkJhdGNoRHJhd0NhbGx9IGRyYXdDYWxsXG4gICAgICovXG4gICAgcHJvdGVjdGVkIF9yZW5kZXJEcmF3Q2FsbERpcmVjdChyZW5kZXJlcjogUmVuZGVyZXIsIGRyYXdDYWxsOiBCYXRjaERyYXdDYWxsKTogdm9pZFxuICAgIHtcbiAgICAgICAgY29uc3QgeyB0ZXhBcnJheSwgdHlwZSwgc2l6ZSwgc3RhcnQgfSA9IGRyYXdDYWxsO1xuICAgICAgICBjb25zdCBncm91cFRleHR1cmVDb3VudCA9IHRleEFycmF5LmNvdW50O1xuXG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgZ3JvdXBUZXh0dXJlQ291bnQ7IGorKylcbiAgICAgICAge1xuICAgICAgICAgICAgcmVuZGVyZXIudGV4dHVyZS5iaW5kKHRleEFycmF5LmVsZW1lbnRzW2pdLCBqKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlbmRlcmVyLmdlb21ldHJ5LmRyYXcodHlwZSwgc2l6ZSwgc3RhcnQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlc29sdmVzIHNoYWRlciBmb3IgZGlyZWN0IHJlbmRlcmluZ1xuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgX3Jlc29sdmVEaXJlY3RTaGFkZXIocmVuZGVyZXI6IFJlbmRlcmVyKTogU2hhZGVyXG4gICAge1xuICAgICAgICBsZXQgc2hhZGVyID0gdGhpcy5zaGFkZXI7XG5cbiAgICAgICAgY29uc3QgcGx1Z2luTmFtZSA9IHRoaXMucGx1Z2luTmFtZTtcblxuICAgICAgICBpZiAoIXNoYWRlcilcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gaWYgdGhlcmUgaXMgbm8gc2hhZGVyIGhlcmUsIHdlIGNhbiB1c2UgdGhlIGRlZmF1bHQgc2hhZGVyLlxuICAgICAgICAgICAgLy8gYW5kIHRoYXQgb25seSBnZXRzIGNyZWF0ZWQgaWYgd2UgYWN0dWFsbHkgbmVlZCBpdC4uXG4gICAgICAgICAgICAvLyBidXQgbWF5IGJlIG1vcmUgdGhhbiBvbmUgcGx1Z2lucyBmb3IgZ3JhcGhpY3NcbiAgICAgICAgICAgIGlmICghREVGQVVMVF9TSEFERVJTW3BsdWdpbk5hbWVdKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IE1BWF9URVhUVVJFUyA9IHJlbmRlcmVyLnBsdWdpbnMuYmF0Y2guTUFYX1RFWFRVUkVTO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNhbXBsZVZhbHVlcyA9IG5ldyBJbnQzMkFycmF5KE1BWF9URVhUVVJFUyk7XG5cbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IE1BWF9URVhUVVJFUzsgaSsrKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgc2FtcGxlVmFsdWVzW2ldID0gaTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCB1bmlmb3JtcyA9IHtcbiAgICAgICAgICAgICAgICAgICAgdGludDogbmV3IEZsb2F0MzJBcnJheShbMSwgMSwgMSwgMV0pLFxuICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGlvbk1hdHJpeDogbmV3IE1hdHJpeCgpLFxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBVbmlmb3JtR3JvdXAuZnJvbSh7IHVTYW1wbGVyczogc2FtcGxlVmFsdWVzIH0sIHRydWUpLFxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBjb25zdCBwcm9ncmFtID0gcmVuZGVyZXIucGx1Z2luc1twbHVnaW5OYW1lXS5fc2hhZGVyLnByb2dyYW07XG5cbiAgICAgICAgICAgICAgICBERUZBVUxUX1NIQURFUlNbcGx1Z2luTmFtZV0gPSBuZXcgU2hhZGVyKHByb2dyYW0sIHVuaWZvcm1zKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2hhZGVyID0gREVGQVVMVF9TSEFERVJTW3BsdWdpbk5hbWVdO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNoYWRlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgdGhlIGJvdW5kcyBvZiB0aGUgZ3JhcGhpYyBzaGFwZSBhcyBhIHJlY3RhbmdsZSBvYmplY3RcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgX2NhbGN1bGF0ZUJvdW5kcygpOiB2b2lkXG4gICAge1xuICAgICAgICB0aGlzLmZpbmlzaFBvbHkoKTtcblxuICAgICAgICBjb25zdCBnZW9tZXRyeSA9IHRoaXMuX2dlb21ldHJ5O1xuXG4gICAgICAgIC8vIHNraXBwaW5nIHdoZW4gZ3JhcGhpY3MgaXMgZW1wdHksIGxpa2UgYSBjb250YWluZXJcbiAgICAgICAgaWYgKCFnZW9tZXRyeS5ncmFwaGljc0RhdGEubGVuZ3RoKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7IG1pblgsIG1pblksIG1heFgsIG1heFkgfSA9IGdlb21ldHJ5LmJvdW5kcztcblxuICAgICAgICB0aGlzLl9ib3VuZHMuYWRkRnJhbWUodGhpcy50cmFuc2Zvcm0sIG1pblgsIG1pblksIG1heFgsIG1heFkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRlc3RzIGlmIGEgcG9pbnQgaXMgaW5zaWRlIHRoaXMgZ3JhcGhpY3Mgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuSVBvaW50RGF0YX0gcG9pbnQgLSB0aGUgcG9pbnQgdG8gdGVzdFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IHRoZSByZXN1bHQgb2YgdGhlIHRlc3RcbiAgICAgKi9cbiAgICBwdWJsaWMgY29udGFpbnNQb2ludChwb2ludDogSVBvaW50RGF0YSk6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIHRoaXMud29ybGRUcmFuc2Zvcm0uYXBwbHlJbnZlcnNlKHBvaW50LCBHcmFwaGljcy5fVEVNUF9QT0lOVCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2dlb21ldHJ5LmNvbnRhaW5zUG9pbnQoR3JhcGhpY3MuX1RFTVBfUE9JTlQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlY2FsY3VhdGUgdGhlIHRpbnQgYnkgYXBwbHlpbmcgdGluIHRvIGJhdGNoZXMgdXNpbmcgR3JhcGhpY3MgdGludC5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGNhbGN1bGF0ZVRpbnRzKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmJhdGNoVGludCAhPT0gdGhpcy50aW50KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmJhdGNoVGludCA9IHRoaXMudGludDtcblxuICAgICAgICAgICAgY29uc3QgdGludFJHQiA9IGhleDJyZ2IodGhpcy50aW50LCB0ZW1wKTtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmJhdGNoZXMubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgYmF0Y2ggPSB0aGlzLmJhdGNoZXNbaV07XG5cbiAgICAgICAgICAgICAgICBjb25zdCBiYXRjaFRpbnQgPSBiYXRjaC5fYmF0Y2hSR0I7XG5cbiAgICAgICAgICAgICAgICBjb25zdCByID0gKHRpbnRSR0JbMF0gKiBiYXRjaFRpbnRbMF0pICogMjU1O1xuICAgICAgICAgICAgICAgIGNvbnN0IGcgPSAodGludFJHQlsxXSAqIGJhdGNoVGludFsxXSkgKiAyNTU7XG4gICAgICAgICAgICAgICAgY29uc3QgYiA9ICh0aW50UkdCWzJdICogYmF0Y2hUaW50WzJdKSAqIDI1NTtcblxuICAgICAgICAgICAgICAgIC8vIFRPRE8gSXZhbiwgY2FuIHRoaXMgYmUgZG9uZSBpbiBvbmUgZ28/XG4gICAgICAgICAgICAgICAgY29uc3QgY29sb3IgPSAociA8PCAxNikgKyAoZyA8PCA4KSArIChiIHwgMCk7XG5cbiAgICAgICAgICAgICAgICBiYXRjaC5fdGludFJHQiA9IChjb2xvciA+PiAxNilcbiAgICAgICAgICAgICAgICAgICAgICAgICsgKGNvbG9yICYgMHhmZjAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgKyAoKGNvbG9yICYgMHhmZikgPDwgMTYpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSWYgdGhlcmUncyBhIHRyYW5zZm9ybSB1cGRhdGUgb3IgYSBjaGFuZ2UgdG8gdGhlIHNoYXBlIG9mIHRoZVxuICAgICAqIGdlb21ldHJ5LCByZWNhY3VsYXRlIHRoZSB2ZXJ0aWNlcy5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGNhbGN1bGF0ZVZlcnRpY2VzKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIGNvbnN0IHd0SUQgPSB0aGlzLnRyYW5zZm9ybS5fd29ybGRJRDtcblxuICAgICAgICBpZiAodGhpcy5fdHJhbnNmb3JtSUQgPT09IHd0SUQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3RyYW5zZm9ybUlEID0gd3RJRDtcblxuICAgICAgICBjb25zdCB3dCA9IHRoaXMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuICAgICAgICBjb25zdCBhID0gd3QuYTtcbiAgICAgICAgY29uc3QgYiA9IHd0LmI7XG4gICAgICAgIGNvbnN0IGMgPSB3dC5jO1xuICAgICAgICBjb25zdCBkID0gd3QuZDtcbiAgICAgICAgY29uc3QgdHggPSB3dC50eDtcbiAgICAgICAgY29uc3QgdHkgPSB3dC50eTtcblxuICAgICAgICBjb25zdCBkYXRhID0gdGhpcy5fZ2VvbWV0cnkucG9pbnRzOy8vIGJhdGNoLnZlcnRleERhdGFPcmlnaW5hbDtcbiAgICAgICAgY29uc3QgdmVydGV4RGF0YSA9IHRoaXMudmVydGV4RGF0YTtcblxuICAgICAgICBsZXQgY291bnQgPSAwO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkgKz0gMilcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgeCA9IGRhdGFbaV07XG4gICAgICAgICAgICBjb25zdCB5ID0gZGF0YVtpICsgMV07XG5cbiAgICAgICAgICAgIHZlcnRleERhdGFbY291bnQrK10gPSAoYSAqIHgpICsgKGMgKiB5KSArIHR4O1xuICAgICAgICAgICAgdmVydGV4RGF0YVtjb3VudCsrXSA9IChkICogeSkgKyAoYiAqIHgpICsgdHk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDbG9zZXMgdGhlIGN1cnJlbnQgcGF0aC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuICAgIHB1YmxpYyBjbG9zZVBhdGgoKTogdGhpc1xuICAgIHtcbiAgICAgICAgY29uc3QgY3VycmVudFBhdGggPSB0aGlzLmN1cnJlbnRQYXRoO1xuXG4gICAgICAgIGlmIChjdXJyZW50UGF0aClcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gd2UgZG9uJ3QgbmVlZCB0byBhZGQgZXh0cmEgcG9pbnQgaW4gdGhlIGVuZCBiZWNhdXNlIGJ1aWxkTGluZSB3aWxsIHRha2UgY2FyZSBvZiB0aGF0XG4gICAgICAgICAgICBjdXJyZW50UGF0aC5jbG9zZVN0cm9rZSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBcHBseSBhIG1hdHJpeCB0byB0aGUgcG9zaXRpb25hbCBkYXRhLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gTWF0cml4IHRvIHVzZSBmb3IgdHJhbnNmb3JtIGN1cnJlbnQgc2hhcGUuXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG4gICAgcHVibGljIHNldE1hdHJpeChtYXRyaXg6IE1hdHJpeCk6IHRoaXNcbiAgICB7XG4gICAgICAgIHRoaXMuX21hdHJpeCA9IG1hdHJpeDtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBCZWdpbiBhZGRpbmcgaG9sZXMgdG8gdGhlIGxhc3QgZHJhdyBzaGFwZVxuICAgICAqIElNUE9SVEFOVDogaG9sZXMgbXVzdCBiZSBmdWxseSBpbnNpZGUgYSBzaGFwZSB0byB3b3JrXG4gICAgICogQWxzbyB3ZWlyZG5lc3MgZW5zdWVzIGlmIGhvbGVzIG92ZXJsYXAhXG4gICAgICogRWxsaXBzZXMsIENpcmNsZXMsIFJlY3RhbmdsZXMgYW5kIFJvdW5kZWQgUmVjdGFuZ2xlcyBjYW5ub3QgYmUgaG9sZXMgb3IgaG9zdCBmb3IgaG9sZXMgaW4gQ2FudmFzUmVuZGVyZXIsXG4gICAgICogcGxlYXNlIHVzZSBgbW92ZVRvYCBgbGluZVRvYCwgYHF1YWRyYXRpY0N1cnZlVG9gIGlmIHlvdSByZWx5IG9uIHBpeGktbGVnYWN5IGJ1bmRsZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICBwdWJsaWMgYmVnaW5Ib2xlKCk6IHRoaXNcbiAgICB7XG4gICAgICAgIHRoaXMuZmluaXNoUG9seSgpO1xuICAgICAgICB0aGlzLl9ob2xlTW9kZSA9IHRydWU7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRW5kIGFkZGluZyBob2xlcyB0byB0aGUgbGFzdCBkcmF3IHNoYXBlXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG4gICAgcHVibGljIGVuZEhvbGUoKTogdGhpc1xuICAgIHtcbiAgICAgICAgdGhpcy5maW5pc2hQb2x5KCk7XG4gICAgICAgIHRoaXMuX2hvbGVNb2RlID0gZmFsc2U7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIEdyYXBoaWNzIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fGJvb2xlYW59IFtvcHRpb25zXSAtIE9wdGlvbnMgcGFyYW1ldGVyLiBBIGJvb2xlYW4gd2lsbCBhY3QgYXMgaWYgYWxsXG4gICAgICogIG9wdGlvbnMgaGF2ZSBiZWVuIHNldCB0byB0aGF0IHZhbHVlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jaGlsZHJlbj1mYWxzZV0gLSBpZiBzZXQgdG8gdHJ1ZSwgYWxsIHRoZSBjaGlsZHJlbiB3aWxsIGhhdmVcbiAgICAgKiAgdGhlaXIgZGVzdHJveSBtZXRob2QgY2FsbGVkIGFzIHdlbGwuICdvcHRpb25zJyB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aG9zZSBjYWxscy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRleHR1cmU9ZmFsc2VdIC0gT25seSB1c2VkIGZvciBjaGlsZCBTcHJpdGVzIGlmIG9wdGlvbnMuY2hpbGRyZW4gaXMgc2V0IHRvIHRydWVcbiAgICAgKiAgU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIHRleHR1cmUgb2YgdGhlIGNoaWxkIHNwcml0ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYmFzZVRleHR1cmU9ZmFsc2VdIC0gT25seSB1c2VkIGZvciBjaGlsZCBTcHJpdGVzIGlmIG9wdGlvbnMuY2hpbGRyZW4gaXMgc2V0IHRvIHRydWVcbiAgICAgKiAgU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBvZiB0aGUgY2hpbGQgc3ByaXRlXG4gICAgICovXG4gICAgcHVibGljIGRlc3Ryb3kob3B0aW9uczogSURlc3Ryb3lPcHRpb25zfGJvb2xlYW4pOiB2b2lkXG4gICAge1xuICAgICAgICB0aGlzLl9nZW9tZXRyeS5yZWZDb3VudC0tO1xuICAgICAgICBpZiAodGhpcy5fZ2VvbWV0cnkucmVmQ291bnQgPT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2dlb21ldHJ5LmRpc3Bvc2UoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX21hdHJpeCA9IG51bGw7XG4gICAgICAgIHRoaXMuY3VycmVudFBhdGggPSBudWxsO1xuICAgICAgICB0aGlzLl9saW5lU3R5bGUuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLl9saW5lU3R5bGUgPSBudWxsO1xuICAgICAgICB0aGlzLl9maWxsU3R5bGUuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLl9maWxsU3R5bGUgPSBudWxsO1xuICAgICAgICB0aGlzLl9nZW9tZXRyeSA9IG51bGw7XG4gICAgICAgIHRoaXMuc2hhZGVyID0gbnVsbDtcbiAgICAgICAgdGhpcy52ZXJ0ZXhEYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy5iYXRjaGVzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuYmF0Y2hlcyA9IG51bGw7XG5cbiAgICAgICAgc3VwZXIuZGVzdHJveShvcHRpb25zKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBCTEVORF9NT0RFUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBUZXh0dXJlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBDb250YWluZXIgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcbmltcG9ydCB7IE9ic2VydmFibGVQb2ludCwgUG9pbnQsIFJlY3RhbmdsZSB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5pbXBvcnQgeyBzaWduIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuXG5pbXBvcnQgdHlwZSB7IElCYXNlVGV4dHVyZU9wdGlvbnMsIFJlbmRlcmVyLCBUZXh0dXJlU291cmNlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgdHlwZSB7IElEZXN0cm95T3B0aW9ucyB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuaW1wb3J0IHR5cGUgeyBJUG9pbnREYXRhIH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5cbmNvbnN0IHRlbXBQb2ludCA9IG5ldyBQb2ludCgpO1xuY29uc3QgaW5kaWNlcyA9IG5ldyBVaW50MTZBcnJheShbMCwgMSwgMiwgMCwgMiwgM10pO1xuXG5leHBvcnQgdHlwZSBTcHJpdGVTb3VyY2UgPSBUZXh0dXJlU291cmNlfFRleHR1cmU7XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3ByaXRlIGV4dGVuZHMgR2xvYmFsTWl4aW5zLlNwcml0ZSwgQ29udGFpbmVyIHt9XG5cbi8qKlxuICogVGhlIFNwcml0ZSBvYmplY3QgaXMgdGhlIGJhc2UgZm9yIGFsbCB0ZXh0dXJlZCBvYmplY3RzIHRoYXQgYXJlIHJlbmRlcmVkIHRvIHRoZSBzY3JlZW5cbipcbiAqIEEgc3ByaXRlIGNhbiBiZSBjcmVhdGVkIGRpcmVjdGx5IGZyb20gYW4gaW1hZ2UgbGlrZSB0aGlzOlxuICpcbiAqIGBgYGpzXG4gKiBsZXQgc3ByaXRlID0gUElYSS5TcHJpdGUuZnJvbSgnYXNzZXRzL2ltYWdlLnBuZycpO1xuICogYGBgXG4gKlxuICogVGhlIG1vcmUgZWZmaWNpZW50IHdheSB0byBjcmVhdGUgc3ByaXRlcyBpcyB1c2luZyBhIHtAbGluayBQSVhJLlNwcml0ZXNoZWV0fSxcbiAqIGFzIHN3YXBwaW5nIGJhc2UgdGV4dHVyZXMgd2hlbiByZW5kZXJpbmcgdG8gdGhlIHNjcmVlbiBpcyBpbmVmZmljaWVudC5cbiAqXG4gKiBgYGBqc1xuICogUElYSS5Mb2FkZXIuc2hhcmVkLmFkZChcImFzc2V0cy9zcHJpdGVzaGVldC5qc29uXCIpLmxvYWQoc2V0dXApO1xuICpcbiAqIGZ1bmN0aW9uIHNldHVwKCkge1xuICogICBsZXQgc2hlZXQgPSBQSVhJLkxvYWRlci5zaGFyZWQucmVzb3VyY2VzW1wiYXNzZXRzL3Nwcml0ZXNoZWV0Lmpzb25cIl0uc3ByaXRlc2hlZXQ7XG4gKiAgIGxldCBzcHJpdGUgPSBuZXcgUElYSS5TcHJpdGUoc2hlZXQudGV4dHVyZXNbXCJpbWFnZS5wbmdcIl0pO1xuICogICAuLi5cbiAqIH1cbiAqIGBgYFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5Db250YWluZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBjbGFzcyBTcHJpdGUgZXh0ZW5kcyBDb250YWluZXJcbntcbiAgICBwdWJsaWMgYmxlbmRNb2RlOiBCTEVORF9NT0RFUztcbiAgICBwdWJsaWMgaW5kaWNlczogVWludDE2QXJyYXk7XG4gICAgcHVibGljIHBsdWdpbk5hbWU6IHN0cmluZztcblxuICAgIF93aWR0aDogbnVtYmVyO1xuICAgIF9oZWlnaHQ6IG51bWJlcjtcbiAgICBfdGV4dHVyZTogVGV4dHVyZTtcbiAgICBfdGV4dHVyZUlEOiBudW1iZXI7XG4gICAgX2NhY2hlZFRpbnQ6IG51bWJlcjtcbiAgICBwcm90ZWN0ZWQgX3RleHR1cmVUcmltbWVkSUQ6IG51bWJlcjtcbiAgICBwcm90ZWN0ZWQgdXZzOiBGbG9hdDMyQXJyYXk7XG4gICAgcHJvdGVjdGVkIF9hbmNob3I6IE9ic2VydmFibGVQb2ludDtcbiAgICBwcm90ZWN0ZWQgdmVydGV4RGF0YTogRmxvYXQzMkFycmF5O1xuXG4gICAgcHJpdmF0ZSB2ZXJ0ZXhUcmltbWVkRGF0YTogRmxvYXQzMkFycmF5O1xuICAgIHByaXZhdGUgX3JvdW5kUGl4ZWxzOiBib29sZWFuO1xuICAgIHByaXZhdGUgX3RyYW5zZm9ybUlEOiBudW1iZXI7XG4gICAgcHJpdmF0ZSBfdHJhbnNmb3JtVHJpbW1lZElEOiBudW1iZXI7XG4gICAgcHJpdmF0ZSBfdGludDogbnVtYmVyO1xuXG4gICAgLy8gSW50ZXJuYWwtb25seSBwcm9wZXJ0aWVzXG4gICAgX3RpbnRSR0I6IG51bWJlcjtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSBbdGV4dHVyZV0gLSBUaGUgdGV4dHVyZSBmb3IgdGhpcyBzcHJpdGUuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IodGV4dHVyZTogVGV4dHVyZSlcbiAgICB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhbmNob3IgcG9pbnQgZGVmaW5lcyB0aGUgbm9ybWFsaXplZCBjb29yZGluYXRlc1xuICAgICAgICAgKiBpbiB0aGUgdGV4dHVyZSB0aGF0IG1hcCB0byB0aGUgcG9zaXRpb24gb2YgdGhpc1xuICAgICAgICAgKiBzcHJpdGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEJ5IGRlZmF1bHQsIHRoaXMgaXMgYCgwLDApYCAob3IgYHRleHR1cmUuZGVmYXVsdEFuY2hvcmBcbiAgICAgICAgICogaWYgeW91IGhhdmUgbW9kaWZpZWQgdGhhdCksIHdoaWNoIG1lYW5zIHRoZSBwb3NpdGlvblxuICAgICAgICAgKiBgKHgseSlgIG9mIHRoaXMgYFNwcml0ZWAgd2lsbCBiZSB0aGUgdG9wLWxlZnQgY29ybmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBOb3RlOiBVcGRhdGluZyBgdGV4dHVyZS5kZWZhdWx0QW5jaG9yYCBhZnRlclxuICAgICAgICAgKiBjb25zdHJ1Y3RpbmcgYSBgU3ByaXRlYCBkb2VzIF9ub3RfIHVwZGF0ZSBpdHMgYW5jaG9yLlxuICAgICAgICAgKlxuICAgICAgICAgKiB7QGxpbmsgaHR0cHM6Ly9kb2NzLmNvY29zMmQteC5vcmcvY29jb3MyZC14L2VuL3Nwcml0ZXMvbWFuaXB1bGF0aW9uLmh0bWx9XG4gICAgICAgICAqXG4gICAgICAgICAqIEBkZWZhdWx0IGB0ZXh0dXJlLmRlZmF1bHRBbmNob3JgXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYW5jaG9yID0gbmV3IE9ic2VydmFibGVQb2ludChcbiAgICAgICAgICAgIHRoaXMuX29uQW5jaG9yVXBkYXRlLFxuICAgICAgICAgICAgdGhpcyxcbiAgICAgICAgICAgICh0ZXh0dXJlID8gdGV4dHVyZS5kZWZhdWx0QW5jaG9yLnggOiAwKSxcbiAgICAgICAgICAgICh0ZXh0dXJlID8gdGV4dHVyZS5kZWZhdWx0QW5jaG9yLnkgOiAwKVxuICAgICAgICApO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGV4dHVyZSB0aGF0IHRoZSBzcHJpdGUgaXMgdXNpbmdcbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdGV4dHVyZSA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgc3ByaXRlICh0aGlzIGlzIGluaXRpYWxseSBzZXQgYnkgdGhlIHRleHR1cmUpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fd2lkdGggPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBzcHJpdGUgKHRoaXMgaXMgaW5pdGlhbGx5IHNldCBieSB0aGUgdGV4dHVyZSlcbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9oZWlnaHQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGludCBhcHBsaWVkIHRvIHRoZSBzcHJpdGUuIFRoaXMgaXMgYSBoZXggdmFsdWUuIEEgdmFsdWUgb2YgMHhGRkZGRkYgd2lsbCByZW1vdmUgYW55IHRpbnQgZWZmZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDB4RkZGRkZGXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl90aW50ID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRpbnQgYXBwbGllZCB0byB0aGUgc3ByaXRlLiBUaGlzIGlzIGEgUkdCIHZhbHVlLiBBIHZhbHVlIG9mIDB4RkZGRkZGIHdpbGwgcmVtb3ZlIGFueSB0aW50IGVmZmVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxNjc3NzIxNVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdGludFJHQiA9IG51bGw7XG5cbiAgICAgICAgdGhpcy50aW50ID0gMHhGRkZGRkY7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBibGVuZCBtb2RlIHRvIGJlIGFwcGxpZWQgdG8gdGhlIHNwcml0ZS4gQXBwbHkgYSB2YWx1ZSBvZiBgUElYSS5CTEVORF9NT0RFUy5OT1JNQUxgIHRvIHJlc2V0IHRoZSBibGVuZCBtb2RlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMXG4gICAgICAgICAqIEBzZWUgUElYSS5CTEVORF9NT0RFU1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ibGVuZE1vZGUgPSBCTEVORF9NT0RFUy5OT1JNQUw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhY2hlZCB0aW50IHZhbHVlIHNvIHdlIGNhbiB0ZWxsIHdoZW4gdGhlIHRpbnQgaXMgY2hhbmdlZC5cbiAgICAgICAgICogVmFsdWUgaXMgdXNlZCBmb3IgMmQgQ2FudmFzUmVuZGVyZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAweEZGRkZGRlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fY2FjaGVkVGludCA9IDB4RkZGRkZGO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiB0aGlzIGlzIHVzZWQgdG8gc3RvcmUgdGhlIHV2cyBkYXRhIG9mIHRoZSBzcHJpdGUsIGFzc2lnbmVkIGF0IHRoZSBzYW1lIHRpbWVcbiAgICAgICAgICogYXMgdGhlIHZlcnRleERhdGEgaW4gY2FsY3VsYXRlVmVydGljZXMoKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnV2cyA9IG51bGw7XG5cbiAgICAgICAgLy8gY2FsbCB0ZXh0dXJlIHNldHRlclxuICAgICAgICB0aGlzLnRleHR1cmUgPSB0ZXh0dXJlIHx8IFRleHR1cmUuRU1QVFk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHRoaXMgaXMgdXNlZCB0byBzdG9yZSB0aGUgdmVydGV4IGRhdGEgb2YgdGhlIHNwcml0ZSAoYmFzaWNhbGx5IGEgcXVhZClcbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy52ZXJ0ZXhEYXRhID0gbmV3IEZsb2F0MzJBcnJheSg4KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBpcyB1c2VkIHRvIGNhbGN1bGF0ZSB0aGUgYm91bmRzIG9mIHRoZSBvYmplY3QgSUYgaXQgaXMgYSB0cmltbWVkIHNwcml0ZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnZlcnRleFRyaW1tZWREYXRhID0gbnVsbDtcblxuICAgICAgICB0aGlzLl90cmFuc2Zvcm1JRCA9IC0xO1xuICAgICAgICB0aGlzLl90ZXh0dXJlSUQgPSAtMTtcblxuICAgICAgICB0aGlzLl90cmFuc2Zvcm1UcmltbWVkSUQgPSAtMTtcbiAgICAgICAgdGhpcy5fdGV4dHVyZVRyaW1tZWRJRCA9IC0xO1xuXG4gICAgICAgIC8vIEJhdGNoYWJsZSBzdHVmZi4uXG4gICAgICAgIC8vIFRPRE8gY291bGQgbWFrZSB0aGlzIGEgbWl4aW4/XG4gICAgICAgIHRoaXMuaW5kaWNlcyA9IGluZGljZXM7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBsdWdpbiB0aGF0IGlzIHJlc3BvbnNpYmxlIGZvciByZW5kZXJpbmcgdGhpcyBlbGVtZW50LlxuICAgICAgICAgKiBBbGxvd3MgdG8gY3VzdG9taXplIHRoZSByZW5kZXJpbmcgcHJvY2VzcyB3aXRob3V0IG92ZXJyaWRpbmcgJ19yZW5kZXInICYgJ19yZW5kZXJDYW52YXMnIG1ldGhvZHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQGRlZmF1bHQgJ2JhdGNoJ1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wbHVnaW5OYW1lID0gJ2JhdGNoJztcblxuICAgICAgICAvKipcbiAgICAgICAgICogdXNlZCB0byBmYXN0IGNoZWNrIGlmIGEgc3ByaXRlIGlzLi4gYSBzcHJpdGUhXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmlzU3ByaXRlID0gdHJ1ZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJuYWwgcm91bmRQaXhlbHMgZmllbGRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3JvdW5kUGl4ZWxzID0gc2V0dGluZ3MuUk9VTkRfUElYRUxTO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFdoZW4gdGhlIHRleHR1cmUgaXMgdXBkYXRlZCwgdGhpcyBldmVudCB3aWxsIGZpcmUgdG8gdXBkYXRlIHRoZSBzY2FsZSBhbmQgZnJhbWVcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgX29uVGV4dHVyZVVwZGF0ZSgpOiB2b2lkXG4gICAge1xuICAgICAgICB0aGlzLl90ZXh0dXJlSUQgPSAtMTtcbiAgICAgICAgdGhpcy5fdGV4dHVyZVRyaW1tZWRJRCA9IC0xO1xuICAgICAgICB0aGlzLl9jYWNoZWRUaW50ID0gMHhGRkZGRkY7XG5cbiAgICAgICAgLy8gc28gaWYgX3dpZHRoIGlzIDAgdGhlbiB3aWR0aCB3YXMgbm90IHNldC4uXG4gICAgICAgIGlmICh0aGlzLl93aWR0aClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5zY2FsZS54ID0gc2lnbih0aGlzLnNjYWxlLngpICogdGhpcy5fd2lkdGggLyB0aGlzLl90ZXh0dXJlLm9yaWcud2lkdGg7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5faGVpZ2h0KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnNjYWxlLnkgPSBzaWduKHRoaXMuc2NhbGUueSkgKiB0aGlzLl9oZWlnaHQgLyB0aGlzLl90ZXh0dXJlLm9yaWcuaGVpZ2h0O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gdGhlIGFuY2hvciBwb3NpdGlvbiB1cGRhdGVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBwcml2YXRlIF9vbkFuY2hvclVwZGF0ZSgpOiB2b2lkXG4gICAge1xuICAgICAgICB0aGlzLl90cmFuc2Zvcm1JRCA9IC0xO1xuICAgICAgICB0aGlzLl90cmFuc2Zvcm1UcmltbWVkSUQgPSAtMTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBjYWxjdWxhdGVzIHdvcmxkVHJhbnNmb3JtICogdmVydGljZXMsIHN0b3JlIGl0IGluIHZlcnRleERhdGFcbiAgICAgKi9cbiAgICBwdWJsaWMgY2FsY3VsYXRlVmVydGljZXMoKTogdm9pZFxuICAgIHtcbiAgICAgICAgY29uc3QgdGV4dHVyZSA9IHRoaXMuX3RleHR1cmU7XG5cbiAgICAgICAgaWYgKHRoaXMuX3RyYW5zZm9ybUlEID09PSB0aGlzLnRyYW5zZm9ybS5fd29ybGRJRCAmJiB0aGlzLl90ZXh0dXJlSUQgPT09IHRleHR1cmUuX3VwZGF0ZUlEKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyB1cGRhdGUgdGV4dHVyZSBVViBoZXJlLCBiZWNhdXNlIGJhc2UgdGV4dHVyZSBjYW4gYmUgY2hhbmdlZCB3aXRob3V0IGNhbGxpbmcgYF9vblRleHR1cmVVcGRhdGVgXG4gICAgICAgIGlmICh0aGlzLl90ZXh0dXJlSUQgIT09IHRleHR1cmUuX3VwZGF0ZUlEKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnV2cyA9IHRoaXMuX3RleHR1cmUuX3V2cy51dnNGbG9hdDMyO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fdHJhbnNmb3JtSUQgPSB0aGlzLnRyYW5zZm9ybS5fd29ybGRJRDtcbiAgICAgICAgdGhpcy5fdGV4dHVyZUlEID0gdGV4dHVyZS5fdXBkYXRlSUQ7XG5cbiAgICAgICAgLy8gc2V0IHRoZSB2ZXJ0ZXggZGF0YVxuXG4gICAgICAgIGNvbnN0IHd0ID0gdGhpcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgICAgIGNvbnN0IGEgPSB3dC5hO1xuICAgICAgICBjb25zdCBiID0gd3QuYjtcbiAgICAgICAgY29uc3QgYyA9IHd0LmM7XG4gICAgICAgIGNvbnN0IGQgPSB3dC5kO1xuICAgICAgICBjb25zdCB0eCA9IHd0LnR4O1xuICAgICAgICBjb25zdCB0eSA9IHd0LnR5O1xuICAgICAgICBjb25zdCB2ZXJ0ZXhEYXRhID0gdGhpcy52ZXJ0ZXhEYXRhO1xuICAgICAgICBjb25zdCB0cmltID0gdGV4dHVyZS50cmltO1xuICAgICAgICBjb25zdCBvcmlnID0gdGV4dHVyZS5vcmlnO1xuICAgICAgICBjb25zdCBhbmNob3IgPSB0aGlzLl9hbmNob3I7XG5cbiAgICAgICAgbGV0IHcwID0gMDtcbiAgICAgICAgbGV0IHcxID0gMDtcbiAgICAgICAgbGV0IGgwID0gMDtcbiAgICAgICAgbGV0IGgxID0gMDtcblxuICAgICAgICBpZiAodHJpbSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gaWYgdGhlIHNwcml0ZSBpcyB0cmltbWVkIGFuZCBpcyBub3QgYSB0aWxpbmdzcHJpdGUgdGhlbiB3ZSBuZWVkIHRvIGFkZCB0aGUgZXh0cmFcbiAgICAgICAgICAgIC8vIHNwYWNlIGJlZm9yZSB0cmFuc2Zvcm1pbmcgdGhlIHNwcml0ZSBjb29yZHMuXG4gICAgICAgICAgICB3MSA9IHRyaW0ueCAtIChhbmNob3IuX3ggKiBvcmlnLndpZHRoKTtcbiAgICAgICAgICAgIHcwID0gdzEgKyB0cmltLndpZHRoO1xuXG4gICAgICAgICAgICBoMSA9IHRyaW0ueSAtIChhbmNob3IuX3kgKiBvcmlnLmhlaWdodCk7XG4gICAgICAgICAgICBoMCA9IGgxICsgdHJpbS5oZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB3MSA9IC1hbmNob3IuX3ggKiBvcmlnLndpZHRoO1xuICAgICAgICAgICAgdzAgPSB3MSArIG9yaWcud2lkdGg7XG5cbiAgICAgICAgICAgIGgxID0gLWFuY2hvci5feSAqIG9yaWcuaGVpZ2h0O1xuICAgICAgICAgICAgaDAgPSBoMSArIG9yaWcuaGVpZ2h0O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8geHlcbiAgICAgICAgdmVydGV4RGF0YVswXSA9IChhICogdzEpICsgKGMgKiBoMSkgKyB0eDtcbiAgICAgICAgdmVydGV4RGF0YVsxXSA9IChkICogaDEpICsgKGIgKiB3MSkgKyB0eTtcblxuICAgICAgICAvLyB4eVxuICAgICAgICB2ZXJ0ZXhEYXRhWzJdID0gKGEgKiB3MCkgKyAoYyAqIGgxKSArIHR4O1xuICAgICAgICB2ZXJ0ZXhEYXRhWzNdID0gKGQgKiBoMSkgKyAoYiAqIHcwKSArIHR5O1xuXG4gICAgICAgIC8vIHh5XG4gICAgICAgIHZlcnRleERhdGFbNF0gPSAoYSAqIHcwKSArIChjICogaDApICsgdHg7XG4gICAgICAgIHZlcnRleERhdGFbNV0gPSAoZCAqIGgwKSArIChiICogdzApICsgdHk7XG5cbiAgICAgICAgLy8geHlcbiAgICAgICAgdmVydGV4RGF0YVs2XSA9IChhICogdzEpICsgKGMgKiBoMCkgKyB0eDtcbiAgICAgICAgdmVydGV4RGF0YVs3XSA9IChkICogaDApICsgKGIgKiB3MSkgKyB0eTtcblxuICAgICAgICBpZiAodGhpcy5fcm91bmRQaXhlbHMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHJlc29sdXRpb24gPSBzZXR0aW5ncy5SRVNPTFVUSU9OO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZlcnRleERhdGEubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmVydGV4RGF0YVtpXSA9IE1hdGgucm91bmQoKHZlcnRleERhdGFbaV0gKiByZXNvbHV0aW9uIHwgMCkgLyByZXNvbHV0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGNhbGN1bGF0ZXMgd29ybGRUcmFuc2Zvcm0gKiB2ZXJ0aWNlcyBmb3IgYSBub24gdGV4dHVyZSB3aXRoIGEgdHJpbS4gc3RvcmUgaXQgaW4gdmVydGV4VHJpbW1lZERhdGFcbiAgICAgKiBUaGlzIGlzIHVzZWQgdG8gZW5zdXJlIHRoYXQgdGhlIHRydWUgd2lkdGggYW5kIGhlaWdodCBvZiBhIHRyaW1tZWQgdGV4dHVyZSBpcyByZXNwZWN0ZWRcbiAgICAgKi9cbiAgICBwdWJsaWMgY2FsY3VsYXRlVHJpbW1lZFZlcnRpY2VzKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy52ZXJ0ZXhUcmltbWVkRGF0YSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy52ZXJ0ZXhUcmltbWVkRGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkoOCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5fdHJhbnNmb3JtVHJpbW1lZElEID09PSB0aGlzLnRyYW5zZm9ybS5fd29ybGRJRCAmJiB0aGlzLl90ZXh0dXJlVHJpbW1lZElEID09PSB0aGlzLl90ZXh0dXJlLl91cGRhdGVJRClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fdHJhbnNmb3JtVHJpbW1lZElEID0gdGhpcy50cmFuc2Zvcm0uX3dvcmxkSUQ7XG4gICAgICAgIHRoaXMuX3RleHR1cmVUcmltbWVkSUQgPSB0aGlzLl90ZXh0dXJlLl91cGRhdGVJRDtcblxuICAgICAgICAvLyBsZXRzIGRvIHNvbWUgc3BlY2lhbCB0cmltIGNvZGUhXG4gICAgICAgIGNvbnN0IHRleHR1cmUgPSB0aGlzLl90ZXh0dXJlO1xuICAgICAgICBjb25zdCB2ZXJ0ZXhEYXRhID0gdGhpcy52ZXJ0ZXhUcmltbWVkRGF0YTtcbiAgICAgICAgY29uc3Qgb3JpZyA9IHRleHR1cmUub3JpZztcbiAgICAgICAgY29uc3QgYW5jaG9yID0gdGhpcy5fYW5jaG9yO1xuXG4gICAgICAgIC8vIGxldHMgY2FsY3VsYXRlIHRoZSBuZXcgdW50cmltbWVkIGJvdW5kcy4uXG4gICAgICAgIGNvbnN0IHd0ID0gdGhpcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgICAgIGNvbnN0IGEgPSB3dC5hO1xuICAgICAgICBjb25zdCBiID0gd3QuYjtcbiAgICAgICAgY29uc3QgYyA9IHd0LmM7XG4gICAgICAgIGNvbnN0IGQgPSB3dC5kO1xuICAgICAgICBjb25zdCB0eCA9IHd0LnR4O1xuICAgICAgICBjb25zdCB0eSA9IHd0LnR5O1xuXG4gICAgICAgIGNvbnN0IHcxID0gLWFuY2hvci5feCAqIG9yaWcud2lkdGg7XG4gICAgICAgIGNvbnN0IHcwID0gdzEgKyBvcmlnLndpZHRoO1xuXG4gICAgICAgIGNvbnN0IGgxID0gLWFuY2hvci5feSAqIG9yaWcuaGVpZ2h0O1xuICAgICAgICBjb25zdCBoMCA9IGgxICsgb3JpZy5oZWlnaHQ7XG5cbiAgICAgICAgLy8geHlcbiAgICAgICAgdmVydGV4RGF0YVswXSA9IChhICogdzEpICsgKGMgKiBoMSkgKyB0eDtcbiAgICAgICAgdmVydGV4RGF0YVsxXSA9IChkICogaDEpICsgKGIgKiB3MSkgKyB0eTtcblxuICAgICAgICAvLyB4eVxuICAgICAgICB2ZXJ0ZXhEYXRhWzJdID0gKGEgKiB3MCkgKyAoYyAqIGgxKSArIHR4O1xuICAgICAgICB2ZXJ0ZXhEYXRhWzNdID0gKGQgKiBoMSkgKyAoYiAqIHcwKSArIHR5O1xuXG4gICAgICAgIC8vIHh5XG4gICAgICAgIHZlcnRleERhdGFbNF0gPSAoYSAqIHcwKSArIChjICogaDApICsgdHg7XG4gICAgICAgIHZlcnRleERhdGFbNV0gPSAoZCAqIGgwKSArIChiICogdzApICsgdHk7XG5cbiAgICAgICAgLy8geHlcbiAgICAgICAgdmVydGV4RGF0YVs2XSA9IChhICogdzEpICsgKGMgKiBoMCkgKyB0eDtcbiAgICAgICAgdmVydGV4RGF0YVs3XSA9IChkICogaDApICsgKGIgKiB3MSkgKyB0eTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAqXG4gICAgKiBSZW5kZXJzIHRoZSBvYmplY3QgdXNpbmcgdGhlIFdlYkdMIHJlbmRlcmVyXG4gICAgKlxuICAgICogQHByb3RlY3RlZFxuICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSB3ZWJnbCByZW5kZXJlciB0byB1c2UuXG4gICAgKi9cbiAgICBwcm90ZWN0ZWQgX3JlbmRlcihyZW5kZXJlcjogUmVuZGVyZXIpOiB2b2lkXG4gICAge1xuICAgICAgICB0aGlzLmNhbGN1bGF0ZVZlcnRpY2VzKCk7XG5cbiAgICAgICAgcmVuZGVyZXIuYmF0Y2guc2V0T2JqZWN0UmVuZGVyZXIocmVuZGVyZXIucGx1Z2luc1t0aGlzLnBsdWdpbk5hbWVdKTtcbiAgICAgICAgcmVuZGVyZXIucGx1Z2luc1t0aGlzLnBsdWdpbk5hbWVdLnJlbmRlcih0aGlzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBib3VuZHMgb2YgdGhlIHNwcml0ZS5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgX2NhbGN1bGF0ZUJvdW5kcygpOiB2b2lkXG4gICAge1xuICAgICAgICBjb25zdCB0cmltID0gdGhpcy5fdGV4dHVyZS50cmltO1xuICAgICAgICBjb25zdCBvcmlnID0gdGhpcy5fdGV4dHVyZS5vcmlnO1xuXG4gICAgICAgIC8vIEZpcnN0IGxldHMgY2hlY2sgdG8gc2VlIGlmIHRoZSBjdXJyZW50IHRleHR1cmUgaGFzIGEgdHJpbS4uXG4gICAgICAgIGlmICghdHJpbSB8fCAodHJpbS53aWR0aCA9PT0gb3JpZy53aWR0aCAmJiB0cmltLmhlaWdodCA9PT0gb3JpZy5oZWlnaHQpKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBubyB0cmltISBsZXRzIHVzZSB0aGUgdXN1YWwgY2FsY3VsYXRpb25zLi5cbiAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlVmVydGljZXMoKTtcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5hZGRRdWFkKHRoaXMudmVydGV4RGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBsZXRzIGNhbGN1bGF0ZSBhIHNwZWNpYWwgdHJpbW1lZCBib3VuZHMuLi5cbiAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlVHJpbW1lZFZlcnRpY2VzKCk7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMuYWRkUXVhZCh0aGlzLnZlcnRleFRyaW1tZWREYXRhKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGxvY2FsIGJvdW5kcyBvZiB0aGUgc3ByaXRlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IFtyZWN0XSAtIFRoZSBvdXRwdXQgcmVjdGFuZ2xlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSBUaGUgYm91bmRzLlxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRMb2NhbEJvdW5kcyhyZWN0OiBSZWN0YW5nbGUpOiBSZWN0YW5nbGVcbiAgICB7XG4gICAgICAgIC8vIHdlIGNhbiBkbyBhIGZhc3QgbG9jYWwgYm91bmRzIGlmIHRoZSBzcHJpdGUgaGFzIG5vIGNoaWxkcmVuIVxuICAgICAgICBpZiAodGhpcy5jaGlsZHJlbi5sZW5ndGggPT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5taW5YID0gdGhpcy5fdGV4dHVyZS5vcmlnLndpZHRoICogLXRoaXMuX2FuY2hvci5feDtcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5taW5ZID0gdGhpcy5fdGV4dHVyZS5vcmlnLmhlaWdodCAqIC10aGlzLl9hbmNob3IuX3k7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMubWF4WCA9IHRoaXMuX3RleHR1cmUub3JpZy53aWR0aCAqICgxIC0gdGhpcy5fYW5jaG9yLl94KTtcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5tYXhZID0gdGhpcy5fdGV4dHVyZS5vcmlnLmhlaWdodCAqICgxIC0gdGhpcy5fYW5jaG9yLl95KTtcblxuICAgICAgICAgICAgaWYgKCFyZWN0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fbG9jYWxCb3VuZHNSZWN0KVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbG9jYWxCb3VuZHNSZWN0ID0gbmV3IFJlY3RhbmdsZSgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJlY3QgPSB0aGlzLl9sb2NhbEJvdW5kc1JlY3Q7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9ib3VuZHMuZ2V0UmVjdGFuZ2xlKHJlY3QpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHN1cGVyLmdldExvY2FsQm91bmRzLmNhbGwodGhpcywgcmVjdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGVzdHMgaWYgYSBwb2ludCBpcyBpbnNpZGUgdGhpcyBzcHJpdGVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5JUG9pbnREYXRhfSBwb2ludCAtIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gdGhlIHJlc3VsdCBvZiB0aGUgdGVzdFxuICAgICAqL1xuICAgIHB1YmxpYyBjb250YWluc1BvaW50KHBvaW50OiBJUG9pbnREYXRhKTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgdGhpcy53b3JsZFRyYW5zZm9ybS5hcHBseUludmVyc2UocG9pbnQsIHRlbXBQb2ludCk7XG5cbiAgICAgICAgY29uc3Qgd2lkdGggPSB0aGlzLl90ZXh0dXJlLm9yaWcud2lkdGg7XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IHRoaXMuX3RleHR1cmUub3JpZy5oZWlnaHQ7XG4gICAgICAgIGNvbnN0IHgxID0gLXdpZHRoICogdGhpcy5hbmNob3IueDtcbiAgICAgICAgbGV0IHkxID0gMDtcblxuICAgICAgICBpZiAodGVtcFBvaW50LnggPj0geDEgJiYgdGVtcFBvaW50LnggPCB4MSArIHdpZHRoKVxuICAgICAgICB7XG4gICAgICAgICAgICB5MSA9IC1oZWlnaHQgKiB0aGlzLmFuY2hvci55O1xuXG4gICAgICAgICAgICBpZiAodGVtcFBvaW50LnkgPj0geTEgJiYgdGVtcFBvaW50LnkgPCB5MSArIGhlaWdodClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIHNwcml0ZSBhbmQgb3B0aW9uYWxseSBpdHMgdGV4dHVyZSBhbmQgY2hpbGRyZW5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fGJvb2xlYW59IFtvcHRpb25zXSAtIE9wdGlvbnMgcGFyYW1ldGVyLiBBIGJvb2xlYW4gd2lsbCBhY3QgYXMgaWYgYWxsIG9wdGlvbnNcbiAgICAgKiAgaGF2ZSBiZWVuIHNldCB0byB0aGF0IHZhbHVlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jaGlsZHJlbj1mYWxzZV0gLSBpZiBzZXQgdG8gdHJ1ZSwgYWxsIHRoZSBjaGlsZHJlbiB3aWxsIGhhdmUgdGhlaXIgZGVzdHJveVxuICAgICAqICAgICAgbWV0aG9kIGNhbGxlZCBhcyB3ZWxsLiAnb3B0aW9ucycgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhvc2UgY2FsbHMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50ZXh0dXJlPWZhbHNlXSAtIFNob3VsZCBpdCBkZXN0cm95IHRoZSBjdXJyZW50IHRleHR1cmUgb2YgdGhlIHNwcml0ZSBhcyB3ZWxsXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5iYXNlVGV4dHVyZT1mYWxzZV0gLSBTaG91bGQgaXQgZGVzdHJveSB0aGUgYmFzZSB0ZXh0dXJlIG9mIHRoZSBzcHJpdGUgYXMgd2VsbFxuICAgICAqL1xuICAgIHB1YmxpYyBkZXN0cm95KG9wdGlvbnM6IElEZXN0cm95T3B0aW9uc3xib29sZWFuKTogdm9pZFxuICAgIHtcbiAgICAgICAgc3VwZXIuZGVzdHJveShvcHRpb25zKTtcblxuICAgICAgICB0aGlzLl90ZXh0dXJlLm9mZigndXBkYXRlJywgdGhpcy5fb25UZXh0dXJlVXBkYXRlLCB0aGlzKTtcblxuICAgICAgICB0aGlzLl9hbmNob3IgPSBudWxsO1xuXG4gICAgICAgIGNvbnN0IGRlc3Ryb3lUZXh0dXJlID0gdHlwZW9mIG9wdGlvbnMgPT09ICdib29sZWFuJyA/IG9wdGlvbnMgOiBvcHRpb25zICYmIG9wdGlvbnMudGV4dHVyZTtcblxuICAgICAgICBpZiAoZGVzdHJveVRleHR1cmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGRlc3Ryb3lCYXNlVGV4dHVyZSA9IHR5cGVvZiBvcHRpb25zID09PSAnYm9vbGVhbicgPyBvcHRpb25zIDogb3B0aW9ucyAmJiBvcHRpb25zLmJhc2VUZXh0dXJlO1xuXG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlLmRlc3Ryb3koISFkZXN0cm95QmFzZVRleHR1cmUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fdGV4dHVyZSA9IG51bGw7XG4gICAgfVxuXG4gICAgLy8gc29tZSBoZWxwZXIgZnVuY3Rpb25zLi5cblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBuZXcgc3ByaXRlIGJhc2VkIG9uIHRoZSBzb3VyY2UgeW91IHByb3ZpZGUuXG4gICAgICogVGhlIHNvdXJjZSBjYW4gYmUgLSBmcmFtZSBpZCwgaW1hZ2UgdXJsLCB2aWRlbyB1cmwsIGNhbnZhcyBlbGVtZW50LCB2aWRlbyBlbGVtZW50LCBiYXNlIHRleHR1cmVcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xQSVhJLlRleHR1cmV8SFRNTENhbnZhc0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudH0gc291cmNlIC0gU291cmNlIHRvIGNyZWF0ZSB0ZXh0dXJlIGZyb21cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gU2VlIHtAbGluayBQSVhJLkJhc2VUZXh0dXJlfSdzIGNvbnN0cnVjdG9yIGZvciBvcHRpb25zLlxuICAgICAqIEByZXR1cm4ge1BJWEkuU3ByaXRlfSBUaGUgbmV3bHkgY3JlYXRlZCBzcHJpdGVcbiAgICAgKi9cbiAgICBzdGF0aWMgZnJvbShzb3VyY2U6IFNwcml0ZVNvdXJjZSwgb3B0aW9uczogSUJhc2VUZXh0dXJlT3B0aW9ucyk6IFNwcml0ZVxuICAgIHtcbiAgICAgICAgY29uc3QgdGV4dHVyZSA9IChzb3VyY2UgaW5zdGFuY2VvZiBUZXh0dXJlKVxuICAgICAgICAgICAgPyBzb3VyY2VcbiAgICAgICAgICAgIDogVGV4dHVyZS5mcm9tKHNvdXJjZSwgb3B0aW9ucyk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBTcHJpdGUodGV4dHVyZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSWYgdHJ1ZSBQaXhpSlMgd2lsbCBNYXRoLmZsb29yKCkgeC95IHZhbHVlcyB3aGVuIHJlbmRlcmluZywgc3RvcHBpbmcgcGl4ZWwgaW50ZXJwb2xhdGlvbi5cbiAgICAgKiBBZHZhbnRhZ2VzIGNhbiBpbmNsdWRlIHNoYXJwZXIgaW1hZ2UgcXVhbGl0eSAobGlrZSB0ZXh0KSBhbmQgZmFzdGVyIHJlbmRlcmluZyBvbiBjYW52YXMuXG4gICAgICogVGhlIG1haW4gZGlzYWR2YW50YWdlIGlzIG1vdmVtZW50IG9mIG9iamVjdHMgbWF5IGFwcGVhciBsZXNzIHNtb290aC5cbiAgICAgKiBUbyBzZXQgdGhlIGdsb2JhbCBkZWZhdWx0LCBjaGFuZ2Uge0BsaW5rIFBJWEkuc2V0dGluZ3MuUk9VTkRfUElYRUxTfVxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqL1xuICAgIHNldCByb3VuZFBpeGVscyh2YWx1ZTogYm9vbGVhbilcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9yb3VuZFBpeGVscyAhPT0gdmFsdWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3RyYW5zZm9ybUlEID0gLTE7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcm91bmRQaXhlbHMgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBnZXQgcm91bmRQaXhlbHMoKTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JvdW5kUGl4ZWxzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgc3ByaXRlLCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHNjYWxlIHRvIGFjaGlldmUgdGhlIHZhbHVlIHNldFxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIGdldCB3aWR0aCgpOiBudW1iZXJcbiAgICB7XG4gICAgICAgIHJldHVybiBNYXRoLmFicyh0aGlzLnNjYWxlLngpICogdGhpcy5fdGV4dHVyZS5vcmlnLndpZHRoO1xuICAgIH1cblxuICAgIHNldCB3aWR0aCh2YWx1ZTogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgY29uc3QgcyA9IHNpZ24odGhpcy5zY2FsZS54KSB8fCAxO1xuXG4gICAgICAgIHRoaXMuc2NhbGUueCA9IHMgKiB2YWx1ZSAvIHRoaXMuX3RleHR1cmUub3JpZy53aWR0aDtcbiAgICAgICAgdGhpcy5fd2lkdGggPSB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBzcHJpdGUsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgc2NhbGUgdG8gYWNoaWV2ZSB0aGUgdmFsdWUgc2V0XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IGhlaWdodCgpOiBudW1iZXJcbiAgICB7XG4gICAgICAgIHJldHVybiBNYXRoLmFicyh0aGlzLnNjYWxlLnkpICogdGhpcy5fdGV4dHVyZS5vcmlnLmhlaWdodDtcbiAgICB9XG5cbiAgICBzZXQgaGVpZ2h0KHZhbHVlOiBudW1iZXIpXG4gICAge1xuICAgICAgICBjb25zdCBzID0gc2lnbih0aGlzLnNjYWxlLnkpIHx8IDE7XG5cbiAgICAgICAgdGhpcy5zY2FsZS55ID0gcyAqIHZhbHVlIC8gdGhpcy5fdGV4dHVyZS5vcmlnLmhlaWdodDtcbiAgICAgICAgdGhpcy5faGVpZ2h0ID0gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGFuY2hvciBzZXRzIHRoZSBvcmlnaW4gcG9pbnQgb2YgdGhlIHNwcml0ZS4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgdGFrZW4gZnJvbSB0aGUge0BsaW5rIFBJWEkuVGV4dHVyZXxUZXh0dXJlfVxuICAgICAqIGFuZCBwYXNzZWQgdG8gdGhlIGNvbnN0cnVjdG9yLlxuICAgICAqXG4gICAgICogVGhlIGRlZmF1bHQgaXMgYCgwLDApYCwgdGhpcyBtZWFucyB0aGUgc3ByaXRlJ3Mgb3JpZ2luIGlzIHRoZSB0b3AgbGVmdC5cbiAgICAgKlxuICAgICAqIFNldHRpbmcgdGhlIGFuY2hvciB0byBgKDAuNSwwLjUpYCBtZWFucyB0aGUgc3ByaXRlJ3Mgb3JpZ2luIGlzIGNlbnRlcmVkLlxuICAgICAqXG4gICAgICogU2V0dGluZyB0aGUgYW5jaG9yIHRvIGAoMSwxKWAgd291bGQgbWVhbiB0aGUgc3ByaXRlJ3Mgb3JpZ2luIHBvaW50IHdpbGwgYmUgdGhlIGJvdHRvbSByaWdodCBjb3JuZXIuXG4gICAgICpcbiAgICAgKiBJZiB5b3UgcGFzcyBvbmx5IHNpbmdsZSBwYXJhbWV0ZXIsIGl0IHdpbGwgc2V0IGJvdGggeCBhbmQgeSB0byB0aGUgc2FtZSB2YWx1ZSBhcyBzaG93biBpbiB0aGUgZXhhbXBsZSBiZWxvdy5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3Qgc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlKHRleHR1cmUpO1xuICAgICAqIHNwcml0ZS5hbmNob3Iuc2V0KDAuNSk7IC8vIFRoaXMgd2lsbCBzZXQgdGhlIG9yaWdpbiB0byBjZW50ZXIuICgwLjUpIGlzIHNhbWUgYXMgKDAuNSwgMC41KS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAqL1xuICAgIGdldCBhbmNob3IoKTogT2JzZXJ2YWJsZVBvaW50XG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fYW5jaG9yO1xuICAgIH1cblxuICAgIHNldCBhbmNob3IodmFsdWU6IE9ic2VydmFibGVQb2ludClcbiAgICB7XG4gICAgICAgIHRoaXMuX2FuY2hvci5jb3B5RnJvbSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIHRpbnQgYXBwbGllZCB0byB0aGUgc3ByaXRlLiBUaGlzIGlzIGEgaGV4IHZhbHVlLlxuICAgICAqIEEgdmFsdWUgb2YgMHhGRkZGRkYgd2lsbCByZW1vdmUgYW55IHRpbnQgZWZmZWN0LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDB4RkZGRkZGXG4gICAgICovXG4gICAgZ2V0IHRpbnQoKTogbnVtYmVyXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGludDtcbiAgICB9XG5cbiAgICBzZXQgdGludCh2YWx1ZTogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgdGhpcy5fdGludCA9IHZhbHVlO1xuICAgICAgICB0aGlzLl90aW50UkdCID0gKHZhbHVlID4+IDE2KSArICh2YWx1ZSAmIDB4ZmYwMCkgKyAoKHZhbHVlICYgMHhmZikgPDwgMTYpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSB0ZXh0dXJlIHRoYXQgdGhlIHNwcml0ZSBpcyB1c2luZ1xuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlfVxuICAgICAqL1xuICAgIGdldCB0ZXh0dXJlKCk6IFRleHR1cmVcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl90ZXh0dXJlO1xuICAgIH1cblxuICAgIHNldCB0ZXh0dXJlKHZhbHVlOiBUZXh0dXJlKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX3RleHR1cmUgPT09IHZhbHVlKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fdGV4dHVyZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZS5vZmYoJ3VwZGF0ZScsIHRoaXMuX29uVGV4dHVyZVVwZGF0ZSwgdGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl90ZXh0dXJlID0gdmFsdWUgfHwgVGV4dHVyZS5FTVBUWTtcbiAgICAgICAgdGhpcy5fY2FjaGVkVGludCA9IDB4RkZGRkZGO1xuXG4gICAgICAgIHRoaXMuX3RleHR1cmVJRCA9IC0xO1xuICAgICAgICB0aGlzLl90ZXh0dXJlVHJpbW1lZElEID0gLTE7XG5cbiAgICAgICAgaWYgKHZhbHVlKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyB3YWl0IGZvciB0aGUgdGV4dHVyZSB0byBsb2FkXG4gICAgICAgICAgICBpZiAodmFsdWUuYmFzZVRleHR1cmUudmFsaWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5fb25UZXh0dXJlVXBkYXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFsdWUub25jZSgndXBkYXRlJywgdGhpcy5fb25UZXh0dXJlVXBkYXRlLCB0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIi8qKlxuICogQ29uc3RhbnRzIHRoYXQgZGVmaW5lIHRoZSB0eXBlIG9mIGdyYWRpZW50IG9uIHRleHQuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbmFtZSBURVhUX0dSQURJRU5UXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHR5cGUge29iamVjdH1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMSU5FQVJfVkVSVElDQUwgVmVydGljYWwgZ3JhZGllbnRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMSU5FQVJfSE9SSVpPTlRBTCBMaW5lYXIgZ3JhZGllbnRcbiAqL1xuZXhwb3J0IGVudW0gVEVYVF9HUkFESUVOVCB7XG4gICAgTElORUFSX1ZFUlRJQ0FMID0gMCxcbiAgICBMSU5FQVJfSE9SSVpPTlRBTCA9IDFcbn1cbiIsIi8vIGRpc2FibGluZyBlc2xpbnQgZm9yIG5vdywgZ29pbmcgdG8gcmV3cml0ZSB0aGlzIGluIHY1XG4vKiBlc2xpbnQtZGlzYWJsZSAqL1xuXG5pbXBvcnQgeyBURVhUX0dSQURJRU5UIH0gZnJvbSAnLi9jb25zdCc7XG5pbXBvcnQgeyBoZXgyc3RyaW5nIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuXG5leHBvcnQgdHlwZSBUZXh0U3R5bGVBbGlnbiA9ICdsZWZ0J3wnY2VudGVyJ3wncmlnaHQnO1xuZXhwb3J0IHR5cGUgVGV4dFN0eWxlRmlsbCA9IHN0cmluZ3xzdHJpbmdbXXxudW1iZXJ8bnVtYmVyW118Q2FudmFzR3JhZGllbnR8Q2FudmFzUGF0dGVybjtcbmV4cG9ydCB0eXBlIFRleHRTdHlsZUZvbnRTdHlsZSA9ICdub3JtYWwnfCdpdGFsaWMnfCdvYmxpcXVlJztcbmV4cG9ydCB0eXBlIFRleHRTdHlsZUZvbnRWYXJpYW50ID0gJ25vcm1hbCd8J3NtYWxsLWNhcHMnO1xuZXhwb3J0IHR5cGUgVGV4dFN0eWxlRm9udFdlaWdodCA9ICdub3JtYWwnfCdib2xkJ3wnYm9sZGVyJ3wnbGlnaHRlcid8JzEwMCd8JzIwMCd8JzMwMCd8JzQwMCd8JzUwMCd8JzYwMCd8JzcwMCd8JzgwMCd8JzkwMCc7XG5leHBvcnQgdHlwZSBUZXh0U3R5bGVMaW5lSm9pbiA9ICdtaXRlcid8J3JvdW5kJ3wnYmV2ZWwnO1xuZXhwb3J0IHR5cGUgVGV4dFN0eWxlVGV4dEJhc2VsaW5lID0gJ2FscGhhYmV0aWMnfCd0b3AnfCdoYW5naW5nJ3wnbWlkZGxlJ3wnaWRlb2dyYXBoaWMnfCdib3R0b20nO1xuZXhwb3J0IHR5cGUgVGV4dFN0eWxlV2hpdGVTcGFjZSA9ICdub3JtYWwnfCdwcmUnfCdwcmUtbGluZSc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVRleHRTdHlsZSB7XG4gICAgYWxpZ246IFRleHRTdHlsZUFsaWduO1xuICAgIGJyZWFrV29yZHM6IGJvb2xlYW47XG4gICAgZHJvcFNoYWRvdzogYm9vbGVhbjtcbiAgICBkcm9wU2hhZG93QWxwaGE6IG51bWJlcjtcbiAgICBkcm9wU2hhZG93QW5nbGU6IG51bWJlcjtcbiAgICBkcm9wU2hhZG93Qmx1cjogbnVtYmVyO1xuICAgIGRyb3BTaGFkb3dDb2xvcjogc3RyaW5nfG51bWJlcjtcbiAgICBkcm9wU2hhZG93RGlzdGFuY2U6IG51bWJlcjtcbiAgICBmaWxsOiBUZXh0U3R5bGVGaWxsO1xuICAgIGZpbGxHcmFkaWVudFR5cGU6IFRFWFRfR1JBRElFTlQ7XG4gICAgZmlsbEdyYWRpZW50U3RvcHM6IG51bWJlcltdO1xuICAgIGZvbnRGYW1pbHk6IHN0cmluZyB8IHN0cmluZ1tdO1xuICAgIGZvbnRTaXplOiBudW1iZXIgfCBzdHJpbmc7XG4gICAgZm9udFN0eWxlOiBUZXh0U3R5bGVGb250U3R5bGU7XG4gICAgZm9udFZhcmlhbnQ6IFRleHRTdHlsZUZvbnRWYXJpYW50O1xuICAgIGZvbnRXZWlnaHQ6IFRleHRTdHlsZUZvbnRXZWlnaHQ7XG4gICAgbGV0dGVyU3BhY2luZzogbnVtYmVyO1xuICAgIGxpbmVIZWlnaHQ6IG51bWJlcjtcbiAgICBsaW5lSm9pbjogVGV4dFN0eWxlTGluZUpvaW47XG4gICAgbWl0ZXJMaW1pdDogbnVtYmVyO1xuICAgIHBhZGRpbmc6IG51bWJlcjtcbiAgICBzdHJva2U6IHN0cmluZ3xudW1iZXI7XG4gICAgc3Ryb2tlVGhpY2tuZXNzOiBudW1iZXI7XG4gICAgdGV4dEJhc2VsaW5lOiBUZXh0U3R5bGVUZXh0QmFzZWxpbmU7XG4gICAgdHJpbTogYm9vbGVhbjtcbiAgICB3aGl0ZVNwYWNlOiBUZXh0U3R5bGVXaGl0ZVNwYWNlO1xuICAgIHdvcmRXcmFwOiBib29sZWFuO1xuICAgIHdvcmRXcmFwV2lkdGg6IG51bWJlcjtcbiAgICBsZWFkaW5nOiBudW1iZXI7XG59XG5cbmNvbnN0IGRlZmF1bHRTdHlsZTogSVRleHRTdHlsZSA9IHtcbiAgICBhbGlnbjogJ2xlZnQnLFxuICAgIGJyZWFrV29yZHM6IGZhbHNlLFxuICAgIGRyb3BTaGFkb3c6IGZhbHNlLFxuICAgIGRyb3BTaGFkb3dBbHBoYTogMSxcbiAgICBkcm9wU2hhZG93QW5nbGU6IE1hdGguUEkgLyA2LFxuICAgIGRyb3BTaGFkb3dCbHVyOiAwLFxuICAgIGRyb3BTaGFkb3dDb2xvcjogJ2JsYWNrJyxcbiAgICBkcm9wU2hhZG93RGlzdGFuY2U6IDUsXG4gICAgZmlsbDogJ2JsYWNrJyxcbiAgICBmaWxsR3JhZGllbnRUeXBlOiBURVhUX0dSQURJRU5ULkxJTkVBUl9WRVJUSUNBTCxcbiAgICBmaWxsR3JhZGllbnRTdG9wczogW10sXG4gICAgZm9udEZhbWlseTogJ0FyaWFsJyxcbiAgICBmb250U2l6ZTogMjYsXG4gICAgZm9udFN0eWxlOiAnbm9ybWFsJyxcbiAgICBmb250VmFyaWFudDogJ25vcm1hbCcsXG4gICAgZm9udFdlaWdodDogJ25vcm1hbCcsXG4gICAgbGV0dGVyU3BhY2luZzogMCxcbiAgICBsaW5lSGVpZ2h0OiAwLFxuICAgIGxpbmVKb2luOiAnbWl0ZXInLFxuICAgIG1pdGVyTGltaXQ6IDEwLFxuICAgIHBhZGRpbmc6IDAsXG4gICAgc3Ryb2tlOiAnYmxhY2snLFxuICAgIHN0cm9rZVRoaWNrbmVzczogMCxcbiAgICB0ZXh0QmFzZWxpbmU6ICdhbHBoYWJldGljJyxcbiAgICB0cmltOiBmYWxzZSxcbiAgICB3aGl0ZVNwYWNlOiAncHJlJyxcbiAgICB3b3JkV3JhcDogZmFsc2UsXG4gICAgd29yZFdyYXBXaWR0aDogMTAwLFxuICAgIGxlYWRpbmc6IDAsXG59O1xuXG5jb25zdCBnZW5lcmljRm9udEZhbWlsaWVzID0gW1xuICAgICdzZXJpZicsXG4gICAgJ3NhbnMtc2VyaWYnLFxuICAgICdtb25vc3BhY2UnLFxuICAgICdjdXJzaXZlJyxcbiAgICAnZmFudGFzeScsXG4gICAgJ3N5c3RlbS11aScsXG5dO1xuXG4vKipcbiAqIEEgVGV4dFN0eWxlIE9iamVjdCBjb250YWlucyBpbmZvcm1hdGlvbiB0byBkZWNvcmF0ZSBhIFRleHQgb2JqZWN0cy5cbiAqXG4gKiBBbiBpbnN0YW5jZSBjYW4gYmUgc2hhcmVkIGJldHdlZW4gbXVsdGlwbGUgVGV4dCBvYmplY3RzOyB0aGVuIGNoYW5naW5nIHRoZSBzdHlsZSB3aWxsIHVwZGF0ZSBhbGwgdGV4dCBvYmplY3RzIHVzaW5nIGl0LlxuICpcbiAqIEEgdG9vbCBjYW4gYmUgdXNlZCB0byBnZW5lcmF0ZSBhIHRleHQgc3R5bGUgW2hlcmVdKGh0dHBzOi8vcGl4aWpzLmlvL3BpeGktdGV4dC1zdHlsZSkuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgY2xhc3MgVGV4dFN0eWxlIGltcGxlbWVudHMgSVRleHRTdHlsZVxue1xuICAgIHB1YmxpYyBzdHlsZUlEOiBudW1iZXI7XG5cbiAgICBwcm90ZWN0ZWQgX2FsaWduOiBUZXh0U3R5bGVBbGlnbjtcbiAgICBwcm90ZWN0ZWQgX2JyZWFrV29yZHM6IGJvb2xlYW47XG4gICAgcHJvdGVjdGVkIF9kcm9wU2hhZG93OiBib29sZWFuO1xuICAgIHByb3RlY3RlZCBfZHJvcFNoYWRvd0FscGhhOiBudW1iZXI7XG4gICAgcHJvdGVjdGVkIF9kcm9wU2hhZG93QW5nbGU6IG51bWJlcjtcbiAgICBwcm90ZWN0ZWQgX2Ryb3BTaGFkb3dCbHVyOiBudW1iZXI7XG4gICAgcHJvdGVjdGVkIF9kcm9wU2hhZG93Q29sb3I6IHN0cmluZ3xudW1iZXI7XG4gICAgcHJvdGVjdGVkIF9kcm9wU2hhZG93RGlzdGFuY2U6IG51bWJlcjtcbiAgICBwcm90ZWN0ZWQgX2ZpbGw6IFRleHRTdHlsZUZpbGw7XG4gICAgcHJvdGVjdGVkIF9maWxsR3JhZGllbnRUeXBlOiBURVhUX0dSQURJRU5UO1xuICAgIHByb3RlY3RlZCBfZmlsbEdyYWRpZW50U3RvcHM6IG51bWJlcltdO1xuICAgIHByb3RlY3RlZCBfZm9udEZhbWlseTogc3RyaW5nfHN0cmluZ1tdO1xuICAgIHByb3RlY3RlZCBfZm9udFNpemU6IG51bWJlcnxzdHJpbmc7XG4gICAgcHJvdGVjdGVkIF9mb250U3R5bGU6IFRleHRTdHlsZUZvbnRTdHlsZTtcbiAgICBwcm90ZWN0ZWQgX2ZvbnRWYXJpYW50OiBUZXh0U3R5bGVGb250VmFyaWFudDtcbiAgICBwcm90ZWN0ZWQgX2ZvbnRXZWlnaHQ6IFRleHRTdHlsZUZvbnRXZWlnaHQ7XG4gICAgcHJvdGVjdGVkIF9sZXR0ZXJTcGFjaW5nOiBudW1iZXI7XG4gICAgcHJvdGVjdGVkIF9saW5lSGVpZ2h0OiBudW1iZXI7XG4gICAgcHJvdGVjdGVkIF9saW5lSm9pbjogVGV4dFN0eWxlTGluZUpvaW47XG4gICAgcHJvdGVjdGVkIF9taXRlckxpbWl0OiBudW1iZXI7XG4gICAgcHJvdGVjdGVkIF9wYWRkaW5nOiBudW1iZXI7XG4gICAgcHJvdGVjdGVkIF9zdHJva2U6IHN0cmluZ3xudW1iZXI7XG4gICAgcHJvdGVjdGVkIF9zdHJva2VUaGlja25lc3M6IG51bWJlcjtcbiAgICBwcm90ZWN0ZWQgX3RleHRCYXNlbGluZTogVGV4dFN0eWxlVGV4dEJhc2VsaW5lO1xuICAgIHByb3RlY3RlZCBfdHJpbTogYm9vbGVhbjtcbiAgICBwcm90ZWN0ZWQgX3doaXRlU3BhY2U6IFRleHRTdHlsZVdoaXRlU3BhY2U7XG4gICAgcHJvdGVjdGVkIF93b3JkV3JhcDogYm9vbGVhbjtcbiAgICBwcm90ZWN0ZWQgX3dvcmRXcmFwV2lkdGg6IG51bWJlcjtcbiAgICBwcm90ZWN0ZWQgX2xlYWRpbmc6IG51bWJlcjtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbc3R5bGVdIC0gVGhlIHN0eWxlIHBhcmFtZXRlcnNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0eWxlLmFsaWduPSdsZWZ0J10gLSBBbGlnbm1lbnQgZm9yIG11bHRpbGluZSB0ZXh0ICgnbGVmdCcsICdjZW50ZXInIG9yICdyaWdodCcpLFxuICAgICAqICBkb2VzIG5vdCBhZmZlY3Qgc2luZ2xlIGxpbmUgdGV4dFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3N0eWxlLmJyZWFrV29yZHM9ZmFsc2VdIC0gSW5kaWNhdGVzIGlmIGxpbmVzIGNhbiBiZSB3cmFwcGVkIHdpdGhpbiB3b3JkcywgaXRcbiAgICAgKiAgbmVlZHMgd29yZFdyYXAgdG8gYmUgc2V0IHRvIHRydWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtzdHlsZS5kcm9wU2hhZG93PWZhbHNlXSAtIFNldCBhIGRyb3Agc2hhZG93IGZvciB0aGUgdGV4dFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUuZHJvcFNoYWRvd0FscGhhPTFdIC0gU2V0IGFscGhhIGZvciB0aGUgZHJvcCBzaGFkb3dcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLmRyb3BTaGFkb3dBbmdsZT1NYXRoLlBJLzZdIC0gU2V0IGEgYW5nbGUgb2YgdGhlIGRyb3Agc2hhZG93XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5kcm9wU2hhZG93Qmx1cj0wXSAtIFNldCBhIHNoYWRvdyBibHVyIHJhZGl1c1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcn0gW3N0eWxlLmRyb3BTaGFkb3dDb2xvcj0nYmxhY2snXSAtIEEgZmlsbCBzdHlsZSB0byBiZSB1c2VkIG9uIHRoZSBkcm9wc2hhZG93IGUuZyAncmVkJywgJyMwMEZGMDAnXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5kcm9wU2hhZG93RGlzdGFuY2U9NV0gLSBTZXQgYSBkaXN0YW5jZSBvZiB0aGUgZHJvcCBzaGFkb3dcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xzdHJpbmdbXXxudW1iZXJ8bnVtYmVyW118Q2FudmFzR3JhZGllbnR8Q2FudmFzUGF0dGVybn0gW3N0eWxlLmZpbGw9J2JsYWNrJ10gLSBBIGNhbnZhc1xuICAgICAqICBmaWxsc3R5bGUgdGhhdCB3aWxsIGJlIHVzZWQgb24gdGhlIHRleHQgZS5nICdyZWQnLCAnIzAwRkYwMCcuIENhbiBiZSBhbiBhcnJheSB0byBjcmVhdGUgYSBncmFkaWVudFxuICAgICAqICBlZyBbJyMwMDAwMDAnLCcjRkZGRkZGJ11cbiAgICAgKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC9maWxsU3R5bGV8TUROfVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUuZmlsbEdyYWRpZW50VHlwZT1QSVhJLlRFWFRfR1JBRElFTlQuTElORUFSX1ZFUlRJQ0FMXSAtIElmIGZpbGwgaXMgYW4gYXJyYXkgb2YgY29sb3Vyc1xuICAgICAqICB0byBjcmVhdGUgYSBncmFkaWVudCwgdGhpcyBjYW4gY2hhbmdlIHRoZSB0eXBlL2RpcmVjdGlvbiBvZiB0aGUgZ3JhZGllbnQuIFNlZSB7QGxpbmsgUElYSS5URVhUX0dSQURJRU5UfVxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IFtzdHlsZS5maWxsR3JhZGllbnRTdG9wc10gLSBJZiBmaWxsIGlzIGFuIGFycmF5IG9mIGNvbG91cnMgdG8gY3JlYXRlIGEgZ3JhZGllbnQsIHRoaXMgYXJyYXkgY2FuIHNldFxuICAgICAqIHRoZSBzdG9wIHBvaW50cyAobnVtYmVycyBiZXR3ZWVuIDAgYW5kIDEpIGZvciB0aGUgY29sb3IsIG92ZXJyaWRpbmcgdGhlIGRlZmF1bHQgYmVoYXZpb3VyIG9mIGV2ZW5seSBzcGFjaW5nIHRoZW0uXG4gICAgICogQHBhcmFtIHtzdHJpbmd8c3RyaW5nW119IFtzdHlsZS5mb250RmFtaWx5PSdBcmlhbCddIC0gVGhlIGZvbnQgZmFtaWx5XG4gICAgICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfSBbc3R5bGUuZm9udFNpemU9MjZdIC0gVGhlIGZvbnQgc2l6ZSAoYXMgYSBudW1iZXIgaXQgY29udmVydHMgdG8gcHgsIGJ1dCBhcyBhIHN0cmluZyxcbiAgICAgKiAgZXF1aXZhbGVudHMgYXJlICcyNnB4JywnMjBwdCcsJzE2MCUnIG9yICcxLjZlbScpXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHlsZS5mb250U3R5bGU9J25vcm1hbCddIC0gVGhlIGZvbnQgc3R5bGUgKCdub3JtYWwnLCAnaXRhbGljJyBvciAnb2JsaXF1ZScpXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHlsZS5mb250VmFyaWFudD0nbm9ybWFsJ10gLSBUaGUgZm9udCB2YXJpYW50ICgnbm9ybWFsJyBvciAnc21hbGwtY2FwcycpXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHlsZS5mb250V2VpZ2h0PSdub3JtYWwnXSAtIFRoZSBmb250IHdlaWdodCAoJ25vcm1hbCcsICdib2xkJywgJ2JvbGRlcicsICdsaWdodGVyJyBhbmQgJzEwMCcsXG4gICAgICogICcyMDAnLCAnMzAwJywgJzQwMCcsICc1MDAnLCAnNjAwJywgJzcwMCcsICc4MDAnIG9yICc5MDAnKVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUubGVhZGluZz0wXSAtIFRoZSBzcGFjZSBiZXR3ZWVuIGxpbmVzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5sZXR0ZXJTcGFjaW5nPTBdIC0gVGhlIGFtb3VudCBvZiBzcGFjaW5nIGJldHdlZW4gbGV0dGVycywgZGVmYXVsdCBpcyAwXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5saW5lSGVpZ2h0XSAtIFRoZSBsaW5lIGhlaWdodCwgYSBudW1iZXIgdGhhdCByZXByZXNlbnRzIHRoZSB2ZXJ0aWNhbCBzcGFjZSB0aGF0IGEgbGV0dGVyIHVzZXNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0eWxlLmxpbmVKb2luPSdtaXRlciddIC0gVGhlIGxpbmVKb2luIHByb3BlcnR5IHNldHMgdGhlIHR5cGUgb2YgY29ybmVyIGNyZWF0ZWQsIGl0IGNhbiByZXNvbHZlXG4gICAgICogICAgICBzcGlrZWQgdGV4dCBpc3N1ZXMuIFBvc3NpYmxlIHZhbHVlcyBcIm1pdGVyXCIgKGNyZWF0ZXMgYSBzaGFycCBjb3JuZXIpLCBcInJvdW5kXCIgKGNyZWF0ZXMgYSByb3VuZCBjb3JuZXIpIG9yIFwiYmV2ZWxcIlxuICAgICAqICAgICAgKGNyZWF0ZXMgYSBzcXVhcmVkIGNvcm5lcikuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5taXRlckxpbWl0PTEwXSAtIFRoZSBtaXRlciBsaW1pdCB0byB1c2Ugd2hlbiB1c2luZyB0aGUgJ21pdGVyJyBsaW5lSm9pbiBtb2RlLiBUaGlzIGNhbiByZWR1Y2VcbiAgICAgKiAgICAgIG9yIGluY3JlYXNlIHRoZSBzcGlraW5lc3Mgb2YgcmVuZGVyZWQgdGV4dC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLnBhZGRpbmc9MF0gLSBPY2Nhc2lvbmFsbHkgc29tZSBmb250cyBhcmUgY3JvcHBlZC4gQWRkaW5nIHNvbWUgcGFkZGluZyB3aWxsIHByZXZlbnQgdGhpcyBmcm9tXG4gICAgICogICAgIGhhcHBlbmluZyBieSBhZGRpbmcgcGFkZGluZyB0byBhbGwgc2lkZXMgb2YgdGhlIHRleHQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBbc3R5bGUuc3Ryb2tlPSdibGFjayddIC0gQSBjYW52YXMgZmlsbHN0eWxlIHRoYXQgd2lsbCBiZSB1c2VkIG9uIHRoZSB0ZXh0IHN0cm9rZVxuICAgICAqICBlLmcgJ2JsdWUnLCAnI0ZDRkYwMCdcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLnN0cm9rZVRoaWNrbmVzcz0wXSAtIEEgbnVtYmVyIHRoYXQgcmVwcmVzZW50cyB0aGUgdGhpY2tuZXNzIG9mIHRoZSBzdHJva2UuXG4gICAgICogIERlZmF1bHQgaXMgMCAobm8gc3Ryb2tlKVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3N0eWxlLnRyaW09ZmFsc2VdIC0gVHJpbSB0cmFuc3BhcmVudCBib3JkZXJzXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHlsZS50ZXh0QmFzZWxpbmU9J2FscGhhYmV0aWMnXSAtIFRoZSBiYXNlbGluZSBvZiB0aGUgdGV4dCB0aGF0IGlzIHJlbmRlcmVkLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3R5bGUud2hpdGVTcGFjZT0ncHJlJ10gLSBEZXRlcm1pbmVzIHdoZXRoZXIgbmV3bGluZXMgJiBzcGFjZXMgYXJlIGNvbGxhcHNlZCBvciBwcmVzZXJ2ZWQgXCJub3JtYWxcIlxuICAgICAqICAgICAgKGNvbGxhcHNlLCBjb2xsYXBzZSksIFwicHJlXCIgKHByZXNlcnZlLCBwcmVzZXJ2ZSkgfCBcInByZS1saW5lXCIgKHByZXNlcnZlLCBjb2xsYXBzZSkuIEl0IG5lZWRzIHdvcmRXcmFwIHRvIGJlIHNldCB0byB0cnVlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc3R5bGUud29yZFdyYXA9ZmFsc2VdIC0gSW5kaWNhdGVzIGlmIHdvcmQgd3JhcCBzaG91bGQgYmUgdXNlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUud29yZFdyYXBXaWR0aD0xMDBdIC0gVGhlIHdpZHRoIGF0IHdoaWNoIHRleHQgd2lsbCB3cmFwLCBpdCBuZWVkcyB3b3JkV3JhcCB0byBiZSBzZXQgdG8gdHJ1ZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHN0eWxlOiBQYXJ0aWFsPElUZXh0U3R5bGU+KVxuICAgIHtcbiAgICAgICAgdGhpcy5zdHlsZUlEID0gMDtcblxuICAgICAgICB0aGlzLnJlc2V0KCk7XG5cbiAgICAgICAgZGVlcENvcHlQcm9wZXJ0aWVzKHRoaXMsIHN0eWxlLCBzdHlsZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBUZXh0U3R5bGUgb2JqZWN0IHdpdGggdGhlIHNhbWUgdmFsdWVzIGFzIHRoaXMgb25lLlxuICAgICAqIE5vdGUgdGhhdCB0aGUgb25seSB0aGUgcHJvcGVydGllcyBvZiB0aGUgb2JqZWN0IGFyZSBjbG9uZWQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHRTdHlsZX0gTmV3IGNsb25lZCBUZXh0U3R5bGUgb2JqZWN0XG4gICAgICovXG4gICAgcHVibGljIGNsb25lKCk6IFRleHRTdHlsZVxuICAgIHtcbiAgICAgICAgY29uc3QgY2xvbmVkUHJvcGVydGllczogUGFydGlhbDxJVGV4dFN0eWxlPiA9IHt9O1xuXG4gICAgICAgIGRlZXBDb3B5UHJvcGVydGllcyhjbG9uZWRQcm9wZXJ0aWVzLCB0aGlzLCBkZWZhdWx0U3R5bGUpO1xuXG4gICAgICAgIHJldHVybiBuZXcgVGV4dFN0eWxlKGNsb25lZFByb3BlcnRpZXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlc2V0cyBhbGwgcHJvcGVydGllcyB0byB0aGUgZGVmYXVsdHMgc3BlY2lmaWVkIGluIFRleHRTdHlsZS5wcm90b3R5cGUuX2RlZmF1bHRcbiAgICAgKi9cbiAgICBwdWJsaWMgcmVzZXQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgZGVlcENvcHlQcm9wZXJ0aWVzKHRoaXMsIGRlZmF1bHRTdHlsZSwgZGVmYXVsdFN0eWxlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBbGlnbm1lbnQgZm9yIG11bHRpbGluZSB0ZXh0ICgnbGVmdCcsICdjZW50ZXInIG9yICdyaWdodCcpLCBkb2VzIG5vdCBhZmZlY3Qgc2luZ2xlIGxpbmUgdGV4dFxuICAgICAqXG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqL1xuICAgIGdldCBhbGlnbigpOiBUZXh0U3R5bGVBbGlnblxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FsaWduO1xuICAgIH1cbiAgICBzZXQgYWxpZ24oYWxpZ246IFRleHRTdHlsZUFsaWduKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX2FsaWduICE9PSBhbGlnbilcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fYWxpZ24gPSBhbGlnbjtcbiAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIGlmIGxpbmVzIGNhbiBiZSB3cmFwcGVkIHdpdGhpbiB3b3JkcywgaXQgbmVlZHMgd29yZFdyYXAgdG8gYmUgc2V0IHRvIHRydWVcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICovXG4gICAgZ2V0IGJyZWFrV29yZHMoKTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2JyZWFrV29yZHM7XG4gICAgfVxuICAgIHNldCBicmVha1dvcmRzKGJyZWFrV29yZHM6IGJvb2xlYW4pXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fYnJlYWtXb3JkcyAhPT0gYnJlYWtXb3JkcylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fYnJlYWtXb3JkcyA9IGJyZWFrV29yZHM7XG4gICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCBhIGRyb3Agc2hhZG93IGZvciB0aGUgdGV4dFxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBnZXQgZHJvcFNoYWRvdygpOiBib29sZWFuXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fZHJvcFNoYWRvdztcbiAgICB9XG4gICAgc2V0IGRyb3BTaGFkb3coZHJvcFNoYWRvdzogYm9vbGVhbilcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9kcm9wU2hhZG93ICE9PSBkcm9wU2hhZG93KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9kcm9wU2hhZG93ID0gZHJvcFNoYWRvdztcbiAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IGFscGhhIGZvciB0aGUgZHJvcCBzaGFkb3dcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgZHJvcFNoYWRvd0FscGhhKCk6IG51bWJlclxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Ryb3BTaGFkb3dBbHBoYTtcbiAgICB9XG4gICAgc2V0IGRyb3BTaGFkb3dBbHBoYShkcm9wU2hhZG93QWxwaGE6IG51bWJlcilcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9kcm9wU2hhZG93QWxwaGEgIT09IGRyb3BTaGFkb3dBbHBoYSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fZHJvcFNoYWRvd0FscGhhID0gZHJvcFNoYWRvd0FscGhhO1xuICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgYSBhbmdsZSBvZiB0aGUgZHJvcCBzaGFkb3dcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgZHJvcFNoYWRvd0FuZ2xlKCk6IG51bWJlclxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Ryb3BTaGFkb3dBbmdsZTtcbiAgICB9XG4gICAgc2V0IGRyb3BTaGFkb3dBbmdsZShkcm9wU2hhZG93QW5nbGU6IG51bWJlcilcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9kcm9wU2hhZG93QW5nbGUgIT09IGRyb3BTaGFkb3dBbmdsZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fZHJvcFNoYWRvd0FuZ2xlID0gZHJvcFNoYWRvd0FuZ2xlO1xuICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgYSBzaGFkb3cgYmx1ciByYWRpdXNcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgZHJvcFNoYWRvd0JsdXIoKTogbnVtYmVyXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fZHJvcFNoYWRvd0JsdXI7XG4gICAgfVxuICAgIHNldCBkcm9wU2hhZG93Qmx1cihkcm9wU2hhZG93Qmx1cjogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX2Ryb3BTaGFkb3dCbHVyICE9PSBkcm9wU2hhZG93Qmx1cilcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fZHJvcFNoYWRvd0JsdXIgPSBkcm9wU2hhZG93Qmx1cjtcbiAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBmaWxsIHN0eWxlIHRvIGJlIHVzZWQgb24gdGhlIGRyb3BzaGFkb3cgZS5nICdyZWQnLCAnIzAwRkYwMCdcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge3N0cmluZ3xudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IGRyb3BTaGFkb3dDb2xvcigpOiBudW1iZXIgfCBzdHJpbmdcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kcm9wU2hhZG93Q29sb3I7XG4gICAgfVxuICAgIHNldCBkcm9wU2hhZG93Q29sb3IoZHJvcFNoYWRvd0NvbG9yOiBudW1iZXIgfCBzdHJpbmcpXG4gICAge1xuICAgICAgICBjb25zdCBvdXRwdXRDb2xvciA9IGdldENvbG9yKGRyb3BTaGFkb3dDb2xvcik7XG4gICAgICAgIGlmICh0aGlzLl9kcm9wU2hhZG93Q29sb3IgIT09IG91dHB1dENvbG9yKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9kcm9wU2hhZG93Q29sb3IgPSBvdXRwdXRDb2xvcjtcbiAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IGEgZGlzdGFuY2Ugb2YgdGhlIGRyb3Agc2hhZG93XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IGRyb3BTaGFkb3dEaXN0YW5jZSgpOiBudW1iZXJcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kcm9wU2hhZG93RGlzdGFuY2U7XG4gICAgfVxuICAgIHNldCBkcm9wU2hhZG93RGlzdGFuY2UoZHJvcFNoYWRvd0Rpc3RhbmNlOiBudW1iZXIpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fZHJvcFNoYWRvd0Rpc3RhbmNlICE9PSBkcm9wU2hhZG93RGlzdGFuY2UpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2Ryb3BTaGFkb3dEaXN0YW5jZSA9IGRyb3BTaGFkb3dEaXN0YW5jZTtcbiAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBjYW52YXMgZmlsbHN0eWxlIHRoYXQgd2lsbCBiZSB1c2VkIG9uIHRoZSB0ZXh0IGUuZyAncmVkJywgJyMwMEZGMDAnLlxuICAgICAqIENhbiBiZSBhbiBhcnJheSB0byBjcmVhdGUgYSBncmFkaWVudCBlZyBbJyMwMDAwMDAnLCcjRkZGRkZGJ11cbiAgICAgKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC9maWxsU3R5bGV8TUROfVxuICAgICAqXG4gICAgICogQG1lbWJlciB7c3RyaW5nfHN0cmluZ1tdfG51bWJlcnxudW1iZXJbXXxDYW52YXNHcmFkaWVudHxDYW52YXNQYXR0ZXJufVxuICAgICAqL1xuICAgIGdldCBmaWxsKCk6IFRleHRTdHlsZUZpbGxcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9maWxsO1xuICAgIH1cbiAgICBzZXQgZmlsbChmaWxsOiBUZXh0U3R5bGVGaWxsKVxuICAgIHtcbiAgICAgICAgLy8gVE9ETzogQ2FuJ3QgaGF2ZSBkaWZmZXJlbnQgdHlwZXMgZm9yIGdldHRlciBhbmQgc2V0dGVyLiBUaGUgZ2V0dGVyIHNob3VsZG4ndCBoYXZlIHRoZSBudW1iZXIgdHlwZSBhc1xuICAgICAgICAvLyAgICAgICB0aGUgc2V0dGVyIGNvbnZlcnRzIHRvIHN0cmluZy4gU2VlIHRoaXMgdGhyZWFkIGZvciBtb3JlIGRldGFpbHM6XG4gICAgICAgIC8vICAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb3NvZnQvVHlwZVNjcmlwdC9pc3N1ZXMvMjUyMVxuICAgICAgICAvLyBUT0RPOiBOb3Qgc3VyZSBpZiBnZXRDb2xvciB3b3JrcyBwcm9wZXJseSB3aXRoIENhbnZhc0dyYWRpZW50IGFuZC9vciBDYW52YXNQYXR0ZXJuLCBjYW4ndCBwYXNzIGluXG4gICAgICAgIC8vICAgICAgIHdpdGhvdXQgY2FzdGluZyBoZXJlLlxuICAgICAgICBjb25zdCBvdXRwdXRDb2xvciA9IGdldENvbG9yKGZpbGwgYXMgYW55KTtcbiAgICAgICAgaWYgKHRoaXMuX2ZpbGwgIT09IG91dHB1dENvbG9yKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9maWxsID0gb3V0cHV0Q29sb3I7XG4gICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIElmIGZpbGwgaXMgYW4gYXJyYXkgb2YgY29sb3VycyB0byBjcmVhdGUgYSBncmFkaWVudCwgdGhpcyBjYW4gY2hhbmdlIHRoZSB0eXBlL2RpcmVjdGlvbiBvZiB0aGUgZ3JhZGllbnQuXG4gICAgICogU2VlIHtAbGluayBQSVhJLlRFWFRfR1JBRElFTlR9XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IGZpbGxHcmFkaWVudFR5cGUoKTogVEVYVF9HUkFESUVOVFxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZpbGxHcmFkaWVudFR5cGU7XG4gICAgfVxuICAgIHNldCBmaWxsR3JhZGllbnRUeXBlKGZpbGxHcmFkaWVudFR5cGU6IFRFWFRfR1JBRElFTlQpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fZmlsbEdyYWRpZW50VHlwZSAhPT0gZmlsbEdyYWRpZW50VHlwZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fZmlsbEdyYWRpZW50VHlwZSA9IGZpbGxHcmFkaWVudFR5cGU7XG4gICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIElmIGZpbGwgaXMgYW4gYXJyYXkgb2YgY29sb3VycyB0byBjcmVhdGUgYSBncmFkaWVudCwgdGhpcyBhcnJheSBjYW4gc2V0IHRoZSBzdG9wIHBvaW50c1xuICAgICAqIChudW1iZXJzIGJldHdlZW4gMCBhbmQgMSkgZm9yIHRoZSBjb2xvciwgb3ZlcnJpZGluZyB0aGUgZGVmYXVsdCBiZWhhdmlvdXIgb2YgZXZlbmx5IHNwYWNpbmcgdGhlbS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAqL1xuICAgIGdldCBmaWxsR3JhZGllbnRTdG9wcygpOiBudW1iZXJbXVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZpbGxHcmFkaWVudFN0b3BzO1xuICAgIH1cbiAgICBzZXQgZmlsbEdyYWRpZW50U3RvcHMoZmlsbEdyYWRpZW50U3RvcHM6IG51bWJlcltdKVxuICAgIHtcbiAgICAgICAgaWYgKCFhcmVBcnJheXNFcXVhbCh0aGlzLl9maWxsR3JhZGllbnRTdG9wcyxmaWxsR3JhZGllbnRTdG9wcykpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2ZpbGxHcmFkaWVudFN0b3BzID0gZmlsbEdyYWRpZW50U3RvcHM7XG4gICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBmb250IGZhbWlseVxuICAgICAqXG4gICAgICogQG1lbWJlciB7c3RyaW5nfHN0cmluZ1tdfVxuICAgICAqL1xuICAgIGdldCBmb250RmFtaWx5KCk6IHN0cmluZyB8IHN0cmluZ1tdXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fZm9udEZhbWlseTtcbiAgICB9XG4gICAgc2V0IGZvbnRGYW1pbHkoZm9udEZhbWlseTogc3RyaW5nIHwgc3RyaW5nW10pXG4gICAge1xuICAgICAgICBpZiAodGhpcy5mb250RmFtaWx5ICE9PSBmb250RmFtaWx5KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9mb250RmFtaWx5ID0gZm9udEZhbWlseTtcbiAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGZvbnQgc2l6ZVxuICAgICAqIChhcyBhIG51bWJlciBpdCBjb252ZXJ0cyB0byBweCwgYnV0IGFzIGEgc3RyaW5nLCBlcXVpdmFsZW50cyBhcmUgJzI2cHgnLCcyMHB0JywnMTYwJScgb3IgJzEuNmVtJylcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcnxzdHJpbmd9XG4gICAgICovXG4gICAgZ2V0IGZvbnRTaXplKCk6IG51bWJlciB8IHN0cmluZ1xuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZvbnRTaXplO1xuICAgIH1cbiAgICBzZXQgZm9udFNpemUoZm9udFNpemU6IG51bWJlciB8IHN0cmluZylcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9mb250U2l6ZSAhPT0gZm9udFNpemUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2ZvbnRTaXplID0gZm9udFNpemU7XG4gICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBmb250IHN0eWxlXG4gICAgICogKCdub3JtYWwnLCAnaXRhbGljJyBvciAnb2JsaXF1ZScpXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICovXG4gICAgZ2V0IGZvbnRTdHlsZSgpOiBUZXh0U3R5bGVGb250U3R5bGVcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9mb250U3R5bGU7XG4gICAgfVxuICAgIHNldCBmb250U3R5bGUoZm9udFN0eWxlOiBUZXh0U3R5bGVGb250U3R5bGUpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fZm9udFN0eWxlICE9PSBmb250U3R5bGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2ZvbnRTdHlsZSA9IGZvbnRTdHlsZTtcbiAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGZvbnQgdmFyaWFudFxuICAgICAqICgnbm9ybWFsJyBvciAnc21hbGwtY2FwcycpXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICovXG4gICAgZ2V0IGZvbnRWYXJpYW50KCk6IFRleHRTdHlsZUZvbnRWYXJpYW50XG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fZm9udFZhcmlhbnQ7XG4gICAgfVxuICAgIHNldCBmb250VmFyaWFudChmb250VmFyaWFudDogVGV4dFN0eWxlRm9udFZhcmlhbnQpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fZm9udFZhcmlhbnQgIT09IGZvbnRWYXJpYW50KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9mb250VmFyaWFudCA9IGZvbnRWYXJpYW50O1xuICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZm9udCB3ZWlnaHRcbiAgICAgKiAoJ25vcm1hbCcsICdib2xkJywgJ2JvbGRlcicsICdsaWdodGVyJyBhbmQgJzEwMCcsICcyMDAnLCAnMzAwJywgJzQwMCcsICc1MDAnLCAnNjAwJywgJzcwMCcsIDgwMCcgb3IgJzkwMCcpXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICovXG4gICAgZ2V0IGZvbnRXZWlnaHQoKTogVGV4dFN0eWxlRm9udFdlaWdodFxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZvbnRXZWlnaHQ7XG4gICAgfVxuICAgIHNldCBmb250V2VpZ2h0KGZvbnRXZWlnaHQ6IFRleHRTdHlsZUZvbnRXZWlnaHQpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fZm9udFdlaWdodCAhPT0gZm9udFdlaWdodClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fZm9udFdlaWdodCA9IGZvbnRXZWlnaHQ7XG4gICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBhbW91bnQgb2Ygc3BhY2luZyBiZXR3ZWVuIGxldHRlcnMsIGRlZmF1bHQgaXMgMFxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIGdldCBsZXR0ZXJTcGFjaW5nKCk6IG51bWJlclxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xldHRlclNwYWNpbmc7XG4gICAgfVxuICAgIHNldCBsZXR0ZXJTcGFjaW5nKGxldHRlclNwYWNpbmc6IG51bWJlcilcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9sZXR0ZXJTcGFjaW5nICE9PSBsZXR0ZXJTcGFjaW5nKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9sZXR0ZXJTcGFjaW5nID0gbGV0dGVyU3BhY2luZztcbiAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGxpbmUgaGVpZ2h0LCBhIG51bWJlciB0aGF0IHJlcHJlc2VudHMgdGhlIHZlcnRpY2FsIHNwYWNlIHRoYXQgYSBsZXR0ZXIgdXNlc1xuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIGdldCBsaW5lSGVpZ2h0KCk6IG51bWJlclxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xpbmVIZWlnaHQ7XG4gICAgfVxuICAgIHNldCBsaW5lSGVpZ2h0KGxpbmVIZWlnaHQ6IG51bWJlcilcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9saW5lSGVpZ2h0ICE9PSBsaW5lSGVpZ2h0KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9saW5lSGVpZ2h0ID0gbGluZUhlaWdodDtcbiAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIHNwYWNlIGJldHdlZW4gbGluZXNcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgbGVhZGluZygpOiBudW1iZXJcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9sZWFkaW5nO1xuICAgIH1cbiAgICBzZXQgbGVhZGluZyhsZWFkaW5nOiBudW1iZXIpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fbGVhZGluZyAhPT0gbGVhZGluZylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fbGVhZGluZyA9IGxlYWRpbmc7XG4gICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBsaW5lSm9pbiBwcm9wZXJ0eSBzZXRzIHRoZSB0eXBlIG9mIGNvcm5lciBjcmVhdGVkLCBpdCBjYW4gcmVzb2x2ZSBzcGlrZWQgdGV4dCBpc3N1ZXMuXG4gICAgICogRGVmYXVsdCBpcyAnbWl0ZXInIChjcmVhdGVzIGEgc2hhcnAgY29ybmVyKS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKi9cbiAgICBnZXQgbGluZUpvaW4oKTogVGV4dFN0eWxlTGluZUpvaW5cbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9saW5lSm9pbjtcbiAgICB9XG4gICAgc2V0IGxpbmVKb2luKGxpbmVKb2luOiBUZXh0U3R5bGVMaW5lSm9pbilcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9saW5lSm9pbiAhPT0gbGluZUpvaW4pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2xpbmVKb2luID0gbGluZUpvaW47XG4gICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBtaXRlciBsaW1pdCB0byB1c2Ugd2hlbiB1c2luZyB0aGUgJ21pdGVyJyBsaW5lSm9pbiBtb2RlXG4gICAgICogVGhpcyBjYW4gcmVkdWNlIG9yIGluY3JlYXNlIHRoZSBzcGlraW5lc3Mgb2YgcmVuZGVyZWQgdGV4dC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgbWl0ZXJMaW1pdCgpOiBudW1iZXJcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9taXRlckxpbWl0O1xuICAgIH1cbiAgICBzZXQgbWl0ZXJMaW1pdChtaXRlckxpbWl0OiBudW1iZXIpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fbWl0ZXJMaW1pdCAhPT0gbWl0ZXJMaW1pdClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fbWl0ZXJMaW1pdCA9IG1pdGVyTGltaXQ7XG4gICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE9jY2FzaW9uYWxseSBzb21lIGZvbnRzIGFyZSBjcm9wcGVkLiBBZGRpbmcgc29tZSBwYWRkaW5nIHdpbGwgcHJldmVudCB0aGlzIGZyb20gaGFwcGVuaW5nXG4gICAgICogYnkgYWRkaW5nIHBhZGRpbmcgdG8gYWxsIHNpZGVzIG9mIHRoZSB0ZXh0LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIGdldCBwYWRkaW5nKCk6IG51bWJlclxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BhZGRpbmc7XG4gICAgfVxuICAgIHNldCBwYWRkaW5nKHBhZGRpbmc6IG51bWJlcilcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9wYWRkaW5nICE9PSBwYWRkaW5nKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9wYWRkaW5nID0gcGFkZGluZztcbiAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBjYW52YXMgZmlsbHN0eWxlIHRoYXQgd2lsbCBiZSB1c2VkIG9uIHRoZSB0ZXh0IHN0cm9rZVxuICAgICAqIGUuZyAnYmx1ZScsICcjRkNGRjAwJ1xuICAgICAqXG4gICAgICogQG1lbWJlciB7c3RyaW5nfG51bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgc3Ryb2tlKCk6IHN0cmluZyB8IG51bWJlclxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0cm9rZTtcbiAgICB9XG4gICAgc2V0IHN0cm9rZShzdHJva2U6IHN0cmluZyB8IG51bWJlcilcbiAgICB7XG4gICAgICAgIC8vIFRPRE86IENhbid0IGhhdmUgZGlmZmVyZW50IHR5cGVzIGZvciBnZXR0ZXIgYW5kIHNldHRlci4gVGhlIGdldHRlciBzaG91bGRuJ3QgaGF2ZSB0aGUgbnVtYmVyIHR5cGUgYXNcbiAgICAgICAgLy8gICAgICAgdGhlIHNldHRlciBjb252ZXJ0cyB0byBzdHJpbmcuIFNlZSB0aGlzIHRocmVhZCBmb3IgbW9yZSBkZXRhaWxzOlxuICAgICAgICAvLyAgICAgICBodHRwczovL2dpdGh1Yi5jb20vbWljcm9zb2Z0L1R5cGVTY3JpcHQvaXNzdWVzLzI1MjFcbiAgICAgICAgY29uc3Qgb3V0cHV0Q29sb3IgPSBnZXRDb2xvcihzdHJva2UpO1xuICAgICAgICBpZiAodGhpcy5fc3Ryb2tlICE9PSBvdXRwdXRDb2xvcilcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fc3Ryb2tlID0gb3V0cHV0Q29sb3I7XG4gICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgbnVtYmVyIHRoYXQgcmVwcmVzZW50cyB0aGUgdGhpY2tuZXNzIG9mIHRoZSBzdHJva2UuXG4gICAgICogRGVmYXVsdCBpcyAwIChubyBzdHJva2UpXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IHN0cm9rZVRoaWNrbmVzcygpOiBudW1iZXJcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdHJva2VUaGlja25lc3M7XG4gICAgfVxuICAgIHNldCBzdHJva2VUaGlja25lc3Moc3Ryb2tlVGhpY2tuZXNzOiBudW1iZXIpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fc3Ryb2tlVGhpY2tuZXNzICE9PSBzdHJva2VUaGlja25lc3MpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3N0cm9rZVRoaWNrbmVzcyA9IHN0cm9rZVRoaWNrbmVzcztcbiAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2VsaW5lIG9mIHRoZSB0ZXh0IHRoYXQgaXMgcmVuZGVyZWQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICovXG4gICAgZ2V0IHRleHRCYXNlbGluZSgpOiBUZXh0U3R5bGVUZXh0QmFzZWxpbmVcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl90ZXh0QmFzZWxpbmU7XG4gICAgfVxuICAgIHNldCB0ZXh0QmFzZWxpbmUodGV4dEJhc2VsaW5lOiBUZXh0U3R5bGVUZXh0QmFzZWxpbmUpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fdGV4dEJhc2VsaW5lICE9PSB0ZXh0QmFzZWxpbmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3RleHRCYXNlbGluZSA9IHRleHRCYXNlbGluZTtcbiAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVHJpbSB0cmFuc3BhcmVudCBib3JkZXJzXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqL1xuICAgIGdldCB0cmltKCk6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl90cmltO1xuICAgIH1cbiAgICBzZXQgdHJpbSh0cmltOiBib29sZWFuKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX3RyaW0gIT09IHRyaW0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3RyaW0gPSB0cmltO1xuICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIb3cgbmV3bGluZXMgYW5kIHNwYWNlcyBzaG91bGQgYmUgaGFuZGxlZC5cbiAgICAgKiBEZWZhdWx0IGlzICdwcmUnIChwcmVzZXJ2ZSwgcHJlc2VydmUpLlxuICAgICAqXG4gICAgICogIHZhbHVlICAgICAgIHwgTmV3IGxpbmVzICAgICB8ICAgU3BhY2VzXG4gICAgICogIC0tLSAgICAgICAgIHwgLS0tICAgICAgICAgICB8ICAgLS0tXG4gICAgICogJ25vcm1hbCcgICAgIHwgQ29sbGFwc2UgICAgICB8ICAgQ29sbGFwc2VcbiAgICAgKiAncHJlJyAgICAgICAgfCBQcmVzZXJ2ZSAgICAgIHwgICBQcmVzZXJ2ZVxuICAgICAqICdwcmUtbGluZScgICB8IFByZXNlcnZlICAgICAgfCAgIENvbGxhcHNlXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICovXG4gICAgZ2V0IHdoaXRlU3BhY2UoKTogVGV4dFN0eWxlV2hpdGVTcGFjZVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3doaXRlU3BhY2U7XG4gICAgfVxuICAgIHNldCB3aGl0ZVNwYWNlKHdoaXRlU3BhY2U6IFRleHRTdHlsZVdoaXRlU3BhY2UpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fd2hpdGVTcGFjZSAhPT0gd2hpdGVTcGFjZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fd2hpdGVTcGFjZSA9IHdoaXRlU3BhY2U7XG4gICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyBpZiB3b3JkIHdyYXAgc2hvdWxkIGJlIHVzZWRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICovXG4gICAgZ2V0IHdvcmRXcmFwKCk6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl93b3JkV3JhcDtcbiAgICB9XG4gICAgc2V0IHdvcmRXcmFwKHdvcmRXcmFwOiBib29sZWFuKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX3dvcmRXcmFwICE9PSB3b3JkV3JhcClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fd29yZFdyYXAgPSB3b3JkV3JhcDtcbiAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIHdpZHRoIGF0IHdoaWNoIHRleHQgd2lsbCB3cmFwLCBpdCBuZWVkcyB3b3JkV3JhcCB0byBiZSBzZXQgdG8gdHJ1ZVxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIGdldCB3b3JkV3JhcFdpZHRoKCk6IG51bWJlclxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3dvcmRXcmFwV2lkdGg7XG4gICAgfVxuICAgIHNldCB3b3JkV3JhcFdpZHRoKHdvcmRXcmFwV2lkdGg6IG51bWJlcilcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl93b3JkV3JhcFdpZHRoICE9PSB3b3JkV3JhcFdpZHRoKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl93b3JkV3JhcFdpZHRoID0gd29yZFdyYXBXaWR0aDtcbiAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIGEgZm9udCBzdHlsZSBzdHJpbmcgdG8gdXNlIGZvciBgVGV4dE1ldHJpY3MubWVhc3VyZUZvbnQoKWAuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IEZvbnQgc3R5bGUgc3RyaW5nLCBmb3IgcGFzc2luZyB0byBgVGV4dE1ldHJpY3MubWVhc3VyZUZvbnQoKWBcbiAgICAgKi9cbiAgICBwdWJsaWMgdG9Gb250U3RyaW5nKCk6IHN0cmluZ1xuICAgIHtcbiAgICAgICAgLy8gYnVpbGQgY2FudmFzIGFwaSBmb250IHNldHRpbmcgZnJvbSBpbmRpdmlkdWFsIGNvbXBvbmVudHMuIENvbnZlcnQgYSBudW1lcmljIHRoaXMuZm9udFNpemUgdG8gcHhcbiAgICAgICAgY29uc3QgZm9udFNpemVTdHJpbmcgPSAodHlwZW9mIHRoaXMuZm9udFNpemUgPT09ICdudW1iZXInKSA/IGAke3RoaXMuZm9udFNpemV9cHhgIDogdGhpcy5mb250U2l6ZTtcblxuICAgICAgICAvLyBDbGVhbi11cCBmb250RmFtaWx5IHByb3BlcnR5IGJ5IHF1b3RpbmcgZWFjaCBmb250IG5hbWVcbiAgICAgICAgLy8gdGhpcyB3aWxsIHN1cHBvcnQgZm9udCBuYW1lcyB3aXRoIHNwYWNlc1xuICAgICAgICBsZXQgZm9udEZhbWlsaWVzOiBzdHJpbmd8c3RyaW5nW10gPSB0aGlzLmZvbnRGYW1pbHk7XG5cbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHRoaXMuZm9udEZhbWlseSkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGZvbnRGYW1pbGllcyA9IHRoaXMuZm9udEZhbWlseS5zcGxpdCgnLCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IGZvbnRGYW1pbGllcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gVHJpbSBhbnkgZXh0cmEgd2hpdGUtc3BhY2VcbiAgICAgICAgICAgIGxldCBmb250RmFtaWx5ID0gZm9udEZhbWlsaWVzW2ldLnRyaW0oKTtcblxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgZm9udCBhbHJlYWR5IGNvbnRhaW5zIHN0cmluZ3NcbiAgICAgICAgICAgIGlmICghKC8oW1xcXCJcXCddKVteXFwnXFxcIl0rXFwxLykudGVzdChmb250RmFtaWx5KSAmJiBnZW5lcmljRm9udEZhbWlsaWVzLmluZGV4T2YoZm9udEZhbWlseSkgPCAwKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZvbnRGYW1pbHkgPSBgXCIke2ZvbnRGYW1pbHl9XCJgO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgKGZvbnRGYW1pbGllcyBhcyBzdHJpbmdbXSlbaV0gPSBmb250RmFtaWx5O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGAke3RoaXMuZm9udFN0eWxlfSAke3RoaXMuZm9udFZhcmlhbnR9ICR7dGhpcy5mb250V2VpZ2h0fSAke2ZvbnRTaXplU3RyaW5nfSAkeyhmb250RmFtaWxpZXMgYXMgc3RyaW5nW10pLmpvaW4oJywnKX1gO1xuICAgIH1cbn1cblxuLyoqXG4gKiBVdGlsaXR5IGZ1bmN0aW9uIHRvIGNvbnZlcnQgaGV4YWRlY2ltYWwgY29sb3JzIHRvIHN0cmluZ3MsIGFuZCBzaW1wbHkgcmV0dXJuIHRoZSBjb2xvciBpZiBpdCdzIGEgc3RyaW5nLlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcn0gY29sb3JcbiAqIEByZXR1cm4ge3N0cmluZ30gVGhlIGNvbG9yIGFzIGEgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBnZXRTaW5nbGVDb2xvcihjb2xvcjogc3RyaW5nfG51bWJlcik6IHN0cmluZ1xue1xuICAgIGlmICh0eXBlb2YgY29sb3IgPT09ICdudW1iZXInKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGhleDJzdHJpbmcoY29sb3IpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgY29sb3IgPT09ICdzdHJpbmcnKVxuICAgIHtcbiAgICAgICAgaWYgKCBjb2xvci5pbmRleE9mKCcweCcpID09PSAwIClcbiAgICAgICAge1xuICAgICAgICAgICAgY29sb3IgPSBjb2xvci5yZXBsYWNlKCcweCcsICcjJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gY29sb3I7XG59XG5cbi8qKlxuICogVXRpbGl0eSBmdW5jdGlvbiB0byBjb252ZXJ0IGhleGFkZWNpbWFsIGNvbG9ycyB0byBzdHJpbmdzLCBhbmQgc2ltcGx5IHJldHVybiB0aGUgY29sb3IgaWYgaXQncyBhIHN0cmluZy5cbiAqIFRoaXMgdmVyc2lvbiBjYW4gYWxzbyBjb252ZXJ0IGFycmF5IG9mIGNvbG9yc1xuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcnxudW1iZXJbXX0gY29sb3JcbiAqIEByZXR1cm4ge3N0cmluZ30gVGhlIGNvbG9yIGFzIGEgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBnZXRDb2xvcihjb2xvcjogKHN0cmluZ3xudW1iZXIpW10pOiBzdHJpbmdbXTtcbmZ1bmN0aW9uIGdldENvbG9yKGNvbG9yOiBzdHJpbmd8bnVtYmVyKTogc3RyaW5nO1xuZnVuY3Rpb24gZ2V0Q29sb3IoY29sb3I6IHN0cmluZ3xudW1iZXJ8KHN0cmluZ3xudW1iZXIpW10pOiBzdHJpbmd8c3RyaW5nW11cbntcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoY29sb3IpKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGdldFNpbmdsZUNvbG9yKGNvbG9yKTtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb2xvci5sZW5ndGg7ICsraSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29sb3JbaV0gPSBnZXRTaW5nbGVDb2xvcihjb2xvcltpXSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY29sb3IgYXMgc3RyaW5nW107XG4gICAgfVxufVxuXG4vKipcbiAqIFV0aWxpdHkgZnVuY3Rpb24gdG8gY29udmVydCBoZXhhZGVjaW1hbCBjb2xvcnMgdG8gc3RyaW5ncywgYW5kIHNpbXBseSByZXR1cm4gdGhlIGNvbG9yIGlmIGl0J3MgYSBzdHJpbmcuXG4gKiBUaGlzIHZlcnNpb24gY2FuIGFsc28gY29udmVydCBhcnJheSBvZiBjb2xvcnNcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheTEgLSBGaXJzdCBhcnJheSB0byBjb21wYXJlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheTIgLSBTZWNvbmQgYXJyYXkgdG8gY29tcGFyZVxuICogQHJldHVybiB7Ym9vbGVhbn0gRG8gdGhlIGFycmF5cyBjb250YWluIHRoZSBzYW1lIHZhbHVlcyBpbiB0aGUgc2FtZSBvcmRlclxuICovXG5mdW5jdGlvbiBhcmVBcnJheXNFcXVhbDxUPihhcnJheTE6IFRbXSwgYXJyYXkyOiBUW10pOiBib29sZWFuXG57XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGFycmF5MSkgfHwgIUFycmF5LmlzQXJyYXkoYXJyYXkyKSlcbiAgICB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoYXJyYXkxLmxlbmd0aCAhPT0gYXJyYXkyLmxlbmd0aClcbiAgICB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFycmF5MS5sZW5ndGg7ICsraSlcbiAgICB7XG4gICAgICAgIGlmIChhcnJheTFbaV0gIT09IGFycmF5MltpXSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogVXRpbGl0eSBmdW5jdGlvbiB0byBlbnN1cmUgdGhhdCBvYmplY3QgcHJvcGVydGllcyBhcmUgY29waWVkIGJ5IHZhbHVlLCBhbmQgbm90IGJ5IHJlZmVyZW5jZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXQgLSBUYXJnZXQgb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyBpbnRvXG4gKiBAcGFyYW0ge09iamVjdH0gc291cmNlIC0gU291cmNlIG9iamVjdCBmb3IgdGhlIHByb3BlcnRpZXMgdG8gY29weVxuICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5T2JqIC0gT2JqZWN0IGNvbnRhaW5pbmcgcHJvcGVydGllcyBuYW1lcyB3ZSB3YW50IHRvIGxvb3Agb3ZlclxuICovXG5mdW5jdGlvbiBkZWVwQ29weVByb3BlcnRpZXModGFyZ2V0OiBSZWNvcmQ8c3RyaW5nLCBhbnk+LCBzb3VyY2U6IFJlY29yZDxzdHJpbmcsIGFueT4sIHByb3BlcnR5T2JqOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogdm9pZCB7XG4gICAgZm9yIChjb25zdCBwcm9wIGluIHByb3BlcnR5T2JqKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHNvdXJjZVtwcm9wXSkpIHtcbiAgICAgICAgICAgIHRhcmdldFtwcm9wXSA9IHNvdXJjZVtwcm9wXS5zbGljZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGFyZ2V0W3Byb3BdID0gc291cmNlW3Byb3BdO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgVGV4dFN0eWxlLCBUZXh0U3R5bGVXaGl0ZVNwYWNlIH0gZnJvbSAnLi9UZXh0U3R5bGUnO1xuXG5pbnRlcmZhY2UgSUZvbnRNZXRyaWNzIHtcbiAgICBhc2NlbnQ6IG51bWJlcjtcbiAgICBkZXNjZW50OiBudW1iZXI7XG4gICAgZm9udFNpemU6IG51bWJlcjtcbn1cblxudHlwZSBDaGFyYWN0ZXJXaWR0aENhY2hlID0geyBba2V5OiBzdHJpbmddOiBudW1iZXIgfTtcblxuLyoqXG4gKiBUaGUgVGV4dE1ldHJpY3Mgb2JqZWN0IHJlcHJlc2VudHMgdGhlIG1lYXN1cmVtZW50IG9mIGEgYmxvY2sgb2YgdGV4dCB3aXRoIGEgc3BlY2lmaWVkIHN0eWxlLlxuICpcbiAqIGBgYGpzXG4gKiBsZXQgc3R5bGUgPSBuZXcgUElYSS5UZXh0U3R5bGUoe2ZvbnRGYW1pbHkgOiAnQXJpYWwnLCBmb250U2l6ZTogMjQsIGZpbGwgOiAweGZmMTAxMCwgYWxpZ24gOiAnY2VudGVyJ30pXG4gKiBsZXQgdGV4dE1ldHJpY3MgPSBQSVhJLlRleHRNZXRyaWNzLm1lYXN1cmVUZXh0KCdZb3VyIHRleHQnLCBzdHlsZSlcbiAqIGBgYFxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGNsYXNzIFRleHRNZXRyaWNzXG57XG4gICAgcHVibGljIHRleHQ6IHN0cmluZztcbiAgICBwdWJsaWMgc3R5bGU6IFRleHRTdHlsZTtcbiAgICBwdWJsaWMgd2lkdGg6IG51bWJlcjtcbiAgICBwdWJsaWMgaGVpZ2h0OiBudW1iZXI7XG4gICAgcHVibGljIGxpbmVzOiBzdHJpbmdbXTtcbiAgICBwdWJsaWMgbGluZVdpZHRoczogbnVtYmVyW107XG4gICAgcHVibGljIGxpbmVIZWlnaHQ6IG51bWJlcjtcbiAgICBwdWJsaWMgbWF4TGluZVdpZHRoOiBudW1iZXI7XG4gICAgcHVibGljIGZvbnRQcm9wZXJ0aWVzOiBJRm9udE1ldHJpY3M7XG5cbiAgICBwdWJsaWMgc3RhdGljIE1FVFJJQ1NfU1RSSU5HOiBzdHJpbmc7XG4gICAgcHVibGljIHN0YXRpYyBCQVNFTElORV9TWU1CT0w6IHN0cmluZztcbiAgICBwdWJsaWMgc3RhdGljIEJBU0VMSU5FX01VTFRJUExJRVI6IG51bWJlcjtcblxuICAgIC8vIFRPRE86IFRoZXNlIHNob3VsZCBiZSBwcm90ZWN0ZWQgYnV0IHRoZXkncmUgaW5pdGlhbGl6ZWQgb3V0c2lkZSBvZiB0aGUgY2xhc3MuXG4gICAgcHVibGljIHN0YXRpYyBfY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudHxPZmZzY3JlZW5DYW52YXM7XG4gICAgcHVibGljIHN0YXRpYyBfY29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfE9mZnNjcmVlbkNhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcbiAgICBwdWJsaWMgc3RhdGljIF9mb250czogeyBbZm9udDogc3RyaW5nXTogSUZvbnRNZXRyaWNzIH07XG4gICAgcHVibGljIHN0YXRpYyBfbmV3bGluZXM6IG51bWJlcltdO1xuICAgIHB1YmxpYyBzdGF0aWMgX2JyZWFraW5nU3BhY2VzOiBudW1iZXJbXTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IC0gdGhlIHRleHQgdGhhdCB3YXMgbWVhc3VyZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dFN0eWxlfSBzdHlsZSAtIHRoZSBzdHlsZSB0aGF0IHdhcyBtZWFzdXJlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIHRoZSBtZWFzdXJlZCB3aWR0aCBvZiB0aGUgdGV4dFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSB0aGUgbWVhc3VyZWQgaGVpZ2h0IG9mIHRoZSB0ZXh0XG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gbGluZXMgLSBhbiBhcnJheSBvZiB0aGUgbGluZXMgb2YgdGV4dCBicm9rZW4gYnkgbmV3IGxpbmVzIGFuZCB3cmFwcGluZyBpZiBzcGVjaWZpZWQgaW4gc3R5bGVcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBsaW5lV2lkdGhzIC0gYW4gYXJyYXkgb2YgdGhlIGxpbmUgd2lkdGhzIGZvciBlYWNoIGxpbmUgbWF0Y2hlZCB0byBgbGluZXNgXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGxpbmVIZWlnaHQgLSB0aGUgbWVhc3VyZWQgbGluZSBoZWlnaHQgZm9yIHRoaXMgc3R5bGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWF4TGluZVdpZHRoIC0gdGhlIG1heGltdW0gbGluZSB3aWR0aCBmb3IgYWxsIG1lYXN1cmVkIGxpbmVzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGZvbnRQcm9wZXJ0aWVzIC0gdGhlIGZvbnQgcHJvcGVydGllcyBvYmplY3QgZnJvbSBUZXh0TWV0cmljcy5tZWFzdXJlRm9udFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHRleHQ6IHN0cmluZywgc3R5bGU6IFRleHRTdHlsZSwgd2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIsIGxpbmVzOiBzdHJpbmdbXSwgbGluZVdpZHRoczogbnVtYmVyW10sXG4gICAgICAgIGxpbmVIZWlnaHQ6IG51bWJlciwgbWF4TGluZVdpZHRoOiBudW1iZXIsIGZvbnRQcm9wZXJ0aWVzOiBJRm9udE1ldHJpY3MpXG4gICAge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRleHQgdGhhdCB3YXMgbWVhc3VyZWRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50ZXh0ID0gdGV4dDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHN0eWxlIHRoYXQgd2FzIG1lYXN1cmVkXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dFN0eWxlfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdHlsZSA9IHN0eWxlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWVhc3VyZWQgd2lkdGggb2YgdGhlIHRleHRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWVhc3VyZWQgaGVpZ2h0IG9mIHRoZSB0ZXh0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbiBhcnJheSBvZiBsaW5lcyBvZiB0aGUgdGV4dCBicm9rZW4gYnkgbmV3IGxpbmVzIGFuZCB3cmFwcGluZyBpcyBzcGVjaWZpZWQgaW4gc3R5bGVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nW119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxpbmVzID0gbGluZXM7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIGFycmF5IG9mIHRoZSBsaW5lIHdpZHRocyBmb3IgZWFjaCBsaW5lIG1hdGNoZWQgdG8gYGxpbmVzYFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubGluZVdpZHRocyA9IGxpbmVXaWR0aHM7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtZWFzdXJlZCBsaW5lIGhlaWdodCBmb3IgdGhpcyBzdHlsZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxpbmVIZWlnaHQgPSBsaW5lSGVpZ2h0O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWF4aW11bSBsaW5lIHdpZHRoIGZvciBhbGwgbWVhc3VyZWQgbGluZXNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYXhMaW5lV2lkdGggPSBtYXhMaW5lV2lkdGg7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBmb250IHByb3BlcnRpZXMgb2JqZWN0IGZyb20gVGV4dE1ldHJpY3MubWVhc3VyZUZvbnRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5JRm9udE1ldHJpY3N9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZvbnRQcm9wZXJ0aWVzID0gZm9udFByb3BlcnRpZXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTWVhc3VyZXMgdGhlIHN1cHBsaWVkIHN0cmluZyBvZiB0ZXh0IGFuZCByZXR1cm5zIGEgUmVjdGFuZ2xlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSB0aGUgdGV4dCB0byBtZWFzdXJlLlxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0U3R5bGV9IHN0eWxlIC0gdGhlIHRleHQgc3R5bGUgdG8gdXNlIGZvciBtZWFzdXJpbmdcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFt3b3JkV3JhcF0gLSBvcHRpb25hbCBvdmVycmlkZSBmb3IgaWYgd29yZC13cmFwIHNob3VsZCBiZSBhcHBsaWVkIHRvIHRoZSB0ZXh0LlxuICAgICAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IFtjYW52YXNdIC0gb3B0aW9uYWwgc3BlY2lmaWNhdGlvbiBvZiB0aGUgY2FudmFzIHRvIHVzZSBmb3IgbWVhc3VyaW5nLlxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dE1ldHJpY3N9IG1lYXN1cmVkIHdpZHRoIGFuZCBoZWlnaHQgb2YgdGhlIHRleHQuXG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyBtZWFzdXJlVGV4dCh0ZXh0OiBzdHJpbmcsIHN0eWxlOiBUZXh0U3R5bGUsIHdvcmRXcmFwOiBib29sZWFuLCBjYW52YXMgPSBUZXh0TWV0cmljcy5fY2FudmFzKTogVGV4dE1ldHJpY3NcbiAgICB7XG4gICAgICAgIHdvcmRXcmFwID0gKHdvcmRXcmFwID09PSB1bmRlZmluZWQgfHwgd29yZFdyYXAgPT09IG51bGwpID8gc3R5bGUud29yZFdyYXAgOiB3b3JkV3JhcDtcbiAgICAgICAgY29uc3QgZm9udCA9IHN0eWxlLnRvRm9udFN0cmluZygpO1xuICAgICAgICBjb25zdCBmb250UHJvcGVydGllcyA9IFRleHRNZXRyaWNzLm1lYXN1cmVGb250KGZvbnQpO1xuXG4gICAgICAgIC8vIGZhbGxiYWNrIGluIGNhc2UgVUEgZGlzYWxsb3cgY2FudmFzIGRhdGEgZXh0cmFjdGlvblxuICAgICAgICAvLyAodG9EYXRhVVJJLCBnZXRJbWFnZURhdGEgZnVuY3Rpb25zKVxuICAgICAgICBpZiAoZm9udFByb3BlcnRpZXMuZm9udFNpemUgPT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIGZvbnRQcm9wZXJ0aWVzLmZvbnRTaXplID0gc3R5bGUuZm9udFNpemUgYXMgbnVtYmVyO1xuICAgICAgICAgICAgZm9udFByb3BlcnRpZXMuYXNjZW50ID0gc3R5bGUuZm9udFNpemUgYXMgbnVtYmVyO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuXG4gICAgICAgIGNvbnRleHQuZm9udCA9IGZvbnQ7XG5cbiAgICAgICAgY29uc3Qgb3V0cHV0VGV4dCA9IHdvcmRXcmFwID8gVGV4dE1ldHJpY3Mud29yZFdyYXAodGV4dCwgc3R5bGUsIGNhbnZhcykgOiB0ZXh0O1xuICAgICAgICBjb25zdCBsaW5lcyA9IG91dHB1dFRleHQuc3BsaXQoLyg/OlxcclxcbnxcXHJ8XFxuKS8pO1xuICAgICAgICBjb25zdCBsaW5lV2lkdGhzID0gbmV3IEFycmF5PG51bWJlcj4obGluZXMubGVuZ3RoKTtcbiAgICAgICAgbGV0IG1heExpbmVXaWR0aCA9IDA7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgbGluZVdpZHRoID0gY29udGV4dC5tZWFzdXJlVGV4dChsaW5lc1tpXSkud2lkdGggKyAoKGxpbmVzW2ldLmxlbmd0aCAtIDEpICogc3R5bGUubGV0dGVyU3BhY2luZyk7XG5cbiAgICAgICAgICAgIGxpbmVXaWR0aHNbaV0gPSBsaW5lV2lkdGg7XG4gICAgICAgICAgICBtYXhMaW5lV2lkdGggPSBNYXRoLm1heChtYXhMaW5lV2lkdGgsIGxpbmVXaWR0aCk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHdpZHRoID0gbWF4TGluZVdpZHRoICsgc3R5bGUuc3Ryb2tlVGhpY2tuZXNzO1xuXG4gICAgICAgIGlmIChzdHlsZS5kcm9wU2hhZG93KVxuICAgICAgICB7XG4gICAgICAgICAgICB3aWR0aCArPSBzdHlsZS5kcm9wU2hhZG93RGlzdGFuY2U7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBsaW5lSGVpZ2h0ID0gc3R5bGUubGluZUhlaWdodCB8fCBmb250UHJvcGVydGllcy5mb250U2l6ZSArIHN0eWxlLnN0cm9rZVRoaWNrbmVzcztcbiAgICAgICAgbGV0IGhlaWdodCA9IE1hdGgubWF4KGxpbmVIZWlnaHQsIGZvbnRQcm9wZXJ0aWVzLmZvbnRTaXplICsgc3R5bGUuc3Ryb2tlVGhpY2tuZXNzKVxuICAgICAgICAgICAgKyAoKGxpbmVzLmxlbmd0aCAtIDEpICogKGxpbmVIZWlnaHQgKyBzdHlsZS5sZWFkaW5nKSk7XG5cbiAgICAgICAgaWYgKHN0eWxlLmRyb3BTaGFkb3cpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGhlaWdodCArPSBzdHlsZS5kcm9wU2hhZG93RGlzdGFuY2U7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IFRleHRNZXRyaWNzKFxuICAgICAgICAgICAgdGV4dCxcbiAgICAgICAgICAgIHN0eWxlLFxuICAgICAgICAgICAgd2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQsXG4gICAgICAgICAgICBsaW5lcyxcbiAgICAgICAgICAgIGxpbmVXaWR0aHMsXG4gICAgICAgICAgICBsaW5lSGVpZ2h0ICsgc3R5bGUubGVhZGluZyxcbiAgICAgICAgICAgIG1heExpbmVXaWR0aCxcbiAgICAgICAgICAgIGZvbnRQcm9wZXJ0aWVzXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyBuZXdsaW5lcyB0byBhIHN0cmluZyB0byBoYXZlIGl0IG9wdGltYWxseSBmaXQgaW50byB0aGUgaG9yaXpvbnRhbFxuICAgICAqIGJvdW5kcyBzZXQgYnkgdGhlIFRleHQgb2JqZWN0J3Mgd29yZFdyYXBXaWR0aCBwcm9wZXJ0eS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSBTdHJpbmcgdG8gYXBwbHkgd29yZCB3cmFwcGluZyB0b1xuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0U3R5bGV9IHN0eWxlIC0gdGhlIHN0eWxlIHRvIHVzZSB3aGVuIHdyYXBwaW5nXG4gICAgICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gW2NhbnZhc10gLSBvcHRpb25hbCBzcGVjaWZpY2F0aW9uIG9mIHRoZSBjYW52YXMgdG8gdXNlIGZvciBtZWFzdXJpbmcuXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBOZXcgc3RyaW5nIHdpdGggbmV3IGxpbmVzIGFwcGxpZWQgd2hlcmUgcmVxdWlyZWRcbiAgICAgKi9cbiAgICBwcml2YXRlIHN0YXRpYyB3b3JkV3JhcCh0ZXh0OiBzdHJpbmcsIHN0eWxlOiBUZXh0U3R5bGUsIGNhbnZhcyA9IFRleHRNZXRyaWNzLl9jYW52YXMpOiBzdHJpbmdcbiAgICB7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblxuICAgICAgICBsZXQgd2lkdGggPSAwO1xuICAgICAgICBsZXQgbGluZSA9ICcnO1xuICAgICAgICBsZXQgbGluZXMgPSAnJztcblxuICAgICAgICBjb25zdCBjYWNoZTogQ2hhcmFjdGVyV2lkdGhDYWNoZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIGNvbnN0IHsgbGV0dGVyU3BhY2luZywgd2hpdGVTcGFjZSB9ID0gc3R5bGU7XG5cbiAgICAgICAgLy8gSG93IHRvIGhhbmRsZSB3aGl0ZXNwYWNlc1xuICAgICAgICBjb25zdCBjb2xsYXBzZVNwYWNlcyA9IFRleHRNZXRyaWNzLmNvbGxhcHNlU3BhY2VzKHdoaXRlU3BhY2UpO1xuICAgICAgICBjb25zdCBjb2xsYXBzZU5ld2xpbmVzID0gVGV4dE1ldHJpY3MuY29sbGFwc2VOZXdsaW5lcyh3aGl0ZVNwYWNlKTtcblxuICAgICAgICAvLyB3aGV0aGVyIG9yIG5vdCBzcGFjZXMgbWF5IGJlIGFkZGVkIHRvIHRoZSBiZWdpbm5pbmcgb2YgbGluZXNcbiAgICAgICAgbGV0IGNhblByZXBlbmRTcGFjZXMgPSAhY29sbGFwc2VTcGFjZXM7XG5cbiAgICAgICAgLy8gVGhlcmUgaXMgbGV0dGVyU3BhY2luZyBhZnRlciBldmVyeSBjaGFyIGV4Y2VwdCB0aGUgbGFzdCBvbmVcbiAgICAgICAgLy8gdF9oX2lfc18nICdfaV9zXycgJ19hX25fJyAnX2VfeF9hX21fcF9sX2VfJyAnXyFcbiAgICAgICAgLy8gc28gZm9yIGNvbnZlbmllbmNlIHRoZSBhYm92ZSBuZWVkcyB0byBiZSBjb21wYXJlZCB0byB3aWR0aCArIDEgZXh0cmEgbGV0dGVyU3BhY2VcbiAgICAgICAgLy8gdF9oX2lfc18nICdfaV9zXycgJ19hX25fJyAnX2VfeF9hX21fcF9sX2VfJyAnXyFfXG4gICAgICAgIC8vIF9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX1xuICAgICAgICAvLyBBbmQgdGhlbiB0aGUgZmluYWwgc3BhY2UgaXMgc2ltcGx5IG5vIGFwcGVuZGVkIHRvIGVhY2ggbGluZVxuICAgICAgICBjb25zdCB3b3JkV3JhcFdpZHRoID0gc3R5bGUud29yZFdyYXBXaWR0aCArIGxldHRlclNwYWNpbmc7XG5cbiAgICAgICAgLy8gYnJlYWsgdGV4dCBpbnRvIHdvcmRzLCBzcGFjZXMgYW5kIG5ld2xpbmUgY2hhcnNcbiAgICAgICAgY29uc3QgdG9rZW5zID0gVGV4dE1ldHJpY3MudG9rZW5pemUodGV4dCk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0b2tlbnMubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIGdldCB0aGUgd29yZCwgc3BhY2Ugb3IgbmV3bGluZUNoYXJcbiAgICAgICAgICAgIGxldCB0b2tlbiA9IHRva2Vuc1tpXTtcblxuICAgICAgICAgICAgLy8gaWYgd29yZCBpcyBhIG5ldyBsaW5lXG4gICAgICAgICAgICBpZiAoVGV4dE1ldHJpY3MuaXNOZXdsaW5lKHRva2VuKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBrZWVwIHRoZSBuZXcgbGluZVxuICAgICAgICAgICAgICAgIGlmICghY29sbGFwc2VOZXdsaW5lcylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmVzICs9IFRleHRNZXRyaWNzLmFkZExpbmUobGluZSk7XG4gICAgICAgICAgICAgICAgICAgIGNhblByZXBlbmRTcGFjZXMgPSAhY29sbGFwc2VTcGFjZXM7XG4gICAgICAgICAgICAgICAgICAgIGxpbmUgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggPSAwO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBpZiB3ZSBzaG91bGQgY29sbGFwc2UgbmV3IGxpbmVzXG4gICAgICAgICAgICAgICAgLy8gd2Ugc2ltcGx5IGNvbnZlcnQgaXQgaW50byBhIHNwYWNlXG4gICAgICAgICAgICAgICAgdG9rZW4gPSAnICc7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGlmIHdlIHNob3VsZCBjb2xsYXBzZSByZXBlYXRlZCB3aGl0ZXNwYWNlc1xuICAgICAgICAgICAgaWYgKGNvbGxhcHNlU3BhY2VzKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIGNoZWNrIGJvdGggdGhpcyBhbmQgdGhlIGxhc3QgdG9rZW5zIGZvciBzcGFjZXNcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJySXNCcmVha2luZ1NwYWNlID0gVGV4dE1ldHJpY3MuaXNCcmVha2luZ1NwYWNlKHRva2VuKTtcbiAgICAgICAgICAgICAgICBjb25zdCBsYXN0SXNCcmVha2luZ1NwYWNlID0gVGV4dE1ldHJpY3MuaXNCcmVha2luZ1NwYWNlKGxpbmVbbGluZS5sZW5ndGggLSAxXSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoY3VycklzQnJlYWtpbmdTcGFjZSAmJiBsYXN0SXNCcmVha2luZ1NwYWNlKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBnZXQgd29yZCB3aWR0aCBmcm9tIGNhY2hlIGlmIHBvc3NpYmxlXG4gICAgICAgICAgICBjb25zdCB0b2tlbldpZHRoID0gVGV4dE1ldHJpY3MuZ2V0RnJvbUNhY2hlKHRva2VuLCBsZXR0ZXJTcGFjaW5nLCBjYWNoZSwgY29udGV4dCk7XG5cbiAgICAgICAgICAgIC8vIHdvcmQgaXMgbG9uZ2VyIHRoYW4gZGVzaXJlZCBib3VuZHNcbiAgICAgICAgICAgIGlmICh0b2tlbldpZHRoID4gd29yZFdyYXBXaWR0aClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBpZiB3ZSBhcmUgbm90IGFscmVhZHkgYXQgdGhlIGJlZ2lubmluZyBvZiBhIGxpbmVcbiAgICAgICAgICAgICAgICBpZiAobGluZSAhPT0gJycpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAvLyBzdGFydCBuZXdsaW5lcyBmb3Igb3ZlcmZsb3cgd29yZHNcbiAgICAgICAgICAgICAgICAgICAgbGluZXMgKz0gVGV4dE1ldHJpY3MuYWRkTGluZShsaW5lKTtcbiAgICAgICAgICAgICAgICAgICAgbGluZSA9ICcnO1xuICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IDA7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gYnJlYWsgbGFyZ2Ugd29yZCBvdmVyIG11bHRpcGxlIGxpbmVzXG4gICAgICAgICAgICAgICAgaWYgKFRleHRNZXRyaWNzLmNhbkJyZWFrV29yZHModG9rZW4sIHN0eWxlLmJyZWFrV29yZHMpKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gYnJlYWsgd29yZCBpbnRvIGNoYXJhY3RlcnNcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hhcmFjdGVycyA9IFRleHRNZXRyaWNzLndvcmRXcmFwU3BsaXQodG9rZW4pO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIGxvb3AgdGhlIGNoYXJhY3RlcnNcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBjaGFyYWN0ZXJzLmxlbmd0aDsgaisrKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgY2hhciA9IGNoYXJhY3RlcnNbal07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBrID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdlIGFyZSBub3QgYXQgdGhlIGVuZCBvZiB0aGUgdG9rZW5cblxuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGNoYXJhY3RlcnNbaiArIGtdKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5leHRDaGFyID0gY2hhcmFjdGVyc1tqICsga107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGFzdENoYXIgPSBjaGFyW2NoYXIubGVuZ3RoIC0gMV07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzaG91bGQgbm90IHNwbGl0IGNoYXJzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFUZXh0TWV0cmljcy5jYW5CcmVha0NoYXJzKGxhc3RDaGFyLCBuZXh0Q2hhciwgdG9rZW4sIGosIHN0eWxlLmJyZWFrV29yZHMpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29tYmluZSBjaGFycyAmIG1vdmUgZm9yd2FyZCBvbmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhciArPSBuZXh0Q2hhcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaysrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBqICs9IGNoYXIubGVuZ3RoIC0gMTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hhcmFjdGVyV2lkdGggPSBUZXh0TWV0cmljcy5nZXRGcm9tQ2FjaGUoY2hhciwgbGV0dGVyU3BhY2luZywgY2FjaGUsIGNvbnRleHQpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hhcmFjdGVyV2lkdGggKyB3aWR0aCA+IHdvcmRXcmFwV2lkdGgpXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZXMgKz0gVGV4dE1ldHJpY3MuYWRkTGluZShsaW5lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5QcmVwZW5kU3BhY2VzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZSA9ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgbGluZSArPSBjaGFyO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGggKz0gY2hhcmFjdGVyV2lkdGg7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBydW4gd29yZCBvdXQgb2YgdGhlIGJvdW5kc1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoZXJlIGFyZSB3b3JkcyBpbiB0aGlzIGxpbmUgYWxyZWFkeVxuICAgICAgICAgICAgICAgICAgICAvLyBmaW5pc2ggdGhhdCBsaW5lIGFuZCBzdGFydCBhIG5ldyBvbmVcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxpbmUubGVuZ3RoID4gMClcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGluZXMgKz0gVGV4dE1ldHJpY3MuYWRkTGluZShsaW5lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmUgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzTGFzdFRva2VuID0gaSA9PT0gdG9rZW5zLmxlbmd0aCAtIDE7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gZ2l2ZSBpdCBpdHMgb3duIGxpbmUgaWYgaXQncyBub3QgdGhlIGVuZFxuICAgICAgICAgICAgICAgICAgICBsaW5lcyArPSBUZXh0TWV0cmljcy5hZGRMaW5lKHRva2VuLCAhaXNMYXN0VG9rZW4pO1xuICAgICAgICAgICAgICAgICAgICBjYW5QcmVwZW5kU3BhY2VzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGxpbmUgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gd29yZCBjb3VsZCBmaXRcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyB3b3JkIHdvbid0IGZpdCBiZWNhdXNlIG9mIGV4aXN0aW5nIHdvcmRzXG4gICAgICAgICAgICAgICAgLy8gc3RhcnQgYSBuZXcgbGluZVxuICAgICAgICAgICAgICAgIGlmICh0b2tlbldpZHRoICsgd2lkdGggPiB3b3JkV3JhcFdpZHRoKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgaXRzIGEgc3BhY2Ugd2UgZG9uJ3Qgd2FudCBpdFxuICAgICAgICAgICAgICAgICAgICBjYW5QcmVwZW5kU3BhY2VzID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gYWRkIGEgbmV3IGxpbmVcbiAgICAgICAgICAgICAgICAgICAgbGluZXMgKz0gVGV4dE1ldHJpY3MuYWRkTGluZShsaW5lKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBzdGFydCBhIG5ldyBsaW5lXG4gICAgICAgICAgICAgICAgICAgIGxpbmUgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggPSAwO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIGRvbid0IGFkZCBzcGFjZXMgdG8gdGhlIGJlZ2lubmluZyBvZiBsaW5lc1xuICAgICAgICAgICAgICAgIGlmIChsaW5lLmxlbmd0aCA+IDAgfHwgIVRleHRNZXRyaWNzLmlzQnJlYWtpbmdTcGFjZSh0b2tlbikgfHwgY2FuUHJlcGVuZFNwYWNlcylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGFkZCB0aGUgd29yZCB0byB0aGUgY3VycmVudCBsaW5lXG4gICAgICAgICAgICAgICAgICAgIGxpbmUgKz0gdG9rZW47XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gdXBkYXRlIHdpZHRoIGNvdW50ZXJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggKz0gdG9rZW5XaWR0aDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsaW5lcyArPSBUZXh0TWV0cmljcy5hZGRMaW5lKGxpbmUsIGZhbHNlKTtcblxuICAgICAgICByZXR1cm4gbGluZXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmllbmllbmNlIGZ1bmN0aW9uIGZvciBsb2dnaW5nIGVhY2ggbGluZSBhZGRlZCBkdXJpbmcgdGhlIHdvcmRXcmFwXG4gICAgICogbWV0aG9kXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gICBsaW5lICAgICAgICAtIFRoZSBsaW5lIG9mIHRleHQgdG8gYWRkXG4gICAgICogQHBhcmFtICB7Ym9vbGVhbn0gIG5ld0xpbmUgICAgIC0gQWRkIG5ldyBsaW5lIGNoYXJhY3RlciB0byBlbmRcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9ICBBIGZvcm1hdHRlZCBsaW5lXG4gICAgICovXG4gICAgcHJpdmF0ZSBzdGF0aWMgYWRkTGluZShsaW5lOiBzdHJpbmcsIG5ld0xpbmUgPSB0cnVlKTogc3RyaW5nXG4gICAge1xuICAgICAgICBsaW5lID0gVGV4dE1ldHJpY3MudHJpbVJpZ2h0KGxpbmUpO1xuXG4gICAgICAgIGxpbmUgPSAobmV3TGluZSkgPyBgJHtsaW5lfVxcbmAgOiBsaW5lO1xuXG4gICAgICAgIHJldHVybiBsaW5lO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgJiBzZXRzIHRoZSB3aWR0aHMgb2YgY2FsY3VsYXRlZCBjaGFyYWN0ZXJzIGluIGEgY2FjaGUgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gICAgICAgICAgICAgICAgICAgIGtleSAgICAgICAgICAgIC0gVGhlIGtleVxuICAgICAqIEBwYXJhbSAge251bWJlcn0gICAgICAgICAgICAgICAgICAgIGxldHRlclNwYWNpbmcgIC0gVGhlIGxldHRlciBzcGFjaW5nXG4gICAgICogQHBhcmFtICB7b2JqZWN0fSAgICAgICAgICAgICAgICAgICAgY2FjaGUgICAgICAgICAgLSBUaGUgY2FjaGVcbiAgICAgKiBAcGFyYW0gIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9ICBjb250ZXh0ICAgICAgICAtIFRoZSBjYW52YXMgY29udGV4dFxuICAgICAqIEByZXR1cm4ge251bWJlcn0gICAgICAgICAgICAgICAgICAgIFRoZSBmcm9tIGNhY2hlLlxuICAgICAqL1xuICAgIHByaXZhdGUgc3RhdGljIGdldEZyb21DYWNoZShrZXk6IHN0cmluZywgbGV0dGVyU3BhY2luZzogbnVtYmVyLCBjYWNoZTogQ2hhcmFjdGVyV2lkdGhDYWNoZSxcbiAgICAgICAgY29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfE9mZnNjcmVlbkNhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCk6IG51bWJlclxuICAgIHtcbiAgICAgICAgbGV0IHdpZHRoID0gY2FjaGVba2V5XTtcblxuICAgICAgICBpZiAodHlwZW9mIHdpZHRoICE9PSAnbnVtYmVyJylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3Qgc3BhY2luZyA9ICgoa2V5Lmxlbmd0aCkgKiBsZXR0ZXJTcGFjaW5nKTtcblxuICAgICAgICAgICAgd2lkdGggPSBjb250ZXh0Lm1lYXN1cmVUZXh0KGtleSkud2lkdGggKyBzcGFjaW5nO1xuICAgICAgICAgICAgY2FjaGVba2V5XSA9IHdpZHRoO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHdpZHRoO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgd2hldGhlciB3ZSBzaG91bGQgY29sbGFwc2UgYnJlYWtpbmcgc3BhY2VzXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gICB3aGl0ZVNwYWNlIC0gVGhlIFRleHRTdHlsZSBwcm9wZXJ0eSB3aGl0ZVNwYWNlXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gIHNob3VsZCBjb2xsYXBzZVxuICAgICAqL1xuICAgIHByaXZhdGUgc3RhdGljIGNvbGxhcHNlU3BhY2VzKHdoaXRlU3BhY2U6IFRleHRTdHlsZVdoaXRlU3BhY2UpOiBib29sZWFuXG4gICAge1xuICAgICAgICByZXR1cm4gKHdoaXRlU3BhY2UgPT09ICdub3JtYWwnIHx8IHdoaXRlU3BhY2UgPT09ICdwcmUtbGluZScpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgd2hldGhlciB3ZSBzaG91bGQgY29sbGFwc2UgbmV3TGluZSBjaGFyc1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9ICAgd2hpdGVTcGFjZSAtIFRoZSB3aGl0ZSBzcGFjZVxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59ICBzaG91bGQgY29sbGFwc2VcbiAgICAgKi9cbiAgICBwcml2YXRlIHN0YXRpYyBjb2xsYXBzZU5ld2xpbmVzKHdoaXRlU3BhY2U6IFRleHRTdHlsZVdoaXRlU3BhY2UpOiBib29sZWFuXG4gICAge1xuICAgICAgICByZXR1cm4gKHdoaXRlU3BhY2UgPT09ICdub3JtYWwnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiB0cmltcyBicmVha2luZyB3aGl0ZXNwYWNlcyBmcm9tIHN0cmluZ1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9ICB0ZXh0IC0gVGhlIHRleHRcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9ICB0cmltbWVkIHN0cmluZ1xuICAgICAqL1xuICAgIHByaXZhdGUgc3RhdGljIHRyaW1SaWdodCh0ZXh0OiBzdHJpbmcpOiBzdHJpbmdcbiAgICB7XG4gICAgICAgIGlmICh0eXBlb2YgdGV4dCAhPT0gJ3N0cmluZycpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGkgPSB0ZXh0Lmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBjaGFyID0gdGV4dFtpXTtcblxuICAgICAgICAgICAgaWYgKCFUZXh0TWV0cmljcy5pc0JyZWFraW5nU3BhY2UoY2hhcikpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRleHQgPSB0ZXh0LnNsaWNlKDAsIC0xKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0ZXh0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgaWYgY2hhciBpcyBhIG5ld2xpbmUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gIGNoYXIgLSBUaGUgY2hhcmFjdGVyXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gIFRydWUgaWYgbmV3bGluZSwgRmFsc2Ugb3RoZXJ3aXNlLlxuICAgICAqL1xuICAgIHByaXZhdGUgc3RhdGljIGlzTmV3bGluZShjaGFyOiBzdHJpbmcpOiBib29sZWFuXG4gICAge1xuICAgICAgICBpZiAodHlwZW9mIGNoYXIgIT09ICdzdHJpbmcnKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gKFRleHRNZXRyaWNzLl9uZXdsaW5lcy5pbmRleE9mKGNoYXIuY2hhckNvZGVBdCgwKSkgPj0gMCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyBpZiBjaGFyIGlzIGEgYnJlYWtpbmcgd2hpdGVzcGFjZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSAgY2hhciAtIFRoZSBjaGFyYWN0ZXJcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSAgVHJ1ZSBpZiB3aGl0ZXNwYWNlLCBGYWxzZSBvdGhlcndpc2UuXG4gICAgICovXG4gICAgcHJpdmF0ZSBzdGF0aWMgaXNCcmVha2luZ1NwYWNlKGNoYXI6IHN0cmluZyk6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIGlmICh0eXBlb2YgY2hhciAhPT0gJ3N0cmluZycpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAoVGV4dE1ldHJpY3MuX2JyZWFraW5nU3BhY2VzLmluZGV4T2YoY2hhci5jaGFyQ29kZUF0KDApKSA+PSAwKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTcGxpdHMgYSBzdHJpbmcgaW50byB3b3JkcywgYnJlYWtpbmctc3BhY2VzIGFuZCBuZXdMaW5lIGNoYXJhY3RlcnNcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSAgdGV4dCAtIFRoZSB0ZXh0XG4gICAgICogQHJldHVybiB7c3RyaW5nW119ICBBIHRva2VuaXplZCBhcnJheVxuICAgICAqL1xuICAgIHByaXZhdGUgc3RhdGljIHRva2VuaXplKHRleHQ6IHN0cmluZyk6IHN0cmluZ1tdXG4gICAge1xuICAgICAgICBjb25zdCB0b2tlbnM6IHN0cmluZ1tdID0gW107XG4gICAgICAgIGxldCB0b2tlbiA9ICcnO1xuXG4gICAgICAgIGlmICh0eXBlb2YgdGV4dCAhPT0gJ3N0cmluZycpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB0b2tlbnM7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRleHQubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGNoYXIgPSB0ZXh0W2ldO1xuXG4gICAgICAgICAgICBpZiAoVGV4dE1ldHJpY3MuaXNCcmVha2luZ1NwYWNlKGNoYXIpIHx8IFRleHRNZXRyaWNzLmlzTmV3bGluZShjaGFyKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAodG9rZW4gIT09ICcnKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgICAgICAgICAgICB0b2tlbiA9ICcnO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRva2Vucy5wdXNoKGNoYXIpO1xuXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRva2VuICs9IGNoYXI7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodG9rZW4gIT09ICcnKVxuICAgICAgICB7XG4gICAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdG9rZW5zO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRhYmxlIGhlbHBlciBtZXRob2QgdXNlZCBpbnRlcm5hbGx5IGJ5IFRleHRNZXRyaWNzLCBleHBvc2VkIHRvIGFsbG93IGN1c3RvbWl6aW5nIHRoZSBjbGFzcydzIGJlaGF2aW9yLlxuICAgICAqXG4gICAgICogSXQgYWxsb3dzIG9uZSB0byBjdXN0b21pc2Ugd2hpY2ggd29yZHMgc2hvdWxkIGJyZWFrXG4gICAgICogRXhhbXBsZXMgYXJlIGlmIHRoZSB0b2tlbiBpcyBDSksgb3IgbnVtYmVycy5cbiAgICAgKiBJdCBtdXN0IHJldHVybiBhIGJvb2xlYW4uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9ICB0b2tlbiAgICAgICAtIFRoZSB0b2tlblxuICAgICAqIEBwYXJhbSAge2Jvb2xlYW59ICBicmVha1dvcmRzIC0gVGhlIHN0eWxlIGF0dHIgYnJlYWsgd29yZHNcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSB3aGV0aGVyIHRvIGJyZWFrIHdvcmQgb3Igbm90XG4gICAgICovXG4gICAgc3RhdGljIGNhbkJyZWFrV29yZHMoX3Rva2VuOiBzdHJpbmcsIGJyZWFrV29yZHM6IGJvb2xlYW4pOiBib29sZWFuXG4gICAge1xuICAgICAgICByZXR1cm4gYnJlYWtXb3JkcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPdmVycmlkYWJsZSBoZWxwZXIgbWV0aG9kIHVzZWQgaW50ZXJuYWxseSBieSBUZXh0TWV0cmljcywgZXhwb3NlZCB0byBhbGxvdyBjdXN0b21pemluZyB0aGUgY2xhc3MncyBiZWhhdmlvci5cbiAgICAgKlxuICAgICAqIEl0IGFsbG93cyBvbmUgdG8gZGV0ZXJtaW5lIHdoZXRoZXIgYSBwYWlyIG9mIGNoYXJhY3RlcnNcbiAgICAgKiBzaG91bGQgYmUgYnJva2VuIGJ5IG5ld2xpbmVzXG4gICAgICogRm9yIGV4YW1wbGUgY2VydGFpbiBjaGFyYWN0ZXJzIGluIENKSyBsYW5ncyBvciBudW1iZXJzLlxuICAgICAqIEl0IG11c3QgcmV0dXJuIGEgYm9vbGVhbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gIGNoYXIgICAgICAgIC0gVGhlIGNoYXJhY3RlclxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gIG5leHRDaGFyICAgIC0gVGhlIG5leHQgY2hhcmFjdGVyXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSAgdG9rZW4gICAgICAgLSBUaGUgdG9rZW4vd29yZCB0aGUgY2hhcmFjdGVycyBhcmUgZnJvbVxuICAgICAqIEBwYXJhbSAge251bWJlcn0gIGluZGV4ICAgICAgIC0gVGhlIGluZGV4IGluIHRoZSB0b2tlbiBvZiB0aGUgY2hhclxuICAgICAqIEBwYXJhbSAge2Jvb2xlYW59ICBicmVha1dvcmRzIC0gVGhlIHN0eWxlIGF0dHIgYnJlYWsgd29yZHNcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSB3aGV0aGVyIHRvIGJyZWFrIHdvcmQgb3Igbm90XG4gICAgICovXG4gICAgc3RhdGljIGNhbkJyZWFrQ2hhcnMoX2NoYXI6IHN0cmluZywgX25leHRDaGFyOiBzdHJpbmcsIF90b2tlbjogc3RyaW5nLCBfaW5kZXg6IG51bWJlcixcbiAgICAgICAgX2JyZWFrV29yZHM6IGJvb2xlYW4pOiBib29sZWFuXG4gICAge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPdmVycmlkYWJsZSBoZWxwZXIgbWV0aG9kIHVzZWQgaW50ZXJuYWxseSBieSBUZXh0TWV0cmljcywgZXhwb3NlZCB0byBhbGxvdyBjdXN0b21pemluZyB0aGUgY2xhc3MncyBiZWhhdmlvci5cbiAgICAgKlxuICAgICAqIEl0IGlzIGNhbGxlZCB3aGVuIGEgdG9rZW4gKHVzdWFsbHkgYSB3b3JkKSBoYXMgdG8gYmUgc3BsaXQgaW50byBzZXBhcmF0ZSBwaWVjZXNcbiAgICAgKiBpbiBvcmRlciB0byBkZXRlcm1pbmUgdGhlIHBvaW50IHRvIGJyZWFrIGEgd29yZC5cbiAgICAgKiBJdCBtdXN0IHJldHVybiBhbiBhcnJheSBvZiBjaGFyYWN0ZXJzLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBDb3JyZWN0bHkgc3BsaXRzIGVtb2ppcywgZWcgXCLwn6Sq8J+kqlwiIHdpbGwgcmVzdWx0IGluIHR3byBlbGVtZW50IGFycmF5LCBlYWNoIHdpdGggb25lIGVtb2ppLlxuICAgICAqIFRleHRNZXRyaWNzLndvcmRXcmFwU3BsaXQgPSAodG9rZW4pID0+IFsuLi50b2tlbl07XG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9ICB0b2tlbiAtIFRoZSB0b2tlbiB0byBzcGxpdFxuICAgICAqIEByZXR1cm4ge3N0cmluZ1tdfSBUaGUgY2hhcmFjdGVycyBvZiB0aGUgdG9rZW5cbiAgICAgKi9cbiAgICBzdGF0aWMgd29yZFdyYXBTcGxpdCh0b2tlbjogc3RyaW5nKTogc3RyaW5nW11cbiAgICB7XG4gICAgICAgIHJldHVybiB0b2tlbi5zcGxpdCgnJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyB0aGUgYXNjZW50LCBkZXNjZW50IGFuZCBmb250U2l6ZSBvZiBhIGdpdmVuIGZvbnQtc3R5bGVcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZm9udCAtIFN0cmluZyByZXByZXNlbnRpbmcgdGhlIHN0eWxlIG9mIHRoZSBmb250XG4gICAgICogQHJldHVybiB7UElYSS5JRm9udE1ldHJpY3N9IEZvbnQgcHJvcGVydGllcyBvYmplY3RcbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIG1lYXN1cmVGb250KGZvbnQ6IHN0cmluZyk6IElGb250TWV0cmljc1xuICAgIHtcbiAgICAgICAgLy8gYXMgdGhpcyBtZXRob2QgaXMgdXNlZCBmb3IgcHJlcGFyaW5nIGFzc2V0cywgZG9uJ3QgcmVjYWxjdWxhdGUgdGhpbmdzIGlmIHdlIGRvbid0IG5lZWQgdG9cbiAgICAgICAgaWYgKFRleHRNZXRyaWNzLl9mb250c1tmb250XSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIFRleHRNZXRyaWNzLl9mb250c1tmb250XTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHByb3BlcnRpZXM6IElGb250TWV0cmljcyA9IHtcbiAgICAgICAgICAgIGFzY2VudDogMCxcbiAgICAgICAgICAgIGRlc2NlbnQ6IDAsXG4gICAgICAgICAgICBmb250U2l6ZTogMCxcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBjYW52YXMgPSBUZXh0TWV0cmljcy5fY2FudmFzO1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gVGV4dE1ldHJpY3MuX2NvbnRleHQ7XG5cbiAgICAgICAgY29udGV4dC5mb250ID0gZm9udDtcblxuICAgICAgICBjb25zdCBtZXRyaWNzU3RyaW5nID0gVGV4dE1ldHJpY3MuTUVUUklDU19TVFJJTkcgKyBUZXh0TWV0cmljcy5CQVNFTElORV9TWU1CT0w7XG4gICAgICAgIGNvbnN0IHdpZHRoID0gTWF0aC5jZWlsKGNvbnRleHQubWVhc3VyZVRleHQobWV0cmljc1N0cmluZykud2lkdGgpO1xuICAgICAgICBsZXQgYmFzZWxpbmUgPSBNYXRoLmNlaWwoY29udGV4dC5tZWFzdXJlVGV4dChUZXh0TWV0cmljcy5CQVNFTElORV9TWU1CT0wpLndpZHRoKTtcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gMiAqIGJhc2VsaW5lO1xuXG4gICAgICAgIGJhc2VsaW5lID0gYmFzZWxpbmUgKiBUZXh0TWV0cmljcy5CQVNFTElORV9NVUxUSVBMSUVSIHwgMDtcblxuICAgICAgICBjYW52YXMud2lkdGggPSB3aWR0aDtcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IGhlaWdodDtcblxuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICcjZjAwJztcbiAgICAgICAgY29udGV4dC5maWxsUmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcblxuICAgICAgICBjb250ZXh0LmZvbnQgPSBmb250O1xuXG4gICAgICAgIGNvbnRleHQudGV4dEJhc2VsaW5lID0gJ2FscGhhYmV0aWMnO1xuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICcjMDAwJztcbiAgICAgICAgY29udGV4dC5maWxsVGV4dChtZXRyaWNzU3RyaW5nLCAwLCBiYXNlbGluZSk7XG5cbiAgICAgICAgY29uc3QgaW1hZ2VkYXRhID0gY29udGV4dC5nZXRJbWFnZURhdGEoMCwgMCwgd2lkdGgsIGhlaWdodCkuZGF0YTtcbiAgICAgICAgY29uc3QgcGl4ZWxzID0gaW1hZ2VkYXRhLmxlbmd0aDtcbiAgICAgICAgY29uc3QgbGluZSA9IHdpZHRoICogNDtcblxuICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgIGxldCBpZHggPSAwO1xuICAgICAgICBsZXQgc3RvcCA9IGZhbHNlO1xuXG4gICAgICAgIC8vIGFzY2VudC4gc2NhbiBmcm9tIHRvcCB0byBib3R0b20gdW50aWwgd2UgZmluZCBhIG5vbiByZWQgcGl4ZWxcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGJhc2VsaW5lOyArK2kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgbGluZTsgaiArPSA0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChpbWFnZWRhdGFbaWR4ICsgal0gIT09IDI1NSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHN0b3AgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXN0b3ApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWR4ICs9IGxpbmU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcm9wZXJ0aWVzLmFzY2VudCA9IGJhc2VsaW5lIC0gaTtcblxuICAgICAgICBpZHggPSBwaXhlbHMgLSBsaW5lO1xuICAgICAgICBzdG9wID0gZmFsc2U7XG5cbiAgICAgICAgLy8gZGVzY2VudC4gc2NhbiBmcm9tIGJvdHRvbSB0byB0b3AgdW50aWwgd2UgZmluZCBhIG5vbiByZWQgcGl4ZWxcbiAgICAgICAgZm9yIChpID0gaGVpZ2h0OyBpID4gYmFzZWxpbmU7IC0taSlcbiAgICAgICAge1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBsaW5lOyBqICs9IDQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKGltYWdlZGF0YVtpZHggKyBqXSAhPT0gMjU1KVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgc3RvcCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFzdG9wKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlkeCAtPSBsaW5lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJvcGVydGllcy5kZXNjZW50ID0gaSAtIGJhc2VsaW5lO1xuICAgICAgICBwcm9wZXJ0aWVzLmZvbnRTaXplID0gcHJvcGVydGllcy5hc2NlbnQgKyBwcm9wZXJ0aWVzLmRlc2NlbnQ7XG5cbiAgICAgICAgVGV4dE1ldHJpY3MuX2ZvbnRzW2ZvbnRdID0gcHJvcGVydGllcztcblxuICAgICAgICByZXR1cm4gcHJvcGVydGllcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDbGVhciBmb250IG1ldHJpY3MgaW4gbWV0cmljcyBjYWNoZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2ZvbnRdIC0gZm9udCBuYW1lLiBJZiBmb250IG5hbWUgbm90IHNldCB0aGVuIGNsZWFyIGNhY2hlIGZvciBhbGwgZm9udHMuXG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyBjbGVhck1ldHJpY3MoZm9udCA9ICcnKTogdm9pZFxuICAgIHtcbiAgICAgICAgaWYgKGZvbnQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRlbGV0ZSBUZXh0TWV0cmljcy5fZm9udHNbZm9udF07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBUZXh0TWV0cmljcy5fZm9udHMgPSB7fTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBJbnRlcm5hbCByZXR1cm4gb2JqZWN0IGZvciB7QGxpbmsgUElYSS5UZXh0TWV0cmljcy5tZWFzdXJlRm9udCBgVGV4dE1ldHJpY3MubWVhc3VyZUZvbnRgfS5cbiAqXG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBGb250TWV0cmljc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IGFzY2VudCAtIFRoZSBhc2NlbnQgZGlzdGFuY2VcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBkZXNjZW50IC0gVGhlIGRlc2NlbnQgZGlzdGFuY2VcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBmb250U2l6ZSAtIEZvbnQgc2l6ZSBmcm9tIGFzY2VudCB0byBkZXNjZW50XG4gKiBAbWVtYmVyb2YgUElYSS5UZXh0TWV0cmljc1xuICogQHByaXZhdGVcbiAqL1xuXG5jb25zdCBjYW52YXMgPSAoKCk6IEhUTUxDYW52YXNFbGVtZW50fE9mZnNjcmVlbkNhbnZhcyA9Plxue1xuICAgIHRyeVxuICAgIHtcbiAgICAgICAgLy8gT2Zmc2NyZWVuQ2FudmFzMkQgbWVhc3VyZVRleHQgY2FuIGJlIHVwIHRvIDQwJSBmYXN0ZXIuXG4gICAgICAgIGNvbnN0IGMgPSBuZXcgT2Zmc2NyZWVuQ2FudmFzKDAsIDApO1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gYy5nZXRDb250ZXh0KCcyZCcpO1xuXG4gICAgICAgIGlmIChjb250ZXh0ICYmIGNvbnRleHQubWVhc3VyZVRleHQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBjO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgIH1cbiAgICBjYXRjaCAoZXgpXG4gICAge1xuICAgICAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgfVxufSkoKTtcblxuY2FudmFzLndpZHRoID0gY2FudmFzLmhlaWdodCA9IDEwO1xuXG4vKipcbiAqIENhY2hlZCBjYW52YXMgZWxlbWVudCBmb3IgbWVhc3VyaW5nIHRleHRcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS5UZXh0TWV0cmljc1xuICogQHR5cGUge0hUTUxDYW52YXNFbGVtZW50fVxuICogQHByaXZhdGVcbiAqL1xuVGV4dE1ldHJpY3MuX2NhbnZhcyA9IGNhbnZhcztcblxuLyoqXG4gKiBDYWNoZSBmb3IgY29udGV4dCB0byB1c2UuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkuVGV4dE1ldHJpY3NcbiAqIEB0eXBlIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9XG4gKiBAcHJpdmF0ZVxuICovXG5UZXh0TWV0cmljcy5fY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuXG4vKipcbiAqIENhY2hlIG9mIHtAc2VlIFBJWEkuVGV4dE1ldHJpY3MuRm9udE1ldHJpY3N9IG9iamVjdHMuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkuVGV4dE1ldHJpY3NcbiAqIEB0eXBlIHtPYmplY3R9XG4gKiBAcHJpdmF0ZVxuICovXG5UZXh0TWV0cmljcy5fZm9udHMgPSB7fTtcblxuLyoqXG4gKiBTdHJpbmcgdXNlZCBmb3IgY2FsY3VsYXRlIGZvbnQgbWV0cmljcy5cbiAqIFRoZXNlIGNoYXJhY3RlcnMgYXJlIGFsbCB0YWxsIHRvIGhlbHAgY2FsY3VsYXRlIHRoZSBoZWlnaHQgcmVxdWlyZWQgZm9yIHRleHQuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlcm9mIFBJWEkuVGV4dE1ldHJpY3NcbiAqIEBuYW1lIE1FVFJJQ1NfU1RSSU5HXG4gKiBAdHlwZSB7c3RyaW5nfVxuICogQGRlZmF1bHQgfMOJccOFXG4gKi9cblRleHRNZXRyaWNzLk1FVFJJQ1NfU1RSSU5HID0gJ3zDiXHDhSc7XG5cbi8qKlxuICogQmFzZWxpbmUgc3ltYm9sIGZvciBjYWxjdWxhdGUgZm9udCBtZXRyaWNzLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBQSVhJLlRleHRNZXRyaWNzXG4gKiBAbmFtZSBCQVNFTElORV9TWU1CT0xcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKiBAZGVmYXVsdCBNXG4gKi9cblRleHRNZXRyaWNzLkJBU0VMSU5FX1NZTUJPTCA9ICdNJztcblxuLyoqXG4gKiBCYXNlbGluZSBtdWx0aXBsaWVyIGZvciBjYWxjdWxhdGUgZm9udCBtZXRyaWNzLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBQSVhJLlRleHRNZXRyaWNzXG4gKiBAbmFtZSBCQVNFTElORV9NVUxUSVBMSUVSXG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQGRlZmF1bHQgMS40XG4gKi9cblRleHRNZXRyaWNzLkJBU0VMSU5FX01VTFRJUExJRVIgPSAxLjQ7XG5cbi8qKlxuICogQ2FjaGUgb2YgbmV3IGxpbmUgY2hhcnMuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkuVGV4dE1ldHJpY3NcbiAqIEB0eXBlIHtudW1iZXJbXX1cbiAqIEBwcml2YXRlXG4gKi9cblRleHRNZXRyaWNzLl9uZXdsaW5lcyA9IFtcbiAgICAweDAwMEEsIC8vIGxpbmUgZmVlZFxuICAgIDB4MDAwRCwgLy8gY2FycmlhZ2UgcmV0dXJuXG5dO1xuXG4vKipcbiAqIENhY2hlIG9mIGJyZWFraW5nIHNwYWNlcy5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS5UZXh0TWV0cmljc1xuICogQHR5cGUge251bWJlcltdfVxuICogQHByaXZhdGVcbiAqL1xuVGV4dE1ldHJpY3MuX2JyZWFraW5nU3BhY2VzID0gW1xuICAgIDB4MDAwOSwgLy8gY2hhcmFjdGVyIHRhYnVsYXRpb25cbiAgICAweDAwMjAsIC8vIHNwYWNlXG4gICAgMHgyMDAwLCAvLyBlbiBxdWFkXG4gICAgMHgyMDAxLCAvLyBlbSBxdWFkXG4gICAgMHgyMDAyLCAvLyBlbiBzcGFjZVxuICAgIDB4MjAwMywgLy8gZW0gc3BhY2VcbiAgICAweDIwMDQsIC8vIHRocmVlLXBlci1lbSBzcGFjZVxuICAgIDB4MjAwNSwgLy8gZm91ci1wZXItZW0gc3BhY2VcbiAgICAweDIwMDYsIC8vIHNpeC1wZXItZW0gc3BhY2VcbiAgICAweDIwMDgsIC8vIHB1bmN0dWF0aW9uIHNwYWNlXG4gICAgMHgyMDA5LCAvLyB0aGluIHNwYWNlXG4gICAgMHgyMDBBLCAvLyBoYWlyIHNwYWNlXG4gICAgMHgyMDVGLCAvLyBtZWRpdW0gbWF0aGVtYXRpY2FsIHNwYWNlXG4gICAgMHgzMDAwLCAvLyBpZGVvZ3JhcGhpYyBzcGFjZVxuXTtcblxuLyoqXG4gKiBBIG51bWJlciwgb3IgYSBzdHJpbmcgY29udGFpbmluZyBhIG51bWJlci5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHR5cGVkZWYgSUZvbnRNZXRyaWNzXG4gKiBAcHJvcGVydHkge251bWJlcn0gYXNjZW50IC0gRm9udCBhc2NlbnRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBkZXNjZW50IC0gRm9udCBkZXNjZW50XG4gKiBAcHJvcGVydHkge251bWJlcn0gZm9udFNpemUgLSBGb250IHNpemVcbiAqL1xuIiwiLyogZXNsaW50IG1heC1kZXB0aDogWzIsIDhdICovXG5pbXBvcnQgeyBTcHJpdGUgfSBmcm9tICdAcGl4aS9zcHJpdGUnO1xuaW1wb3J0IHsgVGV4dHVyZSAgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyBzaWduLCB0cmltQ2FudmFzLCBoZXgycmdiLCBzdHJpbmcyaGV4IH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuaW1wb3J0IHsgVEVYVF9HUkFESUVOVCB9IGZyb20gJy4vY29uc3QnO1xuaW1wb3J0IHsgVGV4dFN0eWxlIH0gZnJvbSAnLi9UZXh0U3R5bGUnO1xuaW1wb3J0IHsgVGV4dE1ldHJpY3MgfSBmcm9tICcuL1RleHRNZXRyaWNzJztcblxuaW1wb3J0IHR5cGUgeyBJRGVzdHJveU9wdGlvbnMgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcbmltcG9ydCB0eXBlIHsgUmVuZGVyZXIgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB0eXBlIHsgSVRleHRTdHlsZSB9IGZyb20gJy4vVGV4dFN0eWxlJztcblxuY29uc3QgZGVmYXVsdERlc3Ryb3lPcHRpb25zOiBJRGVzdHJveU9wdGlvbnMgPSB7XG4gICAgdGV4dHVyZTogdHJ1ZSxcbiAgICBjaGlsZHJlbjogZmFsc2UsXG4gICAgYmFzZVRleHR1cmU6IHRydWUsXG59O1xuXG4vKipcbiAqIEEgVGV4dCBPYmplY3Qgd2lsbCBjcmVhdGUgYSBsaW5lIG9yIG11bHRpcGxlIGxpbmVzIG9mIHRleHQuXG4gKlxuICogVGhlIHRleHQgaXMgY3JlYXRlZCB1c2luZyB0aGUgW0NhbnZhcyBBUEldKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9DYW52YXNfQVBJKS5cbiAqXG4gKiBUaGUgcHJpbWFyeSBhZHZhbnRhZ2Ugb2YgdGhpcyBjbGFzcyBvdmVyIEJpdG1hcFRleHQgaXMgdGhhdCB5b3UgaGF2ZSBncmVhdCBjb250cm9sIG92ZXIgdGhlIHN0eWxlIG9mIHRoZSBuZXh0LFxuICogd2hpY2ggeW91IGNhbiBjaGFuZ2UgYXQgcnVudGltZS5cbiAqXG4gKiBUaGUgcHJpbWFyeSBkaXNhZHZhbnRhZ2VzIGlzIHRoYXQgZWFjaCBwaWVjZSBvZiB0ZXh0IGhhcyBpdCdzIG93biB0ZXh0dXJlLCB3aGljaCBjYW4gdXNlIG1vcmUgbWVtb3J5LlxuICogV2hlbiB0ZXh0IGNoYW5nZXMsIHRoaXMgdGV4dHVyZSBoYXMgdG8gYmUgcmUtZ2VuZXJhdGVkIGFuZCByZS11cGxvYWRlZCB0byB0aGUgR1BVLCB0YWtpbmcgdXAgdGltZS5cbiAqXG4gKiBUbyBzcGxpdCBhIGxpbmUgeW91IGNhbiB1c2UgJ1xcbicgaW4geW91ciB0ZXh0IHN0cmluZywgb3IsIG9uIHRoZSBgc3R5bGVgIG9iamVjdCxcbiAqIGNoYW5nZSBpdHMgYHdvcmRXcmFwYCBwcm9wZXJ0eSB0byB0cnVlIGFuZCBhbmQgZ2l2ZSB0aGUgYHdvcmRXcmFwV2lkdGhgIHByb3BlcnR5IGEgdmFsdWUuXG4gKlxuICogQSBUZXh0IGNhbiBiZSBjcmVhdGVkIGRpcmVjdGx5IGZyb20gYSBzdHJpbmcgYW5kIGEgc3R5bGUgb2JqZWN0LFxuICogd2hpY2ggY2FuIGJlIGdlbmVyYXRlZCBbaGVyZV0oaHR0cHM6Ly9waXhpanMuaW8vcGl4aS10ZXh0LXN0eWxlKS5cbiAqXG4gKiBgYGBqc1xuICogbGV0IHRleHQgPSBuZXcgUElYSS5UZXh0KCdUaGlzIGlzIGEgUGl4aUpTIHRleHQnLHtmb250RmFtaWx5IDogJ0FyaWFsJywgZm9udFNpemU6IDI0LCBmaWxsIDogMHhmZjEwMTAsIGFsaWduIDogJ2NlbnRlcid9KTtcbiAqIGBgYFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TcHJpdGVcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBjbGFzcyBUZXh0IGV4dGVuZHMgU3ByaXRlXG57XG4gICAgcHVibGljIGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQ7XG4gICAgcHVibGljIGNvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcbiAgICBwdWJsaWMgbG9jYWxTdHlsZUlEOiBudW1iZXI7XG4gICAgcHVibGljIGRpcnR5OiBib29sZWFuO1xuXG4gICAgX3Jlc29sdXRpb246IG51bWJlcjtcbiAgICBfYXV0b1Jlc29sdXRpb246IGJvb2xlYW47XG4gICAgcHJvdGVjdGVkIF90ZXh0OiBzdHJpbmc7XG4gICAgcHJvdGVjdGVkIF9mb250OiBzdHJpbmc7XG4gICAgcHJvdGVjdGVkIF9zdHlsZTogVGV4dFN0eWxlO1xuICAgIHByb3RlY3RlZCBfc3R5bGVMaXN0ZW5lcjogKCkgPT4gdm9pZDtcbiAgICBwcml2YXRlIF9vd25DYW52YXM6IGJvb2xlYW47XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCAtIFRoZSBzdHJpbmcgdGhhdCB5b3Ugd291bGQgbGlrZSB0aGUgdGV4dCB0byBkaXNwbGF5XG4gICAgICogQHBhcmFtIHtvYmplY3R8UElYSS5UZXh0U3R5bGV9IFtzdHlsZV0gLSBUaGUgc3R5bGUgcGFyYW1ldGVyc1xuICAgICAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IFtjYW52YXNdIC0gVGhlIGNhbnZhcyBlbGVtZW50IGZvciBkcmF3aW5nIHRleHRcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih0ZXh0OiBzdHJpbmcsIHN0eWxlOiBQYXJ0aWFsPElUZXh0U3R5bGU+fFRleHRTdHlsZSwgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudClcbiAgICB7XG4gICAgICAgIGxldCBvd25DYW52YXMgPSBmYWxzZTtcblxuICAgICAgICBpZiAoIWNhbnZhcylcbiAgICAgICAge1xuICAgICAgICAgICAgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgICAgICBvd25DYW52YXMgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgY2FudmFzLndpZHRoID0gMztcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IDM7XG5cbiAgICAgICAgY29uc3QgdGV4dHVyZSA9IFRleHR1cmUuZnJvbShjYW52YXMpO1xuXG4gICAgICAgIHRleHR1cmUub3JpZyA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICAgICAgdGV4dHVyZS50cmltID0gbmV3IFJlY3RhbmdsZSgpO1xuXG4gICAgICAgIHN1cGVyKHRleHR1cmUpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBLZWVwIHRyYWNrIGlmIHRoaXMgVGV4dCBvYmplY3QgY3JlYXRlZCBpdCdzIG93biBjYW52YXNcbiAgICAgICAgICogZWxlbWVudCAoYHRydWVgKSBvciB1c2VzIHRoZSBjb25zdHJ1Y3RvciBhcmd1bWVudCAoYGZhbHNlYCkuXG4gICAgICAgICAqIFVzZWQgdG8gd29ya2Fyb3VuZCBhIEdDIGlzc3VlcyB3aXRoIFNhZmFyaSA8IDEzIHdoZW5cbiAgICAgICAgICogZGVzdHJveWluZyBUZXh0LiBTZWUgYGRlc3Ryb3lgIGZvciBtb3JlIGluZm8uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9vd25DYW52YXMgPSBvd25DYW52YXM7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjYW52YXMgZWxlbWVudCB0aGF0IGV2ZXJ5dGhpbmcgaXMgZHJhd24gdG9cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7SFRNTENhbnZhc0VsZW1lbnR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNhbnZhcyA9IGNhbnZhcztcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNhbnZhcyAyZCBjb250ZXh0IHRoYXQgZXZlcnl0aGluZyBpcyBkcmF3biB3aXRoXG4gICAgICAgICAqIEBtZW1iZXIge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY29udGV4dCA9IHRoaXMuY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSBjYW52YXMuXG4gICAgICAgICAqIFRoaXMgaXMgc2V0IHRvIGF1dG9tYXRpY2FsbHkgbWF0Y2ggdGhlIHJlbmRlcmVyIHJlc29sdXRpb24gYnkgZGVmYXVsdCwgYnV0IGNhbiBiZSBvdmVycmlkZGVuIGJ5IHNldHRpbmcgbWFudWFsbHkuXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fcmVzb2x1dGlvbiA9IHNldHRpbmdzLlJFU09MVVRJT047XG4gICAgICAgIHRoaXMuX2F1dG9SZXNvbHV0aW9uID0gdHJ1ZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSB0cmFja2VyIGZvciB0aGUgY3VycmVudCB0ZXh0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl90ZXh0ID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSB0cmFja2VyIGZvciB0aGUgY3VycmVudCBzdHlsZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fc3R5bGUgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSBsaXN0ZW5lciB0byB0cmFjayBzdHlsZSBjaGFuZ2VzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3N0eWxlTGlzdGVuZXIgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIHRyYWNrZXIgZm9yIHRoZSBjdXJyZW50IGZvbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2ZvbnQgPSAnJztcblxuICAgICAgICB0aGlzLnRleHQgPSB0ZXh0O1xuICAgICAgICB0aGlzLnN0eWxlID0gc3R5bGU7XG5cbiAgICAgICAgdGhpcy5sb2NhbFN0eWxlSUQgPSAtMTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRleHQgdG8gaXRzIGNhbnZhcywgYW5kIHVwZGF0ZXMgaXRzIHRleHR1cmUuXG4gICAgICogQnkgZGVmYXVsdCB0aGlzIGlzIHVzZWQgaW50ZXJuYWxseSB0byBlbnN1cmUgdGhlIHRleHR1cmUgaXMgY29ycmVjdCBiZWZvcmUgcmVuZGVyaW5nLFxuICAgICAqIGJ1dCBpdCBjYW4gYmUgdXNlZCBjYWxsZWQgZXh0ZXJuYWxseSwgZm9yIGV4YW1wbGUgZnJvbSB0aGlzIGNsYXNzIHRvICdwcmUtZ2VuZXJhdGUnIHRoZSB0ZXh0dXJlIGZyb20gYSBwaWVjZSBvZiB0ZXh0LFxuICAgICAqIGFuZCB0aGVuIHNoYXJlZCBhY3Jvc3MgbXVsdGlwbGUgU3ByaXRlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gcmVzcGVjdERpcnR5IC0gV2hldGhlciB0byBhYm9ydCB1cGRhdGluZyB0aGUgdGV4dCBpZiB0aGUgVGV4dCBpc24ndCBkaXJ0eSBhbmQgdGhlIGZ1bmN0aW9uIGlzIGNhbGxlZC5cbiAgICAgKi9cbiAgICBwdWJsaWMgdXBkYXRlVGV4dChyZXNwZWN0RGlydHk6IGJvb2xlYW4pOiB2b2lkXG4gICAge1xuICAgICAgICBjb25zdCBzdHlsZSA9IHRoaXMuX3N0eWxlO1xuXG4gICAgICAgIC8vIGNoZWNrIGlmIHN0eWxlIGhhcyBjaGFuZ2VkLi5cbiAgICAgICAgaWYgKHRoaXMubG9jYWxTdHlsZUlEICE9PSBzdHlsZS5zdHlsZUlEKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMubG9jYWxTdHlsZUlEID0gc3R5bGUuc3R5bGVJRDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5kaXJ0eSAmJiByZXNwZWN0RGlydHkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2ZvbnQgPSB0aGlzLl9zdHlsZS50b0ZvbnRTdHJpbmcoKTtcblxuICAgICAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5jb250ZXh0O1xuICAgICAgICBjb25zdCBtZWFzdXJlZCA9IFRleHRNZXRyaWNzLm1lYXN1cmVUZXh0KHRoaXMuX3RleHQgfHwgJyAnLCB0aGlzLl9zdHlsZSwgdGhpcy5fc3R5bGUud29yZFdyYXAsIHRoaXMuY2FudmFzKTtcbiAgICAgICAgY29uc3Qgd2lkdGggPSBtZWFzdXJlZC53aWR0aDtcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gbWVhc3VyZWQuaGVpZ2h0O1xuICAgICAgICBjb25zdCBsaW5lcyA9IG1lYXN1cmVkLmxpbmVzO1xuICAgICAgICBjb25zdCBsaW5lSGVpZ2h0ID0gbWVhc3VyZWQubGluZUhlaWdodDtcbiAgICAgICAgY29uc3QgbGluZVdpZHRocyA9IG1lYXN1cmVkLmxpbmVXaWR0aHM7XG4gICAgICAgIGNvbnN0IG1heExpbmVXaWR0aCA9IG1lYXN1cmVkLm1heExpbmVXaWR0aDtcbiAgICAgICAgY29uc3QgZm9udFByb3BlcnRpZXMgPSBtZWFzdXJlZC5mb250UHJvcGVydGllcztcblxuICAgICAgICB0aGlzLmNhbnZhcy53aWR0aCA9IE1hdGguY2VpbCgoTWF0aC5tYXgoMSwgd2lkdGgpICsgKHN0eWxlLnBhZGRpbmcgKiAyKSkgKiB0aGlzLl9yZXNvbHV0aW9uKTtcbiAgICAgICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gTWF0aC5jZWlsKChNYXRoLm1heCgxLCBoZWlnaHQpICsgKHN0eWxlLnBhZGRpbmcgKiAyKSkgKiB0aGlzLl9yZXNvbHV0aW9uKTtcblxuICAgICAgICBjb250ZXh0LnNjYWxlKHRoaXMuX3Jlc29sdXRpb24sIHRoaXMuX3Jlc29sdXRpb24pO1xuXG4gICAgICAgIGNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHRoaXMuY2FudmFzLndpZHRoLCB0aGlzLmNhbnZhcy5oZWlnaHQpO1xuXG4gICAgICAgIGNvbnRleHQuZm9udCA9IHRoaXMuX2ZvbnQ7XG4gICAgICAgIGNvbnRleHQubGluZVdpZHRoID0gc3R5bGUuc3Ryb2tlVGhpY2tuZXNzO1xuICAgICAgICBjb250ZXh0LnRleHRCYXNlbGluZSA9IHN0eWxlLnRleHRCYXNlbGluZTtcbiAgICAgICAgY29udGV4dC5saW5lSm9pbiA9IHN0eWxlLmxpbmVKb2luO1xuICAgICAgICBjb250ZXh0Lm1pdGVyTGltaXQgPSBzdHlsZS5taXRlckxpbWl0O1xuXG4gICAgICAgIGxldCBsaW5lUG9zaXRpb25YOiBudW1iZXI7XG4gICAgICAgIGxldCBsaW5lUG9zaXRpb25ZOiBudW1iZXI7XG5cbiAgICAgICAgLy8gcmVxdWlyZSAyIHBhc3NlcyBpZiBhIHNoYWRvdzsgdGhlIGZpcnN0IHRvIGRyYXcgdGhlIGRyb3Agc2hhZG93LCB0aGUgc2Vjb25kIHRvIGRyYXcgdGhlIHRleHRcbiAgICAgICAgY29uc3QgcGFzc2VzQ291bnQgPSBzdHlsZS5kcm9wU2hhZG93ID8gMiA6IDE7XG5cbiAgICAgICAgLy8gRm9yIHY0LCB3ZSBkcmV3IHRleHQgYXQgdGhlIGNvbG91cnMgb2YgdGhlIGRyb3Agc2hhZG93IHVuZGVybmVhdGggdGhlIG5vcm1hbCB0ZXh0LiBUaGlzIGdhdmUgdGhlIGNvcnJlY3QgekluZGV4LFxuICAgICAgICAvLyBidXQgZmVhdHVyZXMgc3VjaCBhcyBhbHBoYSBhbmQgc2hhZG93Ymx1ciBkaWQgbm90IGxvb2sgcmlnaHQgYXQgYWxsLCBzaW5jZSB3ZSB3ZXJlIHVzaW5nIGFjdHVhbCB0ZXh0IGFzIGEgc2hhZG93LlxuICAgICAgICAvL1xuICAgICAgICAvLyBGb3IgdjUuMC4wLCB3ZSBtb3ZlZCBvdmVyIHRvIGp1c3QgdXNlIHRoZSBjYW52YXMgQVBJIGZvciBkcm9wIHNoYWRvd3MsIHdoaWNoIG1hZGUgdGhlbSBsb29rIG11Y2ggbmljZXIgYW5kIG1vcmVcbiAgICAgICAgLy8gdmlzdWFsbHkgcGxlYXNlLCBidXQgbm93IGJlY2F1c2UgdGhlIHN0cm9rZSBpcyBkcmF3biBhbmQgdGhlbiB0aGUgZmlsbCwgZHJvcCBzaGFkb3dzIHdvdWxkIGFwcGVhciBvbiBib3RoIHRoZSBmaWxsXG4gICAgICAgIC8vIGFuZCB0aGUgc3Ryb2tlOyBhbmQgZmlsbCBkcm9wIHNoYWRvd3Mgd291bGQgYXBwZWFyIG92ZXIgdGhlIHRvcCBvZiB0aGUgc3Ryb2tlLlxuICAgICAgICAvL1xuICAgICAgICAvLyBGb3IgdjUuMS4xLCB0aGUgbmV3IHJvdXRlIGlzIHRvIHJldmVydCB0byB2NCBzdHlsZSBvZiBkcmF3aW5nIHRleHQgZmlyc3QgdG8gZ2V0IHRoZSBkcm9wIHNoYWRvd3MgdW5kZXJuZWF0aCBub3JtYWxcbiAgICAgICAgLy8gdGV4dCwgYnV0IGluc3RlYWQgZHJhd2luZyB0ZXh0IGluIHRoZSBjb3JyZWN0IGxvY2F0aW9uLCB3ZSdsbCBkcmF3IGl0IG9mZiBzY3JlZW4gKC1wYWRkaW5nWSksIGFuZCB0aGVuIGFkanVzdCB0aGVcbiAgICAgICAgLy8gZHJvcCBzaGFkb3cgc28gb25seSB0aGF0IGFwcGVhcnMgb24gc2NyZWVuICgrcGFkZGluZ1kpLiBOb3cgd2UnbGwgaGF2ZSB0aGUgY29ycmVjdCBkcmF3IG9yZGVyIG9mIHRoZSBzaGFkb3dcbiAgICAgICAgLy8gYmVuZWF0aCB0aGUgdGV4dCwgd2hpbHN0IGFsc28gaGF2aW5nIHRoZSBwcm9wZXIgdGV4dCBzaGFkb3cgc3R5bGluZy5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXNzZXNDb3VudDsgKytpKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBpc1NoYWRvd1Bhc3MgPSBzdHlsZS5kcm9wU2hhZG93ICYmIGkgPT09IDA7XG4gICAgICAgICAgICAvLyB3ZSBvbmx5IHdhbnQgdGhlIGRyb3Agc2hhZG93LCBzbyBwdXQgdGV4dCB3YXkgb2ZmLXNjcmVlblxuICAgICAgICAgICAgY29uc3QgZHNPZmZzZXRUZXh0ID0gaXNTaGFkb3dQYXNzID8gTWF0aC5jZWlsKE1hdGgubWF4KDEsIGhlaWdodCkgKyAoc3R5bGUucGFkZGluZyAqIDIpKSA6IDA7XG4gICAgICAgICAgICBjb25zdCBkc09mZnNldFNoYWRvdyA9IGRzT2Zmc2V0VGV4dCAqIHRoaXMuX3Jlc29sdXRpb247XG5cbiAgICAgICAgICAgIGlmIChpc1NoYWRvd1Bhc3MpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gT24gU2FmYXJpLCB0ZXh0IHdpdGggZ3JhZGllbnQgYW5kIGRyb3Agc2hhZG93cyB0b2dldGhlciBkbyBub3QgcG9zaXRpb24gY29ycmVjdGx5XG4gICAgICAgICAgICAgICAgLy8gaWYgdGhlIHNjYWxlIG9mIHRoZSBjYW52YXMgaXMgbm90IDE6IGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0xOTc2ODlcbiAgICAgICAgICAgICAgICAvLyBUaGVyZWZvcmUgd2UnbGwgc2V0IHRoZSBzdHlsZXMgdG8gYmUgYSBwbGFpbiBibGFjayB3aGlsc3QgZ2VuZXJhdGluZyB0aGlzIGRyb3Agc2hhZG93XG4gICAgICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSAnYmxhY2snO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSAnYmxhY2snO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgZHJvcFNoYWRvd0NvbG9yID0gc3R5bGUuZHJvcFNoYWRvd0NvbG9yO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJnYiA9IGhleDJyZ2IodHlwZW9mIGRyb3BTaGFkb3dDb2xvciA9PT0gJ251bWJlcicgPyBkcm9wU2hhZG93Q29sb3IgOiBzdHJpbmcyaGV4KGRyb3BTaGFkb3dDb2xvcikpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRyb3BTaGFkb3dCbHVyID0gc3R5bGUuZHJvcFNoYWRvd0JsdXIgKiB0aGlzLl9yZXNvbHV0aW9uO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRyb3BTaGFkb3dEaXN0YW5jZSA9IHN0eWxlLmRyb3BTaGFkb3dEaXN0YW5jZSAqIHRoaXMuX3Jlc29sdXRpb247XG5cbiAgICAgICAgICAgICAgICBjb250ZXh0LnNoYWRvd0NvbG9yID0gYHJnYmEoJHtyZ2JbMF0gKiAyNTV9LCR7cmdiWzFdICogMjU1fSwke3JnYlsyXSAqIDI1NX0sJHtzdHlsZS5kcm9wU2hhZG93QWxwaGF9KWA7XG4gICAgICAgICAgICAgICAgY29udGV4dC5zaGFkb3dCbHVyID0gZHJvcFNoYWRvd0JsdXI7XG4gICAgICAgICAgICAgICAgY29udGV4dC5zaGFkb3dPZmZzZXRYID0gTWF0aC5jb3Moc3R5bGUuZHJvcFNoYWRvd0FuZ2xlKSAqIGRyb3BTaGFkb3dEaXN0YW5jZTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnNoYWRvd09mZnNldFkgPSAoTWF0aC5zaW4oc3R5bGUuZHJvcFNoYWRvd0FuZ2xlKSAqIGRyb3BTaGFkb3dEaXN0YW5jZSkgKyBkc09mZnNldFNoYWRvdztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBzZXQgY2FudmFzIHRleHQgc3R5bGVzXG4gICAgICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSB0aGlzLl9nZW5lcmF0ZUZpbGxTdHlsZShzdHlsZSwgbGluZXMsIG1lYXN1cmVkKTtcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBDYW4ndCBoYXZlIGRpZmZlcmVudCB0eXBlcyBmb3IgZ2V0dGVyIGFuZCBzZXR0ZXIuIFRoZSBnZXR0ZXIgc2hvdWxkbid0IGhhdmUgdGhlIG51bWJlciB0eXBlIGFzXG4gICAgICAgICAgICAgICAgLy8gICAgICAgdGhlIHNldHRlciBjb252ZXJ0cyB0byBzdHJpbmcuIFNlZSB0aGlzIHRocmVhZCBmb3IgbW9yZSBkZXRhaWxzOlxuICAgICAgICAgICAgICAgIC8vICAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb3NvZnQvVHlwZVNjcmlwdC9pc3N1ZXMvMjUyMVxuICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBzdHlsZS5zdHJva2UgYXMgc3RyaW5nO1xuXG4gICAgICAgICAgICAgICAgY29udGV4dC5zaGFkb3dDb2xvciA9ICdibGFjayc7XG4gICAgICAgICAgICAgICAgY29udGV4dC5zaGFkb3dCbHVyID0gMDtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnNoYWRvd09mZnNldFggPSAwO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc2hhZG93T2Zmc2V0WSA9IDA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGRyYXcgbGluZXMgbGluZSBieSBsaW5lXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxpbmVQb3NpdGlvblggPSBzdHlsZS5zdHJva2VUaGlja25lc3MgLyAyO1xuICAgICAgICAgICAgICAgIGxpbmVQb3NpdGlvblkgPSAoKHN0eWxlLnN0cm9rZVRoaWNrbmVzcyAvIDIpICsgKGkgKiBsaW5lSGVpZ2h0KSkgKyBmb250UHJvcGVydGllcy5hc2NlbnQ7XG5cbiAgICAgICAgICAgICAgICBpZiAoc3R5bGUuYWxpZ24gPT09ICdyaWdodCcpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBsaW5lUG9zaXRpb25YICs9IG1heExpbmVXaWR0aCAtIGxpbmVXaWR0aHNbaV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHN0eWxlLmFsaWduID09PSAnY2VudGVyJylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmVQb3NpdGlvblggKz0gKG1heExpbmVXaWR0aCAtIGxpbmVXaWR0aHNbaV0pIC8gMjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoc3R5bGUuc3Ryb2tlICYmIHN0eWxlLnN0cm9rZVRoaWNrbmVzcylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhd0xldHRlclNwYWNpbmcoXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lc1tpXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVQb3NpdGlvblggKyBzdHlsZS5wYWRkaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGluZVBvc2l0aW9uWSArIHN0eWxlLnBhZGRpbmcgLSBkc09mZnNldFRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB0cnVlXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHN0eWxlLmZpbGwpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXdMZXR0ZXJTcGFjaW5nKFxuICAgICAgICAgICAgICAgICAgICAgICAgbGluZXNbaV0sXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lUG9zaXRpb25YICsgc3R5bGUucGFkZGluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVQb3NpdGlvblkgKyBzdHlsZS5wYWRkaW5nIC0gZHNPZmZzZXRUZXh0XG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy51cGRhdGVUZXh0dXJlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVyIHRoZSB0ZXh0IHdpdGggbGV0dGVyLXNwYWNpbmcuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSBUaGUgdGV4dCB0byBkcmF3XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBIb3Jpem9udGFsIHBvc2l0aW9uIHRvIGRyYXcgdGhlIHRleHRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIFZlcnRpY2FsIHBvc2l0aW9uIHRvIGRyYXcgdGhlIHRleHRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc1N0cm9rZT1mYWxzZV0gLSBJcyB0aGlzIGRyYXdpbmcgZm9yIHRoZSBvdXRzaWRlIHN0cm9rZSBvZiB0aGVcbiAgICAgKiAgdGV4dD8gSWYgbm90LCBpdCdzIGZvciB0aGUgaW5zaWRlIGZpbGxcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHByaXZhdGUgZHJhd0xldHRlclNwYWNpbmcodGV4dDogc3RyaW5nLCB4OiBudW1iZXIsIHk6IG51bWJlciwgaXNTdHJva2UgPSBmYWxzZSk6IHZvaWRcbiAgICB7XG4gICAgICAgIGNvbnN0IHN0eWxlID0gdGhpcy5fc3R5bGU7XG5cbiAgICAgICAgLy8gbGV0dGVyU3BhY2luZyBvZiAwIG1lYW5zIG5vcm1hbFxuICAgICAgICBjb25zdCBsZXR0ZXJTcGFjaW5nID0gc3R5bGUubGV0dGVyU3BhY2luZztcblxuICAgICAgICBpZiAobGV0dGVyU3BhY2luZyA9PT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKGlzU3Ryb2tlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5zdHJva2VUZXh0KHRleHQsIHgsIHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5maWxsVGV4dCh0ZXh0LCB4LCB5KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGN1cnJlbnRQb3NpdGlvbiA9IHg7XG5cbiAgICAgICAgLy8gVXNpbmcgQXJyYXkuZnJvbSBjb3JyZWN0bHkgc3BsaXRzIGNoYXJhY3RlcnMgd2hpbHN0IGtlZXBpbmcgZW1vamkgdG9nZXRoZXIuXG4gICAgICAgIC8vIFRoaXMgaXMgbm90IHN1cHBvcnRlZCBvbiBJRSBhcyBpdCByZXF1aXJlcyBFUzYsIHNvIHJlZ3VsYXIgdGV4dCBzcGxpdHRpbmcgb2NjdXJzLlxuICAgICAgICAvLyBUaGlzIGFsc28gZG9lc24ndCBhY2NvdW50IGZvciBlbW9qaSB0aGF0IGFyZSBtdWx0aXBsZSBlbW9qaSBwdXQgdG9nZXRoZXIgdG8gbWFrZSBzb21ldGhpbmcgZWxzZS5cbiAgICAgICAgLy8gSGFuZGxpbmcgYWxsIG9mIHRoaXMgd291bGQgcmVxdWlyZSBhIGJpZyBsaWJyYXJ5IGl0c2VsZi5cbiAgICAgICAgLy8gaHR0cHM6Ly9tZWRpdW0uY29tL0BnaWx0YXlhci9pdGVyYXRpbmctb3Zlci1lbW9qaS1jaGFyYWN0ZXJzLXRoZS1lczYtd2F5LWYwNmU0NTg5NTE2XG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9vcmxpbmcvZ3JhcGhlbWUtc3BsaXR0ZXJcbiAgICAgICAgY29uc3Qgc3RyaW5nQXJyYXkgPSBBcnJheS5mcm9tID8gQXJyYXkuZnJvbSh0ZXh0KSA6IHRleHQuc3BsaXQoJycpO1xuICAgICAgICBsZXQgcHJldmlvdXNXaWR0aCA9IHRoaXMuY29udGV4dC5tZWFzdXJlVGV4dCh0ZXh0KS53aWR0aDtcbiAgICAgICAgbGV0IGN1cnJlbnRXaWR0aCA9IDA7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHJpbmdBcnJheS5sZW5ndGg7ICsraSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudENoYXIgPSBzdHJpbmdBcnJheVtpXTtcblxuICAgICAgICAgICAgaWYgKGlzU3Ryb2tlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5zdHJva2VUZXh0KGN1cnJlbnRDaGFyLCBjdXJyZW50UG9zaXRpb24sIHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5maWxsVGV4dChjdXJyZW50Q2hhciwgY3VycmVudFBvc2l0aW9uLCB5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN1cnJlbnRXaWR0aCA9IHRoaXMuY29udGV4dC5tZWFzdXJlVGV4dCh0ZXh0LnN1YnN0cmluZyhpICsgMSkpLndpZHRoO1xuICAgICAgICAgICAgY3VycmVudFBvc2l0aW9uICs9IHByZXZpb3VzV2lkdGggLSBjdXJyZW50V2lkdGggKyBsZXR0ZXJTcGFjaW5nO1xuICAgICAgICAgICAgcHJldmlvdXNXaWR0aCA9IGN1cnJlbnRXaWR0aDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGV4dHVyZSBzaXplIGJhc2VkIG9uIGNhbnZhcyBzaXplXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHByaXZhdGUgdXBkYXRlVGV4dHVyZSgpOiB2b2lkXG4gICAge1xuICAgICAgICBjb25zdCBjYW52YXMgPSB0aGlzLmNhbnZhcztcblxuICAgICAgICBpZiAodGhpcy5fc3R5bGUudHJpbSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgdHJpbW1lZCA9IHRyaW1DYW52YXMoY2FudmFzKTtcblxuICAgICAgICAgICAgaWYgKHRyaW1tZWQuZGF0YSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjYW52YXMud2lkdGggPSB0cmltbWVkLndpZHRoO1xuICAgICAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSB0cmltbWVkLmhlaWdodDtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQucHV0SW1hZ2VEYXRhKHRyaW1tZWQuZGF0YSwgMCwgMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB0ZXh0dXJlID0gdGhpcy5fdGV4dHVyZTtcbiAgICAgICAgY29uc3Qgc3R5bGUgPSB0aGlzLl9zdHlsZTtcbiAgICAgICAgY29uc3QgcGFkZGluZyA9IHN0eWxlLnRyaW0gPyAwIDogc3R5bGUucGFkZGluZztcbiAgICAgICAgY29uc3QgYmFzZVRleHR1cmUgPSB0ZXh0dXJlLmJhc2VUZXh0dXJlO1xuXG4gICAgICAgIHRleHR1cmUudHJpbS53aWR0aCA9IHRleHR1cmUuX2ZyYW1lLndpZHRoID0gTWF0aC5jZWlsKGNhbnZhcy53aWR0aCAvIHRoaXMuX3Jlc29sdXRpb24pO1xuICAgICAgICB0ZXh0dXJlLnRyaW0uaGVpZ2h0ID0gdGV4dHVyZS5fZnJhbWUuaGVpZ2h0ID0gTWF0aC5jZWlsKGNhbnZhcy5oZWlnaHQgLyB0aGlzLl9yZXNvbHV0aW9uKTtcbiAgICAgICAgdGV4dHVyZS50cmltLnggPSAtcGFkZGluZztcbiAgICAgICAgdGV4dHVyZS50cmltLnkgPSAtcGFkZGluZztcblxuICAgICAgICB0ZXh0dXJlLm9yaWcud2lkdGggPSB0ZXh0dXJlLl9mcmFtZS53aWR0aCAtIChwYWRkaW5nICogMik7XG4gICAgICAgIHRleHR1cmUub3JpZy5oZWlnaHQgPSB0ZXh0dXJlLl9mcmFtZS5oZWlnaHQgLSAocGFkZGluZyAqIDIpO1xuXG4gICAgICAgIC8vIGNhbGwgc3ByaXRlIG9uVGV4dHVyZVVwZGF0ZSB0byB1cGRhdGUgc2NhbGUgaWYgX3dpZHRoIG9yIF9oZWlnaHQgd2VyZSBzZXRcbiAgICAgICAgdGhpcy5fb25UZXh0dXJlVXBkYXRlKCk7XG5cbiAgICAgICAgYmFzZVRleHR1cmUuc2V0UmVhbFNpemUoY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0LCB0aGlzLl9yZXNvbHV0aW9uKTtcblxuICAgICAgICAvLyBSZWN1cnNpdmVseSB1cGRhdGVzIHRyYW5zZm9ybSBvZiBhbGwgb2JqZWN0cyBmcm9tIHRoZSByb290IHRvIHRoaXMgb25lXG4gICAgICAgIHRoaXMuX3JlY3Vyc2l2ZVBvc3RVcGRhdGVUcmFuc2Zvcm0oKTtcblxuICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgb2JqZWN0IHVzaW5nIHRoZSBXZWJHTCByZW5kZXJlclxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgX3JlbmRlcihyZW5kZXJlcjogUmVuZGVyZXIpOiB2b2lkXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fYXV0b1Jlc29sdXRpb24gJiYgdGhpcy5fcmVzb2x1dGlvbiAhPT0gcmVuZGVyZXIucmVzb2x1dGlvbilcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fcmVzb2x1dGlvbiA9IHJlbmRlcmVyLnJlc29sdXRpb247XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudXBkYXRlVGV4dCh0cnVlKTtcblxuICAgICAgICBzdXBlci5fcmVuZGVyKHJlbmRlcmVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBsb2NhbCBib3VuZHMgb2YgdGhlIHRleHQgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gcmVjdCAtIFRoZSBvdXRwdXQgcmVjdGFuZ2xlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSBUaGUgYm91bmRzLlxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRMb2NhbEJvdW5kcyhyZWN0OiBSZWN0YW5nbGUpOiBSZWN0YW5nbGVcbiAgICB7XG4gICAgICAgIHRoaXMudXBkYXRlVGV4dCh0cnVlKTtcblxuICAgICAgICByZXR1cm4gc3VwZXIuZ2V0TG9jYWxCb3VuZHMuY2FsbCh0aGlzLCByZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBjYWxjdWxhdGVzIHRoZSBib3VuZHMgb2YgdGhlIFRleHQgYXMgYSByZWN0YW5nbGUuIFRoZSBib3VuZHMgY2FsY3VsYXRpb24gdGFrZXMgdGhlIHdvcmxkVHJhbnNmb3JtIGludG8gYWNjb3VudC5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgcHJvdGVjdGVkIF9jYWxjdWxhdGVCb3VuZHMoKTogdm9pZFxuICAgIHtcbiAgICAgICAgdGhpcy51cGRhdGVUZXh0KHRydWUpO1xuICAgICAgICB0aGlzLmNhbGN1bGF0ZVZlcnRpY2VzKCk7XG4gICAgICAgIC8vIGlmIHdlIGhhdmUgYWxyZWFkeSBkb25lIHRoaXMgb24gVEhJUyBmcmFtZS5cbiAgICAgICAgdGhpcy5fYm91bmRzLmFkZFF1YWQodGhpcy52ZXJ0ZXhEYXRhKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgdGhlIGZpbGwgc3R5bGUuIENhbiBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlIGEgZ3JhZGllbnQgYmFzZWQgb24gdGhlIGZpbGwgc3R5bGUgYmVpbmcgYW4gYXJyYXlcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHN0eWxlIC0gVGhlIHN0eWxlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IGxpbmVzIC0gVGhlIGxpbmVzIG9mIHRleHQuXG4gICAgICogQHJldHVybiB7c3RyaW5nfG51bWJlcnxDYW52YXNHcmFkaWVudH0gVGhlIGZpbGwgc3R5bGVcbiAgICAgKi9cbiAgICBwcml2YXRlIF9nZW5lcmF0ZUZpbGxTdHlsZShzdHlsZTogVGV4dFN0eWxlLCBsaW5lczogc3RyaW5nW10sIG1ldHJpY3M6IFRleHRNZXRyaWNzKTogc3RyaW5nfENhbnZhc0dyYWRpZW50fENhbnZhc1BhdHRlcm5cbiAgICB7XG4gICAgICAgIC8vIFRPRE86IENhbid0IGhhdmUgZGlmZmVyZW50IHR5cGVzIGZvciBnZXR0ZXIgYW5kIHNldHRlci4gVGhlIGdldHRlciBzaG91bGRuJ3QgaGF2ZSB0aGUgbnVtYmVyIHR5cGUgYXNcbiAgICAgICAgLy8gICAgICAgdGhlIHNldHRlciBjb252ZXJ0cyB0byBzdHJpbmcuIFNlZSB0aGlzIHRocmVhZCBmb3IgbW9yZSBkZXRhaWxzOlxuICAgICAgICAvLyAgICAgICBodHRwczovL2dpdGh1Yi5jb20vbWljcm9zb2Z0L1R5cGVTY3JpcHQvaXNzdWVzLzI1MjFcbiAgICAgICAgY29uc3QgZmlsbFN0eWxlOiBzdHJpbmd8c3RyaW5nW118Q2FudmFzR3JhZGllbnR8Q2FudmFzUGF0dGVybiA9IHN0eWxlLmZpbGwgYXMgYW55O1xuXG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShmaWxsU3R5bGUpKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gZmlsbFN0eWxlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGZpbGxTdHlsZS5sZW5ndGggPT09IDEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBmaWxsU3R5bGVbMF07XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0aGUgZ3JhZGllbnQgd2lsbCBiZSBldmVubHkgc3BhY2VkIG91dCBhY2NvcmRpbmcgdG8gaG93IGxhcmdlIHRoZSBhcnJheSBpcy5cbiAgICAgICAgLy8gWycjRkYwMDAwJywgJyMwMEZGMDAnLCAnIzAwMDBGRiddIHdvdWxkIGNyZWF0ZWQgc3RvcHMgYXQgMC4yNSwgMC41IGFuZCAwLjc1XG4gICAgICAgIGxldCBncmFkaWVudDogc3RyaW5nW118Q2FudmFzR3JhZGllbnQ7XG5cbiAgICAgICAgLy8gYSBkcm9wc2hhZG93IHdpbGwgZW5sYXJnZSB0aGUgY2FudmFzIGFuZCByZXN1bHQgaW4gdGhlIGdyYWRpZW50IGJlaW5nXG4gICAgICAgIC8vIGdlbmVyYXRlZCB3aXRoIHRoZSBpbmNvcnJlY3QgZGltZW5zaW9uc1xuICAgICAgICBjb25zdCBkcm9wU2hhZG93Q29ycmVjdGlvbiA9IChzdHlsZS5kcm9wU2hhZG93KSA/IHN0eWxlLmRyb3BTaGFkb3dEaXN0YW5jZSA6IDA7XG5cbiAgICAgICAgLy8gc2hvdWxkIGFsc28gdGFrZSBwYWRkaW5nIGludG8gYWNjb3VudCwgcGFkZGluZyBjYW4gb2Zmc2V0IHRoZSBncmFkaWVudFxuICAgICAgICBjb25zdCBwYWRkaW5nID0gc3R5bGUucGFkZGluZyB8fCAwO1xuXG4gICAgICAgIGNvbnN0IHdpZHRoID0gTWF0aC5jZWlsKHRoaXMuY2FudmFzLndpZHRoIC8gdGhpcy5fcmVzb2x1dGlvbikgLSBkcm9wU2hhZG93Q29ycmVjdGlvbiAtIChwYWRkaW5nICogMik7XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IE1hdGguY2VpbCh0aGlzLmNhbnZhcy5oZWlnaHQgLyB0aGlzLl9yZXNvbHV0aW9uKSAtIGRyb3BTaGFkb3dDb3JyZWN0aW9uIC0gKHBhZGRpbmcgKiAyKTtcblxuICAgICAgICAvLyBtYWtlIGEgY29weSBvZiB0aGUgc3R5bGUgc2V0dGluZ3MsIHNvIHdlIGNhbiBtYW5pcHVsYXRlIHRoZW0gbGF0ZXJcbiAgICAgICAgY29uc3QgZmlsbCA9IGZpbGxTdHlsZS5zbGljZSgpO1xuICAgICAgICBjb25zdCBmaWxsR3JhZGllbnRTdG9wcyA9IHN0eWxlLmZpbGxHcmFkaWVudFN0b3BzLnNsaWNlKCk7XG5cbiAgICAgICAgLy8gd2FudGluZyB0byBldmVubHkgZGlzdHJpYnV0ZSB0aGUgZmlsbHMuIFNvIGFuIGFycmF5IG9mIDQgY29sb3VycyBzaG91bGQgZ2l2ZSBmaWxscyBvZiAwLjI1LCAwLjUgYW5kIDAuNzVcbiAgICAgICAgaWYgKCFmaWxsR3JhZGllbnRTdG9wcy5sZW5ndGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGxlbmd0aFBsdXMxID0gZmlsbC5sZW5ndGggKyAxO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IGxlbmd0aFBsdXMxOyArK2kpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZmlsbEdyYWRpZW50U3RvcHMucHVzaChpIC8gbGVuZ3RoUGx1czEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gc3RvcCB0aGUgYmxlZWRpbmcgb2YgdGhlIGxhc3QgZ3JhZGllbnQgb24gdGhlIGxpbmUgYWJvdmUgdG8gdGhlIHRvcCBncmFkaWVudCBvZiB0aGUgdGhpcyBsaW5lXG4gICAgICAgIC8vIGJ5IGhhcmQgZGVmaW5pbmcgdGhlIGZpcnN0IGdyYWRpZW50IGNvbG91ciBhdCBwb2ludCAwLCBhbmQgbGFzdCBncmFkaWVudCBjb2xvdXIgYXQgcG9pbnQgMVxuICAgICAgICBmaWxsLnVuc2hpZnQoZmlsbFN0eWxlWzBdKTtcbiAgICAgICAgZmlsbEdyYWRpZW50U3RvcHMudW5zaGlmdCgwKTtcblxuICAgICAgICBmaWxsLnB1c2goZmlsbFN0eWxlW2ZpbGxTdHlsZS5sZW5ndGggLSAxXSk7XG4gICAgICAgIGZpbGxHcmFkaWVudFN0b3BzLnB1c2goMSk7XG5cbiAgICAgICAgaWYgKHN0eWxlLmZpbGxHcmFkaWVudFR5cGUgPT09IFRFWFRfR1JBRElFTlQuTElORUFSX1ZFUlRJQ0FMKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBzdGFydCB0aGUgZ3JhZGllbnQgYXQgdGhlIHRvcCBjZW50ZXIgb2YgdGhlIGNhbnZhcywgYW5kIGVuZCBhdCB0aGUgYm90dG9tIG1pZGRsZSBvZiB0aGUgY2FudmFzXG4gICAgICAgICAgICBncmFkaWVudCA9IHRoaXMuY29udGV4dC5jcmVhdGVMaW5lYXJHcmFkaWVudCh3aWR0aCAvIDIsIHBhZGRpbmcsIHdpZHRoIC8gMiwgaGVpZ2h0ICsgcGFkZGluZyk7XG5cbiAgICAgICAgICAgIC8vIHdlIG5lZWQgdG8gcmVwZWF0IHRoZSBncmFkaWVudCBzbyB0aGF0IGVhY2ggaW5kaXZpZHVhbCBsaW5lIG9mIHRleHQgaGFzIHRoZSBzYW1lIHZlcnRpY2FsIGdyYWRpZW50IGVmZmVjdFxuICAgICAgICAgICAgLy8gWycjRkYwMDAwJywgJyMwMEZGMDAnLCAnIzAwMDBGRiddIG92ZXIgMiBsaW5lcyB3b3VsZCBjcmVhdGUgc3RvcHMgYXQgMC4xMjUsIDAuMjUsIDAuMzc1LCAwLjYyNSwgMC43NSwgMC44NzVcblxuICAgICAgICAgICAgLy8gVGhlcmUncyBwb3RlbnRpYWwgZm9yIGZsb2F0aW5nIHBvaW50IHByZWNpc2lvbiBpc3N1ZXMgYXQgdGhlIHNlYW1zIGJldHdlZW4gZ3JhZGllbnQgcmVwZWF0cy5cbiAgICAgICAgICAgIC8vIFRoZSBsb29wIGJlbG93IGdlbmVyYXRlcyB0aGUgc3RvcHMgaW4gb3JkZXIsIHNvIHRyYWNrIHRoZSBsYXN0IGdlbmVyYXRlZCBvbmUgdG8gcHJldmVudFxuICAgICAgICAgICAgLy8gZmxvYXRpbmcgcG9pbnQgcHJlY2lzaW9uIGZyb20gbWFraW5nIHVzIGdvIHRoZSB0ZWVuaWVzdCBiaXQgYmFja3dhcmRzLCByZXN1bHRpbmcgaW5cbiAgICAgICAgICAgIC8vIHRoZSBmaXJzdCBhbmQgbGFzdCBjb2xvcnMgZ2V0dGluZyBzd2FwcGVkLlxuICAgICAgICAgICAgbGV0IGxhc3RJdGVyYXRpb25TdG9wID0gMDtcblxuICAgICAgICAgICAgLy8gQWN0dWFsIGhlaWdodCBvZiB0aGUgdGV4dCBpdHNlbGYsIG5vdCBjb3VudGluZyBzcGFjaW5nIGZvciBsaW5lSGVpZ2h0L2xlYWRpbmcvZHJvcFNoYWRvdyBldGNcbiAgICAgICAgICAgIGNvbnN0IHRleHRIZWlnaHQgPSBtZXRyaWNzLmZvbnRQcm9wZXJ0aWVzLmZvbnRTaXplICsgc3R5bGUuc3Ryb2tlVGhpY2tuZXNzO1xuXG4gICAgICAgICAgICAvLyB0ZXh0SGVpZ2h0LCBidXQgYXMgYSAwLTEgc2l6ZSBpbiBnbG9iYWwgZ3JhZGllbnQgc3RvcCBzcGFjZVxuICAgICAgICAgICAgY29uc3QgZ3JhZFN0b3BMaW5lSGVpZ2h0ID0gdGV4dEhlaWdodCAvIGhlaWdodDtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0aGlzTGluZVRvcCA9IG1ldHJpY3MubGluZUhlaWdodCAqIGk7XG5cbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGZpbGwubGVuZ3RoOyBqKyspXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAvLyAwLTEgc3RvcCBwb2ludCBmb3IgdGhlIGN1cnJlbnQgbGluZSwgbXVsdGlwbGllZCB0byBnbG9iYWwgc3BhY2UgYWZ0ZXJ3YXJkc1xuICAgICAgICAgICAgICAgICAgICBsZXQgbGluZVN0b3AgPSAwO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZmlsbEdyYWRpZW50U3RvcHNbal0gPT09ICdudW1iZXInKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lU3RvcCA9IGZpbGxHcmFkaWVudFN0b3BzW2pdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGluZVN0b3AgPSBqIC8gZmlsbC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBnbG9iYWxTdG9wID0gKHRoaXNMaW5lVG9wIC8gaGVpZ2h0KSArIChsaW5lU3RvcCAqIGdyYWRTdG9wTGluZUhlaWdodCk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gUHJldmVudCBjb2xvciBzdG9wIGdlbmVyYXRpb24gZ29pbmcgYmFja3dhcmRzIGZyb20gZmxvYXRpbmcgcG9pbnQgaW1wcmVjaXNpb25cbiAgICAgICAgICAgICAgICAgICAgbGV0IGNsYW1wZWRTdG9wID0gTWF0aC5tYXgobGFzdEl0ZXJhdGlvblN0b3AsIGdsb2JhbFN0b3ApO1xuXG4gICAgICAgICAgICAgICAgICAgIGNsYW1wZWRTdG9wID0gTWF0aC5taW4oY2xhbXBlZFN0b3AsIDEpOyAvLyBDYXAgYXQgMSBhcyB3ZWxsIGZvciBzYWZldHkncyBzYWtlIHRvIGF2b2lkIGEgcG9zc2libGUgdGhyb3cuXG4gICAgICAgICAgICAgICAgICAgIGdyYWRpZW50LmFkZENvbG9yU3RvcChjbGFtcGVkU3RvcCwgZmlsbFtqXSk7XG4gICAgICAgICAgICAgICAgICAgIGxhc3RJdGVyYXRpb25TdG9wID0gY2xhbXBlZFN0b3A7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gc3RhcnQgdGhlIGdyYWRpZW50IGF0IHRoZSBjZW50ZXIgbGVmdCBvZiB0aGUgY2FudmFzLCBhbmQgZW5kIGF0IHRoZSBjZW50ZXIgcmlnaHQgb2YgdGhlIGNhbnZhc1xuICAgICAgICAgICAgZ3JhZGllbnQgPSB0aGlzLmNvbnRleHQuY3JlYXRlTGluZWFyR3JhZGllbnQocGFkZGluZywgaGVpZ2h0IC8gMiwgd2lkdGggKyBwYWRkaW5nLCBoZWlnaHQgLyAyKTtcblxuICAgICAgICAgICAgLy8gY2FuIGp1c3QgZXZlbmx5IHNwYWNlIG91dCB0aGUgZ3JhZGllbnRzIGluIHRoaXMgY2FzZSwgYXMgbXVsdGlwbGUgbGluZXMgbWFrZXMgbm8gZGlmZmVyZW5jZVxuICAgICAgICAgICAgLy8gdG8gYW4gZXZlbiBsZWZ0IHRvIHJpZ2h0IGdyYWRpZW50XG4gICAgICAgICAgICBjb25zdCB0b3RhbEl0ZXJhdGlvbnMgPSBmaWxsLmxlbmd0aCArIDE7XG4gICAgICAgICAgICBsZXQgY3VycmVudEl0ZXJhdGlvbiA9IDE7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZmlsbC5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsZXQgc3RvcDogbnVtYmVyO1xuXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmaWxsR3JhZGllbnRTdG9wc1tpXSA9PT0gJ251bWJlcicpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBzdG9wID0gZmlsbEdyYWRpZW50U3RvcHNbaV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHN0b3AgPSBjdXJyZW50SXRlcmF0aW9uIC8gdG90YWxJdGVyYXRpb25zO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBncmFkaWVudC5hZGRDb2xvclN0b3Aoc3RvcCwgZmlsbFtpXSk7XG4gICAgICAgICAgICAgICAgY3VycmVudEl0ZXJhdGlvbisrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGdyYWRpZW50O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgdGV4dCBvYmplY3QuXG4gICAgICogTm90ZSogVW5saWtlIGEgU3ByaXRlLCBhIFRleHQgb2JqZWN0IHdpbGwgYXV0b21hdGljYWxseSBkZXN0cm95IGl0cyBiYXNlVGV4dHVyZSBhbmQgdGV4dHVyZSBhc1xuICAgICAqIHRoZSBtYWpvcml0eSBvZiB0aGUgdGltZSB0aGUgdGV4dHVyZSB3aWxsIG5vdCBiZSBzaGFyZWQgd2l0aCBhbnkgb3RoZXIgU3ByaXRlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fGJvb2xlYW59IFtvcHRpb25zXSAtIE9wdGlvbnMgcGFyYW1ldGVyLiBBIGJvb2xlYW4gd2lsbCBhY3QgYXMgaWYgYWxsIG9wdGlvbnNcbiAgICAgKiAgaGF2ZSBiZWVuIHNldCB0byB0aGF0IHZhbHVlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jaGlsZHJlbj1mYWxzZV0gLSBpZiBzZXQgdG8gdHJ1ZSwgYWxsIHRoZSBjaGlsZHJlbiB3aWxsIGhhdmUgdGhlaXJcbiAgICAgKiAgZGVzdHJveSBtZXRob2QgY2FsbGVkIGFzIHdlbGwuICdvcHRpb25zJyB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aG9zZSBjYWxscy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRleHR1cmU9dHJ1ZV0gLSBTaG91bGQgaXQgZGVzdHJveSB0aGUgY3VycmVudCB0ZXh0dXJlIG9mIHRoZSBzcHJpdGUgYXMgd2VsbFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYmFzZVRleHR1cmU9dHJ1ZV0gLSBTaG91bGQgaXQgZGVzdHJveSB0aGUgYmFzZSB0ZXh0dXJlIG9mIHRoZSBzcHJpdGUgYXMgd2VsbFxuICAgICAqL1xuICAgIHB1YmxpYyBkZXN0cm95KG9wdGlvbnM6IElEZXN0cm95T3B0aW9uc3xib29sZWFuKTogdm9pZFxuICAgIHtcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnYm9vbGVhbicpXG4gICAgICAgIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSB7IGNoaWxkcmVuOiBvcHRpb25zIH07XG4gICAgICAgIH1cblxuICAgICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdERlc3Ryb3lPcHRpb25zLCBvcHRpb25zKTtcblxuICAgICAgICBzdXBlci5kZXN0cm95KG9wdGlvbnMpO1xuXG4gICAgICAgIC8vIHNldCBjYW52YXMgd2lkdGggYW5kIGhlaWdodCB0byAwIHRvIHdvcmthcm91bmQgbWVtb3J5IGxlYWsgaW4gU2FmYXJpIDwgMTNcbiAgICAgICAgLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNTI1MzI2MTQvdG90YWwtY2FudmFzLW1lbW9yeS11c2UtZXhjZWVkcy10aGUtbWF4aW11bS1saW1pdC1zYWZhcmktMTJcbiAgICAgICAgaWYgKHRoaXMuX293bkNhbnZhcylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gdGhpcy5jYW52YXMud2lkdGggPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbWFrZSBzdXJlIHRvIHJlc2V0IHRoZSB0aGUgY29udGV4dCBhbmQgY2FudmFzLi4gZG9udCB3YW50IHRoaXMgaGFuZ2luZyBhcm91bmQgaW4gbWVtb3J5IVxuICAgICAgICB0aGlzLmNvbnRleHQgPSBudWxsO1xuICAgICAgICB0aGlzLmNhbnZhcyA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5fc3R5bGUgPSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgVGV4dCwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSBzY2FsZSB0byBhY2hpZXZlIHRoZSB2YWx1ZSBzZXRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgd2lkdGgoKTogbnVtYmVyXG4gICAge1xuICAgICAgICB0aGlzLnVwZGF0ZVRleHQodHJ1ZSk7XG5cbiAgICAgICAgcmV0dXJuIE1hdGguYWJzKHRoaXMuc2NhbGUueCkgKiB0aGlzLl90ZXh0dXJlLm9yaWcud2lkdGg7XG4gICAgfVxuXG4gICAgc2V0IHdpZHRoKHZhbHVlOiBudW1iZXIpXG4gICAge1xuICAgICAgICB0aGlzLnVwZGF0ZVRleHQodHJ1ZSk7XG5cbiAgICAgICAgY29uc3QgcyA9IHNpZ24odGhpcy5zY2FsZS54KSB8fCAxO1xuXG4gICAgICAgIHRoaXMuc2NhbGUueCA9IHMgKiB2YWx1ZSAvIHRoaXMuX3RleHR1cmUub3JpZy53aWR0aDtcbiAgICAgICAgdGhpcy5fd2lkdGggPSB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBUZXh0LCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHNjYWxlIHRvIGFjaGlldmUgdGhlIHZhbHVlIHNldFxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIGdldCBoZWlnaHQoKTogbnVtYmVyXG4gICAge1xuICAgICAgICB0aGlzLnVwZGF0ZVRleHQodHJ1ZSk7XG5cbiAgICAgICAgcmV0dXJuIE1hdGguYWJzKHRoaXMuc2NhbGUueSkgKiB0aGlzLl90ZXh0dXJlLm9yaWcuaGVpZ2h0O1xuICAgIH1cblxuICAgIHNldCBoZWlnaHQodmFsdWU6IG51bWJlcilcbiAgICB7XG4gICAgICAgIHRoaXMudXBkYXRlVGV4dCh0cnVlKTtcblxuICAgICAgICBjb25zdCBzID0gc2lnbih0aGlzLnNjYWxlLnkpIHx8IDE7XG5cbiAgICAgICAgdGhpcy5zY2FsZS55ID0gcyAqIHZhbHVlIC8gdGhpcy5fdGV4dHVyZS5vcmlnLmhlaWdodDtcbiAgICAgICAgdGhpcy5faGVpZ2h0ID0gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBzdHlsZSBvZiB0aGUgdGV4dC4gU2V0IHVwIGFuIGV2ZW50IGxpc3RlbmVyIHRvIGxpc3RlbiBmb3IgY2hhbmdlcyBvbiB0aGUgc3R5bGVcbiAgICAgKiBvYmplY3QgYW5kIG1hcmsgdGhlIHRleHQgYXMgZGlydHkuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtvYmplY3R8UElYSS5UZXh0U3R5bGV9XG4gICAgICovXG4gICAgZ2V0IHN0eWxlKCk6IFRleHRTdHlsZXxQYXJ0aWFsPElUZXh0U3R5bGU+XG4gICAge1xuICAgICAgICAvLyBUT0RPOiBDYW4ndCBoYXZlIGRpZmZlcmVudCB0eXBlcyBmb3IgZ2V0dGVyIGFuZCBzZXR0ZXIuIFRoZSBnZXR0ZXIgc2hvdWxkbid0IGhhdmUgdGhlIElUZXh0U3R5bGVcbiAgICAgICAgLy8gICAgICAgc2luY2UgdGhlIHNldHRlciBjcmVhdGVzIHRoZSBUZXh0U3R5bGUuIFNlZSB0aGlzIHRocmVhZCBmb3IgbW9yZSBkZXRhaWxzOlxuICAgICAgICAvLyAgICAgICBodHRwczovL2dpdGh1Yi5jb20vbWljcm9zb2Z0L1R5cGVTY3JpcHQvaXNzdWVzLzI1MjFcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0eWxlO1xuICAgIH1cblxuICAgIHNldCBzdHlsZShzdHlsZTogVGV4dFN0eWxlfFBhcnRpYWw8SVRleHRTdHlsZT4pXG4gICAge1xuICAgICAgICBzdHlsZSA9IHN0eWxlIHx8IHt9O1xuXG4gICAgICAgIGlmIChzdHlsZSBpbnN0YW5jZW9mIFRleHRTdHlsZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fc3R5bGUgPSBzdHlsZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3N0eWxlID0gbmV3IFRleHRTdHlsZShzdHlsZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmxvY2FsU3R5bGVJRCA9IC0xO1xuICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGNvcHkgZm9yIHRoZSB0ZXh0IG9iamVjdC4gVG8gc3BsaXQgYSBsaW5lIHlvdSBjYW4gdXNlICdcXG4nLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqL1xuICAgIGdldCB0ZXh0KCk6IHN0cmluZ1xuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RleHQ7XG4gICAgfVxuXG4gICAgc2V0IHRleHQodGV4dDogc3RyaW5nKVxuICAgIHtcbiAgICAgICAgdGV4dCA9IFN0cmluZyh0ZXh0ID09PSBudWxsIHx8IHRleHQgPT09IHVuZGVmaW5lZCA/ICcnIDogdGV4dCk7XG5cbiAgICAgICAgaWYgKHRoaXMuX3RleHQgPT09IHRleHQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl90ZXh0ID0gdGV4dDtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIGNhbnZhcy5cbiAgICAgKiBUaGlzIGlzIHNldCB0byBhdXRvbWF0aWNhbGx5IG1hdGNoIHRoZSByZW5kZXJlciByZXNvbHV0aW9uIGJ5IGRlZmF1bHQsIGJ1dCBjYW4gYmUgb3ZlcnJpZGRlbiBieSBzZXR0aW5nIG1hbnVhbGx5LlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAxXG4gICAgICovXG4gICAgZ2V0IHJlc29sdXRpb24oKTogbnVtYmVyXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVzb2x1dGlvbjtcbiAgICB9XG5cbiAgICBzZXQgcmVzb2x1dGlvbih2YWx1ZTogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgdGhpcy5fYXV0b1Jlc29sdXRpb24gPSBmYWxzZTtcblxuICAgICAgICBpZiAodGhpcy5fcmVzb2x1dGlvbiA9PT0gdmFsdWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3Jlc29sdXRpb24gPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5cbi8qKlxuICogRGVmYXVsdCBudW1iZXIgb2YgdXBsb2FkcyBwZXIgZnJhbWUgdXNpbmcgcHJlcGFyZSBwbHVnaW4uXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAqIEBuYW1lIFVQTE9BRFNfUEVSX0ZSQU1FXG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQGRlZmF1bHQgNFxuICovXG5zZXR0aW5ncy5VUExPQURTX1BFUl9GUkFNRSA9IDQ7XG5cbmV4cG9ydCB7IHNldHRpbmdzIH07XG4iLCIvKipcbiAqIENvdW50TGltaXRlciBsaW1pdHMgdGhlIG51bWJlciBvZiBpdGVtcyBoYW5kbGVkIGJ5IGEge0BsaW5rIFBJWEkuQmFzZVByZXBhcmV9IHRvIGEgc3BlY2lmaWVkXG4gKiBudW1iZXIgb2YgaXRlbXMgcGVyIGZyYW1lLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGNsYXNzIENvdW50TGltaXRlclxue1xuICAgIHB1YmxpYyBtYXhJdGVtc1BlckZyYW1lOiBudW1iZXI7XG4gICAgcHVibGljIGl0ZW1zTGVmdDogbnVtYmVyO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhJdGVtc1BlckZyYW1lIC0gVGhlIG1heGltdW0gbnVtYmVyIG9mIGl0ZW1zIHRoYXQgY2FuIGJlIHByZXBhcmVkIGVhY2ggZnJhbWUuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IobWF4SXRlbXNQZXJGcmFtZTogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtYXhpbXVtIG51bWJlciBvZiBpdGVtcyB0aGF0IGNhbiBiZSBwcmVwYXJlZCBlYWNoIGZyYW1lLlxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYXhJdGVtc1BlckZyYW1lID0gbWF4SXRlbXNQZXJGcmFtZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBudW1iZXIgb2YgaXRlbXMgdGhhdCBjYW4gYmUgcHJlcGFyZWQgaW4gdGhlIGN1cnJlbnQgZnJhbWUuXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLml0ZW1zTGVmdCA9IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVzZXRzIGFueSBjb3VudGluZyBwcm9wZXJ0aWVzIHRvIHN0YXJ0IGZyZXNoIG9uIGEgbmV3IGZyYW1lLlxuICAgICAqL1xuICAgIGJlZ2luRnJhbWUoKTogdm9pZFxuICAgIHtcbiAgICAgICAgdGhpcy5pdGVtc0xlZnQgPSB0aGlzLm1heEl0ZW1zUGVyRnJhbWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHRvIHNlZSBpZiBhbm90aGVyIGl0ZW0gY2FuIGJlIHVwbG9hZGVkLiBUaGlzIHNob3VsZCBvbmx5IGJlIGNhbGxlZCBvbmNlIHBlciBpdGVtLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IElmIHRoZSBpdGVtIGlzIGFsbG93ZWQgdG8gYmUgdXBsb2FkZWQuXG4gICAgICovXG4gICAgYWxsb3dlZFRvVXBsb2FkKCk6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLml0ZW1zTGVmdC0tID4gMDtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBUZXh0dXJlLCBCYXNlVGV4dHVyZSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgVGlja2VyLCBVUERBVEVfUFJJT1JJVFkgfSBmcm9tICdAcGl4aS90aWNrZXInO1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5pbXBvcnQgeyBDb250YWluZXIsIERpc3BsYXlPYmplY3QgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcbmltcG9ydCB7IFRleHQsIFRleHRTdHlsZSwgVGV4dE1ldHJpY3MgfSBmcm9tICdAcGl4aS90ZXh0JztcbmltcG9ydCB7IENvdW50TGltaXRlciB9IGZyb20gJy4vQ291bnRMaW1pdGVyJztcblxuaW1wb3J0IHR5cGUgeyBBYnN0cmFjdFJlbmRlcmVyIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5cbmludGVyZmFjZSBJQXJyb3dGdW5jdGlvbiB7XG4gICAgKCk6IHZvaWQ7XG59XG5pbnRlcmZhY2UgSVVwbG9hZEhvb2sge1xuICAgIChoZWxwZXI6IEFic3RyYWN0UmVuZGVyZXIgfCBCYXNlUHJlcGFyZSwgaXRlbTogSURpc3BsYXlPYmplY3RFeHRlbmRlZCk6IGJvb2xlYW47XG59XG5cbmludGVyZmFjZSBJRmluZEhvb2sge1xuICAgIChpdGVtOiBhbnksIHF1ZXVlOiBBcnJheTxhbnk+KTogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJRGlzcGxheU9iamVjdEV4dGVuZGVkIGV4dGVuZHMgRGlzcGxheU9iamVjdCB7XG4gICAgX3RleHR1cmVzPzogQXJyYXk8VGV4dHVyZT47XG4gICAgX3RleHR1cmU/OiBUZXh0dXJlO1xuICAgIHN0eWxlPzogVGV4dFN0eWxlO1xufVxuXG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gZmluZCBtdWx0aXBsZSB0ZXh0dXJlcyBmcm9tIG9iamVjdHMgbGlrZSBBbmltYXRlZFNwcml0ZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBpdGVtIC0gRGlzcGxheSBvYmplY3QgdG8gY2hlY2tcbiAqIEBwYXJhbSB7QXJyYXk8Kj59IHF1ZXVlIC0gQ29sbGVjdGlvbiBvZiBpdGVtcyB0byB1cGxvYWRcbiAqIEByZXR1cm4ge2Jvb2xlYW59IGlmIGEgUElYSS5UZXh0dXJlIG9iamVjdCB3YXMgZm91bmQuXG4gKi9cblxuZnVuY3Rpb24gZmluZE11bHRpcGxlQmFzZVRleHR1cmVzKGl0ZW06IElEaXNwbGF5T2JqZWN0RXh0ZW5kZWQsIHF1ZXVlOiBBcnJheTxhbnk+KTogYm9vbGVhblxue1xuICAgIGxldCByZXN1bHQgPSBmYWxzZTtcblxuICAgIC8vIE9iamVjdHMgd2l0aCBtdWx0aXBsZSB0ZXh0dXJlc1xuICAgIGlmIChpdGVtICYmIGl0ZW0uX3RleHR1cmVzICYmIGl0ZW0uX3RleHR1cmVzLmxlbmd0aClcbiAgICB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXRlbS5fdGV4dHVyZXMubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChpdGVtLl90ZXh0dXJlc1tpXSBpbnN0YW5jZW9mIFRleHR1cmUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgYmFzZVRleHR1cmUgPSBpdGVtLl90ZXh0dXJlc1tpXS5iYXNlVGV4dHVyZTtcblxuICAgICAgICAgICAgICAgIGlmIChxdWV1ZS5pbmRleE9mKGJhc2VUZXh0dXJlKSA9PT0gLTEpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBxdWV1ZS5wdXNoKGJhc2VUZXh0dXJlKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gZmluZCBCYXNlVGV4dHVyZXMgZnJvbSBUZXh0dXJlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gaXRlbSAtIERpc3BsYXkgb2JqZWN0IHRvIGNoZWNrXG4gKiBAcGFyYW0ge0FycmF5PCo+fSBxdWV1ZSAtIENvbGxlY3Rpb24gb2YgaXRlbXMgdG8gdXBsb2FkXG4gKiBAcmV0dXJuIHtib29sZWFufSBpZiBhIFBJWEkuVGV4dHVyZSBvYmplY3Qgd2FzIGZvdW5kLlxuICovXG5mdW5jdGlvbiBmaW5kQmFzZVRleHR1cmUoaXRlbTogVGV4dHVyZSwgcXVldWU6IEFycmF5PGFueT4pOiBib29sZWFuXG57XG4gICAgaWYgKGl0ZW0uYmFzZVRleHR1cmUgaW5zdGFuY2VvZiBCYXNlVGV4dHVyZSlcbiAgICB7XG4gICAgICAgIGNvbnN0IHRleHR1cmUgPSBpdGVtLmJhc2VUZXh0dXJlO1xuXG4gICAgICAgIGlmIChxdWV1ZS5pbmRleE9mKHRleHR1cmUpID09PSAtMSlcbiAgICAgICAge1xuICAgICAgICAgICAgcXVldWUucHVzaCh0ZXh0dXJlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBCdWlsdC1pbiBob29rIHRvIGZpbmQgdGV4dHVyZXMgZnJvbSBvYmplY3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gaXRlbSAtIERpc3BsYXkgb2JqZWN0IHRvIGNoZWNrXG4gKiBAcGFyYW0ge0FycmF5PCo+fSBxdWV1ZSAtIENvbGxlY3Rpb24gb2YgaXRlbXMgdG8gdXBsb2FkXG4gKiBAcmV0dXJuIHtib29sZWFufSBpZiBhIFBJWEkuVGV4dHVyZSBvYmplY3Qgd2FzIGZvdW5kLlxuICovXG5mdW5jdGlvbiBmaW5kVGV4dHVyZShpdGVtOiBJRGlzcGxheU9iamVjdEV4dGVuZGVkLCBxdWV1ZTogQXJyYXk8YW55Pik6IGJvb2xlYW5cbntcbiAgICBpZiAoaXRlbS5fdGV4dHVyZSAmJiBpdGVtLl90ZXh0dXJlIGluc3RhbmNlb2YgVGV4dHVyZSlcbiAgICB7XG4gICAgICAgIGNvbnN0IHRleHR1cmUgPSBpdGVtLl90ZXh0dXJlLmJhc2VUZXh0dXJlO1xuXG4gICAgICAgIGlmIChxdWV1ZS5pbmRleE9mKHRleHR1cmUpID09PSAtMSlcbiAgICAgICAge1xuICAgICAgICAgICAgcXVldWUucHVzaCh0ZXh0dXJlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBCdWlsdC1pbiBob29rIHRvIGRyYXcgUElYSS5UZXh0IHRvIGl0cyB0ZXh0dXJlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuQWJzdHJhY3RSZW5kZXJlcnxQSVhJLkJhc2VQcmVwYXJlfSBoZWxwZXIgLSBOb3QgdXNlZCBieSB0aGlzIHVwbG9hZCBoYW5kbGVyXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gaXRlbSAtIEl0ZW0gdG8gY2hlY2tcbiAqIEByZXR1cm4ge2Jvb2xlYW59IElmIGl0ZW0gd2FzIHVwbG9hZGVkLlxuICovXG5mdW5jdGlvbiBkcmF3VGV4dChfaGVscGVyOiBBYnN0cmFjdFJlbmRlcmVyIHwgQmFzZVByZXBhcmUsIGl0ZW06IElEaXNwbGF5T2JqZWN0RXh0ZW5kZWQpOiBib29sZWFuXG57XG4gICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBUZXh0KVxuICAgIHtcbiAgICAgICAgLy8gdXBkYXRpbmcgdGV4dCB3aWxsIHJldHVybiBlYXJseSBpZiBpdCBpcyBub3QgZGlydHlcbiAgICAgICAgaXRlbS51cGRhdGVUZXh0KHRydWUpO1xuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBCdWlsdC1pbiBob29rIHRvIGNhbGN1bGF0ZSBhIHRleHQgc3R5bGUgZm9yIGEgUElYSS5UZXh0IG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLkFic3RyYWN0UmVuZGVyZXJ8UElYSS5CYXNlUHJlcGFyZX0gaGVscGVyIC0gTm90IHVzZWQgYnkgdGhpcyB1cGxvYWQgaGFuZGxlclxuICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGl0ZW0gLSBJdGVtIHRvIGNoZWNrXG4gKiBAcmV0dXJuIHtib29sZWFufSBJZiBpdGVtIHdhcyB1cGxvYWRlZC5cbiAqL1xuZnVuY3Rpb24gY2FsY3VsYXRlVGV4dFN0eWxlKF9oZWxwZXI6IEFic3RyYWN0UmVuZGVyZXIgfCBCYXNlUHJlcGFyZSwgaXRlbTogSURpc3BsYXlPYmplY3RFeHRlbmRlZCk6IGJvb2xlYW5cbntcbiAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIFRleHRTdHlsZSlcbiAgICB7XG4gICAgICAgIGNvbnN0IGZvbnQgPSBpdGVtLnRvRm9udFN0cmluZygpO1xuXG4gICAgICAgIFRleHRNZXRyaWNzLm1lYXN1cmVGb250KGZvbnQpO1xuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBCdWlsdC1pbiBob29rIHRvIGZpbmQgVGV4dCBvYmplY3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gaXRlbSAtIERpc3BsYXkgb2JqZWN0IHRvIGNoZWNrXG4gKiBAcGFyYW0ge0FycmF5PCo+fSBxdWV1ZSAtIENvbGxlY3Rpb24gb2YgaXRlbXMgdG8gdXBsb2FkXG4gKiBAcmV0dXJuIHtib29sZWFufSBpZiBhIFBJWEkuVGV4dCBvYmplY3Qgd2FzIGZvdW5kLlxuICovXG5mdW5jdGlvbiBmaW5kVGV4dChpdGVtOiBJRGlzcGxheU9iamVjdEV4dGVuZGVkLCBxdWV1ZTogQXJyYXk8YW55Pik6IGJvb2xlYW5cbntcbiAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIFRleHQpXG4gICAge1xuICAgICAgICAvLyBwdXNoIHRoZSB0ZXh0IHN0eWxlIHRvIHByZXBhcmUgaXQgLSB0aGlzIGNhbiBiZSByZWFsbHkgZXhwZW5zaXZlXG4gICAgICAgIGlmIChxdWV1ZS5pbmRleE9mKGl0ZW0uc3R5bGUpID09PSAtMSlcbiAgICAgICAge1xuICAgICAgICAgICAgcXVldWUucHVzaChpdGVtLnN0eWxlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBhbHNvIHB1c2ggdGhlIHRleHQgb2JqZWN0IHNvIHRoYXQgd2UgY2FuIHJlbmRlciBpdCAodG8gY2FudmFzL3RleHR1cmUpIGlmIG5lZWRlZFxuICAgICAgICBpZiAocXVldWUuaW5kZXhPZihpdGVtKSA9PT0gLTEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHF1ZXVlLnB1c2goaXRlbSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gYWxzbyBwdXNoIHRoZSBUZXh0J3MgdGV4dHVyZSBmb3IgdXBsb2FkIHRvIEdQVVxuICAgICAgICBjb25zdCB0ZXh0dXJlID0gaXRlbS5fdGV4dHVyZS5iYXNlVGV4dHVyZTtcblxuICAgICAgICBpZiAocXVldWUuaW5kZXhPZih0ZXh0dXJlKSA9PT0gLTEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHF1ZXVlLnB1c2godGV4dHVyZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogQnVpbHQtaW4gaG9vayB0byBmaW5kIFRleHRTdHlsZSBvYmplY3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuVGV4dFN0eWxlfSBpdGVtIC0gRGlzcGxheSBvYmplY3QgdG8gY2hlY2tcbiAqIEBwYXJhbSB7QXJyYXk8Kj59IHF1ZXVlIC0gQ29sbGVjdGlvbiBvZiBpdGVtcyB0byB1cGxvYWRcbiAqIEByZXR1cm4ge2Jvb2xlYW59IGlmIGEgUElYSS5UZXh0U3R5bGUgb2JqZWN0IHdhcyBmb3VuZC5cbiAqL1xuZnVuY3Rpb24gZmluZFRleHRTdHlsZShpdGVtOiBUZXh0U3R5bGUsIHF1ZXVlOiBBcnJheTxhbnk+KTogYm9vbGVhblxue1xuICAgIGlmIChpdGVtIGluc3RhbmNlb2YgVGV4dFN0eWxlKVxuICAgIHtcbiAgICAgICAgaWYgKHF1ZXVlLmluZGV4T2YoaXRlbSkgPT09IC0xKVxuICAgICAgICB7XG4gICAgICAgICAgICBxdWV1ZS5wdXNoKGl0ZW0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIFRoZSBwcmVwYXJlIG1hbmFnZXIgcHJvdmlkZXMgZnVuY3Rpb25hbGl0eSB0byB1cGxvYWQgY29udGVudCB0byB0aGUgR1BVLlxuICpcbiAqIEJhc2VQcmVwYXJlIGhhbmRsZXMgYmFzaWMgcXVldWluZyBmdW5jdGlvbmFsaXR5IGFuZCBpcyBleHRlbmRlZCBieVxuICoge0BsaW5rIFBJWEkuUHJlcGFyZX0gYW5kIHtAbGluayBQSVhJLkNhbnZhc1ByZXBhcmV9XG4gKiB0byBwcm92aWRlIHByZXBhcmF0aW9uIGNhcGFiaWxpdGllcyBzcGVjaWZpYyB0byB0aGVpciByZXNwZWN0aXZlIHJlbmRlcmVycy5cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gQ3JlYXRlIGEgc3ByaXRlXG4gKiBjb25zdCBzcHJpdGUgPSBQSVhJLlNwcml0ZS5mcm9tKCdzb21ldGhpbmcucG5nJyk7XG4gKlxuICogLy8gTG9hZCBvYmplY3QgaW50byBHUFVcbiAqIGFwcC5yZW5kZXJlci5wbHVnaW5zLnByZXBhcmUudXBsb2FkKHNwcml0ZSwgKCkgPT4ge1xuICpcbiAqICAgICAvL1RleHR1cmUocykgaGFzIGJlZW4gdXBsb2FkZWQgdG8gR1BVXG4gKiAgICAgYXBwLnN0YWdlLmFkZENoaWxkKHNwcml0ZSk7XG4gKlxuICogfSlcbiAqXG4gKiBAYWJzdHJhY3RcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGNsYXNzIEJhc2VQcmVwYXJlXG57XG4gICAgcHJpdmF0ZSBsaW1pdGVyOiBDb3VudExpbWl0ZXI7XG4gICAgcHJvdGVjdGVkIHJlbmRlcmVyOiBBYnN0cmFjdFJlbmRlcmVyO1xuICAgIHByb3RlY3RlZCB1cGxvYWRIb29rSGVscGVyOiBhbnk7XG4gICAgcHJvdGVjdGVkIHF1ZXVlOiBBcnJheTxhbnk+O1xuICAgIHB1YmxpYyBhZGRIb29rczogQXJyYXk8YW55PjtcbiAgICBwdWJsaWMgdXBsb2FkSG9va3M6IEFycmF5PGFueT47XG4gICAgcHVibGljIGNvbXBsZXRlczogQXJyYXk8YW55PjtcbiAgICBwdWJsaWMgdGlja2luZzogYm9vbGVhbjtcbiAgICBwcml2YXRlIGRlbGF5ZWRUaWNrOiBJQXJyb3dGdW5jdGlvbjtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuQWJzdHJhY3RSZW5kZXJlcn0gcmVuZGVyZXIgLSBBIHJlZmVyZW5jZSB0byB0aGUgY3VycmVudCByZW5kZXJlclxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHJlbmRlcmVyOiBBYnN0cmFjdFJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBsaW1pdGVyIHRvIGJlIHVzZWQgdG8gY29udHJvbCBob3cgcXVpY2tseSBpdGVtcyBhcmUgcHJlcGFyZWQuXG4gICAgICAgICAqIEB0eXBlIHtQSVhJLkNvdW50TGltaXRlcnxQSVhJLlRpbWVMaW1pdGVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5saW1pdGVyID0gbmV3IENvdW50TGltaXRlcihzZXR0aW5ncy5VUExPQURTX1BFUl9GUkFNRSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlZmVyZW5jZSB0byB0aGUgcmVuZGVyZXIuXG4gICAgICAgICAqIEB0eXBlIHtQSVhJLkFic3RyYWN0UmVuZGVyZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG9ubHkgcmVhbCBkaWZmZXJlbmNlIGJldHdlZW4gQ2FudmFzUHJlcGFyZSBhbmQgUHJlcGFyZSBpcyB3aGF0IHRoZXkgcGFzc1xuICAgICAgICAgKiB0byB1cGxvYWQgaG9va3MuIFRoYXQgZGlmZmVyZW50IHBhcmFtZXRlciBpcyBzdG9yZWQgaGVyZS5cbiAgICAgICAgICogQHR5cGUge29iamVjdH1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51cGxvYWRIb29rSGVscGVyID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiBpdGVtcyB0byB1cGxvYWRzIGF0IG9uY2UuXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTwqPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucXVldWUgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiBhZGRpdGlvbmFsIGhvb2tzIGZvciBmaW5kaW5nIGFzc2V0cy5cbiAgICAgICAgICogQHR5cGUge0FycmF5PEZ1bmN0aW9uPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYWRkSG9va3MgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiBhZGRpdGlvbmFsIGhvb2tzIGZvciBwcm9jZXNzaW5nIGFzc2V0cy5cbiAgICAgICAgICogQHR5cGUge0FycmF5PEZ1bmN0aW9uPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudXBsb2FkSG9va3MgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ2FsbGJhY2sgdG8gY2FsbCBhZnRlciBjb21wbGV0ZWQuXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTxGdW5jdGlvbj59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNvbXBsZXRlcyA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBwcmVwYXJlIGlzIHRpY2tpbmcgKHJ1bm5pbmcpLlxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGlja2luZyA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiAnYm91bmQnIGNhbGwgZm9yIHByZXBhcmVJdGVtcygpLlxuICAgICAgICAgKiBAdHlwZSB7RnVuY3Rpb259XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRlbGF5ZWRUaWNrID0gKCk6IHZvaWQgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgLy8gdW5saWtlbHksIGJ1dCBpbiBjYXNlIHdlIHdlcmUgZGVzdHJveWVkIGJldHdlZW4gdGljaygpIGFuZCBkZWxheWVkVGljaygpXG4gICAgICAgICAgICBpZiAoIXRoaXMucXVldWUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5wcmVwYXJlSXRlbXMoKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBob29rcyB0byBmaW5kIHRoZSBjb3JyZWN0IHRleHR1cmVcbiAgICAgICAgdGhpcy5yZWdpc3RlckZpbmRIb29rKGZpbmRUZXh0KTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckZpbmRIb29rKGZpbmRUZXh0U3R5bGUpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyRmluZEhvb2soZmluZE11bHRpcGxlQmFzZVRleHR1cmVzKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckZpbmRIb29rKGZpbmRCYXNlVGV4dHVyZSk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJGaW5kSG9vayhmaW5kVGV4dHVyZSk7XG5cbiAgICAgICAgLy8gdXBsb2FkIGhvb2tzXG4gICAgICAgIHRoaXMucmVnaXN0ZXJVcGxvYWRIb29rKGRyYXdUZXh0KTtcbiAgICAgICAgdGhpcy5yZWdpc3RlclVwbG9hZEhvb2soY2FsY3VsYXRlVGV4dFN0eWxlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGxvYWQgYWxsIHRoZSB0ZXh0dXJlcyBhbmQgZ3JhcGhpY3MgdG8gdGhlIEdQVS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258UElYSS5EaXNwbGF5T2JqZWN0fFBJWEkuQ29udGFpbmVyfFBJWEkuQmFzZVRleHR1cmV8UElYSS5UZXh0dXJlfFBJWEkuR3JhcGhpY3N8UElYSS5UZXh0fSBpdGVtIC1cbiAgICAgKiAgICAgICAgRWl0aGVyIHRoZSBjb250YWluZXIgb3IgZGlzcGxheSBvYmplY3QgdG8gc2VhcmNoIGZvciBpdGVtcyB0byB1cGxvYWQsIHRoZSBpdGVtcyB0byB1cGxvYWQgdGhlbXNlbHZlcyxcbiAgICAgKiAgICAgICAgb3IgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uLCBpZiBpdGVtcyBoYXZlIGJlZW4gYWRkZWQgdXNpbmcgYHByZXBhcmUuYWRkYC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbZG9uZV0gLSBPcHRpb25hbCBjYWxsYmFjayB3aGVuIGFsbCBxdWV1ZWQgdXBsb2FkcyBoYXZlIGNvbXBsZXRlZFxuICAgICAqL1xuICAgIHVwbG9hZChpdGVtOiBJRGlzcGxheU9iamVjdEV4dGVuZGVkIHwgSVVwbG9hZEhvb2sgfCBJRmluZEhvb2sgfCAoKCkgPT4gdm9pZCksIGRvbmU6ICgpID0+IHZvaWQpOiB2b2lkXG4gICAge1xuICAgICAgICBpZiAodHlwZW9mIGl0ZW0gPT09ICdmdW5jdGlvbicpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRvbmUgPSBpdGVtIGFzICgpID0+IHZvaWQ7XG4gICAgICAgICAgICBpdGVtID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIGEgZGlzcGxheSBvYmplY3QsIHNlYXJjaCBmb3IgaXRlbXNcbiAgICAgICAgLy8gdGhhdCB3ZSBjb3VsZCB1cGxvYWRcbiAgICAgICAgaWYgKGl0ZW0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuYWRkKGl0ZW0gYXMgSURpc3BsYXlPYmplY3RFeHRlbmRlZCB8IElVcGxvYWRIb29rIHwgSUZpbmRIb29rKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEdldCB0aGUgaXRlbXMgZm9yIHVwbG9hZCBmcm9tIHRoZSBkaXNwbGF5XG4gICAgICAgIGlmICh0aGlzLnF1ZXVlLmxlbmd0aClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKGRvbmUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb21wbGV0ZXMucHVzaChkb25lKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCF0aGlzLnRpY2tpbmcpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy50aWNraW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBUaWNrZXIuc3lzdGVtLmFkZE9uY2UodGhpcy50aWNrLCB0aGlzLCBVUERBVEVfUFJJT1JJVFkuVVRJTElUWSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZG9uZSlcbiAgICAgICAge1xuICAgICAgICAgICAgZG9uZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSGFuZGxlIHRpY2sgdXBkYXRlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRpY2soKTogdm9pZFxuICAgIHtcbiAgICAgICAgc2V0VGltZW91dCh0aGlzLmRlbGF5ZWRUaWNrLCAwKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBY3R1YWxseSBwcmVwYXJlIGl0ZW1zLiBUaGlzIGlzIGhhbmRsZWQgb3V0c2lkZSBvZiB0aGUgdGljayBiZWNhdXNlIGl0IHdpbGwgdGFrZSBhIHdoaWxlXG4gICAgICogYW5kIHdlIGRvIE5PVCB3YW50IHRvIGJsb2NrIHRoZSBjdXJyZW50IGFuaW1hdGlvbiBmcmFtZSBmcm9tIHJlbmRlcmluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgcHJlcGFyZUl0ZW1zKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHRoaXMubGltaXRlci5iZWdpbkZyYW1lKCk7XG4gICAgICAgIC8vIFVwbG9hZCB0aGUgZ3JhcGhpY3NcbiAgICAgICAgd2hpbGUgKHRoaXMucXVldWUubGVuZ3RoICYmIHRoaXMubGltaXRlci5hbGxvd2VkVG9VcGxvYWQoKSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgaXRlbSA9IHRoaXMucXVldWVbMF07XG4gICAgICAgICAgICBsZXQgdXBsb2FkZWQgPSBmYWxzZTtcblxuICAgICAgICAgICAgaWYgKGl0ZW0gJiYgIWl0ZW0uX2Rlc3Ryb3llZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gdGhpcy51cGxvYWRIb29rcy5sZW5ndGg7IGkgPCBsZW47IGkrKylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnVwbG9hZEhvb2tzW2ldKHRoaXMudXBsb2FkSG9va0hlbHBlciwgaXRlbSkpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucXVldWUuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwbG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIXVwbG9hZGVkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMucXVldWUuc2hpZnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFdlJ3JlIGZpbmlzaGVkXG4gICAgICAgIGlmICghdGhpcy5xdWV1ZS5sZW5ndGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudGlja2luZyA9IGZhbHNlO1xuXG4gICAgICAgICAgICBjb25zdCBjb21wbGV0ZXMgPSB0aGlzLmNvbXBsZXRlcy5zbGljZSgwKTtcblxuICAgICAgICAgICAgdGhpcy5jb21wbGV0ZXMubGVuZ3RoID0gMDtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGNvbXBsZXRlcy5sZW5ndGg7IGkgPCBsZW47IGkrKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb21wbGV0ZXNbaV0oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIGlmIHdlIGFyZSBub3QgZmluaXNoZWQsIG9uIHRoZSBuZXh0IHJBRiBkbyB0aGlzIGFnYWluXG4gICAgICAgICAgICBUaWNrZXIuc3lzdGVtLmFkZE9uY2UodGhpcy50aWNrLCB0aGlzLCBVUERBVEVfUFJJT1JJVFkuVVRJTElUWSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGhvb2tzIGZvciBmaW5kaW5nIGl0ZW1zLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gYWRkSG9vayAtIEZ1bmN0aW9uIGNhbGwgdGhhdCB0YWtlcyB0d28gcGFyYW1ldGVyczogYGl0ZW06KiwgcXVldWU6QXJyYXlgXG4gICAgICogICAgICAgICAgZnVuY3Rpb24gbXVzdCByZXR1cm4gYHRydWVgIGlmIGl0IHdhcyBhYmxlIHRvIGFkZCBpdGVtIHRvIHRoZSBxdWV1ZS5cbiAgICAgKiBAcmV0dXJuIHt0aGlzfSBJbnN0YW5jZSBvZiBwbHVnaW4gZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIHJlZ2lzdGVyRmluZEhvb2soYWRkSG9vazogSUZpbmRIb29rKTogdGhpc1xuICAgIHtcbiAgICAgICAgaWYgKGFkZEhvb2spXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuYWRkSG9va3MucHVzaChhZGRIb29rKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZHMgaG9va3MgZm9yIHVwbG9hZGluZyBpdGVtcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHVwbG9hZEhvb2sgLSBGdW5jdGlvbiBjYWxsIHRoYXQgdGFrZXMgdHdvIHBhcmFtZXRlcnM6IGBwcmVwYXJlOkNhbnZhc1ByZXBhcmUsIGl0ZW06KmAgYW5kXG4gICAgICogICAgICAgICAgZnVuY3Rpb24gbXVzdCByZXR1cm4gYHRydWVgIGlmIGl0IHdhcyBhYmxlIHRvIGhhbmRsZSB1cGxvYWQgb2YgaXRlbS5cbiAgICAgKiBAcmV0dXJuIHt0aGlzfSBJbnN0YW5jZSBvZiBwbHVnaW4gZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIHJlZ2lzdGVyVXBsb2FkSG9vayh1cGxvYWRIb29rOiBJVXBsb2FkSG9vayk6IHRoaXNcbiAgICB7XG4gICAgICAgIGlmICh1cGxvYWRIb29rKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnVwbG9hZEhvb2tzLnB1c2godXBsb2FkSG9vayk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNYW51YWxseSBhZGQgYW4gaXRlbSB0byB0aGUgdXBsb2FkaW5nIHF1ZXVlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R8UElYSS5Db250YWluZXJ8UElYSS5CYXNlVGV4dHVyZXxQSVhJLlRleHR1cmV8UElYSS5HcmFwaGljc3xQSVhJLlRleHR8Kn0gaXRlbSAtIE9iamVjdCB0b1xuICAgICAqICAgICAgICBhZGQgdG8gdGhlIHF1ZXVlXG4gICAgICogQHJldHVybiB7dGhpc30gSW5zdGFuY2Ugb2YgcGx1Z2luIGZvciBjaGFpbmluZy5cbiAgICAgKi9cbiAgICBhZGQoaXRlbTogSURpc3BsYXlPYmplY3RFeHRlbmRlZCB8IElVcGxvYWRIb29rIHwgSUZpbmRIb29rKTogdGhpc1xuICAgIHtcbiAgICAgICAgLy8gQWRkIGFkZGl0aW9uYWwgaG9va3MgZm9yIGZpbmRpbmcgZWxlbWVudHMgb24gc3BlY2lhbFxuICAgICAgICAvLyB0eXBlcyBvZiBvYmplY3RzIHRoYXRcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHRoaXMuYWRkSG9va3MubGVuZ3RoOyBpIDwgbGVuOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmFkZEhvb2tzW2ldKGl0ZW0sIHRoaXMucXVldWUpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gR2V0IGNoaWxkcmVuIHJlY3Vyc2l2ZWx5XG4gICAgICAgIGlmIChpdGVtIGluc3RhbmNlb2YgQ29udGFpbmVyKVxuICAgICAgICB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gaXRlbS5jaGlsZHJlbi5sZW5ndGggLSAxOyBpID49IDA7IGktLSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZChpdGVtLmNoaWxkcmVuW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBwbHVnaW4sIGRvbid0IHVzZSBhZnRlciB0aGlzLlxuICAgICAqXG4gICAgICovXG4gICAgZGVzdHJveSgpOiB2b2lkXG4gICAge1xuICAgICAgICBpZiAodGhpcy50aWNraW5nKVxuICAgICAgICB7XG4gICAgICAgICAgICBUaWNrZXIuc3lzdGVtLnJlbW92ZSh0aGlzLnRpY2ssIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudGlja2luZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmFkZEhvb2tzID0gbnVsbDtcbiAgICAgICAgdGhpcy51cGxvYWRIb29rcyA9IG51bGw7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICAgICAgICB0aGlzLmNvbXBsZXRlcyA9IG51bGw7XG4gICAgICAgIHRoaXMucXVldWUgPSBudWxsO1xuICAgICAgICB0aGlzLmxpbWl0ZXIgPSBudWxsO1xuICAgICAgICB0aGlzLnVwbG9hZEhvb2tIZWxwZXIgPSBudWxsO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEJhc2VUZXh0dXJlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBHcmFwaGljcyB9IGZyb20gJ0BwaXhpL2dyYXBoaWNzJztcbmltcG9ydCB7IEJhc2VQcmVwYXJlLCBJRGlzcGxheU9iamVjdEV4dGVuZGVkIH0gZnJvbSAnLi9CYXNlUHJlcGFyZSc7XG5cbmltcG9ydCB0eXBlIHsgQWJzdHJhY3RSZW5kZXJlciwgUmVuZGVyZXIgfSBmcm9tICdAcGl4aS9jb3JlJztcblxuLyoqXG4gKiBCdWlsdC1pbiBob29rIHRvIHVwbG9hZCBQSVhJLlRleHR1cmUgb2JqZWN0cyB0byB0aGUgR1BVLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gaW5zdGFuY2Ugb2YgdGhlIHdlYmdsIHJlbmRlcmVyXG4gKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGl0ZW0gLSBJdGVtIHRvIGNoZWNrXG4gKiBAcmV0dXJuIHtib29sZWFufSBJZiBpdGVtIHdhcyB1cGxvYWRlZC5cbiAqL1xuZnVuY3Rpb24gdXBsb2FkQmFzZVRleHR1cmVzKHJlbmRlcmVyOiBBYnN0cmFjdFJlbmRlcmVyIHwgQmFzZVByZXBhcmUsIGl0ZW06IElEaXNwbGF5T2JqZWN0RXh0ZW5kZWQgfCBCYXNlVGV4dHVyZSk6IGJvb2xlYW5cbntcbiAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIEJhc2VUZXh0dXJlKVxuICAgIHtcbiAgICAgICAgLy8gaWYgdGhlIHRleHR1cmUgYWxyZWFkeSBoYXMgYSBHTCB0ZXh0dXJlLCB0aGVuIHRoZSB0ZXh0dXJlIGhhcyBiZWVuIHByZXBhcmVkIG9yIHJlbmRlcmVkXG4gICAgICAgIC8vIGJlZm9yZSBub3cuIElmIHRoZSB0ZXh0dXJlIGNoYW5nZWQsIHRoZW4gdGhlIGNoYW5nZXIgc2hvdWxkIGJlIGNhbGxpbmcgdGV4dHVyZS51cGRhdGUoKSB3aGljaFxuICAgICAgICAvLyByZXVwbG9hZHMgdGhlIHRleHR1cmUgd2l0aG91dCBuZWVkIGZvciBwcmVwYXJpbmcgaXQgYWdhaW5cbiAgICAgICAgaWYgKCFpdGVtLl9nbFRleHR1cmVzWyhyZW5kZXJlciBhcyBSZW5kZXJlcikuQ09OVEVYVF9VSURdKVxuICAgICAgICB7XG4gICAgICAgICAgICAocmVuZGVyZXIgYXMgUmVuZGVyZXIpLnRleHR1cmUuYmluZChpdGVtKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBCdWlsdC1pbiBob29rIHRvIHVwbG9hZCBQSVhJLkdyYXBoaWNzIHRvIHRoZSBHUFUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBpbnN0YW5jZSBvZiB0aGUgd2ViZ2wgcmVuZGVyZXJcbiAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBpdGVtIC0gSXRlbSB0byBjaGVja1xuICogQHJldHVybiB7Ym9vbGVhbn0gSWYgaXRlbSB3YXMgdXBsb2FkZWQuXG4gKi9cbmZ1bmN0aW9uIHVwbG9hZEdyYXBoaWNzKHJlbmRlcmVyOiBBYnN0cmFjdFJlbmRlcmVyIHwgQmFzZVByZXBhcmUsIGl0ZW06IElEaXNwbGF5T2JqZWN0RXh0ZW5kZWQpOiBib29sZWFuXG57XG4gICAgaWYgKCEoaXRlbSBpbnN0YW5jZW9mIEdyYXBoaWNzKSlcbiAgICB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBjb25zdCB7IGdlb21ldHJ5IH0gPSBpdGVtO1xuXG4gICAgLy8gdXBkYXRlIGRpcnR5IGdyYXBoaWNzIHRvIGdldCBiYXRjaGVzXG4gICAgaXRlbS5maW5pc2hQb2x5KCk7XG4gICAgZ2VvbWV0cnkudXBkYXRlQmF0Y2hlcygpO1xuXG4gICAgY29uc3QgeyBiYXRjaGVzIH0gPSBnZW9tZXRyeTtcblxuICAgIC8vIHVwbG9hZCBhbGwgdGV4dHVyZXMgZm91bmQgaW4gc3R5bGVzXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBiYXRjaGVzLmxlbmd0aDsgaSsrKVxuICAgIHtcbiAgICAgICAgY29uc3QgeyB0ZXh0dXJlIH0gPSBiYXRjaGVzW2ldLnN0eWxlO1xuXG4gICAgICAgIGlmICh0ZXh0dXJlKVxuICAgICAgICB7XG4gICAgICAgICAgICB1cGxvYWRCYXNlVGV4dHVyZXMocmVuZGVyZXIsIHRleHR1cmUuYmFzZVRleHR1cmUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gaWYgaXRzIG5vdCBiYXRjaGFibGUgLSB1cGRhdGUgdmFvIGZvciBwYXJ0aWN1bGFyIHNoYWRlclxuICAgIGlmICghZ2VvbWV0cnkuYmF0Y2hhYmxlKVxuICAgIHtcbiAgICAgICAgKHJlbmRlcmVyIGFzIFJlbmRlcmVyKS5nZW9tZXRyeS5iaW5kKGdlb21ldHJ5LCAoaXRlbSBhcyBhbnkpLl9yZXNvbHZlRGlyZWN0U2hhZGVyKChyZW5kZXJlciBhcyBSZW5kZXJlcikpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBCdWlsdC1pbiBob29rIHRvIGZpbmQgZ3JhcGhpY3MuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBpdGVtIC0gRGlzcGxheSBvYmplY3QgdG8gY2hlY2tcbiAqIEBwYXJhbSB7QXJyYXk8Kj59IHF1ZXVlIC0gQ29sbGVjdGlvbiBvZiBpdGVtcyB0byB1cGxvYWRcbiAqIEByZXR1cm4ge2Jvb2xlYW59IGlmIGEgUElYSS5HcmFwaGljcyBvYmplY3Qgd2FzIGZvdW5kLlxuICovXG5mdW5jdGlvbiBmaW5kR3JhcGhpY3MoaXRlbTogSURpc3BsYXlPYmplY3RFeHRlbmRlZCwgcXVldWU6IEFycmF5PGFueT4pOiBib29sZWFuXG57XG4gICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBHcmFwaGljcylcbiAgICB7XG4gICAgICAgIHF1ZXVlLnB1c2goaXRlbSk7XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIFRoZSBwcmVwYXJlIHBsdWdpbiBwcm92aWRlcyByZW5kZXJlci1zcGVjaWZpYyBwbHVnaW5zIGZvciBwcmUtcmVuZGVyaW5nIERpc3BsYXlPYmplY3RzLiBUaGVzZSBwbHVnaW5zIGFyZSB1c2VmdWwgZm9yXG4gKiBhc3luY2hyb25vdXNseSBwcmVwYXJpbmcgYW5kIHVwbG9hZGluZyB0byB0aGUgR1BVIGFzc2V0cywgdGV4dHVyZXMsIGdyYXBoaWNzIHdhaXRpbmcgdG8gYmUgZGlzcGxheWVkLlxuICpcbiAqIERvIG5vdCBpbnN0YW50aWF0ZSB0aGlzIHBsdWdpbiBkaXJlY3RseS4gSXQgaXMgYXZhaWxhYmxlIGZyb20gdGhlIGByZW5kZXJlci5wbHVnaW5zYCBwcm9wZXJ0eS5cbiAqIFNlZSB7QGxpbmsgUElYSS5DYW52YXNSZW5kZXJlciNwbHVnaW5zfSBvciB7QGxpbmsgUElYSS5SZW5kZXJlciNwbHVnaW5zfS5cbiAqIEBleGFtcGxlXG4gKiAvLyBDcmVhdGUgYSBuZXcgYXBwbGljYXRpb25cbiAqIGNvbnN0IGFwcCA9IG5ldyBQSVhJLkFwcGxpY2F0aW9uKCk7XG4gKiBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGFwcC52aWV3KTtcbiAqXG4gKiAvLyBEb24ndCBzdGFydCByZW5kZXJpbmcgcmlnaHQgYXdheVxuICogYXBwLnN0b3AoKTtcbiAqXG4gKiAvLyBjcmVhdGUgYSBkaXNwbGF5IG9iamVjdFxuICogY29uc3QgcmVjdCA9IG5ldyBQSVhJLkdyYXBoaWNzKClcbiAqICAgICAuYmVnaW5GaWxsKDB4MDBmZjAwKVxuICogICAgIC5kcmF3UmVjdCg0MCwgNDAsIDIwMCwgMjAwKTtcbiAqXG4gKiAvLyBBZGQgdG8gdGhlIHN0YWdlXG4gKiBhcHAuc3RhZ2UuYWRkQ2hpbGQocmVjdCk7XG4gKlxuICogLy8gRG9uJ3Qgc3RhcnQgcmVuZGVyaW5nIHVudGlsIHRoZSBncmFwaGljIGlzIHVwbG9hZGVkIHRvIHRoZSBHUFVcbiAqIGFwcC5yZW5kZXJlci5wbHVnaW5zLnByZXBhcmUudXBsb2FkKGFwcC5zdGFnZSwgKCkgPT4ge1xuICogICAgIGFwcC5zdGFydCgpO1xuICogfSk7XG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkJhc2VQcmVwYXJlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgY2xhc3MgUHJlcGFyZSBleHRlbmRzIEJhc2VQcmVwYXJlXG57XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIEEgcmVmZXJlbmNlIHRvIHRoZSBjdXJyZW50IHJlbmRlcmVyXG4gICAgICovXG4gICAgY29uc3RydWN0b3IocmVuZGVyZXI6IFJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgc3VwZXIocmVuZGVyZXIpO1xuXG4gICAgICAgIHRoaXMudXBsb2FkSG9va0hlbHBlciA9IHRoaXMucmVuZGVyZXI7XG5cbiAgICAgICAgLy8gQWRkIHRleHR1cmVzIGFuZCBncmFwaGljcyB0byB1cGxvYWRcbiAgICAgICAgdGhpcy5yZWdpc3RlckZpbmRIb29rKGZpbmRHcmFwaGljcyk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJVcGxvYWRIb29rKHVwbG9hZEJhc2VUZXh0dXJlcyk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJVcGxvYWRIb29rKHVwbG9hZEdyYXBoaWNzKTtcbiAgICB9XG59XG4iLCIvKipcbiAqIFRpbWVMaW1pdGVyIGxpbWl0cyB0aGUgbnVtYmVyIG9mIGl0ZW1zIGhhbmRsZWQgYnkgYSB7QGxpbmsgUElYSS5CYXNlUHJlcGFyZX0gdG8gYSBzcGVjaWZpZWRcbiAqIG51bWJlciBvZiBtaWxsaXNlY29uZHMgcGVyIGZyYW1lLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGNsYXNzIFRpbWVMaW1pdGVyXG57XG4gICAgcHVibGljIG1heE1pbGxpc2Vjb25kczogbnVtYmVyO1xuICAgIHB1YmxpYyBmcmFtZVN0YXJ0OiBudW1iZXI7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1heE1pbGxpc2Vjb25kcyAtIFRoZSBtYXhpbXVtIG1pbGxpc2Vjb25kcyB0aGF0IGNhbiBiZSBzcGVudCBwcmVwYXJpbmcgaXRlbXMgZWFjaCBmcmFtZS5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihtYXhNaWxsaXNlY29uZHM6IG51bWJlcilcbiAgICB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWF4aW11bSBtaWxsaXNlY29uZHMgdGhhdCBjYW4gYmUgc3BlbnQgcHJlcGFyaW5nIGl0ZW1zIGVhY2ggZnJhbWUuXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1heE1pbGxpc2Vjb25kcyA9IG1heE1pbGxpc2Vjb25kcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzdGFydCB0aW1lIG9mIHRoZSBjdXJyZW50IGZyYW1lLlxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mcmFtZVN0YXJ0ID0gMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXNldHMgYW55IGNvdW50aW5nIHByb3BlcnRpZXMgdG8gc3RhcnQgZnJlc2ggb24gYSBuZXcgZnJhbWUuXG4gICAgICovXG4gICAgYmVnaW5GcmFtZSgpOiB2b2lkXG4gICAge1xuICAgICAgICB0aGlzLmZyYW1lU3RhcnQgPSBEYXRlLm5vdygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyB0byBzZWUgaWYgYW5vdGhlciBpdGVtIGNhbiBiZSB1cGxvYWRlZC4gVGhpcyBzaG91bGQgb25seSBiZSBjYWxsZWQgb25jZSBwZXIgaXRlbS5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBJZiB0aGUgaXRlbSBpcyBhbGxvd2VkIHRvIGJlIHVwbG9hZGVkLlxuICAgICAqL1xuICAgIGFsbG93ZWRUb1VwbG9hZCgpOiBib29sZWFuXG4gICAge1xuICAgICAgICByZXR1cm4gRGF0ZS5ub3coKSAtIHRoaXMuZnJhbWVTdGFydCA8IHRoaXMubWF4TWlsbGlzZWNvbmRzO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IHsgVGV4dHVyZSwgQmFzZVRleHR1cmUgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IGdldFJlc29sdXRpb25PZlVybCB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCB0eXBlIHsgRGljdCB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCB0eXBlIHsgcmVzb3VyY2VzIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgdHlwZSB7IElQb2ludERhdGEgfSBmcm9tICdAcGl4aS9tYXRoJztcblxuLyoqXG4gKiBSZXByZXNlbnRzIHRoZSBKU09OIGRhdGEgZm9yIGEgc3ByaXRlc2hlZXQgYXRsYXMuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSVNwcml0ZXNoZWV0RnJhbWVEYXRhIHtcbiAgICBmcmFtZToge1xuICAgICAgICB4OiBudW1iZXI7XG4gICAgICAgIHk6IG51bWJlcjtcbiAgICAgICAgdzogbnVtYmVyO1xuICAgICAgICBoOiBudW1iZXI7XG4gICAgfTtcbiAgICB0cmltbWVkPzogYm9vbGVhbjtcbiAgICByb3RhdGVkPzogYm9vbGVhbjtcbiAgICBzb3VyY2VTaXplPzoge1xuICAgICAgICB3OiBudW1iZXI7XG4gICAgICAgIGg6IG51bWJlcjtcbiAgICB9O1xuICAgIHNwcml0ZVNvdXJjZVNpemU/OiB7XG4gICAgICAgIHg6IG51bWJlcjtcbiAgICAgICAgeTogbnVtYmVyO1xuICAgIH07XG4gICAgYW5jaG9yPzogSVBvaW50RGF0YTtcbn1cblxuLyoqXG4gKiBBdGxhcyBmb3JtYXQuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSVNwcml0ZXNoZWV0RGF0YSB7XG4gICAgZnJhbWVzOiBEaWN0PElTcHJpdGVzaGVldEZyYW1lRGF0YT47XG4gICAgYW5pbWF0aW9ucz86IERpY3Q8c3RyaW5nW10+O1xuICAgIG1ldGE6IHtcbiAgICAgICAgc2NhbGU6IHN0cmluZztcbiAgICB9O1xufVxuXG4vKipcbiAqIFV0aWxpdHkgY2xhc3MgZm9yIG1haW50YWluaW5nIHJlZmVyZW5jZSB0byBhIGNvbGxlY3Rpb25cbiAqIG9mIFRleHR1cmVzIG9uIGEgc2luZ2xlIFNwcml0ZXNoZWV0LlxuICpcbiAqIFRvIGFjY2VzcyBhIHNwcml0ZSBzaGVldCBmcm9tIHlvdXIgY29kZSBwYXNzIGl0cyBKU09OIGRhdGEgZmlsZSB0byBQaXhpJ3MgbG9hZGVyOlxuICpcbiAqIGBgYGpzXG4gKiBQSVhJLkxvYWRlci5zaGFyZWQuYWRkKFwiaW1hZ2VzL3Nwcml0ZXNoZWV0Lmpzb25cIikubG9hZChzZXR1cCk7XG4gKlxuICogZnVuY3Rpb24gc2V0dXAoKSB7XG4gKiAgIGxldCBzaGVldCA9IFBJWEkuTG9hZGVyLnNoYXJlZC5yZXNvdXJjZXNbXCJpbWFnZXMvc3ByaXRlc2hlZXQuanNvblwiXS5zcHJpdGVzaGVldDtcbiAqICAgLi4uXG4gKiB9XG4gKiBgYGBcbiAqIFdpdGggdGhlIGBzaGVldC50ZXh0dXJlc2AgeW91IGNhbiBjcmVhdGUgU3ByaXRlIG9iamVjdHMsYHNoZWV0LmFuaW1hdGlvbnNgIGNhbiBiZSB1c2VkIHRvIGNyZWF0ZSBhbiBBbmltYXRlZFNwcml0ZS5cbiAqXG4gKiBTcHJpdGUgc2hlZXRzIGNhbiBiZSBwYWNrZWQgdXNpbmcgdG9vbHMgbGlrZSB7QGxpbmsgaHR0cHM6Ly9jb2RlYW5kd2ViLmNvbS90ZXh0dXJlcGFja2VyfFRleHR1cmVQYWNrZXJ9LFxuICoge0BsaW5rIGh0dHBzOi8vcmVuZGVyaGpzLm5ldC9zaG9lYm94L3xTaG9lYm94fSBvciB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL2tyenlzenRvZi1vL3Nwcml0ZXNoZWV0LmpzfFNwcml0ZXNoZWV0LmpzfS5cbiAqIERlZmF1bHQgYW5jaG9yIHBvaW50cyAoc2VlIHtAbGluayBQSVhJLlRleHR1cmUjZGVmYXVsdEFuY2hvcn0pIGFuZCBncm91cGluZyBvZiBhbmltYXRpb24gc3ByaXRlcyBhcmUgY3VycmVudGx5IG9ubHlcbiAqIHN1cHBvcnRlZCBieSBUZXh0dXJlUGFja2VyLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGNsYXNzIFNwcml0ZXNoZWV0XG57XG4gICAgLyoqXG4gICAgICogVGhlIG1heGltdW0gbnVtYmVyIG9mIFRleHR1cmVzIHRvIGJ1aWxkIHBlciBwcm9jZXNzLlxuICAgICAqXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAxMDAwXG4gICAgICovXG4gICAgc3RhdGljIHJlYWRvbmx5IEJBVENIX1NJWkUgPSAxMDAwO1xuXG4gICAgcHVibGljIGJhc2VUZXh0dXJlOiBCYXNlVGV4dHVyZTtcbiAgICBwdWJsaWMgdGV4dHVyZXM6IERpY3Q8VGV4dHVyZT47XG4gICAgcHVibGljIGFuaW1hdGlvbnM6IERpY3Q8VGV4dHVyZVtdPjtcbiAgICBwdWJsaWMgZGF0YTogSVNwcml0ZXNoZWV0RGF0YTtcbiAgICBwdWJsaWMgcmVzb2x1dGlvbjogbnVtYmVyO1xuXG4gICAgcHJpdmF0ZSBfdGV4dHVyZTogVGV4dHVyZTtcbiAgICBwcml2YXRlIF9mcmFtZXM6IERpY3Q8SVNwcml0ZXNoZWV0RnJhbWVEYXRhPjtcbiAgICBwcml2YXRlIF9mcmFtZUtleXM6IHN0cmluZ1tdO1xuICAgIHByaXZhdGUgX2JhdGNoSW5kZXg6IG51bWJlcjtcbiAgICBwcml2YXRlIF9jYWxsYmFjazogKHRleHR1cmVzOiBEaWN0PFRleHR1cmU+KSA9PiB2b2lkO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfFBJWEkuVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBSZWZlcmVuY2UgdG8gdGhlIHNvdXJjZSBCYXNlVGV4dHVyZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGRhdGEgLSBTcHJpdGVzaGVldCBpbWFnZSBkYXRhLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbcmVzb2x1dGlvbkZpbGVuYW1lXSAtIFRoZSBmaWxlbmFtZSB0byBjb25zaWRlciB3aGVuIGRldGVybWluaW5nXG4gICAgICogICAgICAgIHRoZSByZXNvbHV0aW9uIG9mIHRoZSBzcHJpdGVzaGVldC4gSWYgbm90IHByb3ZpZGVkLCB0aGUgaW1hZ2VVcmwgd2lsbFxuICAgICAqICAgICAgICBiZSB1c2VkIG9uIHRoZSBCYXNlVGV4dHVyZS5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih0ZXh0dXJlOiBCYXNlVGV4dHVyZSB8IFRleHR1cmUsIGRhdGE6IElTcHJpdGVzaGVldERhdGEsIHJlc29sdXRpb25GaWxlbmFtZTogc3RyaW5nID0gbnVsbClcbiAgICB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gb3JpZ2luYWwgc291cmNlIGltYWdlIGZyb20gdGhlIExvYWRlci4gVGhpcyByZWZlcmVuY2UgaXMgcmV0YWluZWQgc28gd2VcbiAgICAgICAgICogY2FuIGRlc3Ryb3kgdGhlIFRleHR1cmUgbGF0ZXIgb24uIEl0IGlzIG5ldmVyIHVzZWQgaW50ZXJuYWxseS5cbiAgICAgICAgICogQHR5cGUge1BJWEkuVGV4dHVyZX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3RleHR1cmUgPSB0ZXh0dXJlIGluc3RhbmNlb2YgVGV4dHVyZSA/IHRleHR1cmUgOiBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gdGhzIHNvdXJjZSB0ZXh0dXJlLlxuICAgICAgICAgKiBAdHlwZSB7UElYSS5CYXNlVGV4dHVyZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYmFzZVRleHR1cmUgPSB0ZXh0dXJlIGluc3RhbmNlb2YgQmFzZVRleHR1cmUgPyB0ZXh0dXJlIDogdGhpcy5fdGV4dHVyZS5iYXNlVGV4dHVyZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQSBtYXAgY29udGFpbmluZyBhbGwgdGV4dHVyZXMgb2YgdGhlIHNwcml0ZSBzaGVldC5cbiAgICAgICAgICogQ2FuIGJlIHVzZWQgdG8gY3JlYXRlIGEge0BsaW5rIFBJWEkuU3ByaXRlfFNwcml0ZX06XG4gICAgICAgICAqIGBgYGpzXG4gICAgICAgICAqIG5ldyBQSVhJLlNwcml0ZShzaGVldC50ZXh0dXJlc1tcImltYWdlLnBuZ1wiXSk7XG4gICAgICAgICAqIGBgYFxuICAgICAgICAgKiBAbWVtYmVyIHtPYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRleHR1cmVzID0ge307XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgbWFwIGNvbnRhaW5pbmcgdGhlIHRleHR1cmVzIGZvciBlYWNoIGFuaW1hdGlvbi5cbiAgICAgICAgICogQ2FuIGJlIHVzZWQgdG8gY3JlYXRlIGFuIHtAbGluayBQSVhJLkFuaW1hdGVkU3ByaXRlfEFuaW1hdGVkU3ByaXRlfTpcbiAgICAgICAgICogYGBganNcbiAgICAgICAgICogbmV3IFBJWEkuQW5pbWF0ZWRTcHJpdGUoc2hlZXQuYW5pbWF0aW9uc1tcImFuaW1fbmFtZVwiXSlcbiAgICAgICAgICogYGBgXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYW5pbWF0aW9ucyA9IHt9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIG9yaWdpbmFsIEpTT04gZGF0YS5cbiAgICAgICAgICogQHR5cGUge09iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XG5cbiAgICAgICAgY29uc3QgcmVzb3VyY2UgPSB0aGlzLmJhc2VUZXh0dXJlLnJlc291cmNlIGFzIHJlc291cmNlcy5JbWFnZVJlc291cmNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgc3ByaXRlc2hlZXQuXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlc29sdXRpb24gPSB0aGlzLl91cGRhdGVSZXNvbHV0aW9uKHJlc29sdXRpb25GaWxlbmFtZSB8fCAocmVzb3VyY2UgPyByZXNvdXJjZS51cmwgOiBudWxsKSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1hcCBvZiBzcHJpdGVzaGVldCBmcmFtZXMuXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9mcmFtZXMgPSB0aGlzLmRhdGEuZnJhbWVzO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb2xsZWN0aW9uIG9mIGZyYW1lIG5hbWVzLlxuICAgICAgICAgKiBAdHlwZSB7c3RyaW5nW119XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9mcmFtZUtleXMgPSBPYmplY3Qua2V5cyh0aGlzLl9mcmFtZXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDdXJyZW50IGJhdGNoIGluZGV4IGJlaW5nIHByb2Nlc3NlZC5cbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2JhdGNoSW5kZXggPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWxsYmFjayB3aGVuIHBhcnNlIGlzIGNvbXBsZXRlZC5cbiAgICAgICAgICogQHR5cGUge0Z1bmN0aW9ufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fY2FsbGJhY2sgPSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlIHRoZSByZXNvbHV0aW9uIGZyb20gdGhlIGZpbGVuYW1lIG9yIGZhbGxiYWNrXG4gICAgICogdG8gdGhlIG1ldGEuc2NhbGUgZmllbGQgb2YgdGhlIEpTT04gZGF0YS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHJlc29sdXRpb25GaWxlbmFtZSAtIFRoZSBmaWxlbmFtZSB0byB1c2UgZm9yIHJlc29sdmluZ1xuICAgICAqICAgICAgICB0aGUgZGVmYXVsdCByZXNvbHV0aW9uLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gUmVzb2x1dGlvbiB0byB1c2UgZm9yIHNwcml0ZXNoZWV0LlxuICAgICAqL1xuICAgIHByaXZhdGUgX3VwZGF0ZVJlc29sdXRpb24ocmVzb2x1dGlvbkZpbGVuYW1lOiBzdHJpbmcgPSBudWxsKTogbnVtYmVyXG4gICAge1xuICAgICAgICBjb25zdCB7IHNjYWxlIH0gPSB0aGlzLmRhdGEubWV0YTtcblxuICAgICAgICAvLyBVc2UgYSBkZWZhdWx0VmFsdWUgb2YgYG51bGxgIHRvIGNoZWNrIGlmIGEgdXJsLWJhc2VkIHJlc29sdXRpb24gaXMgc2V0XG4gICAgICAgIGxldCByZXNvbHV0aW9uID0gZ2V0UmVzb2x1dGlvbk9mVXJsKHJlc29sdXRpb25GaWxlbmFtZSwgbnVsbCk7XG5cbiAgICAgICAgLy8gTm8gcmVzb2x1dGlvbiBmb3VuZCB2aWEgVVJMXG4gICAgICAgIGlmIChyZXNvbHV0aW9uID09PSBudWxsKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBVc2UgdGhlIHNjYWxlIHZhbHVlIG9yIGRlZmF1bHQgdG8gMVxuICAgICAgICAgICAgcmVzb2x1dGlvbiA9IHNjYWxlICE9PSB1bmRlZmluZWQgPyBwYXJzZUZsb2F0KHNjYWxlKSA6IDE7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBGb3Igbm9uLTEgcmVzb2x1dGlvbnMsIHVwZGF0ZSBiYXNlVGV4dHVyZVxuICAgICAgICBpZiAocmVzb2x1dGlvbiAhPT0gMSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZS5zZXRSZXNvbHV0aW9uKHJlc29sdXRpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc29sdXRpb247XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGFyc2VyIHNwcml0ZXNoZWV0IGZyb20gbG9hZGVkIGRhdGEuIFRoaXMgaXMgZG9uZSBhc3luY2hyb25vdXNseVxuICAgICAqIHRvIHByZXZlbnQgY3JlYXRpbmcgdG9vIG1hbnkgVGV4dHVyZSB3aXRoaW4gYSBzaW5nbGUgcHJvY2Vzcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIC0gQ2FsbGJhY2sgd2hlbiBjb21wbGV0ZSByZXR1cm5zXG4gICAgICogICAgICAgIGEgbWFwIG9mIHRoZSBUZXh0dXJlcyBmb3IgdGhpcyBzcHJpdGVzaGVldC5cbiAgICAgKi9cbiAgICBwdWJsaWMgcGFyc2UoY2FsbGJhY2s6ICgpID0+IHZvaWQpOiB2b2lkXG4gICAge1xuICAgICAgICB0aGlzLl9iYXRjaEluZGV4ID0gMDtcbiAgICAgICAgdGhpcy5fY2FsbGJhY2sgPSBjYWxsYmFjaztcblxuICAgICAgICBpZiAodGhpcy5fZnJhbWVLZXlzLmxlbmd0aCA8PSBTcHJpdGVzaGVldC5CQVRDSF9TSVpFKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9wcm9jZXNzRnJhbWVzKDApO1xuICAgICAgICAgICAgdGhpcy5fcHJvY2Vzc0FuaW1hdGlvbnMoKTtcbiAgICAgICAgICAgIHRoaXMuX3BhcnNlQ29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX25leHRCYXRjaCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHJvY2VzcyBhIGJhdGNoIG9mIGZyYW1lc1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5pdGlhbEZyYW1lSW5kZXggLSBUaGUgaW5kZXggb2YgZnJhbWUgdG8gc3RhcnQuXG4gICAgICovXG4gICAgcHJpdmF0ZSBfcHJvY2Vzc0ZyYW1lcyhpbml0aWFsRnJhbWVJbmRleDogbnVtYmVyKTogdm9pZFxuICAgIHtcbiAgICAgICAgbGV0IGZyYW1lSW5kZXggPSBpbml0aWFsRnJhbWVJbmRleDtcbiAgICAgICAgY29uc3QgbWF4RnJhbWVzID0gU3ByaXRlc2hlZXQuQkFUQ0hfU0laRTtcblxuICAgICAgICB3aGlsZSAoZnJhbWVJbmRleCAtIGluaXRpYWxGcmFtZUluZGV4IDwgbWF4RnJhbWVzICYmIGZyYW1lSW5kZXggPCB0aGlzLl9mcmFtZUtleXMubGVuZ3RoKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBpID0gdGhpcy5fZnJhbWVLZXlzW2ZyYW1lSW5kZXhdO1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMuX2ZyYW1lc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IHJlY3QgPSBkYXRhLmZyYW1lO1xuXG4gICAgICAgICAgICBpZiAocmVjdClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsZXQgZnJhbWUgPSBudWxsO1xuICAgICAgICAgICAgICAgIGxldCB0cmltID0gbnVsbDtcbiAgICAgICAgICAgICAgICBjb25zdCBzb3VyY2VTaXplID0gZGF0YS50cmltbWVkICE9PSBmYWxzZSAmJiBkYXRhLnNvdXJjZVNpemVcbiAgICAgICAgICAgICAgICAgICAgPyBkYXRhLnNvdXJjZVNpemUgOiBkYXRhLmZyYW1lO1xuXG4gICAgICAgICAgICAgICAgY29uc3Qgb3JpZyA9IG5ldyBSZWN0YW5nbGUoXG4gICAgICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgICAgIE1hdGguZmxvb3Ioc291cmNlU2l6ZS53KSAvIHRoaXMucmVzb2x1dGlvbixcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5mbG9vcihzb3VyY2VTaXplLmgpIC8gdGhpcy5yZXNvbHV0aW9uXG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIGlmIChkYXRhLnJvdGF0ZWQpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBmcmFtZSA9IG5ldyBSZWN0YW5nbGUoXG4gICAgICAgICAgICAgICAgICAgICAgICBNYXRoLmZsb29yKHJlY3QueCkgLyB0aGlzLnJlc29sdXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBNYXRoLmZsb29yKHJlY3QueSkgLyB0aGlzLnJlc29sdXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBNYXRoLmZsb29yKHJlY3QuaCkgLyB0aGlzLnJlc29sdXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBNYXRoLmZsb29yKHJlY3QudykgLyB0aGlzLnJlc29sdXRpb25cbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZnJhbWUgPSBuZXcgUmVjdGFuZ2xlKFxuICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5mbG9vcihyZWN0LngpIC8gdGhpcy5yZXNvbHV0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5mbG9vcihyZWN0LnkpIC8gdGhpcy5yZXNvbHV0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5mbG9vcihyZWN0LncpIC8gdGhpcy5yZXNvbHV0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5mbG9vcihyZWN0LmgpIC8gdGhpcy5yZXNvbHV0aW9uXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gIENoZWNrIHRvIHNlZSBpZiB0aGUgc3ByaXRlIGlzIHRyaW1tZWRcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS50cmltbWVkICE9PSBmYWxzZSAmJiBkYXRhLnNwcml0ZVNvdXJjZVNpemUpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0cmltID0gbmV3IFJlY3RhbmdsZShcbiAgICAgICAgICAgICAgICAgICAgICAgIE1hdGguZmxvb3IoZGF0YS5zcHJpdGVTb3VyY2VTaXplLngpIC8gdGhpcy5yZXNvbHV0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5mbG9vcihkYXRhLnNwcml0ZVNvdXJjZVNpemUueSkgLyB0aGlzLnJlc29sdXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBNYXRoLmZsb29yKHJlY3QudykgLyB0aGlzLnJlc29sdXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBNYXRoLmZsb29yKHJlY3QuaCkgLyB0aGlzLnJlc29sdXRpb25cbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLnRleHR1cmVzW2ldID0gbmV3IFRleHR1cmUoXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYmFzZVRleHR1cmUsXG4gICAgICAgICAgICAgICAgICAgIGZyYW1lLFxuICAgICAgICAgICAgICAgICAgICBvcmlnLFxuICAgICAgICAgICAgICAgICAgICB0cmltLFxuICAgICAgICAgICAgICAgICAgICBkYXRhLnJvdGF0ZWQgPyAyIDogMCxcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5hbmNob3JcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgLy8gbGV0cyBhbHNvIGFkZCB0aGUgZnJhbWUgdG8gcGl4aSdzIGdsb2JhbCBjYWNoZSBmb3IgJ2Zyb20nIGFuZCAnZnJvbUxvYWRlcicgZnVuY3Rpb25zXG4gICAgICAgICAgICAgICAgVGV4dHVyZS5hZGRUb0NhY2hlKHRoaXMudGV4dHVyZXNbaV0sIGkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmcmFtZUluZGV4Kys7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQYXJzZSBhbmltYXRpb25zIGNvbmZpZ1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBwcml2YXRlIF9wcm9jZXNzQW5pbWF0aW9ucygpOiB2b2lkXG4gICAge1xuICAgICAgICBjb25zdCBhbmltYXRpb25zID0gdGhpcy5kYXRhLmFuaW1hdGlvbnMgfHwge307XG5cbiAgICAgICAgZm9yIChjb25zdCBhbmltTmFtZSBpbiBhbmltYXRpb25zKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvbnNbYW5pbU5hbWVdID0gW107XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFuaW1hdGlvbnNbYW5pbU5hbWVdLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZyYW1lTmFtZSA9IGFuaW1hdGlvbnNbYW5pbU5hbWVdW2ldO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25zW2FuaW1OYW1lXS5wdXNoKHRoaXMudGV4dHVyZXNbZnJhbWVOYW1lXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcGFyc2UgaGFzIGNvbXBsZXRlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgcHJpdmF0ZSBfcGFyc2VDb21wbGV0ZSgpOiB2b2lkXG4gICAge1xuICAgICAgICBjb25zdCBjYWxsYmFjayA9IHRoaXMuX2NhbGxiYWNrO1xuXG4gICAgICAgIHRoaXMuX2NhbGxiYWNrID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYmF0Y2hJbmRleCA9IDA7XG4gICAgICAgIGNhbGxiYWNrLmNhbGwodGhpcywgdGhpcy50ZXh0dXJlcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQmVnaW4gdGhlIG5leHQgYmF0Y2ggb2YgdGV4dHVyZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHByaXZhdGUgX25leHRCYXRjaCgpOiB2b2lkXG4gICAge1xuICAgICAgICB0aGlzLl9wcm9jZXNzRnJhbWVzKHRoaXMuX2JhdGNoSW5kZXggKiBTcHJpdGVzaGVldC5CQVRDSF9TSVpFKTtcbiAgICAgICAgdGhpcy5fYmF0Y2hJbmRleCsrO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9iYXRjaEluZGV4ICogU3ByaXRlc2hlZXQuQkFUQ0hfU0laRSA8IHRoaXMuX2ZyYW1lS2V5cy5sZW5ndGgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbmV4dEJhdGNoKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcHJvY2Vzc0FuaW1hdGlvbnMoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9wYXJzZUNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIDApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3kgU3ByaXRlc2hlZXQgYW5kIGRvbid0IHVzZSBhZnRlciB0aGlzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZGVzdHJveUJhc2U9ZmFsc2VdIC0gV2hldGhlciB0byBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgYXMgd2VsbFxuICAgICAqL1xuICAgIHB1YmxpYyBkZXN0cm95KGRlc3Ryb3lCYXNlID0gZmFsc2UpOiB2b2lkXG4gICAge1xuICAgICAgICBmb3IgKGNvbnN0IGkgaW4gdGhpcy50ZXh0dXJlcylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy50ZXh0dXJlc1tpXS5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZnJhbWVzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fZnJhbWVLZXlzID0gbnVsbDtcbiAgICAgICAgdGhpcy5kYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy50ZXh0dXJlcyA9IG51bGw7XG4gICAgICAgIGlmIChkZXN0cm95QmFzZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZT8uZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZS5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdGV4dHVyZSA9IG51bGw7XG4gICAgICAgIHRoaXMuYmFzZVRleHR1cmUgPSBudWxsO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IHVybCB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCB7IFNwcml0ZXNoZWV0IH0gZnJvbSAnLi9TcHJpdGVzaGVldCc7XG5pbXBvcnQgeyBMb2FkZXJSZXNvdXJjZSB9IGZyb20gJ0BwaXhpL2xvYWRlcnMnO1xuaW1wb3J0IHR5cGUgeyBMb2FkZXIsIElMb2FkZXJSZXNvdXJjZSB9IGZyb20gJ0BwaXhpL2xvYWRlcnMnO1xuXG4vKipcbiAqIHtAbGluayBQSVhJLkxvYWRlciBMb2FkZXJ9IG1pZGRsZXdhcmUgZm9yIGxvYWRpbmcgdGV4dHVyZSBhdGxhc2VzIHRoYXQgaGF2ZSBiZWVuIGNyZWF0ZWQgd2l0aFxuICogVGV4dHVyZVBhY2tlciBvciBzaW1pbGFyIEpTT04tYmFzZWQgc3ByaXRlc2hlZXQuXG4gKlxuICogVGhpcyBtaWRkbGV3YXJlIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVzIFRleHR1cmUgcmVzb3VyY2VzLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBpbXBsZW1lbnRzIFBJWEkuSUxvYWRlclBsdWdpblxuICovXG5leHBvcnQgY2xhc3MgU3ByaXRlc2hlZXRMb2FkZXJcbntcbiAgICAvKipcbiAgICAgKiBDYWxsZWQgYWZ0ZXIgYSByZXNvdXJjZSBpcyBsb2FkZWQuXG4gICAgICogQHNlZSBQSVhJLkxvYWRlci5sb2FkZXJNaWRkbGV3YXJlXG4gICAgICogQHBhcmFtIHtQSVhJLkxvYWRlclJlc291cmNlfSByZXNvdXJjZVxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IG5leHRcbiAgICAgKi9cbiAgICBzdGF0aWMgdXNlKHJlc291cmNlOiBJTG9hZGVyUmVzb3VyY2UsIG5leHQ6ICguLi5hcmdzOiB1bmtub3duW10pID0+IHZvaWQpOiB2b2lkXG4gICAge1xuICAgICAgICAvLyBiZWNhdXNlIHRoaXMgaXMgbWlkZGxld2FyZSwgaXQgZXhlY3V0ZSBpbiBsb2FkZXIgY29udGV4dC4gYHRoaXNgID0gbG9hZGVyXG4gICAgICAgIGNvbnN0IGxvYWRlciA9ICh0aGlzIGFzIGFueSkgYXMgTG9hZGVyO1xuICAgICAgICBjb25zdCBpbWFnZVJlc291cmNlTmFtZSA9IGAke3Jlc291cmNlLm5hbWV9X2ltYWdlYDtcblxuICAgICAgICAvLyBza2lwIGlmIG5vIGRhdGEsIGl0cyBub3QganNvbiwgaXQgaXNuJ3Qgc3ByaXRlc2hlZXQgZGF0YSwgb3IgdGhlIGltYWdlIHJlc291cmNlIGFscmVhZHkgZXhpc3RzXG4gICAgICAgIGlmICghcmVzb3VyY2UuZGF0YVxuICAgICAgICAgICAgfHwgcmVzb3VyY2UudHlwZSAhPT0gTG9hZGVyUmVzb3VyY2UuVFlQRS5KU09OXG4gICAgICAgICAgICB8fCAhcmVzb3VyY2UuZGF0YS5mcmFtZXNcbiAgICAgICAgICAgIHx8IGxvYWRlci5yZXNvdXJjZXNbaW1hZ2VSZXNvdXJjZU5hbWVdXG4gICAgICAgIClcbiAgICAgICAge1xuICAgICAgICAgICAgbmV4dCgpO1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBsb2FkT3B0aW9ucyA9IHtcbiAgICAgICAgICAgIGNyb3NzT3JpZ2luOiByZXNvdXJjZS5jcm9zc09yaWdpbixcbiAgICAgICAgICAgIG1ldGFkYXRhOiByZXNvdXJjZS5tZXRhZGF0YS5pbWFnZU1ldGFkYXRhLFxuICAgICAgICAgICAgcGFyZW50UmVzb3VyY2U6IHJlc291cmNlLFxuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHJlc291cmNlUGF0aCA9IFNwcml0ZXNoZWV0TG9hZGVyLmdldFJlc291cmNlUGF0aChyZXNvdXJjZSwgbG9hZGVyLmJhc2VVcmwpO1xuXG4gICAgICAgIC8vIGxvYWQgdGhlIGltYWdlIGZvciB0aGlzIHNoZWV0XG4gICAgICAgIGxvYWRlci5hZGQoaW1hZ2VSZXNvdXJjZU5hbWUsIHJlc291cmNlUGF0aCwgbG9hZE9wdGlvbnMsIGZ1bmN0aW9uIG9uSW1hZ2VMb2FkKHJlczogSUxvYWRlclJlc291cmNlKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAocmVzLmVycm9yKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5leHQocmVzLmVycm9yKTtcblxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3Qgc3ByaXRlc2hlZXQgPSBuZXcgU3ByaXRlc2hlZXQoXG4gICAgICAgICAgICAgICAgcmVzLnRleHR1cmUsXG4gICAgICAgICAgICAgICAgcmVzb3VyY2UuZGF0YSxcbiAgICAgICAgICAgICAgICByZXNvdXJjZS51cmxcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIHNwcml0ZXNoZWV0LnBhcnNlKCgpID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmVzb3VyY2Uuc3ByaXRlc2hlZXQgPSBzcHJpdGVzaGVldDtcbiAgICAgICAgICAgICAgICByZXNvdXJjZS50ZXh0dXJlcyA9IHNwcml0ZXNoZWV0LnRleHR1cmVzO1xuICAgICAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHNwcml0ZXNoZWV0cyByb290IHBhdGhcbiAgICAgKiBAcGFyYW0ge1BJWEkuTG9hZGVyUmVzb3VyY2V9IHJlc291cmNlIC0gUmVzb3VyY2UgdG8gY2hlY2sgcGF0aFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBiYXNlVXJsIC0gQmFzZSByb290IHVybFxuICAgICAqL1xuICAgIHN0YXRpYyBnZXRSZXNvdXJjZVBhdGgocmVzb3VyY2U6IElMb2FkZXJSZXNvdXJjZSwgYmFzZVVybDogc3RyaW5nKTogc3RyaW5nXG4gICAge1xuICAgICAgICAvLyBQcmVwZW5kIHVybCBwYXRoIHVubGVzcyB0aGUgcmVzb3VyY2UgaW1hZ2UgaXMgYSBkYXRhIHVybFxuICAgICAgICBpZiAocmVzb3VyY2UuaXNEYXRhVXJsKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gcmVzb3VyY2UuZGF0YS5tZXRhLmltYWdlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHVybC5yZXNvbHZlKHJlc291cmNlLnVybC5yZXBsYWNlKGJhc2VVcmwsICcnKSwgcmVzb3VyY2UuZGF0YS5tZXRhLmltYWdlKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBUZXh0dXJlLCBUZXh0dXJlTWF0cml4IH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBQb2ludCwgUmVjdGFuZ2xlLCBUcmFuc2Zvcm0gIH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyBTcHJpdGUgfSBmcm9tICdAcGl4aS9zcHJpdGUnO1xuaW1wb3J0IHsgZGVwcmVjYXRpb24gfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgdHlwZSB7IFJlbmRlcmVyLCBJQmFzZVRleHR1cmVPcHRpb25zLCBUZXh0dXJlU291cmNlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgdHlwZSB7IElEZXN0cm95T3B0aW9ucyB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuaW1wb3J0IHR5cGUgeyBJUG9pbnQsIElQb2ludERhdGEsIElTaXplLCBPYnNlcnZhYmxlUG9pbnQgfSBmcm9tICdAcGl4aS9tYXRoJztcblxuY29uc3QgdGVtcFBvaW50ID0gbmV3IFBvaW50KCk7XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZW1wdHktaW50ZXJmYWNlXG5leHBvcnQgaW50ZXJmYWNlIFRpbGluZ1Nwcml0ZSBleHRlbmRzIEdsb2JhbE1peGlucy5UaWxpbmdTcHJpdGUge31cblxuLyoqXG4gKiBBIHRpbGluZyBzcHJpdGUgaXMgYSBmYXN0IHdheSBvZiByZW5kZXJpbmcgYSB0aWxpbmcgaW1hZ2VcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3ByaXRlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgY2xhc3MgVGlsaW5nU3ByaXRlIGV4dGVuZHMgU3ByaXRlXG57XG4gICAgcHVibGljIHRpbGVUcmFuc2Zvcm06IFRyYW5zZm9ybTtcbiAgICBwdWJsaWMgdXZNYXRyaXg6IFRleHR1cmVNYXRyaXg7XG4gICAgcHVibGljIHV2UmVzcGVjdEFuY2hvcjogYm9vbGVhbjtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gdGhlIHRleHR1cmUgb2YgdGhlIHRpbGluZyBzcHJpdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3dpZHRoPTEwMF0gLSB0aGUgd2lkdGggb2YgdGhlIHRpbGluZyBzcHJpdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2hlaWdodD0xMDBdIC0gdGhlIGhlaWdodCBvZiB0aGUgdGlsaW5nIHNwcml0ZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHRleHR1cmU6IFRleHR1cmUsIHdpZHRoID0gMTAwLCBoZWlnaHQgPSAxMDApXG4gICAge1xuICAgICAgICBzdXBlcih0ZXh0dXJlKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGlsZSB0cmFuc2Zvcm1cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UcmFuc2Zvcm19XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRpbGVUcmFuc2Zvcm0gPSBuZXcgVHJhbnNmb3JtKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aXRoIG9mIHRoZSB0aWxpbmcgc3ByaXRlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3dpZHRoID0gd2lkdGg7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIHRpbGluZyBzcHJpdGVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5faGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBtYXRyaXggdGhhdCBpcyBhcHBsaWVkIHRvIFVWIHRvIGdldCB0aGUgY29vcmRzIGluIFRleHR1cmUgbm9ybWFsaXplZCBzcGFjZSB0byBjb29yZHMgaW4gQmFzZVRleHR1cmUgc3BhY2VcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlTWF0cml4fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51dk1hdHJpeCA9IHRoaXMudGV4dHVyZS51dk1hdHJpeCB8fCBuZXcgVGV4dHVyZU1hdHJpeCh0ZXh0dXJlKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUGx1Z2luIHRoYXQgaXMgcmVzcG9uc2libGUgZm9yIHJlbmRlcmluZyB0aGlzIGVsZW1lbnQuXG4gICAgICAgICAqIEFsbG93cyB0byBjdXN0b21pemUgdGhlIHJlbmRlcmluZyBwcm9jZXNzIHdpdGhvdXQgb3ZlcnJpZGluZyAnX3JlbmRlcicgbWV0aG9kLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqIEBkZWZhdWx0ICd0aWxpbmdTcHJpdGUnXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBsdWdpbk5hbWUgPSAndGlsaW5nU3ByaXRlJztcblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciBvciBub3QgYW5jaG9yIGFmZmVjdHMgdXZzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnV2UmVzcGVjdEFuY2hvciA9IGZhbHNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIGZyYW1lIGNsYW1waW5nIGluIGNvcnJlc3BvbmRpbmcgdGV4dHVyZVRyYW5zZm9ybSwgc2hvcnRjdXRcbiAgICAgKiBDaGFuZ2UgdG8gLTAuNSB0byBhZGQgYSBwaXhlbCB0byB0aGUgZWRnZSwgcmVjb21tZW5kZWQgZm9yIHRyYW5zcGFyZW50IHRyaW1tZWQgdGV4dHVyZXMgaW4gYXRsYXNcbiAgICAgKlxuICAgICAqIEBkZWZhdWx0IDAuNVxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgY2xhbXBNYXJnaW4oKTogbnVtYmVyXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy51dk1hdHJpeC5jbGFtcE1hcmdpbjtcbiAgICB9XG5cbiAgICBzZXQgY2xhbXBNYXJnaW4odmFsdWU6IG51bWJlcilcbiAgICB7XG4gICAgICAgIHRoaXMudXZNYXRyaXguY2xhbXBNYXJnaW4gPSB2YWx1ZTtcbiAgICAgICAgdGhpcy51dk1hdHJpeC51cGRhdGUodHJ1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIHNjYWxpbmcgb2YgdGhlIGltYWdlIHRoYXQgaXMgYmVpbmcgdGlsZWRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAqL1xuICAgIGdldCB0aWxlU2NhbGUoKTogT2JzZXJ2YWJsZVBvaW50XG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy50aWxlVHJhbnNmb3JtLnNjYWxlO1xuICAgIH1cblxuICAgIHNldCB0aWxlU2NhbGUodmFsdWU6IE9ic2VydmFibGVQb2ludClcbiAgICB7XG4gICAgICAgIHRoaXMudGlsZVRyYW5zZm9ybS5zY2FsZS5jb3B5RnJvbSh2YWx1ZSBhcyBJUG9pbnQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBvZmZzZXQgb2YgdGhlIGltYWdlIHRoYXQgaXMgYmVpbmcgdGlsZWRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAqL1xuICAgIGdldCB0aWxlUG9zaXRpb24oKTogT2JzZXJ2YWJsZVBvaW50XG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy50aWxlVHJhbnNmb3JtLnBvc2l0aW9uO1xuICAgIH1cblxuICAgIHNldCB0aWxlUG9zaXRpb24odmFsdWU6IE9ic2VydmFibGVQb2ludClcbiAgICB7XG4gICAgICAgIHRoaXMudGlsZVRyYW5zZm9ybS5wb3NpdGlvbi5jb3B5RnJvbSh2YWx1ZSBhcyBJUG9pbnQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgX29uVGV4dHVyZVVwZGF0ZSgpOiB2b2lkXG4gICAge1xuICAgICAgICBpZiAodGhpcy51dk1hdHJpeClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy51dk1hdHJpeC50ZXh0dXJlID0gdGhpcy5fdGV4dHVyZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9jYWNoZWRUaW50ID0gMHhGRkZGRkY7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgb2JqZWN0IHVzaW5nIHRoZSBXZWJHTCByZW5kZXJlclxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgX3JlbmRlcihyZW5kZXJlcjogUmVuZGVyZXIpOiB2b2lkXG4gICAge1xuICAgICAgICAvLyB0d2VhayBvdXIgdGV4dHVyZSB0ZW1wb3JhcmlseS4uXG4gICAgICAgIGNvbnN0IHRleHR1cmUgPSB0aGlzLl90ZXh0dXJlO1xuXG4gICAgICAgIGlmICghdGV4dHVyZSB8fCAhdGV4dHVyZS52YWxpZClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy50aWxlVHJhbnNmb3JtLnVwZGF0ZUxvY2FsVHJhbnNmb3JtKCk7XG4gICAgICAgIHRoaXMudXZNYXRyaXgudXBkYXRlKCk7XG5cbiAgICAgICAgcmVuZGVyZXIuYmF0Y2guc2V0T2JqZWN0UmVuZGVyZXIocmVuZGVyZXIucGx1Z2luc1t0aGlzLnBsdWdpbk5hbWVdKTtcbiAgICAgICAgcmVuZGVyZXIucGx1Z2luc1t0aGlzLnBsdWdpbk5hbWVdLnJlbmRlcih0aGlzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBib3VuZHMgb2YgdGhlIHRpbGluZyBzcHJpdGUuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgcHJvdGVjdGVkIF9jYWxjdWxhdGVCb3VuZHMoKTogdm9pZFxuICAgIHtcbiAgICAgICAgY29uc3QgbWluWCA9IHRoaXMuX3dpZHRoICogLXRoaXMuX2FuY2hvci5feDtcbiAgICAgICAgY29uc3QgbWluWSA9IHRoaXMuX2hlaWdodCAqIC10aGlzLl9hbmNob3IuX3k7XG4gICAgICAgIGNvbnN0IG1heFggPSB0aGlzLl93aWR0aCAqICgxIC0gdGhpcy5fYW5jaG9yLl94KTtcbiAgICAgICAgY29uc3QgbWF4WSA9IHRoaXMuX2hlaWdodCAqICgxIC0gdGhpcy5fYW5jaG9yLl95KTtcblxuICAgICAgICB0aGlzLl9ib3VuZHMuYWRkRnJhbWUodGhpcy50cmFuc2Zvcm0sIG1pblgsIG1pblksIG1heFgsIG1heFkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGxvY2FsIGJvdW5kcyBvZiB0aGUgc3ByaXRlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IHJlY3QgLSBUaGUgb3V0cHV0IHJlY3RhbmdsZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gVGhlIGJvdW5kcy5cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0TG9jYWxCb3VuZHMocmVjdDogUmVjdGFuZ2xlKTogUmVjdGFuZ2xlXG4gICAge1xuICAgICAgICAvLyB3ZSBjYW4gZG8gYSBmYXN0IGxvY2FsIGJvdW5kcyBpZiB0aGUgc3ByaXRlIGhhcyBubyBjaGlsZHJlbiFcbiAgICAgICAgaWYgKHRoaXMuY2hpbGRyZW4ubGVuZ3RoID09PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMubWluWCA9IHRoaXMuX3dpZHRoICogLXRoaXMuX2FuY2hvci5feDtcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5taW5ZID0gdGhpcy5faGVpZ2h0ICogLXRoaXMuX2FuY2hvci5feTtcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5tYXhYID0gdGhpcy5fd2lkdGggKiAoMSAtIHRoaXMuX2FuY2hvci5feCk7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMubWF4WSA9IHRoaXMuX2hlaWdodCAqICgxIC0gdGhpcy5fYW5jaG9yLl95KTtcblxuICAgICAgICAgICAgaWYgKCFyZWN0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fbG9jYWxCb3VuZHNSZWN0KVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbG9jYWxCb3VuZHNSZWN0ID0gbmV3IFJlY3RhbmdsZSgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJlY3QgPSB0aGlzLl9sb2NhbEJvdW5kc1JlY3Q7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9ib3VuZHMuZ2V0UmVjdGFuZ2xlKHJlY3QpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHN1cGVyLmdldExvY2FsQm91bmRzLmNhbGwodGhpcywgcmVjdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGEgcG9pbnQgaXMgaW5zaWRlIHRoaXMgdGlsaW5nIHNwcml0ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5JUG9pbnREYXRhfSBwb2ludCAtIHRoZSBwb2ludCB0byBjaGVja1xuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgb3Igbm90IHRoZSBzcHJpdGUgY29udGFpbnMgdGhlIHBvaW50LlxuICAgICAqL1xuICAgIHB1YmxpYyBjb250YWluc1BvaW50KHBvaW50OiBJUG9pbnREYXRhKTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgdGhpcy53b3JsZFRyYW5zZm9ybS5hcHBseUludmVyc2UocG9pbnQsIHRlbXBQb2ludCk7XG5cbiAgICAgICAgY29uc3Qgd2lkdGggPSB0aGlzLl93aWR0aDtcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gdGhpcy5faGVpZ2h0O1xuICAgICAgICBjb25zdCB4MSA9IC13aWR0aCAqIHRoaXMuYW5jaG9yLl94O1xuXG4gICAgICAgIGlmICh0ZW1wUG9pbnQueCA+PSB4MSAmJiB0ZW1wUG9pbnQueCA8IHgxICsgd2lkdGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHkxID0gLWhlaWdodCAqIHRoaXMuYW5jaG9yLl95O1xuXG4gICAgICAgICAgICBpZiAodGVtcFBvaW50LnkgPj0geTEgJiYgdGVtcFBvaW50LnkgPCB5MSArIGhlaWdodClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIHNwcml0ZSBhbmQgb3B0aW9uYWxseSBpdHMgdGV4dHVyZSBhbmQgY2hpbGRyZW5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fGJvb2xlYW59IFtvcHRpb25zXSAtIE9wdGlvbnMgcGFyYW1ldGVyLiBBIGJvb2xlYW4gd2lsbCBhY3QgYXMgaWYgYWxsIG9wdGlvbnNcbiAgICAgKiAgaGF2ZSBiZWVuIHNldCB0byB0aGF0IHZhbHVlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jaGlsZHJlbj1mYWxzZV0gLSBpZiBzZXQgdG8gdHJ1ZSwgYWxsIHRoZSBjaGlsZHJlbiB3aWxsIGhhdmUgdGhlaXIgZGVzdHJveVxuICAgICAqICAgICAgbWV0aG9kIGNhbGxlZCBhcyB3ZWxsLiAnb3B0aW9ucycgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhvc2UgY2FsbHMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50ZXh0dXJlPWZhbHNlXSAtIFNob3VsZCBpdCBkZXN0cm95IHRoZSBjdXJyZW50IHRleHR1cmUgb2YgdGhlIHNwcml0ZSBhcyB3ZWxsXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5iYXNlVGV4dHVyZT1mYWxzZV0gLSBTaG91bGQgaXQgZGVzdHJveSB0aGUgYmFzZSB0ZXh0dXJlIG9mIHRoZSBzcHJpdGUgYXMgd2VsbFxuICAgICAqL1xuICAgIHB1YmxpYyBkZXN0cm95KG9wdGlvbnM6IElEZXN0cm95T3B0aW9uc3xib29sZWFuKTogdm9pZFxuICAgIHtcbiAgICAgICAgc3VwZXIuZGVzdHJveShvcHRpb25zKTtcblxuICAgICAgICB0aGlzLnRpbGVUcmFuc2Zvcm0gPSBudWxsO1xuICAgICAgICB0aGlzLnV2TWF0cml4ID0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIGEgbmV3IHRpbGluZyBzcHJpdGUgYmFzZWQgb24gdGhlIHNvdXJjZSB5b3UgcHJvdmlkZS5cbiAgICAgKiBUaGUgc291cmNlIGNhbiBiZSAtIGZyYW1lIGlkLCBpbWFnZSB1cmwsIHZpZGVvIHVybCwgY2FudmFzIGVsZW1lbnQsIHZpZGVvIGVsZW1lbnQsIGJhc2UgdGV4dHVyZVxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfFBJWEkuVGV4dHVyZXxIVE1MQ2FudmFzRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fSBzb3VyY2UgLSBTb3VyY2UgdG8gY3JlYXRlIHRleHR1cmUgZnJvbVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gU2VlIHtAbGluayBQSVhJLkJhc2VUZXh0dXJlfSdzIGNvbnN0cnVjdG9yIGZvciBvcHRpb25zLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvcHRpb25zLndpZHRoIC0gcmVxdWlyZWQgd2lkdGggb2YgdGhlIHRpbGluZyBzcHJpdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb3B0aW9ucy5oZWlnaHQgLSByZXF1aXJlZCBoZWlnaHQgb2YgdGhlIHRpbGluZyBzcHJpdGVcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRpbGluZ1Nwcml0ZX0gVGhlIG5ld2x5IGNyZWF0ZWQgdGV4dHVyZVxuICAgICAqL1xuICAgIHN0YXRpYyBmcm9tKHNvdXJjZTogVGV4dHVyZVNvdXJjZSwgb3B0aW9uczogSVNpemUgJiBJQmFzZVRleHR1cmVPcHRpb25zKTogVGlsaW5nU3ByaXRlXG4gICAge1xuICAgICAgICAvLyBEZXByZWNhdGVkXG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ251bWJlcicpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKCc1LjMuMCcsICdUaWxpbmdTcHJpdGUuZnJvbSB1c2Ugb3B0aW9ucyBpbnN0ZWFkIG9mIHdpZHRoIGFuZCBoZWlnaHQgYXJncycpO1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1yZXN0LXBhcmFtc1xuICAgICAgICAgICAgb3B0aW9ucyA9IHsgd2lkdGg6IG9wdGlvbnMsIGhlaWdodDogYXJndW1lbnRzWzJdIH0gYXMgSVNpemU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IFRpbGluZ1Nwcml0ZShcbiAgICAgICAgICAgIFRleHR1cmUuZnJvbShzb3VyY2UsIG9wdGlvbnMpLFxuICAgICAgICAgICAgb3B0aW9ucy53aWR0aCxcbiAgICAgICAgICAgIG9wdGlvbnMuaGVpZ2h0XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIHdpZHRoIG9mIHRoZSBzcHJpdGUsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgc2NhbGUgdG8gYWNoaWV2ZSB0aGUgdmFsdWUgc2V0XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IHdpZHRoKCk6IG51bWJlclxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3dpZHRoO1xuICAgIH1cblxuICAgIHNldCB3aWR0aCh2YWx1ZTogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgdGhpcy5fd2lkdGggPSB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBUaWxpbmdTcHJpdGUsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgc2NhbGUgdG8gYWNoaWV2ZSB0aGUgdmFsdWUgc2V0XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IGhlaWdodCgpOiBudW1iZXJcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9oZWlnaHQ7XG4gICAgfVxuXG4gICAgc2V0IGhlaWdodCh2YWx1ZTogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgdGhpcy5faGVpZ2h0ID0gdmFsdWU7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgT2JqZWN0UmVuZGVyZXIsIFNoYWRlciwgU3RhdGUsIFF1YWRVdiB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgV1JBUF9NT0RFUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBNYXRyaXggfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB7IHByZW11bHRpcGx5VGludFRvUmdiYSwgY29ycmVjdEJsZW5kTW9kZSB9IGZyb20gJ0BwaXhpL3V0aWxzJztcblxuaW1wb3J0IHZlcnRleCBmcm9tICcuL3RpbGluZ1Nwcml0ZS52ZXJ0JztcbmltcG9ydCBmcmFnbWVudCBmcm9tICcuL3RpbGluZ1Nwcml0ZS5mcmFnJztcbmltcG9ydCBmcmFnbWVudFNpbXBsZSBmcm9tICcuL3RpbGluZ1Nwcml0ZV9zaW1wbGUuZnJhZyc7XG5cbmltcG9ydCB0eXBlIHsgUmVuZGVyZXIgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB0eXBlIHsgVGlsaW5nU3ByaXRlIH0gZnJvbSAnLi9UaWxpbmdTcHJpdGUnO1xuXG5jb25zdCB0ZW1wTWF0ID0gbmV3IE1hdHJpeCgpO1xuXG4vKipcbiAqIFdlYkdMIHJlbmRlcmVyIHBsdWdpbiBmb3IgdGlsaW5nIHNwcml0ZXNcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZXh0ZW5kcyBQSVhJLk9iamVjdFJlbmRlcmVyXG4gKi9cbmV4cG9ydCBjbGFzcyBUaWxpbmdTcHJpdGVSZW5kZXJlciBleHRlbmRzIE9iamVjdFJlbmRlcmVyXG57XG4gICAgcHVibGljIHNoYWRlcjogU2hhZGVyO1xuICAgIHB1YmxpYyBzaW1wbGVTaGFkZXI6IFNoYWRlcjtcbiAgICBwdWJsaWMgcXVhZDogUXVhZFV2O1xuICAgIHB1YmxpYyByZWFkb25seSBzdGF0ZTogU3RhdGU7XG5cbiAgICAvKipcbiAgICAgKiBjb25zdHJ1Y3RvciBmb3IgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyB0aWxpbmcgYXdlc29tZW5lc3Mgd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHJlbmRlcmVyOiBSZW5kZXJlcilcbiAgICB7XG4gICAgICAgIHN1cGVyKHJlbmRlcmVyKTtcblxuICAgICAgICBjb25zdCB1bmlmb3JtcyA9IHsgZ2xvYmFsczogdGhpcy5yZW5kZXJlci5nbG9iYWxVbmlmb3JtcyB9O1xuXG4gICAgICAgIHRoaXMuc2hhZGVyID0gU2hhZGVyLmZyb20odmVydGV4LCBmcmFnbWVudCwgdW5pZm9ybXMpO1xuXG4gICAgICAgIHRoaXMuc2ltcGxlU2hhZGVyID0gU2hhZGVyLmZyb20odmVydGV4LCBmcmFnbWVudFNpbXBsZSwgdW5pZm9ybXMpO1xuXG4gICAgICAgIHRoaXMucXVhZCA9IG5ldyBRdWFkVXYoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFdlYkdMIHN0YXRlIGluIHdoaWNoIHRoaXMgcmVuZGVyZXIgd2lsbCB3b3JrLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlN0YXRlfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5mb3IyZCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlRpbGluZ1Nwcml0ZX0gdHMgLSB0aWxpbmdTcHJpdGUgdG8gYmUgcmVuZGVyZWRcbiAgICAgKi9cbiAgICBwdWJsaWMgcmVuZGVyKHRzOiBUaWxpbmdTcHJpdGUpOiB2b2lkXG4gICAge1xuICAgICAgICBjb25zdCByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG4gICAgICAgIGNvbnN0IHF1YWQgPSB0aGlzLnF1YWQ7XG5cbiAgICAgICAgbGV0IHZlcnRpY2VzID0gcXVhZC52ZXJ0aWNlcztcblxuICAgICAgICB2ZXJ0aWNlc1swXSA9IHZlcnRpY2VzWzZdID0gKHRzLl93aWR0aCkgKiAtdHMuYW5jaG9yLng7XG4gICAgICAgIHZlcnRpY2VzWzFdID0gdmVydGljZXNbM10gPSB0cy5faGVpZ2h0ICogLXRzLmFuY2hvci55O1xuXG4gICAgICAgIHZlcnRpY2VzWzJdID0gdmVydGljZXNbNF0gPSAodHMuX3dpZHRoKSAqICgxLjAgLSB0cy5hbmNob3IueCk7XG4gICAgICAgIHZlcnRpY2VzWzVdID0gdmVydGljZXNbN10gPSB0cy5faGVpZ2h0ICogKDEuMCAtIHRzLmFuY2hvci55KTtcblxuICAgICAgICBpZiAodHMudXZSZXNwZWN0QW5jaG9yKVxuICAgICAgICB7XG4gICAgICAgICAgICB2ZXJ0aWNlcyA9IHF1YWQudXZzO1xuXG4gICAgICAgICAgICB2ZXJ0aWNlc1swXSA9IHZlcnRpY2VzWzZdID0gLXRzLmFuY2hvci54O1xuICAgICAgICAgICAgdmVydGljZXNbMV0gPSB2ZXJ0aWNlc1szXSA9IC10cy5hbmNob3IueTtcblxuICAgICAgICAgICAgdmVydGljZXNbMl0gPSB2ZXJ0aWNlc1s0XSA9IDEuMCAtIHRzLmFuY2hvci54O1xuICAgICAgICAgICAgdmVydGljZXNbNV0gPSB2ZXJ0aWNlc1s3XSA9IDEuMCAtIHRzLmFuY2hvci55O1xuICAgICAgICB9XG5cbiAgICAgICAgcXVhZC5pbnZhbGlkYXRlKCk7XG5cbiAgICAgICAgY29uc3QgdGV4ID0gdHMuX3RleHR1cmU7XG4gICAgICAgIGNvbnN0IGJhc2VUZXggPSB0ZXguYmFzZVRleHR1cmU7XG4gICAgICAgIGNvbnN0IGx0ID0gdHMudGlsZVRyYW5zZm9ybS5sb2NhbFRyYW5zZm9ybTtcbiAgICAgICAgY29uc3QgdXYgPSB0cy51dk1hdHJpeDtcbiAgICAgICAgbGV0IGlzU2ltcGxlID0gYmFzZVRleC5pc1Bvd2VyT2ZUd29cbiAgICAgICAgICAgICYmIHRleC5mcmFtZS53aWR0aCA9PT0gYmFzZVRleC53aWR0aCAmJiB0ZXguZnJhbWUuaGVpZ2h0ID09PSBiYXNlVGV4LmhlaWdodDtcblxuICAgICAgICAvLyBhdXRvLCBmb3JjZSByZXBlYXQgd3JhcE1vZGUgZm9yIGJpZyB0aWxpbmcgdGV4dHVyZXNcbiAgICAgICAgaWYgKGlzU2ltcGxlKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIWJhc2VUZXguX2dsVGV4dHVyZXNbcmVuZGVyZXIuQ09OVEVYVF9VSURdKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChiYXNlVGV4LndyYXBNb2RlID09PSBXUkFQX01PREVTLkNMQU1QKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgYmFzZVRleC53cmFwTW9kZSA9IFdSQVBfTU9ERVMuUkVQRUFUO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpc1NpbXBsZSA9IGJhc2VUZXgud3JhcE1vZGUgIT09IFdSQVBfTU9ERVMuQ0xBTVA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzaGFkZXIgPSBpc1NpbXBsZSA/IHRoaXMuc2ltcGxlU2hhZGVyIDogdGhpcy5zaGFkZXI7XG5cbiAgICAgICAgY29uc3QgdyA9IHRleC53aWR0aDtcbiAgICAgICAgY29uc3QgaCA9IHRleC5oZWlnaHQ7XG4gICAgICAgIGNvbnN0IFcgPSB0cy5fd2lkdGg7XG4gICAgICAgIGNvbnN0IEggPSB0cy5faGVpZ2h0O1xuXG4gICAgICAgIHRlbXBNYXQuc2V0KGx0LmEgKiB3IC8gVyxcbiAgICAgICAgICAgIGx0LmIgKiB3IC8gSCxcbiAgICAgICAgICAgIGx0LmMgKiBoIC8gVyxcbiAgICAgICAgICAgIGx0LmQgKiBoIC8gSCxcbiAgICAgICAgICAgIGx0LnR4IC8gVyxcbiAgICAgICAgICAgIGx0LnR5IC8gSCk7XG5cbiAgICAgICAgLy8gdGhhdCBwYXJ0IGlzIHRoZSBzYW1lIGFzIGFib3ZlOlxuICAgICAgICAvLyB0ZW1wTWF0LmlkZW50aXR5KCk7XG4gICAgICAgIC8vIHRlbXBNYXQuc2NhbGUodGV4LndpZHRoLCB0ZXguaGVpZ2h0KTtcbiAgICAgICAgLy8gdGVtcE1hdC5wcmVwZW5kKGx0KTtcbiAgICAgICAgLy8gdGVtcE1hdC5zY2FsZSgxLjAgLyB0cy5fd2lkdGgsIDEuMCAvIHRzLl9oZWlnaHQpO1xuXG4gICAgICAgIHRlbXBNYXQuaW52ZXJ0KCk7XG4gICAgICAgIGlmIChpc1NpbXBsZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGVtcE1hdC5wcmVwZW5kKHV2Lm1hcENvb3JkKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHNoYWRlci51bmlmb3Jtcy51TWFwQ29vcmQgPSB1di5tYXBDb29yZC50b0FycmF5KHRydWUpO1xuICAgICAgICAgICAgc2hhZGVyLnVuaWZvcm1zLnVDbGFtcEZyYW1lID0gdXYudUNsYW1wRnJhbWU7XG4gICAgICAgICAgICBzaGFkZXIudW5pZm9ybXMudUNsYW1wT2Zmc2V0ID0gdXYudUNsYW1wT2Zmc2V0O1xuICAgICAgICB9XG5cbiAgICAgICAgc2hhZGVyLnVuaWZvcm1zLnVUcmFuc2Zvcm0gPSB0ZW1wTWF0LnRvQXJyYXkodHJ1ZSk7XG4gICAgICAgIHNoYWRlci51bmlmb3Jtcy51Q29sb3IgPSBwcmVtdWx0aXBseVRpbnRUb1JnYmEodHMudGludCwgdHMud29ybGRBbHBoYSxcbiAgICAgICAgICAgIHNoYWRlci51bmlmb3Jtcy51Q29sb3IsIGJhc2VUZXguYWxwaGFNb2RlIGFzIGFueSk7XG4gICAgICAgIHNoYWRlci51bmlmb3Jtcy50cmFuc2xhdGlvbk1hdHJpeCA9IHRzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybS50b0FycmF5KHRydWUpO1xuICAgICAgICBzaGFkZXIudW5pZm9ybXMudVNhbXBsZXIgPSB0ZXg7XG5cbiAgICAgICAgcmVuZGVyZXIuc2hhZGVyLmJpbmQoc2hhZGVyKTtcbiAgICAgICAgcmVuZGVyZXIuZ2VvbWV0cnkuYmluZChxdWFkKTtcblxuICAgICAgICB0aGlzLnN0YXRlLmJsZW5kTW9kZSA9IGNvcnJlY3RCbGVuZE1vZGUodHMuYmxlbmRNb2RlLCBiYXNlVGV4LmFscGhhTW9kZSBhcyBhbnkpO1xuICAgICAgICByZW5kZXJlci5zdGF0ZS5zZXQodGhpcy5zdGF0ZSk7XG4gICAgICAgIHJlbmRlcmVyLmdlb21ldHJ5LmRyYXcodGhpcy5yZW5kZXJlci5nbC5UUklBTkdMRVMsIDYsIDApO1xuICAgIH1cbn1cbiIsImltcG9ydCB0eXBlIHsgVGV4dHVyZU1hdHJpeCwgQnVmZmVyIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5cbi8qKlxuICogQ2xhc3MgY29udHJvbHMgY2FjaGUgZm9yIFVWIG1hcHBpbmcgZnJvbSBUZXh0dXJlIG5vcm1hbCBzcGFjZSB0byBCYXNlVGV4dHVyZSBub3JtYWwgc3BhY2UuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgY2xhc3MgTWVzaEJhdGNoVXZzXG57XG4gICAgcHVibGljIHJlYWRvbmx5IGRhdGE6IEZsb2F0MzJBcnJheTtcbiAgICBwdWJsaWMgdXZCdWZmZXI6IEJ1ZmZlcjtcbiAgICBwdWJsaWMgdXZNYXRyaXg6IFRleHR1cmVNYXRyaXg7XG5cbiAgICBwcml2YXRlIF9idWZmZXJVcGRhdGVJZDogbnVtYmVyO1xuICAgIHByaXZhdGUgX3RleHR1cmVVcGRhdGVJZDogbnVtYmVyO1xuXG4gICAgLy8gSW50ZXJuYWwtb25seSBwcm9wZXJ0aWVzXG4gICAgX3VwZGF0ZUlEOiBudW1iZXI7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuQnVmZmVyfSB1dkJ1ZmZlciAtIEJ1ZmZlciB3aXRoIG5vcm1hbGl6ZWQgdXYnc1xuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlTWF0cml4fSB1dk1hdHJpeCAtIE1hdGVyaWFsIFVWIG1hdHJpeFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHV2QnVmZmVyOiBCdWZmZXIsIHV2TWF0cml4OiBUZXh0dXJlTWF0cml4KVxuICAgIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJ1ZmZlciB3aXRoIG5vcm1hbGl6ZWQgVVYnc1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJ1ZmZlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudXZCdWZmZXIgPSB1dkJ1ZmZlcjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTWF0ZXJpYWwgVVYgbWF0cml4XG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZU1hdHJpeH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudXZNYXRyaXggPSB1dk1hdHJpeDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVVYgQnVmZmVyIGRhdGFcbiAgICAgICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGF0YSA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5fYnVmZmVyVXBkYXRlSWQgPSAtMTtcblxuICAgICAgICB0aGlzLl90ZXh0dXJlVXBkYXRlSWQgPSAtMTtcblxuICAgICAgICB0aGlzLl91cGRhdGVJRCA9IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogdXBkYXRlc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZm9yY2VVcGRhdGVdIC0gZm9yY2UgdGhlIHVwZGF0ZVxuICAgICAqL1xuICAgIHB1YmxpYyB1cGRhdGUoZm9yY2VVcGRhdGU/OiBib29sZWFuKTogdm9pZFxuICAgIHtcbiAgICAgICAgaWYgKCFmb3JjZVVwZGF0ZVxuICAgICAgICAgICAgJiYgdGhpcy5fYnVmZmVyVXBkYXRlSWQgPT09IHRoaXMudXZCdWZmZXIuX3VwZGF0ZUlEXG4gICAgICAgICAgICAmJiB0aGlzLl90ZXh0dXJlVXBkYXRlSWQgPT09IHRoaXMudXZNYXRyaXguX3VwZGF0ZUlEXG4gICAgICAgIClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fYnVmZmVyVXBkYXRlSWQgPSB0aGlzLnV2QnVmZmVyLl91cGRhdGVJRDtcbiAgICAgICAgdGhpcy5fdGV4dHVyZVVwZGF0ZUlkID0gdGhpcy51dk1hdHJpeC5fdXBkYXRlSUQ7XG5cbiAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMudXZCdWZmZXIuZGF0YSBhcyBGbG9hdDMyQXJyYXk7XG5cbiAgICAgICAgaWYgKCF0aGlzLmRhdGEgfHwgdGhpcy5kYXRhLmxlbmd0aCAhPT0gZGF0YS5sZW5ndGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgICh0aGlzLmRhdGEgYXMgYW55KSA9IG5ldyBGbG9hdDMyQXJyYXkoZGF0YS5sZW5ndGgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy51dk1hdHJpeC5tdWx0aXBseVV2cyhkYXRhLCB0aGlzLmRhdGEpO1xuXG4gICAgICAgIHRoaXMuX3VwZGF0ZUlEKys7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgU3RhdGUgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IFBvaW50LCBQb2x5Z29uIH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyBCTEVORF9NT0RFUywgRFJBV19NT0RFUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBDb250YWluZXIgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcbmltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuaW1wb3J0IHsgTWVzaEJhdGNoVXZzIH0gZnJvbSAnLi9NZXNoQmF0Y2hVdnMnO1xuaW1wb3J0IHsgTWVzaE1hdGVyaWFsIH0gZnJvbSAnLi9NZXNoTWF0ZXJpYWwnO1xuXG5pbXBvcnQgdHlwZSB7IElEZXN0cm95T3B0aW9ucyB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuaW1wb3J0IHR5cGUgeyBUZXh0dXJlLCBSZW5kZXJlciwgR2VvbWV0cnksIEJ1ZmZlciB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHR5cGUgeyBJUG9pbnREYXRhIH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5cbmNvbnN0IHRlbXBQb2ludCA9IG5ldyBQb2ludCgpO1xuY29uc3QgdGVtcFBvbHlnb24gPSBuZXcgUG9seWdvbigpO1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWVtcHR5LWludGVyZmFjZVxuZXhwb3J0IGludGVyZmFjZSBNZXNoIGV4dGVuZHMgR2xvYmFsTWl4aW5zLk1lc2gge31cblxuLyoqXG4gKiBCYXNlIG1lc2ggY2xhc3MuXG4gKlxuICogVGhpcyBjbGFzcyBlbXBvd2VycyB5b3UgdG8gaGF2ZSBtYXhpbXVtIGZsZXhpYmlsaXR5IHRvIHJlbmRlciBhbnkga2luZCBvZiBXZWJHTCB2aXN1YWxzIHlvdSBjYW4gdGhpbmsgb2YuXG4gKiBUaGlzIGNsYXNzIGFzc3VtZXMgYSBjZXJ0YWluIGxldmVsIG9mIFdlYkdMIGtub3dsZWRnZS5cbiAqIElmIHlvdSBrbm93IGEgYml0IHRoaXMgc2hvdWxkIGFic3RyYWN0IGVub3VnaCBhd2F5IHRvIG1ha2UgeW91IGxpZmUgZWFzaWVyIVxuICpcbiAqIFByZXR0eSBtdWNoIEFMTCBXZWJHTCBjYW4gYmUgYnJva2VuIGRvd24gaW50byB0aGUgZm9sbG93aW5nOlxuICogLSBHZW9tZXRyeSAtIFRoZSBzdHJ1Y3R1cmUgYW5kIGRhdGEgZm9yIHRoZSBtZXNoLiBUaGlzIGNhbiBpbmNsdWRlIGFueXRoaW5nIGZyb20gcG9zaXRpb25zLCB1dnMsIG5vcm1hbHMsIGNvbG9ycyBldGMuLlxuICogLSBTaGFkZXIgLSBUaGlzIGlzIHRoZSBzaGFkZXIgdGhhdCBQaXhpSlMgd2lsbCByZW5kZXIgdGhlIGdlb21ldHJ5IHdpdGggKGF0dHJpYnV0ZXMgaW4gdGhlIHNoYWRlciBtdXN0IG1hdGNoIHRoZSBnZW9tZXRyeSlcbiAqIC0gU3RhdGUgLSBUaGlzIGlzIHRoZSBzdGF0ZSBvZiBXZWJHTCByZXF1aXJlZCB0byByZW5kZXIgdGhlIG1lc2guXG4gKlxuICogVGhyb3VnaCBhIGNvbWJpbmF0aW9uIG9mIHRoZSBhYm92ZSBlbGVtZW50cyB5b3UgY2FuIHJlbmRlciBhbnl0aGluZyB5b3Ugd2FudCwgMkQgb3IgM0QhXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkNvbnRhaW5lclxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGNsYXNzIE1lc2ggZXh0ZW5kcyBDb250YWluZXJcbntcbiAgICBwdWJsaWMgcmVhZG9ubHkgZ2VvbWV0cnk6IEdlb21ldHJ5O1xuICAgIHB1YmxpYyBzaGFkZXI6IE1lc2hNYXRlcmlhbDtcbiAgICBwdWJsaWMgc3RhdGU6IFN0YXRlO1xuICAgIHB1YmxpYyBkcmF3TW9kZTogRFJBV19NT0RFUztcbiAgICBwdWJsaWMgc3RhcnQ6IG51bWJlcjtcbiAgICBwdWJsaWMgc2l6ZTogbnVtYmVyO1xuXG4gICAgcHJpdmF0ZSB2ZXJ0ZXhEYXRhOiBGbG9hdDMyQXJyYXk7XG4gICAgcHJpdmF0ZSB2ZXJ0ZXhEaXJ0eTogbnVtYmVyO1xuICAgIHByaXZhdGUgX3RyYW5zZm9ybUlEOiBudW1iZXI7XG4gICAgcHJpdmF0ZSBfcm91bmRQaXhlbHM6IGJvb2xlYW47XG4gICAgcHJpdmF0ZSBiYXRjaFV2czogTWVzaEJhdGNoVXZzO1xuXG4gICAgLy8gSW50ZXJuYWwtb25seSBwcm9wZXJ0aWVzXG4gICAgdXZzOiBGbG9hdDMyQXJyYXk7XG4gICAgaW5kaWNlczogVWludDE2QXJyYXk7XG4gICAgX3RpbnRSR0I6IG51bWJlcjtcbiAgICBfdGV4dHVyZTogVGV4dHVyZTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5HZW9tZXRyeX0gZ2VvbWV0cnkgLSB0aGUgZ2VvbWV0cnkgdGhlIG1lc2ggd2lsbCB1c2VcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWVzaE1hdGVyaWFsfSBzaGFkZXIgLSB0aGUgc2hhZGVyIHRoZSBtZXNoIHdpbGwgdXNlXG4gICAgICogQHBhcmFtIHtQSVhJLlN0YXRlfSBbc3RhdGVdIC0gdGhlIHN0YXRlIHRoYXQgdGhlIFdlYkdMIGNvbnRleHQgaXMgcmVxdWlyZWQgdG8gYmUgaW4gdG8gcmVuZGVyIHRoZSBtZXNoXG4gICAgICogICAgICAgIGlmIG5vIHN0YXRlIGlzIHByb3ZpZGVkLCB1c2VzIHtAbGluayBQSVhJLlN0YXRlLmZvcjJkfSB0byBjcmVhdGUgYSAyRCBzdGF0ZSBmb3IgUGl4aUpTLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZHJhd01vZGU9UElYSS5EUkFXX01PREVTLlRSSUFOR0xFU10gLSB0aGUgZHJhd01vZGUsIGNhbiBiZSBhbnkgb2YgdGhlIFBJWEkuRFJBV19NT0RFUyBjb25zdHNcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihnZW9tZXRyeTogR2VvbWV0cnksIHNoYWRlcjogTWVzaE1hdGVyaWFsLCBzdGF0ZT86IFN0YXRlLCBkcmF3TW9kZSA9IERSQVdfTU9ERVMuVFJJQU5HTEVTKVxuICAgIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW5jbHVkZXMgdmVydGV4IHBvc2l0aW9ucywgZmFjZSBpbmRpY2VzLCBub3JtYWxzLCBjb2xvcnMsIFVWcywgYW5kXG4gICAgICAgICAqIGN1c3RvbSBhdHRyaWJ1dGVzIHdpdGhpbiBidWZmZXJzLCByZWR1Y2luZyB0aGUgY29zdCBvZiBwYXNzaW5nIGFsbFxuICAgICAgICAgKiB0aGlzIGRhdGEgdG8gdGhlIEdQVS4gQ2FuIGJlIHNoYXJlZCBiZXR3ZWVuIG11bHRpcGxlIE1lc2ggb2JqZWN0cy5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5HZW9tZXRyeX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmdlb21ldHJ5ID0gZ2VvbWV0cnk7XG5cbiAgICAgICAgZ2VvbWV0cnkucmVmQ291bnQrKztcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVwcmVzZW50cyB0aGUgdmVydGV4IGFuZCBmcmFnbWVudCBzaGFkZXJzIHRoYXQgcHJvY2Vzc2VzIHRoZSBnZW9tZXRyeSBhbmQgcnVucyBvbiB0aGUgR1BVLlxuICAgICAgICAgKiBDYW4gYmUgc2hhcmVkIGJldHdlZW4gbXVsdGlwbGUgTWVzaCBvYmplY3RzLlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlNoYWRlcnxQSVhJLk1lc2hNYXRlcmlhbH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2hhZGVyID0gc2hhZGVyO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXByZXNlbnRzIHRoZSBXZWJHTCBzdGF0ZSB0aGUgTWVzaCByZXF1aXJlZCB0byByZW5kZXIsIGV4Y2x1ZGVzIHNoYWRlciBhbmQgZ2VvbWV0cnkuIEUuZy4sXG4gICAgICAgICAqIGJsZW5kIG1vZGUsIGN1bGxpbmcsIGRlcHRoIHRlc3RpbmcsIGRpcmVjdGlvbiBvZiByZW5kZXJpbmcgdHJpYW5nbGVzLCBiYWNrZmFjZSwgZXRjLlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlN0YXRlfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdGF0ZSA9IHN0YXRlIHx8IFN0YXRlLmZvcjJkKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3YXkgdGhlIE1lc2ggc2hvdWxkIGJlIGRyYXduLCBjYW4gYmUgYW55IG9mIHRoZSB7QGxpbmsgUElYSS5EUkFXX01PREVTfSBjb25zdGFudHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHNlZSBQSVhJLkRSQVdfTU9ERVNcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZHJhd01vZGUgPSBkcmF3TW9kZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVHlwaWNhbGx5IHRoZSBpbmRleCBvZiB0aGUgSW5kZXhCdWZmZXIgd2hlcmUgdG8gc3RhcnQgZHJhd2luZy5cbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0YXJ0ID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSG93IG11Y2ggb2YgdGhlIGdlb21ldHJ5IHRvIGRyYXcsIGJ5IGRlZmF1bHQgYDBgIHJlbmRlcnMgZXZlcnl0aGluZy5cbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNpemUgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiB0aGVhc2UgYXJlIHVzZWQgYXMgZWFzeSBhY2Nlc3MgZm9yIGJhdGNoaW5nXG4gICAgICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudXZzID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogdGhlYXNlIGFyZSB1c2VkIGFzIGVhc3kgYWNjZXNzIGZvciBiYXRjaGluZ1xuICAgICAgICAgKiBAbWVtYmVyIHtVaW50MTZBcnJheX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaW5kaWNlcyA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHRoaXMgaXMgdGhlIGNhY2hpbmcgbGF5ZXIgdXNlZCBieSB0aGUgYmF0Y2hlclxuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnZlcnRleERhdGEgPSBuZXcgRmxvYXQzMkFycmF5KDEpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBnZW9tZXRyeSBpcyBjaGFuZ2VkIHVzZWQgdG8gZGVjaWRlIHRvIHJlLXRyYW5zZm9ybVxuICAgICAgICAgKiB0aGUgdmVydGV4RGF0YS5cbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy52ZXJ0ZXhEaXJ0eSA9IDA7XG5cbiAgICAgICAgdGhpcy5fdHJhbnNmb3JtSUQgPSAtMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJuYWwgcm91bmRQaXhlbHMgZmllbGRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3JvdW5kUGl4ZWxzID0gc2V0dGluZ3MuUk9VTkRfUElYRUxTO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCYXRjaGVkIFVWJ3MgYXJlIGNhY2hlZCBmb3IgYXRsYXMgdGV4dHVyZXNcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5NZXNoQmF0Y2hVdnN9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmJhdGNoVXZzID0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUbyBjaGFuZ2UgbWVzaCB1didzLCBjaGFuZ2UgaXRzIHV2QnVmZmVyIGRhdGEgYW5kIGluY3JlbWVudCBpdHMgX3VwZGF0ZUlELlxuICAgICAqIEBtZW1iZXIge1BJWEkuQnVmZmVyfVxuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuICAgIGdldCB1dkJ1ZmZlcigpOiBCdWZmZXJcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmdlb21ldHJ5LmJ1ZmZlcnNbMV07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVG8gY2hhbmdlIG1lc2ggdmVydGljZXMsIGNoYW5nZSBpdHMgdXZCdWZmZXIgZGF0YSBhbmQgaW5jcmVtZW50IGl0cyBfdXBkYXRlSUQuXG4gICAgICogSW5jcmVtZW50aW5nIF91cGRhdGVJRCBpcyBvcHRpb25hbCBiZWNhdXNlIG1vc3Qgb2YgTWVzaCBvYmplY3RzIGRvIGl0IGFueXdheS5cbiAgICAgKiBAbWVtYmVyIHtQSVhJLkJ1ZmZlcn1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICBnZXQgdmVydGljZXNCdWZmZXIoKTogQnVmZmVyXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5nZW9tZXRyeS5idWZmZXJzWzBdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFsaWFzIGZvciB7QGxpbmsgUElYSS5NZXNoI3NoYWRlcn0uXG4gICAgICogQG1lbWJlciB7UElYSS5NZXNoTWF0ZXJpYWx9XG4gICAgICovXG4gICAgc2V0IG1hdGVyaWFsKHZhbHVlOiBNZXNoTWF0ZXJpYWwpXG4gICAge1xuICAgICAgICB0aGlzLnNoYWRlciA9IHZhbHVlO1xuICAgIH1cblxuICAgIGdldCBtYXRlcmlhbCgpOiBNZXNoTWF0ZXJpYWxcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnNoYWRlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmxlbmQgbW9kZSB0byBiZSBhcHBsaWVkIHRvIHRoZSBNZXNoLiBBcHBseSBhIHZhbHVlIG9mXG4gICAgICogYFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMYCB0byByZXNldCB0aGUgYmxlbmQgbW9kZS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCBQSVhJLkJMRU5EX01PREVTLk5PUk1BTDtcbiAgICAgKiBAc2VlIFBJWEkuQkxFTkRfTU9ERVNcbiAgICAgKi9cbiAgICBzZXQgYmxlbmRNb2RlKHZhbHVlOiBCTEVORF9NT0RFUylcbiAgICB7XG4gICAgICAgIHRoaXMuc3RhdGUuYmxlbmRNb2RlID0gdmFsdWU7XG4gICAgfVxuXG4gICAgZ2V0IGJsZW5kTW9kZSgpOiBCTEVORF9NT0RFU1xuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGUuYmxlbmRNb2RlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIElmIHRydWUgUGl4aUpTIHdpbGwgTWF0aC5mbG9vcigpIHgveSB2YWx1ZXMgd2hlbiByZW5kZXJpbmcsIHN0b3BwaW5nIHBpeGVsIGludGVycG9sYXRpb24uXG4gICAgICogQWR2YW50YWdlcyBjYW4gaW5jbHVkZSBzaGFycGVyIGltYWdlIHF1YWxpdHkgKGxpa2UgdGV4dCkgYW5kIGZhc3RlciByZW5kZXJpbmcgb24gY2FudmFzLlxuICAgICAqIFRoZSBtYWluIGRpc2FkdmFudGFnZSBpcyBtb3ZlbWVudCBvZiBvYmplY3RzIG1heSBhcHBlYXIgbGVzcyBzbW9vdGguXG4gICAgICogVG8gc2V0IHRoZSBnbG9iYWwgZGVmYXVsdCwgY2hhbmdlIHtAbGluayBQSVhJLnNldHRpbmdzLlJPVU5EX1BJWEVMU31cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKi9cbiAgICBzZXQgcm91bmRQaXhlbHModmFsdWU6IGJvb2xlYW4pXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fcm91bmRQaXhlbHMgIT09IHZhbHVlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl90cmFuc2Zvcm1JRCA9IC0xO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3JvdW5kUGl4ZWxzID0gdmFsdWU7XG4gICAgfVxuXG4gICAgZ2V0IHJvdW5kUGl4ZWxzKCk6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yb3VuZFBpeGVscztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbXVsdGlwbHkgdGludCBhcHBsaWVkIHRvIHRoZSBNZXNoLiBUaGlzIGlzIGEgaGV4IHZhbHVlLiBBIHZhbHVlIG9mXG4gICAgICogYDB4RkZGRkZGYCB3aWxsIHJlbW92ZSBhbnkgdGludCBlZmZlY3QuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMHhGRkZGRkZcbiAgICAgKi9cbiAgICBnZXQgdGludCgpOiBudW1iZXJcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnNoYWRlci50aW50O1xuICAgIH1cblxuICAgIHNldCB0aW50KHZhbHVlOiBudW1iZXIpXG4gICAge1xuICAgICAgICB0aGlzLnNoYWRlci50aW50ID0gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIHRleHR1cmUgdGhhdCB0aGUgTWVzaCB1c2VzLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlfVxuICAgICAqL1xuICAgIGdldCB0ZXh0dXJlKCk6IFRleHR1cmVcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnNoYWRlci50ZXh0dXJlO1xuICAgIH1cblxuICAgIHNldCB0ZXh0dXJlKHZhbHVlOiBUZXh0dXJlKVxuICAgIHtcbiAgICAgICAgdGhpcy5zaGFkZXIudGV4dHVyZSA9IHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFN0YW5kYXJkIHJlbmRlcmVyIGRyYXcuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBJbnN0YW5jZSB0byByZW5kZXJlci5cbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgX3JlbmRlcihyZW5kZXJlcjogUmVuZGVyZXIpOiB2b2lkXG4gICAge1xuICAgICAgICAvLyBzZXQgcHJvcGVydGllcyBmb3IgYmF0Y2hpbmcuLlxuICAgICAgICAvLyBUT0RPIGNvdWxkIHVzZSBhIGRpZmZlcmVudCB3YXkgdG8gZ3JhYiB2ZXJ0cz9cbiAgICAgICAgY29uc3QgdmVydGljZXMgPSB0aGlzLmdlb21ldHJ5LmJ1ZmZlcnNbMF0uZGF0YTtcblxuICAgICAgICAvLyBUT0RPIGJlbmNobWFyayBjaGVjayBmb3IgYXR0cmlidXRlIHNpemUuLlxuICAgICAgICBpZiAoXG4gICAgICAgICAgICB0aGlzLnNoYWRlci5iYXRjaGFibGVcbiAgICAgICAgICAgICYmIHRoaXMuZHJhd01vZGUgPT09IERSQVdfTU9ERVMuVFJJQU5HTEVTXG4gICAgICAgICAgICAmJiB2ZXJ0aWNlcy5sZW5ndGggPCBNZXNoLkJBVENIQUJMRV9TSVpFICogMlxuICAgICAgICApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlclRvQmF0Y2gocmVuZGVyZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fcmVuZGVyRGVmYXVsdChyZW5kZXJlcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTdGFuZGFyZCBub24tYmF0Y2hpbmcgd2F5IG9mIHJlbmRlcmluZy5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIEluc3RhbmNlIHRvIHJlbmRlcmVyLlxuICAgICAqL1xuICAgIHByb3RlY3RlZCBfcmVuZGVyRGVmYXVsdChyZW5kZXJlcjogUmVuZGVyZXIpOiB2b2lkXG4gICAge1xuICAgICAgICBjb25zdCBzaGFkZXIgPSB0aGlzLnNoYWRlcjtcblxuICAgICAgICBzaGFkZXIuYWxwaGEgPSB0aGlzLndvcmxkQWxwaGE7XG4gICAgICAgIGlmIChzaGFkZXIudXBkYXRlKVxuICAgICAgICB7XG4gICAgICAgICAgICBzaGFkZXIudXBkYXRlKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZW5kZXJlci5iYXRjaC5mbHVzaCgpO1xuXG4gICAgICAgIGlmIChzaGFkZXIucHJvZ3JhbS51bmlmb3JtRGF0YS50cmFuc2xhdGlvbk1hdHJpeClcbiAgICAgICAge1xuICAgICAgICAgICAgc2hhZGVyLnVuaWZvcm1zLnRyYW5zbGF0aW9uTWF0cml4ID0gdGhpcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm0udG9BcnJheSh0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGJpbmQgYW5kIHN5bmMgdW5pZm9ybXMuLlxuICAgICAgICByZW5kZXJlci5zaGFkZXIuYmluZChzaGFkZXIpO1xuXG4gICAgICAgIC8vIHNldCBzdGF0ZS4uXG4gICAgICAgIHJlbmRlcmVyLnN0YXRlLnNldCh0aGlzLnN0YXRlKTtcblxuICAgICAgICAvLyBiaW5kIHRoZSBnZW9tZXRyeS4uLlxuICAgICAgICByZW5kZXJlci5nZW9tZXRyeS5iaW5kKHRoaXMuZ2VvbWV0cnksIHNoYWRlcik7XG5cbiAgICAgICAgLy8gdGhlbiByZW5kZXIgaXRcbiAgICAgICAgcmVuZGVyZXIuZ2VvbWV0cnkuZHJhdyh0aGlzLmRyYXdNb2RlLCB0aGlzLnNpemUsIHRoaXMuc3RhcnQsIHRoaXMuZ2VvbWV0cnkuaW5zdGFuY2VDb3VudCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVyaW5nIGJ5IHVzaW5nIHRoZSBCYXRjaCBzeXN0ZW0uXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBJbnN0YW5jZSB0byByZW5kZXJlci5cbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgX3JlbmRlclRvQmF0Y2gocmVuZGVyZXI6IFJlbmRlcmVyKTogdm9pZFxuICAgIHtcbiAgICAgICAgY29uc3QgZ2VvbWV0cnkgPSB0aGlzLmdlb21ldHJ5O1xuXG4gICAgICAgIGlmICh0aGlzLnNoYWRlci51dk1hdHJpeClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5zaGFkZXIudXZNYXRyaXgudXBkYXRlKCk7XG4gICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZVV2cygpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2V0IHByb3BlcnRpZXMgZm9yIGJhdGNoaW5nLi5cbiAgICAgICAgdGhpcy5jYWxjdWxhdGVWZXJ0aWNlcygpO1xuICAgICAgICB0aGlzLmluZGljZXMgPSBnZW9tZXRyeS5pbmRleEJ1ZmZlci5kYXRhIGFzIFVpbnQxNkFycmF5O1xuICAgICAgICB0aGlzLl90aW50UkdCID0gdGhpcy5zaGFkZXIuX3RpbnRSR0I7XG4gICAgICAgIHRoaXMuX3RleHR1cmUgPSB0aGlzLnNoYWRlci50ZXh0dXJlO1xuXG4gICAgICAgIGNvbnN0IHBsdWdpbk5hbWUgPSB0aGlzLm1hdGVyaWFsLnBsdWdpbk5hbWU7XG5cbiAgICAgICAgcmVuZGVyZXIuYmF0Y2guc2V0T2JqZWN0UmVuZGVyZXIocmVuZGVyZXIucGx1Z2luc1twbHVnaW5OYW1lXSk7XG4gICAgICAgIHJlbmRlcmVyLnBsdWdpbnNbcGx1Z2luTmFtZV0ucmVuZGVyKHRoaXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdmVydGV4RGF0YSBmaWVsZCBiYXNlZCBvbiB0cmFuc2Zvcm0gYW5kIHZlcnRpY2VzXG4gICAgICovXG4gICAgcHVibGljIGNhbGN1bGF0ZVZlcnRpY2VzKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIGNvbnN0IGdlb21ldHJ5ID0gdGhpcy5nZW9tZXRyeTtcbiAgICAgICAgY29uc3QgdmVydGljZXMgPSBnZW9tZXRyeS5idWZmZXJzWzBdLmRhdGE7XG5cbiAgICAgICAgaWYgKChnZW9tZXRyeSBhcyBhbnkpLnZlcnRleERpcnR5SWQgPT09IHRoaXMudmVydGV4RGlydHkgJiYgdGhpcy5fdHJhbnNmb3JtSUQgPT09IHRoaXMudHJhbnNmb3JtLl93b3JsZElEKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl90cmFuc2Zvcm1JRCA9IHRoaXMudHJhbnNmb3JtLl93b3JsZElEO1xuXG4gICAgICAgIGlmICh0aGlzLnZlcnRleERhdGEubGVuZ3RoICE9PSB2ZXJ0aWNlcy5sZW5ndGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudmVydGV4RGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkodmVydGljZXMubGVuZ3RoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHd0ID0gdGhpcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgICAgIGNvbnN0IGEgPSB3dC5hO1xuICAgICAgICBjb25zdCBiID0gd3QuYjtcbiAgICAgICAgY29uc3QgYyA9IHd0LmM7XG4gICAgICAgIGNvbnN0IGQgPSB3dC5kO1xuICAgICAgICBjb25zdCB0eCA9IHd0LnR4O1xuICAgICAgICBjb25zdCB0eSA9IHd0LnR5O1xuXG4gICAgICAgIGNvbnN0IHZlcnRleERhdGEgPSB0aGlzLnZlcnRleERhdGE7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2ZXJ0ZXhEYXRhLmxlbmd0aCAvIDI7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgeCA9IHZlcnRpY2VzWyhpICogMildO1xuICAgICAgICAgICAgY29uc3QgeSA9IHZlcnRpY2VzWyhpICogMikgKyAxXTtcblxuICAgICAgICAgICAgdmVydGV4RGF0YVsoaSAqIDIpXSA9IChhICogeCkgKyAoYyAqIHkpICsgdHg7XG4gICAgICAgICAgICB2ZXJ0ZXhEYXRhWyhpICogMikgKyAxXSA9IChiICogeCkgKyAoZCAqIHkpICsgdHk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fcm91bmRQaXhlbHMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHJlc29sdXRpb24gPSBzZXR0aW5ncy5SRVNPTFVUSU9OO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZlcnRleERhdGEubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmVydGV4RGF0YVtpXSA9IE1hdGgucm91bmQoKHZlcnRleERhdGFbaV0gKiByZXNvbHV0aW9uIHwgMCkgLyByZXNvbHV0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudmVydGV4RGlydHkgPSAoZ2VvbWV0cnkgYXMgYW55KS52ZXJ0ZXhEaXJ0eUlkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdXYgZmllbGQgYmFzZWQgb24gZnJvbSBnZW9tZXRyeSB1didzIG9yIGJhdGNoVXZzXG4gICAgICovXG4gICAgcHVibGljIGNhbGN1bGF0ZVV2cygpOiB2b2lkXG4gICAge1xuICAgICAgICBjb25zdCBnZW9tVXZzID0gdGhpcy5nZW9tZXRyeS5idWZmZXJzWzFdO1xuXG4gICAgICAgIGlmICghdGhpcy5zaGFkZXIudXZNYXRyaXguaXNTaW1wbGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5iYXRjaFV2cylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJhdGNoVXZzID0gbmV3IE1lc2hCYXRjaFV2cyhnZW9tVXZzLCB0aGlzLnNoYWRlci51dk1hdHJpeCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmJhdGNoVXZzLnVwZGF0ZSgpO1xuICAgICAgICAgICAgdGhpcy51dnMgPSB0aGlzLmJhdGNoVXZzLmRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnV2cyA9IGdlb21VdnMuZGF0YSBhcyBGbG9hdDMyQXJyYXk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBib3VuZHMgb2YgdGhlIG1lc2ggYXMgYSByZWN0YW5nbGUuIFRoZSBib3VuZHMgY2FsY3VsYXRpb24gdGFrZXMgdGhlIHdvcmxkVHJhbnNmb3JtIGludG8gYWNjb3VudC5cbiAgICAgKiB0aGVyZSBtdXN0IGJlIGEgYVZlcnRleFBvc2l0aW9uIGF0dHJpYnV0ZSBwcmVzZW50IGluIHRoZSBnZW9tZXRyeSBmb3IgYm91bmRzIHRvIGJlIGNhbGN1bGF0ZWQgY29ycmVjdGx5LlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIHByb3RlY3RlZCBfY2FsY3VsYXRlQm91bmRzKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHRoaXMuY2FsY3VsYXRlVmVydGljZXMoKTtcblxuICAgICAgICB0aGlzLl9ib3VuZHMuYWRkVmVydGV4RGF0YSh0aGlzLnZlcnRleERhdGEsIDAsIHRoaXMudmVydGV4RGF0YS5sZW5ndGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRlc3RzIGlmIGEgcG9pbnQgaXMgaW5zaWRlIHRoaXMgbWVzaC4gV29ya3Mgb25seSBmb3IgUElYSS5EUkFXX01PREVTLlRSSUFOR0xFUy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5JUG9pbnREYXRhfSBwb2ludCAtIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gdGhlIHJlc3VsdCBvZiB0aGUgdGVzdFxuICAgICAqL1xuICAgIHB1YmxpYyBjb250YWluc1BvaW50KHBvaW50OiBJUG9pbnREYXRhKTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLmdldEJvdW5kcygpLmNvbnRhaW5zKHBvaW50LngsIHBvaW50LnkpKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLndvcmxkVHJhbnNmb3JtLmFwcGx5SW52ZXJzZShwb2ludCwgdGVtcFBvaW50KTtcblxuICAgICAgICBjb25zdCB2ZXJ0aWNlcyA9IHRoaXMuZ2VvbWV0cnkuZ2V0QnVmZmVyKCdhVmVydGV4UG9zaXRpb24nKS5kYXRhO1xuXG4gICAgICAgIGNvbnN0IHBvaW50cyA9IHRlbXBQb2x5Z29uLnBvaW50cztcbiAgICAgICAgY29uc3QgaW5kaWNlcyA9ICB0aGlzLmdlb21ldHJ5LmdldEluZGV4KCkuZGF0YTtcbiAgICAgICAgY29uc3QgbGVuID0gaW5kaWNlcy5sZW5ndGg7XG4gICAgICAgIGNvbnN0IHN0ZXAgPSB0aGlzLmRyYXdNb2RlID09PSA0ID8gMyA6IDE7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgKyAyIDwgbGVuOyBpICs9IHN0ZXApXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGluZDAgPSBpbmRpY2VzW2ldICogMjtcbiAgICAgICAgICAgIGNvbnN0IGluZDEgPSBpbmRpY2VzW2kgKyAxXSAqIDI7XG4gICAgICAgICAgICBjb25zdCBpbmQyID0gaW5kaWNlc1tpICsgMl0gKiAyO1xuXG4gICAgICAgICAgICBwb2ludHNbMF0gPSB2ZXJ0aWNlc1tpbmQwXTtcbiAgICAgICAgICAgIHBvaW50c1sxXSA9IHZlcnRpY2VzW2luZDAgKyAxXTtcbiAgICAgICAgICAgIHBvaW50c1syXSA9IHZlcnRpY2VzW2luZDFdO1xuICAgICAgICAgICAgcG9pbnRzWzNdID0gdmVydGljZXNbaW5kMSArIDFdO1xuICAgICAgICAgICAgcG9pbnRzWzRdID0gdmVydGljZXNbaW5kMl07XG4gICAgICAgICAgICBwb2ludHNbNV0gPSB2ZXJ0aWNlc1tpbmQyICsgMV07XG5cbiAgICAgICAgICAgIGlmICh0ZW1wUG9seWdvbi5jb250YWlucyh0ZW1wUG9pbnQueCwgdGVtcFBvaW50LnkpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgTWVzaCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdHxib29sZWFufSBbb3B0aW9uc10gLSBPcHRpb25zIHBhcmFtZXRlci4gQSBib29sZWFuIHdpbGwgYWN0IGFzIGlmIGFsbFxuICAgICAqICBvcHRpb25zIGhhdmUgYmVlbiBzZXQgdG8gdGhhdCB2YWx1ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2hpbGRyZW49ZmFsc2VdIC0gaWYgc2V0IHRvIHRydWUsIGFsbCB0aGUgY2hpbGRyZW4gd2lsbCBoYXZlXG4gICAgICogIHRoZWlyIGRlc3Ryb3kgbWV0aG9kIGNhbGxlZCBhcyB3ZWxsLiAnb3B0aW9ucycgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhvc2UgY2FsbHMuXG4gICAgICovXG4gICAgcHVibGljIGRlc3Ryb3kob3B0aW9uczogSURlc3Ryb3lPcHRpb25zfGJvb2xlYW4pOiB2b2lkXG4gICAge1xuICAgICAgICBzdXBlci5kZXN0cm95KG9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMuZ2VvbWV0cnkucmVmQ291bnQtLTtcbiAgICAgICAgaWYgKHRoaXMuZ2VvbWV0cnkucmVmQ291bnQgPT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZ2VvbWV0cnkuZGlzcG9zZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgKHRoaXMgYXMgYW55KS5nZW9tZXRyeSA9IG51bGw7XG4gICAgICAgIHRoaXMuc2hhZGVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IG51bGw7XG4gICAgICAgIHRoaXMudXZzID0gbnVsbDtcbiAgICAgICAgdGhpcy5pbmRpY2VzID0gbnVsbDtcbiAgICAgICAgdGhpcy52ZXJ0ZXhEYXRhID0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbWF4aW11bSBudW1iZXIgb2YgdmVydGljZXMgdG8gY29uc2lkZXIgYmF0Y2hhYmxlLiBHZW5lcmFsbHksIHRoZSBjb21wbGV4aXR5XG4gICAgICogb2YgdGhlIGdlb21ldHJ5LlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLk1lc2hcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlciB7bnVtYmVyfSBCQVRDSEFCTEVfU0laRVxuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgQkFUQ0hBQkxFX1NJWkUgPSAxMDA7XG59XG5cbiIsImltcG9ydCB7IFByb2dyYW0sIFNoYWRlciwgVGV4dHVyZU1hdHJpeCB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgTWF0cml4IH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyBwcmVtdWx0aXBseVRpbnRUb1JnYmEgfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgZnJhZ21lbnQgZnJvbSAnLi9zaGFkZXIvbWVzaC5mcmFnJztcbmltcG9ydCB2ZXJ0ZXggZnJvbSAnLi9zaGFkZXIvbWVzaC52ZXJ0JztcblxuaW1wb3J0IHR5cGUgeyBUZXh0dXJlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgdHlwZSB7IERpY3QgfSBmcm9tICdAcGl4aS91dGlscyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSU1lc2hNYXRlcmlhbE9wdGlvbnMge1xuICAgIGFscGhhPzogbnVtYmVyO1xuICAgIHRpbnQ/OiBudW1iZXI7XG4gICAgcGx1Z2luTmFtZT86IHN0cmluZztcbiAgICBwcm9ncmFtPzogUHJvZ3JhbTtcbiAgICB1bmlmb3Jtcz86IERpY3Q8dW5rbm93bj47XG59XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZW1wdHktaW50ZXJmYWNlXG5leHBvcnQgaW50ZXJmYWNlIE1lc2hNYXRlcmlhbCBleHRlbmRzIEdsb2JhbE1peGlucy5NZXNoTWF0ZXJpYWwge31cblxuLyoqXG4gKiBTbGlnaHRseSBvcGluaW9uYXRlZCBkZWZhdWx0IHNoYWRlciBmb3IgUGl4aUpTIDJEIG9iamVjdHMuXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZXh0ZW5kcyBQSVhJLlNoYWRlclxuICovXG5leHBvcnQgY2xhc3MgTWVzaE1hdGVyaWFsIGV4dGVuZHMgU2hhZGVyXG57XG4gICAgcHVibGljIHJlYWRvbmx5IHV2TWF0cml4OiBUZXh0dXJlTWF0cml4O1xuXG4gICAgcHVibGljIGJhdGNoYWJsZTogYm9vbGVhbjtcbiAgICBwdWJsaWMgcGx1Z2luTmFtZTogc3RyaW5nO1xuXG4gICAgLy8gSW50ZXJuYWwtb25seSBwcm9wZXJ0aWVzXG4gICAgX3RpbnRSR0I6IG51bWJlcjtcblxuICAgIHByaXZhdGUgX2NvbG9yRGlydHk6IGJvb2xlYW47XG4gICAgcHJpdmF0ZSBfYWxwaGE6IG51bWJlcjtcbiAgICBwcml2YXRlIF90aW50OiBudW1iZXI7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gdVNhbXBsZXIgLSBUZXh0dXJlIHRoYXQgbWF0ZXJpYWwgdXNlcyB0byByZW5kZXIuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIEFkZGl0aW9uYWwgb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5hbHBoYT0xXSAtIERlZmF1bHQgYWxwaGEuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnRpbnQ9MHhGRkZGRkZdIC0gRGVmYXVsdCB0aW50LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5wbHVnaW5OYW1lPSdiYXRjaCddIC0gUmVuZGVyZXIgcGx1Z2luIGZvciBiYXRjaGluZy5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUHJvZ3JhbX0gW29wdGlvbnMucHJvZ3JhbT0weEZGRkZGRl0gLSBDdXN0b20gcHJvZ3JhbS5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnMudW5pZm9ybXNdIC0gQ3VzdG9tIHVuaWZvcm1zLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHVTYW1wbGVyOiBUZXh0dXJlLCBvcHRpb25zPzogSU1lc2hNYXRlcmlhbE9wdGlvbnMpXG4gICAge1xuICAgICAgICBjb25zdCB1bmlmb3JtcyA9IHtcbiAgICAgICAgICAgIHVTYW1wbGVyLFxuICAgICAgICAgICAgYWxwaGE6IDEsXG4gICAgICAgICAgICB1VGV4dHVyZU1hdHJpeDogTWF0cml4LklERU5USVRZLFxuICAgICAgICAgICAgdUNvbG9yOiBuZXcgRmxvYXQzMkFycmF5KFsxLCAxLCAxLCAxXSksXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gU2V0IGRlZmF1bHRzXG4gICAgICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIHRpbnQ6IDB4RkZGRkZGLFxuICAgICAgICAgICAgYWxwaGE6IDEsXG4gICAgICAgICAgICBwbHVnaW5OYW1lOiAnYmF0Y2gnLFxuICAgICAgICB9LCBvcHRpb25zKTtcblxuICAgICAgICBpZiAob3B0aW9ucy51bmlmb3JtcylcbiAgICAgICAge1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih1bmlmb3Jtcywgb3B0aW9ucy51bmlmb3Jtcyk7XG4gICAgICAgIH1cblxuICAgICAgICBzdXBlcihvcHRpb25zLnByb2dyYW0gfHwgUHJvZ3JhbS5mcm9tKHZlcnRleCwgZnJhZ21lbnQpLCB1bmlmb3Jtcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE9ubHkgZG8gdXBkYXRlIGlmIHRpbnQgb3IgYWxwaGEgY2hhbmdlcy5cbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2NvbG9yRGlydHkgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGV4dHVyZU1hdHJpeCBpbnN0YW5jZSBmb3IgdGhpcyBNZXNoLCB1c2VkIHRvIHRyYWNrIFRleHR1cmUgY2hhbmdlc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmVNYXRyaXh9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51dk1hdHJpeCA9IG5ldyBUZXh0dXJlTWF0cml4KHVTYW1wbGVyKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogYHRydWVgIGlmIHNoYWRlciBjYW4gYmUgYmF0Y2ggd2l0aCB0aGUgcmVuZGVyZXIncyBiYXRjaCBzeXN0ZW0uXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYmF0Y2hhYmxlID0gb3B0aW9ucy5wcm9ncmFtID09PSB1bmRlZmluZWQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlbmRlcmVyIHBsdWdpbiBmb3IgYmF0Y2hpbmdcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAZGVmYXVsdCAnYmF0Y2gnXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBsdWdpbk5hbWUgPSBvcHRpb25zLnBsdWdpbk5hbWU7XG5cbiAgICAgICAgdGhpcy50aW50ID0gb3B0aW9ucy50aW50O1xuICAgICAgICB0aGlzLmFscGhhID0gb3B0aW9ucy5hbHBoYTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIHRleHR1cmUgYmVpbmcgcmVuZGVyZWQuXG4gICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlfVxuICAgICAqL1xuICAgIGdldCB0ZXh0dXJlKCk6IFRleHR1cmVcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnVuaWZvcm1zLnVTYW1wbGVyO1xuICAgIH1cbiAgICBzZXQgdGV4dHVyZSh2YWx1ZTogVGV4dHVyZSlcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnVuaWZvcm1zLnVTYW1wbGVyICE9PSB2YWx1ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy51U2FtcGxlciA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy51dk1hdHJpeC50ZXh0dXJlID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGdldHMgYXV0b21hdGljYWxseSBzZXQgYnkgdGhlIG9iamVjdCB1c2luZyB0aGlzLlxuICAgICAqXG4gICAgICogQGRlZmF1bHQgMVxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBzZXQgYWxwaGEodmFsdWU6IG51bWJlcilcbiAgICB7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdGhpcy5fYWxwaGEpIHJldHVybjtcblxuICAgICAgICB0aGlzLl9hbHBoYSA9IHZhbHVlO1xuICAgICAgICB0aGlzLl9jb2xvckRpcnR5ID0gdHJ1ZTtcbiAgICB9XG4gICAgZ2V0IGFscGhhKCk6IG51bWJlclxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FscGhhO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE11bHRpcGx5IHRpbnQgZm9yIHRoZSBtYXRlcmlhbC5cbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMHhGRkZGRkZcbiAgICAgKi9cbiAgICBzZXQgdGludCh2YWx1ZTogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgaWYgKHZhbHVlID09PSB0aGlzLl90aW50KSByZXR1cm47XG5cbiAgICAgICAgdGhpcy5fdGludCA9IHZhbHVlO1xuICAgICAgICB0aGlzLl90aW50UkdCID0gKHZhbHVlID4+IDE2KSArICh2YWx1ZSAmIDB4ZmYwMCkgKyAoKHZhbHVlICYgMHhmZikgPDwgMTYpO1xuICAgICAgICB0aGlzLl9jb2xvckRpcnR5ID0gdHJ1ZTtcbiAgICB9XG4gICAgZ2V0IHRpbnQoKTogbnVtYmVyXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGludDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGNhbGxlZCBhdXRvbWF0aWNhbGx5IGJ5IHRoZSBNZXNoLiBJbnRlbmRlZCB0byBiZSBvdmVycmlkZGVuIGZvciBjdXN0b21cbiAgICAgKiBNZXNoTWF0ZXJpYWwgb2JqZWN0cy5cbiAgICAgKi9cbiAgICBwdWJsaWMgdXBkYXRlKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9jb2xvckRpcnR5KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9jb2xvckRpcnR5ID0gZmFsc2U7XG4gICAgICAgICAgICBjb25zdCBiYXNlVGV4dHVyZSA9IHRoaXMudGV4dHVyZS5iYXNlVGV4dHVyZTtcblxuICAgICAgICAgICAgcHJlbXVsdGlwbHlUaW50VG9SZ2JhKFxuICAgICAgICAgICAgICAgIHRoaXMuX3RpbnQsIHRoaXMuX2FscGhhLCB0aGlzLnVuaWZvcm1zLnVDb2xvciwgKGJhc2VUZXh0dXJlLmFscGhhTW9kZSBhcyB1bmtub3duIGFzIGJvb2xlYW4pXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnV2TWF0cml4LnVwZGF0ZSgpKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnVUZXh0dXJlTWF0cml4ID0gdGhpcy51dk1hdHJpeC5tYXBDb29yZDtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7IFRZUEVTIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmltcG9ydCB7IEJ1ZmZlciwgR2VvbWV0cnkgfSBmcm9tICdAcGl4aS9jb3JlJztcblxuaW1wb3J0IHR5cGUgeyBJQXJyYXlCdWZmZXIgfSBmcm9tICdAcGl4aS9jb3JlJztcblxuLyoqXG4gKiBTdGFuZGFyZCAyRCBnZW9tZXRyeSB1c2VkIGluIFBpeGlKUy5cbiAqXG4gKiBHZW9tZXRyeSBjYW4gYmUgZGVmaW5lZCB3aXRob3V0IHBhc3NpbmcgaW4gYSBzdHlsZSBvciBkYXRhIGlmIHJlcXVpcmVkLlxuICpcbiAqIGBgYGpzXG4gKiBjb25zdCBnZW9tZXRyeSA9IG5ldyBQSVhJLkdlb21ldHJ5KCk7XG4gKlxuICogZ2VvbWV0cnkuYWRkQXR0cmlidXRlKCdwb3NpdGlvbnMnLCBbMCwgMCwgMTAwLCAwLCAxMDAsIDEwMCwgMCwgMTAwXSwgMik7XG4gKiBnZW9tZXRyeS5hZGRBdHRyaWJ1dGUoJ3V2cycsIFswLDAsMSwwLDEsMSwwLDFdLCAyKTtcbiAqIGdlb21ldHJ5LmFkZEluZGV4KFswLDEsMiwxLDMsMl0pO1xuICpcbiAqIGBgYFxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGV4dGVuZHMgUElYSS5HZW9tZXRyeVxuICovXG5leHBvcnQgY2xhc3MgTWVzaEdlb21ldHJ5IGV4dGVuZHMgR2VvbWV0cnlcbntcbiAgICAvLyBJbnRlcm5hbC1vbmx5IHByb3BlcnRpZXNcbiAgICBfdXBkYXRlSWQ6IG51bWJlcjtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fG51bWJlcltdfSBbdmVydGljZXNdIC0gUG9zaXRpb25hbCBkYXRhIG9uIGdlb21ldHJ5LlxuICAgICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fG51bWJlcltdfSBbdXZzXSAtIFRleHR1cmUgVVZzLlxuICAgICAqIEBwYXJhbSB7VWludDE2QXJyYXl8bnVtYmVyW119IFtpbmRleF0gLSBJbmRleEJ1ZmZlclxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHZlcnRpY2VzPzogSUFycmF5QnVmZmVyLCB1dnM/OiBJQXJyYXlCdWZmZXIsIGluZGV4PzogSUFycmF5QnVmZmVyKVxuICAgIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICBjb25zdCB2ZXJ0aWNlc0J1ZmZlciA9IG5ldyBCdWZmZXIodmVydGljZXMpO1xuICAgICAgICBjb25zdCB1dnNCdWZmZXIgPSBuZXcgQnVmZmVyKHV2cywgdHJ1ZSk7XG4gICAgICAgIGNvbnN0IGluZGV4QnVmZmVyID0gbmV3IEJ1ZmZlcihpbmRleCwgdHJ1ZSwgdHJ1ZSk7XG5cbiAgICAgICAgdGhpcy5hZGRBdHRyaWJ1dGUoJ2FWZXJ0ZXhQb3NpdGlvbicsIHZlcnRpY2VzQnVmZmVyLCAyLCBmYWxzZSwgVFlQRVMuRkxPQVQpXG4gICAgICAgICAgICAuYWRkQXR0cmlidXRlKCdhVGV4dHVyZUNvb3JkJywgdXZzQnVmZmVyLCAyLCBmYWxzZSwgVFlQRVMuRkxPQVQpXG4gICAgICAgICAgICAuYWRkSW5kZXgoaW5kZXhCdWZmZXIpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaXJ0eSBmbGFnIHRvIGxpbWl0IHVwZGF0ZSBjYWxscyBvbiBNZXNoLiBGb3IgZXhhbXBsZSxcbiAgICAgICAgICogbGltaXRpbmcgdXBkYXRlcyBvbiBhIHNpbmdsZSBNZXNoIGluc3RhbmNlIHdpdGggYSBzaGFyZWQgR2VvbWV0cnlcbiAgICAgICAgICogd2l0aGluIHRoZSByZW5kZXIgbG9vcC5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAtMVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdXBkYXRlSWQgPSAtMTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJZiB0aGUgdmVydGV4IHBvc2l0aW9uIGlzIHVwZGF0ZWQuXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgZ2V0IHZlcnRleERpcnR5SWQoKTogbnVtYmVyXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5idWZmZXJzWzBdLl91cGRhdGVJRDtcbiAgICB9XG59XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG5cbi8qKlxuICogTm9ybWFsaXplZCBwYXJzZWQgZGF0YSBmcm9tIC5mbnQgZmlsZXMuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgY2xhc3MgQml0bWFwRm9udERhdGFcbntcbiAgICBwdWJsaWMgaW5mbzogSUJpdG1hcEZvbnREYXRhSW5mb1tdO1xuICAgIHB1YmxpYyBjb21tb246IElCaXRtYXBGb250RGF0YUNvbW1vbltdO1xuICAgIHB1YmxpYyBwYWdlOiBJQml0bWFwRm9udERhdGFQYWdlW107XG4gICAgcHVibGljIGNoYXI6IElCaXRtYXBGb250RGF0YUNoYXJbXTtcbiAgICBwdWJsaWMga2VybmluZzogSUJpdG1hcEZvbnREYXRhS2VybmluZ1tdO1xuXG4gICAgY29uc3RydWN0b3IoKVxuICAgIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuSUJpdG1hcEZvbnREYXRhSW5mb1tdfVxuICAgICAgICAgKiBAcmVhZE9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaW5mbyA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLklCaXRtYXBGb250RGF0YUNvbW1vbltdfVxuICAgICAgICAgKiBAcmVhZE9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY29tbW9uID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuSUJpdG1hcEZvbnREYXRhUGFnZVtdfVxuICAgICAgICAgKiBAcmVhZE9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucGFnZSA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLklCaXRtYXBGb250RGF0YUNoYXJbXX1cbiAgICAgICAgICogQHJlYWRPbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNoYXIgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5JQml0bWFwRm9udERhdGFLZXJuaW5nW119XG4gICAgICAgICAqIEByZWFkT25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5rZXJuaW5nID0gW107XG4gICAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIElCaXRtYXBGb250RGF0YUluZm8ge1xuICAgIGZhY2U6IHN0cmluZztcbiAgICBzaXplOiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUJpdG1hcEZvbnREYXRhQ29tbW9uIHtcbiAgICBsaW5lSGVpZ2h0OiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUJpdG1hcEZvbnREYXRhUGFnZSB7XG4gICAgaWQ6IG51bWJlcjtcbiAgICBmaWxlOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUJpdG1hcEZvbnREYXRhQ2hhciB7XG4gICAgaWQ6IG51bWJlcjtcbiAgICBwYWdlOiBudW1iZXI7XG4gICAgeDogbnVtYmVyO1xuICAgIHk6IG51bWJlcjtcbiAgICB3aWR0aDogbnVtYmVyO1xuICAgIGhlaWdodDogbnVtYmVyO1xuICAgIHhvZmZzZXQ6IG51bWJlcjtcbiAgICB5b2Zmc2V0OiBudW1iZXI7XG4gICAgeGFkdmFuY2U6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJQml0bWFwRm9udERhdGFLZXJuaW5nIHtcbiAgICBmaXJzdDogbnVtYmVyO1xuICAgIHNlY29uZDogbnVtYmVyO1xuICAgIGFtb3VudDogbnVtYmVyO1xufVxuXG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBJQml0bWFwRm9udERhdGFJbmZvXG4gKiBAcHJvcGVydHkge3N0cmluZ30gZmFjZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IHNpemVcbiAqL1xuXG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBJQml0bWFwRm9udERhdGFDb21tb25cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBsaW5lSGVpZ2h0XG4gKi9cblxuLyoqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHR5cGVkZWYge29iamVjdH0gSUJpdG1hcEZvbnREYXRhUGFnZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IGlkXG4gKiBAcHJvcGVydHkge3N0cmluZ30gZmlsZVxuICovXG5cbi8qKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlZGVmIHtvYmplY3R9IElCaXRtYXBGb250RGF0YUNoYXJcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBpZFxuICogQHByb3BlcnR5IHtudW1iZXJ9IHBhZ2VcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB4XG4gKiBAcHJvcGVydHkge251bWJlcn0geVxuICogQHByb3BlcnR5IHtudW1iZXJ9IHdpZHRoXG4gKiBAcHJvcGVydHkge251bWJlcn0gaGVpZ2h0XG4gKiBAcHJvcGVydHkge251bWJlcn0geG9mZnNldFxuICogQHByb3BlcnR5IHtudW1iZXJ9IHlvZmZzZXRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB4YWR2YW5jZVxuICovXG5cbi8qKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlZGVmIHtvYmplY3R9IElCaXRtYXBGb250RGF0YUtlcm5pbmdcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBmaXJzdFxuICogQHByb3BlcnR5IHtudW1iZXJ9IHNlY29uZFxuICogQHByb3BlcnR5IHtudW1iZXJ9IGFtb3VudFxuICovXG4iLCJpbXBvcnQgeyBCaXRtYXBGb250RGF0YSB9IGZyb20gJy4uL0JpdG1hcEZvbnREYXRhJztcblxuLyoqXG4gKiBJbnRlcm5hbCBkYXRhIGZvcm1hdCB1c2VkIHRvIGNvbnZlcnQgdG8gQml0bWFwRm9udERhdGEuXG4gKiBAcHJpdmF0ZVxuICovXG5pbnRlcmZhY2UgSUJpdG1hcEZvbnRSYXdEYXRhIHtcbiAgICBpbmZvOiB7XG4gICAgICAgIGZhY2U6IHN0cmluZztcbiAgICAgICAgc2l6ZTogc3RyaW5nO1xuICAgIH1bXTtcbiAgICBjb21tb246IHsgbGluZUhlaWdodDogc3RyaW5nIH1bXTtcbiAgICBwYWdlOiB7XG4gICAgICAgIGlkOiBzdHJpbmc7XG4gICAgICAgIGZpbGU6IHN0cmluZztcbiAgICB9W107XG4gICAgY2hhcnM6IHtcbiAgICAgICAgY291bnQ6IG51bWJlcjtcbiAgICB9W107XG4gICAgY2hhcjoge1xuICAgICAgICBpZDogc3RyaW5nO1xuICAgICAgICBwYWdlOiBzdHJpbmc7XG4gICAgICAgIHg6IHN0cmluZztcbiAgICAgICAgeTogc3RyaW5nO1xuICAgICAgICB3aWR0aDogc3RyaW5nO1xuICAgICAgICBoZWlnaHQ6IHN0cmluZztcbiAgICAgICAgeG9mZnNldDogc3RyaW5nO1xuICAgICAgICB5b2Zmc2V0OiBzdHJpbmc7XG4gICAgICAgIHhhZHZhbmNlOiBzdHJpbmc7XG4gICAgfVtdO1xuICAgIGtlcm5pbmdzPzoge1xuICAgICAgICBjb3VudDogbnVtYmVyO1xuICAgIH1bXTtcbiAgICBrZXJuaW5nPzoge1xuICAgICAgICBmaXJzdDogc3RyaW5nO1xuICAgICAgICBzZWNvbmQ6IHN0cmluZztcbiAgICAgICAgYW1vdW50OiBzdHJpbmc7XG4gICAgfVtdO1xufVxuXG4vKipcbiAqIEJpdG1hcEZvbnQgZm9ybWF0IHRoYXQncyBUZXh0LWJhc2VkLlxuICpcbiAqIEBjbGFzc1xuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGNsYXNzIFRleHRGb3JtYXRcbntcbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiByZXNvdXJjZSByZWZlcnMgdG8gdHh0IGZvbnQgZGF0YS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7YW55fSBkYXRhXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiByZXNvdXJjZSBjb3VsZCBiZSB0cmVhdGVkIGFzIGZvbnQgZGF0YSwgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgICAqL1xuICAgIHN0YXRpYyB0ZXN0KGRhdGE6IHVua25vd24pOiBib29sZWFuXG4gICAge1xuICAgICAgICByZXR1cm4gdHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnICYmIGRhdGEuaW5kZXhPZignaW5mbyBmYWNlPScpID09PSAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnQgdGV4dCBmb250IGRhdGEgdG8gYSBqYXZhc2NyaXB0IG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eHQgLSBSYXcgc3RyaW5nIGRhdGEgdG8gYmUgY29udmVydGVkXG4gICAgICogQHJldHVybiB7UElYSS5CaXRtYXBGb250RGF0YX0gUGFyc2VkIGZvbnQgZGF0YVxuICAgICAqL1xuICAgIHN0YXRpYyBwYXJzZSh0eHQ6IHN0cmluZyk6IEJpdG1hcEZvbnREYXRhXG4gICAge1xuICAgICAgICAvLyBSZXRyaWV2ZSBkYXRhIGl0ZW1cbiAgICAgICAgY29uc3QgaXRlbXMgPSB0eHQubWF0Y2goL15bYS16XStcXHMrLiskL2dtKTtcbiAgICAgICAgY29uc3QgcmF3RGF0YTogSUJpdG1hcEZvbnRSYXdEYXRhID0ge1xuICAgICAgICAgICAgaW5mbzogW10sXG4gICAgICAgICAgICBjb21tb246IFtdLFxuICAgICAgICAgICAgcGFnZTogW10sXG4gICAgICAgICAgICBjaGFyOiBbXSxcbiAgICAgICAgICAgIGNoYXJzOiBbXSxcbiAgICAgICAgICAgIGtlcm5pbmc6IFtdLFxuICAgICAgICAgICAga2VybmluZ3M6IFtdLFxuICAgICAgICB9O1xuXG4gICAgICAgIGZvciAoY29uc3QgaSBpbiBpdGVtcylcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gRXh0cmFjdCBpdGVtIG5hbWVcbiAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBpdGVtc1tpXS5tYXRjaCgvXlthLXpdKy9nbSlbMF0gYXMga2V5b2YgQml0bWFwRm9udERhdGE7XG5cbiAgICAgICAgICAgIC8vIEV4dHJhY3QgaXRlbSBhdHRyaWJ1dGUgbGlzdCBhcyBzdHJpbmcgZXguOiBcIndpZHRoPTEwXCJcbiAgICAgICAgICAgIGNvbnN0IGF0dHJpYnV0ZUxpc3QgPSBpdGVtc1tpXS5tYXRjaCgvW2EtekEtWl0rPShbXlxcc1wiJ10rfFwiKFteXCJdKilcIikvZ20pO1xuXG4gICAgICAgICAgICAvLyBDb252ZXJ0IGF0dHJpYnV0ZSBsaXN0IGludG8gYW4gb2JqZWN0XG4gICAgICAgICAgICBjb25zdCBpdGVtRGF0YTogYW55ID0ge307XG5cbiAgICAgICAgICAgIGZvciAoY29uc3QgaSBpbiBhdHRyaWJ1dGVMaXN0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIFNwbGl0IGtleS12YWx1ZSBwYWlyc1xuICAgICAgICAgICAgICAgIGNvbnN0IHNwbGl0ID0gYXR0cmlidXRlTGlzdFtpXS5zcGxpdCgnPScpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IHNwbGl0WzBdO1xuXG4gICAgICAgICAgICAgICAgLy8gUmVtb3ZlIGV2ZW50dWFsIHF1b3RlcyBmcm9tIHZhbHVlXG4gICAgICAgICAgICAgICAgY29uc3Qgc3RyVmFsdWUgPSBzcGxpdFsxXS5yZXBsYWNlKC9cIi9nbSwgJycpO1xuXG4gICAgICAgICAgICAgICAgLy8gVHJ5IHRvIGNvbnZlcnQgdmFsdWUgaW50byBmbG9hdFxuICAgICAgICAgICAgICAgIGNvbnN0IGZsb2F0VmFsdWUgPSBwYXJzZUZsb2F0KHN0clZhbHVlKTtcblxuICAgICAgICAgICAgICAgIC8vIFVzZSBzdHJpbmcgdmFsdWUgY2FzZSBmbG9hdCB2YWx1ZSBpcyBOYU5cbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGlzTmFOKGZsb2F0VmFsdWUpID8gc3RyVmFsdWUgOiBmbG9hdFZhbHVlO1xuXG4gICAgICAgICAgICAgICAgaXRlbURhdGFba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBQdXNoIGN1cnJlbnQgaXRlbSB0byB0aGUgcmVzdWx0aW5nIGRhdGFcbiAgICAgICAgICAgIHJhd0RhdGFbbmFtZV0ucHVzaChpdGVtRGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBmb250ID0gbmV3IEJpdG1hcEZvbnREYXRhKCk7XG5cbiAgICAgICAgcmF3RGF0YS5pbmZvLmZvckVhY2goKGluZm8pID0+IGZvbnQuaW5mby5wdXNoKHtcbiAgICAgICAgICAgIGZhY2U6IGluZm8uZmFjZSxcbiAgICAgICAgICAgIHNpemU6IHBhcnNlSW50KGluZm8uc2l6ZSwgMTApLFxuICAgICAgICB9KSk7XG5cbiAgICAgICAgcmF3RGF0YS5jb21tb24uZm9yRWFjaCgoY29tbW9uKSA9PiBmb250LmNvbW1vbi5wdXNoKHtcbiAgICAgICAgICAgIGxpbmVIZWlnaHQ6IHBhcnNlSW50KGNvbW1vbi5saW5lSGVpZ2h0LCAxMCksXG4gICAgICAgIH0pKTtcblxuICAgICAgICByYXdEYXRhLnBhZ2UuZm9yRWFjaCgocGFnZSkgPT4gZm9udC5wYWdlLnB1c2goe1xuICAgICAgICAgICAgaWQ6IHBhcnNlSW50KHBhZ2UuaWQsIDEwKSxcbiAgICAgICAgICAgIGZpbGU6IHBhZ2UuZmlsZSxcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIHJhd0RhdGEuY2hhci5mb3JFYWNoKChjaGFyKSA9PiBmb250LmNoYXIucHVzaCh7XG4gICAgICAgICAgICBpZDogcGFyc2VJbnQoY2hhci5pZCwgMTApLFxuICAgICAgICAgICAgcGFnZTogcGFyc2VJbnQoY2hhci5wYWdlLCAxMCksXG4gICAgICAgICAgICB4OiBwYXJzZUludChjaGFyLngsIDEwKSxcbiAgICAgICAgICAgIHk6IHBhcnNlSW50KGNoYXIueSwgMTApLFxuICAgICAgICAgICAgd2lkdGg6IHBhcnNlSW50KGNoYXIud2lkdGgsIDEwKSxcbiAgICAgICAgICAgIGhlaWdodDogcGFyc2VJbnQoY2hhci5oZWlnaHQsIDEwKSxcbiAgICAgICAgICAgIHhvZmZzZXQ6IHBhcnNlSW50KGNoYXIueG9mZnNldCwgMTApLFxuICAgICAgICAgICAgeW9mZnNldDogcGFyc2VJbnQoY2hhci55b2Zmc2V0LCAxMCksXG4gICAgICAgICAgICB4YWR2YW5jZTogcGFyc2VJbnQoY2hhci54YWR2YW5jZSwgMTApLFxuICAgICAgICB9KSk7XG5cbiAgICAgICAgcmF3RGF0YS5rZXJuaW5nLmZvckVhY2goKGtlcm5pbmcpID0+IGZvbnQua2VybmluZy5wdXNoKHtcbiAgICAgICAgICAgIGZpcnN0OiBwYXJzZUludChrZXJuaW5nLmZpcnN0LCAxMCksXG4gICAgICAgICAgICBzZWNvbmQ6IHBhcnNlSW50KGtlcm5pbmcuc2Vjb25kLCAxMCksXG4gICAgICAgICAgICBhbW91bnQ6IHBhcnNlSW50KGtlcm5pbmcuYW1vdW50LCAxMCksXG4gICAgICAgIH0pKTtcblxuICAgICAgICByZXR1cm4gZm9udDtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBCaXRtYXBGb250RGF0YSB9IGZyb20gJy4uL0JpdG1hcEZvbnREYXRhJztcblxuLyoqXG4gKiBCaXRtYXBGb250IGZvcm1hdCB0aGF0J3MgWE1MLWJhc2VkLlxuICpcbiAqIEBjbGFzc1xuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGNsYXNzIFhNTEZvcm1hdFxue1xuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIHJlc291cmNlIHJlZmVycyB0byB4bWwgZm9udCBkYXRhLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHthbnl9IGRhdGFcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHJlc291cmNlIGNvdWxkIGJlIHRyZWF0ZWQgYXMgZm9udCBkYXRhLCBmYWxzZSBvdGhlcndpc2UuXG4gICAgICovXG4gICAgc3RhdGljIHRlc3QoZGF0YTogdW5rbm93bik6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIHJldHVybiBkYXRhIGluc3RhbmNlb2YgWE1MRG9jdW1lbnRcbiAgICAgICAgICAgICYmIGRhdGEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3BhZ2UnKS5sZW5ndGhcbiAgICAgICAgICAgICYmIGRhdGEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2luZm8nKVswXS5nZXRBdHRyaWJ1dGUoJ2ZhY2UnKSAhPT0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IHRoZSBYTUwgaW50byBCaXRtYXBGb250RGF0YSB0aGF0IHdlIGNhbiB1c2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1hNTERvY3VtZW50fSB4bWxcbiAgICAgKiBAcmV0dXJuIHtCaXRtYXBGb250RGF0YX0gRGF0YSB0byB1c2UgZm9yIEJpdG1hcEZvbnRcbiAgICAgKi9cbiAgICBzdGF0aWMgcGFyc2UoeG1sOiBYTUxEb2N1bWVudCk6IEJpdG1hcEZvbnREYXRhXG4gICAge1xuICAgICAgICBjb25zdCBkYXRhID0gbmV3IEJpdG1hcEZvbnREYXRhKCk7XG4gICAgICAgIGNvbnN0IGluZm8gPSB4bWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2luZm8nKTtcbiAgICAgICAgY29uc3QgY29tbW9uID0geG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdjb21tb24nKTtcbiAgICAgICAgY29uc3QgcGFnZSA9IHhtbC5nZXRFbGVtZW50c0J5VGFnTmFtZSgncGFnZScpO1xuICAgICAgICBjb25zdCBjaGFyID0geG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdjaGFyJyk7XG4gICAgICAgIGNvbnN0IGtlcm5pbmcgPSB4bWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2tlcm5pbmcnKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGluZm8ubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRhdGEuaW5mby5wdXNoKHtcbiAgICAgICAgICAgICAgICBmYWNlOiBpbmZvW2ldLmdldEF0dHJpYnV0ZSgnZmFjZScpLFxuICAgICAgICAgICAgICAgIHNpemU6IHBhcnNlSW50KGluZm9baV0uZ2V0QXR0cmlidXRlKCdzaXplJyksIDEwKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb21tb24ubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRhdGEuY29tbW9uLnB1c2goe1xuICAgICAgICAgICAgICAgIGxpbmVIZWlnaHQ6IHBhcnNlSW50KGNvbW1vbltpXS5nZXRBdHRyaWJ1dGUoJ2xpbmVIZWlnaHQnKSwgMTApLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhZ2UubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRhdGEucGFnZS5wdXNoKHtcbiAgICAgICAgICAgICAgICBpZDogcGFyc2VJbnQocGFnZVtpXS5nZXRBdHRyaWJ1dGUoJ2lkJyksIDEwKSB8fCAwLFxuICAgICAgICAgICAgICAgIGZpbGU6IHBhZ2VbaV0uZ2V0QXR0cmlidXRlKCdmaWxlJyksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hhci5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgbGV0dGVyID0gY2hhcltpXTtcblxuICAgICAgICAgICAgZGF0YS5jaGFyLnB1c2goe1xuICAgICAgICAgICAgICAgIGlkOiBwYXJzZUludChsZXR0ZXIuZ2V0QXR0cmlidXRlKCdpZCcpLCAxMCksXG4gICAgICAgICAgICAgICAgcGFnZTogcGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZSgncGFnZScpLCAxMCkgfHwgMCxcbiAgICAgICAgICAgICAgICB4OiBwYXJzZUludChsZXR0ZXIuZ2V0QXR0cmlidXRlKCd4JyksIDEwKSxcbiAgICAgICAgICAgICAgICB5OiBwYXJzZUludChsZXR0ZXIuZ2V0QXR0cmlidXRlKCd5JyksIDEwKSxcbiAgICAgICAgICAgICAgICB3aWR0aDogcGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZSgnd2lkdGgnKSwgMTApLFxuICAgICAgICAgICAgICAgIGhlaWdodDogcGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZSgnaGVpZ2h0JyksIDEwKSxcbiAgICAgICAgICAgICAgICB4b2Zmc2V0OiBwYXJzZUludChsZXR0ZXIuZ2V0QXR0cmlidXRlKCd4b2Zmc2V0JyksIDEwKSxcbiAgICAgICAgICAgICAgICB5b2Zmc2V0OiBwYXJzZUludChsZXR0ZXIuZ2V0QXR0cmlidXRlKCd5b2Zmc2V0JyksIDEwKSxcbiAgICAgICAgICAgICAgICB4YWR2YW5jZTogcGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZSgneGFkdmFuY2UnKSwgMTApLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGtlcm5pbmcubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRhdGEua2VybmluZy5wdXNoKHtcbiAgICAgICAgICAgICAgICBmaXJzdDogcGFyc2VJbnQoa2VybmluZ1tpXS5nZXRBdHRyaWJ1dGUoJ2ZpcnN0JyksIDEwKSxcbiAgICAgICAgICAgICAgICBzZWNvbmQ6IHBhcnNlSW50KGtlcm5pbmdbaV0uZ2V0QXR0cmlidXRlKCdzZWNvbmQnKSwgMTApLFxuICAgICAgICAgICAgICAgIGFtb3VudDogcGFyc2VJbnQoa2VybmluZ1tpXS5nZXRBdHRyaWJ1dGUoJ2Ftb3VudCcpLCAxMCksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEJpdG1hcEZvbnREYXRhIH0gZnJvbSAnLi4vQml0bWFwRm9udERhdGEnO1xuaW1wb3J0IHsgWE1MRm9ybWF0IH0gZnJvbSAnLi9YTUxGb3JtYXQnO1xuXG4vKipcbiAqIEJpdG1hcEZvbnQgZm9ybWF0IHRoYXQncyBYTUwtYmFzZWQuXG4gKlxuICogQGNsYXNzXG4gKiBAcHJpdmF0ZVxuICovXG5leHBvcnQgY2xhc3MgWE1MU3RyaW5nRm9ybWF0XG57XG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgcmVzb3VyY2UgcmVmZXJzIHRvIHRleHQgeG1sIGZvbnQgZGF0YS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7YW55fSBkYXRhXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiByZXNvdXJjZSBjb3VsZCBiZSB0cmVhdGVkIGFzIGZvbnQgZGF0YSwgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgICAqL1xuICAgIHN0YXRpYyB0ZXN0KGRhdGE6IHVua25vd24pOiBib29sZWFuXG4gICAge1xuICAgICAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnICYmIGRhdGEuaW5kZXhPZignPGZvbnQ+JykgPiAtMSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgeG1sID0gbmV3IHNlbGYuRE9NUGFyc2VyKCkucGFyc2VGcm9tU3RyaW5nKGRhdGEsICd0ZXh0L3htbCcpO1xuXG4gICAgICAgICAgICByZXR1cm4gWE1MRm9ybWF0LnRlc3QoeG1sKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IHRoZSB0ZXh0IFhNTCBpbnRvIEJpdG1hcEZvbnREYXRhIHRoYXQgd2UgY2FuIHVzZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB4bWxUeHRcbiAgICAgKiBAcmV0dXJuIHtCaXRtYXBGb250RGF0YX0gRGF0YSB0byB1c2UgZm9yIEJpdG1hcEZvbnRcbiAgICAgKi9cbiAgICBzdGF0aWMgcGFyc2UoeG1sVHh0OiBzdHJpbmcpOiBCaXRtYXBGb250RGF0YVxuICAgIHtcbiAgICAgICAgY29uc3QgeG1sID0gbmV3IHdpbmRvdy5ET01QYXJzZXIoKS5wYXJzZUZyb21TdHJpbmcoeG1sVHh0LCAndGV4dC94bWwnKTtcblxuICAgICAgICByZXR1cm4gWE1MRm9ybWF0LnBhcnNlKHhtbCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgVGV4dEZvcm1hdCB9IGZyb20gJy4vVGV4dEZvcm1hdCc7XG5pbXBvcnQgeyBYTUxGb3JtYXQgfSBmcm9tICcuL1hNTEZvcm1hdCc7XG5pbXBvcnQgeyBYTUxTdHJpbmdGb3JtYXQgfSBmcm9tICcuL1hNTFN0cmluZ0Zvcm1hdCc7XG5cbi8vIFJlZ2lzdGVyZWQgZm9ybWF0cywgbWF5YmUgbWFrZSB0aGlzIGV4dGVuc2libGUgaW4gdGhlIGZ1dHVyZT9cbmNvbnN0IGZvcm1hdHMgPSBbXG4gICAgVGV4dEZvcm1hdCxcbiAgICBYTUxGb3JtYXQsXG4gICAgWE1MU3RyaW5nRm9ybWF0LFxuXSBhcyBjb25zdDtcblxuLyoqXG4gKiBBdXRvLWRldGVjdCBCaXRtYXBGb250IHBhcnNpbmcgZm9ybWF0IGJhc2VkIG9uIGRhdGEuXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHthbnl9IGRhdGEgLSBEYXRhIHRvIGRldGVjdCBmb3JtYXRcbiAqIEByZXR1cm4ge2FueX0gRm9ybWF0IG9yIG51bGxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGF1dG9EZXRlY3RGb3JtYXQoZGF0YTogdW5rbm93bik6IHR5cGVvZiBmb3JtYXRzW251bWJlcl0gfCBudWxsXG57XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmb3JtYXRzLmxlbmd0aDsgaSsrKVxuICAgIHtcbiAgICAgICAgaWYgKGZvcm1hdHNbaV0udGVzdChkYXRhKSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIGZvcm1hdHNbaV07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbn1cbiIsImltcG9ydCB7IGdlbmVyYXRlRmlsbFN0eWxlIH0gZnJvbSAnLi9nZW5lcmF0ZUZpbGxTdHlsZSc7XG5pbXBvcnQgeyBoZXgycmdiLCBzdHJpbmcyaGV4IH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuaW1wb3J0IHR5cGUgeyBUZXh0TWV0cmljcywgVGV4dFN0eWxlIH0gZnJvbSAnQHBpeGkvdGV4dCc7XG5cbi8vIFRPRE86IFByZXZlbnQgY29kZSBkdXBsaWNhdGlvbiBiL3cgZHJhd0dseXBoICYgVGV4dCN1cGRhdGVUZXh0XG5cbi8qKlxuICogRHJhd3MgdGhlIGdseXBoIGBtZXRyaWNzLnRleHRgIG9uIHRoZSBnaXZlbiBjYW52YXMuXG4gKlxuICogSWdub3JlZCBiZWNhdXNlIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IGNhbnZhc1xuICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGNvbnRleHRcbiAqIEBwYXJhbSB7VGV4dE1ldHJpY3N9IG1ldHJpY3NcbiAqIEBwYXJhbSB7bnVtYmVyfSB4XG4gKiBAcGFyYW0ge251bWJlcn0geVxuICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb25cbiAqIEBwYXJhbSB7VGV4dFN0eWxlfSBzdHlsZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZHJhd0dseXBoKFxuICAgIGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQsXG4gICAgY29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELFxuICAgIG1ldHJpY3M6IFRleHRNZXRyaWNzLFxuICAgIHg6IG51bWJlcixcbiAgICB5OiBudW1iZXIsXG4gICAgcmVzb2x1dGlvbjogbnVtYmVyLFxuICAgIHN0eWxlOiBUZXh0U3R5bGVcbik6IHZvaWRcbntcbiAgICBjb25zdCBjaGFyID0gbWV0cmljcy50ZXh0O1xuICAgIGNvbnN0IGZvbnRQcm9wZXJ0aWVzID0gbWV0cmljcy5mb250UHJvcGVydGllcztcblxuICAgIGNvbnRleHQudHJhbnNsYXRlKHgsIHkpO1xuICAgIGNvbnRleHQuc2NhbGUocmVzb2x1dGlvbiwgcmVzb2x1dGlvbik7XG5cbiAgICBjb25zdCB0eCA9IHN0eWxlLnN0cm9rZVRoaWNrbmVzcyAvIDI7XG4gICAgY29uc3QgdHkgPSAtKHN0eWxlLnN0cm9rZVRoaWNrbmVzcyAvIDIpO1xuXG4gICAgY29udGV4dC5mb250ID0gc3R5bGUudG9Gb250U3RyaW5nKCk7XG4gICAgY29udGV4dC5saW5lV2lkdGggPSBzdHlsZS5zdHJva2VUaGlja25lc3M7XG4gICAgY29udGV4dC50ZXh0QmFzZWxpbmUgPSBzdHlsZS50ZXh0QmFzZWxpbmU7XG4gICAgY29udGV4dC5saW5lSm9pbiA9IHN0eWxlLmxpbmVKb2luO1xuICAgIGNvbnRleHQubWl0ZXJMaW1pdCA9IHN0eWxlLm1pdGVyTGltaXQ7XG5cbiAgICAvLyBzZXQgY2FudmFzIHRleHQgc3R5bGVzXG4gICAgY29udGV4dC5maWxsU3R5bGUgPSBnZW5lcmF0ZUZpbGxTdHlsZShjYW52YXMsIGNvbnRleHQsIHN0eWxlLCByZXNvbHV0aW9uLCBbY2hhcl0sIG1ldHJpY3MpO1xuICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBzdHlsZS5zdHJva2UgYXMgc3RyaW5nO1xuXG4gICAgaWYgKHN0eWxlLmRyb3BTaGFkb3cpXG4gICAge1xuICAgICAgICBjb25zdCBkcm9wU2hhZG93Q29sb3IgPSBzdHlsZS5kcm9wU2hhZG93Q29sb3I7XG4gICAgICAgIGNvbnN0IHJnYiA9IGhleDJyZ2IodHlwZW9mIGRyb3BTaGFkb3dDb2xvciA9PT0gJ251bWJlcicgPyBkcm9wU2hhZG93Q29sb3IgOiBzdHJpbmcyaGV4KGRyb3BTaGFkb3dDb2xvcikpO1xuICAgICAgICBjb25zdCBkcm9wU2hhZG93Qmx1ciA9IHN0eWxlLmRyb3BTaGFkb3dCbHVyICogcmVzb2x1dGlvbjtcbiAgICAgICAgY29uc3QgZHJvcFNoYWRvd0Rpc3RhbmNlID0gc3R5bGUuZHJvcFNoYWRvd0Rpc3RhbmNlICogcmVzb2x1dGlvbjtcblxuICAgICAgICBjb250ZXh0LnNoYWRvd0NvbG9yID0gYHJnYmEoJHtyZ2JbMF0gKiAyNTV9LCR7cmdiWzFdICogMjU1fSwke3JnYlsyXSAqIDI1NX0sJHtzdHlsZS5kcm9wU2hhZG93QWxwaGF9KWA7XG4gICAgICAgIGNvbnRleHQuc2hhZG93Qmx1ciA9IGRyb3BTaGFkb3dCbHVyO1xuICAgICAgICBjb250ZXh0LnNoYWRvd09mZnNldFggPSBNYXRoLmNvcyhzdHlsZS5kcm9wU2hhZG93QW5nbGUpICogZHJvcFNoYWRvd0Rpc3RhbmNlO1xuICAgICAgICBjb250ZXh0LnNoYWRvd09mZnNldFkgPSBNYXRoLnNpbihzdHlsZS5kcm9wU2hhZG93QW5nbGUpICogZHJvcFNoYWRvd0Rpc3RhbmNlO1xuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICBjb250ZXh0LnNoYWRvd0NvbG9yID0gJ2JsYWNrJztcbiAgICAgICAgY29udGV4dC5zaGFkb3dCbHVyID0gMDtcbiAgICAgICAgY29udGV4dC5zaGFkb3dPZmZzZXRYID0gMDtcbiAgICAgICAgY29udGV4dC5zaGFkb3dPZmZzZXRZID0gMDtcbiAgICB9XG5cbiAgICBpZiAoc3R5bGUuc3Ryb2tlICYmIHN0eWxlLnN0cm9rZVRoaWNrbmVzcylcbiAgICB7XG4gICAgICAgIGNvbnRleHQuc3Ryb2tlVGV4dChjaGFyLCB0eCwgdHkgKyBtZXRyaWNzLmxpbmVIZWlnaHQgLSBmb250UHJvcGVydGllcy5kZXNjZW50KTtcbiAgICB9XG4gICAgaWYgKHN0eWxlLmZpbGwpXG4gICAge1xuICAgICAgICBjb250ZXh0LmZpbGxUZXh0KGNoYXIsIHR4LCB0eSArIG1ldHJpY3MubGluZUhlaWdodCAtIGZvbnRQcm9wZXJ0aWVzLmRlc2NlbnQpO1xuICAgIH1cblxuICAgIGNvbnRleHQuc2V0VHJhbnNmb3JtKDEsIDAsIDAsIDEsIDAsIDApOyAvLyBkZWZhdWx0cyBuZWVkZWQgZm9yIG9sZGVyIGJyb3dzZXJzIChlLmcuIE9wZXJhIDI5KVxuXG4gICAgY29udGV4dC5maWxsU3R5bGUgPSAncmdiYSgwLCAwLCAwLCAwKSc7XG59XG4iLCJpbXBvcnQgeyBUZXh0U3R5bGUsIFRleHRNZXRyaWNzLCBURVhUX0dSQURJRU5UIH0gZnJvbSAnQHBpeGkvdGV4dCc7XG5cbi8vIFRPRE86IFByZXZlbnQgY29kZSBkdXBsaWNhdGlvbiBiL3cgZ2VuZXJhdGVGaWxsU3R5bGUgJiBUZXh0I2dlbmVyYXRlRmlsbFN0eWxlXG5cbi8qKlxuICogR2VuZXJhdGVzIHRoZSBmaWxsIHN0eWxlLiBDYW4gYXV0b21hdGljYWxseSBnZW5lcmF0ZSBhIGdyYWRpZW50IGJhc2VkIG9uIHRoZSBmaWxsIHN0eWxlIGJlaW5nIGFuIGFycmF5XG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7b2JqZWN0fSBzdHlsZSAtIFRoZSBzdHlsZS5cbiAqIEBwYXJhbSB7c3RyaW5nW119IGxpbmVzIC0gVGhlIGxpbmVzIG9mIHRleHQuXG4gKiBAcmV0dXJuIHtzdHJpbmd8bnVtYmVyfENhbnZhc0dyYWRpZW50fSBUaGUgZmlsbCBzdHlsZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVGaWxsU3R5bGUoXG4gICAgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCxcbiAgICBjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsXG4gICAgc3R5bGU6IFRleHRTdHlsZSxcbiAgICByZXNvbHV0aW9uOiBudW1iZXIsXG4gICAgbGluZXM6IHN0cmluZ1tdLFxuICAgIG1ldHJpY3M6IFRleHRNZXRyaWNzXG4pOiBzdHJpbmd8Q2FudmFzR3JhZGllbnR8Q2FudmFzUGF0dGVyblxue1xuICAgIC8vIFRPRE86IENhbid0IGhhdmUgZGlmZmVyZW50IHR5cGVzIGZvciBnZXR0ZXIgYW5kIHNldHRlci4gVGhlIGdldHRlciBzaG91bGRuJ3QgaGF2ZSB0aGUgbnVtYmVyIHR5cGUgYXNcbiAgICAvLyAgICAgICB0aGUgc2V0dGVyIGNvbnZlcnRzIHRvIHN0cmluZy4gU2VlIHRoaXMgdGhyZWFkIGZvciBtb3JlIGRldGFpbHM6XG4gICAgLy8gICAgICAgaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC9UeXBlU2NyaXB0L2lzc3Vlcy8yNTIxXG4gICAgY29uc3QgZmlsbFN0eWxlOiBzdHJpbmd8c3RyaW5nW118Q2FudmFzR3JhZGllbnR8Q2FudmFzUGF0dGVybiA9IHN0eWxlLmZpbGwgYXMgYW55O1xuXG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGZpbGxTdHlsZSkpXG4gICAge1xuICAgICAgICByZXR1cm4gZmlsbFN0eWxlO1xuICAgIH1cbiAgICBlbHNlIGlmIChmaWxsU3R5bGUubGVuZ3RoID09PSAxKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGZpbGxTdHlsZVswXTtcbiAgICB9XG5cbiAgICAvLyB0aGUgZ3JhZGllbnQgd2lsbCBiZSBldmVubHkgc3BhY2VkIG91dCBhY2NvcmRpbmcgdG8gaG93IGxhcmdlIHRoZSBhcnJheSBpcy5cbiAgICAvLyBbJyNGRjAwMDAnLCAnIzAwRkYwMCcsICcjMDAwMEZGJ10gd291bGQgY3JlYXRlZCBzdG9wcyBhdCAwLjI1LCAwLjUgYW5kIDAuNzVcbiAgICBsZXQgZ3JhZGllbnQ6IHN0cmluZ1tdfENhbnZhc0dyYWRpZW50O1xuXG4gICAgLy8gYSBkcm9wc2hhZG93IHdpbGwgZW5sYXJnZSB0aGUgY2FudmFzIGFuZCByZXN1bHQgaW4gdGhlIGdyYWRpZW50IGJlaW5nXG4gICAgLy8gZ2VuZXJhdGVkIHdpdGggdGhlIGluY29ycmVjdCBkaW1lbnNpb25zXG4gICAgY29uc3QgZHJvcFNoYWRvd0NvcnJlY3Rpb24gPSAoc3R5bGUuZHJvcFNoYWRvdykgPyBzdHlsZS5kcm9wU2hhZG93RGlzdGFuY2UgOiAwO1xuXG4gICAgLy8gc2hvdWxkIGFsc28gdGFrZSBwYWRkaW5nIGludG8gYWNjb3VudCwgcGFkZGluZyBjYW4gb2Zmc2V0IHRoZSBncmFkaWVudFxuICAgIGNvbnN0IHBhZGRpbmcgPSBzdHlsZS5wYWRkaW5nIHx8IDA7XG5cbiAgICBjb25zdCB3aWR0aCA9IE1hdGguY2VpbChjYW52YXMud2lkdGggLyByZXNvbHV0aW9uKSAtIGRyb3BTaGFkb3dDb3JyZWN0aW9uIC0gKHBhZGRpbmcgKiAyKTtcbiAgICBjb25zdCBoZWlnaHQgPSBNYXRoLmNlaWwoY2FudmFzLmhlaWdodCAvIHJlc29sdXRpb24pIC0gZHJvcFNoYWRvd0NvcnJlY3Rpb24gLSAocGFkZGluZyAqIDIpO1xuXG4gICAgLy8gbWFrZSBhIGNvcHkgb2YgdGhlIHN0eWxlIHNldHRpbmdzLCBzbyB3ZSBjYW4gbWFuaXB1bGF0ZSB0aGVtIGxhdGVyXG4gICAgY29uc3QgZmlsbCA9IGZpbGxTdHlsZS5zbGljZSgpO1xuICAgIGNvbnN0IGZpbGxHcmFkaWVudFN0b3BzID0gc3R5bGUuZmlsbEdyYWRpZW50U3RvcHMuc2xpY2UoKTtcblxuICAgIC8vIHdhbnRpbmcgdG8gZXZlbmx5IGRpc3RyaWJ1dGUgdGhlIGZpbGxzLiBTbyBhbiBhcnJheSBvZiA0IGNvbG91cnMgc2hvdWxkIGdpdmUgZmlsbHMgb2YgMC4yNSwgMC41IGFuZCAwLjc1XG4gICAgaWYgKCFmaWxsR3JhZGllbnRTdG9wcy5sZW5ndGgpXG4gICAge1xuICAgICAgICBjb25zdCBsZW5ndGhQbHVzMSA9IGZpbGwubGVuZ3RoICsgMTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IGxlbmd0aFBsdXMxOyArK2kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGZpbGxHcmFkaWVudFN0b3BzLnB1c2goaSAvIGxlbmd0aFBsdXMxKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIHN0b3AgdGhlIGJsZWVkaW5nIG9mIHRoZSBsYXN0IGdyYWRpZW50IG9uIHRoZSBsaW5lIGFib3ZlIHRvIHRoZSB0b3AgZ3JhZGllbnQgb2YgdGhlIHRoaXMgbGluZVxuICAgIC8vIGJ5IGhhcmQgZGVmaW5pbmcgdGhlIGZpcnN0IGdyYWRpZW50IGNvbG91ciBhdCBwb2ludCAwLCBhbmQgbGFzdCBncmFkaWVudCBjb2xvdXIgYXQgcG9pbnQgMVxuICAgIGZpbGwudW5zaGlmdChmaWxsU3R5bGVbMF0pO1xuICAgIGZpbGxHcmFkaWVudFN0b3BzLnVuc2hpZnQoMCk7XG5cbiAgICBmaWxsLnB1c2goZmlsbFN0eWxlW2ZpbGxTdHlsZS5sZW5ndGggLSAxXSk7XG4gICAgZmlsbEdyYWRpZW50U3RvcHMucHVzaCgxKTtcblxuICAgIGlmIChzdHlsZS5maWxsR3JhZGllbnRUeXBlID09PSBURVhUX0dSQURJRU5ULkxJTkVBUl9WRVJUSUNBTClcbiAgICB7XG4gICAgICAgIC8vIHN0YXJ0IHRoZSBncmFkaWVudCBhdCB0aGUgdG9wIGNlbnRlciBvZiB0aGUgY2FudmFzLCBhbmQgZW5kIGF0IHRoZSBib3R0b20gbWlkZGxlIG9mIHRoZSBjYW52YXNcbiAgICAgICAgZ3JhZGllbnQgPSBjb250ZXh0LmNyZWF0ZUxpbmVhckdyYWRpZW50KHdpZHRoIC8gMiwgcGFkZGluZywgd2lkdGggLyAyLCBoZWlnaHQgKyBwYWRkaW5nKTtcblxuICAgICAgICAvLyB3ZSBuZWVkIHRvIHJlcGVhdCB0aGUgZ3JhZGllbnQgc28gdGhhdCBlYWNoIGluZGl2aWR1YWwgbGluZSBvZiB0ZXh0IGhhcyB0aGUgc2FtZSB2ZXJ0aWNhbCBncmFkaWVudCBlZmZlY3RcbiAgICAgICAgLy8gWycjRkYwMDAwJywgJyMwMEZGMDAnLCAnIzAwMDBGRiddIG92ZXIgMiBsaW5lcyB3b3VsZCBjcmVhdGUgc3RvcHMgYXQgMC4xMjUsIDAuMjUsIDAuMzc1LCAwLjYyNSwgMC43NSwgMC44NzVcblxuICAgICAgICAvLyBUaGVyZSdzIHBvdGVudGlhbCBmb3IgZmxvYXRpbmcgcG9pbnQgcHJlY2lzaW9uIGlzc3VlcyBhdCB0aGUgc2VhbXMgYmV0d2VlbiBncmFkaWVudCByZXBlYXRzLlxuICAgICAgICAvLyBUaGUgbG9vcCBiZWxvdyBnZW5lcmF0ZXMgdGhlIHN0b3BzIGluIG9yZGVyLCBzbyB0cmFjayB0aGUgbGFzdCBnZW5lcmF0ZWQgb25lIHRvIHByZXZlbnRcbiAgICAgICAgLy8gZmxvYXRpbmcgcG9pbnQgcHJlY2lzaW9uIGZyb20gbWFraW5nIHVzIGdvIHRoZSB0ZWVuaWVzdCBiaXQgYmFja3dhcmRzLCByZXN1bHRpbmcgaW5cbiAgICAgICAgLy8gdGhlIGZpcnN0IGFuZCBsYXN0IGNvbG9ycyBnZXR0aW5nIHN3YXBwZWQuXG4gICAgICAgIGxldCBsYXN0SXRlcmF0aW9uU3RvcCA9IDA7XG5cbiAgICAgICAgLy8gQWN0dWFsIGhlaWdodCBvZiB0aGUgdGV4dCBpdHNlbGYsIG5vdCBjb3VudGluZyBzcGFjaW5nIGZvciBsaW5lSGVpZ2h0L2xlYWRpbmcvZHJvcFNoYWRvdyBldGNcbiAgICAgICAgY29uc3QgdGV4dEhlaWdodCA9IG1ldHJpY3MuZm9udFByb3BlcnRpZXMuZm9udFNpemUgKyBzdHlsZS5zdHJva2VUaGlja25lc3M7XG5cbiAgICAgICAgLy8gdGV4dEhlaWdodCwgYnV0IGFzIGEgMC0xIHNpemUgaW4gZ2xvYmFsIGdyYWRpZW50IHN0b3Agc3BhY2VcbiAgICAgICAgY29uc3QgZ3JhZFN0b3BMaW5lSGVpZ2h0ID0gdGV4dEhlaWdodCAvIGhlaWdodDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCB0aGlzTGluZVRvcCA9IG1ldHJpY3MubGluZUhlaWdodCAqIGk7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgZmlsbC5sZW5ndGg7IGorKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyAwLTEgc3RvcCBwb2ludCBmb3IgdGhlIGN1cnJlbnQgbGluZSwgbXVsdGlwbGllZCB0byBnbG9iYWwgc3BhY2UgYWZ0ZXJ3YXJkc1xuICAgICAgICAgICAgICAgIGxldCBsaW5lU3RvcCA9IDA7XG5cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZpbGxHcmFkaWVudFN0b3BzW2pdID09PSAnbnVtYmVyJylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmVTdG9wID0gZmlsbEdyYWRpZW50U3RvcHNbal07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmVTdG9wID0gaiAvIGZpbGwubGVuZ3RoO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IGdsb2JhbFN0b3AgPSAodGhpc0xpbmVUb3AgLyBoZWlnaHQpICsgKGxpbmVTdG9wICogZ3JhZFN0b3BMaW5lSGVpZ2h0KTtcblxuICAgICAgICAgICAgICAgIC8vIFByZXZlbnQgY29sb3Igc3RvcCBnZW5lcmF0aW9uIGdvaW5nIGJhY2t3YXJkcyBmcm9tIGZsb2F0aW5nIHBvaW50IGltcHJlY2lzaW9uXG4gICAgICAgICAgICAgICAgbGV0IGNsYW1wZWRTdG9wID0gTWF0aC5tYXgobGFzdEl0ZXJhdGlvblN0b3AsIGdsb2JhbFN0b3ApO1xuXG4gICAgICAgICAgICAgICAgY2xhbXBlZFN0b3AgPSBNYXRoLm1pbihjbGFtcGVkU3RvcCwgMSk7IC8vIENhcCBhdCAxIGFzIHdlbGwgZm9yIHNhZmV0eSdzIHNha2UgdG8gYXZvaWQgYSBwb3NzaWJsZSB0aHJvdy5cbiAgICAgICAgICAgICAgICBncmFkaWVudC5hZGRDb2xvclN0b3AoY2xhbXBlZFN0b3AsIGZpbGxbal0pO1xuICAgICAgICAgICAgICAgIGxhc3RJdGVyYXRpb25TdG9wID0gY2xhbXBlZFN0b3A7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgLy8gc3RhcnQgdGhlIGdyYWRpZW50IGF0IHRoZSBjZW50ZXIgbGVmdCBvZiB0aGUgY2FudmFzLCBhbmQgZW5kIGF0IHRoZSBjZW50ZXIgcmlnaHQgb2YgdGhlIGNhbnZhc1xuICAgICAgICBncmFkaWVudCA9IGNvbnRleHQuY3JlYXRlTGluZWFyR3JhZGllbnQocGFkZGluZywgaGVpZ2h0IC8gMiwgd2lkdGggKyBwYWRkaW5nLCBoZWlnaHQgLyAyKTtcblxuICAgICAgICAvLyBjYW4ganVzdCBldmVubHkgc3BhY2Ugb3V0IHRoZSBncmFkaWVudHMgaW4gdGhpcyBjYXNlLCBhcyBtdWx0aXBsZSBsaW5lcyBtYWtlcyBubyBkaWZmZXJlbmNlXG4gICAgICAgIC8vIHRvIGFuIGV2ZW4gbGVmdCB0byByaWdodCBncmFkaWVudFxuICAgICAgICBjb25zdCB0b3RhbEl0ZXJhdGlvbnMgPSBmaWxsLmxlbmd0aCArIDE7XG4gICAgICAgIGxldCBjdXJyZW50SXRlcmF0aW9uID0gMTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZpbGwubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBzdG9wOiBudW1iZXI7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgZmlsbEdyYWRpZW50U3RvcHNbaV0gPT09ICdudW1iZXInKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0b3AgPSBmaWxsR3JhZGllbnRTdG9wc1tpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdG9wID0gY3VycmVudEl0ZXJhdGlvbiAvIHRvdGFsSXRlcmF0aW9ucztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGdyYWRpZW50LmFkZENvbG9yU3RvcChzdG9wLCBmaWxsW2ldKTtcbiAgICAgICAgICAgIGN1cnJlbnRJdGVyYXRpb24rKztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBncmFkaWVudDtcbn1cbiIsImltcG9ydCB7IGdldFJlc29sdXRpb25PZlVybCB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IHsgVGV4dHVyZSwgQmFzZVRleHR1cmUgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IFRleHRTdHlsZSwgVGV4dE1ldHJpY3MgfSBmcm9tICdAcGl4aS90ZXh0JztcbmltcG9ydCB7IGF1dG9EZXRlY3RGb3JtYXQgfSBmcm9tICcuL2Zvcm1hdHMnO1xuaW1wb3J0IHsgQml0bWFwRm9udERhdGEgfSBmcm9tICcuL0JpdG1hcEZvbnREYXRhJztcbmltcG9ydCB7IHJlc29sdmVDaGFyYWN0ZXJzLCBkcmF3R2x5cGggfSBmcm9tICcuL3V0aWxzJztcblxuaW1wb3J0IHR5cGUgeyBEaWN0IH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuaW1wb3J0IHR5cGUgeyBJVGV4dFN0eWxlIH0gZnJvbSAnQHBpeGkvdGV4dCc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUJpdG1hcEZvbnRDaGFyYWN0ZXJcbntcbiAgICB4T2Zmc2V0OiBudW1iZXI7XG4gICAgeU9mZnNldDogbnVtYmVyO1xuICAgIHhBZHZhbmNlOiBudW1iZXI7XG4gICAgdGV4dHVyZTogVGV4dHVyZTtcbiAgICBwYWdlOiBudW1iZXI7XG4gICAga2VybmluZzogRGljdDxudW1iZXI+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElCaXRtYXBGb250T3B0aW9uc1xue1xuICAgIGNoYXJzPzogc3RyaW5nIHwgKHN0cmluZyB8IHN0cmluZ1tdKVtdO1xuICAgIHJlc29sdXRpb24/OiBudW1iZXI7XG4gICAgcGFkZGluZz86IG51bWJlcjtcbiAgICB0ZXh0dXJlV2lkdGg/OiBudW1iZXI7XG4gICAgdGV4dHVyZUhlaWdodD86IG51bWJlcjtcbn1cblxuLyoqXG4gKiBCaXRtYXBGb250IHJlcHJlc2VudHMgYSB0eXBlZmFjZSBhdmFpbGFibGUgZm9yIHVzZSB3aXRoIHRoZSBCaXRtYXBUZXh0IGNsYXNzLiBVc2UgdGhlIGBpbnN0YWxsYFxuICogbWV0aG9kIGZvciBhZGRpbmcgYSBmb250IHRvIGJlIHVzZWQuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgY2xhc3MgQml0bWFwRm9udFxue1xuICAgIC8qKlxuICAgICAqIFRoaXMgY2hhcmFjdGVyIHNldCBpbmNsdWRlcyBhbGwgdGhlIGxldHRlcnMgaW4gdGhlIGFscGhhYmV0IChib3RoIGxvd2VyLSBhbmQgdXBwZXItIGNhc2UpLlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmdbXVtdfVxuICAgICAqIEBleGFtcGxlXG4gICAgICogQml0bWFwRm9udC5mcm9tKFwiRXhhbXBsZUZvbnRcIiwgc3R5bGUsIHsgY2hhcnM6IEJpdG1hcEZvbnQuQUxQSEEgfSlcbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEFMUEhBID0gW1snYScsICd6J10sIFsnQScsICdaJ10sICcgJ107XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGNoYXJhY3RlciBzZXQgaW5jbHVkZXMgYWxsIGRlY2ltYWwgZGlnaXRzIChmcm9tIDAgdG8gOSkuXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXIge3N0cmluZ1tdW119XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBCaXRtYXBGb250LmZyb20oXCJFeGFtcGxlRm9udFwiLCBzdHlsZSwgeyBjaGFyczogQml0bWFwRm9udC5OVU1FUklDIH0pXG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBOVU1FUklDID0gW1snMCcsICc5J11dO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBjaGFyYWN0ZXIgc2V0IGlzIHRoZSB1bmlvbiBvZiBgQml0bWFwRm9udC5BTFBIQWAgYW5kIGBCaXRtYXBGb250Lk5VTUVSSUNgLlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmdbXVtdfVxuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgQUxQSEFOVU1FUklDID0gW1snYScsICd6J10sIFsnQScsICdaJ10sIFsnMCcsICc5J10sICcgJ107XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGNoYXJhY3RlciBzZXQgY29uc2lzdHMgb2YgYWxsIHRoZSBBU0NJSSB0YWJsZS5cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlciB7c3RyaW5nW11bXX1cbiAgICAgKiBAc2VlIGh0dHA6Ly93d3cuYXNjaWl0YWJsZS5jb20vXG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBBU0NJSSA9IFtbJyAnLCAnfiddXTtcblxuICAgIC8qKlxuICAgICAqIENvbGxlY3Rpb24gb2YgZGVmYXVsdCBvcHRpb25zIHdoZW4gdXNpbmcgYEJpdG1hcEZvbnQuZnJvbWAuXG4gICAgICpcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlciB7UElYSS5JQml0bWFwRm9udE9wdGlvbnN9XG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IHJlc29sdXRpb249MVxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB0ZXh0dXJlV2lkdGg9NTEyXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IHRleHR1cmVIZWlnaHQ9NTEyXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IHBhZGRpbmc9NFxuICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfHN0cmluZ1tdfHN0cmluZ1tdW119IGNoYXJzPVBJWEkuQml0bWFwRm9udC5BTFBIQU5VTUVSSUNcbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IGRlZmF1bHRPcHRpb25zOiBJQml0bWFwRm9udE9wdGlvbnMgPSB7XG4gICAgICAgIHJlc29sdXRpb246IDEsXG4gICAgICAgIHRleHR1cmVXaWR0aDogNTEyLFxuICAgICAgICB0ZXh0dXJlSGVpZ2h0OiA1MTIsXG4gICAgICAgIHBhZGRpbmc6IDQsXG4gICAgICAgIGNoYXJzOiBCaXRtYXBGb250LkFMUEhBTlVNRVJJQyxcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ29sbGVjdGlvbiBvZiBhdmFpbGFibGUvaW5zdGFsbGVkIGZvbnRzLlxuICAgICAqXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXIge09iamVjdC48c3RyaW5nLCBQSVhJLkJpdG1hcEZvbnQ+fVxuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgYXZhaWxhYmxlOiBEaWN0PEJpdG1hcEZvbnQ+ID0ge307XG4gICAgcHVibGljIHJlYWRvbmx5IGZvbnQ6IHN0cmluZztcbiAgICBwdWJsaWMgcmVhZG9ubHkgc2l6ZTogbnVtYmVyO1xuICAgIHB1YmxpYyByZWFkb25seSBsaW5lSGVpZ2h0OiBudW1iZXI7XG4gICAgcHVibGljIHJlYWRvbmx5IGNoYXJzOiBEaWN0PElCaXRtYXBGb250Q2hhcmFjdGVyPjtcbiAgICBwdWJsaWMgcmVhZG9ubHkgcGFnZVRleHR1cmVzOiBEaWN0PFRleHR1cmU+O1xuICAgIHByaXZhdGUgX293bnNUZXh0dXJlczogYm9vbGVhbjtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5CaXRtYXBGb250RGF0YX0gZGF0YVxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlW118T2JqZWN0LjxzdHJpbmcsIFBJWEkuVGV4dHVyZT59IHRleHR1cmVzXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3duc1RleHR1cmVzXSAtIFNldHRpbmcgdG8gYHRydWVgIHdpbGwgZGVzdHJveSBwYWdlIHRleHR1cmVzXG4gICAgICogICAgICAgIHdoZW4gdGhlIGZvbnQgaXMgdW5pbnN0YWxsZWQuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoZGF0YTogQml0bWFwRm9udERhdGEsIHRleHR1cmVzOiBUZXh0dXJlW118RGljdDxUZXh0dXJlPiwgb3duc1RleHR1cmVzPzogYm9vbGVhbilcbiAgICB7XG4gICAgICAgIGNvbnN0IFtpbmZvXSA9IGRhdGEuaW5mbztcbiAgICAgICAgY29uc3QgW2NvbW1vbl0gPSBkYXRhLmNvbW1vbjtcbiAgICAgICAgY29uc3QgW3BhZ2VdID0gZGF0YS5wYWdlO1xuICAgICAgICBjb25zdCByZXMgPSBnZXRSZXNvbHV0aW9uT2ZVcmwocGFnZS5maWxlKTtcbiAgICAgICAgY29uc3QgcGFnZVRleHR1cmVzOiBEaWN0PFRleHR1cmU+ID0ge307XG5cbiAgICAgICAgdGhpcy5fb3duc1RleHR1cmVzID0gb3duc1RleHR1cmVzO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbmFtZSBvZiB0aGUgZm9udCBmYWNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mb250ID0gaW5mby5mYWNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc2l6ZSBvZiB0aGUgZm9udCBmYWNlIGluIHBpeGVscy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2l6ZSA9IGluZm8uc2l6ZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGxpbmUtaGVpZ2h0IG9mIHRoZSBmb250IGZhY2UgaW4gcGl4ZWxzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5saW5lSGVpZ2h0ID0gY29tbW9uLmxpbmVIZWlnaHQgLyByZXM7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtYXAgb2YgY2hhcmFjdGVycyBieSBjaGFyYWN0ZXIgY29kZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2hhcnMgPSB7fTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1hcCBvZiBiYXNlIHBhZ2UgdGV4dHVyZXMgKGkuZS4sIHNoZWV0cyBvZiBnbHlwaHMpLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wYWdlVGV4dHVyZXMgPSBwYWdlVGV4dHVyZXM7XG5cbiAgICAgICAgLy8gQ29udmVydCB0aGUgaW5wdXQgVGV4dHVyZSwgVGV4dHVyZXMgb3Igb2JqZWN0XG4gICAgICAgIC8vIGludG8gYSBwYWdlIFRleHR1cmUgbG9va3VwIGJ5IFwiaWRcIlxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEucGFnZS5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgeyBpZCwgZmlsZSB9ID0gZGF0YS5wYWdlW2ldO1xuXG4gICAgICAgICAgICBwYWdlVGV4dHVyZXNbaWRdID0gdGV4dHVyZXMgaW5zdGFuY2VvZiBBcnJheVxuICAgICAgICAgICAgICAgID8gdGV4dHVyZXNbaV0gOiB0ZXh0dXJlc1tmaWxlXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHBhcnNlIGxldHRlcnNcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLmNoYXIubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHsgaWQsIHBhZ2UgfSA9IGRhdGEuY2hhcltpXTtcbiAgICAgICAgICAgIGxldCB7IHgsIHksIHdpZHRoLCBoZWlnaHQsIHhvZmZzZXQsIHlvZmZzZXQsIHhhZHZhbmNlIH0gPSBkYXRhLmNoYXJbaV07XG5cbiAgICAgICAgICAgIHggLz0gcmVzO1xuICAgICAgICAgICAgeSAvPSByZXM7XG4gICAgICAgICAgICB3aWR0aCAvPSByZXM7XG4gICAgICAgICAgICBoZWlnaHQgLz0gcmVzO1xuICAgICAgICAgICAgeG9mZnNldCAvPSByZXM7XG4gICAgICAgICAgICB5b2Zmc2V0IC89IHJlcztcbiAgICAgICAgICAgIHhhZHZhbmNlIC89IHJlcztcblxuICAgICAgICAgICAgY29uc3QgcmVjdCA9IG5ldyBSZWN0YW5nbGUoXG4gICAgICAgICAgICAgICAgeCArIChwYWdlVGV4dHVyZXNbcGFnZV0uZnJhbWUueCAvIHJlcyksXG4gICAgICAgICAgICAgICAgeSArIChwYWdlVGV4dHVyZXNbcGFnZV0uZnJhbWUueSAvIHJlcyksXG4gICAgICAgICAgICAgICAgd2lkdGgsXG4gICAgICAgICAgICAgICAgaGVpZ2h0XG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICB0aGlzLmNoYXJzW2lkXSA9IHtcbiAgICAgICAgICAgICAgICB4T2Zmc2V0OiB4b2Zmc2V0LFxuICAgICAgICAgICAgICAgIHlPZmZzZXQ6IHlvZmZzZXQsXG4gICAgICAgICAgICAgICAgeEFkdmFuY2U6IHhhZHZhbmNlLFxuICAgICAgICAgICAgICAgIGtlcm5pbmc6IHt9LFxuICAgICAgICAgICAgICAgIHRleHR1cmU6IG5ldyBUZXh0dXJlKFxuICAgICAgICAgICAgICAgICAgICBwYWdlVGV4dHVyZXNbcGFnZV0uYmFzZVRleHR1cmUsXG4gICAgICAgICAgICAgICAgICAgIHJlY3RcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIHBhZ2UsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcGFyc2Uga2VybmluZ3NcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLmtlcm5pbmcubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCB7IGZpcnN0LCBzZWNvbmQsIGFtb3VudCB9ID0gZGF0YS5rZXJuaW5nW2ldO1xuXG4gICAgICAgICAgICBmaXJzdCAvPSByZXM7XG4gICAgICAgICAgICBzZWNvbmQgLz0gcmVzO1xuICAgICAgICAgICAgYW1vdW50IC89IHJlcztcblxuICAgICAgICAgICAgaWYgKHRoaXMuY2hhcnNbc2Vjb25kXSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNoYXJzW3NlY29uZF0ua2VybmluZ1tmaXJzdF0gPSBhbW91bnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgcmVmZXJlbmNlcyB0byBjcmVhdGVkIGdseXBoIHRleHR1cmVzLlxuICAgICAqL1xuICAgIHB1YmxpYyBkZXN0cm95KCk6IHZvaWRcbiAgICB7XG4gICAgICAgIGZvciAoY29uc3QgaWQgaW4gdGhpcy5jaGFycylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5jaGFyc1tpZF0udGV4dHVyZS5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLmNoYXJzW2lkXS50ZXh0dXJlID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoY29uc3QgaWQgaW4gdGhpcy5wYWdlVGV4dHVyZXMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9vd25zVGV4dHVyZXMpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYWdlVGV4dHVyZXNbaWRdLmRlc3Ryb3kodHJ1ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMucGFnZVRleHR1cmVzW2lkXSA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTZXQgcmVhZG9ubHkgbnVsbC5cbiAgICAgICAgKHRoaXMgYXMgYW55KS5jaGFycyA9IG51bGw7XG4gICAgICAgICh0aGlzIGFzIGFueSkucGFnZVRleHR1cmVzID0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZWdpc3RlciBhIG5ldyBiaXRtYXAgZm9udC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge1hNTERvY3VtZW50fHN0cmluZ3xQSVhJLkJpdG1hcEZvbnREYXRhfSBkYXRhIC0gVGhlXG4gICAgICogICAgICAgIGNoYXJhY3RlcnMgbWFwIHRoYXQgY291bGQgYmUgcHJvdmlkZWQgYXMgeG1sIG9yIHJhdyBzdHJpbmcuXG4gICAgICogQHBhcmFtIHtPYmplY3QuPHN0cmluZywgUElYSS5UZXh0dXJlPnxQSVhJLlRleHR1cmV8UElYSS5UZXh0dXJlW119XG4gICAgICogICAgICAgIHRleHR1cmVzIC0gTGlzdCBvZiB0ZXh0dXJlcyBmb3IgZWFjaCBwYWdlLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbWFuYWdlZFRleHR1cmUgLSBTZXQgdG8gYHRydWVgIHRvIGRlc3Ryb3kgcGFnZSB0ZXh0dXJlc1xuICAgICAqICAgICAgICB3aGVuIHRoZSBmb250IGlzIHVuaW5zdGFsbGVkLiBCeSBkZWZhdWx0IGZvbnRzIGNyZWF0ZWQgd2l0aFxuICAgICAqICAgICAgICBgQml0bWFwRm9udC5mcm9tYCBvciBmcm9tIHRoZSBgQml0bWFwRm9udExvYWRlcmAgYXJlIGB0cnVlYC5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkJpdG1hcEZvbnR9IFJlc3VsdCBmb250IG9iamVjdCB3aXRoIGZvbnQsIHNpemUsIGxpbmVIZWlnaHRcbiAgICAgKiAgICAgICAgIGFuZCBjaGFyIGZpZWxkcy5cbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIGluc3RhbGwoXG4gICAgICAgIGRhdGE6IHN0cmluZ3xYTUxEb2N1bWVudHxCaXRtYXBGb250RGF0YSxcbiAgICAgICAgdGV4dHVyZXM6IFRleHR1cmV8VGV4dHVyZVtdfERpY3Q8VGV4dHVyZT4sXG4gICAgICAgIG93bnNUZXh0dXJlcz86IGJvb2xlYW5cbiAgICApOiBCaXRtYXBGb250XG4gICAge1xuICAgICAgICBsZXQgZm9udERhdGE7XG5cbiAgICAgICAgaWYgKGRhdGEgaW5zdGFuY2VvZiBCaXRtYXBGb250RGF0YSlcbiAgICAgICAge1xuICAgICAgICAgICAgZm9udERhdGEgPSBkYXRhO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgZm9ybWF0ID0gYXV0b0RldGVjdEZvcm1hdChkYXRhKTtcblxuICAgICAgICAgICAgaWYgKCFmb3JtYXQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbnJlY29nbml6ZWQgZGF0YSBmb3JtYXQgZm9yIGZvbnQuJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvbnREYXRhID0gZm9ybWF0LnBhcnNlKGRhdGEgYXMgYW55KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNpbmdsZSB0ZXh0dXJlLCBjb252ZXJ0IHRvIGxpc3RcbiAgICAgICAgaWYgKHRleHR1cmVzIGluc3RhbmNlb2YgVGV4dHVyZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGV4dHVyZXMgPSBbdGV4dHVyZXNdO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZm9udCA9IG5ldyBCaXRtYXBGb250KGZvbnREYXRhLCB0ZXh0dXJlcywgb3duc1RleHR1cmVzKTtcblxuICAgICAgICBCaXRtYXBGb250LmF2YWlsYWJsZVtmb250LmZvbnRdID0gZm9udDtcblxuICAgICAgICByZXR1cm4gZm9udDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYml0bWFwIGZvbnQgYnkgbmFtZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIE5hbWUgb2YgdGhlIGZvbnQgdG8gdW5pbnN0YWxsLlxuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgdW5pbnN0YWxsKG5hbWU6IHN0cmluZyk6IHZvaWRcbiAgICB7XG4gICAgICAgIGNvbnN0IGZvbnQgPSBCaXRtYXBGb250LmF2YWlsYWJsZVtuYW1lXTtcblxuICAgICAgICBpZiAoIWZvbnQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTm8gZm9udCBmb3VuZCBuYW1lZCAnJHtuYW1lfSdgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvbnQuZGVzdHJveSgpO1xuICAgICAgICBkZWxldGUgQml0bWFwRm9udC5hdmFpbGFibGVbbmFtZV07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIGEgYml0bWFwLWZvbnQgZm9yIHRoZSBnaXZlbiBzdHlsZSBhbmQgY2hhcmFjdGVyIHNldC4gVGhpcyBkb2VzIG5vdCBzdXBwb3J0XG4gICAgICoga2VybmluZ3MgeWV0LiBXaXRoIGBzdHlsZWAgcHJvcGVydGllcywgb25seSB0aGUgZm9sbG93aW5nIG5vbi1sYXlvdXQgcHJvcGVydGllcyBhcmUgdXNlZDpcbiAgICAgKlxuICAgICAqIC0ge0BsaW5rIFBJWEkuVGV4dFN0eWxlI2Ryb3BTaGFkb3d8ZHJvcFNoYWRvd31cbiAgICAgKiAtIHtAbGluayBQSVhJLlRleHRTdHlsZSNkcm9wU2hhZG93RGlzdGFuY2V8ZHJvcFNoYWRvd0Rpc3RhbmNlfVxuICAgICAqIC0ge0BsaW5rIFBJWEkuVGV4dFN0eWxlI2Ryb3BTaGFkb3dDb2xvcnxkcm9wU2hhZG93Q29sb3J9XG4gICAgICogLSB7QGxpbmsgUElYSS5UZXh0U3R5bGUjZHJvcFNoYWRvd0JsdXJ8ZHJvcFNoYWRvd0JsdXJ9XG4gICAgICogLSB7QGxpbmsgUElYSS5UZXh0U3R5bGUjZHJvcFNoYWRvd0FuZ2xlfGRyb3BTaGFkb3dBbmdsZX1cbiAgICAgKiAtIHtAbGluayBQSVhJLlRleHRTdHlsZSNmaWxsfGZpbGx9XG4gICAgICogLSB7QGxpbmsgUElYSS5UZXh0U3R5bGUjZmlsbEdyYWRpZW50U3RvcHN8ZmlsbEdyYWRpZW50U3RvcHN9XG4gICAgICogLSB7QGxpbmsgUElYSS5UZXh0U3R5bGUjZmlsbEdyYWRpZW50VHlwZXxmaWxsR3JhZGllbnRUeXBlfVxuICAgICAqIC0ge0BsaW5rIFBJWEkuVGV4dFN0eWxlI2ZvbnRGYW1pbHl8Zm9udEZhbWlseX1cbiAgICAgKiAtIHtAbGluayBQSVhJLlRleHRTdHlsZSNmb250U2l6ZXxmb250U2l6ZX1cbiAgICAgKiAtIHtAbGluayBQSVhJLlRleHRTdHlsZSNmb250VmFyaWFudHxmb250VmFyaWFudH1cbiAgICAgKiAtIHtAbGluayBQSVhJLlRleHRTdHlsZSNmb250V2VpZ2h0fGZvbnRXZWlnaHR9XG4gICAgICogLSB7QGxpbmsgUElYSS5UZXh0U3R5bGUjbGluZUpvaW58bGluZUpvaW59XG4gICAgICogLSB7QGxpbmsgUElYSS5UZXh0U3R5bGUjbWl0ZXJMaW1pdHxtaXRlckxpbWl0fVxuICAgICAqIC0ge0BsaW5rIFBJWEkuVGV4dFN0eWxlI3N0cm9rZXxzdHJva2V9XG4gICAgICogLSB7QGxpbmsgUElYSS5UZXh0U3R5bGUjc3Ryb2tlVGhpY2tuZXNzfHN0cm9rZVRoaWNrbmVzc31cbiAgICAgKiAtIHtAbGluayBQSVhJLlRleHRTdHlsZSN0ZXh0QmFzZWxpbmV8dGV4dEJhc2VsaW5lfVxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgY3VzdG9tIGZvbnQgdG8gdXNlIHdpdGggQml0bWFwVGV4dC5cbiAgICAgKiBAcGFyYW0ge29iamVjdHxQSVhJLlRleHRTdHlsZX0gW3N0eWxlXSAtIFN0eWxlIG9wdGlvbnMgdG8gcmVuZGVyIHdpdGggQml0bWFwRm9udC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuSUJpdG1hcEZvbnRPcHRpb25zfSBbb3B0aW9uc10gLSBTZXR1cCBvcHRpb25zIGZvciBmb250IG9yIG5hbWUgb2YgdGhlIGZvbnQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd8c3RyaW5nW118c3RyaW5nW11bXX0gW29wdGlvbnMuY2hhcnM9UElYSS5CaXRtYXBGb250LkFMUEhBTlVNRVJJQ10gLSBjaGFyYWN0ZXJzIGluY2x1ZGVkXG4gICAgICogICAgICBpbiB0aGUgZm9udCBzZXQuIFlvdSBjYW4gYWxzbyB1c2UgcmFuZ2VzLiBGb3IgZXhhbXBsZSwgYFtbJ2EnLCAneiddLCBbJ0EnLCAnWiddLCBcIiFAIyQlXiYqKCl+e31bXSBcIl1gLlxuICAgICAqICAgICAgRG9uJ3QgZm9yZ2V0IHRvIGluY2x1ZGUgc3BhY2VzICcgJyBpbiB5b3VyIGNoYXJhY3RlciBzZXQhXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnJlc29sdXRpb249MV0gLSBSZW5kZXIgcmVzb2x1dGlvbiBmb3IgZ2x5cGhzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy50ZXh0dXJlV2lkdGg9NTEyXSAtIE9wdGlvbmFsIHdpZHRoIG9mIGF0bGFzLCBzbWFsbGVyIHZhbHVlcyB0byByZWR1Y2UgbWVtb3J5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy50ZXh0dXJlSGVpZ2h0PTUxMl0gLSBPcHRpb25hbCBoZWlnaHQgb2YgYXRsYXMsIHNtYWxsZXIgdmFsdWVzIHRvIHJlZHVjZSBtZW1vcnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnBhZGRpbmc9NF0gLSBQYWRkaW5nIGJldHdlZW4gZ2x5cGhzIG9uIHRleHR1cmUgYXRsYXMuXG4gICAgICogQHJldHVybiB7UElYSS5CaXRtYXBGb250fSBGb250IGdlbmVyYXRlZCBieSBzdHlsZSBvcHRpb25zLlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIFBJWEkuQml0bWFwRm9udC5mcm9tKFwiVGl0bGVGb250XCIsIHtcbiAgICAgKiAgICAgZm9udEZhbWlseTogXCJBcmlhbFwiLFxuICAgICAqICAgICBmb250U2l6ZTogMTIsXG4gICAgICogICAgIHN0cm9rZVRoaWNrbmVzczogMixcbiAgICAgKiAgICAgZmlsbDogXCJwdXJwbGVcIlxuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogY29uc3QgdGl0bGUgPSBuZXcgUElYSS5CaXRtYXBUZXh0KFwiVGhpcyBpcyB0aGUgdGl0bGVcIiwgeyBmb250TmFtZTogXCJUaXRsZUZvbnRcIiB9KTtcbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIGZyb20obmFtZTogc3RyaW5nLCB0ZXh0U3R5bGU/OiBUZXh0U3R5bGUgfCBQYXJ0aWFsPElUZXh0U3R5bGU+LCBvcHRpb25zPzogSUJpdG1hcEZvbnRPcHRpb25zKTogQml0bWFwRm9udFxuICAgIHtcbiAgICAgICAgaWYgKCFuYW1lKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1tCaXRtYXBGb250XSBQcm9wZXJ0eSBgbmFtZWAgaXMgcmVxdWlyZWQuJyk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBjaGFycyxcbiAgICAgICAgICAgIHBhZGRpbmcsXG4gICAgICAgICAgICByZXNvbHV0aW9uLFxuICAgICAgICAgICAgdGV4dHVyZVdpZHRoLFxuICAgICAgICAgICAgdGV4dHVyZUhlaWdodCB9ID0gT2JqZWN0LmFzc2lnbihcbiAgICAgICAgICAgIHt9LCBCaXRtYXBGb250LmRlZmF1bHRPcHRpb25zLCBvcHRpb25zKTtcblxuICAgICAgICBjb25zdCBjaGFyc0xpc3QgPSByZXNvbHZlQ2hhcmFjdGVycyhjaGFycyk7XG4gICAgICAgIGNvbnN0IHN0eWxlID0gdGV4dFN0eWxlIGluc3RhbmNlb2YgVGV4dFN0eWxlID8gdGV4dFN0eWxlIDogbmV3IFRleHRTdHlsZSh0ZXh0U3R5bGUpO1xuICAgICAgICBjb25zdCBsaW5lV2lkdGggPSB0ZXh0dXJlV2lkdGg7XG4gICAgICAgIGNvbnN0IGZvbnREYXRhID0gbmV3IEJpdG1hcEZvbnREYXRhKCk7XG5cbiAgICAgICAgZm9udERhdGEuaW5mb1swXSA9IHtcbiAgICAgICAgICAgIGZhY2U6IHN0eWxlLmZvbnRGYW1pbHkgYXMgc3RyaW5nLFxuICAgICAgICAgICAgc2l6ZTogc3R5bGUuZm9udFNpemUgYXMgbnVtYmVyLFxuICAgICAgICB9O1xuICAgICAgICBmb250RGF0YS5jb21tb25bMF0gPSB7XG4gICAgICAgICAgICBsaW5lSGVpZ2h0OiBzdHlsZS5mb250U2l6ZSBhcyBudW1iZXIsXG4gICAgICAgIH07XG5cbiAgICAgICAgbGV0IHBvc2l0aW9uWCA9IDA7XG4gICAgICAgIGxldCBwb3NpdGlvblkgPSAwO1xuXG4gICAgICAgIGxldCBjYW52YXM7XG4gICAgICAgIGxldCBjb250ZXh0O1xuICAgICAgICBsZXQgYmFzZVRleHR1cmU7XG4gICAgICAgIGxldCBtYXhDaGFySGVpZ2h0ID0gMDtcbiAgICAgICAgY29uc3QgYmFzZVRleHR1cmVzID0gW107XG4gICAgICAgIGNvbnN0IHRleHR1cmVzOiBUZXh0dXJlW10gPSBbXTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoYXJzTGlzdC5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCFjYW52YXMpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgICAgICAgICAgY2FudmFzLndpZHRoID0gdGV4dHVyZVdpZHRoO1xuICAgICAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSB0ZXh0dXJlSGVpZ2h0O1xuXG4gICAgICAgICAgICAgICAgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlID0gbmV3IEJhc2VUZXh0dXJlKGNhbnZhcywgeyByZXNvbHV0aW9uIH0pO1xuXG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmVzLnB1c2goYmFzZVRleHR1cmUpO1xuICAgICAgICAgICAgICAgIHRleHR1cmVzLnB1c2gobmV3IFRleHR1cmUoYmFzZVRleHR1cmUpKTtcblxuICAgICAgICAgICAgICAgIGZvbnREYXRhLnBhZ2UucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGlkOiB0ZXh0dXJlcy5sZW5ndGggLSAxLFxuICAgICAgICAgICAgICAgICAgICBmaWxlOiAnJyxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gTWVhc3VyZSBnbHlwaCBkaW1lbnNpb25zXG4gICAgICAgICAgICBjb25zdCBtZXRyaWNzID0gVGV4dE1ldHJpY3MubWVhc3VyZVRleHQoY2hhcnNMaXN0W2ldLCBzdHlsZSwgZmFsc2UsIGNhbnZhcyk7XG4gICAgICAgICAgICBjb25zdCB3aWR0aCA9IG1ldHJpY3Mud2lkdGg7XG4gICAgICAgICAgICBjb25zdCBoZWlnaHQgPSBNYXRoLmNlaWwobWV0cmljcy5oZWlnaHQpO1xuXG4gICAgICAgICAgICAvLyBUaGlzIGlzIHVnbHkgLSBidXQgaXRhbGljcyBhcmUgZ2l2ZW4gbW9yZSBzcGFjZSBzbyB0aGV5IGRvbid0IG92ZXJsYXBcbiAgICAgICAgICAgIGNvbnN0IHRleHR1cmVHbHlwaFdpZHRoID0gTWF0aC5jZWlsKChzdHlsZS5mb250U3R5bGUgPT09ICdpdGFsaWMnID8gMiA6IDEpICogd2lkdGgpO1xuXG4gICAgICAgICAgICAvLyBDYW4ndCBmaXQgY2hhciBhbnltb3JlOiBuZXh0IGNhbnZhcyBwbGVhc2UhXG4gICAgICAgICAgICBpZiAocG9zaXRpb25ZID49IHRleHR1cmVIZWlnaHQgLSAoaGVpZ2h0ICogcmVzb2x1dGlvbikpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKHBvc2l0aW9uWSA9PT0gMClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFdlIGRvbid0IHdhbnQgdXNlciBkZWJ1Z2dpbmcgYW4gaW5maW5pdGUgbG9vcCAob3IgZG8gd2U/IDopXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgW0JpdG1hcEZvbnRdIHRleHR1cmVIZWlnaHQgJHt0ZXh0dXJlSGVpZ2h0fXB4IGlzIGBcbiAgICAgICAgICAgICAgICAgICAgICAgICsgYHRvbyBzbWFsbCBmb3IgJHtzdHlsZS5mb250U2l6ZX1weCBmb250c2ApO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC0taTtcblxuICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBuZXcgYXRsYXMgb25jZSBjdXJyZW50IGhhcyBmaWxsZWQgdXBcbiAgICAgICAgICAgICAgICBjYW52YXMgPSBudWxsO1xuICAgICAgICAgICAgICAgIGNvbnRleHQgPSBudWxsO1xuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBwb3NpdGlvblkgPSAwO1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uWCA9IDA7XG4gICAgICAgICAgICAgICAgbWF4Q2hhckhlaWdodCA9IDA7XG5cbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbWF4Q2hhckhlaWdodCA9IE1hdGgubWF4KGhlaWdodCArIG1ldHJpY3MuZm9udFByb3BlcnRpZXMuZGVzY2VudCwgbWF4Q2hhckhlaWdodCk7XG5cbiAgICAgICAgICAgIC8vIFdyYXAgbGluZSBvbmNlIGZ1bGwgcm93IGhhcyBiZWVuIHJlbmRlcmVkXG4gICAgICAgICAgICBpZiAoKHRleHR1cmVHbHlwaFdpZHRoICogcmVzb2x1dGlvbikgKyBwb3NpdGlvblggPj0gbGluZVdpZHRoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC0taTtcbiAgICAgICAgICAgICAgICBwb3NpdGlvblkgKz0gbWF4Q2hhckhlaWdodCAqIHJlc29sdXRpb247XG4gICAgICAgICAgICAgICAgcG9zaXRpb25ZID0gTWF0aC5jZWlsKHBvc2l0aW9uWSk7XG4gICAgICAgICAgICAgICAgcG9zaXRpb25YID0gMDtcbiAgICAgICAgICAgICAgICBtYXhDaGFySGVpZ2h0ID0gMDtcblxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkcmF3R2x5cGgoY2FudmFzLCBjb250ZXh0LCBtZXRyaWNzLCBwb3NpdGlvblgsIHBvc2l0aW9uWSwgcmVzb2x1dGlvbiwgc3R5bGUpO1xuXG4gICAgICAgICAgICAvLyBVbmlxdWUgKG51bWVyaWMpIElEIG1hcHBpbmcgdG8gdGhpcyBnbHlwaFxuICAgICAgICAgICAgY29uc3QgaWQgPSBtZXRyaWNzLnRleHQuY2hhckNvZGVBdCgwKTtcblxuICAgICAgICAgICAgLy8gQ3JlYXRlIGEgdGV4dHVyZSBob2xkaW5nIGp1c3QgdGhlIGdseXBoXG4gICAgICAgICAgICBmb250RGF0YS5jaGFyLnB1c2goe1xuICAgICAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgICAgIHBhZ2U6IHRleHR1cmVzLmxlbmd0aCAtIDEsXG4gICAgICAgICAgICAgICAgeDogcG9zaXRpb25YIC8gcmVzb2x1dGlvbixcbiAgICAgICAgICAgICAgICB5OiBwb3NpdGlvblkgLyByZXNvbHV0aW9uLFxuICAgICAgICAgICAgICAgIHdpZHRoOiB0ZXh0dXJlR2x5cGhXaWR0aCxcbiAgICAgICAgICAgICAgICBoZWlnaHQsXG4gICAgICAgICAgICAgICAgeG9mZnNldDogMCxcbiAgICAgICAgICAgICAgICB5b2Zmc2V0OiAwLFxuICAgICAgICAgICAgICAgIHhhZHZhbmNlOiBNYXRoLmNlaWwod2lkdGhcbiAgICAgICAgICAgICAgICAgICAgICAgIC0gKHN0eWxlLmRyb3BTaGFkb3cgPyBzdHlsZS5kcm9wU2hhZG93RGlzdGFuY2UgOiAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgLSAoc3R5bGUuc3Ryb2tlID8gc3R5bGUuc3Ryb2tlVGhpY2tuZXNzIDogMCkpLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHBvc2l0aW9uWCArPSAodGV4dHVyZUdseXBoV2lkdGggKyAoMiAqIHBhZGRpbmcpKSAqIHJlc29sdXRpb247XG4gICAgICAgICAgICBwb3NpdGlvblggPSBNYXRoLmNlaWwocG9zaXRpb25YKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGZvbnQgPSBuZXcgQml0bWFwRm9udChmb250RGF0YSwgdGV4dHVyZXMsIHRydWUpO1xuXG4gICAgICAgIC8vIE1ha2UgaXQgZWFzaWVyIHRvIHJlcGxhY2UgYSBmb250XG4gICAgICAgIGlmIChCaXRtYXBGb250LmF2YWlsYWJsZVtuYW1lXSAhPT0gdW5kZWZpbmVkKVxuICAgICAgICB7XG4gICAgICAgICAgICBCaXRtYXBGb250LnVuaW5zdGFsbChuYW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIEJpdG1hcEZvbnQuYXZhaWxhYmxlW25hbWVdID0gZm9udDtcblxuICAgICAgICByZXR1cm4gZm9udDtcbiAgICB9XG59XG5cbi8qKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBpbnRlcmZhY2UgSUJpdG1hcEZvbnRPcHRpb25zXG4gKiBAcHJvcGVydHkge3N0cmluZyB8IHN0cmluZ1tdIHwgc3RyaW5nW11bXX0gW2NoYXJzPVBJWEkuQml0bWFwRm9udC5BTFBIQU5VTUVSSUNdIC0gdGhlIGNoYXJhY3RlciBzZXQgdG8gZ2VuZXJhdGVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbcmVzb2x1dGlvbj0xXSAtIHRoZSByZXNvbHV0aW9uIGZvciByZW5kZXJpbmdcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbcGFkZGluZz00XSAtIHRoZSBwYWRkaW5nIGJldHdlZW4gZ2x5cGhzIGluIHRoZSBhdGxhc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFt0ZXh0dXJlV2lkdGg9NTEyXSAtIHRoZSB3aWR0aCBvZiB0aGUgdGV4dHVyZSBhdGxhc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFt0ZXh0dXJlSGVpZ2h0PTUxMl0gLSB0aGUgaGVpZ2h0IG9mIHRoZSB0ZXh0dXJlIGF0bGFzXG4gKi9cblxuIiwiLyoqXG4gKiBQcm9jZXNzZXMgdGhlIHBhc3NlZCBjaGFyYWN0ZXIgc2V0IGRhdGEgYW5kIHJldHVybnMgYSBmbGF0dGVuZWQgYXJyYXkgb2YgYWxsIHRoZSBjaGFyYWN0ZXJzLlxuICpcbiAqIElnbm9yZWQgYmVjYXVzZSBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcGFyYW0ge3N0cmluZyB8IHN0cmluZ1tdIHwgc3RyaW5nW11bXSB9IGNoYXJzXG4gKiBAcmV0dXJucyB7c3RyaW5nW119XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlQ2hhcmFjdGVycyhjaGFyczogc3RyaW5nIHwgKHN0cmluZyB8IHN0cmluZ1tdKVtdKTogc3RyaW5nW11cbntcbiAgICAvLyBTcGxpdCB0aGUgY2hhcnMgc3RyaW5nIGludG8gaW5kaXZpZHVhbCBjaGFyYWN0ZXJzXG4gICAgaWYgKHR5cGVvZiBjaGFycyA9PT0gJ3N0cmluZycpXG4gICAge1xuICAgICAgICBjaGFycyA9IFtjaGFyc107XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIGFuIGFycmF5IG9mIGNoYXJhY3RlcnMrcmFuZ2VzXG4gICAgY29uc3QgcmVzdWx0OiBzdHJpbmdbXSA9IFtdO1xuXG4gICAgZm9yIChsZXQgaSA9IDAsIGogPSBjaGFycy5sZW5ndGg7IGkgPCBqOyBpKyspXG4gICAge1xuICAgICAgICBjb25zdCBpdGVtID0gY2hhcnNbaV07XG5cbiAgICAgICAgLy8gSGFuZGxlIHJhbmdlIGRlbGltaXRlZCBieSBzdGFydC9lbmQgY2hhcnNcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoaXRlbSkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChpdGVtLmxlbmd0aCAhPT0gMilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFtCaXRtYXBGb250XTogSW52YWxpZCBjaGFyYWN0ZXIgcmFuZ2UgbGVuZ3RoLCBleHBlY3RpbmcgMiBnb3QgJHtpdGVtLmxlbmd0aH0uYCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0Q29kZSA9IGl0ZW1bMF0uY2hhckNvZGVBdCgwKTtcbiAgICAgICAgICAgIGNvbnN0IGVuZENvZGUgPSBpdGVtWzFdLmNoYXJDb2RlQXQoMCk7XG5cbiAgICAgICAgICAgIGlmIChlbmRDb2RlIDwgc3RhcnRDb2RlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignW0JpdG1hcEZvbnRdOiBJbnZhbGlkIGNoYXJhY3RlciByYW5nZS4nKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IHN0YXJ0Q29kZSwgaiA9IGVuZENvZGU7IGkgPD0gajsgaSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUoaSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIEhhbmRsZSBhIGNoYXJhY3RlciBzZXQgc3RyaW5nXG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2goLi4uaXRlbS5zcGxpdCgnJykpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHJlc3VsdC5sZW5ndGggPT09IDApXG4gICAge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1tCaXRtYXBGb250XTogRW1wdHkgc2V0IHdoZW4gcmVzb2x2aW5nIGNoYXJhY3RlcnMuJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbiIsImltcG9ydCB7IE9ic2VydmFibGVQb2ludCwgUG9pbnQgfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuaW1wb3J0IHsgTWVzaCwgTWVzaEdlb21ldHJ5LCBNZXNoTWF0ZXJpYWwgfSBmcm9tICdAcGl4aS9tZXNoJztcbmltcG9ydCB7IHJlbW92ZUl0ZW1zLCBkZXByZWNhdGlvbiB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCB7IEJpdG1hcEZvbnQgfSBmcm9tICcuL0JpdG1hcEZvbnQnO1xuXG5pbXBvcnQgdHlwZSB7IERpY3QgfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgdHlwZSB7IFJlY3RhbmdsZSB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IHsgVGV4dHVyZSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHR5cGUgeyBJQml0bWFwVGV4dFN0eWxlIH0gZnJvbSAnLi9CaXRtYXBUZXh0U3R5bGUnO1xuaW1wb3J0IHR5cGUgeyBUZXh0U3R5bGVBbGlnbiB9IGZyb20gJ0BwaXhpL3RleHQnO1xuaW1wb3J0IHR5cGUgeyBCaXRtYXBGb250RGF0YSB9IGZyb20gJy4vQml0bWFwRm9udERhdGEnO1xuaW1wb3J0IHsgQ29udGFpbmVyIH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5pbXBvcnQgdHlwZSB7IElEZXN0cm95T3B0aW9ucyB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuXG5pbnRlcmZhY2UgUGFnZU1lc2hEYXRhIHtcbiAgICBpbmRleDogbnVtYmVyO1xuICAgIGluZGV4Q291bnQ6IG51bWJlcjtcbiAgICB2ZXJ0ZXhDb3VudDogbnVtYmVyO1xuICAgIHV2c0NvdW50OiBudW1iZXI7XG4gICAgdG90YWw6IG51bWJlcjtcbiAgICBtZXNoOiBNZXNoO1xuICAgIHZlcnRpY2VzPzogRmxvYXQzMkFycmF5O1xuICAgIHV2cz86IEZsb2F0MzJBcnJheTtcbiAgICBpbmRpY2VzPzogVWludDE2QXJyYXk7XG59XG5pbnRlcmZhY2UgQ2hhclJlbmRlckRhdGEge1xuICAgIHRleHR1cmU6IFRleHR1cmU7XG4gICAgbGluZTogbnVtYmVyO1xuICAgIGNoYXJDb2RlOiBudW1iZXI7XG4gICAgcG9zaXRpb246IFBvaW50O1xufVxuXG5jb25zdCBwYWdlTWVzaERhdGFQb29sOiBQYWdlTWVzaERhdGFbXSA9IFtdO1xuY29uc3QgY2hhclJlbmRlckRhdGFQb29sOiBDaGFyUmVuZGVyRGF0YVtdID0gW107XG5cbi8qKlxuICogQSBCaXRtYXBUZXh0IG9iamVjdCB3aWxsIGNyZWF0ZSBhIGxpbmUgb3IgbXVsdGlwbGUgbGluZXMgb2YgdGV4dCB1c2luZyBiaXRtYXAgZm9udC5cbiAqXG4gKiBUaGUgcHJpbWFyeSBhZHZhbnRhZ2Ugb2YgdGhpcyBjbGFzcyBvdmVyIFRleHQgaXMgdGhhdCBhbGwgb2YgeW91ciB0ZXh0dXJlcyBhcmUgcHJlLWdlbmVyYXRlZCBhbmQgbG9hZGluZyxcbiAqIG1lYW5pbmcgdGhhdCByZW5kZXJpbmcgaXMgZmFzdCwgYW5kIGNoYW5naW5nIHRleHQgaGFzIG5vIHBlcmZvcm1hbmNlIGltcGxpY2F0aW9ucy5cbiAqXG4gKiBTdXBwb3J0aW5nIGNoYXJhY3RlciBzZXRzIG90aGVyIHRoYW4gbGF0aW4sIHN1Y2ggYXMgQ0pLIGxhbmd1YWdlcywgbWF5IGJlIGltcHJhY3RpY2FsIGR1ZSB0byB0aGUgbnVtYmVyIG9mIGNoYXJhY3RlcnMuXG4gKlxuICogVG8gc3BsaXQgYSBsaW5lIHlvdSBjYW4gdXNlICdcXG4nLCAnXFxyJyBvciAnXFxyXFxuJyBpbiB5b3VyIHN0cmluZy5cbiAqXG4gKiBQaXhpSlMgY2FuIGF1dG8tZ2VuZXJhdGUgZm9udHMgb24tdGhlLWZseSB1c2luZyBCaXRtYXBGb250IG9yIHVzZSBmbnQgZmlsZXMgcHJvdmlkZWQgYnk6XG4gKiBodHRwOi8vd3d3LmFuZ2VsY29kZS5jb20vcHJvZHVjdHMvYm1mb250LyBmb3IgV2luZG93cyBvclxuICogaHR0cDovL3d3dy5ibWdseXBoLmNvbS8gZm9yIE1hYy5cbiAqXG4gKiBBIEJpdG1hcFRleHQgY2FuIG9ubHkgYmUgY3JlYXRlZCB3aGVuIHRoZSBmb250IGlzIGxvYWRlZC5cbiAqXG4gKiBgYGBqc1xuICogLy8gaW4gdGhpcyBjYXNlIHRoZSBmb250IGlzIGluIGEgZmlsZSBjYWxsZWQgJ2Rlc3lyZWwuZm50J1xuICogbGV0IGJpdG1hcFRleHQgPSBuZXcgUElYSS5CaXRtYXBUZXh0KFwidGV4dCB1c2luZyBhIGZhbmN5IGZvbnQhXCIsIHtmb250OiBcIjM1cHggRGVzeXJlbFwiLCBhbGlnbjogXCJyaWdodFwifSk7XG4gKiBgYGBcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuQ29udGFpbmVyXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgY2xhc3MgQml0bWFwVGV4dCBleHRlbmRzIENvbnRhaW5lclxue1xuICAgIHB1YmxpYyBzdGF0aWMgc3R5bGVEZWZhdWx0czogUGFydGlhbDxJQml0bWFwVGV4dFN0eWxlPiA9IHtcbiAgICAgICAgYWxpZ246ICdsZWZ0JyxcbiAgICAgICAgdGludDogMHhGRkZGRkYsXG4gICAgICAgIG1heFdpZHRoOiAwLFxuICAgICAgICBsZXR0ZXJTcGFjaW5nOiAwLFxuICAgIH07XG4gICAgcHVibGljIGRpcnR5OiBib29sZWFuO1xuICAgIHByb3RlY3RlZCBfdGV4dFdpZHRoOiBudW1iZXI7XG4gICAgcHJvdGVjdGVkIF90ZXh0SGVpZ2h0OiBudW1iZXI7XG4gICAgcHJvdGVjdGVkIF90ZXh0OiBzdHJpbmc7XG4gICAgcHJvdGVjdGVkIF9tYXhXaWR0aDogbnVtYmVyO1xuICAgIHByb3RlY3RlZCBfbWF4TGluZUhlaWdodDogbnVtYmVyO1xuICAgIHByb3RlY3RlZCBfbGV0dGVyU3BhY2luZzogbnVtYmVyO1xuICAgIHByb3RlY3RlZCBfYW5jaG9yOiBPYnNlcnZhYmxlUG9pbnQ7XG4gICAgcHJvdGVjdGVkIF9mb250TmFtZTogc3RyaW5nO1xuICAgIHByb3RlY3RlZCBfZm9udFNpemU6IG51bWJlcjtcbiAgICBwcm90ZWN0ZWQgX2FsaWduOiBUZXh0U3R5bGVBbGlnbjtcbiAgICBwcm90ZWN0ZWQgX2FjdGl2ZVBhZ2VzTWVzaERhdGE6IFBhZ2VNZXNoRGF0YVtdO1xuICAgIHByb3RlY3RlZCBfdGludCA9IDB4RkZGRkZGO1xuICAgIHByb3RlY3RlZCBfcm91bmRQaXhlbHM6IGJvb2xlYW47XG4gICAgcHJpdmF0ZSBfdGV4dHVyZUNhY2hlOiBSZWNvcmQ8bnVtYmVyLCBUZXh0dXJlPjtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IC0gQSBzdHJpbmcgdGhhdCB5b3Ugd291bGQgbGlrZSB0aGUgdGV4dCB0byBkaXNwbGF5LlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBzdHlsZSAtIFRoZSBzdHlsZSBwYXJhbWV0ZXJzLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdHlsZS5mb250TmFtZSAtIFRoZSBpbnN0YWxsZWQgQml0bWFwRm9udCBuYW1lLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUuZm9udFNpemVdIC0gVGhlIHNpemUgb2YgdGhlIGZvbnQgaW4gcGl4ZWxzLCBlLmcuIDI0LiBJZiB1bmRlZmluZWQsXG4gICAgICouICAgICB0aGlzIHdpbGwgZGVmYXVsdCB0byB0aGUgQml0bWFwRm9udCBzaXplLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3R5bGUuYWxpZ249J2xlZnQnXSAtIEFsaWdubWVudCBmb3IgbXVsdGlsaW5lIHRleHQgKCdsZWZ0JywgJ2NlbnRlcicgb3IgJ3JpZ2h0JyksXG4gICAgICogICAgICBkb2VzIG5vdCBhZmZlY3Qgc2luZ2xlIGxpbmUgdGV4dC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLnRpbnQ9MHhGRkZGRkZdIC0gVGhlIHRpbnQgY29sb3IuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5sZXR0ZXJTcGFjaW5nPTBdIC0gVGhlIGFtb3VudCBvZiBzcGFjaW5nIGJldHdlZW4gbGV0dGVycy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLm1heFdpZHRoPTBdIC0gVGhlIG1heCB3aWR0aCBvZiB0aGUgdGV4dCBiZWZvcmUgbGluZSB3cmFwcGluZy5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih0ZXh0OiBzdHJpbmcsIHN0eWxlOiBQYXJ0aWFsPElCaXRtYXBUZXh0U3R5bGU+ID0ge30pXG4gICAge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIGlmIChzdHlsZS5mb250KVxuICAgICAgICB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbignNS4zLjAnLCAnUElYSS5CaXRtYXBUZXh0IGNvbnN0cnVjdG9yIHN0eWxlLmZvbnQgcHJvcGVydHkgaXMgZGVwcmVjYXRlZC4nKTtcblxuICAgICAgICAgICAgdGhpcy5fdXBncmFkZVN0eWxlKHN0eWxlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFwcGx5IHRoZSBkZWZhdWx0c1xuICAgICAgICBjb25zdCB7IGFsaWduLCB0aW50LCBtYXhXaWR0aCwgbGV0dGVyU3BhY2luZywgZm9udE5hbWUsIGZvbnRTaXplIH0gPSBPYmplY3QuYXNzaWduKFxuICAgICAgICAgICAge30sIEJpdG1hcFRleHQuc3R5bGVEZWZhdWx0cywgc3R5bGUpO1xuXG4gICAgICAgIGlmICghQml0bWFwRm9udC5hdmFpbGFibGVbZm9udE5hbWVdKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE1pc3NpbmcgQml0bWFwRm9udCBcIiR7Zm9udE5hbWV9XCJgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb2xsZWN0aW9uIG9mIHBhZ2UgbWVzaCBkYXRhLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9hY3RpdmVQYWdlc01lc2hEYXRhID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgdHJhY2tlciBmb3IgdGhlIHdpZHRoIG9mIHRoZSBvdmVyYWxsIHRleHRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdGV4dFdpZHRoID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSB0cmFja2VyIGZvciB0aGUgaGVpZ2h0IG9mIHRoZSBvdmVyYWxsIHRleHRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdGV4dEhlaWdodCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgdHJhY2tlciBmb3IgdGhlIGN1cnJlbnQgdGV4dCBhbGlnbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYWxpZ24gPSBhbGlnbjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSB0cmFja2VyIGZvciB0aGUgY3VycmVudCB0aW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl90aW50ID0gdGludDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSB0cmFja2VyIGZvciB0aGUgY3VycmVudCBmb250IG5hbWUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2ZvbnROYW1lID0gZm9udE5hbWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgdHJhY2tlciBmb3IgdGhlIGN1cnJlbnQgZm9udCBzaXplLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9mb250U2l6ZSA9IGZvbnRTaXplIHx8IEJpdG1hcEZvbnQuYXZhaWxhYmxlW2ZvbnROYW1lXS5zaXplO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIHRyYWNrZXIgZm9yIHRoZSBjdXJyZW50IHRleHQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3RleHQgPSB0ZXh0O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWF4IHdpZHRoIG9mIHRoaXMgYml0bWFwIHRleHQgaW4gcGl4ZWxzLiBJZiB0aGUgdGV4dCBwcm92aWRlZCBpcyBsb25nZXIgdGhhbiB0aGVcbiAgICAgICAgICogdmFsdWUgcHJvdmlkZWQsIGxpbmUgYnJlYWtzIHdpbGwgYmUgYXV0b21hdGljYWxseSBpbnNlcnRlZCBpbiB0aGUgbGFzdCB3aGl0ZXNwYWNlLlxuICAgICAgICAgKiBEaXNhYmxlIGJ5IHNldHRpbmcgdmFsdWUgdG8gMFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9tYXhXaWR0aCA9IG1heFdpZHRoO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWF4IGxpbmUgaGVpZ2h0LiBUaGlzIGlzIHVzZWZ1bCB3aGVuIHRyeWluZyB0byB1c2UgdGhlIHRvdGFsIGhlaWdodCBvZiB0aGUgVGV4dCxcbiAgICAgICAgICogaWU6IHdoZW4gdHJ5aW5nIHRvIHZlcnRpY2FsbHkgYWxpZ24uIChJbnRlcm5hbGx5IHVzZWQpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX21heExpbmVIZWlnaHQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMZXR0ZXIgc3BhY2luZy4gVGhpcyBpcyB1c2VmdWwgZm9yIHNldHRpbmcgdGhlIHNwYWNlIGJldHdlZW4gY2hhcmFjdGVycy5cbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fbGV0dGVyU3BhY2luZyA9IGxldHRlclNwYWNpbmc7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRleHQgYW5jaG9yLiByZWFkLW9ubHlcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9hbmNob3IgPSBuZXcgT2JzZXJ2YWJsZVBvaW50KCgpOiB2b2lkID0+IHsgdGhpcy5kaXJ0eSA9IHRydWU7IH0sIHRoaXMsIDAsIDApO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0cnVlIFBpeGlKUyB3aWxsIE1hdGguZmxvb3IoKSB4L3kgdmFsdWVzIHdoZW4gcmVuZGVyaW5nXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuc2V0dGluZ3MuUk9VTkRfUElYRUxTXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9yb3VuZFBpeGVscyA9IHNldHRpbmdzLlJPVU5EX1BJWEVMUztcblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IHRvIGB0cnVlYCBpZiB0aGUgQml0bWFwVGV4dCBuZWVkcyB0byBiZSByZWRyYXduLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhY2hlZCBjaGFyIHRleHR1cmUgaXMgZGVzdHJveWVkIHdoZW4gQml0bWFwVGV4dCBpcyBkZXN0cm95ZWRcbiAgICAgICAgICogQG1lbWJlciB7UmVjb3JkPG51bWJlciwgVGV4dHVyZT59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl90ZXh0dXJlQ2FjaGUgPSB7fTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRleHQgYW5kIHVwZGF0ZXMgaXQgd2hlbiBuZWVkZWQuIFRoaXMgc2hvdWxkIG9ubHkgYmUgY2FsbGVkXG4gICAgICogaWYgdGhlIEJpdG1hcEZvbnQgaXMgcmVnZW5lcmF0ZWQuXG4gICAgICovXG4gICAgcHVibGljIHVwZGF0ZVRleHQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IEJpdG1hcEZvbnQuYXZhaWxhYmxlW3RoaXMuX2ZvbnROYW1lXTtcbiAgICAgICAgY29uc3Qgc2NhbGUgPSB0aGlzLl9mb250U2l6ZSAvIGRhdGEuc2l6ZTtcbiAgICAgICAgY29uc3QgcG9zID0gbmV3IFBvaW50KCk7XG4gICAgICAgIGNvbnN0IGNoYXJzOiBDaGFyUmVuZGVyRGF0YVtdID0gW107XG4gICAgICAgIGNvbnN0IGxpbmVXaWR0aHMgPSBbXTtcbiAgICAgICAgY29uc3QgdGV4dCA9IHRoaXMuX3RleHQucmVwbGFjZSgvKD86XFxyXFxufFxccikvZywgJ1xcbicpIHx8ICcgJztcbiAgICAgICAgY29uc3QgdGV4dExlbmd0aCA9IHRleHQubGVuZ3RoO1xuICAgICAgICBjb25zdCBtYXhXaWR0aCA9IHRoaXMuX21heFdpZHRoICogZGF0YS5zaXplIC8gdGhpcy5fZm9udFNpemU7XG5cbiAgICAgICAgbGV0IHByZXZDaGFyQ29kZSA9IG51bGw7XG4gICAgICAgIGxldCBsYXN0TGluZVdpZHRoID0gMDtcbiAgICAgICAgbGV0IG1heExpbmVXaWR0aCA9IDA7XG4gICAgICAgIGxldCBsaW5lID0gMDtcbiAgICAgICAgbGV0IGxhc3RCcmVha1BvcyA9IC0xO1xuICAgICAgICBsZXQgbGFzdEJyZWFrV2lkdGggPSAwO1xuICAgICAgICBsZXQgc3BhY2VzUmVtb3ZlZCA9IDA7XG4gICAgICAgIGxldCBtYXhMaW5lSGVpZ2h0ID0gMDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRleHRMZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgY2hhckNvZGUgPSB0ZXh0LmNoYXJDb2RlQXQoaSk7XG4gICAgICAgICAgICBjb25zdCBjaGFyID0gdGV4dC5jaGFyQXQoaSk7XG5cbiAgICAgICAgICAgIGlmICgoLyg/OlxccykvKS50ZXN0KGNoYXIpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxhc3RCcmVha1BvcyA9IGk7XG4gICAgICAgICAgICAgICAgbGFzdEJyZWFrV2lkdGggPSBsYXN0TGluZVdpZHRoO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoY2hhciA9PT0gJ1xccicgfHwgY2hhciA9PT0gJ1xcbicpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGluZVdpZHRocy5wdXNoKGxhc3RMaW5lV2lkdGgpO1xuICAgICAgICAgICAgICAgIG1heExpbmVXaWR0aCA9IE1hdGgubWF4KG1heExpbmVXaWR0aCwgbGFzdExpbmVXaWR0aCk7XG4gICAgICAgICAgICAgICAgKytsaW5lO1xuICAgICAgICAgICAgICAgICsrc3BhY2VzUmVtb3ZlZDtcblxuICAgICAgICAgICAgICAgIHBvcy54ID0gMDtcbiAgICAgICAgICAgICAgICBwb3MueSArPSBkYXRhLmxpbmVIZWlnaHQ7XG4gICAgICAgICAgICAgICAgcHJldkNoYXJDb2RlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgY2hhckRhdGEgPSBkYXRhLmNoYXJzW2NoYXJDb2RlXTtcblxuICAgICAgICAgICAgaWYgKCFjaGFyRGF0YSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHByZXZDaGFyQ29kZSAmJiBjaGFyRGF0YS5rZXJuaW5nW3ByZXZDaGFyQ29kZV0pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcG9zLnggKz0gY2hhckRhdGEua2VybmluZ1twcmV2Q2hhckNvZGVdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBjaGFyUmVuZGVyRGF0YSA9IGNoYXJSZW5kZXJEYXRhUG9vbC5wb3AoKSB8fCB7XG4gICAgICAgICAgICAgICAgdGV4dHVyZTogVGV4dHVyZS5FTVBUWSxcbiAgICAgICAgICAgICAgICBsaW5lOiAwLFxuICAgICAgICAgICAgICAgIGNoYXJDb2RlOiAwLFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBuZXcgUG9pbnQoKSxcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGNoYXJSZW5kZXJEYXRhLnRleHR1cmUgPSBjaGFyRGF0YS50ZXh0dXJlO1xuICAgICAgICAgICAgY2hhclJlbmRlckRhdGEubGluZSA9IGxpbmU7XG4gICAgICAgICAgICBjaGFyUmVuZGVyRGF0YS5jaGFyQ29kZSA9IGNoYXJDb2RlO1xuICAgICAgICAgICAgY2hhclJlbmRlckRhdGEucG9zaXRpb24ueCA9IHBvcy54ICsgY2hhckRhdGEueE9mZnNldCArICh0aGlzLl9sZXR0ZXJTcGFjaW5nIC8gMik7XG4gICAgICAgICAgICBjaGFyUmVuZGVyRGF0YS5wb3NpdGlvbi55ID0gcG9zLnkgKyBjaGFyRGF0YS55T2Zmc2V0O1xuXG4gICAgICAgICAgICBjaGFycy5wdXNoKGNoYXJSZW5kZXJEYXRhKTtcblxuICAgICAgICAgICAgcG9zLnggKz0gY2hhckRhdGEueEFkdmFuY2UgKyB0aGlzLl9sZXR0ZXJTcGFjaW5nO1xuICAgICAgICAgICAgbGFzdExpbmVXaWR0aCA9IHBvcy54O1xuICAgICAgICAgICAgbWF4TGluZUhlaWdodCA9IE1hdGgubWF4KG1heExpbmVIZWlnaHQsIChjaGFyRGF0YS55T2Zmc2V0ICsgY2hhckRhdGEudGV4dHVyZS5oZWlnaHQpKTtcbiAgICAgICAgICAgIHByZXZDaGFyQ29kZSA9IGNoYXJDb2RlO1xuXG4gICAgICAgICAgICBpZiAobGFzdEJyZWFrUG9zICE9PSAtMSAmJiBtYXhXaWR0aCA+IDAgJiYgcG9zLnggPiBtYXhXaWR0aClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICArK3NwYWNlc1JlbW92ZWQ7XG4gICAgICAgICAgICAgICAgcmVtb3ZlSXRlbXMoY2hhcnMsIDEgKyBsYXN0QnJlYWtQb3MgLSBzcGFjZXNSZW1vdmVkLCAxICsgaSAtIGxhc3RCcmVha1Bvcyk7XG4gICAgICAgICAgICAgICAgaSA9IGxhc3RCcmVha1BvcztcbiAgICAgICAgICAgICAgICBsYXN0QnJlYWtQb3MgPSAtMTtcblxuICAgICAgICAgICAgICAgIGxpbmVXaWR0aHMucHVzaChsYXN0QnJlYWtXaWR0aCk7XG4gICAgICAgICAgICAgICAgbWF4TGluZVdpZHRoID0gTWF0aC5tYXgobWF4TGluZVdpZHRoLCBsYXN0QnJlYWtXaWR0aCk7XG4gICAgICAgICAgICAgICAgbGluZSsrO1xuXG4gICAgICAgICAgICAgICAgcG9zLnggPSAwO1xuICAgICAgICAgICAgICAgIHBvcy55ICs9IGRhdGEubGluZUhlaWdodDtcbiAgICAgICAgICAgICAgICBwcmV2Q2hhckNvZGUgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbGFzdENoYXIgPSB0ZXh0LmNoYXJBdCh0ZXh0Lmxlbmd0aCAtIDEpO1xuXG4gICAgICAgIGlmIChsYXN0Q2hhciAhPT0gJ1xccicgJiYgbGFzdENoYXIgIT09ICdcXG4nKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoKC8oPzpcXHMpLykudGVzdChsYXN0Q2hhcikpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGFzdExpbmVXaWR0aCA9IGxhc3RCcmVha1dpZHRoO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsaW5lV2lkdGhzLnB1c2gobGFzdExpbmVXaWR0aCk7XG4gICAgICAgICAgICBtYXhMaW5lV2lkdGggPSBNYXRoLm1heChtYXhMaW5lV2lkdGgsIGxhc3RMaW5lV2lkdGgpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbGluZUFsaWduT2Zmc2V0cyA9IFtdO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDw9IGxpbmU7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IGFsaWduT2Zmc2V0ID0gMDtcblxuICAgICAgICAgICAgaWYgKHRoaXMuX2FsaWduID09PSAncmlnaHQnKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGFsaWduT2Zmc2V0ID0gbWF4TGluZVdpZHRoIC0gbGluZVdpZHRoc1tpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuX2FsaWduID09PSAnY2VudGVyJylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBhbGlnbk9mZnNldCA9IChtYXhMaW5lV2lkdGggLSBsaW5lV2lkdGhzW2ldKSAvIDI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxpbmVBbGlnbk9mZnNldHMucHVzaChhbGlnbk9mZnNldCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBsZW5DaGFycyA9IGNoYXJzLmxlbmd0aDtcblxuICAgICAgICBjb25zdCBwYWdlc01lc2hEYXRhOiBSZWNvcmQ8bnVtYmVyLCBQYWdlTWVzaERhdGE+ID0ge307XG5cbiAgICAgICAgY29uc3QgbmV3UGFnZXNNZXNoRGF0YTogUGFnZU1lc2hEYXRhW10gPSBbXTtcblxuICAgICAgICBjb25zdCBhY3RpdmVQYWdlc01lc2hEYXRhID0gdGhpcy5fYWN0aXZlUGFnZXNNZXNoRGF0YTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFjdGl2ZVBhZ2VzTWVzaERhdGEubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHBhZ2VNZXNoRGF0YVBvb2wucHVzaChhY3RpdmVQYWdlc01lc2hEYXRhW2ldKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuQ2hhcnM7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgdGV4dHVyZSA9IGNoYXJzW2ldLnRleHR1cmU7XG4gICAgICAgICAgICBjb25zdCBiYXNlVGV4dHVyZVVpZCA9IHRleHR1cmUuYmFzZVRleHR1cmUudWlkO1xuXG4gICAgICAgICAgICBpZiAoIXBhZ2VzTWVzaERhdGFbYmFzZVRleHR1cmVVaWRdKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxldCBwYWdlTWVzaERhdGEgPSBwYWdlTWVzaERhdGFQb29sLnBvcCgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFwYWdlTWVzaERhdGEpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBnZW9tZXRyeSA9IG5ldyBNZXNoR2VvbWV0cnkoKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWF0ZXJpYWwgPSBuZXcgTWVzaE1hdGVyaWFsKFRleHR1cmUuRU1QVFkpO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1lc2ggPSBuZXcgTWVzaChnZW9tZXRyeSwgbWF0ZXJpYWwpO1xuXG4gICAgICAgICAgICAgICAgICAgIHBhZ2VNZXNoRGF0YSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4OiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXhDb3VudDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlcnRleENvdW50OiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXZzQ291bnQ6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3RhbDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc2gsXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJ0aWNlczogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHV2czogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGljZXM6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gcmVzZXQgZGF0YS4uXG4gICAgICAgICAgICAgICAgcGFnZU1lc2hEYXRhLmluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICBwYWdlTWVzaERhdGEuaW5kZXhDb3VudCA9IDA7XG4gICAgICAgICAgICAgICAgcGFnZU1lc2hEYXRhLnZlcnRleENvdW50ID0gMDtcbiAgICAgICAgICAgICAgICBwYWdlTWVzaERhdGEudXZzQ291bnQgPSAwO1xuICAgICAgICAgICAgICAgIHBhZ2VNZXNoRGF0YS50b3RhbCA9IDA7XG5cbiAgICAgICAgICAgICAgICAvLyBUT0RPIG5lZWQgdG8gZ2V0IHBhZ2UgdGV4dHVyZSBoZXJlIHNvbWVob3cuLlxuICAgICAgICAgICAgICAgIGNvbnN0IHsgX3RleHR1cmVDYWNoZSB9ID0gdGhpcztcblxuICAgICAgICAgICAgICAgIF90ZXh0dXJlQ2FjaGVbYmFzZVRleHR1cmVVaWRdID0gX3RleHR1cmVDYWNoZVtiYXNlVGV4dHVyZVVpZF0gfHwgbmV3IFRleHR1cmUodGV4dHVyZS5iYXNlVGV4dHVyZSk7XG4gICAgICAgICAgICAgICAgcGFnZU1lc2hEYXRhLm1lc2gudGV4dHVyZSA9IF90ZXh0dXJlQ2FjaGVbYmFzZVRleHR1cmVVaWRdO1xuXG4gICAgICAgICAgICAgICAgcGFnZU1lc2hEYXRhLm1lc2gudGludCA9IHRoaXMuX3RpbnQ7XG5cbiAgICAgICAgICAgICAgICBuZXdQYWdlc01lc2hEYXRhLnB1c2gocGFnZU1lc2hEYXRhKTtcblxuICAgICAgICAgICAgICAgIHBhZ2VzTWVzaERhdGFbYmFzZVRleHR1cmVVaWRdID0gcGFnZU1lc2hEYXRhO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwYWdlc01lc2hEYXRhW2Jhc2VUZXh0dXJlVWlkXS50b3RhbCsrO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbGV0cyBmaW5kIGFueSBwcmV2aW91c2x5IGFjdGl2ZSBwYWdlTWVzaERhdGFzIHRoYXQgYXJlIG5vIGxvbmdlciByZXF1aXJlZCBmb3JcbiAgICAgICAgLy8gdGhlIHVwZGF0ZWQgdGV4dCAoaWYgYW55KSwgcmVtb3ZlZCBhbmQgcmV0dXJuIHRoZW0gdG8gdGhlIHBvb2wuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYWN0aXZlUGFnZXNNZXNoRGF0YS5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKG5ld1BhZ2VzTWVzaERhdGEuaW5kZXhPZihhY3RpdmVQYWdlc01lc2hEYXRhW2ldKSA9PT0gLTEpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVDaGlsZChhY3RpdmVQYWdlc01lc2hEYXRhW2ldLm1lc2gpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gbmV4dCBsZXRzIGFkZCBhbnkgbmV3IG1lc2hlcywgdGhhdCBoYXZlIG5vdCB5ZXQgYmVlbiBhZGRlZCB0byB0aGlzIEJpdG1hcFRleHRcbiAgICAgICAgLy8gd2Ugb25seSBhZGQgaWYgaXRzIG5vdCBhbHJlYWR5IGEgY2hpbGQgb2YgdGhpcyBCaXRtYXBPYmplY3RcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuZXdQYWdlc01lc2hEYXRhLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAobmV3UGFnZXNNZXNoRGF0YVtpXS5tZXNoLnBhcmVudCAhPT0gdGhpcylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZENoaWxkKG5ld1BhZ2VzTWVzaERhdGFbaV0ubWVzaCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBhY3RpdmUgcGFnZSBtZXNoIGRhdGFzIGFyZSBzZXQgdG8gYmUgdGhlIG5ldyBwYWdlcyBhZGRlZC5cbiAgICAgICAgdGhpcy5fYWN0aXZlUGFnZXNNZXNoRGF0YSA9IG5ld1BhZ2VzTWVzaERhdGE7XG5cbiAgICAgICAgZm9yIChjb25zdCBpIGluIHBhZ2VzTWVzaERhdGEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHBhZ2VNZXNoRGF0YSA9IHBhZ2VzTWVzaERhdGFbaV07XG4gICAgICAgICAgICBjb25zdCB0b3RhbCA9IHBhZ2VNZXNoRGF0YS50b3RhbDtcblxuICAgICAgICAgICAgLy8gbGV0cyBvbmx5IGFsbG9jYXRlIG5ldyBidWZmZXJzIGlmIHdlIGNhbiBmaXQgdGhlIG5ldyB0ZXh0IGluIHRoZSBjdXJyZW50IG9uZXMuLlxuICAgICAgICAgICAgLy8gdW5sZXNzIHRoYXQgaXMsIHdlIHdpbGwgYmUgYmF0Y2hpbmcuIEN1cnJlbnRseSBiYXRjaGluZyBkb3NlIG5vdCByZXNwZWN0IHRoZSBzaXplIHByb3BlcnR5IG9mIG1lc2hcbiAgICAgICAgICAgIGlmICghKHBhZ2VNZXNoRGF0YS5pbmRpY2VzPy5sZW5ndGggPiA2ICogdG90YWwpIHx8IHBhZ2VNZXNoRGF0YS52ZXJ0aWNlcy5sZW5ndGggPCBNZXNoLkJBVENIQUJMRV9TSVpFICogMilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBwYWdlTWVzaERhdGEudmVydGljZXMgPSBuZXcgRmxvYXQzMkFycmF5KDQgKiAyICogdG90YWwpO1xuICAgICAgICAgICAgICAgIHBhZ2VNZXNoRGF0YS51dnMgPSBuZXcgRmxvYXQzMkFycmF5KDQgKiAyICogdG90YWwpO1xuICAgICAgICAgICAgICAgIHBhZ2VNZXNoRGF0YS5pbmRpY2VzID0gbmV3IFVpbnQxNkFycmF5KDYgKiB0b3RhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgdG90YWwgPSBwYWdlTWVzaERhdGEudG90YWw7XG4gICAgICAgICAgICAgICAgY29uc3QgdmVydGljZXMgPSBwYWdlTWVzaERhdGEudmVydGljZXM7XG5cbiAgICAgICAgICAgICAgICAvLyBDbGVhciB0aGUgZ2FyYmFnZSBhdCB0aGUgZW5kIG9mIHRoZSB2ZXJ0aWNlcyBidWZmZXIuIFRoaXMgd2lsbCBwcmV2ZW50IHRoZSBib3VuZHMgbWlzY2FsY3VsYXRpb24uXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IHRvdGFsICogNCAqIDI7IGkgPCB2ZXJ0aWNlcy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHZlcnRpY2VzW2ldID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGFzIGEgYnVmZmVyIG1heWJlIGJpZ2dlciB0aGFuIHRoZSBjdXJyZW50IHdvcmQsIHdlIHNldCB0aGUgc2l6ZSBvZiB0aGUgbWVzaE1hdGVyaWFsXG4gICAgICAgICAgICAvLyB0byBtYXRjaCB0aGUgbnVtYmVyIG9mIGxldHRlcnMgbmVlZGVkXG4gICAgICAgICAgICBwYWdlTWVzaERhdGEubWVzaC5zaXplID0gNiAqIHRvdGFsO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5DaGFyczsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBjaGFyID0gY2hhcnNbaV07XG4gICAgICAgICAgICBsZXQgb2Zmc2V0ID0gY2hhci5wb3NpdGlvbi54ICsgbGluZUFsaWduT2Zmc2V0c1tjaGFyLmxpbmVdO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5fcm91bmRQaXhlbHMpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgb2Zmc2V0ID0gTWF0aC5yb3VuZChvZmZzZXQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCB4UG9zID0gb2Zmc2V0ICogc2NhbGU7XG4gICAgICAgICAgICBjb25zdCB5UG9zID0gY2hhci5wb3NpdGlvbi55ICogc2NhbGU7XG4gICAgICAgICAgICBjb25zdCB0ZXh0dXJlID0gY2hhci50ZXh0dXJlO1xuXG4gICAgICAgICAgICBjb25zdCBwYWdlTWVzaCA9IHBhZ2VzTWVzaERhdGFbdGV4dHVyZS5iYXNlVGV4dHVyZS51aWRdO1xuXG4gICAgICAgICAgICBjb25zdCB0ZXh0dXJlRnJhbWUgPSB0ZXh0dXJlLmZyYW1lO1xuICAgICAgICAgICAgY29uc3QgdGV4dHVyZVV2cyA9IHRleHR1cmUuX3V2cztcblxuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBwYWdlTWVzaC5pbmRleCsrO1xuXG4gICAgICAgICAgICBwYWdlTWVzaC5pbmRpY2VzWyhpbmRleCAqIDYpICsgMF0gPSAwICsgKGluZGV4ICogNCk7XG4gICAgICAgICAgICBwYWdlTWVzaC5pbmRpY2VzWyhpbmRleCAqIDYpICsgMV0gPSAxICsgKGluZGV4ICogNCk7XG4gICAgICAgICAgICBwYWdlTWVzaC5pbmRpY2VzWyhpbmRleCAqIDYpICsgMl0gPSAyICsgKGluZGV4ICogNCk7XG4gICAgICAgICAgICBwYWdlTWVzaC5pbmRpY2VzWyhpbmRleCAqIDYpICsgM10gPSAwICsgKGluZGV4ICogNCk7XG4gICAgICAgICAgICBwYWdlTWVzaC5pbmRpY2VzWyhpbmRleCAqIDYpICsgNF0gPSAyICsgKGluZGV4ICogNCk7XG4gICAgICAgICAgICBwYWdlTWVzaC5pbmRpY2VzWyhpbmRleCAqIDYpICsgNV0gPSAzICsgKGluZGV4ICogNCk7XG5cbiAgICAgICAgICAgIHBhZ2VNZXNoLnZlcnRpY2VzWyhpbmRleCAqIDgpICsgMF0gPSB4UG9zO1xuICAgICAgICAgICAgcGFnZU1lc2gudmVydGljZXNbKGluZGV4ICogOCkgKyAxXSA9IHlQb3M7XG5cbiAgICAgICAgICAgIHBhZ2VNZXNoLnZlcnRpY2VzWyhpbmRleCAqIDgpICsgMl0gPSB4UG9zICsgKHRleHR1cmVGcmFtZS53aWR0aCAqIHNjYWxlKTtcbiAgICAgICAgICAgIHBhZ2VNZXNoLnZlcnRpY2VzWyhpbmRleCAqIDgpICsgM10gPSB5UG9zO1xuXG4gICAgICAgICAgICBwYWdlTWVzaC52ZXJ0aWNlc1soaW5kZXggKiA4KSArIDRdID0geFBvcyArICh0ZXh0dXJlRnJhbWUud2lkdGggKiBzY2FsZSk7XG4gICAgICAgICAgICBwYWdlTWVzaC52ZXJ0aWNlc1soaW5kZXggKiA4KSArIDVdID0geVBvcyArICh0ZXh0dXJlRnJhbWUuaGVpZ2h0ICogc2NhbGUpO1xuXG4gICAgICAgICAgICBwYWdlTWVzaC52ZXJ0aWNlc1soaW5kZXggKiA4KSArIDZdID0geFBvcztcbiAgICAgICAgICAgIHBhZ2VNZXNoLnZlcnRpY2VzWyhpbmRleCAqIDgpICsgN10gPSB5UG9zICsgKHRleHR1cmVGcmFtZS5oZWlnaHQgKiBzY2FsZSk7XG5cbiAgICAgICAgICAgIHBhZ2VNZXNoLnV2c1soaW5kZXggKiA4KSArIDBdID0gdGV4dHVyZVV2cy54MDtcbiAgICAgICAgICAgIHBhZ2VNZXNoLnV2c1soaW5kZXggKiA4KSArIDFdID0gdGV4dHVyZVV2cy55MDtcblxuICAgICAgICAgICAgcGFnZU1lc2gudXZzWyhpbmRleCAqIDgpICsgMl0gPSB0ZXh0dXJlVXZzLngxO1xuICAgICAgICAgICAgcGFnZU1lc2gudXZzWyhpbmRleCAqIDgpICsgM10gPSB0ZXh0dXJlVXZzLnkxO1xuXG4gICAgICAgICAgICBwYWdlTWVzaC51dnNbKGluZGV4ICogOCkgKyA0XSA9IHRleHR1cmVVdnMueDI7XG4gICAgICAgICAgICBwYWdlTWVzaC51dnNbKGluZGV4ICogOCkgKyA1XSA9IHRleHR1cmVVdnMueTI7XG5cbiAgICAgICAgICAgIHBhZ2VNZXNoLnV2c1soaW5kZXggKiA4KSArIDZdID0gdGV4dHVyZVV2cy54MztcbiAgICAgICAgICAgIHBhZ2VNZXNoLnV2c1soaW5kZXggKiA4KSArIDddID0gdGV4dHVyZVV2cy55MztcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3RleHRXaWR0aCA9IG1heExpbmVXaWR0aCAqIHNjYWxlO1xuICAgICAgICB0aGlzLl90ZXh0SGVpZ2h0ID0gKHBvcy55ICsgZGF0YS5saW5lSGVpZ2h0KSAqIHNjYWxlO1xuXG4gICAgICAgIGZvciAoY29uc3QgaSBpbiBwYWdlc01lc2hEYXRhKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBwYWdlTWVzaERhdGEgPSBwYWdlc01lc2hEYXRhW2ldO1xuXG4gICAgICAgICAgICAvLyBhcHBseSBhbmNob3JcbiAgICAgICAgICAgIGlmICh0aGlzLmFuY2hvci54ICE9PSAwIHx8IHRoaXMuYW5jaG9yLnkgIT09IDApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGV0IHZlcnRleENvdW50ID0gMDtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGFuY2hvck9mZnNldFggPSB0aGlzLl90ZXh0V2lkdGggKiB0aGlzLmFuY2hvci54O1xuICAgICAgICAgICAgICAgIGNvbnN0IGFuY2hvck9mZnNldFkgPSB0aGlzLl90ZXh0SGVpZ2h0ICogdGhpcy5hbmNob3IueTtcblxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFnZU1lc2hEYXRhLnRvdGFsOyBpKyspXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBwYWdlTWVzaERhdGEudmVydGljZXNbdmVydGV4Q291bnQrK10gLT0gYW5jaG9yT2Zmc2V0WDtcbiAgICAgICAgICAgICAgICAgICAgcGFnZU1lc2hEYXRhLnZlcnRpY2VzW3ZlcnRleENvdW50KytdIC09IGFuY2hvck9mZnNldFk7XG5cbiAgICAgICAgICAgICAgICAgICAgcGFnZU1lc2hEYXRhLnZlcnRpY2VzW3ZlcnRleENvdW50KytdIC09IGFuY2hvck9mZnNldFg7XG4gICAgICAgICAgICAgICAgICAgIHBhZ2VNZXNoRGF0YS52ZXJ0aWNlc1t2ZXJ0ZXhDb3VudCsrXSAtPSBhbmNob3JPZmZzZXRZO1xuXG4gICAgICAgICAgICAgICAgICAgIHBhZ2VNZXNoRGF0YS52ZXJ0aWNlc1t2ZXJ0ZXhDb3VudCsrXSAtPSBhbmNob3JPZmZzZXRYO1xuICAgICAgICAgICAgICAgICAgICBwYWdlTWVzaERhdGEudmVydGljZXNbdmVydGV4Q291bnQrK10gLT0gYW5jaG9yT2Zmc2V0WTtcblxuICAgICAgICAgICAgICAgICAgICBwYWdlTWVzaERhdGEudmVydGljZXNbdmVydGV4Q291bnQrK10gLT0gYW5jaG9yT2Zmc2V0WDtcbiAgICAgICAgICAgICAgICAgICAgcGFnZU1lc2hEYXRhLnZlcnRpY2VzW3ZlcnRleENvdW50KytdIC09IGFuY2hvck9mZnNldFk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9tYXhMaW5lSGVpZ2h0ID0gbWF4TGluZUhlaWdodCAqIHNjYWxlO1xuXG4gICAgICAgICAgICBjb25zdCB2ZXJ0ZXhCdWZmZXIgPSBwYWdlTWVzaERhdGEubWVzaC5nZW9tZXRyeS5nZXRCdWZmZXIoJ2FWZXJ0ZXhQb3NpdGlvbicpO1xuICAgICAgICAgICAgY29uc3QgdGV4dHVyZUJ1ZmZlciA9IHBhZ2VNZXNoRGF0YS5tZXNoLmdlb21ldHJ5LmdldEJ1ZmZlcignYVRleHR1cmVDb29yZCcpO1xuICAgICAgICAgICAgY29uc3QgaW5kZXhCdWZmZXIgPSBwYWdlTWVzaERhdGEubWVzaC5nZW9tZXRyeS5nZXRJbmRleCgpO1xuXG4gICAgICAgICAgICB2ZXJ0ZXhCdWZmZXIuZGF0YSA9IHBhZ2VNZXNoRGF0YS52ZXJ0aWNlcztcbiAgICAgICAgICAgIHRleHR1cmVCdWZmZXIuZGF0YSA9IHBhZ2VNZXNoRGF0YS51dnM7XG4gICAgICAgICAgICBpbmRleEJ1ZmZlci5kYXRhID0gcGFnZU1lc2hEYXRhLmluZGljZXM7XG5cbiAgICAgICAgICAgIHZlcnRleEJ1ZmZlci51cGRhdGUoKTtcbiAgICAgICAgICAgIHRleHR1cmVCdWZmZXIudXBkYXRlKCk7XG4gICAgICAgICAgICBpbmRleEJ1ZmZlci51cGRhdGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hhcnMubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNoYXJSZW5kZXJEYXRhUG9vbC5wdXNoKGNoYXJzW2ldKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIHRyYW5zZm9ybSBvZiB0aGlzIG9iamVjdFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB1cGRhdGVUcmFuc2Zvcm0oKTogdm9pZFxuICAgIHtcbiAgICAgICAgdGhpcy52YWxpZGF0ZSgpO1xuICAgICAgICB0aGlzLmNvbnRhaW5lclVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFZhbGlkYXRlcyB0ZXh0IGJlZm9yZSBjYWxsaW5nIHBhcmVudCdzIGdldExvY2FsQm91bmRzXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gVGhlIHJlY3Rhbmd1bGFyIGJvdW5kaW5nIGFyZWFcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0TG9jYWxCb3VuZHMoKTogUmVjdGFuZ2xlXG4gICAge1xuICAgICAgICB0aGlzLnZhbGlkYXRlKCk7XG5cbiAgICAgICAgcmV0dXJuIHN1cGVyLmdldExvY2FsQm91bmRzKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0ZXh0IHdoZW4gbmVlZGVkXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHByb3RlY3RlZCB2YWxpZGF0ZSgpOiB2b2lkXG4gICAge1xuICAgICAgICBpZiAodGhpcy5kaXJ0eSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVUZXh0KCk7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdGludCBvZiB0aGUgQml0bWFwVGV4dCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMHhmZmZmZmZcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0IHRpbnQoKTogbnVtYmVyXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGludDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0IHRpbnQodmFsdWU6IG51bWJlcilcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl90aW50ID09PSB2YWx1ZSkgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMuX3RpbnQgPSB2YWx1ZTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX2FjdGl2ZVBhZ2VzTWVzaERhdGEubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2FjdGl2ZVBhZ2VzTWVzaERhdGFbaV0ubWVzaC50aW50ID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYWxpZ25tZW50IG9mIHRoZSBCaXRtYXBUZXh0IG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKiBAZGVmYXVsdCAnbGVmdCdcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0IGFsaWduKCk6IFRleHRTdHlsZUFsaWduXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWxpZ247XG4gICAgfVxuXG4gICAgcHVibGljIHNldCBhbGlnbih2YWx1ZTogVGV4dFN0eWxlQWxpZ24pXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fYWxpZ24gIT09IHZhbHVlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9hbGlnbiA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgQml0bWFwRm9udC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0IGZvbnROYW1lKCk6IHN0cmluZ1xuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZvbnROYW1lO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgZm9udE5hbWUodmFsdWU6IHN0cmluZylcbiAgICB7XG4gICAgICAgIGlmICghQml0bWFwRm9udC5hdmFpbGFibGVbdmFsdWVdKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE1pc3NpbmcgQml0bWFwRm9udCBcIiR7dmFsdWV9XCJgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9mb250TmFtZSAhPT0gdmFsdWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2ZvbnROYW1lID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBzaXplIG9mIHRoZSBmb250IHRvIGRpc3BsYXkuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgcHVibGljIGdldCBmb250U2l6ZSgpOiBudW1iZXJcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9mb250U2l6ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0IGZvbnRTaXplKHZhbHVlOiBudW1iZXIpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fZm9udFNpemUgIT09IHZhbHVlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9mb250U2l6ZSA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYW5jaG9yIHNldHMgdGhlIG9yaWdpbiBwb2ludCBvZiB0aGUgdGV4dC5cbiAgICAgKlxuICAgICAqIFRoZSBkZWZhdWx0IGlzIGAoMCwwKWAsIHRoaXMgbWVhbnMgdGhlIHRleHQncyBvcmlnaW4gaXMgdGhlIHRvcCBsZWZ0LlxuICAgICAqXG4gICAgICogU2V0dGluZyB0aGUgYW5jaG9yIHRvIGAoMC41LDAuNSlgIG1lYW5zIHRoZSB0ZXh0J3Mgb3JpZ2luIGlzIGNlbnRlcmVkLlxuICAgICAqXG4gICAgICogU2V0dGluZyB0aGUgYW5jaG9yIHRvIGAoMSwxKWAgd291bGQgbWVhbiB0aGUgdGV4dCdzIG9yaWdpbiBwb2ludCB3aWxsIGJlIHRoZSBib3R0b20gcmlnaHQgY29ybmVyLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5Qb2ludCB8IG51bWJlcn1cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0IGFuY2hvcigpOiBPYnNlcnZhYmxlUG9pbnRcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hbmNob3I7XG4gICAgfVxuXG4gICAgcHVibGljIHNldCBhbmNob3IodmFsdWU6IE9ic2VydmFibGVQb2ludClcbiAgICB7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9hbmNob3Iuc2V0KHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2FuY2hvci5jb3B5RnJvbSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdGV4dCBvZiB0aGUgQml0bWFwVGV4dCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICovXG4gICAgcHVibGljIGdldCB0ZXh0KCk6IHN0cmluZ1xuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RleHQ7XG4gICAgfVxuXG4gICAgcHVibGljIHNldCB0ZXh0KHRleHQ6IHN0cmluZylcbiAgICB7XG4gICAgICAgIHRleHQgPSBTdHJpbmcodGV4dCA9PT0gbnVsbCB8fCB0ZXh0ID09PSB1bmRlZmluZWQgPyAnJyA6IHRleHQpO1xuXG4gICAgICAgIGlmICh0aGlzLl90ZXh0ID09PSB0ZXh0KVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdGV4dCA9IHRleHQ7XG4gICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBtYXggd2lkdGggb2YgdGhpcyBiaXRtYXAgdGV4dCBpbiBwaXhlbHMuIElmIHRoZSB0ZXh0IHByb3ZpZGVkIGlzIGxvbmdlciB0aGFuIHRoZVxuICAgICAqIHZhbHVlIHByb3ZpZGVkLCBsaW5lIGJyZWFrcyB3aWxsIGJlIGF1dG9tYXRpY2FsbHkgaW5zZXJ0ZWQgaW4gdGhlIGxhc3Qgd2hpdGVzcGFjZS5cbiAgICAgKiBEaXNhYmxlIGJ5IHNldHRpbmcgdGhlIHZhbHVlIHRvIDAuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgcHVibGljIGdldCBtYXhXaWR0aCgpOiBudW1iZXJcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tYXhXaWR0aDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0IG1heFdpZHRoKHZhbHVlOiBudW1iZXIpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fbWF4V2lkdGggPT09IHZhbHVlKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbWF4V2lkdGggPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIG1heCBsaW5lIGhlaWdodC4gVGhpcyBpcyB1c2VmdWwgd2hlbiB0cnlpbmcgdG8gdXNlIHRoZSB0b3RhbCBoZWlnaHQgb2YgdGhlIFRleHQsXG4gICAgICogaS5lLiB3aGVuIHRyeWluZyB0byB2ZXJ0aWNhbGx5IGFsaWduLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuICAgIHB1YmxpYyBnZXQgbWF4TGluZUhlaWdodCgpOiBudW1iZXJcbiAgICB7XG4gICAgICAgIHRoaXMudmFsaWRhdGUoKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5fbWF4TGluZUhlaWdodDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgd2lkdGggb2YgdGhlIG92ZXJhbGwgdGV4dCwgZGlmZmVyZW50IGZyb20gZm9udFNpemUsXG4gICAgICogd2hpY2ggaXMgZGVmaW5lZCBpbiB0aGUgc3R5bGUgb2JqZWN0LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuICAgIHB1YmxpYyBnZXQgdGV4dFdpZHRoKCk6IG51bWJlclxuICAgIHtcbiAgICAgICAgdGhpcy52YWxpZGF0ZSgpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl90ZXh0V2lkdGg7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkaXRpb25hbCBzcGFjZSBiZXR3ZWVuIGNoYXJhY3RlcnMuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgcHVibGljIGdldCBsZXR0ZXJTcGFjaW5nKCk6IG51bWJlclxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xldHRlclNwYWNpbmc7XG4gICAgfVxuXG4gICAgcHVibGljIHNldCBsZXR0ZXJTcGFjaW5nKHZhbHVlOiBudW1iZXIpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fbGV0dGVyU3BhY2luZyAhPT0gdmFsdWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2xldHRlclNwYWNpbmcgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSWYgdHJ1ZSBQaXhpSlMgd2lsbCBNYXRoLmZsb29yKCkgeC95IHZhbHVlcyB3aGVuIHJlbmRlcmluZywgc3RvcHBpbmcgcGl4ZWwgaW50ZXJwb2xhdGlvbi5cbiAgICAgKiBBZHZhbnRhZ2VzIGNhbiBpbmNsdWRlIHNoYXJwZXIgaW1hZ2UgcXVhbGl0eSAobGlrZSB0ZXh0KSBhbmQgZmFzdGVyIHJlbmRlcmluZyBvbiBjYW52YXMuXG4gICAgICogVGhlIG1haW4gZGlzYWR2YW50YWdlIGlzIG1vdmVtZW50IG9mIG9iamVjdHMgbWF5IGFwcGVhciBsZXNzIHNtb290aC5cbiAgICAgKiBUbyBzZXQgdGhlIGdsb2JhbCBkZWZhdWx0LCBjaGFuZ2Uge0BsaW5rIFBJWEkuc2V0dGluZ3MuUk9VTkRfUElYRUxTfVxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAZGVmYXVsdCBQSVhJLnNldHRpbmdzLlJPVU5EX1BJWEVMU1xuICAgICAqL1xuICAgIHB1YmxpYyBnZXQgcm91bmRQaXhlbHMoKTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JvdW5kUGl4ZWxzO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgcm91bmRQaXhlbHModmFsdWU6IGJvb2xlYW4pXG4gICAge1xuICAgICAgICBpZiAodmFsdWUgIT09IHRoaXMuX3JvdW5kUGl4ZWxzKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9yb3VuZFBpeGVscyA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBvdmVyYWxsIHRleHQsIGRpZmZlcmVudCBmcm9tIGZvbnRTaXplLFxuICAgICAqIHdoaWNoIGlzIGRlZmluZWQgaW4gdGhlIHN0eWxlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0IHRleHRIZWlnaHQoKTogbnVtYmVyXG4gICAge1xuICAgICAgICB0aGlzLnZhbGlkYXRlKCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3RleHRIZWlnaHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHksIGNvbnZlcnQgb2xkIHN0eWxlLmZvbnQgY29uc3RydWN0b3IgcGFyYW0gdG8gZm9udE5hbWUgJiBmb250U2l6ZSBwcm9wZXJ0aWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjMuMFxuICAgICAqL1xuICAgIF91cGdyYWRlU3R5bGUoc3R5bGU6IFBhcnRpYWw8SUJpdG1hcFRleHRTdHlsZT4pOiB2b2lkXG4gICAge1xuICAgICAgICBpZiAodHlwZW9mIHN0eWxlLmZvbnQgPT09ICdzdHJpbmcnKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZVNwbGl0ID0gc3R5bGUuZm9udC5zcGxpdCgnICcpO1xuXG4gICAgICAgICAgICBzdHlsZS5mb250TmFtZSA9IHZhbHVlU3BsaXQubGVuZ3RoID09PSAxXG4gICAgICAgICAgICAgICAgPyB2YWx1ZVNwbGl0WzBdXG4gICAgICAgICAgICAgICAgOiB2YWx1ZVNwbGl0LnNsaWNlKDEpLmpvaW4oJyAnKTtcblxuICAgICAgICAgICAgaWYgKHZhbHVlU3BsaXQubGVuZ3RoID49IDIpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3R5bGUuZm9udFNpemUgPSBwYXJzZUludCh2YWx1ZVNwbGl0WzBdLCAxMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBzdHlsZS5mb250TmFtZSA9IHN0eWxlLmZvbnQubmFtZTtcbiAgICAgICAgICAgIHN0eWxlLmZvbnRTaXplID0gdHlwZW9mIHN0eWxlLmZvbnQuc2l6ZSA9PT0gJ251bWJlcidcbiAgICAgICAgICAgICAgICA/IHN0eWxlLmZvbnQuc2l6ZVxuICAgICAgICAgICAgICAgIDogcGFyc2VJbnQoc3R5bGUuZm9udC5zaXplLCAxMCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkZXN0cm95KG9wdGlvbnM/OiBib29sZWFuIHwgSURlc3Ryb3lPcHRpb25zKTogdm9pZFxuICAgIHtcbiAgICAgICAgY29uc3QgeyBfdGV4dHVyZUNhY2hlIH0gPSB0aGlzO1xuXG4gICAgICAgIGZvciAoY29uc3QgaWQgaW4gX3RleHR1cmVDYWNoZSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgdGV4dHVyZSA9IF90ZXh0dXJlQ2FjaGVbaWRdO1xuXG4gICAgICAgICAgICB0ZXh0dXJlLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIGRlbGV0ZSBfdGV4dHVyZUNhY2hlW2lkXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3RleHR1cmVDYWNoZSA9IG51bGw7XG5cbiAgICAgICAgc3VwZXIuZGVzdHJveShvcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZWdpc3RlciBhIGJpdG1hcCBmb250IHdpdGggZGF0YSBhbmQgYSB0ZXh0dXJlLlxuICAgICAqXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4zLjBcbiAgICAgKiBAc2VlIFBJWEkuQml0bWFwRm9udC5pbnN0YWxsXG4gICAgICogQHN0YXRpY1xuICAgICAqL1xuICAgIHN0YXRpYyByZWdpc3RlckZvbnQoZGF0YTogc3RyaW5nfFhNTERvY3VtZW50fEJpdG1hcEZvbnREYXRhLCB0ZXh0dXJlczogVGV4dHVyZXxUZXh0dXJlW118RGljdDxUZXh0dXJlPik6IEJpdG1hcEZvbnRcbiAgICB7XG4gICAgICAgIGRlcHJlY2F0aW9uKCc1LjMuMCcsICdQSVhJLkJpdG1hcFRleHQucmVnaXN0ZXJGb250IGlzIGRlcHJlY2F0ZWQsIHVzZSBQSVhJLkJpdG1hcEZvbnQuaW5zdGFsbCcpO1xuXG4gICAgICAgIHJldHVybiBCaXRtYXBGb250Lmluc3RhbGwoZGF0YSwgdGV4dHVyZXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgbGlzdCBvZiBpbnN0YWxsZWQgZm9udHMuXG4gICAgICpcbiAgICAgKiBAc2VlIFBJWEkuQml0bWFwRm9udC5hdmFpbGFibGVcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjMuMFxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAbWVtYmVyIHtPYmplY3QuPHN0cmluZywgUElYSS5CaXRtYXBGb250Pn1cbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IGZvbnRzKCk6IERpY3Q8Qml0bWFwRm9udD5cbiAgICB7XG4gICAgICAgIGRlcHJlY2F0aW9uKCc1LjMuMCcsICdQSVhJLkJpdG1hcFRleHQuZm9udHMgaXMgZGVwcmVjYXRlZCwgdXNlIFBJWEkuQml0bWFwRm9udC5hdmFpbGFibGUnKTtcblxuICAgICAgICByZXR1cm4gQml0bWFwRm9udC5hdmFpbGFibGU7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgTG9hZGVyUmVzb3VyY2UgfSBmcm9tICdAcGl4aS9sb2FkZXJzJztcbmltcG9ydCB7IGF1dG9EZXRlY3RGb3JtYXQgfSBmcm9tICcuL2Zvcm1hdHMnO1xuaW1wb3J0IHsgQml0bWFwRm9udCB9IGZyb20gJy4vQml0bWFwRm9udCc7XG5cbmltcG9ydCB0eXBlIHsgSUxvYWRlclJlc291cmNlIH0gZnJvbSAnQHBpeGkvbG9hZGVycyc7XG5pbXBvcnQgdHlwZSB7IERpY3QgfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgdHlwZSB7IExvYWRlciB9IGZyb20gJ0BwaXhpL2xvYWRlcnMnO1xuaW1wb3J0IHR5cGUgeyBUZXh0dXJlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5cbi8qKlxuICoge0BsaW5rIFBJWEkuTG9hZGVyIExvYWRlcn0gbWlkZGxld2FyZSBmb3IgbG9hZGluZ1xuICogYml0bWFwLWJhc2VkIGZvbnRzIHN1aXRhYmxlIGZvciB1c2luZyB3aXRoIHtAbGluayBQSVhJLkJpdG1hcFRleHR9LlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGltcGxlbWVudHMgUElYSS5JTG9hZGVyUGx1Z2luXG4gKi9cbmV4cG9ydCBjbGFzcyBCaXRtYXBGb250TG9hZGVyXG57XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gdGhlIHBsdWdpbiBpcyBpbnN0YWxsZWQuXG4gICAgICpcbiAgICAgKiBAc2VlIFBJWEkuTG9hZGVyLnJlZ2lzdGVyUGx1Z2luXG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyBhZGQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgTG9hZGVyUmVzb3VyY2Uuc2V0RXh0ZW5zaW9uWGhyVHlwZSgnZm50JywgTG9hZGVyUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuVEVYVCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIGFmdGVyIGEgcmVzb3VyY2UgaXMgbG9hZGVkLlxuICAgICAqIEBzZWUgUElYSS5Mb2FkZXIubG9hZGVyTWlkZGxld2FyZVxuICAgICAqIEBwYXJhbSB7UElYSS5Mb2FkZXJSZXNvdXJjZX0gcmVzb3VyY2VcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBuZXh0XG4gICAgICovXG4gICAgc3RhdGljIHVzZSh0aGlzOiBMb2FkZXIsIHJlc291cmNlOiBJTG9hZGVyUmVzb3VyY2UsIG5leHQ6ICguLi5hcmdzOiBhbnlbXSkgPT4gdm9pZCk6IHZvaWRcbiAgICB7XG4gICAgICAgIGNvbnN0IGZvcm1hdCA9IGF1dG9EZXRlY3RGb3JtYXQocmVzb3VyY2UuZGF0YSk7XG5cbiAgICAgICAgLy8gUmVzb3VyY2Ugd2FzIG5vdCByZWNvZ25pc2VkIGFzIGFueSBvZiB0aGUgZXhwZWN0ZWQgZm9udCBkYXRhIGZvcm1hdFxuICAgICAgICBpZiAoIWZvcm1hdClcbiAgICAgICAge1xuICAgICAgICAgICAgbmV4dCgpO1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBiYXNlVXJsID0gQml0bWFwRm9udExvYWRlci5nZXRCYXNlVXJsKHRoaXMsIHJlc291cmNlKTtcbiAgICAgICAgY29uc3QgZGF0YSA9IGZvcm1hdC5wYXJzZShyZXNvdXJjZS5kYXRhKTtcbiAgICAgICAgY29uc3QgdGV4dHVyZXM6IERpY3Q8VGV4dHVyZT4gPSB7fTtcblxuICAgICAgICAvLyBIYW5kbGUgY29tcGxldGVkLCB3aGVuIHRoZSBudW1iZXIgb2YgdGV4dHVyZXNcbiAgICAgICAgLy8gbG9hZCBpcyB0aGUgc2FtZSBudW1iZXIgYXMgcmVmZXJlbmNlcyBpbiB0aGUgZm50IGZpbGVcbiAgICAgICAgY29uc3QgY29tcGxldGVkID0gKHBhZ2U6IElMb2FkZXJSZXNvdXJjZSk6IHZvaWQgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgdGV4dHVyZXNbcGFnZS5tZXRhZGF0YS5wYWdlRmlsZV0gPSBwYWdlLnRleHR1cmU7XG5cbiAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyh0ZXh0dXJlcykubGVuZ3RoID09PSBkYXRhLnBhZ2UubGVuZ3RoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJlc291cmNlLmJpdG1hcEZvbnQgPSBCaXRtYXBGb250Lmluc3RhbGwoZGF0YSwgdGV4dHVyZXMsIHRydWUpO1xuICAgICAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEucGFnZS5sZW5ndGg7ICsraSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgcGFnZUZpbGUgPSBkYXRhLnBhZ2VbaV0uZmlsZTtcbiAgICAgICAgICAgIGNvbnN0IHVybCA9IGJhc2VVcmwgKyBwYWdlRmlsZTtcbiAgICAgICAgICAgIGxldCBleGlzdHMgPSBmYWxzZTtcblxuICAgICAgICAgICAgLy8gaW5jYXNlIHRoZSBpbWFnZSBpcyBsb2FkZWQgb3V0c2lkZVxuICAgICAgICAgICAgLy8gdXNpbmcgdGhlIHNhbWUgbG9hZGVyLCByZXNvdXJjZSB3aWxsIGJlIGF2YWlsYWJsZVxuICAgICAgICAgICAgZm9yIChjb25zdCBuYW1lIGluIHRoaXMucmVzb3VyY2VzKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJpdG1hcFJlc291cmNlOiBJTG9hZGVyUmVzb3VyY2UgPSB0aGlzLnJlc291cmNlc1tuYW1lXTtcblxuICAgICAgICAgICAgICAgIGlmIChiaXRtYXBSZXNvdXJjZS51cmwgPT09IHVybClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGJpdG1hcFJlc291cmNlLm1ldGFkYXRhLnBhZ2VGaWxlID0gcGFnZUZpbGU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChiaXRtYXBSZXNvdXJjZS50ZXh0dXJlKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZWQoYml0bWFwUmVzb3VyY2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgYml0bWFwUmVzb3VyY2Uub25BZnRlck1pZGRsZXdhcmUuYWRkKGNvbXBsZXRlZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZXhpc3RzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyB0ZXh0dXJlIGlzIG5vdCBsb2FkZWQsIHdlJ2xsIGF0dGVtcHQgdG8gYWRkXG4gICAgICAgICAgICAvLyBpdCB0byB0aGUgbG9hZCBhbmQgYWRkIHRoZSB0ZXh0dXJlIHRvIHRoZSBsaXN0XG4gICAgICAgICAgICBpZiAoIWV4aXN0cylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBTdGFuZGFyZCBsb2FkaW5nIG9wdGlvbnMgZm9yIGltYWdlc1xuICAgICAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgIGNyb3NzT3JpZ2luOiByZXNvdXJjZS5jcm9zc09yaWdpbixcbiAgICAgICAgICAgICAgICAgICAgbG9hZFR5cGU6IExvYWRlclJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgICAgICAgICAgICAgICAgICAgbWV0YWRhdGE6IE9iamVjdC5hc3NpZ24oXG4gICAgICAgICAgICAgICAgICAgICAgICB7IHBhZ2VGaWxlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZS5tZXRhZGF0YS5pbWFnZU1ldGFkYXRhXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudFJlc291cmNlOiByZXNvdXJjZSxcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgdGhpcy5hZGQodXJsLCBvcHRpb25zLCBjb21wbGV0ZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IGZvbGRlciBwYXRoIGZyb20gYSByZXNvdXJjZVxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkxvYWRlcn0gbG9hZGVyXG4gICAgICogQHBhcmFtIHtQSVhJLkxvYWRlclJlc291cmNlfSByZXNvdXJjZVxuICAgICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICAgKi9cbiAgICBwcml2YXRlIHN0YXRpYyBnZXRCYXNlVXJsKGxvYWRlcjogTG9hZGVyLCByZXNvdXJjZTogSUxvYWRlclJlc291cmNlKTogc3RyaW5nXG4gICAge1xuICAgICAgICBsZXQgcmVzVXJsID0gIXJlc291cmNlLmlzRGF0YVVybCA/IEJpdG1hcEZvbnRMb2FkZXIuZGlybmFtZShyZXNvdXJjZS51cmwpIDogJyc7XG5cbiAgICAgICAgaWYgKHJlc291cmNlLmlzRGF0YVVybClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHJlc1VybCA9PT0gJy4nKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJlc1VybCA9ICcnO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobG9hZGVyLmJhc2VVcmwgJiYgcmVzVXJsKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIGlmIGJhc2V1cmwgaGFzIGEgdHJhaWxpbmcgc2xhc2ggdGhlbiBhZGQgb25lIHRvIHJlc1VybCBzbyB0aGUgcmVwbGFjZSB3b3JrcyBiZWxvd1xuICAgICAgICAgICAgICAgIGlmIChsb2FkZXIuYmFzZVVybC5jaGFyQXQobG9hZGVyLmJhc2VVcmwubGVuZ3RoIC0gMSkgPT09ICcvJylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJlc1VybCArPSAnLyc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmVtb3ZlIGJhc2VVcmwgZnJvbSByZXNVcmxcbiAgICAgICAgcmVzVXJsID0gcmVzVXJsLnJlcGxhY2UobG9hZGVyLmJhc2VVcmwsICcnKTtcblxuICAgICAgICAvLyBpZiB0aGVyZSBpcyBhbiByZXNVcmwgbm93LCBpdCBuZWVkcyBhIHRyYWlsaW5nIHNsYXNoLiBFbnN1cmUgdGhhdCBpdCBkb2VzIGlmIHRoZSBzdHJpbmcgaXNuJ3QgZW1wdHkuXG4gICAgICAgIGlmIChyZXNVcmwgJiYgcmVzVXJsLmNoYXJBdChyZXNVcmwubGVuZ3RoIC0gMSkgIT09ICcvJylcbiAgICAgICAge1xuICAgICAgICAgICAgcmVzVXJsICs9ICcvJztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXNVcmw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVwbGFjZW1lbnQgZm9yIE5vZGVKUydzIHBhdGguZGlybmFtZVxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFBhdGggdG8gZ2V0IGRpcmVjdG9yeSBmb3JcbiAgICAgKi9cbiAgICBwcml2YXRlIHN0YXRpYyBkaXJuYW1lKHVybDogc3RyaW5nKTogc3RyaW5nXG4gICAge1xuICAgICAgICBjb25zdCBkaXIgPSB1cmxcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXFxcL2csICcvJykgLy8gY29udmVydCB3aW5kb3dzIG5vdGF0aW9uIHRvIFVOSVggbm90YXRpb24sIFVSTC1zYWZlIGJlY2F1c2UgaXQncyBhIGZvcmJpZGRlbiBjaGFyYWN0ZXJcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXC8kLywgJycpIC8vIHJlcGxhY2UgdHJhaWxpbmcgc2xhc2hcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXC9bXlxcL10qJC8sICcnKTsgLy8gcmVtb3ZlIGV2ZXJ5dGhpbmcgYWZ0ZXIgdGhlIGxhc3RcblxuICAgICAgICAvLyBGaWxlIHJlcXVlc3QgaXMgcmVsYXRpdmUsIHVzZSBjdXJyZW50IGRpcmVjdG9yeVxuICAgICAgICBpZiAoZGlyID09PSB1cmwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiAnLic7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU3RhcnRlZCB3aXRoIGEgc2xhc2hcbiAgICAgICAgZWxzZSBpZiAoZGlyID09PSAnJylcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuICcvJztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBkaXI7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgRmlsdGVyLCBkZWZhdWx0VmVydGV4IH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgZnJhZ21lbnQgZnJvbSAnLi9hbHBoYS5mcmFnJztcblxuLyoqXG4gKiBTaW1wbGVzdCBmaWx0ZXIgLSBhcHBsaWVzIGFscGhhLlxuICpcbiAqIFVzZSB0aGlzIGluc3RlYWQgb2YgQ29udGFpbmVyJ3MgYWxwaGEgcHJvcGVydHkgdG8gYXZvaWQgdmlzdWFsIGxheWVyaW5nIG9mIGluZGl2aWR1YWwgZWxlbWVudHMuXG4gKiBBbHBoYUZpbHRlciBhcHBsaWVzIGFscGhhIGV2ZW5seSBhY3Jvc3MgdGhlIGVudGlyZSBkaXNwbGF5IG9iamVjdCBhbmQgYW55IG9wYXF1ZSBlbGVtZW50cyBpdCBjb250YWlucy5cbiAqIElmIGVsZW1lbnRzIGFyZSBub3Qgb3BhcXVlLCB0aGV5IHdpbGwgYmxlbmQgd2l0aCBlYWNoIG90aGVyIGFueXdheS5cbiAqXG4gKiBWZXJ5IGhhbmR5IGlmIHlvdSB3YW50IHRvIHVzZSBjb21tb24gZmVhdHVyZXMgb2YgYWxsIGZpbHRlcnM6XG4gKlxuICogMS4gQXNzaWduIGEgYmxlbmRNb2RlIHRvIHRoaXMgZmlsdGVyLCBibGVuZCBhbGwgZWxlbWVudHMgaW5zaWRlIGRpc3BsYXkgb2JqZWN0IHdpdGggYmFja2dyb3VuZC5cbiAqXG4gKiAyLiBUbyB1c2UgY2xpcHBpbmcgaW4gZGlzcGxheSBjb29yZGluYXRlcywgYXNzaWduIGEgZmlsdGVyQXJlYSB0byB0aGUgc2FtZSBjb250YWluZXIgdGhhdCBoYXMgdGhpcyBmaWx0ZXIuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkZpbHRlclxuICogQG1lbWJlcm9mIFBJWEkuZmlsdGVyc1xuICovXG5leHBvcnQgY2xhc3MgQWxwaGFGaWx0ZXIgZXh0ZW5kcyBGaWx0ZXJcbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FscGhhPTFdIC0gQW1vdW50IG9mIGFscGhhIGZyb20gMCB0byAxLCB3aGVyZSAwIGlzIHRyYW5zcGFyZW50XG4gICAgICovXG4gICAgY29uc3RydWN0b3IoYWxwaGEgPSAxLjApXG4gICAge1xuICAgICAgICBzdXBlcihkZWZhdWx0VmVydGV4LCBmcmFnbWVudCwgeyB1QWxwaGE6IDEgfSk7XG5cbiAgICAgICAgdGhpcy5hbHBoYSA9IGFscGhhO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvZWZmaWNpZW50IGZvciBhbHBoYSBtdWx0aXBsaWNhdGlvblxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDFcbiAgICAgKi9cbiAgICBnZXQgYWxwaGEoKTogbnVtYmVyXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy51bmlmb3Jtcy51QWxwaGE7XG4gICAgfVxuXG4gICAgc2V0IGFscGhhKHZhbHVlOiBudW1iZXIpXG4gICAge1xuICAgICAgICB0aGlzLnVuaWZvcm1zLnVBbHBoYSA9IHZhbHVlO1xuICAgIH1cbn1cbiIsImNvbnN0IHZlcnRUZW1wbGF0ZSA9IGBcbiAgICBhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XG5cbiAgICB1bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcblxuICAgIHVuaWZvcm0gZmxvYXQgc3RyZW5ndGg7XG5cbiAgICB2YXJ5aW5nIHZlYzIgdkJsdXJUZXhDb29yZHNbJXNpemUlXTtcblxuICAgIHVuaWZvcm0gdmVjNCBpbnB1dFNpemU7XG4gICAgdW5pZm9ybSB2ZWM0IG91dHB1dEZyYW1lO1xuXG4gICAgdmVjNCBmaWx0ZXJWZXJ0ZXhQb3NpdGlvbiggdm9pZCApXG4gICAge1xuICAgICAgICB2ZWMyIHBvc2l0aW9uID0gYVZlcnRleFBvc2l0aW9uICogbWF4KG91dHB1dEZyYW1lLnp3LCB2ZWMyKDAuKSkgKyBvdXRwdXRGcmFtZS54eTtcblxuICAgICAgICByZXR1cm4gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHZlYzMocG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XG4gICAgfVxuXG4gICAgdmVjMiBmaWx0ZXJUZXh0dXJlQ29vcmQoIHZvaWQgKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGFWZXJ0ZXhQb3NpdGlvbiAqIChvdXRwdXRGcmFtZS56dyAqIGlucHV0U2l6ZS56dyk7XG4gICAgfVxuXG4gICAgdm9pZCBtYWluKHZvaWQpXG4gICAge1xuICAgICAgICBnbF9Qb3NpdGlvbiA9IGZpbHRlclZlcnRleFBvc2l0aW9uKCk7XG5cbiAgICAgICAgdmVjMiB0ZXh0dXJlQ29vcmQgPSBmaWx0ZXJUZXh0dXJlQ29vcmQoKTtcbiAgICAgICAgJWJsdXIlXG4gICAgfWA7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZUJsdXJWZXJ0U291cmNlKGtlcm5lbFNpemU6IG51bWJlciwgeDogYm9vbGVhbik6IHN0cmluZ1xue1xuICAgIGNvbnN0IGhhbGZMZW5ndGggPSBNYXRoLmNlaWwoa2VybmVsU2l6ZSAvIDIpO1xuXG4gICAgbGV0IHZlcnRTb3VyY2UgPSB2ZXJ0VGVtcGxhdGU7XG5cbiAgICBsZXQgYmx1ckxvb3AgPSAnJztcbiAgICBsZXQgdGVtcGxhdGU7XG5cbiAgICBpZiAoeClcbiAgICB7XG4gICAgICAgIHRlbXBsYXRlID0gJ3ZCbHVyVGV4Q29vcmRzWyVpbmRleCVdID0gIHRleHR1cmVDb29yZCArIHZlYzIoJXNhbXBsZUluZGV4JSAqIHN0cmVuZ3RoLCAwLjApOyc7XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIHRlbXBsYXRlID0gJ3ZCbHVyVGV4Q29vcmRzWyVpbmRleCVdID0gIHRleHR1cmVDb29yZCArIHZlYzIoMC4wLCAlc2FtcGxlSW5kZXglICogc3RyZW5ndGgpOyc7XG4gICAgfVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBrZXJuZWxTaXplOyBpKyspXG4gICAge1xuICAgICAgICBsZXQgYmx1ciA9IHRlbXBsYXRlLnJlcGxhY2UoJyVpbmRleCUnLCBpLnRvU3RyaW5nKCkpO1xuXG4gICAgICAgIGJsdXIgPSBibHVyLnJlcGxhY2UoJyVzYW1wbGVJbmRleCUnLCBgJHtpIC0gKGhhbGZMZW5ndGggLSAxKX0uMGApO1xuXG4gICAgICAgIGJsdXJMb29wICs9IGJsdXI7XG4gICAgICAgIGJsdXJMb29wICs9ICdcXG4nO1xuICAgIH1cblxuICAgIHZlcnRTb3VyY2UgPSB2ZXJ0U291cmNlLnJlcGxhY2UoJyVibHVyJScsIGJsdXJMb29wKTtcbiAgICB2ZXJ0U291cmNlID0gdmVydFNvdXJjZS5yZXBsYWNlKCclc2l6ZSUnLCBrZXJuZWxTaXplLnRvU3RyaW5nKCkpO1xuXG4gICAgcmV0dXJuIHZlcnRTb3VyY2U7XG59XG4iLCJpbnRlcmZhY2UgSUdBVVNTSUFOX1ZBTFVFUyB7XG4gICAgW3g6IG51bWJlcl06IG51bWJlcltdO1xufVxuY29uc3QgR0FVU1NJQU5fVkFMVUVTOiBJR0FVU1NJQU5fVkFMVUVTID0ge1xuICAgIDU6IFswLjE1MzM4OCwgMC4yMjE0NjEsIDAuMjUwMzAxXSxcbiAgICA3OiBbMC4wNzEzMDMsIDAuMTMxNTE0LCAwLjE4OTg3OSwgMC4yMTQ2MDddLFxuICAgIDk6IFswLjAyODUzMiwgMC4wNjcyMzQsIDAuMTI0MDA5LCAwLjE3OTA0NCwgMC4yMDIzNl0sXG4gICAgMTE6IFswLjAwOTMsIDAuMDI4MDAyLCAwLjA2NTk4NCwgMC4xMjE3MDMsIDAuMTc1NzEzLCAwLjE5ODU5Nl0sXG4gICAgMTM6IFswLjAwMjQwNiwgMC4wMDkyNTUsIDAuMDI3ODY3LCAwLjA2NTY2NiwgMC4xMjExMTcsIDAuMTc0ODY4LCAwLjE5NzY0MV0sXG4gICAgMTU6IFswLjAwMDQ4OSwgMC4wMDI0MDMsIDAuMDA5MjQ2LCAwLjAyNzg0LCAwLjA2NTYwMiwgMC4xMjA5OTksIDAuMTc0Njk3LCAwLjE5NzQ0OF0sXG59O1xuXG5jb25zdCBmcmFnVGVtcGxhdGUgPSBbXG4gICAgJ3ZhcnlpbmcgdmVjMiB2Qmx1clRleENvb3Jkc1slc2l6ZSVdOycsXG4gICAgJ3VuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyOycsXG5cbiAgICAndm9pZCBtYWluKHZvaWQpJyxcbiAgICAneycsXG4gICAgJyAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KDAuMCk7JyxcbiAgICAnICAgICVibHVyJScsXG4gICAgJ30nLFxuXG5dLmpvaW4oJ1xcbicpO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVCbHVyRnJhZ1NvdXJjZShrZXJuZWxTaXplOiBudW1iZXIpOiBzdHJpbmdcbntcbiAgICBjb25zdCBrZXJuZWwgPSBHQVVTU0lBTl9WQUxVRVNba2VybmVsU2l6ZV07XG4gICAgY29uc3QgaGFsZkxlbmd0aCA9IGtlcm5lbC5sZW5ndGg7XG5cbiAgICBsZXQgZnJhZ1NvdXJjZSA9IGZyYWdUZW1wbGF0ZTtcblxuICAgIGxldCBibHVyTG9vcCA9ICcnO1xuICAgIGNvbnN0IHRlbXBsYXRlID0gJ2dsX0ZyYWdDb2xvciArPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZCbHVyVGV4Q29vcmRzWyVpbmRleCVdKSAqICV2YWx1ZSU7JztcbiAgICBsZXQgdmFsdWU6IG51bWJlcjtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwga2VybmVsU2l6ZTsgaSsrKVxuICAgIHtcbiAgICAgICAgbGV0IGJsdXIgPSB0ZW1wbGF0ZS5yZXBsYWNlKCclaW5kZXglJywgaS50b1N0cmluZygpKTtcblxuICAgICAgICB2YWx1ZSA9IGk7XG5cbiAgICAgICAgaWYgKGkgPj0gaGFsZkxlbmd0aClcbiAgICAgICAge1xuICAgICAgICAgICAgdmFsdWUgPSBrZXJuZWxTaXplIC0gaSAtIDE7XG4gICAgICAgIH1cblxuICAgICAgICBibHVyID0gYmx1ci5yZXBsYWNlKCcldmFsdWUlJywga2VybmVsW3ZhbHVlXS50b1N0cmluZygpKTtcblxuICAgICAgICBibHVyTG9vcCArPSBibHVyO1xuICAgICAgICBibHVyTG9vcCArPSAnXFxuJztcbiAgICB9XG5cbiAgICBmcmFnU291cmNlID0gZnJhZ1NvdXJjZS5yZXBsYWNlKCclYmx1ciUnLCBibHVyTG9vcCk7XG4gICAgZnJhZ1NvdXJjZSA9IGZyYWdTb3VyY2UucmVwbGFjZSgnJXNpemUlJywga2VybmVsU2l6ZS50b1N0cmluZygpKTtcblxuICAgIHJldHVybiBmcmFnU291cmNlO1xufVxuIiwiaW1wb3J0IHsgRmlsdGVyIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcbmltcG9ydCB7IGdlbmVyYXRlQmx1clZlcnRTb3VyY2UgfSBmcm9tICcuL2dlbmVyYXRlQmx1clZlcnRTb3VyY2UnO1xuaW1wb3J0IHsgZ2VuZXJhdGVCbHVyRnJhZ1NvdXJjZSB9IGZyb20gJy4vZ2VuZXJhdGVCbHVyRnJhZ1NvdXJjZSc7XG5pbXBvcnQgeyBDTEVBUl9NT0RFUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5cbmltcG9ydCB0eXBlIHsgUmVuZGVyVGV4dHVyZSwgc3lzdGVtcyB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuXG4vKipcbiAqIFRoZSBCbHVyRmlsdGVyUGFzcyBhcHBsaWVzIGEgaG9yaXpvbnRhbCBvciB2ZXJ0aWNhbCBHYXVzc2lhbiBibHVyIHRvIGFuIG9iamVjdC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuRmlsdGVyXG4gKiBAbWVtYmVyb2YgUElYSS5maWx0ZXJzXG4gKi9cbmV4cG9ydCBjbGFzcyBCbHVyRmlsdGVyUGFzcyBleHRlbmRzIEZpbHRlclxue1xuICAgIHB1YmxpYyBob3Jpem9udGFsOiBib29sZWFuO1xuICAgIHB1YmxpYyBzdHJlbmd0aDogbnVtYmVyO1xuICAgIHB1YmxpYyBwYXNzZXM6IG51bWJlcjtcblxuICAgIHByaXZhdGUgX3F1YWxpdHk6IG51bWJlcjtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaG9yaXpvbnRhbCAtIERvIHBhc3MgYWxvbmcgdGhlIHgtYXhpcyAoYHRydWVgKSBvciB5LWF4aXMgKGBmYWxzZWApLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RyZW5ndGg9OF0gLSBUaGUgc3RyZW5ndGggb2YgdGhlIGJsdXIgZmlsdGVyLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcXVhbGl0eT00XSAtIFRoZSBxdWFsaXR5IG9mIHRoZSBibHVyIGZpbHRlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb249UElYSS5zZXR0aW5ncy5GSUxURVJfUkVTT0xVVElPTl0gLSBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgYmx1ciBmaWx0ZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtrZXJuZWxTaXplPTVdIC0gVGhlIGtlcm5lbFNpemUgb2YgdGhlIGJsdXIgZmlsdGVyLk9wdGlvbnM6IDUsIDcsIDksIDExLCAxMywgMTUuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoaG9yaXpvbnRhbDogYm9vbGVhbiwgc3RyZW5ndGggPSA4LCBxdWFsaXR5ID0gNCwgcmVzb2x1dGlvbiA9IHNldHRpbmdzLkZJTFRFUl9SRVNPTFVUSU9OLCBrZXJuZWxTaXplID0gNSlcbiAgICB7XG4gICAgICAgIGNvbnN0IHZlcnRTcmMgPSBnZW5lcmF0ZUJsdXJWZXJ0U291cmNlKGtlcm5lbFNpemUsIGhvcml6b250YWwpO1xuICAgICAgICBjb25zdCBmcmFnU3JjID0gZ2VuZXJhdGVCbHVyRnJhZ1NvdXJjZShrZXJuZWxTaXplKTtcblxuICAgICAgICBzdXBlcihcbiAgICAgICAgICAgIC8vIHZlcnRleCBzaGFkZXJcbiAgICAgICAgICAgIHZlcnRTcmMsXG4gICAgICAgICAgICAvLyBmcmFnbWVudCBzaGFkZXJcbiAgICAgICAgICAgIGZyYWdTcmNcbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLmhvcml6b250YWwgPSBob3Jpem9udGFsO1xuXG4gICAgICAgIHRoaXMucmVzb2x1dGlvbiA9IHJlc29sdXRpb247XG5cbiAgICAgICAgdGhpcy5fcXVhbGl0eSA9IDA7XG5cbiAgICAgICAgdGhpcy5xdWFsaXR5ID0gcXVhbGl0eTtcblxuICAgICAgICB0aGlzLmJsdXIgPSBzdHJlbmd0aDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSBmaWx0ZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuc3lzdGVtcy5GaWx0ZXJTeXN0ZW19IGZpbHRlck1hbmFnZXIgLSBUaGUgbWFuYWdlci5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gaW5wdXQgLSBUaGUgaW5wdXQgdGFyZ2V0LlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBvdXRwdXQgLSBUaGUgb3V0cHV0IHRhcmdldC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuQ0xFQVJfTU9ERVN9IGNsZWFyTW9kZSAtIEhvdyB0byBjbGVhclxuICAgICAqL1xuICAgIHB1YmxpYyBhcHBseShcbiAgICAgICAgZmlsdGVyTWFuYWdlcjogc3lzdGVtcy5GaWx0ZXJTeXN0ZW0sIGlucHV0OiBSZW5kZXJUZXh0dXJlLCBvdXRwdXQ6IFJlbmRlclRleHR1cmUsIGNsZWFyTW9kZTogQ0xFQVJfTU9ERVNcbiAgICApOiB2b2lkXG4gICAge1xuICAgICAgICBpZiAob3V0cHV0KVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5ob3Jpem9udGFsKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMudW5pZm9ybXMuc3RyZW5ndGggPSAoMSAvIG91dHB1dC53aWR0aCkgKiAob3V0cHV0LndpZHRoIC8gaW5wdXQud2lkdGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMudW5pZm9ybXMuc3RyZW5ndGggPSAoMSAvIG91dHB1dC5oZWlnaHQpICogKG91dHB1dC5oZWlnaHQgLyBpbnB1dC5oZWlnaHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuaG9yaXpvbnRhbCkgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMudW5pZm9ybXMuc3RyZW5ndGggPSAoMSAvIGZpbHRlck1hbmFnZXIucmVuZGVyZXIud2lkdGgpICogKGZpbHRlck1hbmFnZXIucmVuZGVyZXIud2lkdGggLyBpbnB1dC53aWR0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy5zdHJlbmd0aCA9ICgxIC8gZmlsdGVyTWFuYWdlci5yZW5kZXJlci5oZWlnaHQpICogKGZpbHRlck1hbmFnZXIucmVuZGVyZXIuaGVpZ2h0IC8gaW5wdXQuaGVpZ2h0KTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2NyZWVuIHNwYWNlIVxuICAgICAgICB0aGlzLnVuaWZvcm1zLnN0cmVuZ3RoICo9IHRoaXMuc3RyZW5ndGg7XG4gICAgICAgIHRoaXMudW5pZm9ybXMuc3RyZW5ndGggLz0gdGhpcy5wYXNzZXM7XG5cbiAgICAgICAgaWYgKHRoaXMucGFzc2VzID09PSAxKVxuICAgICAgICB7XG4gICAgICAgICAgICBmaWx0ZXJNYW5hZ2VyLmFwcGx5RmlsdGVyKHRoaXMsIGlucHV0LCBvdXRwdXQsIGNsZWFyTW9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCByZW5kZXJUYXJnZXQgPSBmaWx0ZXJNYW5hZ2VyLmdldEZpbHRlclRleHR1cmUoKTtcbiAgICAgICAgICAgIGNvbnN0IHJlbmRlcmVyID0gZmlsdGVyTWFuYWdlci5yZW5kZXJlcjtcblxuICAgICAgICAgICAgbGV0IGZsaXAgPSBpbnB1dDtcbiAgICAgICAgICAgIGxldCBmbG9wID0gcmVuZGVyVGFyZ2V0O1xuXG4gICAgICAgICAgICB0aGlzLnN0YXRlLmJsZW5kID0gZmFsc2U7XG4gICAgICAgICAgICBmaWx0ZXJNYW5hZ2VyLmFwcGx5RmlsdGVyKHRoaXMsIGZsaXAsIGZsb3AsIENMRUFSX01PREVTLkNMRUFSKTtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCB0aGlzLnBhc3NlcyAtIDE7IGkrKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmaWx0ZXJNYW5hZ2VyLmJpbmRBbmRDbGVhcihmbGlwLCBDTEVBUl9NT0RFUy5CTElUKTtcblxuICAgICAgICAgICAgICAgIHRoaXMudW5pZm9ybXMudVNhbXBsZXIgPSBmbG9wO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IGZsb3A7XG5cbiAgICAgICAgICAgICAgICBmbG9wID0gZmxpcDtcbiAgICAgICAgICAgICAgICBmbGlwID0gdGVtcDtcblxuICAgICAgICAgICAgICAgIHJlbmRlcmVyLnNoYWRlci5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgICAgIHJlbmRlcmVyLmdlb21ldHJ5LmRyYXcoNSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuc3RhdGUuYmxlbmQgPSB0cnVlO1xuICAgICAgICAgICAgZmlsdGVyTWFuYWdlci5hcHBseUZpbHRlcih0aGlzLCBmbG9wLCBvdXRwdXQsIGNsZWFyTW9kZSk7XG4gICAgICAgICAgICBmaWx0ZXJNYW5hZ2VyLnJldHVybkZpbHRlclRleHR1cmUocmVuZGVyVGFyZ2V0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBzdHJlbmd0aCBvZiBib3RoIHRoZSBibHVyLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDE2XG4gICAgICovXG4gICAgZ2V0IGJsdXIoKTogbnVtYmVyXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5zdHJlbmd0aDtcbiAgICB9XG5cbiAgICBzZXQgYmx1cih2YWx1ZTogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgdGhpcy5wYWRkaW5nID0gMSArIChNYXRoLmFicyh2YWx1ZSkgKiAyKTtcbiAgICAgICAgdGhpcy5zdHJlbmd0aCA9IHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHF1YWxpdHkgb2YgdGhlIGJsdXIgYnkgbW9kaWZ5aW5nIHRoZSBudW1iZXIgb2YgcGFzc2VzLiBNb3JlIHBhc3NlcyBtZWFucyBoaWdoZXJcbiAgICAgKiBxdWFpbGl0eSBibHVyaW5nIGJ1dCB0aGUgbG93ZXIgdGhlIHBlcmZvcm1hbmNlLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDRcbiAgICAgKi9cbiAgICBnZXQgcXVhbGl0eSgpOiBudW1iZXJcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9xdWFsaXR5O1xuICAgIH1cblxuICAgIHNldCBxdWFsaXR5KHZhbHVlOiBudW1iZXIpXG4gICAge1xuICAgICAgICB0aGlzLl9xdWFsaXR5ID0gdmFsdWU7XG4gICAgICAgIHRoaXMucGFzc2VzID0gdmFsdWU7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgRmlsdGVyIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcbmltcG9ydCB7IEJsdXJGaWx0ZXJQYXNzIH0gZnJvbSAnLi9CbHVyRmlsdGVyUGFzcyc7XG5pbXBvcnQgeyBDTEVBUl9NT0RFUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5cbmltcG9ydCB0eXBlIHsgUmVuZGVyVGV4dHVyZSwgc3lzdGVtcyB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHR5cGUgeyBCTEVORF9NT0RFUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5cbi8qKlxuICogVGhlIEJsdXJGaWx0ZXIgYXBwbGllcyBhIEdhdXNzaWFuIGJsdXIgdG8gYW4gb2JqZWN0LlxuICpcbiAqIFRoZSBzdHJlbmd0aCBvZiB0aGUgYmx1ciBjYW4gYmUgc2V0IGZvciB0aGUgeC1heGlzIGFuZCB5LWF4aXMgc2VwYXJhdGVseS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuRmlsdGVyXG4gKiBAbWVtYmVyb2YgUElYSS5maWx0ZXJzXG4gKi9cbmV4cG9ydCBjbGFzcyBCbHVyRmlsdGVyIGV4dGVuZHMgRmlsdGVyXG57XG4gICAgcHVibGljIGJsdXJYRmlsdGVyOiBCbHVyRmlsdGVyUGFzcztcbiAgICBwdWJsaWMgYmx1cllGaWx0ZXI6IEJsdXJGaWx0ZXJQYXNzO1xuXG4gICAgcHJpdmF0ZSBfcmVwZWF0RWRnZVBpeGVsczogYm9vbGVhbjtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RyZW5ndGg9OF0gLSBUaGUgc3RyZW5ndGggb2YgdGhlIGJsdXIgZmlsdGVyLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcXVhbGl0eT00XSAtIFRoZSBxdWFsaXR5IG9mIHRoZSBibHVyIGZpbHRlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb249UElYSS5zZXR0aW5ncy5GSUxURVJfUkVTT0xVVElPTl0gLSBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgYmx1ciBmaWx0ZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtrZXJuZWxTaXplPTVdIC0gVGhlIGtlcm5lbFNpemUgb2YgdGhlIGJsdXIgZmlsdGVyLk9wdGlvbnM6IDUsIDcsIDksIDExLCAxMywgMTUuXG4gICAgICovXG4gICAgY29uc3RydWN0b3Ioc3RyZW5ndGggPSA4LCBxdWFsaXR5ID0gNCwgcmVzb2x1dGlvbiA9IHNldHRpbmdzLkZJTFRFUl9SRVNPTFVUSU9OLCBrZXJuZWxTaXplID0gNSlcbiAgICB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgdGhpcy5ibHVyWEZpbHRlciA9IG5ldyBCbHVyRmlsdGVyUGFzcyh0cnVlLCBzdHJlbmd0aCwgcXVhbGl0eSwgcmVzb2x1dGlvbiwga2VybmVsU2l6ZSk7XG4gICAgICAgIHRoaXMuYmx1cllGaWx0ZXIgPSBuZXcgQmx1ckZpbHRlclBhc3MoZmFsc2UsIHN0cmVuZ3RoLCBxdWFsaXR5LCByZXNvbHV0aW9uLCBrZXJuZWxTaXplKTtcblxuICAgICAgICB0aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uO1xuICAgICAgICB0aGlzLnF1YWxpdHkgPSBxdWFsaXR5O1xuICAgICAgICB0aGlzLmJsdXIgPSBzdHJlbmd0aDtcblxuICAgICAgICB0aGlzLnJlcGVhdEVkZ2VQaXhlbHMgPSBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSBmaWx0ZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuc3lzdGVtcy5GaWx0ZXJTeXN0ZW19IGZpbHRlck1hbmFnZXIgLSBUaGUgbWFuYWdlci5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gaW5wdXQgLSBUaGUgaW5wdXQgdGFyZ2V0LlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBvdXRwdXQgLSBUaGUgb3V0cHV0IHRhcmdldC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuQ0xFQVJfTU9ERVN9IGNsZWFyTW9kZSAtIEhvdyB0byBjbGVhclxuICAgICAqL1xuICAgIGFwcGx5KGZpbHRlck1hbmFnZXI6IHN5c3RlbXMuRmlsdGVyU3lzdGVtLCBpbnB1dDogUmVuZGVyVGV4dHVyZSwgb3V0cHV0OiBSZW5kZXJUZXh0dXJlLCBjbGVhck1vZGU6IENMRUFSX01PREVTKTogdm9pZFxuICAgIHtcbiAgICAgICAgY29uc3QgeFN0cmVuZ3RoID0gTWF0aC5hYnModGhpcy5ibHVyWEZpbHRlci5zdHJlbmd0aCk7XG4gICAgICAgIGNvbnN0IHlTdHJlbmd0aCA9IE1hdGguYWJzKHRoaXMuYmx1cllGaWx0ZXIuc3RyZW5ndGgpO1xuXG4gICAgICAgIGlmICh4U3RyZW5ndGggJiYgeVN0cmVuZ3RoKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCByZW5kZXJUYXJnZXQgPSBmaWx0ZXJNYW5hZ2VyLmdldEZpbHRlclRleHR1cmUoKTtcblxuICAgICAgICAgICAgdGhpcy5ibHVyWEZpbHRlci5hcHBseShmaWx0ZXJNYW5hZ2VyLCBpbnB1dCwgcmVuZGVyVGFyZ2V0LCBDTEVBUl9NT0RFUy5DTEVBUik7XG4gICAgICAgICAgICB0aGlzLmJsdXJZRmlsdGVyLmFwcGx5KGZpbHRlck1hbmFnZXIsIHJlbmRlclRhcmdldCwgb3V0cHV0LCBjbGVhck1vZGUpO1xuXG4gICAgICAgICAgICBmaWx0ZXJNYW5hZ2VyLnJldHVybkZpbHRlclRleHR1cmUocmVuZGVyVGFyZ2V0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh5U3RyZW5ndGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuYmx1cllGaWx0ZXIuYXBwbHkoZmlsdGVyTWFuYWdlciwgaW5wdXQsIG91dHB1dCwgY2xlYXJNb2RlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuYmx1clhGaWx0ZXIuYXBwbHkoZmlsdGVyTWFuYWdlciwgaW5wdXQsIG91dHB1dCwgY2xlYXJNb2RlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByb3RlY3RlZCB1cGRhdGVQYWRkaW5nKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9yZXBlYXRFZGdlUGl4ZWxzKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnBhZGRpbmcgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5wYWRkaW5nID0gTWF0aC5tYXgoTWF0aC5hYnModGhpcy5ibHVyWEZpbHRlci5zdHJlbmd0aCksIE1hdGguYWJzKHRoaXMuYmx1cllGaWx0ZXIuc3RyZW5ndGgpKSAqIDI7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBzdHJlbmd0aCBvZiBib3RoIHRoZSBibHVyWCBhbmQgYmx1clkgcHJvcGVydGllcyBzaW11bHRhbmVvdXNseVxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDJcbiAgICAgKi9cbiAgICBnZXQgYmx1cigpOiBudW1iZXJcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmJsdXJYRmlsdGVyLmJsdXI7XG4gICAgfVxuXG4gICAgc2V0IGJsdXIodmFsdWU6IG51bWJlcilcbiAgICB7XG4gICAgICAgIHRoaXMuYmx1clhGaWx0ZXIuYmx1ciA9IHRoaXMuYmx1cllGaWx0ZXIuYmx1ciA9IHZhbHVlO1xuICAgICAgICB0aGlzLnVwZGF0ZVBhZGRpbmcoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBudW1iZXIgb2YgcGFzc2VzIGZvciBibHVyLiBNb3JlIHBhc3NlcyBtZWFucyBoaWdoZXIgcXVhaWxpdHkgYmx1cmluZy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAxXG4gICAgICovXG4gICAgZ2V0IHF1YWxpdHkoKTogbnVtYmVyXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5ibHVyWEZpbHRlci5xdWFsaXR5O1xuICAgIH1cblxuICAgIHNldCBxdWFsaXR5KHZhbHVlOiBudW1iZXIpXG4gICAge1xuICAgICAgICB0aGlzLmJsdXJYRmlsdGVyLnF1YWxpdHkgPSB0aGlzLmJsdXJZRmlsdGVyLnF1YWxpdHkgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBzdHJlbmd0aCBvZiB0aGUgYmx1clggcHJvcGVydHlcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAyXG4gICAgICovXG4gICAgZ2V0IGJsdXJYKCk6IG51bWJlclxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYmx1clhGaWx0ZXIuYmx1cjtcbiAgICB9XG5cbiAgICBzZXQgYmx1clgodmFsdWU6IG51bWJlcilcbiAgICB7XG4gICAgICAgIHRoaXMuYmx1clhGaWx0ZXIuYmx1ciA9IHZhbHVlO1xuICAgICAgICB0aGlzLnVwZGF0ZVBhZGRpbmcoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBzdHJlbmd0aCBvZiB0aGUgYmx1clkgcHJvcGVydHlcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAyXG4gICAgICovXG4gICAgZ2V0IGJsdXJZKCk6IG51bWJlclxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYmx1cllGaWx0ZXIuYmx1cjtcbiAgICB9XG5cbiAgICBzZXQgYmx1clkodmFsdWU6IG51bWJlcilcbiAgICB7XG4gICAgICAgIHRoaXMuYmx1cllGaWx0ZXIuYmx1ciA9IHZhbHVlO1xuICAgICAgICB0aGlzLnVwZGF0ZVBhZGRpbmcoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBibGVuZG1vZGUgb2YgdGhlIGZpbHRlclxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMXG4gICAgICovXG4gICAgZ2V0IGJsZW5kTW9kZSgpOiBCTEVORF9NT0RFU1xuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYmx1cllGaWx0ZXIuYmxlbmRNb2RlO1xuICAgIH1cblxuICAgIHNldCBibGVuZE1vZGUodmFsdWU6IEJMRU5EX01PREVTKVxuICAgIHtcbiAgICAgICAgdGhpcy5ibHVyWUZpbHRlci5ibGVuZE1vZGUgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJZiBzZXQgdG8gdHJ1ZSB0aGUgZWRnZSBvZiB0aGUgdGFyZ2V0IHdpbGwgYmUgY2xhbXBlZFxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqL1xuICAgIGdldCByZXBlYXRFZGdlUGl4ZWxzKCk6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZXBlYXRFZGdlUGl4ZWxzO1xuICAgIH1cblxuICAgIHNldCByZXBlYXRFZGdlUGl4ZWxzKHZhbHVlOiBib29sZWFuKVxuICAgIHtcbiAgICAgICAgdGhpcy5fcmVwZWF0RWRnZVBpeGVscyA9IHZhbHVlO1xuICAgICAgICB0aGlzLnVwZGF0ZVBhZGRpbmcoKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBGaWx0ZXIsIGRlZmF1bHRGaWx0ZXJWZXJ0ZXggfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCBmcmFnbWVudCBmcm9tICcuL2NvbG9yTWF0cml4LmZyYWcnO1xuXG5pbXBvcnQgdHlwZSB7IEFycmF5Rml4ZWQgfSBmcm9tICdAcGl4aS91dGlscyc7XG5cbmV4cG9ydCB0eXBlIENvbG9yTWF0cml4ID0gQXJyYXlGaXhlZDxudW1iZXIsIDIwPjtcblxuLyoqXG4gKiBUaGUgQ29sb3JNYXRyaXhGaWx0ZXIgY2xhc3MgbGV0cyB5b3UgYXBwbHkgYSA1eDQgbWF0cml4IHRyYW5zZm9ybWF0aW9uIG9uIHRoZSBSR0JBXG4gKiBjb2xvciBhbmQgYWxwaGEgdmFsdWVzIG9mIGV2ZXJ5IHBpeGVsIG9uIHlvdXIgZGlzcGxheU9iamVjdCB0byBwcm9kdWNlIGEgcmVzdWx0XG4gKiB3aXRoIGEgbmV3IHNldCBvZiBSR0JBIGNvbG9yIGFuZCBhbHBoYSB2YWx1ZXMuIEl0J3MgcHJldHR5IHBvd2VyZnVsIVxuICpcbiAqIGBgYGpzXG4gKiAgbGV0IGNvbG9yTWF0cml4ID0gbmV3IFBJWEkuZmlsdGVycy5Db2xvck1hdHJpeEZpbHRlcigpO1xuICogIGNvbnRhaW5lci5maWx0ZXJzID0gW2NvbG9yTWF0cml4XTtcbiAqICBjb2xvck1hdHJpeC5jb250cmFzdCgyKTtcbiAqIGBgYFxuICogQGF1dGhvciBDbMOpbWVudCBDaGVuZWJhdWx0IDxjbGVtZW50QGdvb2Rib3lkaWdpdGFsLmNvbT5cbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5GaWx0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJLmZpbHRlcnNcbiAqL1xuZXhwb3J0IGNsYXNzIENvbG9yTWF0cml4RmlsdGVyIGV4dGVuZHMgRmlsdGVyXG57XG4gICAgcHVibGljIGdyYXlzY2FsZTogKHNjYWxlOiBudW1iZXIsIG11bHRpcGx5OiBib29sZWFuKSA9PiB2b2lkO1xuXG4gICAgY29uc3RydWN0b3IoKVxuICAgIHtcbiAgICAgICAgY29uc3QgdW5pZm9ybXMgPSB7XG4gICAgICAgICAgICBtOiBuZXcgRmxvYXQzMkFycmF5KFsxLCAwLCAwLCAwLCAwLFxuICAgICAgICAgICAgICAgIDAsIDEsIDAsIDAsIDAsXG4gICAgICAgICAgICAgICAgMCwgMCwgMSwgMCwgMCxcbiAgICAgICAgICAgICAgICAwLCAwLCAwLCAxLCAwXSksXG4gICAgICAgICAgICB1QWxwaGE6IDEsXG4gICAgICAgIH07XG5cbiAgICAgICAgc3VwZXIoZGVmYXVsdEZpbHRlclZlcnRleCwgZnJhZ21lbnQsIHVuaWZvcm1zKTtcblxuICAgICAgICB0aGlzLmFscGhhID0gMTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUcmFuc2Zvcm1zIGN1cnJlbnQgbWF0cml4IGFuZCBzZXQgdGhlIG5ldyBvbmVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IG1hdHJpeCAtIDV4NCBtYXRyaXhcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBwcml2YXRlIF9sb2FkTWF0cml4KG1hdHJpeDogQ29sb3JNYXRyaXgsIG11bHRpcGx5ID0gZmFsc2UpOiB2b2lkXG4gICAge1xuICAgICAgICBsZXQgbmV3TWF0cml4ID0gbWF0cml4O1xuXG4gICAgICAgIGlmIChtdWx0aXBseSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fbXVsdGlwbHkobmV3TWF0cml4LCB0aGlzLnVuaWZvcm1zLm0sIG1hdHJpeCk7XG4gICAgICAgICAgICBuZXdNYXRyaXggPSB0aGlzLl9jb2xvck1hdHJpeChuZXdNYXRyaXgpIGFzIGFueTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNldCB0aGUgbmV3IG1hdHJpeFxuICAgICAgICB0aGlzLnVuaWZvcm1zLm0gPSBuZXdNYXRyaXg7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTXVsdGlwbGllcyB0d28gbWF0NSdzXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IG91dCAtIDV4NCBtYXRyaXggdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBhIC0gNXg0IG1hdHJpeCB0aGUgZmlyc3Qgb3BlcmFuZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGIgLSA1eDQgbWF0cml4IHRoZSBzZWNvbmQgb3BlcmFuZFxuICAgICAqIEByZXR1cm5zIHtudW1iZXJbXX0gNXg0IG1hdHJpeFxuICAgICAqL1xuICAgIHByaXZhdGUgX211bHRpcGx5KG91dDogQ29sb3JNYXRyaXgsIGE6IENvbG9yTWF0cml4LCBiOiBDb2xvck1hdHJpeCk6IENvbG9yTWF0cml4XG4gICAge1xuICAgICAgICAvLyBSZWQgQ2hhbm5lbFxuICAgICAgICBvdXRbMF0gPSAoYVswXSAqIGJbMF0pICsgKGFbMV0gKiBiWzVdKSArIChhWzJdICogYlsxMF0pICsgKGFbM10gKiBiWzE1XSk7XG4gICAgICAgIG91dFsxXSA9IChhWzBdICogYlsxXSkgKyAoYVsxXSAqIGJbNl0pICsgKGFbMl0gKiBiWzExXSkgKyAoYVszXSAqIGJbMTZdKTtcbiAgICAgICAgb3V0WzJdID0gKGFbMF0gKiBiWzJdKSArIChhWzFdICogYls3XSkgKyAoYVsyXSAqIGJbMTJdKSArIChhWzNdICogYlsxN10pO1xuICAgICAgICBvdXRbM10gPSAoYVswXSAqIGJbM10pICsgKGFbMV0gKiBiWzhdKSArIChhWzJdICogYlsxM10pICsgKGFbM10gKiBiWzE4XSk7XG4gICAgICAgIG91dFs0XSA9IChhWzBdICogYls0XSkgKyAoYVsxXSAqIGJbOV0pICsgKGFbMl0gKiBiWzE0XSkgKyAoYVszXSAqIGJbMTldKSArIGFbNF07XG5cbiAgICAgICAgLy8gR3JlZW4gQ2hhbm5lbFxuICAgICAgICBvdXRbNV0gPSAoYVs1XSAqIGJbMF0pICsgKGFbNl0gKiBiWzVdKSArIChhWzddICogYlsxMF0pICsgKGFbOF0gKiBiWzE1XSk7XG4gICAgICAgIG91dFs2XSA9IChhWzVdICogYlsxXSkgKyAoYVs2XSAqIGJbNl0pICsgKGFbN10gKiBiWzExXSkgKyAoYVs4XSAqIGJbMTZdKTtcbiAgICAgICAgb3V0WzddID0gKGFbNV0gKiBiWzJdKSArIChhWzZdICogYls3XSkgKyAoYVs3XSAqIGJbMTJdKSArIChhWzhdICogYlsxN10pO1xuICAgICAgICBvdXRbOF0gPSAoYVs1XSAqIGJbM10pICsgKGFbNl0gKiBiWzhdKSArIChhWzddICogYlsxM10pICsgKGFbOF0gKiBiWzE4XSk7XG4gICAgICAgIG91dFs5XSA9IChhWzVdICogYls0XSkgKyAoYVs2XSAqIGJbOV0pICsgKGFbN10gKiBiWzE0XSkgKyAoYVs4XSAqIGJbMTldKSArIGFbOV07XG5cbiAgICAgICAgLy8gQmx1ZSBDaGFubmVsXG4gICAgICAgIG91dFsxMF0gPSAoYVsxMF0gKiBiWzBdKSArIChhWzExXSAqIGJbNV0pICsgKGFbMTJdICogYlsxMF0pICsgKGFbMTNdICogYlsxNV0pO1xuICAgICAgICBvdXRbMTFdID0gKGFbMTBdICogYlsxXSkgKyAoYVsxMV0gKiBiWzZdKSArIChhWzEyXSAqIGJbMTFdKSArIChhWzEzXSAqIGJbMTZdKTtcbiAgICAgICAgb3V0WzEyXSA9IChhWzEwXSAqIGJbMl0pICsgKGFbMTFdICogYls3XSkgKyAoYVsxMl0gKiBiWzEyXSkgKyAoYVsxM10gKiBiWzE3XSk7XG4gICAgICAgIG91dFsxM10gPSAoYVsxMF0gKiBiWzNdKSArIChhWzExXSAqIGJbOF0pICsgKGFbMTJdICogYlsxM10pICsgKGFbMTNdICogYlsxOF0pO1xuICAgICAgICBvdXRbMTRdID0gKGFbMTBdICogYls0XSkgKyAoYVsxMV0gKiBiWzldKSArIChhWzEyXSAqIGJbMTRdKSArIChhWzEzXSAqIGJbMTldKSArIGFbMTRdO1xuXG4gICAgICAgIC8vIEFscGhhIENoYW5uZWxcbiAgICAgICAgb3V0WzE1XSA9IChhWzE1XSAqIGJbMF0pICsgKGFbMTZdICogYls1XSkgKyAoYVsxN10gKiBiWzEwXSkgKyAoYVsxOF0gKiBiWzE1XSk7XG4gICAgICAgIG91dFsxNl0gPSAoYVsxNV0gKiBiWzFdKSArIChhWzE2XSAqIGJbNl0pICsgKGFbMTddICogYlsxMV0pICsgKGFbMThdICogYlsxNl0pO1xuICAgICAgICBvdXRbMTddID0gKGFbMTVdICogYlsyXSkgKyAoYVsxNl0gKiBiWzddKSArIChhWzE3XSAqIGJbMTJdKSArIChhWzE4XSAqIGJbMTddKTtcbiAgICAgICAgb3V0WzE4XSA9IChhWzE1XSAqIGJbM10pICsgKGFbMTZdICogYls4XSkgKyAoYVsxN10gKiBiWzEzXSkgKyAoYVsxOF0gKiBiWzE4XSk7XG4gICAgICAgIG91dFsxOV0gPSAoYVsxNV0gKiBiWzRdKSArIChhWzE2XSAqIGJbOV0pICsgKGFbMTddICogYlsxNF0pICsgKGFbMThdICogYlsxOV0pICsgYVsxOV07XG5cbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBGbG9hdDMyIEFycmF5IGFuZCBub3JtYWxpemUgdGhlIG9mZnNldCBjb21wb25lbnQgdG8gMC0xXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IG1hdHJpeCAtIDV4NCBtYXRyaXhcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJbXX0gNXg0IG1hdHJpeCB3aXRoIGFsbCB2YWx1ZXMgYmV0d2VlbiAwLTFcbiAgICAgKi9cbiAgICBwcml2YXRlIF9jb2xvck1hdHJpeChtYXRyaXg6IENvbG9yTWF0cml4KTogQ29sb3JNYXRyaXhcbiAgICB7XG4gICAgICAgIC8vIENyZWF0ZSBhIEZsb2F0MzIgQXJyYXkgYW5kIG5vcm1hbGl6ZSB0aGUgb2Zmc2V0IGNvbXBvbmVudCB0byAwLTFcbiAgICAgICAgY29uc3QgbSA9IG5ldyBGbG9hdDMyQXJyYXkobWF0cml4KTtcblxuICAgICAgICBtWzRdIC89IDI1NTtcbiAgICAgICAgbVs5XSAvPSAyNTU7XG4gICAgICAgIG1bMTRdIC89IDI1NTtcbiAgICAgICAgbVsxOV0gLz0gMjU1O1xuXG4gICAgICAgIHJldHVybiBtIGFzIGFueTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGp1c3RzIGJyaWdodG5lc3NcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiIC0gdmFsdWUgb2YgdGhlIGJyaWd0aG5lc3MgKDAtMSwgd2hlcmUgMCBpcyBibGFjaylcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBwdWJsaWMgYnJpZ2h0bmVzcyhiOiBudW1iZXIsIG11bHRpcGx5OiBib29sZWFuKTogdm9pZFxuICAgIHtcbiAgICAgICAgY29uc3QgbWF0cml4OiBDb2xvck1hdHJpeCA9IFtcbiAgICAgICAgICAgIGIsIDAsIDAsIDAsIDAsXG4gICAgICAgICAgICAwLCBiLCAwLCAwLCAwLFxuICAgICAgICAgICAgMCwgMCwgYiwgMCwgMCxcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAsXG4gICAgICAgIF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIG1hdHJpY2VzIGluIGdyZXkgc2NhbGVzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NhbGUgLSB2YWx1ZSBvZiB0aGUgZ3JleSAoMC0xLCB3aGVyZSAwIGlzIGJsYWNrKVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIHB1YmxpYyBncmV5c2NhbGUoc2NhbGU6IG51bWJlciwgbXVsdGlwbHk6IGJvb2xlYW4pOiB2b2lkXG4gICAge1xuICAgICAgICBjb25zdCBtYXRyaXg6IENvbG9yTWF0cml4ID0gW1xuICAgICAgICAgICAgc2NhbGUsIHNjYWxlLCBzY2FsZSwgMCwgMCxcbiAgICAgICAgICAgIHNjYWxlLCBzY2FsZSwgc2NhbGUsIDAsIDAsXG4gICAgICAgICAgICBzY2FsZSwgc2NhbGUsIHNjYWxlLCAwLCAwLFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCxcbiAgICAgICAgXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgYmxhY2sgYW5kIHdoaXRlIG1hdHJpY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBwdWJsaWMgYmxhY2tBbmRXaGl0ZShtdWx0aXBseTogYm9vbGVhbik6IHZvaWRcbiAgICB7XG4gICAgICAgIGNvbnN0IG1hdHJpeDogQ29sb3JNYXRyaXggPSBbXG4gICAgICAgICAgICAwLjMsIDAuNiwgMC4xLCAwLCAwLFxuICAgICAgICAgICAgMC4zLCAwLjYsIDAuMSwgMCwgMCxcbiAgICAgICAgICAgIDAuMywgMC42LCAwLjEsIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwLFxuICAgICAgICBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBodWUgcHJvcGVydHkgb2YgdGhlIGNvbG9yXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcm90YXRpb24gLSBpbiBkZWdyZWVzXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgcHVibGljIGh1ZShyb3RhdGlvbjogbnVtYmVyLCBtdWx0aXBseTogYm9vbGVhbik6IHZvaWRcbiAgICB7XG4gICAgICAgIHJvdGF0aW9uID0gKHJvdGF0aW9uIHx8IDApIC8gMTgwICogTWF0aC5QSTtcblxuICAgICAgICBjb25zdCBjb3NSID0gTWF0aC5jb3Mocm90YXRpb24pO1xuICAgICAgICBjb25zdCBzaW5SID0gTWF0aC5zaW4ocm90YXRpb24pO1xuICAgICAgICBjb25zdCBzcXJ0ID0gTWF0aC5zcXJ0O1xuXG4gICAgICAgIC8qIGEgZ29vZCBhcHByb3hpbWF0aW9uIGZvciBodWUgcm90YXRpb25cbiAgICAgICAgIFRoaXMgbWF0cml4IGlzIGZhciBiZXR0ZXIgdGhhbiB0aGUgdmVyc2lvbnMgd2l0aCBtYWdpYyBsdW1pbmFuY2UgY29uc3RhbnRzXG4gICAgICAgICBmb3JtZXJseSB1c2VkIGhlcmUsIGJ1dCBhbHNvIHVzZWQgaW4gdGhlIHN0YXJsaW5nIGZyYW1ld29yayAoZmxhc2gpIGFuZCBrbm93biBmcm9tIHRoaXNcbiAgICAgICAgIG9sZCBwYXJ0IG9mIHRoZSBpbnRlcm5ldDogcXVhc2ltb25kby5jb20vYXJjaGl2ZXMvMDAwNTY1LnBocFxuXG4gICAgICAgICBUaGlzIG5ldyBtYXRyaXggaXMgYmFzZWQgb24gcmdiIGN1YmUgcm90YXRpb24gaW4gc3BhY2UuIExvb2sgaGVyZSBmb3IgYSBtb3JlIGRlc2NyaXB0aXZlXG4gICAgICAgICBpbXBsZW1lbnRhdGlvbiBhcyBhIHNoYWRlciBub3QgYSBnZW5lcmFsIG1hdHJpeDpcbiAgICAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9ldmFudy9nbGZ4LmpzL2Jsb2IvNTg4NDFjMjM5MTliZDU5Nzg3ZWZmYzAzMzNhNDg5N2I0MzgzNTQxMi9zcmMvZmlsdGVycy9hZGp1c3QvaHVlc2F0dXJhdGlvbi5qc1xuXG4gICAgICAgICBUaGlzIGlzIHRoZSBzb3VyY2UgZm9yIHRoZSBjb2RlOlxuICAgICAgICAgc2VlIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvODUwNzg4NS9zaGlmdC1odWUtb2YtYW4tcmdiLWNvbG9yLzg1MTA3NTEjODUxMDc1MVxuICAgICAgICAgKi9cblxuICAgICAgICBjb25zdCB3ID0gMSAvIDM7XG4gICAgICAgIGNvbnN0IHNxclcgPSBzcXJ0KHcpOyAvLyB3ZWlnaHQgaXNcblxuICAgICAgICBjb25zdCBhMDAgPSBjb3NSICsgKCgxLjAgLSBjb3NSKSAqIHcpO1xuICAgICAgICBjb25zdCBhMDEgPSAodyAqICgxLjAgLSBjb3NSKSkgLSAoc3FyVyAqIHNpblIpO1xuICAgICAgICBjb25zdCBhMDIgPSAodyAqICgxLjAgLSBjb3NSKSkgKyAoc3FyVyAqIHNpblIpO1xuXG4gICAgICAgIGNvbnN0IGExMCA9ICh3ICogKDEuMCAtIGNvc1IpKSArIChzcXJXICogc2luUik7XG4gICAgICAgIGNvbnN0IGExMSA9IGNvc1IgKyAodyAqICgxLjAgLSBjb3NSKSk7XG4gICAgICAgIGNvbnN0IGExMiA9ICh3ICogKDEuMCAtIGNvc1IpKSAtIChzcXJXICogc2luUik7XG5cbiAgICAgICAgY29uc3QgYTIwID0gKHcgKiAoMS4wIC0gY29zUikpIC0gKHNxclcgKiBzaW5SKTtcbiAgICAgICAgY29uc3QgYTIxID0gKHcgKiAoMS4wIC0gY29zUikpICsgKHNxclcgKiBzaW5SKTtcbiAgICAgICAgY29uc3QgYTIyID0gY29zUiArICh3ICogKDEuMCAtIGNvc1IpKTtcblxuICAgICAgICBjb25zdCBtYXRyaXg6IENvbG9yTWF0cml4ID0gW1xuICAgICAgICAgICAgYTAwLCBhMDEsIGEwMiwgMCwgMCxcbiAgICAgICAgICAgIGExMCwgYTExLCBhMTIsIDAsIDAsXG4gICAgICAgICAgICBhMjAsIGEyMSwgYTIyLCAwLCAwLFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCxcbiAgICAgICAgXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgY29udHJhc3QgbWF0cml4LCBpbmNyZWFzZSB0aGUgc2VwYXJhdGlvbiBiZXR3ZWVuIGRhcmsgYW5kIGJyaWdodFxuICAgICAqIEluY3JlYXNlIGNvbnRyYXN0IDogc2hhZG93cyBkYXJrZXIgYW5kIGhpZ2hsaWdodHMgYnJpZ2h0ZXJcbiAgICAgKiBEZWNyZWFzZSBjb250cmFzdCA6IGJyaW5nIHRoZSBzaGFkb3dzIHVwIGFuZCB0aGUgaGlnaGxpZ2h0cyBkb3duXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW1vdW50IC0gdmFsdWUgb2YgdGhlIGNvbnRyYXN0ICgwLTEpXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgcHVibGljIGNvbnRyYXN0KGFtb3VudDogbnVtYmVyLCBtdWx0aXBseTogYm9vbGVhbik6IHZvaWRcbiAgICB7XG4gICAgICAgIGNvbnN0IHYgPSAoYW1vdW50IHx8IDApICsgMTtcbiAgICAgICAgY29uc3QgbyA9IC0wLjUgKiAodiAtIDEpO1xuXG4gICAgICAgIGNvbnN0IG1hdHJpeDogQ29sb3JNYXRyaXggPSBbXG4gICAgICAgICAgICB2LCAwLCAwLCAwLCBvLFxuICAgICAgICAgICAgMCwgdiwgMCwgMCwgbyxcbiAgICAgICAgICAgIDAsIDAsIHYsIDAsIG8sXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwLFxuICAgICAgICBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBzYXR1cmF0aW9uIG1hdHJpeCwgaW5jcmVhc2UgdGhlIHNlcGFyYXRpb24gYmV0d2VlbiBjb2xvcnNcbiAgICAgKiBJbmNyZWFzZSBzYXR1cmF0aW9uIDogaW5jcmVhc2UgY29udHJhc3QsIGJyaWdodG5lc3MsIGFuZCBzaGFycG5lc3NcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSBUaGUgc2F0dXJhdGlvbiBhbW91bnQgKDAtMSlcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFttdWx0aXBseV0gLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIHB1YmxpYyBzYXR1cmF0ZShhbW91bnQgPSAwLCBtdWx0aXBseT86IGJvb2xlYW4pOiB2b2lkXG4gICAge1xuICAgICAgICBjb25zdCB4ID0gKGFtb3VudCAqIDIgLyAzKSArIDE7XG4gICAgICAgIGNvbnN0IHkgPSAoKHggLSAxKSAqIC0wLjUpO1xuXG4gICAgICAgIGNvbnN0IG1hdHJpeDogQ29sb3JNYXRyaXggPSBbXG4gICAgICAgICAgICB4LCB5LCB5LCAwLCAwLFxuICAgICAgICAgICAgeSwgeCwgeSwgMCwgMCxcbiAgICAgICAgICAgIHksIHksIHgsIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwLFxuICAgICAgICBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVzYXR1cmF0ZSBpbWFnZSAocmVtb3ZlIGNvbG9yKVxuICAgICAqXG4gICAgICogQ2FsbCB0aGUgc2F0dXJhdGUgZnVuY3Rpb25cbiAgICAgKlxuICAgICAqL1xuICAgIHB1YmxpYyBkZXNhdHVyYXRlKCk6IHZvaWQgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuICAgIHtcbiAgICAgICAgdGhpcy5zYXR1cmF0ZSgtMSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTmVnYXRpdmUgaW1hZ2UgKGludmVyc2Ugb2YgY2xhc3NpYyByZ2IgbWF0cml4KVxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgcHVibGljIG5lZ2F0aXZlKG11bHRpcGx5OiBib29sZWFuKTogdm9pZFxuICAgIHtcbiAgICAgICAgY29uc3QgbWF0cml4OiBDb2xvck1hdHJpeCA9IFtcbiAgICAgICAgICAgIC0xLCAwLCAwLCAxLCAwLFxuICAgICAgICAgICAgMCwgLTEsIDAsIDEsIDAsXG4gICAgICAgICAgICAwLCAwLCAtMSwgMSwgMCxcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAsXG4gICAgICAgIF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXBpYSBpbWFnZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgcHVibGljIHNlcGlhKG11bHRpcGx5OiBib29sZWFuKTogdm9pZFxuICAgIHtcbiAgICAgICAgY29uc3QgbWF0cml4OiBDb2xvck1hdHJpeCA9IFtcbiAgICAgICAgICAgIDAuMzkzLCAwLjc2ODk5OTksIDAuMTg4OTk5OTksIDAsIDAsXG4gICAgICAgICAgICAwLjM0OSwgMC42ODU5OTk5LCAwLjE2Nzk5OTk5LCAwLCAwLFxuICAgICAgICAgICAgMC4yNzIsIDAuNTMzOTk5OSwgMC4xMzA5OTk5OSwgMCwgMCxcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAsXG4gICAgICAgIF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb2xvciBtb3Rpb24gcGljdHVyZSBwcm9jZXNzIGludmVudGVkIGluIDE5MTYgKHRoYW5rcyBEb21pbmljIFN6YWJsZXdza2kpXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBwdWJsaWMgdGVjaG5pY29sb3IobXVsdGlwbHk6IGJvb2xlYW4pOiB2b2lkXG4gICAge1xuICAgICAgICBjb25zdCBtYXRyaXg6IENvbG9yTWF0cml4ID0gW1xuICAgICAgICAgICAgMS45MTI1Mjc3ODkxNDU2MDgzLCAtMC44NTQ1MzQ0OTc2OTUxNjQ1LCAtMC4wOTE1NTUwODQ4Mjc1NTU4NSwgMCwgMTEuNzkzNjAzNDM0Mzc3MzM3LFxuICAgICAgICAgICAgLTAuMzA4NzgzMzM4NTkyODA5NywgMS43NjU4OTA4NTU1NDU4NDI4LCAtMC4xMDYwMTc0MzA3NDcyMjI0NSwgMCwgLTcwLjM1MjA1MTYxNDYxMzk4LFxuICAgICAgICAgICAgLTAuMjMxMTAzMzc3NTQ4NjE2LCAtMC43NTAxODk5MTk3NDQwMjEyLCAxLjg0NzU5NzgxNjEwODE4OSwgMCwgMzAuOTUwOTQwODY5NDkxMTM4LFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCxcbiAgICAgICAgXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBvbGFyb2lkIGZpbHRlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgcHVibGljIHBvbGFyb2lkKG11bHRpcGx5OiBib29sZWFuKTogdm9pZFxuICAgIHtcbiAgICAgICAgY29uc3QgbWF0cml4OiBDb2xvck1hdHJpeCA9IFtcbiAgICAgICAgICAgIDEuNDM4LCAtMC4wNjIsIC0wLjA2MiwgMCwgMCxcbiAgICAgICAgICAgIC0wLjEyMiwgMS4zNzgsIC0wLjEyMiwgMCwgMCxcbiAgICAgICAgICAgIC0wLjAxNiwgLTAuMDE2LCAxLjQ4MywgMCwgMCxcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAsXG4gICAgICAgIF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGaWx0ZXIgd2hvIHRyYW5zZm9ybXMgOiBSZWQgLT4gQmx1ZSBhbmQgQmx1ZSAtPiBSZWRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIHB1YmxpYyB0b0JHUihtdWx0aXBseTogYm9vbGVhbik6IHZvaWRcbiAgICB7XG4gICAgICAgIGNvbnN0IG1hdHJpeDogQ29sb3JNYXRyaXggPSBbXG4gICAgICAgICAgICAwLCAwLCAxLCAwLCAwLFxuICAgICAgICAgICAgMCwgMSwgMCwgMCwgMCxcbiAgICAgICAgICAgIDEsIDAsIDAsIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwLFxuICAgICAgICBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29sb3IgcmV2ZXJzYWwgZmlsbSBpbnRyb2R1Y2VkIGJ5IEVhc3RtYW4gS29kYWsgaW4gMTkzNS4gKHRoYW5rcyBEb21pbmljIFN6YWJsZXdza2kpXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBwdWJsaWMga29kYWNocm9tZShtdWx0aXBseTogYm9vbGVhbik6IHZvaWRcbiAgICB7XG4gICAgICAgIGNvbnN0IG1hdHJpeDogQ29sb3JNYXRyaXggPSBbXG4gICAgICAgICAgICAxLjEyODU1ODIzOTY1OTM1MjUsIC0wLjM5NjczODIyODM2MDEzNDgsIC0wLjAzOTkyNTU5MTcyOTIxNzkzLCAwLCA2My43Mjk1ODc2MjE5NjUwMixcbiAgICAgICAgICAgIC0wLjE2NDA0MzM5OTYyMjQ0NjE2LCAxLjA4MzUyNTE1NjYyOTEzMDQsIC0wLjA1NDk4ODA1MTE1NjMzMTMyLCAwLCAyNC43MzI0MDc4OTY3MDYyMDMsXG4gICAgICAgICAgICAtMC4xNjc4NjAxMDcwNjE1NTc2MywgLTAuNTYwMzQxNjI3NzY5NTI0OCwgMS42MDE0ODUwNzYxOTY0OTQzLCAwLCAzNS42Mjk4MjgwNzQ2MDk0NixcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAsXG4gICAgICAgIF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBCcm93biBkZWxpY2lvdXMgYnJvd25pIGZpbHRlciAodGhhbmtzIERvbWluaWMgU3phYmxld3NraSlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIHB1YmxpYyBicm93bmkobXVsdGlwbHk6IGJvb2xlYW4pOiB2b2lkXG4gICAge1xuICAgICAgICBjb25zdCBtYXRyaXg6IENvbG9yTWF0cml4ID0gW1xuICAgICAgICAgICAgMC41OTk3MDIzNDk4MTU5NzE1LCAwLjM0NTUzMjQzMDQ4MzkxMjYzLCAtMC4yNzA4Mjk4Njc0NTM4MDQyLCAwLCA0Ny40MzE5Mjg1NTYwMDg3MyxcbiAgICAgICAgICAgIC0wLjAzNzcwMzI0OTgzNzc4MzE1NywgMC44NjA5NTc3NTg3OTkyNjQxLCAwLjE1MDU5NTUyMzg4NDU5OTEzLCAwLCAtMzYuOTY4NDE0OTgzMTkxMjcsXG4gICAgICAgICAgICAwLjI0MTEzNjM1MTI4MTUzMzM1LCAtMC4wNzQ0MTAzNzkwODQyMjQ5MiwgMC40NDk3MjE4MjA2NDg3NzE1MywgMCwgLTcuNTYyMDc1Mjc3NTkxMjgzLFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCxcbiAgICAgICAgXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFZpbnRhZ2UgZmlsdGVyICh0aGFua3MgRG9taW5pYyBTemFibGV3c2tpKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgcHVibGljIHZpbnRhZ2UobXVsdGlwbHk6IGJvb2xlYW4pOiB2b2lkXG4gICAge1xuICAgICAgICBjb25zdCBtYXRyaXg6IENvbG9yTWF0cml4ID0gW1xuICAgICAgICAgICAgMC42Mjc5MzQ1NjM1NjA1OTk0LCAwLjMyMDIxODM0MjA4MTkzNjcsIC0wLjAzOTY1NDA4MjExMzEyNDUzLCAwLCA5LjY1MTI4NTgzNTI5NDEyMyxcbiAgICAgICAgICAgIDAuMDI1NzgzOTc3MDQ4MDg4NjgsIDAuNjQ0MTE4ODY0NDM3NDc3MSwgMC4wMzI1OTEyNzYxNjE0OTI5NCwgMCwgNy40NjI4MjkxNzY0NzA1OTEsXG4gICAgICAgICAgICAwLjA0NjYwNTU1NTY3ODI3MTksIC0wLjA4NTEyMzI5ODcyNDc4OTEsIDAuNTI0MTY0ODAxODcwMDQ2NSwgMCwgNS4xNTkxOTA1ODgyMzUyOTYsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwLFxuICAgICAgICBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogV2UgZG9uJ3Qga25vdyBleGFjdGx5IHdoYXQgaXQgZG9lcywga2luZCBvZiBncmFkaWVudCBtYXAsIGJ1dCBmdW5ueSB0byBwbGF5IHdpdGghXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGVzYXR1cmF0aW9uIC0gVG9uZSB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvbmVkIC0gVG9uZSB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGxpZ2h0Q29sb3IgLSBUb25lIHZhbHVlcywgZXhhbXBsZTogYDB4RkZFNTgwYFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkYXJrQ29sb3IgLSBUb25lIHZhbHVlcywgZXhhbXBsZTogYDB4RkZFNTgwYFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIHB1YmxpYyBjb2xvclRvbmUoZGVzYXR1cmF0aW9uOiBudW1iZXIsIHRvbmVkOiBudW1iZXIsIGxpZ2h0Q29sb3I6IG51bWJlciwgZGFya0NvbG9yOiBudW1iZXIsIG11bHRpcGx5OiBib29sZWFuKTogdm9pZFxuICAgIHtcbiAgICAgICAgZGVzYXR1cmF0aW9uID0gZGVzYXR1cmF0aW9uIHx8IDAuMjtcbiAgICAgICAgdG9uZWQgPSB0b25lZCB8fCAwLjE1O1xuICAgICAgICBsaWdodENvbG9yID0gbGlnaHRDb2xvciB8fCAweEZGRTU4MDtcbiAgICAgICAgZGFya0NvbG9yID0gZGFya0NvbG9yIHx8IDB4MzM4MDAwO1xuXG4gICAgICAgIGNvbnN0IGxSID0gKChsaWdodENvbG9yID4+IDE2KSAmIDB4RkYpIC8gMjU1O1xuICAgICAgICBjb25zdCBsRyA9ICgobGlnaHRDb2xvciA+PiA4KSAmIDB4RkYpIC8gMjU1O1xuICAgICAgICBjb25zdCBsQiA9IChsaWdodENvbG9yICYgMHhGRikgLyAyNTU7XG5cbiAgICAgICAgY29uc3QgZFIgPSAoKGRhcmtDb2xvciA+PiAxNikgJiAweEZGKSAvIDI1NTtcbiAgICAgICAgY29uc3QgZEcgPSAoKGRhcmtDb2xvciA+PiA4KSAmIDB4RkYpIC8gMjU1O1xuICAgICAgICBjb25zdCBkQiA9IChkYXJrQ29sb3IgJiAweEZGKSAvIDI1NTtcblxuICAgICAgICBjb25zdCBtYXRyaXg6IENvbG9yTWF0cml4ID0gW1xuICAgICAgICAgICAgMC4zLCAwLjU5LCAwLjExLCAwLCAwLFxuICAgICAgICAgICAgbFIsIGxHLCBsQiwgZGVzYXR1cmF0aW9uLCAwLFxuICAgICAgICAgICAgZFIsIGRHLCBkQiwgdG9uZWQsIDAsXG4gICAgICAgICAgICBsUiAtIGRSLCBsRyAtIGRHLCBsQiAtIGRCLCAwLCAwLFxuICAgICAgICBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTmlnaHQgZWZmZWN0XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW50ZW5zaXR5IC0gVGhlIGludGVuc2l0eSBvZiB0aGUgbmlnaHQgZWZmZWN0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIHB1YmxpYyBuaWdodChpbnRlbnNpdHk6IG51bWJlciwgbXVsdGlwbHk6IGJvb2xlYW4pOiB2b2lkXG4gICAge1xuICAgICAgICBpbnRlbnNpdHkgPSBpbnRlbnNpdHkgfHwgMC4xO1xuXG4gICAgICAgIGNvbnN0IG1hdHJpeDogQ29sb3JNYXRyaXggPSBbXG4gICAgICAgICAgICBpbnRlbnNpdHkgKiAoLTIuMCksIC1pbnRlbnNpdHksIDAsIDAsIDAsXG4gICAgICAgICAgICAtaW50ZW5zaXR5LCAwLCBpbnRlbnNpdHksIDAsIDAsXG4gICAgICAgICAgICAwLCBpbnRlbnNpdHksIGludGVuc2l0eSAqIDIuMCwgMCwgMCxcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAsXG4gICAgICAgIF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQcmVkYXRvciBlZmZlY3RcbiAgICAgKlxuICAgICAqIEVyYXNlIHRoZSBjdXJyZW50IG1hdHJpeCBieSBzZXR0aW5nIGEgbmV3IGluZGVwZW50IG9uZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFtb3VudCAtIGhvdyBtdWNoIHRoZSBwcmVkYXRvciBmZWVscyBoaXMgZnV0dXJlIHZpY3RpbVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIHB1YmxpYyBwcmVkYXRvcihhbW91bnQ6IG51bWJlciwgbXVsdGlwbHk6IGJvb2xlYW4pOiB2b2lkXG4gICAge1xuICAgICAgICBjb25zdCBtYXRyaXg6IENvbG9yTWF0cml4ID0gW1xuICAgICAgICAgICAgLy8gcm93IDFcbiAgICAgICAgICAgIDExLjIyNDEzMDYzMDQ5MzE2NCAqIGFtb3VudCxcbiAgICAgICAgICAgIC00Ljc5NDQ4Njk5OTUxMTcxOSAqIGFtb3VudCxcbiAgICAgICAgICAgIC0yLjg3NDYxMTg1NDU1MzIyMjcgKiBhbW91bnQsXG4gICAgICAgICAgICAwICogYW1vdW50LFxuICAgICAgICAgICAgMC40MDM0MjQzODIyMDk3Nzc4MyAqIGFtb3VudCxcbiAgICAgICAgICAgIC8vIHJvdyAyXG4gICAgICAgICAgICAtMy42MzMwNjk3NTM2NDY4NTA2ICogYW1vdW50LFxuICAgICAgICAgICAgOS4xOTMxNTcxOTYwNDQ5MjIgKiBhbW91bnQsXG4gICAgICAgICAgICAtMi45NTE4MTA4MzY3OTE5OTIgKiBhbW91bnQsXG4gICAgICAgICAgICAwICogYW1vdW50LFxuICAgICAgICAgICAgLTEuMzE2MTM1MDQ4ODY2MjcyICogYW1vdW50LFxuICAgICAgICAgICAgLy8gcm93IDNcbiAgICAgICAgICAgIC0zLjIxODQxOTc5MDI2Nzk0NDMgKiBhbW91bnQsXG4gICAgICAgICAgICAtNC4yMzc1MDMwNTE3NTc4MTI1ICogYW1vdW50LFxuICAgICAgICAgICAgNy40NzY0NDgwNTkwODIwMzEgKiBhbW91bnQsXG4gICAgICAgICAgICAwICogYW1vdW50LFxuICAgICAgICAgICAgMC44MDQ0NDU5MjIzNzQ3MjUzICogYW1vdW50LFxuICAgICAgICAgICAgLy8gcm93IDRcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAsXG4gICAgICAgIF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMU0QgZWZmZWN0XG4gICAgICpcbiAgICAgKiBNdWx0aXBseSB0aGUgY3VycmVudCBtYXRyaXhcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIHB1YmxpYyBsc2QobXVsdGlwbHk6IGJvb2xlYW4pOiB2b2lkXG4gICAge1xuICAgICAgICBjb25zdCBtYXRyaXg6IENvbG9yTWF0cml4ID0gW1xuICAgICAgICAgICAgMiwgLTAuNCwgMC41LCAwLCAwLFxuICAgICAgICAgICAgLTAuNSwgMiwgLTAuNCwgMCwgMCxcbiAgICAgICAgICAgIC0wLjQsIC0wLjUsIDMsIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwLFxuICAgICAgICBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXJhc2UgdGhlIGN1cnJlbnQgbWF0cml4IGJ5IHNldHRpbmcgdGhlIGRlZmF1bHQgb25lXG4gICAgICpcbiAgICAgKi9cbiAgICBwdWJsaWMgcmVzZXQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgY29uc3QgbWF0cml4OiBDb2xvck1hdHJpeCA9IFtcbiAgICAgICAgICAgIDEsIDAsIDAsIDAsIDAsXG4gICAgICAgICAgICAwLCAxLCAwLCAwLCAwLFxuICAgICAgICAgICAgMCwgMCwgMSwgMCwgMCxcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAsXG4gICAgICAgIF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIGZhbHNlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbWF0cml4IG9mIHRoZSBjb2xvciBtYXRyaXggZmlsdGVyXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgKiBAZGVmYXVsdCBbMSwgMCwgMCwgMCwgMCwgMCwgMSwgMCwgMCwgMCwgMCwgMCwgMSwgMCwgMCwgMCwgMCwgMCwgMSwgMF1cbiAgICAgKi9cbiAgICBnZXQgbWF0cml4KCk6IENvbG9yTWF0cml4XG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy51bmlmb3Jtcy5tO1xuICAgIH1cblxuICAgIHNldCBtYXRyaXgodmFsdWU6IENvbG9yTWF0cml4KVxuICAgIHtcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5tID0gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIG9wYWNpdHkgdmFsdWUgdG8gdXNlIHdoZW4gbWl4aW5nIHRoZSBvcmlnaW5hbCBhbmQgcmVzdWx0YW50IGNvbG9ycy5cbiAgICAgKlxuICAgICAqIFdoZW4gdGhlIHZhbHVlIGlzIDAsIHRoZSBvcmlnaW5hbCBjb2xvciBpcyB1c2VkIHdpdGhvdXQgbW9kaWZpY2F0aW9uLlxuICAgICAqIFdoZW4gdGhlIHZhbHVlIGlzIDEsIHRoZSByZXN1bHQgY29sb3IgaXMgdXNlZC5cbiAgICAgKiBXaGVuIGluIHRoZSByYW5nZSAoMCwgMSkgdGhlIGNvbG9yIGlzIGludGVycG9sYXRlZCBiZXR3ZWVuIHRoZSBvcmlnaW5hbCBhbmQgcmVzdWx0IGJ5IHRoaXMgYW1vdW50LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDFcbiAgICAgKi9cbiAgICBnZXQgYWxwaGEoKTogbnVtYmVyXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy51bmlmb3Jtcy51QWxwaGE7XG4gICAgfVxuXG4gICAgc2V0IGFscGhhKHZhbHVlOiBudW1iZXIpXG4gICAge1xuICAgICAgICB0aGlzLnVuaWZvcm1zLnVBbHBoYSA9IHZhbHVlO1xuICAgIH1cbn1cblxuLy8gQW1lcmljYW5pemVkIGFsaWFzXG5Db2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuZ3JheXNjYWxlID0gQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmdyZXlzY2FsZTtcbiIsImltcG9ydCB7IEZpbHRlciB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgTWF0cml4LCBQb2ludCB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IGZyYWdtZW50IGZyb20gJy4vZGlzcGxhY2VtZW50LmZyYWcnO1xuaW1wb3J0IHZlcnRleCBmcm9tICcuL2Rpc3BsYWNlbWVudC52ZXJ0JztcblxuaW1wb3J0IHR5cGUgeyBDTEVBUl9NT0RFUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5pbXBvcnQgdHlwZSB7IFJlbmRlclRleHR1cmUsIHN5c3RlbXMsIFRleHR1cmUsIElTcHJpdGVNYXNrVGFyZ2V0IH0gZnJvbSAnQHBpeGkvY29yZSc7XG5cbi8qKlxuICogVGhlIERpc3BsYWNlbWVudEZpbHRlciBjbGFzcyB1c2VzIHRoZSBwaXhlbCB2YWx1ZXMgZnJvbSB0aGUgc3BlY2lmaWVkIHRleHR1cmVcbiAqIChjYWxsZWQgdGhlIGRpc3BsYWNlbWVudCBtYXApIHRvIHBlcmZvcm0gYSBkaXNwbGFjZW1lbnQgb2YgYW4gb2JqZWN0LlxuICpcbiAqIFlvdSBjYW4gdXNlIHRoaXMgZmlsdGVyIHRvIGFwcGx5IGFsbCBtYW5vciBvZiBjcmF6eSB3YXJwaW5nIGVmZmVjdHMuXG4gKiBDdXJyZW50bHkgdGhlIGByYCBwcm9wZXJ0eSBvZiB0aGUgdGV4dHVyZSBpcyB1c2VkIHRvIG9mZnNldCB0aGUgYHhgXG4gKiBhbmQgdGhlIGBnYCBwcm9wZXJ0eSBvZiB0aGUgdGV4dHVyZSBpcyB1c2VkIHRvIG9mZnNldCB0aGUgYHlgLlxuICpcbiAqIFRoZSB3YXkgaXQgd29ya3MgaXMgaXQgdXNlcyB0aGUgdmFsdWVzIG9mIHRoZSBkaXNwbGFjZW1lbnQgbWFwIHRvIGxvb2sgdXAgdGhlXG4gKiBjb3JyZWN0IHBpeGVscyB0byBvdXRwdXQuIFRoaXMgbWVhbnMgaXQncyBub3QgdGVjaG5pY2FsbHkgbW92aW5nIHRoZSBvcmlnaW5hbC5cbiAqIEluc3RlYWQsIGl0J3Mgc3RhcnRpbmcgYXQgdGhlIG91dHB1dCBhbmQgYXNraW5nIFwid2hpY2ggcGl4ZWwgZnJvbSB0aGUgb3JpZ2luYWwgZ29lcyBoZXJlXCIuXG4gKiBGb3IgZXhhbXBsZSwgaWYgYSBkaXNwbGFjZW1lbnQgbWFwIHBpeGVsIGhhcyBgcmVkID0gMWAgYW5kIHRoZSBmaWx0ZXIgc2NhbGUgaXMgYDIwYCxcbiAqIHRoaXMgZmlsdGVyIHdpbGwgb3V0cHV0IHRoZSBwaXhlbCBhcHByb3hpbWF0ZWx5IDIwIHBpeGVscyB0byB0aGUgcmlnaHQgb2YgdGhlIG9yaWdpbmFsLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5GaWx0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJLmZpbHRlcnNcbiAqL1xuZXhwb3J0IGNsYXNzIERpc3BsYWNlbWVudEZpbHRlciBleHRlbmRzIEZpbHRlclxue1xuICAgIHB1YmxpYyBtYXNrU3ByaXRlOiBJU3ByaXRlTWFza1RhcmdldDtcbiAgICBwdWJsaWMgbWFza01hdHJpeDogTWF0cml4O1xuICAgIHB1YmxpYyBzY2FsZTogUG9pbnQ7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuU3ByaXRlfSBzcHJpdGUgLSBUaGUgc3ByaXRlIHVzZWQgZm9yIHRoZSBkaXNwbGFjZW1lbnQgbWFwLiAobWFrZSBzdXJlIGl0cyBhZGRlZCB0byB0aGUgc2NlbmUhKVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2NhbGVdIC0gVGhlIHNjYWxlIG9mIHRoZSBkaXNwbGFjZW1lbnRcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihzcHJpdGU6IElTcHJpdGVNYXNrVGFyZ2V0LCBzY2FsZTogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgY29uc3QgbWFza01hdHJpeCA9IG5ldyBNYXRyaXgoKTtcblxuICAgICAgICBzcHJpdGUucmVuZGVyYWJsZSA9IGZhbHNlO1xuXG4gICAgICAgIHN1cGVyKHZlcnRleCwgZnJhZ21lbnQsIHtcbiAgICAgICAgICAgIG1hcFNhbXBsZXI6IHNwcml0ZS5fdGV4dHVyZSxcbiAgICAgICAgICAgIGZpbHRlck1hdHJpeDogbWFza01hdHJpeCxcbiAgICAgICAgICAgIHNjYWxlOiB7IHg6IDEsIHk6IDEgfSxcbiAgICAgICAgICAgIHJvdGF0aW9uOiBuZXcgRmxvYXQzMkFycmF5KFsxLCAwLCAwLCAxXSksXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMubWFza1Nwcml0ZSA9IHNwcml0ZTtcbiAgICAgICAgdGhpcy5tYXNrTWF0cml4ID0gbWFza01hdHJpeDtcblxuICAgICAgICBpZiAoc2NhbGUgPT09IG51bGwgfHwgc2NhbGUgPT09IHVuZGVmaW5lZClcbiAgICAgICAge1xuICAgICAgICAgICAgc2NhbGUgPSAyMDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBzY2FsZVgsIHNjYWxlWSBmb3IgZGlzcGxhY2VtZW50c1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlBvaW50fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zY2FsZSA9IG5ldyBQb2ludChzY2FsZSwgc2NhbGUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIGZpbHRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5zeXN0ZW1zLkZpbHRlclN5c3RlbX0gZmlsdGVyTWFuYWdlciAtIFRoZSBtYW5hZ2VyLlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBpbnB1dCAtIFRoZSBpbnB1dCB0YXJnZXQuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IG91dHB1dCAtIFRoZSBvdXRwdXQgdGFyZ2V0LlxuICAgICAqIEBwYXJhbSB7UElYSS5DTEVBUl9NT0RFU30gY2xlYXJNb2RlIC0gY2xlYXJNb2RlLlxuICAgICAqL1xuICAgIHB1YmxpYyBhcHBseShcbiAgICAgICAgZmlsdGVyTWFuYWdlcjogc3lzdGVtcy5GaWx0ZXJTeXN0ZW0sIGlucHV0OiBSZW5kZXJUZXh0dXJlLCBvdXRwdXQ6IFJlbmRlclRleHR1cmUsIGNsZWFyTW9kZTogQ0xFQVJfTU9ERVNcbiAgICApOiB2b2lkXG4gICAge1xuICAgICAgICAvLyBmaWxsIG1hc2tNYXRyaXggd2l0aCBfbm9ybWFsaXplZCBzcHJpdGUgdGV4dHVyZSBjb29yZHNfXG4gICAgICAgIHRoaXMudW5pZm9ybXMuZmlsdGVyTWF0cml4ID0gZmlsdGVyTWFuYWdlci5jYWxjdWxhdGVTcHJpdGVNYXRyaXgodGhpcy5tYXNrTWF0cml4LCB0aGlzLm1hc2tTcHJpdGUpO1xuICAgICAgICB0aGlzLnVuaWZvcm1zLnNjYWxlLnggPSB0aGlzLnNjYWxlLng7XG4gICAgICAgIHRoaXMudW5pZm9ybXMuc2NhbGUueSA9IHRoaXMuc2NhbGUueTtcblxuICAgICAgICAvLyBFeHRyYWN0IHJvdGF0aW9uIGZyb20gd29ybGQgdHJhbnNmb3JtXG4gICAgICAgIGNvbnN0IHd0ID0gdGhpcy5tYXNrU3ByaXRlLndvcmxkVHJhbnNmb3JtO1xuICAgICAgICBjb25zdCBsZW5YID0gTWF0aC5zcXJ0KCh3dC5hICogd3QuYSkgKyAod3QuYiAqIHd0LmIpKTtcbiAgICAgICAgY29uc3QgbGVuWSA9IE1hdGguc3FydCgod3QuYyAqIHd0LmMpICsgKHd0LmQgKiB3dC5kKSk7XG5cbiAgICAgICAgaWYgKGxlblggIT09IDAgJiYgbGVuWSAhPT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy5yb3RhdGlvblswXSA9IHd0LmEgLyBsZW5YO1xuICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy5yb3RhdGlvblsxXSA9IHd0LmIgLyBsZW5YO1xuICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy5yb3RhdGlvblsyXSA9IHd0LmMgLyBsZW5ZO1xuICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy5yb3RhdGlvblszXSA9IHd0LmQgLyBsZW5ZO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZHJhdyB0aGUgZmlsdGVyLi4uXG4gICAgICAgIGZpbHRlck1hbmFnZXIuYXBwbHlGaWx0ZXIodGhpcywgaW5wdXQsIG91dHB1dCwgY2xlYXJNb2RlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdGV4dHVyZSB1c2VkIGZvciB0aGUgZGlzcGxhY2VtZW50IG1hcC4gTXVzdCBiZSBwb3dlciBvZiAyIHNpemVkIHRleHR1cmUuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmV9XG4gICAgICovXG4gICAgZ2V0IG1hcCgpOiBUZXh0dXJlXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy51bmlmb3Jtcy5tYXBTYW1wbGVyO1xuICAgIH1cblxuICAgIHNldCBtYXAodmFsdWU6IFRleHR1cmUpXG4gICAge1xuICAgICAgICB0aGlzLnVuaWZvcm1zLm1hcFNhbXBsZXIgPSB2YWx1ZTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBGaWx0ZXIgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB2ZXJ0ZXggZnJvbSAnLi9meGFhLnZlcnQnO1xuaW1wb3J0IGZyYWdtZW50IGZyb20gJy4vZnhhYS5mcmFnJztcblxuLyoqXG4gKiBCYXNpYyBGWEFBIChGYXN0IEFwcHJveGltYXRlIEFudGktQWxpYXNpbmcpIGltcGxlbWVudGF0aW9uIGJhc2VkIG9uIHRoZSBjb2RlIG9uIGdlZWtzM2QuY29tXG4gKiB3aXRoIHRoZSBtb2RpZmljYXRpb24gdGhhdCB0aGUgdGV4dHVyZTJETG9kIHN0dWZmIHdhcyByZW1vdmVkIHNpbmNlIGl0IGlzIHVuc3VwcG9ydGVkIGJ5IFdlYkdMLlxuICpcbiAqIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL21pdHN1aGlrby93ZWJnbC1tZWluY3JhZnRcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuRmlsdGVyXG4gKiBAbWVtYmVyb2YgUElYSS5maWx0ZXJzXG4gKlxuICovXG5leHBvcnQgY2xhc3MgRlhBQUZpbHRlciBleHRlbmRzIEZpbHRlclxue1xuICAgIGNvbnN0cnVjdG9yKClcbiAgICB7XG4gICAgICAgIC8vIFRPRE8gLSBuZWVkcyB3b3JrXG4gICAgICAgIHN1cGVyKHZlcnRleCwgZnJhZ21lbnQpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEZpbHRlciwgZGVmYXVsdEZpbHRlclZlcnRleCB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IGZyYWdtZW50IGZyb20gJy4vbm9pc2UuZnJhZyc7XG5cbi8qKlxuICogQGF1dGhvciBWaWNvIEB2aWNvY290ZWFcbiAqIG9yaWdpbmFsIGZpbHRlcjogaHR0cHM6Ly9naXRodWIuY29tL2V2YW53L2dsZnguanMvYmxvYi9tYXN0ZXIvc3JjL2ZpbHRlcnMvYWRqdXN0L25vaXNlLmpzXG4gKi9cblxuLyoqXG4gKiBBIE5vaXNlIGVmZmVjdCBmaWx0ZXIuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkZpbHRlclxuICogQG1lbWJlcm9mIFBJWEkuZmlsdGVyc1xuICovXG5leHBvcnQgY2xhc3MgTm9pc2VGaWx0ZXIgZXh0ZW5kcyBGaWx0ZXJcbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW25vaXNlPTAuNV0gLSBUaGUgbm9pc2UgaW50ZW5zaXR5LCBzaG91bGQgYmUgYSBub3JtYWxpemVkIHZhbHVlIGluIHRoZSByYW5nZSBbMCwgMV0uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzZWVkXSAtIEEgcmFuZG9tIHNlZWQgZm9yIHRoZSBub2lzZSBnZW5lcmF0aW9uLiBEZWZhdWx0IGlzIGBNYXRoLnJhbmRvbSgpYC5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihub2lzZSA9IDAuNSwgc2VlZCA9IE1hdGgucmFuZG9tKCkpXG4gICAge1xuICAgICAgICBzdXBlcihkZWZhdWx0RmlsdGVyVmVydGV4LCBmcmFnbWVudCwge1xuICAgICAgICAgICAgdU5vaXNlOiAwLFxuICAgICAgICAgICAgdVNlZWQ6IDAsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMubm9pc2UgPSBub2lzZTtcbiAgICAgICAgdGhpcy5zZWVkID0gc2VlZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYW1vdW50IG9mIG5vaXNlIHRvIGFwcGx5LCB0aGlzIHZhbHVlIHNob3VsZCBiZSBpbiB0aGUgcmFuZ2UgKDAsIDFdLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDAuNVxuICAgICAqL1xuICAgIGdldCBub2lzZSgpOiBudW1iZXJcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnVuaWZvcm1zLnVOb2lzZTtcbiAgICB9XG5cbiAgICBzZXQgbm9pc2UodmFsdWU6IG51bWJlcilcbiAgICB7XG4gICAgICAgIHRoaXMudW5pZm9ybXMudU5vaXNlID0gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzZWVkIHZhbHVlIHRvIGFwcGx5IHRvIHRoZSByYW5kb20gbm9pc2UgZ2VuZXJhdGlvbi4gYE1hdGgucmFuZG9tKClgIGlzIGEgZ29vZCB2YWx1ZSB0byB1c2UuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IHNlZWQoKTogbnVtYmVyXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy51bmlmb3Jtcy51U2VlZDtcbiAgICB9XG5cbiAgICBzZXQgc2VlZCh2YWx1ZTogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgdGhpcy51bmlmb3Jtcy51U2VlZCA9IHZhbHVlO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFRleHR1cmUsIEJhc2VUZXh0dXJlLCBSZW5kZXJUZXh0dXJlLCBSZW5kZXJlciwgTWFza0RhdGEgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IFNwcml0ZSB9IGZyb20gJ0BwaXhpL3Nwcml0ZSc7XG5pbXBvcnQgeyBDb250YWluZXIsIERpc3BsYXlPYmplY3QsIElEZXN0cm95T3B0aW9ucyB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuaW1wb3J0IHsgSVBvaW50RGF0YSwgTWF0cml4LCBSZWN0YW5nbGUgfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB7IHVpZCB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuaW1wb3J0IHsgQ2FudmFzUmVuZGVyZXIgfSBmcm9tICdAcGl4aS9jYW52YXMtcmVuZGVyZXInO1xuXG5jb25zdCBfdGVtcE1hdHJpeCA9IG5ldyBNYXRyaXgoKTtcblxuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX2NhY2hlQXNCaXRtYXAgPSBmYWxzZTtcbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9jYWNoZURhdGEgPSBudWxsO1xuXG4vLyBmaWd1cmVkIHRoZXJlJ3Mgbm8gcG9pbnQgYWRkaW5nIEFMTCB0aGUgZXh0cmEgdmFyaWFibGVzIHRvIHByb3RvdHlwZS5cbi8vIHRoaXMgbW9kZWwgY2FuIGhvbGQgdGhlIGluZm9ybWF0aW9uIG5lZWRlZC4gVGhpcyBjYW4gYWxzbyBiZSBnZW5lcmF0ZWQgb24gZGVtYW5kIGFzXG4vLyBtb3N0IG9iamVjdHMgYXJlIG5vdCBjYWNoZWQgYXMgYml0bWFwcy5cbi8qKlxuICogQGNsYXNzXG4gKiBAaWdub3JlXG4gKi9cbmV4cG9ydCBjbGFzcyBDYWNoZURhdGFcbntcbiAgICBwdWJsaWMgdGV4dHVyZUNhY2hlSWQ6IHN0cmluZztcbiAgICBwdWJsaWMgb3JpZ2luYWxSZW5kZXI6IChyZW5kZXJlcjogUmVuZGVyZXIpID0+IHZvaWQ7XG4gICAgcHVibGljIG9yaWdpbmFsUmVuZGVyQ2FudmFzOiAocmVuZGVyZXI6IENhbnZhc1JlbmRlcmVyKSA9PiB2b2lkO1xuICAgIHB1YmxpYyBvcmlnaW5hbENhbGN1bGF0ZUJvdW5kczogKCkgPT4gdm9pZDtcbiAgICBwdWJsaWMgb3JpZ2luYWxHZXRMb2NhbEJvdW5kczogKHJlY3Q/OiBSZWN0YW5nbGUpID0+IFJlY3RhbmdsZTtcbiAgICBwdWJsaWMgb3JpZ2luYWxVcGRhdGVUcmFuc2Zvcm06ICgpID0+IHZvaWQ7XG4gICAgcHVibGljIG9yaWdpbmFsRGVzdHJveTogKG9wdGlvbnM/OiBJRGVzdHJveU9wdGlvbnN8Ym9vbGVhbikgPT4gdm9pZDtcbiAgICBwdWJsaWMgb3JpZ2luYWxNYXNrOiBDb250YWluZXJ8TWFza0RhdGE7XG4gICAgcHVibGljIG9yaWdpbmFsRmlsdGVyQXJlYTogUmVjdGFuZ2xlO1xuICAgIHB1YmxpYyBvcmlnaW5hbENvbnRhaW5zUG9pbnQ6IChwb2ludDogSVBvaW50RGF0YSkgPT4gYm9vbGVhbjtcbiAgICBwdWJsaWMgc3ByaXRlOiBTcHJpdGU7XG5cbiAgICBjb25zdHJ1Y3RvcigpXG4gICAge1xuICAgICAgICB0aGlzLnRleHR1cmVDYWNoZUlkID0gbnVsbDtcblxuICAgICAgICB0aGlzLm9yaWdpbmFsUmVuZGVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5vcmlnaW5hbFJlbmRlckNhbnZhcyA9IG51bGw7XG4gICAgICAgIHRoaXMub3JpZ2luYWxDYWxjdWxhdGVCb3VuZHMgPSBudWxsO1xuICAgICAgICB0aGlzLm9yaWdpbmFsR2V0TG9jYWxCb3VuZHMgPSBudWxsO1xuXG4gICAgICAgIHRoaXMub3JpZ2luYWxVcGRhdGVUcmFuc2Zvcm0gPSBudWxsO1xuICAgICAgICB0aGlzLm9yaWdpbmFsRGVzdHJveSA9IG51bGw7XG4gICAgICAgIHRoaXMub3JpZ2luYWxNYXNrID0gbnVsbDtcbiAgICAgICAgdGhpcy5vcmlnaW5hbEZpbHRlckFyZWEgPSBudWxsO1xuICAgICAgICB0aGlzLm9yaWdpbmFsQ29udGFpbnNQb2ludCA9IG51bGw7XG4gICAgICAgIHRoaXMuc3ByaXRlID0gbnVsbDtcbiAgICB9XG59XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKERpc3BsYXlPYmplY3QucHJvdG90eXBlLCB7XG4gICAgLyoqXG4gICAgICogU2V0IHRoaXMgdG8gdHJ1ZSBpZiB5b3Ugd2FudCB0aGlzIGRpc3BsYXkgb2JqZWN0IHRvIGJlIGNhY2hlZCBhcyBhIGJpdG1hcC5cbiAgICAgKiBUaGlzIGJhc2ljYWxseSB0YWtlcyBhIHNuYXAgc2hvdCBvZiB0aGUgZGlzcGxheSBvYmplY3QgYXMgaXQgaXMgYXQgdGhhdCBtb21lbnQuIEl0IGNhblxuICAgICAqIHByb3ZpZGUgYSBwZXJmb3JtYW5jZSBiZW5lZml0IGZvciBjb21wbGV4IHN0YXRpYyBkaXNwbGF5T2JqZWN0cy5cbiAgICAgKiBUbyByZW1vdmUgc2ltcGx5IHNldCB0aGlzIHByb3BlcnR5IHRvIGBmYWxzZWBcbiAgICAgKlxuICAgICAqIElNUE9SVEFOVCBHT1RDSEEgLSBNYWtlIHN1cmUgdGhhdCBhbGwgeW91ciB0ZXh0dXJlcyBhcmUgcHJlbG9hZGVkIEJFRk9SRSBzZXR0aW5nIHRoaXMgcHJvcGVydHkgdG8gdHJ1ZVxuICAgICAqIGFzIGl0IHdpbGwgdGFrZSBhIHNuYXBzaG90IG9mIHdoYXQgaXMgY3VycmVudGx5IHRoZXJlLiBJZiB0aGUgdGV4dHVyZXMgaGF2ZSBub3QgbG9hZGVkIHRoZW4gdGhleSB3aWxsIG5vdCBhcHBlYXIuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICovXG4gICAgY2FjaGVBc0JpdG1hcDoge1xuICAgICAgICBnZXQoKTogQ2FjaGVEYXRhXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jYWNoZUFzQml0bWFwO1xuICAgICAgICB9LFxuICAgICAgICBzZXQodmFsdWU6IENhY2hlRGF0YSk6IHZvaWRcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2NhY2hlQXNCaXRtYXAgPT09IHZhbHVlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fY2FjaGVBc0JpdG1hcCA9IHZhbHVlO1xuXG4gICAgICAgICAgICBsZXQgZGF0YTogQ2FjaGVEYXRhO1xuXG4gICAgICAgICAgICBpZiAodmFsdWUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9jYWNoZURhdGEpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jYWNoZURhdGEgPSBuZXcgQ2FjaGVEYXRhKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZGF0YSA9IHRoaXMuX2NhY2hlRGF0YTtcblxuICAgICAgICAgICAgICAgIGRhdGEub3JpZ2luYWxSZW5kZXIgPSB0aGlzLnJlbmRlcjtcbiAgICAgICAgICAgICAgICBkYXRhLm9yaWdpbmFsUmVuZGVyQ2FudmFzID0gdGhpcy5yZW5kZXJDYW52YXM7XG5cbiAgICAgICAgICAgICAgICBkYXRhLm9yaWdpbmFsVXBkYXRlVHJhbnNmb3JtID0gdGhpcy51cGRhdGVUcmFuc2Zvcm07XG4gICAgICAgICAgICAgICAgZGF0YS5vcmlnaW5hbENhbGN1bGF0ZUJvdW5kcyA9IHRoaXMuY2FsY3VsYXRlQm91bmRzO1xuICAgICAgICAgICAgICAgIGRhdGEub3JpZ2luYWxHZXRMb2NhbEJvdW5kcyA9IHRoaXMuZ2V0TG9jYWxCb3VuZHM7XG5cbiAgICAgICAgICAgICAgICBkYXRhLm9yaWdpbmFsRGVzdHJveSA9IHRoaXMuZGVzdHJveTtcblxuICAgICAgICAgICAgICAgIGRhdGEub3JpZ2luYWxDb250YWluc1BvaW50ID0gdGhpcy5jb250YWluc1BvaW50O1xuXG4gICAgICAgICAgICAgICAgZGF0YS5vcmlnaW5hbE1hc2sgPSB0aGlzLl9tYXNrO1xuICAgICAgICAgICAgICAgIGRhdGEub3JpZ2luYWxGaWx0ZXJBcmVhID0gdGhpcy5maWx0ZXJBcmVhO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXIgPSB0aGlzLl9yZW5kZXJDYWNoZWQ7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJDYW52YXMgPSB0aGlzLl9yZW5kZXJDYWNoZWRDYW52YXM7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmRlc3Ryb3kgPSB0aGlzLl9jYWNoZUFzQml0bWFwRGVzdHJveTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkYXRhID0gdGhpcy5fY2FjaGVEYXRhO1xuXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuc3ByaXRlKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGVzdHJveUNhY2hlZERpc3BsYXlPYmplY3QoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlciA9IGRhdGEub3JpZ2luYWxSZW5kZXI7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJDYW52YXMgPSBkYXRhLm9yaWdpbmFsUmVuZGVyQ2FudmFzO1xuICAgICAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlQm91bmRzID0gZGF0YS5vcmlnaW5hbENhbGN1bGF0ZUJvdW5kcztcbiAgICAgICAgICAgICAgICB0aGlzLmdldExvY2FsQm91bmRzID0gZGF0YS5vcmlnaW5hbEdldExvY2FsQm91bmRzO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5kZXN0cm95ID0gZGF0YS5vcmlnaW5hbERlc3Ryb3k7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVRyYW5zZm9ybSA9IGRhdGEub3JpZ2luYWxVcGRhdGVUcmFuc2Zvcm07XG4gICAgICAgICAgICAgICAgdGhpcy5jb250YWluc1BvaW50ID0gZGF0YS5vcmlnaW5hbENvbnRhaW5zUG9pbnQ7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9tYXNrID0gZGF0YS5vcmlnaW5hbE1hc2s7XG4gICAgICAgICAgICAgICAgdGhpcy5maWx0ZXJBcmVhID0gZGF0YS5vcmlnaW5hbEZpbHRlckFyZWE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgfSxcbn0pO1xuXG4vKipcbiAqIFJlbmRlcnMgYSBjYWNoZWQgdmVyc2lvbiBvZiB0aGUgc3ByaXRlIHdpdGggV2ViR0xcbiAqXG4gKiBAcHJpdmF0ZVxuICogQGZ1bmN0aW9uIF9yZW5kZXJDYWNoZWRcbiAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gdGhlIFdlYkdMIHJlbmRlcmVyXG4gKi9cbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9yZW5kZXJDYWNoZWQgPSBmdW5jdGlvbiBfcmVuZGVyQ2FjaGVkKHJlbmRlcmVyOiBSZW5kZXJlcik6IHZvaWRcbntcbiAgICBpZiAoIXRoaXMudmlzaWJsZSB8fCB0aGlzLndvcmxkQWxwaGEgPD0gMCB8fCAhdGhpcy5yZW5kZXJhYmxlKVxuICAgIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX2luaXRDYWNoZWREaXNwbGF5T2JqZWN0KHJlbmRlcmVyKTtcblxuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUudHJhbnNmb3JtLl93b3JsZElEID0gdGhpcy50cmFuc2Zvcm0uX3dvcmxkSUQ7XG4gICAgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZS53b3JsZEFscGhhID0gdGhpcy53b3JsZEFscGhhO1xuICAgICh0aGlzLl9jYWNoZURhdGEuc3ByaXRlIGFzIGFueSkuX3JlbmRlcihyZW5kZXJlcik7XG59O1xuXG4vKipcbiAqIFByZXBhcmVzIHRoZSBXZWJHTCByZW5kZXJlciB0byBjYWNoZSB0aGUgc3ByaXRlXG4gKlxuICogQHByaXZhdGVcbiAqIEBmdW5jdGlvbiBfaW5pdENhY2hlZERpc3BsYXlPYmplY3RcbiAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gdGhlIFdlYkdMIHJlbmRlcmVyXG4gKi9cbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9pbml0Q2FjaGVkRGlzcGxheU9iamVjdCA9IGZ1bmN0aW9uIF9pbml0Q2FjaGVkRGlzcGxheU9iamVjdChyZW5kZXJlcjogUmVuZGVyZXIpOiB2b2lkXG57XG4gICAgaWYgKHRoaXMuX2NhY2hlRGF0YSAmJiB0aGlzLl9jYWNoZURhdGEuc3ByaXRlKVxuICAgIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIG1ha2Ugc3VyZSBhbHBoYSBpcyBzZXQgdG8gMSBvdGhlcndpc2UgaXQgd2lsbCBnZXQgcmVuZGVyZWQgYXMgaW52aXNpYmxlIVxuICAgIGNvbnN0IGNhY2hlQWxwaGEgPSB0aGlzLmFscGhhO1xuXG4gICAgdGhpcy5hbHBoYSA9IDE7XG5cbiAgICAvLyBmaXJzdCB3ZSBmbHVzaCBhbnl0aGluZyBsZWZ0IGluIHRoZSByZW5kZXJlciAob3RoZXJ3aXNlIGl0IHdvdWxkIGdldCByZW5kZXJlZCB0byB0aGUgY2FjaGVkIHRleHR1cmUpXG4gICAgcmVuZGVyZXIuYmF0Y2guZmx1c2goKTtcbiAgICAvLyB0aGlzLmZpbHRlcnM9IFtdO1xuXG4gICAgLy8gbmV4dCB3ZSBmaW5kIHRoZSBkaW1lbnNpb25zIG9mIHRoZSB1bnRyYW5zZm9ybWVkIG9iamVjdFxuICAgIC8vIHRoaXMgZnVuY3Rpb24gYWxzbyBjYWxscyB1cGRhdGV0cmFuc2Zvcm0gb24gYWxsIGl0cyBjaGlsZHJlbiBhcyBwYXJ0IG9mIHRoZSBtZWFzdXJpbmcuXG4gICAgLy8gVGhpcyBtZWFucyB3ZSBkb24ndCBuZWVkIHRvIHVwZGF0ZSB0aGUgdHJhbnNmb3JtIGFnYWluIGluIHRoaXMgZnVuY3Rpb25cbiAgICAvLyBUT0RPIHBhc3MgYW4gb2JqZWN0IHRvIGNsb25lIHRvbz8gc2F2ZXMgaGF2aW5nIHRvIGNyZWF0ZSBhIG5ldyBvbmUgZWFjaCB0aW1lIVxuICAgIGNvbnN0IGJvdW5kcyA9ICh0aGlzIGFzIENvbnRhaW5lcikuZ2V0TG9jYWxCb3VuZHMobnVsbCwgdHJ1ZSkuY2xvbmUoKTtcblxuICAgIC8vIGFkZCBzb21lIHBhZGRpbmchXG4gICAgaWYgKHRoaXMuZmlsdGVycylcbiAgICB7XG4gICAgICAgIGNvbnN0IHBhZGRpbmcgPSB0aGlzLmZpbHRlcnNbMF0ucGFkZGluZztcblxuICAgICAgICBib3VuZHMucGFkKHBhZGRpbmcpO1xuICAgIH1cblxuICAgIGJvdW5kcy5jZWlsKHNldHRpbmdzLlJFU09MVVRJT04pO1xuXG4gICAgLy8gZm9yIG5vdyB3ZSBjYWNoZSB0aGUgY3VycmVudCByZW5kZXJUYXJnZXQgdGhhdCB0aGUgV2ViR0wgcmVuZGVyZXIgaXMgY3VycmVudGx5IHVzaW5nLlxuICAgIC8vIHRoaXMgY291bGQgYmUgbW9yZSBlbGVnYW50Li5cbiAgICBjb25zdCBjYWNoZWRSZW5kZXJUZXh0dXJlID0gcmVuZGVyZXIucmVuZGVyVGV4dHVyZS5jdXJyZW50O1xuICAgIGNvbnN0IGNhY2hlZFNvdXJjZUZyYW1lID0gcmVuZGVyZXIucmVuZGVyVGV4dHVyZS5zb3VyY2VGcmFtZS5jbG9uZSgpO1xuICAgIGNvbnN0IGNhY2hlZERlc3RpbmF0aW9uRnJhbWUgPSByZW5kZXJlci5yZW5kZXJUZXh0dXJlLmRlc3RpbmF0aW9uRnJhbWUuY2xvbmUoKTtcbiAgICBjb25zdCBjYWNoZWRQcm9qZWN0aW9uVHJhbnNmb3JtID0gcmVuZGVyZXIucHJvamVjdGlvbi50cmFuc2Zvcm07XG5cbiAgICAvLyBXZSBhbHNvIHN0b3JlIHRoZSBmaWx0ZXIgc3RhY2sgLSBJIHdpbGwgZGVmaW5pdGVseSBsb29rIHRvIGNoYW5nZSBob3cgdGhpcyB3b3JrcyBhIGxpdHRsZSBsYXRlciBkb3duIHRoZSBsaW5lLlxuICAgIC8vIGNvbnN0IHN0YWNrID0gcmVuZGVyZXIuZmlsdGVyTWFuYWdlci5maWx0ZXJTdGFjaztcblxuICAgIC8vIHRoaXMgcmVuZGVyVGV4dHVyZSB3aWxsIGJlIHVzZWQgdG8gc3RvcmUgdGhlIGNhY2hlZCBEaXNwbGF5T2JqZWN0XG4gICAgY29uc3QgcmVuZGVyVGV4dHVyZSA9IFJlbmRlclRleHR1cmUuY3JlYXRlKHsgd2lkdGg6IGJvdW5kcy53aWR0aCwgaGVpZ2h0OiBib3VuZHMuaGVpZ2h0IH0pO1xuXG4gICAgY29uc3QgdGV4dHVyZUNhY2hlSWQgPSBgY2FjaGVBc0JpdG1hcF8ke3VpZCgpfWA7XG5cbiAgICB0aGlzLl9jYWNoZURhdGEudGV4dHVyZUNhY2hlSWQgPSB0ZXh0dXJlQ2FjaGVJZDtcblxuICAgIEJhc2VUZXh0dXJlLmFkZFRvQ2FjaGUocmVuZGVyVGV4dHVyZS5iYXNlVGV4dHVyZSwgdGV4dHVyZUNhY2hlSWQpO1xuICAgIFRleHR1cmUuYWRkVG9DYWNoZShyZW5kZXJUZXh0dXJlLCB0ZXh0dXJlQ2FjaGVJZCk7XG5cbiAgICAvLyBuZWVkIHRvIHNldCAvL1xuICAgIGNvbnN0IG0gPSB0aGlzLnRyYW5zZm9ybS5sb2NhbFRyYW5zZm9ybS5jb3B5VG8oX3RlbXBNYXRyaXgpLmludmVydCgpLnRyYW5zbGF0ZSgtYm91bmRzLngsIC1ib3VuZHMueSk7XG5cbiAgICAvLyBzZXQgYWxsIHByb3BlcnRpZXMgdG8gdGhlcmUgb3JpZ2luYWwgc28gd2UgY2FuIHJlbmRlciB0byBhIHRleHR1cmVcbiAgICB0aGlzLnJlbmRlciA9IHRoaXMuX2NhY2hlRGF0YS5vcmlnaW5hbFJlbmRlcjtcblxuICAgIHJlbmRlcmVyLnJlbmRlcih0aGlzLCByZW5kZXJUZXh0dXJlLCB0cnVlLCBtLCBmYWxzZSk7XG5cbiAgICAvLyBub3cgcmVzdG9yZSB0aGUgc3RhdGUgYmUgc2V0dGluZyB0aGUgbmV3IHByb3BlcnRpZXNcbiAgICByZW5kZXJlci5wcm9qZWN0aW9uLnRyYW5zZm9ybSA9IGNhY2hlZFByb2plY3Rpb25UcmFuc2Zvcm07XG4gICAgcmVuZGVyZXIucmVuZGVyVGV4dHVyZS5iaW5kKGNhY2hlZFJlbmRlclRleHR1cmUsIGNhY2hlZFNvdXJjZUZyYW1lLCBjYWNoZWREZXN0aW5hdGlvbkZyYW1lKTtcblxuICAgIC8vIHJlbmRlcmVyLmZpbHRlck1hbmFnZXIuZmlsdGVyU3RhY2sgPSBzdGFjaztcblxuICAgIHRoaXMucmVuZGVyID0gdGhpcy5fcmVuZGVyQ2FjaGVkO1xuICAgIC8vIHRoZSByZXN0IGlzIHRoZSBzYW1lIGFzIGZvciBDYW52YXNcbiAgICB0aGlzLnVwZGF0ZVRyYW5zZm9ybSA9IHRoaXMuZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybTtcbiAgICB0aGlzLmNhbGN1bGF0ZUJvdW5kcyA9IHRoaXMuX2NhbGN1bGF0ZUNhY2hlZEJvdW5kcztcbiAgICB0aGlzLmdldExvY2FsQm91bmRzID0gdGhpcy5fZ2V0Q2FjaGVkTG9jYWxCb3VuZHM7XG5cbiAgICB0aGlzLl9tYXNrID0gbnVsbDtcbiAgICB0aGlzLmZpbHRlckFyZWEgPSBudWxsO1xuXG4gICAgLy8gY3JlYXRlIG91ciBjYWNoZWQgc3ByaXRlXG4gICAgY29uc3QgY2FjaGVkU3ByaXRlID0gbmV3IFNwcml0ZShyZW5kZXJUZXh0dXJlKTtcblxuICAgIGNhY2hlZFNwcml0ZS50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm0gPSB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICBjYWNoZWRTcHJpdGUuYW5jaG9yLnggPSAtKGJvdW5kcy54IC8gYm91bmRzLndpZHRoKTtcbiAgICBjYWNoZWRTcHJpdGUuYW5jaG9yLnkgPSAtKGJvdW5kcy55IC8gYm91bmRzLmhlaWdodCk7XG4gICAgY2FjaGVkU3ByaXRlLmFscGhhID0gY2FjaGVBbHBoYTtcbiAgICBjYWNoZWRTcHJpdGUuX2JvdW5kcyA9IHRoaXMuX2JvdW5kcztcblxuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUgPSBjYWNoZWRTcHJpdGU7XG5cbiAgICB0aGlzLnRyYW5zZm9ybS5fcGFyZW50SUQgPSAtMTtcbiAgICAvLyByZXN0b3JlIHRoZSB0cmFuc2Zvcm0gb2YgdGhlIGNhY2hlZCBzcHJpdGUgdG8gYXZvaWQgdGhlIG5hc3R5IGZsaWNrZXIuLlxuICAgIGlmICghdGhpcy5wYXJlbnQpXG4gICAge1xuICAgICAgICB0aGlzLmVuYWJsZVRlbXBQYXJlbnQoKTtcbiAgICAgICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgdGhpcy5kaXNhYmxlVGVtcFBhcmVudChudWxsKTtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICB9XG5cbiAgICAvLyBtYXAgdGhlIGhpdCB0ZXN0Li5cbiAgICAodGhpcyBhcyBTcHJpdGUpLmNvbnRhaW5zUG9pbnQgPSBjYWNoZWRTcHJpdGUuY29udGFpbnNQb2ludC5iaW5kKGNhY2hlZFNwcml0ZSk7XG59O1xuXG4vKipcbiAqIFJlbmRlcnMgYSBjYWNoZWQgdmVyc2lvbiBvZiB0aGUgc3ByaXRlIHdpdGggY2FudmFzXG4gKlxuICogQHByaXZhdGVcbiAqIEBmdW5jdGlvbiBfcmVuZGVyQ2FjaGVkQ2FudmFzXG4gKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICogQHBhcmFtIHtQSVhJLkNhbnZhc1JlbmRlcmVyfSByZW5kZXJlciAtIFRoZSBjYW52YXMgcmVuZGVyZXJcbiAqL1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX3JlbmRlckNhY2hlZENhbnZhcyA9IGZ1bmN0aW9uIF9yZW5kZXJDYWNoZWRDYW52YXMocmVuZGVyZXI6IENhbnZhc1JlbmRlcmVyKTogdm9pZFxue1xuICAgIGlmICghdGhpcy52aXNpYmxlIHx8IHRoaXMud29ybGRBbHBoYSA8PSAwIHx8ICF0aGlzLnJlbmRlcmFibGUpXG4gICAge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5faW5pdENhY2hlZERpc3BsYXlPYmplY3RDYW52YXMocmVuZGVyZXIpO1xuXG4gICAgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZS53b3JsZEFscGhhID0gdGhpcy53b3JsZEFscGhhO1xuICAgICh0aGlzLl9jYWNoZURhdGEuc3ByaXRlIGFzIGFueSkuX3JlbmRlckNhbnZhcyhyZW5kZXJlcik7XG59O1xuXG4vLyBUT0RPIHRoaXMgY2FuIGJlIHRoZSBzYW1lIGFzIHRoZSBXZWJHTCB2ZXJzaW9uLi4gd2lsbCBuZWVkIHRvIGRvIGEgbGl0dGxlIHR3ZWFraW5nIGZpcnN0IHRob3VnaC4uXG4vKipcbiAqIFByZXBhcmVzIHRoZSBDYW52YXMgcmVuZGVyZXIgdG8gY2FjaGUgdGhlIHNwcml0ZVxuICpcbiAqIEBwcml2YXRlXG4gKiBAZnVuY3Rpb24gX2luaXRDYWNoZWREaXNwbGF5T2JqZWN0Q2FudmFzXG4gKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICogQHBhcmFtIHtQSVhJLkNhbnZhc1JlbmRlcmVyfSByZW5kZXJlciAtIFRoZSBjYW52YXMgcmVuZGVyZXJcbiAqL1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX2luaXRDYWNoZWREaXNwbGF5T2JqZWN0Q2FudmFzID0gZnVuY3Rpb24gX2luaXRDYWNoZWREaXNwbGF5T2JqZWN0Q2FudmFzKFxuICAgIHJlbmRlcmVyOiBDYW52YXNSZW5kZXJlclxuKTogdm9pZFxue1xuICAgIGlmICh0aGlzLl9jYWNoZURhdGEgJiYgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZSlcbiAgICB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBnZXQgYm91bmRzIGFjdHVhbGx5IHRyYW5zZm9ybXMgdGhlIG9iamVjdCBmb3IgdXMgYWxyZWFkeSFcbiAgICBjb25zdCBib3VuZHMgPSAodGhpcyBhcyBDb250YWluZXIpLmdldExvY2FsQm91bmRzKG51bGwsIHRydWUpO1xuXG4gICAgY29uc3QgY2FjaGVBbHBoYSA9IHRoaXMuYWxwaGE7XG5cbiAgICB0aGlzLmFscGhhID0gMTtcblxuICAgIGNvbnN0IGNhY2hlZFJlbmRlclRhcmdldCA9IHJlbmRlcmVyLmNvbnRleHQ7XG4gICAgY29uc3QgY2FjaGVkUHJvamVjdGlvblRyYW5zZm9ybSA9IChyZW5kZXJlciBhcyBhbnkpLl9wcm9qVHJhbnNmb3JtO1xuXG4gICAgYm91bmRzLmNlaWwoc2V0dGluZ3MuUkVTT0xVVElPTik7XG5cbiAgICBjb25zdCByZW5kZXJUZXh0dXJlID0gUmVuZGVyVGV4dHVyZS5jcmVhdGUoeyB3aWR0aDogYm91bmRzLndpZHRoLCBoZWlnaHQ6IGJvdW5kcy5oZWlnaHQgfSk7XG5cbiAgICBjb25zdCB0ZXh0dXJlQ2FjaGVJZCA9IGBjYWNoZUFzQml0bWFwXyR7dWlkKCl9YDtcblxuICAgIHRoaXMuX2NhY2hlRGF0YS50ZXh0dXJlQ2FjaGVJZCA9IHRleHR1cmVDYWNoZUlkO1xuXG4gICAgQmFzZVRleHR1cmUuYWRkVG9DYWNoZShyZW5kZXJUZXh0dXJlLmJhc2VUZXh0dXJlLCB0ZXh0dXJlQ2FjaGVJZCk7XG4gICAgVGV4dHVyZS5hZGRUb0NhY2hlKHJlbmRlclRleHR1cmUsIHRleHR1cmVDYWNoZUlkKTtcblxuICAgIC8vIG5lZWQgdG8gc2V0IC8vXG4gICAgY29uc3QgbSA9IF90ZW1wTWF0cml4O1xuXG4gICAgdGhpcy50cmFuc2Zvcm0ubG9jYWxUcmFuc2Zvcm0uY29weVRvKG0pO1xuICAgIG0uaW52ZXJ0KCk7XG5cbiAgICBtLnR4IC09IGJvdW5kcy54O1xuICAgIG0udHkgLT0gYm91bmRzLnk7XG5cbiAgICAvLyBtLmFwcGVuZCh0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybS4pXG4gICAgLy8gc2V0IGFsbCBwcm9wZXJ0aWVzIHRvIHRoZXJlIG9yaWdpbmFsIHNvIHdlIGNhbiByZW5kZXIgdG8gYSB0ZXh0dXJlXG4gICAgdGhpcy5yZW5kZXJDYW52YXMgPSB0aGlzLl9jYWNoZURhdGEub3JpZ2luYWxSZW5kZXJDYW52YXM7XG5cbiAgICByZW5kZXJlci5yZW5kZXIodGhpcywgcmVuZGVyVGV4dHVyZSwgdHJ1ZSwgbSwgZmFsc2UpO1xuICAgIC8vIG5vdyByZXN0b3JlIHRoZSBzdGF0ZSBiZSBzZXR0aW5nIHRoZSBuZXcgcHJvcGVydGllc1xuICAgIHJlbmRlcmVyLmNvbnRleHQgPSBjYWNoZWRSZW5kZXJUYXJnZXQ7XG4gICAgKHJlbmRlcmVyIGFzIGFueSkuX3Byb2pUcmFuc2Zvcm0gPSBjYWNoZWRQcm9qZWN0aW9uVHJhbnNmb3JtO1xuXG4gICAgdGhpcy5yZW5kZXJDYW52YXMgPSB0aGlzLl9yZW5kZXJDYWNoZWRDYW52YXM7XG4gICAgLy8gdGhlIHJlc3QgaXMgdGhlIHNhbWUgYXMgZm9yIFdlYkdMXG4gICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0gPSB0aGlzLmRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm07XG4gICAgdGhpcy5jYWxjdWxhdGVCb3VuZHMgPSB0aGlzLl9jYWxjdWxhdGVDYWNoZWRCb3VuZHM7XG4gICAgdGhpcy5nZXRMb2NhbEJvdW5kcyA9IHRoaXMuX2dldENhY2hlZExvY2FsQm91bmRzO1xuXG4gICAgdGhpcy5fbWFzayA9IG51bGw7XG4gICAgdGhpcy5maWx0ZXJBcmVhID0gbnVsbDtcblxuICAgIC8vIGNyZWF0ZSBvdXIgY2FjaGVkIHNwcml0ZVxuICAgIGNvbnN0IGNhY2hlZFNwcml0ZSA9IG5ldyBTcHJpdGUocmVuZGVyVGV4dHVyZSk7XG5cbiAgICBjYWNoZWRTcHJpdGUudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtID0gdGhpcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgY2FjaGVkU3ByaXRlLmFuY2hvci54ID0gLShib3VuZHMueCAvIGJvdW5kcy53aWR0aCk7XG4gICAgY2FjaGVkU3ByaXRlLmFuY2hvci55ID0gLShib3VuZHMueSAvIGJvdW5kcy5oZWlnaHQpO1xuICAgIGNhY2hlZFNwcml0ZS5hbHBoYSA9IGNhY2hlQWxwaGE7XG4gICAgY2FjaGVkU3ByaXRlLl9ib3VuZHMgPSB0aGlzLl9ib3VuZHM7XG5cbiAgICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlID0gY2FjaGVkU3ByaXRlO1xuXG4gICAgdGhpcy50cmFuc2Zvcm0uX3BhcmVudElEID0gLTE7XG4gICAgLy8gcmVzdG9yZSB0aGUgdHJhbnNmb3JtIG9mIHRoZSBjYWNoZWQgc3ByaXRlIHRvIGF2b2lkIHRoZSBuYXN0eSBmbGlja2VyLi5cbiAgICBpZiAoIXRoaXMucGFyZW50KVxuICAgIHtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSAocmVuZGVyZXIgYXMgYW55KS5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQ7XG4gICAgICAgIHRoaXMudXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgIHRoaXMucGFyZW50ID0gbnVsbDtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICB9XG5cbiAgICAvLyBtYXAgdGhlIGhpdCB0ZXN0Li5cbiAgICAodGhpcyBhcyBTcHJpdGUpLmNvbnRhaW5zUG9pbnQgPSBjYWNoZWRTcHJpdGUuY29udGFpbnNQb2ludC5iaW5kKGNhY2hlZFNwcml0ZSk7XG59O1xuXG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIGJvdW5kcyBvZiB0aGUgY2FjaGVkIHNwcml0ZVxuICpcbiAqIEBwcml2YXRlXG4gKi9cbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9jYWxjdWxhdGVDYWNoZWRCb3VuZHMgPSBmdW5jdGlvbiBfY2FsY3VsYXRlQ2FjaGVkQm91bmRzKCk6IHZvaWRcbntcbiAgICB0aGlzLl9ib3VuZHMuY2xlYXIoKTtcbiAgICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlLnRyYW5zZm9ybS5fd29ybGRJRCA9IHRoaXMudHJhbnNmb3JtLl93b3JsZElEO1xuICAgICh0aGlzLl9jYWNoZURhdGEuc3ByaXRlIGFzIGFueSkuX2NhbGN1bGF0ZUJvdW5kcygpO1xuICAgIHRoaXMuX2JvdW5kcy51cGRhdGVJRCA9ICh0aGlzIGFzIGFueSkuX2JvdW5kc0lEO1xufTtcblxuLyoqXG4gKiBHZXRzIHRoZSBib3VuZHMgb2YgdGhlIGNhY2hlZCBzcHJpdGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEByZXR1cm4ge1JlY3RhbmdsZX0gVGhlIGxvY2FsIGJvdW5kcy5cbiAqL1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX2dldENhY2hlZExvY2FsQm91bmRzID0gZnVuY3Rpb24gX2dldENhY2hlZExvY2FsQm91bmRzKCk6IFJlY3RhbmdsZVxue1xuICAgIHJldHVybiB0aGlzLl9jYWNoZURhdGEuc3ByaXRlLmdldExvY2FsQm91bmRzKG51bGwpO1xufTtcblxuLyoqXG4gKiBEZXN0cm95cyB0aGUgY2FjaGVkIHNwcml0ZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5fZGVzdHJveUNhY2hlZERpc3BsYXlPYmplY3QgPSBmdW5jdGlvbiBfZGVzdHJveUNhY2hlZERpc3BsYXlPYmplY3QoKTogdm9pZFxue1xuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUuX3RleHR1cmUuZGVzdHJveSh0cnVlKTtcbiAgICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlID0gbnVsbDtcblxuICAgIEJhc2VUZXh0dXJlLnJlbW92ZUZyb21DYWNoZSh0aGlzLl9jYWNoZURhdGEudGV4dHVyZUNhY2hlSWQpO1xuICAgIFRleHR1cmUucmVtb3ZlRnJvbUNhY2hlKHRoaXMuX2NhY2hlRGF0YS50ZXh0dXJlQ2FjaGVJZCk7XG5cbiAgICB0aGlzLl9jYWNoZURhdGEudGV4dHVyZUNhY2hlSWQgPSBudWxsO1xufTtcblxuLyoqXG4gKiBEZXN0cm95cyB0aGUgY2FjaGVkIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtvYmplY3R8Ym9vbGVhbn0gW29wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGwgb3B0aW9uc1xuICogIGhhdmUgYmVlbiBzZXQgdG8gdGhhdCB2YWx1ZS5cbiAqICBVc2VkIHdoZW4gZGVzdHJveWluZyBjb250YWluZXJzLCBzZWUgdGhlIENvbnRhaW5lci5kZXN0cm95IG1ldGhvZC5cbiAqL1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX2NhY2hlQXNCaXRtYXBEZXN0cm95ID0gZnVuY3Rpb24gX2NhY2hlQXNCaXRtYXBEZXN0cm95KG9wdGlvbnM6IElEZXN0cm95T3B0aW9uc3xib29sZWFuKTogdm9pZFxue1xuICAgIHRoaXMuY2FjaGVBc0JpdG1hcCA9IGZhbHNlO1xuICAgIHRoaXMuZGVzdHJveShvcHRpb25zKTtcbn07XG4iLCJpbXBvcnQgeyBEaXNwbGF5T2JqZWN0LCBDb250YWluZXIgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcblxuLyoqXG4gKiBUaGUgaW5zdGFuY2UgbmFtZSBvZiB0aGUgb2JqZWN0LlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gKiBAbWVtYmVyIHtzdHJpbmd9IG5hbWVcbiAqL1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUubmFtZSA9IG51bGw7XG5cbi8qKlxuICogUmV0dXJucyB0aGUgZGlzcGxheSBvYmplY3QgaW4gdGhlIGNvbnRhaW5lci5cbiAqXG4gKiBSZWN1cnNpdmUgc2VhcmNoZXMgYXJlIGRvbmUgaW4gYSBwcmVvcmRlciB0cmF2ZXJzYWwuXG4gKlxuICogQG1ldGhvZCBnZXRDaGlsZEJ5TmFtZVxuICogQG1lbWJlcm9mIFBJWEkuQ29udGFpbmVyI1xuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBJbnN0YW5jZSBuYW1lLlxuICogQHBhcmFtIHtib29sZWFufVtkZWVwPWZhbHNlXSAtIFdoZXRoZXIgdG8gc2VhcmNoIHJlY3Vyc2l2ZWx5XG4gKiBAcmV0dXJuIHtQSVhJLkRpc3BsYXlPYmplY3R9IFRoZSBjaGlsZCB3aXRoIHRoZSBzcGVjaWZpZWQgbmFtZS5cbiAqL1xuQ29udGFpbmVyLnByb3RvdHlwZS5nZXRDaGlsZEJ5TmFtZSA9IGZ1bmN0aW9uIGdldENoaWxkQnlOYW1lKG5hbWU6IHN0cmluZywgZGVlcD86IGJvb2xlYW4pOiBEaXNwbGF5T2JqZWN0XG57XG4gICAgZm9yIChsZXQgaSA9IDAsIGogPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSA8IGo7IGkrKylcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmNoaWxkcmVuW2ldLm5hbWUgPT09IG5hbWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNoaWxkcmVuW2ldO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGRlZXApXG4gICAge1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgaiA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpIDwgajsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBjaGlsZCA9ICh0aGlzLmNoaWxkcmVuW2ldIGFzIENvbnRhaW5lcik7XG5cbiAgICAgICAgICAgIGlmICghY2hpbGQuZ2V0Q2hpbGRCeU5hbWUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9ICh0aGlzLmNoaWxkcmVuW2ldIGFzIENvbnRhaW5lcikuZ2V0Q2hpbGRCeU5hbWUobmFtZSwgdHJ1ZSk7XG5cbiAgICAgICAgICAgIGlmICh0YXJnZXQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xufTtcbiIsImltcG9ydCB7IERpc3BsYXlPYmplY3QgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcbmltcG9ydCB7IFBvaW50IH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5cbi8qKlxuICogUmV0dXJucyB0aGUgZ2xvYmFsIHBvc2l0aW9uIG9mIHRoZSBkaXNwbGF5T2JqZWN0LiBEb2VzIG5vdCBkZXBlbmQgb24gb2JqZWN0IHNjYWxlLCByb3RhdGlvbiBhbmQgcGl2b3QuXG4gKlxuICogQG1ldGhvZCBnZXRHbG9iYWxQb3NpdGlvblxuICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAqIEBwYXJhbSB7UElYSS5Qb2ludH0gW3BvaW50PW5ldyBQSVhJLlBvaW50KCldIC0gVGhlIHBvaW50IHRvIHdyaXRlIHRoZSBnbG9iYWwgdmFsdWUgdG8uXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtza2lwVXBkYXRlPWZhbHNlXSAtIFNldHRpbmcgdG8gdHJ1ZSB3aWxsIHN0b3AgdGhlIHRyYW5zZm9ybXMgb2YgdGhlIHNjZW5lIGdyYXBoIGZyb21cbiAqICBiZWluZyB1cGRhdGVkLiBUaGlzIG1lYW5zIHRoZSBjYWxjdWxhdGlvbiByZXR1cm5lZCBNQVkgYmUgb3V0IG9mIGRhdGUgQlVUIHdpbGwgZ2l2ZSB5b3UgYVxuICogIG5pY2UgcGVyZm9ybWFuY2UgYm9vc3QuXG4gKiBAcmV0dXJuIHtQSVhJLlBvaW50fSBUaGUgdXBkYXRlZCBwb2ludC5cbiAqL1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuZ2V0R2xvYmFsUG9zaXRpb24gPSBmdW5jdGlvbiBnZXRHbG9iYWxQb3NpdGlvbihwb2ludDogUG9pbnQgPSBuZXcgUG9pbnQoKSwgc2tpcFVwZGF0ZSA9IGZhbHNlKTogUG9pbnRcbntcbiAgICBpZiAodGhpcy5wYXJlbnQpXG4gICAge1xuICAgICAgICB0aGlzLnBhcmVudC50b0dsb2JhbCh0aGlzLnBvc2l0aW9uLCBwb2ludCwgc2tpcFVwZGF0ZSk7XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIHBvaW50LnggPSB0aGlzLnBvc2l0aW9uLng7XG4gICAgICAgIHBvaW50LnkgPSB0aGlzLnBvc2l0aW9uLnk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBvaW50O1xufTtcbiIsImltcG9ydCB7IGRlcHJlY2F0aW9uIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuaW1wb3J0IHR5cGUge1xuICAgIHN5c3RlbXMsXG4gICAgcmVzb3VyY2VzLFxuICAgIFJlbmRlcmVyLFxuICAgIEltYWdlU291cmNlLFxuICAgIEJhc2VUZXh0dXJlLFxuICAgIFJlbmRlclRleHR1cmUsXG4gICAgVGV4dHVyZSxcbiAgICBTdGF0ZSxcbiAgICBBYnN0cmFjdFJlbmRlcmVyIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgdHlwZSB7IERpc3BsYXlPYmplY3QsIENvbnRhaW5lciB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuaW1wb3J0IHR5cGUgeyBUaWxpbmdTcHJpdGUgfSBmcm9tICdAcGl4aS9zcHJpdGUtdGlsaW5nJztcbmltcG9ydCB0eXBlIHtcbiAgICBQb2ludCxcbiAgICBPYnNlcnZhYmxlUG9pbnQsXG4gICAgSVBvaW50LFxuICAgIFJlY3RhbmdsZSxcbiAgICBUcmFuc2Zvcm0sXG4gICAgZ3JvdXBEOCxcbiAgICBNYXRyaXggfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB0eXBlIHsgSW50ZXJhY3Rpb25NYW5hZ2VyLCBJbnRlcmFjdGlvbkRhdGEsIEludGVyYWN0aW9uRXZlbnQgfSBmcm9tICdAcGl4aS9pbnRlcmFjdGlvbic7XG5pbXBvcnQgdHlwZSB7IEFjY2Vzc2liaWxpdHlNYW5hZ2VyIH0gZnJvbSAnQHBpeGkvYWNjZXNzaWJpbGl0eSc7XG5pbXBvcnQgdHlwZSB7IFRpY2tlciB9IGZyb20gJ0BwaXhpL3RpY2tlcic7XG5pbXBvcnQgdHlwZSB7IEdyYXBoaWNzLCBHcmFwaGljc0RhdGEgfSBmcm9tICdAcGl4aS9ncmFwaGljcyc7XG5pbXBvcnQgdHlwZSB7IFNwcml0ZSB9IGZyb20gJ0BwaXhpL3Nwcml0ZSc7XG5pbXBvcnQgdHlwZSB7IEJpdG1hcFRleHQsIEJpdG1hcEZvbnRMb2FkZXIgfSBmcm9tICdAcGl4aS90ZXh0LWJpdG1hcCc7XG5pbXBvcnQgdHlwZSB7IENhbnZhc1JlbmRlclRhcmdldCB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCB0eXBlIHsgTG9hZGVyLCBMb2FkZXJSZXNvdXJjZSB9IGZyb20gJ0BwaXhpL2xvYWRlcnMnO1xuaW1wb3J0IHR5cGUgeyBCYXNlUHJlcGFyZSwgUHJlcGFyZSB9IGZyb20gJ0BwaXhpL3ByZXBhcmUnO1xuaW1wb3J0IHR5cGUgeyBFeHRyYWN0IH0gZnJvbSAnQHBpeGkvZXh0cmFjdCc7XG5pbXBvcnQgdHlwZSB7IEFuaW1hdGVkU3ByaXRlIH0gZnJvbSAnQHBpeGkvc3ByaXRlLWFuaW1hdGVkJztcbmltcG9ydCB0eXBlIHsgTWVzaCB9IGZyb20gJ0BwaXhpL21lc2gnO1xuaW1wb3J0IHR5cGUgeyBQYXJ0aWNsZUNvbnRhaW5lciB9IGZyb20gJ0BwaXhpL3BhcnRpY2xlcyc7XG5pbXBvcnQgdHlwZSB7IFNwcml0ZXNoZWV0TG9hZGVyIH0gZnJvbSAnQHBpeGkvc3ByaXRlc2hlZXQnO1xuaW1wb3J0IHR5cGUge1xuICAgIFNpbXBsZVJvcGUsXG4gICAgTmluZVNsaWNlUGxhbmUsXG4gICAgU2ltcGxlTWVzaCxcbiAgICBTaW1wbGVQbGFuZSB9IGZyb20gJ0BwaXhpL21lc2gtZXh0cmFzJztcblxuY29uc3QgdjUgPSAnNS4wLjAnO1xuXG4vLyBDYW52YXMgZGVwcmVjYXRpb25zIG5lZWRzIHRvIGdldCBtb3ZlZFxuLy8gdG8gdGhlIGxlZ2FjeSBwYWNrYWdlLCBidXQgZm9yIG5vdywgd2UnbGxcbi8vIGFkIHRoaXMgcmVtaW5kZXJcbnR5cGUgJEZpeExlZ2FjeSA9IGFueTtcblxuLyoqXG4gKiBEZXByZWNhdGlvbnMgKGJhY2t3YXJkIGNvbXBhdGliaWxpdGllcykgYXJlIGF1dG9tYXRpY2FsbHkgYXBwbGllZCBmb3IgYnJvd3NlciBidW5kbGVzXG4gKiBpbiB0aGUgVU1EIG1vZHVsZSBmb3JtYXQuIElmIHVzaW5nIFdlYnBhY2sgb3IgUm9sbHVwLCB5b3UnbGwgbmVlZCB0byBhcHBseSB0aGVzZVxuICogZGVwcmVjYXRpb25zIG1hbnVhbGx5IGJ5IGRvaW5nIHNvbWV0aGluZyBsaWtlIHRoaXM6XG4gKiBAZXhhbXBsZVxuICogaW1wb3J0ICogYXMgUElYSSBmcm9tICdwaXhpLmpzJztcbiAqIFBJWEkudXNlRGVwcmVjYXRlZCgpOyAvLyBNVVNUIGJlIGJvdW5kIHRvIG5hbWVzcGFjZVxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBmdW5jdGlvbiB1c2VEZXByZWNhdGVkXG4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvZXhwbGljaXQtbW9kdWxlLWJvdW5kYXJ5LXR5cGVzXG5leHBvcnQgZnVuY3Rpb24gdXNlRGVwcmVjYXRlZCh0aGlzOiBhbnkpOiB2b2lkXG57XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby10aGlzLWFsaWFzXG4gICAgY29uc3QgUElYSSA9IHRoaXM7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhQSVhJLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY29uc3RhbnQge1JlZ0V4cHxzdHJpbmd9IFNWR19TSVpFXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJXG4gICAgICAgICAqIEBzZWUgUElYSS5yZXNvdXJjZXMuU1ZHUmVzb3VyY2UuU1ZHX1NJWkVcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIFNWR19TSVpFOiB7XG4gICAgICAgICAgICBnZXQoKTogUmVnRXhwXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLnV0aWxzLlNWR19TSVpFIHByb3BlcnR5IGhhcyBtb3ZlZCB0byBQSVhJLnJlc291cmNlcy5TVkdSZXNvdXJjZS5TVkdfU0laRScpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuU1ZHUmVzb3VyY2UuU1ZHX1NJWkU7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5UcmFuc2Zvcm1TdGF0aWNcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQHNlZSBQSVhJLlRyYW5zZm9ybVxuICAgICAgICAgKi9cbiAgICAgICAgVHJhbnNmb3JtU3RhdGljOiB7XG4gICAgICAgICAgICBnZXQoKTogVHJhbnNmb3JtXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLlRyYW5zZm9ybVN0YXRpYyBjbGFzcyBoYXMgYmVlbiByZW1vdmVkLCB1c2UgUElYSS5UcmFuc2Zvcm0nKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLlRyYW5zZm9ybTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLlRyYW5zZm9ybUJhc2VcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQHNlZSBQSVhJLlRyYW5zZm9ybVxuICAgICAgICAgKi9cbiAgICAgICAgVHJhbnNmb3JtQmFzZToge1xuICAgICAgICAgICAgZ2V0KCk6IFRyYW5zZm9ybVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5UcmFuc2Zvcm1CYXNlIGNsYXNzIGhhcyBiZWVuIHJlbW92ZWQsIHVzZSBQSVhJLlRyYW5zZm9ybScpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuVHJhbnNmb3JtO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ29uc3RhbnRzIHRoYXQgc3BlY2lmeSB0aGUgdHJhbnNmb3JtIHR5cGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICogQGNvbnN0YW50XG4gICAgICAgICAqIEBuYW1lIFRSQU5TRk9STV9NT0RFXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJXG4gICAgICAgICAqIEBlbnVtIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTVEFUSUNcbiAgICAgICAgICogQHByb3BlcnR5IHtudW1iZXJ9IERZTkFNSUNcbiAgICAgICAgICovXG4gICAgICAgIFRSQU5TRk9STV9NT0RFOiB7XG4gICAgICAgICAgICBnZXQoKToge1tuYW1lOiBzdHJpbmddOiBudW1iZXJ9XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLlRSQU5TRk9STV9NT0RFIHByb3BlcnR5IGhhcyBiZWVuIHJlbW92ZWQnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB7IFNUQVRJQzogMCwgRFlOQU1JQzogMSB9O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkuV2ViR0xSZW5kZXJlclxuICAgICAgICAgKiBAc2VlIFBJWEkuUmVuZGVyZXJcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIFdlYkdMUmVuZGVyZXI6IHtcbiAgICAgICAgICAgIGdldCgpOiB0eXBlb2YgUmVuZGVyZXJcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuV2ViR0xSZW5kZXJlciBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS5SZW5kZXJlcicpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuUmVuZGVyZXI7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5DYW52YXNSZW5kZXJUYXJnZXRcbiAgICAgICAgICogQHNlZSBQSVhJLnV0aWxzLkNhbnZhc1JlbmRlclRhcmdldFxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgQ2FudmFzUmVuZGVyVGFyZ2V0OiB7XG4gICAgICAgICAgICBnZXQoKTogQ2FudmFzUmVuZGVyVGFyZ2V0XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkNhbnZhc1JlbmRlclRhcmdldCBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS51dGlscy5DYW52YXNSZW5kZXJUYXJnZXQnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLnV0aWxzLkNhbnZhc1JlbmRlclRhcmdldDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJXG4gICAgICAgICAqIEBuYW1lIGxvYWRlclxuICAgICAgICAgKiBAdHlwZSB7UElYSS5Mb2FkZXJ9XG4gICAgICAgICAqIEBzZWUgUElYSS5Mb2FkZXIuc2hhcmVkXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBsb2FkZXI6IHtcbiAgICAgICAgICAgIGdldCgpOiBMb2FkZXJcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkubG9hZGVyIGluc3RhbmNlIGhhcyBtb3ZlZCB0byBQSVhJLkxvYWRlci5zaGFyZWQnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLkxvYWRlci5zaGFyZWQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5GaWx0ZXJNYW5hZ2VyXG4gICAgICAgICAqIEBzZWUgUElYSS5zeXN0ZW1zLkZpbHRlclN5c3RlbVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgRmlsdGVyTWFuYWdlcjoge1xuICAgICAgICAgICAgZ2V0KCk6IHN5c3RlbXMuRmlsdGVyU3lzdGVtXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkZpbHRlck1hbmFnZXIgY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuc3lzdGVtcy5GaWx0ZXJTeXN0ZW0nKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLnN5c3RlbXMuRmlsdGVyU3lzdGVtO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5hbWVzcGFjZSBQSVhJLkNhbnZhc1RpbnRlclxuICAgICAgICAgKiBAc2VlIFBJWEkuY2FudmFzVXRpbHNcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4yLjBcbiAgICAgICAgICovXG4gICAgICAgIENhbnZhc1RpbnRlcjoge1xuICAgICAgICAgICAgZ2V0KCk6ICRGaXhMZWdhY3lcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbignNS4yLjAnLCAnUElYSS5DYW52YXNUaW50ZXIgbmFtZXNwYWNlIGhhcyBtb3ZlZCB0byBQSVhJLmNhbnZhc1V0aWxzJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5jYW52YXNVdGlscztcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuYW1lc3BhY2UgUElYSS5Hcm91cEQ4XG4gICAgICAgICAqIEBzZWUgUElYSS5ncm91cEQ4XG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMi4wXG4gICAgICAgICAqL1xuICAgICAgICBHcm91cEQ4OiB7XG4gICAgICAgICAgICBnZXQoKTogdHlwZW9mIGdyb3VwRDhcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbignNS4yLjAnLCAnUElYSS5Hcm91cEQ4IG5hbWVzcGFjZSBoYXMgbW92ZWQgdG8gUElYSS5ncm91cEQ4Jyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5ncm91cEQ4O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEBuYW1lc3BhY2UgUElYSS5hY2Nlc3NpYmlsaXR5XG4gICAgICogQHNlZSBQSVhJXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4zLjBcbiAgICAgKi9cbiAgICBQSVhJLmFjY2Vzc2liaWxpdHkgPSB7fTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFBJWEkuYWNjZXNzaWJpbGl0eSwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkuYWNjZXNzaWJpbGl0eS5BY2Nlc3NpYmlsaXR5TWFuYWdlclxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjMuMFxuICAgICAgICAgKiBAc2VlIFBJWEkuQWNjZXNzaWJpbGl0eU1hbmFnZXJcbiAgICAgICAgICovXG4gICAgICAgIEFjY2Vzc2liaWxpdHlNYW5hZ2VyOiB7XG4gICAgICAgICAgICBnZXQoKTogdHlwZW9mIEFjY2Vzc2liaWxpdHlNYW5hZ2VyXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24oJzUuMy4wJywgJ1BJWEkuYWNjZXNzaWJpbGl0eS5BY2Nlc3NpYmlsaXR5TWFuYWdlciBtb3ZlZCB0byBQSVhJLkFjY2Vzc2liaWxpdHlNYW5hZ2VyJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5BY2Nlc3NpYmlsaXR5TWFuYWdlcjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBAbmFtZXNwYWNlIFBJWEkuaW50ZXJhY3Rpb25cbiAgICAgKiBAc2VlIFBJWElcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjMuMFxuICAgICAqL1xuICAgIFBJWEkuaW50ZXJhY3Rpb24gPSB7fTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFBJWEkuaW50ZXJhY3Rpb24sIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlclxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjMuMFxuICAgICAgICAgKiBAc2VlIFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyXG4gICAgICAgICAqL1xuICAgICAgICBJbnRlcmFjdGlvbk1hbmFnZXI6IHtcbiAgICAgICAgICAgIGdldCgpOiB0eXBlb2YgSW50ZXJhY3Rpb25NYW5hZ2VyXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24oJzUuMy4wJywgJ1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyIG1vdmVkIHRvIFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5JbnRlcmFjdGlvbk1hbmFnZXI7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkRhdGFcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4zLjBcbiAgICAgICAgICogQHNlZSBQSVhJLkludGVyYWN0aW9uRGF0YVxuICAgICAgICAgKi9cbiAgICAgICAgSW50ZXJhY3Rpb25EYXRhOiB7XG4gICAgICAgICAgICBnZXQoKTogdHlwZW9mIEludGVyYWN0aW9uRGF0YVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKCc1LjMuMCcsICdQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRGF0YSBtb3ZlZCB0byBQSVhJLkludGVyYWN0aW9uRGF0YScpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuSW50ZXJhY3Rpb25EYXRhO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudFxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjMuMFxuICAgICAgICAgKiBAc2VlIFBJWEkuSW50ZXJhY3Rpb25FdmVudFxuICAgICAgICAgKi9cbiAgICAgICAgSW50ZXJhY3Rpb25FdmVudDoge1xuICAgICAgICAgICAgZ2V0KCk6IHR5cGVvZiBJbnRlcmFjdGlvbkV2ZW50XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24oJzUuMy4wJywgJ1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudCBtb3ZlZCB0byBQSVhJLkludGVyYWN0aW9uRXZlbnQnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLkludGVyYWN0aW9uRXZlbnQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQG5hbWVzcGFjZSBQSVhJLnByZXBhcmVcbiAgICAgKiBAc2VlIFBJWElcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjIuMVxuICAgICAqL1xuICAgIFBJWEkucHJlcGFyZSA9IHt9O1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUElYSS5wcmVwYXJlLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5wcmVwYXJlLkJhc2VQcmVwYXJlXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMi4xXG4gICAgICAgICAqIEBzZWUgUElYSS5CYXNlUHJlcGFyZVxuICAgICAgICAgKi9cbiAgICAgICAgQmFzZVByZXBhcmU6IHtcbiAgICAgICAgICAgIGdldCgpOiB0eXBlb2YgQmFzZVByZXBhcmVcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbignNS4yLjEnLCAnUElYSS5wcmVwYXJlLkJhc2VQcmVwYXJlIG1vdmVkIHRvIFBJWEkuQmFzZVByZXBhcmUnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLkJhc2VQcmVwYXJlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLnByZXBhcmUuUHJlcGFyZVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjIuMVxuICAgICAgICAgKiBAc2VlIFBJWEkuUHJlcGFyZVxuICAgICAgICAgKi9cbiAgICAgICAgUHJlcGFyZToge1xuICAgICAgICAgICAgZ2V0KCk6IHR5cGVvZiBQcmVwYXJlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24oJzUuMi4xJywgJ1BJWEkucHJlcGFyZS5QcmVwYXJlIG1vdmVkIHRvIFBJWEkuUHJlcGFyZScpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuUHJlcGFyZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5wcmVwYXJlLkNhbnZhc1ByZXBhcmVcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4yLjFcbiAgICAgICAgICogQHNlZSBQSVhJLkNhbnZhc1ByZXBhcmVcbiAgICAgICAgICovXG4gICAgICAgIENhbnZhc1ByZXBhcmU6IHtcbiAgICAgICAgICAgIGdldCgpOiAkRml4TGVnYWN5XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24oJzUuMi4xJywgJ1BJWEkucHJlcGFyZS5DYW52YXNQcmVwYXJlIG1vdmVkIHRvIFBJWEkuQ2FudmFzUHJlcGFyZScpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuQ2FudmFzUHJlcGFyZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBAbmFtZXNwYWNlIFBJWEkuZXh0cmFjdFxuICAgICAqIEBzZWUgUElYSVxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMi4xXG4gICAgICovXG4gICAgUElYSS5leHRyYWN0ID0ge307XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhQSVhJLmV4dHJhY3QsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLmV4dHJhY3QuRXh0cmFjdFxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjIuMVxuICAgICAgICAgKiBAc2VlIFBJWEkuRXh0cmFjdFxuICAgICAgICAgKi9cbiAgICAgICAgRXh0cmFjdDoge1xuICAgICAgICAgICAgZ2V0KCk6IHR5cGVvZiBFeHRyYWN0XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24oJzUuMi4xJywgJ1BJWEkuZXh0cmFjdC5FeHRyYWN0IG1vdmVkIHRvIFBJWEkuRXh0cmFjdCcpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuRXh0cmFjdDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5leHRyYWN0LkNhbnZhc0V4dHJhY3RcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4yLjFcbiAgICAgICAgICogQHNlZSBQSVhJLkNhbnZhc0V4dHJhY3RcbiAgICAgICAgICovXG4gICAgICAgIENhbnZhc0V4dHJhY3Q6IHtcbiAgICAgICAgICAgIGdldCgpOiAkRml4TGVnYWN5XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24oJzUuMi4xJywgJ1BJWEkuZXh0cmFjdC5DYW52YXNFeHRyYWN0IG1vdmVkIHRvIFBJWEkuQ2FudmFzRXh0cmFjdCcpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuQ2FudmFzRXh0cmFjdDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG5hbWVzcGFjZSBoYXMgYmVlbiByZW1vdmVkLiBBbGwgY2xhc3NlcyBwcmV2aW91cyBuZXN0ZWRcbiAgICAgKiB1bmRlciB0aGlzIG5hbWVzcGFjZSBoYXZlIGJlZW4gbW92ZWQgdG8gdGhlIHRvcC1sZXZlbCBgUElYSWAgb2JqZWN0LlxuICAgICAqIEBuYW1lc3BhY2UgUElYSS5leHRyYXNcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqL1xuICAgIFBJWEkuZXh0cmFzID0ge307XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhQSVhJLmV4dHJhcywge1xuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkuZXh0cmFzLlRpbGluZ1Nwcml0ZVxuICAgICAgICAgKiBAc2VlIFBJWEkuVGlsaW5nU3ByaXRlXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBUaWxpbmdTcHJpdGU6IHtcbiAgICAgICAgICAgIGdldCgpOiB0eXBlb2YgVGlsaW5nU3ByaXRlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLmV4dHJhcy5UaWxpbmdTcHJpdGUgY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuVGlsaW5nU3ByaXRlJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5UaWxpbmdTcHJpdGU7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkuZXh0cmFzLlRpbGluZ1Nwcml0ZVJlbmRlcmVyXG4gICAgICAgICAqIEBzZWUgUElYSS5UaWxpbmdTcHJpdGVSZW5kZXJlclxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgVGlsaW5nU3ByaXRlUmVuZGVyZXI6IHtcbiAgICAgICAgICAgIGdldCgpOiAkRml4TGVnYWN5XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLmV4dHJhcy5UaWxpbmdTcHJpdGVSZW5kZXJlciBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS5UaWxpbmdTcHJpdGVSZW5kZXJlcicpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuVGlsaW5nU3ByaXRlUmVuZGVyZXI7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkuZXh0cmFzLkFuaW1hdGVkU3ByaXRlXG4gICAgICAgICAqIEBzZWUgUElYSS5BbmltYXRlZFNwcml0ZVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgQW5pbWF0ZWRTcHJpdGU6IHtcbiAgICAgICAgICAgIGdldCgpOiB0eXBlb2YgQW5pbWF0ZWRTcHJpdGVcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuZXh0cmFzLkFuaW1hdGVkU3ByaXRlIGNsYXNzIGhhcyBtb3ZlZCB0byBQSVhJLkFuaW1hdGVkU3ByaXRlJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5BbmltYXRlZFNwcml0ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5leHRyYXMuQml0bWFwVGV4dFxuICAgICAgICAgKiBAc2VlIFBJWEkuQml0bWFwVGV4dFxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgQml0bWFwVGV4dDoge1xuICAgICAgICAgICAgZ2V0KCk6IHR5cGVvZiBCaXRtYXBUZXh0XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLmV4dHJhcy5CaXRtYXBUZXh0IGNsYXNzIGhhcyBtb3ZlZCB0byBQSVhJLkJpdG1hcFRleHQnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLkJpdG1hcFRleHQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZXRob2QgUElYSS5UaWxpbmdTcHJpdGUuZnJvbUZyYW1lXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4zLjBcbiAgICAgKiBAc2VlIFBJWEkuVGlsaW5nU3ByaXRlLmZyb21cbiAgICAgKi9cbiAgICBQSVhJLlRpbGluZ1Nwcml0ZS5mcm9tRnJhbWUgPSBmdW5jdGlvbiBmcm9tRnJhbWUoZnJhbWVJZDogc3RyaW5nLCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcik6IFRpbGluZ1Nwcml0ZVxuICAgIHtcbiAgICAgICAgZGVwcmVjYXRpb24oJzUuMy4wJywgJ1RpbGluZ1Nwcml0ZS5mcm9tRnJhbWUgaXMgZGVwcmVjYXRlZCwgdXNlIFRpbGluZ1Nwcml0ZS5mcm9tJyk7XG5cbiAgICAgICAgcmV0dXJuIFBJWEkuVGlsaW5nU3ByaXRlLmZyb20oZnJhbWVJZCwgeyB3aWR0aCwgaGVpZ2h0IH0pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1ldGhvZCBQSVhJLlRpbGluZ1Nwcml0ZS5mcm9tSW1hZ2VcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjMuMFxuICAgICAqIEBzZWUgUElYSS5UaWxpbmdTcHJpdGUuZnJvbVxuICAgICAqL1xuICAgIFBJWEkuVGlsaW5nU3ByaXRlLmZyb21JbWFnZSA9IGZ1bmN0aW9uIGZyb21JbWFnZShcbiAgICAgICAgaW1hZ2VJZDogc3RyaW5nLFxuICAgICAgICB3aWR0aDogbnVtYmVyLFxuICAgICAgICBoZWlnaHQ6IG51bWJlcixcbiAgICAgICAgb3B0aW9uczogYW55ID0ge30pOiBUaWxpbmdTcHJpdGVcbiAgICB7XG4gICAgICAgIGRlcHJlY2F0aW9uKCc1LjMuMCcsICdUaWxpbmdTcHJpdGUuZnJvbUltYWdlIGlzIGRlcHJlY2F0ZWQsIHVzZSBUaWxpbmdTcHJpdGUuZnJvbScpO1xuXG4gICAgICAgIC8vIEZhbGxiYWNrIHN1cHBvcnQgZm9yIGNyb3Nzb3JpZ2luLCBzY2FsZU1vZGUgcGFyYW1ldGVyc1xuICAgICAgICBpZiAob3B0aW9ucyAmJiB0eXBlb2Ygb3B0aW9ucyAhPT0gJ29iamVjdCcpXG4gICAgICAgIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1yZXN0LXBhcmFtc1xuICAgICAgICAgICAgICAgIHNjYWxlTW9kZTogYXJndW1lbnRzWzRdLFxuICAgICAgICAgICAgICAgIHJlc291cmNlT3B0aW9uczoge1xuICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLXJlc3QtcGFyYW1zXG4gICAgICAgICAgICAgICAgICAgIGNyb3Nzb3JpZ2luOiBhcmd1bWVudHNbM10sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBvcHRpb25zLndpZHRoID0gd2lkdGg7XG4gICAgICAgIG9wdGlvbnMuaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgICAgIHJldHVybiBQSVhJLlRpbGluZ1Nwcml0ZS5mcm9tKGltYWdlSWQsIG9wdGlvbnMpO1xuICAgIH07XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhQSVhJLnV0aWxzLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZnVuY3Rpb24gUElYSS51dGlscy5nZXRTdmdTaXplXG4gICAgICAgICAqIEBzZWUgUElYSS5yZXNvdXJjZXMuU1ZHUmVzb3VyY2UuZ2V0U2l6ZVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0U3ZnU2l6ZToge1xuICAgICAgICAgICAgZ2V0KCk6IHR5cGVvZiByZXNvdXJjZXMuU1ZHUmVzb3VyY2UuZ2V0U2l6ZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS51dGlscy5nZXRTdmdTaXplIGZ1bmN0aW9uIGhhcyBtb3ZlZCB0byBQSVhJLnJlc291cmNlcy5TVkdSZXNvdXJjZS5nZXRTaXplJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5yZXNvdXJjZXMuU1ZHUmVzb3VyY2UuZ2V0U2l6ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBBbGwgY2xhc3NlcyBvbiB0aGlzIG5hbWVzcGFjZSBoYXZlIG1vdmVkIHRvIHRoZSBoaWdoLWxldmVsIGBQSVhJYCBvYmplY3QuXG4gICAgICogQG5hbWVzcGFjZSBQSVhJLm1lc2hcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqL1xuICAgIFBJWEkubWVzaCA9IHt9O1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUElYSS5tZXNoLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5tZXNoLk1lc2hcbiAgICAgICAgICogQHNlZSBQSVhJLlNpbXBsZU1lc2hcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIE1lc2g6IHtcbiAgICAgICAgICAgIGdldCgpOiB0eXBlb2YgU2ltcGxlTWVzaFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5tZXNoLk1lc2ggY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuU2ltcGxlTWVzaCcpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuU2ltcGxlTWVzaDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5tZXNoLk5pbmVTbGljZVBsYW5lXG4gICAgICAgICAqIEBzZWUgUElYSS5OaW5lU2xpY2VQbGFuZVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgTmluZVNsaWNlUGxhbmU6IHtcbiAgICAgICAgICAgIGdldCgpOiB0eXBlb2YgTmluZVNsaWNlUGxhbmVcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkubWVzaC5OaW5lU2xpY2VQbGFuZSBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS5OaW5lU2xpY2VQbGFuZScpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuTmluZVNsaWNlUGxhbmU7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkubWVzaC5QbGFuZVxuICAgICAgICAgKiBAc2VlIFBJWEkuU2ltcGxlUGxhbmVcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIFBsYW5lOiB7XG4gICAgICAgICAgICBnZXQoKTogdHlwZW9mIFNpbXBsZVBsYW5lXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLm1lc2guUGxhbmUgY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuU2ltcGxlUGxhbmUnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLlNpbXBsZVBsYW5lO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLm1lc2guUm9wZVxuICAgICAgICAgKiBAc2VlIFBJWEkuU2ltcGxlUm9wZVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgUm9wZToge1xuICAgICAgICAgICAgZ2V0KCk6IHR5cGVvZiBTaW1wbGVSb3BlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLm1lc2guUm9wZSBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS5TaW1wbGVSb3BlJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5TaW1wbGVSb3BlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLm1lc2guUmF3TWVzaFxuICAgICAgICAgKiBAc2VlIFBJWEkuTWVzaFxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgUmF3TWVzaDoge1xuICAgICAgICAgICAgZ2V0KCk6IHR5cGVvZiBNZXNoXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLm1lc2guUmF3TWVzaCBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS5NZXNoJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5NZXNoO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLm1lc2guQ2FudmFzTWVzaFJlbmRlcmVyXG4gICAgICAgICAqIEBzZWUgUElYSS5DYW52YXNNZXNoUmVuZGVyZXJcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIENhbnZhc01lc2hSZW5kZXJlcjoge1xuICAgICAgICAgICAgZ2V0KCk6ICRGaXhMZWdhY3lcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkubWVzaC5DYW52YXNNZXNoUmVuZGVyZXIgY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuQ2FudmFzTWVzaFJlbmRlcmVyJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5DYW52YXNNZXNoUmVuZGVyZXI7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkubWVzaC5NZXNoUmVuZGVyZXJcbiAgICAgICAgICogQHNlZSBQSVhJLk1lc2hSZW5kZXJlclxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgTWVzaFJlbmRlcmVyOiB7XG4gICAgICAgICAgICBnZXQoKTogJEZpeExlZ2FjeVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5tZXNoLk1lc2hSZW5kZXJlciBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS5NZXNoUmVuZGVyZXInKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLk1lc2hSZW5kZXJlcjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG5hbWVzcGFjZSBoYXMgYmVlbiByZW1vdmVkIGFuZCBpdGVtcyBoYXZlIGJlZW4gbW92ZWQgdG9cbiAgICAgKiB0aGUgdG9wLWxldmVsIGBQSVhJYCBvYmplY3QuXG4gICAgICogQG5hbWVzcGFjZSBQSVhJLnBhcnRpY2xlc1xuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICovXG4gICAgUElYSS5wYXJ0aWNsZXMgPSB7fTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFBJWEkucGFydGljbGVzLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5wYXJ0aWNsZXMuUGFydGljbGVDb250YWluZXJcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQHNlZSBQSVhJLlBhcnRpY2xlQ29udGFpbmVyXG4gICAgICAgICAqL1xuICAgICAgICBQYXJ0aWNsZUNvbnRhaW5lcjoge1xuICAgICAgICAgICAgZ2V0KCk6IHR5cGVvZiBQYXJ0aWNsZUNvbnRhaW5lclxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5wYXJ0aWNsZXMuUGFydGljbGVDb250YWluZXIgY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuUGFydGljbGVDb250YWluZXInKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLlBhcnRpY2xlQ29udGFpbmVyO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLnBhcnRpY2xlcy5QYXJ0aWNsZVJlbmRlcmVyXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqIEBzZWUgUElYSS5QYXJ0aWNsZVJlbmRlcmVyXG4gICAgICAgICAqL1xuICAgICAgICBQYXJ0aWNsZVJlbmRlcmVyOiB7XG4gICAgICAgICAgICBnZXQoKTogJEZpeExlZ2FjeVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5wYXJ0aWNsZXMuUGFydGljbGVSZW5kZXJlciBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS5QYXJ0aWNsZVJlbmRlcmVyJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5QYXJ0aWNsZVJlbmRlcmVyO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbmFtZXNwYWNlIGhhcyBiZWVuIHJlbW92ZWQgYW5kIGl0ZW1zIGhhdmUgYmVlbiBtb3ZlZCB0b1xuICAgICAqIHRoZSB0b3AtbGV2ZWwgYFBJWElgIG9iamVjdC5cbiAgICAgKiBAbmFtZXNwYWNlIFBJWEkudGlja2VyXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKi9cbiAgICBQSVhJLnRpY2tlciA9IHt9O1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUElYSS50aWNrZXIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLnRpY2tlci5UaWNrZXJcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQHNlZSBQSVhJLlRpY2tlclxuICAgICAgICAgKi9cbiAgICAgICAgVGlja2VyOiB7XG4gICAgICAgICAgICBnZXQoKTogdHlwZW9mIFRpY2tlclxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS50aWNrZXIuVGlja2VyIGNsYXNzIGhhcyBtb3ZlZCB0byBQSVhJLlRpY2tlcicpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuVGlja2VyO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuYW1lIFBJWEkudGlja2VyLnNoYXJlZFxuICAgICAgICAgKiBAdHlwZSB7UElYSS5UaWNrZXJ9XG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqIEBzZWUgUElYSS5UaWNrZXIuc2hhcmVkXG4gICAgICAgICAqL1xuICAgICAgICBzaGFyZWQ6IHtcbiAgICAgICAgICAgIGdldCgpOiBUaWNrZXJcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkudGlja2VyLnNoYXJlZCBpbnN0YW5jZSBoYXMgbW92ZWQgdG8gUElYSS5UaWNrZXIuc2hhcmVkJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5UaWNrZXIuc2hhcmVkO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEFsbCBjbGFzc2VzIG9uIHRoaXMgbmFtZXNwYWNlIGhhdmUgbW92ZWQgdG8gdGhlIGhpZ2gtbGV2ZWwgYFBJWElgIG9iamVjdC5cbiAgICAgKiBAbmFtZXNwYWNlIFBJWEkubG9hZGVyc1xuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICovXG4gICAgUElYSS5sb2FkZXJzID0ge307XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhQSVhJLmxvYWRlcnMsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLmxvYWRlcnMuTG9hZGVyXG4gICAgICAgICAqIEBzZWUgUElYSS5Mb2FkZXJcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIExvYWRlcjoge1xuICAgICAgICAgICAgZ2V0KCk6IHR5cGVvZiBMb2FkZXJcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkubG9hZGVycy5Mb2FkZXIgY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuTG9hZGVyJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5Mb2FkZXI7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkubG9hZGVycy5SZXNvdXJjZVxuICAgICAgICAgKiBAc2VlIFBJWEkuTG9hZGVyUmVzb3VyY2VcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIFJlc291cmNlOiB7XG4gICAgICAgICAgICBnZXQoKTogdHlwZW9mIExvYWRlclJlc291cmNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLmxvYWRlcnMuUmVzb3VyY2UgY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuTG9hZGVyUmVzb3VyY2UnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLkxvYWRlclJlc291cmNlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBmdW5jdGlvbiBQSVhJLmxvYWRlcnMuYml0bWFwRm9udFBhcnNlclxuICAgICAgICAgKiBAc2VlIFBJWEkuQml0bWFwRm9udExvYWRlci51c2VcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIGJpdG1hcEZvbnRQYXJzZXI6IHtcbiAgICAgICAgICAgIGdldCgpOiB0eXBlb2YgQml0bWFwRm9udExvYWRlci51c2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkubG9hZGVycy5iaXRtYXBGb250UGFyc2VyIGZ1bmN0aW9uIGhhcyBtb3ZlZCB0byBQSVhJLkJpdG1hcEZvbnRMb2FkZXIudXNlJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5CaXRtYXBGb250TG9hZGVyLnVzZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZnVuY3Rpb24gUElYSS5sb2FkZXJzLnBhcnNlQml0bWFwRm9udERhdGFcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIHBhcnNlQml0bWFwRm9udERhdGE6IHtcbiAgICAgICAgICAgIGdldCgpOiB2b2lkXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLmxvYWRlcnMucGFyc2VCaXRtYXBGb250RGF0YSBmdW5jdGlvbiBoYXMgcmVtb3ZlZCcpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBmdW5jdGlvbiBQSVhJLmxvYWRlcnMuc3ByaXRlc2hlZXRQYXJzZXJcbiAgICAgICAgICogQHNlZSBQSVhJLlNwcml0ZXNoZWV0TG9hZGVyLnVzZVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgc3ByaXRlc2hlZXRQYXJzZXI6IHtcbiAgICAgICAgICAgIGdldCgpOiB0eXBlb2YgU3ByaXRlc2hlZXRMb2FkZXIudXNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLmxvYWRlcnMuc3ByaXRlc2hlZXRQYXJzZXIgZnVuY3Rpb24gaGFzIG1vdmVkIHRvIFBJWEkuU3ByaXRlc2hlZXRMb2FkZXIudXNlJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5TcHJpdGVzaGVldExvYWRlci51c2U7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGZ1bmN0aW9uIFBJWEkubG9hZGVycy5nZXRSZXNvdXJjZVBhdGhcbiAgICAgICAgICogQHNlZSBQSVhJLlNwcml0ZXNoZWV0TG9hZGVyLmdldFJlc291cmNlUGF0aFxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0UmVzb3VyY2VQYXRoOiB7XG4gICAgICAgICAgICBnZXQoKTogdHlwZW9mIFNwcml0ZXNoZWV0TG9hZGVyLmdldFJlc291cmNlUGF0aFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5sb2FkZXJzLmdldFJlc291cmNlUGF0aCBwcm9wZXJ0eSBoYXMgbW92ZWQgdG8gUElYSS5TcHJpdGVzaGVldExvYWRlci5nZXRSZXNvdXJjZVBhdGgnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLlNwcml0ZXNoZWV0TG9hZGVyLmdldFJlc291cmNlUGF0aDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBAZnVuY3Rpb24gUElYSS5sb2FkZXJzLkxvYWRlci5hZGRQaXhpTWlkZGxld2FyZVxuICAgICAqIEBzZWUgUElYSS5Mb2FkZXIucmVnaXN0ZXJQbHVnaW5cbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IG1pZGRsZXdhcmVcbiAgICAgKi9cbiAgICBQSVhJLkxvYWRlci5hZGRQaXhpTWlkZGxld2FyZSA9IGZ1bmN0aW9uIGFkZFBpeGlNaWRkbGV3YXJlKG1pZGRsZXdhcmU6IGFueSk6IHR5cGVvZiBMb2FkZXJcbiAgICB7XG4gICAgICAgIGRlcHJlY2F0aW9uKHY1LFxuICAgICAgICAgICAgJ1BJWEkubG9hZGVycy5Mb2FkZXIuYWRkUGl4aU1pZGRsZXdhcmUgZnVuY3Rpb24gaXMgZGVwcmVjYXRlZCwgdXNlIFBJWEkubG9hZGVycy5Mb2FkZXIucmVnaXN0ZXJQbHVnaW4nXG4gICAgICAgICk7XG5cbiAgICAgICAgcmV0dXJuIFBJWEkubG9hZGVycy5Mb2FkZXIucmVnaXN0ZXJQbHVnaW4oeyB1c2U6IG1pZGRsZXdhcmUoKSB9KTtcbiAgICB9O1xuXG4gICAgLy8gY29udmVuaWVuY2UgZm9yIGNvbnZlcnRpbmcgZXZlbnQgbmFtZSB0byBzaWduYWwgbmFtZVxuICAgIGNvbnN0IGV2ZW50VG9TaWduYWwgPSAoZXZlbnQ6IGFueSk6IHN0cmluZyA9PlxuICAgICAgICBgb24ke2V2ZW50LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpfSR7ZXZlbnQuc2xpY2UoMSl9YDtcblxuICAgIE9iamVjdC5hc3NpZ24oUElYSS5Mb2FkZXIucHJvdG90eXBlLFxuICAgICAgICB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFVzZSB0aGUgY29ycmVzcG9uZGluZyBzaWduYWwsIGUuZy4sIGV2ZW50IGBzdGFydGBgIGlzIHNpZ25hbCBgb25TdGFydGAuXG4gICAgICAgICAgICAgKiBAbWV0aG9kIFBJWEkuTG9hZGVyI29uXG4gICAgICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBvbihldmVudDogYW55KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpZ25hbCA9IGV2ZW50VG9TaWduYWwoZXZlbnQpO1xuXG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsIGBQSVhJLkxvYWRlciNvbiBpcyBjb21wbGV0ZWx5IGRlcHJlY2F0ZWQsIHVzZSBQSVhJLkxvYWRlciMke3NpZ25hbH0uYWRkYCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBVc2UgdGhlIGNvcnJlc3BvbmRpbmcgc2lnbmFsLCBlLmcuLCBldmVudCBgc3RhcnRgYCBpcyBzaWduYWwgYG9uU3RhcnRgLlxuICAgICAgICAgICAgICogQG1ldGhvZCBQSVhJLkxvYWRlciNvbmNlXG4gICAgICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBvbmNlKGV2ZW50OiBhbnkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2lnbmFsID0gZXZlbnRUb1NpZ25hbChldmVudCk7XG5cbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgYFBJWEkuTG9hZGVyI29uY2UgaXMgY29tcGxldGVseSBkZXByZWNhdGVkLCB1c2UgUElYSS5Mb2FkZXIjJHtzaWduYWx9Lm9uY2VgKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFVzZSB0aGUgY29ycmVzcG9uZGluZyBzaWduYWwsIGUuZy4sIGV2ZW50IGBzdGFydGBgIGlzIHNpZ25hbCBgb25TdGFydGAuXG4gICAgICAgICAgICAgKiBAbWV0aG9kIFBJWEkuTG9hZGVyI29mZlxuICAgICAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgb2ZmKGV2ZW50OiBhbnkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2lnbmFsID0gZXZlbnRUb1NpZ25hbChldmVudCk7XG5cbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgYFBJWEkuTG9hZGVyI29mZiBpcyBjb21wbGV0ZWx5IGRlcHJlY2F0ZWQsIHVzZSBQSVhJLkxvYWRlciMke3NpZ25hbH0uZGV0YWNoYCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEBjbGFzcyBQSVhJLmV4dHJhY3QuV2ViR0xFeHRyYWN0XG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkuRXh0cmFjdFxuICAgICAqL1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQSVhJLmV4dHJhY3QsICdXZWJHTEV4dHJhY3QnLCB7XG4gICAgICAgIGdldCgpOiB0eXBlb2YgRXh0cmFjdFxuICAgICAgICB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuZXh0cmFjdC5XZWJHTEV4dHJhY3QgbWV0aG9kIGhhcyBtb3ZlZCB0byBQSVhJLkV4dHJhY3QnKTtcblxuICAgICAgICAgICAgcmV0dXJuIFBJWEkuRXh0cmFjdDtcbiAgICAgICAgfSxcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEBjbGFzcyBQSVhJLnByZXBhcmUuV2ViR0xQcmVwYXJlXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkuUHJlcGFyZVxuICAgICAqL1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQSVhJLnByZXBhcmUsICdXZWJHTFByZXBhcmUnLCB7XG4gICAgICAgIGdldCgpOiB0eXBlb2YgUHJlcGFyZVxuICAgICAgICB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkucHJlcGFyZS5XZWJHTFByZXBhcmUgY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuUHJlcGFyZScpO1xuXG4gICAgICAgICAgICByZXR1cm4gUElYSS5QcmVwYXJlO1xuICAgICAgICB9LFxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBQSVhJLkNvbnRhaW5lciNfcmVuZGVyV2ViR0xcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQHNlZSBQSVhJLkNvbnRhaW5lciNyZW5kZXJcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIEluc3RhbmNlIG9mIHJlbmRlcmVyXG4gICAgICovXG4gICAgUElYSS5Db250YWluZXIucHJvdG90eXBlLl9yZW5kZXJXZWJHTCA9IGZ1bmN0aW9uIF9yZW5kZXJXZWJHTCh0aGlzOiBDb250YWluZXIsIHJlbmRlcmVyOiBSZW5kZXJlcik6IHZvaWRcbiAgICB7XG4gICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5Db250YWluZXIuX3JlbmRlcldlYkdMIG1ldGhvZCBoYXMgbW92ZWQgdG8gUElYSS5Db250YWluZXIuX3JlbmRlcicpO1xuXG4gICAgICAgIHRoaXMuX3JlbmRlcihyZW5kZXJlcik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBtZXRob2QgUElYSS5Db250YWluZXIjcmVuZGVyV2ViR0xcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBzZWUgUElYSS5Db250YWluZXIjcmVuZGVyXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciBJbnN0YW5jZSBvZiByZW5kZXJlclxuICAgICAqL1xuICAgIFBJWEkuQ29udGFpbmVyLnByb3RvdHlwZS5yZW5kZXJXZWJHTCA9IGZ1bmN0aW9uIHJlbmRlcldlYkdMKHRoaXM6IENvbnRhaW5lciwgcmVuZGVyZXI6IFJlbmRlcmVyKTogdm9pZFxuICAgIHtcbiAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkNvbnRhaW5lci5yZW5kZXJXZWJHTCBtZXRob2QgaGFzIG1vdmVkIHRvIFBJWEkuQ29udGFpbmVyLnJlbmRlcicpO1xuXG4gICAgICAgIHRoaXMucmVuZGVyKHJlbmRlcmVyKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBQSVhJLkRpc3BsYXlPYmplY3QjcmVuZGVyV2ViR0xcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBzZWUgUElYSS5EaXNwbGF5T2JqZWN0I3JlbmRlclxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgSW5zdGFuY2Ugb2YgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBQSVhJLkRpc3BsYXlPYmplY3QucHJvdG90eXBlLnJlbmRlcldlYkdMID0gZnVuY3Rpb24gcmVuZGVyV2ViR0wodGhpczogRGlzcGxheU9iamVjdCwgcmVuZGVyZXI6IFJlbmRlcmVyKTogdm9pZFxuICAgIHtcbiAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkRpc3BsYXlPYmplY3QucmVuZGVyV2ViR0wgbWV0aG9kIGhhcyBtb3ZlZCB0byBQSVhJLkRpc3BsYXlPYmplY3QucmVuZGVyJyk7XG5cbiAgICAgICAgdGhpcy5yZW5kZXIocmVuZGVyZXIpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIFBJWEkuQ29udGFpbmVyI3JlbmRlckFkdmFuY2VkV2ViR0xcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBzZWUgUElYSS5Db250YWluZXIjcmVuZGVyQWR2YW5jZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIEluc3RhbmNlIG9mIHJlbmRlcmVyXG4gICAgICovXG4gICAgUElYSS5Db250YWluZXIucHJvdG90eXBlLnJlbmRlckFkdmFuY2VkV2ViR0wgPSBmdW5jdGlvbiByZW5kZXJBZHZhbmNlZFdlYkdMKHRoaXM6IENvbnRhaW5lciwgcmVuZGVyZXI6IFJlbmRlcmVyKTogdm9pZFxuICAgIHtcbiAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkNvbnRhaW5lci5yZW5kZXJBZHZhbmNlZFdlYkdMIG1ldGhvZCBoYXMgbW92ZWQgdG8gUElYSS5Db250YWluZXIucmVuZGVyQWR2YW5jZWQnKTtcblxuICAgICAgICB0aGlzLnJlbmRlckFkdmFuY2VkKHJlbmRlcmVyKTtcbiAgICB9O1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUElYSS5zZXR0aW5ncywge1xuICAgICAgICAvKipcbiAgICAgICAgICogRGVmYXVsdCB0cmFuc2Zvcm0gdHlwZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAgICAgKiBAdHlwZSB7UElYSS5UUkFOU0ZPUk1fTU9ERX1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5UUkFOU0ZPUk1fTU9ERS5TVEFUSUNcbiAgICAgICAgICovXG4gICAgICAgIFRSQU5TRk9STV9NT0RFOiB7XG4gICAgICAgICAgICBnZXQoKTogbnVtYmVyXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLnNldHRpbmdzLlRSQU5TRk9STV9NT0RFIHByb3BlcnR5IGhhcyBiZWVuIHJlbW92ZWQnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldCgpOiB2b2lkXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLnNldHRpbmdzLlRSQU5TRk9STV9NT0RFIHByb3BlcnR5IGhhcyBiZWVuIHJlbW92ZWQnKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfSk7XG5cbiAgICBjb25zdCB7IEJhc2VUZXh0dXJlOiBCYXNlVGV4dHVyZUFueSB9ID0gUElYSTtcblxuICAgIC8qKlxuICAgICAqIEBtZXRob2QgbG9hZFNvdXJjZVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkJhc2VUZXh0dXJlI1xuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICovXG4gICAgQmFzZVRleHR1cmVBbnkucHJvdG90eXBlLmxvYWRTb3VyY2UgPSBmdW5jdGlvbiBsb2FkU291cmNlKGltYWdlOiBzdHJpbmcgfCBIVE1MSW1hZ2VFbGVtZW50KTogdm9pZFxuICAgIHtcbiAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkJhc2VUZXh0dXJlLmxvYWRTb3VyY2UgbWV0aG9kIGhhcyBiZWVuIGRlcHJlY2F0ZWQnKTtcblxuICAgICAgICBjb25zdCByZXNvdXJjZSA9IFBJWEkucmVzb3VyY2VzLmF1dG9EZXRlY3RSZXNvdXJjZShpbWFnZSk7XG5cbiAgICAgICAgcmVzb3VyY2UuaW50ZXJuYWwgPSB0cnVlO1xuXG4gICAgICAgIHRoaXMuc2V0UmVzb3VyY2UocmVzb3VyY2UpO1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIH07XG5cbiAgICBsZXQgYmFzZVRleHR1cmVJZERlcHJlY2F0aW9uID0gZmFsc2U7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhCYXNlVGV4dHVyZUFueS5wcm90b3R5cGUsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuYW1lIFBJWEkuQmFzZVRleHR1cmUjaGFzTG9hZGVkXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQHNlZSBQSVhJLkJhc2VUZXh0dXJlI3ZhbGlkXG4gICAgICAgICAqL1xuICAgICAgICBoYXNMb2FkZWQ6IHtcbiAgICAgICAgICAgIGdldCgpOiBib29sZWFuXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkJhc2VUZXh0dXJlLmhhc0xvYWRlZCBwcm9wZXJ0eSBoYXMgYmVlbiByZW1vdmVkLCB1c2UgUElYSS5CYXNlVGV4dHVyZS52YWxpZCcpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudmFsaWQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQG5hbWUgUElYSS5CYXNlVGV4dHVyZSNpbWFnZVVybFxuICAgICAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKiBAc2VlIFBJWEkucmVzb3VyY2VzLkltYWdlUmVzb3VyY2UjdXJsXG4gICAgICAgICAqL1xuICAgICAgICBpbWFnZVVybDoge1xuICAgICAgICAgICAgZ2V0KHRoaXM6IEJhc2VUZXh0dXJlKTogc3RyaW5nXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkJhc2VUZXh0dXJlLmltYWdlVXJsIHByb3BlcnR5IGhhcyBiZWVuIHJlbW92ZWQsIHVzZSBQSVhJLkJhc2VUZXh0dXJlLnJlc291cmNlLnVybCcpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuICh0aGlzLnJlc291cmNlIGFzIHJlc291cmNlcy5JbWFnZVJlc291cmNlKT8udXJsO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgc2V0KHRoaXM6IEJhc2VUZXh0dXJlLCBpbWFnZVVybDogc3RyaW5nKTogdm9pZFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5CYXNlVGV4dHVyZS5pbWFnZVVybCBwcm9wZXJ0eSBoYXMgYmVlbiByZW1vdmVkLCB1c2UgUElYSS5CYXNlVGV4dHVyZS5yZXNvdXJjZS51cmwnKTtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJlc291cmNlKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgKHRoaXMucmVzb3VyY2UgYXMgcmVzb3VyY2VzLkltYWdlUmVzb3VyY2UpLnVybCA9IGltYWdlVXJsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmFtZSBQSVhJLkJhc2VUZXh0dXJlI3NvdXJjZVxuICAgICAgICAgKiBAdHlwZSB7SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fFNWR0VsZW1lbnR9XG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAc2VlIFBJWEkucmVzb3VyY2VzLkJhc2VJbWFnZVJlc291cmNlI3NvdXJjZVxuICAgICAgICAgKi9cbiAgICAgICAgc291cmNlOiB7XG4gICAgICAgICAgICBnZXQodGhpczogQmFzZVRleHR1cmUpOiBJbWFnZVNvdXJjZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5CYXNlVGV4dHVyZS5zb3VyY2UgcHJvcGVydHkgaGFzIGJlZW4gbW92ZWQsIHVzZSBgUElYSS5CYXNlVGV4dHVyZS5yZXNvdXJjZS5zb3VyY2VgJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gKHRoaXMucmVzb3VyY2UgYXMgcmVzb3VyY2VzLkJhc2VJbWFnZVJlc291cmNlKS5zb3VyY2U7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0KHRoaXM6IEJhc2VUZXh0dXJlLCBzb3VyY2U6IEltYWdlU291cmNlKTogdm9pZFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5CYXNlVGV4dHVyZS5zb3VyY2UgcHJvcGVydHkgaGFzIGJlZW4gbW92ZWQsIHVzZSBgUElYSS5CYXNlVGV4dHVyZS5yZXNvdXJjZS5zb3VyY2VgICdcbiAgICAgICAgICAgICAgICAgICAgKyAnaWYgeW91IHdhbnQgdG8gc2V0IEhUTUxDYW52YXNFbGVtZW50LiBPdGhlcndpc2UsIGNyZWF0ZSBuZXcgQmFzZVRleHR1cmUuJyk7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yZXNvdXJjZSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICh0aGlzLnJlc291cmNlIGFzIHJlc291cmNlcy5CYXNlSW1hZ2VSZXNvdXJjZSkuc291cmNlID0gc291cmNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuYW1lIFBJWEkuQmFzZVRleHR1cmUjcHJlbXVsdGlwbHlBbHBoYVxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4yLjBcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBzZWUgUElYSS5CYXNlVGV4dHVyZSNhbHBoYU1vZGVcbiAgICAgICAgICovXG4gICAgICAgIHByZW11bHRpcGx5QWxwaGE6IHtcbiAgICAgICAgICAgIGdldCh0aGlzOiBCYXNlVGV4dHVyZSk6IGJvb2xlYW5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbignNS4yLjAnLCAnUElYSS5CYXNlVGV4dHVyZS5wcmVtdWx0aXBseUFscGhhIHByb3BlcnR5IGhhcyBiZWVuIGNoYW5nZWQgdG8gYGFscGhhTW9kZWAnXG4gICAgICAgICAgICAgICAgICAgICsgJywgc2VlIGBQSVhJLkFMUEhBX01PREVTYCcpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYWxwaGFNb2RlICE9PSAwO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldCh0aGlzOiBCYXNlVGV4dHVyZSwgdmFsdWU6IGJvb2xlYW4pOiB2b2lkXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24oJzUuMi4wJywgJ1BJWEkuQmFzZVRleHR1cmUucHJlbXVsdGlwbHlBbHBoYSBwcm9wZXJ0eSBoYXMgYmVlbiBjaGFuZ2VkIHRvIGBhbHBoYU1vZGVgJ1xuICAgICAgICAgICAgICAgICAgICArICcsIHNlZSBgUElYSS5BTFBIQV9NT0RFU2AnKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuYWxwaGFNb2RlID0gTnVtYmVyKHZhbHVlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCYXRjaCBsb2NhbCBmaWVsZCwgc3RvcmVzIGN1cnJlbnQgdGV4dHVyZSBsb2NhdGlvblxuICAgICAgICAgKlxuICAgICAgICAgKiBAbmFtZSBQSVhJLkJhc2VUZXh0dXJlI19pZFxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjIuMFxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKiBAc2VlIFBJWEkuQmFzZVRleHR1cmUjX2JhdGNoTG9jYXRpb25cbiAgICAgICAgICovXG4gICAgICAgIF9pZDoge1xuICAgICAgICAgICAgZ2V0KHRoaXM6IEJhc2VUZXh0dXJlKTogbnVtYmVyXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKCFiYXNlVGV4dHVyZUlkRGVwcmVjYXRpb24pXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAvLyAjcG9wZWx5c2hldjogVGhhdCBwcm9wZXJ0eSB3YXMgYSBob3QgcGxhY2UsIEkgZG9uJ3Qgd2FudCB0byBjYWxsIGRlcHJlY2F0aW9uIG1ldGhvZCBvbiBpdCBpZiBwb3NzaWJsZVxuICAgICAgICAgICAgICAgICAgICBkZXByZWNhdGlvbignNS4yLjAnLCAnUElYSS5CYXNlVGV4dHVyZS5faWQgYmF0Y2ggbG9jYWwgZmllbGQgaGFzIGJlZW4gY2hhbmdlZCB0byBgX2JhdGNoTG9jYXRpb25gJyk7XG4gICAgICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlSWREZXByZWNhdGlvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2JhdGNoTG9jYXRpb247XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0KHRoaXM6IEJhc2VUZXh0dXJlLCB2YWx1ZTogbnVtYmVyKTogdm9pZFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuX2JhdGNoTG9jYXRpb24gPSB2YWx1ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIGZyb21JbWFnZVxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5CYXNlVGV4dHVyZVxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQHNlZSBQSVhJLkJhc2VUZXh0dXJlLmZyb21cbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZUFueS5mcm9tSW1hZ2UgPSBmdW5jdGlvbiBmcm9tSW1hZ2UoXG4gICAgICAgIGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQsXG4gICAgICAgIGNyb3Nzb3JpZ2luOiBzdHJpbmcgfCBib29sZWFuLFxuICAgICAgICBzY2FsZU1vZGU6IG51bWJlcixcbiAgICAgICAgc2NhbGU6IG51bWJlcik6IEJhc2VUZXh0dXJlXG4gICAge1xuICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuQmFzZVRleHR1cmUuZnJvbUltYWdlIG1ldGhvZCBoYXMgYmVlbiByZXBsYWNlZCB3aXRoIFBJWEkuQmFzZVRleHR1cmUuZnJvbScpO1xuXG4gICAgICAgIGNvbnN0IHJlc291cmNlT3B0aW9ucyA9IHsgc2NhbGUsIGNyb3Nzb3JpZ2luIH07XG5cbiAgICAgICAgcmV0dXJuIEJhc2VUZXh0dXJlQW55LmZyb20oY2FudmFzLCB7IHNjYWxlTW9kZSwgcmVzb3VyY2VPcHRpb25zIH0pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIGZyb21DYW52YXNcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlcm9mIFBJWEkuQmFzZVRleHR1cmVcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBzZWUgUElYSS5CYXNlVGV4dHVyZS5mcm9tXG4gICAgICovXG4gICAgQmFzZVRleHR1cmVBbnkuZnJvbUNhbnZhcyA9IGZ1bmN0aW9uIGZyb21DYW52YXMoY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCwgc2NhbGVNb2RlOiBudW1iZXIpOiBCYXNlVGV4dHVyZVxuICAgIHtcbiAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkJhc2VUZXh0dXJlLmZyb21DYW52YXMgbWV0aG9kIGhhcyBiZWVuIHJlcGxhY2VkIHdpdGggUElYSS5CYXNlVGV4dHVyZS5mcm9tJyk7XG5cbiAgICAgICAgcmV0dXJuIEJhc2VUZXh0dXJlQW55LmZyb20oY2FudmFzLCB7IHNjYWxlTW9kZSB9KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBmcm9tU1ZHXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJvZiBQSVhJLkJhc2VUZXh0dXJlXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkuQmFzZVRleHR1cmUuZnJvbVxuICAgICAqL1xuICAgIEJhc2VUZXh0dXJlQW55LmZyb21TVkcgPSBmdW5jdGlvbiBmcm9tU1ZHKFxuICAgICAgICBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50LFxuICAgICAgICBjcm9zc29yaWdpbjogc3RyaW5nIHwgYm9vbGVhbixcbiAgICAgICAgc2NhbGVNb2RlOiBudW1iZXIsXG4gICAgICAgIHNjYWxlOiBudW1iZXIpOiBCYXNlVGV4dHVyZVxuICAgIHtcbiAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkJhc2VUZXh0dXJlLmZyb21TVkcgbWV0aG9kIGhhcyBiZWVuIHJlcGxhY2VkIHdpdGggUElYSS5CYXNlVGV4dHVyZS5mcm9tJyk7XG5cbiAgICAgICAgY29uc3QgcmVzb3VyY2VPcHRpb25zID0geyBzY2FsZSwgY3Jvc3NvcmlnaW4gfTtcblxuICAgICAgICByZXR1cm4gQmFzZVRleHR1cmVBbnkuZnJvbShjYW52YXMsIHsgc2NhbGVNb2RlLCByZXNvdXJjZU9wdGlvbnMgfSk7XG4gICAgfTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFBJWEkucmVzb3VyY2VzLkltYWdlUmVzb3VyY2UucHJvdG90eXBlLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmFtZSBQSVhJLnJlc291cmNlcy5JbWFnZVJlc291cmNlI3ByZW11bHRpcGx5QWxwaGFcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMi4wXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAc2VlIFBJWEkucmVzb3VyY2VzLkltYWdlUmVzb3VyY2UjYWxwaGFNb2RlXG4gICAgICAgICAqL1xuICAgICAgICBwcmVtdWx0aXBseUFscGhhOiB7XG4gICAgICAgICAgICBnZXQodGhpczogcmVzb3VyY2VzLkltYWdlUmVzb3VyY2UpOiBib29sZWFuXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24oJzUuMi4wJywgJ1BJWEkucmVzb3VyY2VzLkltYWdlUmVzb3VyY2UucHJlbXVsdGlwbHlBbHBoYSBwcm9wZXJ0eSAnXG4gICAgICAgICAgICAgICAgICAgICsgJ2hhcyBiZWVuIGNoYW5nZWQgdG8gYGFscGhhTW9kZWAsIHNlZSBgUElYSS5BTFBIQV9NT0RFU2AnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmFscGhhTW9kZSAhPT0gMDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQodGhpczogcmVzb3VyY2VzLkltYWdlUmVzb3VyY2UsIHZhbHVlOiBib29sZWFuKTogdm9pZFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKCc1LjIuMCcsICdQSVhJLnJlc291cmNlcy5JbWFnZVJlc291cmNlLnByZW11bHRpcGx5QWxwaGEgcHJvcGVydHkgJ1xuICAgICAgICAgICAgICAgICAgICArICdoYXMgYmVlbiBjaGFuZ2VkIHRvIGBhbHBoYU1vZGVgLCBzZWUgYFBJWEkuQUxQSEFfTU9ERVNgJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5hbHBoYU1vZGUgPSBOdW1iZXIodmFsdWUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEBtZXRob2QgUElYSS5Qb2ludCNjb3B5XG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkuUG9pbnQjY29weUZyb21cbiAgICAgKi9cbiAgICBQSVhJLlBvaW50LnByb3RvdHlwZS5jb3B5ID0gZnVuY3Rpb24gY29weSh0aGlzOiBQb2ludCwgcDogSVBvaW50KTogUG9pbnRcbiAgICB7XG4gICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5Qb2ludC5jb3B5IG1ldGhvZCBoYXMgYmVlbiByZXBsYWNlZCB3aXRoIFBJWEkuUG9pbnQuY29weUZyb20nKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5jb3B5RnJvbShwKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBQSVhJLk9ic2VydmFibGVQb2ludCNjb3B5XG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkuT2JzZXJ2YWJsZVBvaW50I2NvcHlGcm9tXG4gICAgICovXG4gICAgUElYSS5PYnNlcnZhYmxlUG9pbnQucHJvdG90eXBlLmNvcHkgPSBmdW5jdGlvbiBjb3B5KHRoaXM6IE9ic2VydmFibGVQb2ludCwgcDogSVBvaW50KTogT2JzZXJ2YWJsZVBvaW50XG4gICAge1xuICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuT2JzZXJ2YWJsZVBvaW50LmNvcHkgbWV0aG9kIGhhcyBiZWVuIHJlcGxhY2VkIHdpdGggUElYSS5PYnNlcnZhYmxlUG9pbnQuY29weUZyb20nKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5jb3B5RnJvbShwKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBQSVhJLlJlY3RhbmdsZSNjb3B5XG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkuUmVjdGFuZ2xlI2NvcHlGcm9tXG4gICAgICovXG4gICAgUElYSS5SZWN0YW5nbGUucHJvdG90eXBlLmNvcHkgPSBmdW5jdGlvbiBjb3B5KHRoaXM6IFJlY3RhbmdsZSwgcDogUmVjdGFuZ2xlKTogUmVjdGFuZ2xlXG4gICAge1xuICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuUmVjdGFuZ2xlLmNvcHkgbWV0aG9kIGhhcyBiZWVuIHJlcGxhY2VkIHdpdGggUElYSS5SZWN0YW5nbGUuY29weUZyb20nKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5jb3B5RnJvbShwKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBQSVhJLk1hdHJpeCNjb3B5XG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkuTWF0cml4I2NvcHlUb1xuICAgICAqL1xuICAgIFBJWEkuTWF0cml4LnByb3RvdHlwZS5jb3B5ID0gZnVuY3Rpb24gY29weSh0aGlzOiBNYXRyaXgsIHA6IE1hdHJpeCk6IE1hdHJpeFxuICAgIHtcbiAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLk1hdHJpeC5jb3B5IG1ldGhvZCBoYXMgYmVlbiByZXBsYWNlZCB3aXRoIFBJWEkuTWF0cml4LmNvcHlUbycpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmNvcHlUbyhwKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBQSVhJLnN5c3RlbXMuU3RhdGVTeXN0ZW0jc2V0U3RhdGVcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjEuMFxuICAgICAqIEBzZWUgUElYSS5zeXN0ZW1zLlN0YXRlU3lzdGVtI3NldFxuICAgICAqL1xuICAgIFBJWEkuc3lzdGVtcy5TdGF0ZVN5c3RlbS5wcm90b3R5cGUuc2V0U3RhdGUgPSBmdW5jdGlvbiBzZXRTdGF0ZSh0aGlzOiBzeXN0ZW1zLlN0YXRlU3lzdGVtLCBzOiBTdGF0ZSk6IHZvaWRcbiAgICB7XG4gICAgICAgIGRlcHJlY2F0aW9uKCd2NS4xLjAnLCAnU3RhdGVTeXN0ZW0uc2V0U3RhdGUgaGFzIGJlZW4gcmVuYW1lZCB0byBTdGF0ZVN5c3RlbS5zZXQnKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5zZXQocyk7XG4gICAgfTtcblxuICAgIE9iamVjdC5hc3NpZ24oUElYSS5zeXN0ZW1zLkZpbHRlclN5c3RlbS5wcm90b3R5cGUsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZXRob2QgUElYSS5GaWx0ZXJNYW5hZ2VyI2dldFJlbmRlclRhcmdldFxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKiBAc2VlIFBJWEkuc3lzdGVtcy5GaWx0ZXJTeXN0ZW0jZ2V0RmlsdGVyVGV4dHVyZVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0UmVuZGVyVGFyZ2V0KHRoaXM6IHN5c3RlbXMuRmlsdGVyU3lzdGVtLCBfY2xlYXI6IGJvb2xlYW4sIHJlc29sdXRpb246IG51bWJlcilcbiAgICAgICAge1xuICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsXG4gICAgICAgICAgICAgICAgJ1BJWEkuRmlsdGVyTWFuYWdlci5nZXRSZW5kZXJUYXJnZXQgbWV0aG9kIGhhcyBiZWVuIHJlcGxhY2VkIHdpdGggUElYSS5zeXN0ZW1zLkZpbHRlclN5c3RlbSNnZXRGaWx0ZXJUZXh0dXJlJ1xuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RmlsdGVyVGV4dHVyZShudWxsLCByZXNvbHV0aW9uKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1ldGhvZCBQSVhJLkZpbHRlck1hbmFnZXIjcmV0dXJuUmVuZGVyVGFyZ2V0XG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqIEBzZWUgUElYSS5zeXN0ZW1zLkZpbHRlclN5c3RlbSNyZXR1cm5GaWx0ZXJUZXh0dXJlXG4gICAgICAgICAqL1xuICAgICAgICByZXR1cm5SZW5kZXJUYXJnZXQodGhpczogc3lzdGVtcy5GaWx0ZXJTeXN0ZW0sIHJlbmRlclRleHR1cmU6IGFueSlcbiAgICAgICAge1xuICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsXG4gICAgICAgICAgICAgICAgJ1BJWEkuRmlsdGVyTWFuYWdlci5yZXR1cm5SZW5kZXJUYXJnZXQgbWV0aG9kIGhhcyBiZWVuIHJlcGxhY2VkIHdpdGggJ1xuICAgICAgICAgICAgICAgICsgJ1BJWEkuc3lzdGVtcy5GaWx0ZXJTeXN0ZW0ucmV0dXJuRmlsdGVyVGV4dHVyZSdcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIHRoaXMucmV0dXJuRmlsdGVyVGV4dHVyZShyZW5kZXJUZXh0dXJlKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1ldGhvZCBQSVhJLnN5c3RlbXMuRmlsdGVyU3lzdGVtI2NhbGN1bGF0ZVNjcmVlblNwYWNlTWF0cml4XG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG91dHB1dE1hdHJpeCAtIHRoZSBtYXRyaXggdG8gb3V0cHV0IHRvLlxuICAgICAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhlIG1hcHBlZCBtYXRyaXguXG4gICAgICAgICAqL1xuICAgICAgICBjYWxjdWxhdGVTY3JlZW5TcGFjZU1hdHJpeCh0aGlzOiBzeXN0ZW1zLkZpbHRlclN5c3RlbSwgb3V0cHV0TWF0cml4OiBhbnkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5zeXN0ZW1zLkZpbHRlclN5c3RlbS5jYWxjdWxhdGVTY3JlZW5TcGFjZU1hdHJpeCBtZXRob2QgaXMgcmVtb3ZlZCwgJ1xuICAgICAgICAgICAgICAgICsgJ3VzZSBgKHZUZXh0dXJlQ29vcmQgKiBpbnB1dFNpemUueHkpICsgb3V0cHV0RnJhbWUueHlgIGluc3RlYWQnKTtcblxuICAgICAgICAgICAgY29uc3QgbWFwcGVkTWF0cml4ID0gb3V0cHV0TWF0cml4LmlkZW50aXR5KCk7XG4gICAgICAgICAgICBjb25zdCB7IHNvdXJjZUZyYW1lLCBkZXN0aW5hdGlvbkZyYW1lIH0gPSB0aGlzLmFjdGl2ZVN0YXRlO1xuXG4gICAgICAgICAgICBtYXBwZWRNYXRyaXgudHJhbnNsYXRlKHNvdXJjZUZyYW1lLnggLyBkZXN0aW5hdGlvbkZyYW1lLndpZHRoLCBzb3VyY2VGcmFtZS55IC8gZGVzdGluYXRpb25GcmFtZS5oZWlnaHQpO1xuICAgICAgICAgICAgbWFwcGVkTWF0cml4LnNjYWxlKGRlc3RpbmF0aW9uRnJhbWUud2lkdGgsIGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0KTtcblxuICAgICAgICAgICAgcmV0dXJuIG1hcHBlZE1hdHJpeDtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1ldGhvZCBQSVhJLnN5c3RlbXMuRmlsdGVyU3lzdGVtI2NhbGN1bGF0ZU5vcm1hbGl6ZWRTY3JlZW5TcGFjZU1hdHJpeFxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBvdXRwdXRNYXRyaXggLSBUaGUgbWF0cml4IHRvIG91dHB1dCB0by5cbiAgICAgICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoZSBtYXBwZWQgbWF0cml4LlxuICAgICAgICAgKi9cbiAgICAgICAgY2FsY3VsYXRlTm9ybWFsaXplZFNjcmVlblNwYWNlTWF0cml4KHRoaXM6IHN5c3RlbXMuRmlsdGVyU3lzdGVtLCBvdXRwdXRNYXRyaXg6IE1hdHJpeCk6IE1hdHJpeFxuICAgICAgICB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuc3lzdGVtcy5GaWx0ZXJNYW5hZ2VyLmNhbGN1bGF0ZU5vcm1hbGl6ZWRTY3JlZW5TcGFjZU1hdHJpeCBtZXRob2QgaXMgcmVtb3ZlZCwgJ1xuICAgICAgICAgICAgICAgICsgJ3VzZSBgKCh2VGV4dHVyZUNvb3JkICogaW5wdXRTaXplLnh5KSArIG91dHB1dEZyYW1lLnh5KSAvIG91dHB1dEZyYW1lLnp3YCBpbnN0ZWFkLicpO1xuXG4gICAgICAgICAgICBjb25zdCB7IHNvdXJjZUZyYW1lLCBkZXN0aW5hdGlvbkZyYW1lIH0gPSB0aGlzLmFjdGl2ZVN0YXRlO1xuICAgICAgICAgICAgY29uc3QgbWFwcGVkTWF0cml4ID0gb3V0cHV0TWF0cml4LmlkZW50aXR5KCk7XG5cbiAgICAgICAgICAgIG1hcHBlZE1hdHJpeC50cmFuc2xhdGUoc291cmNlRnJhbWUueCAvIGRlc3RpbmF0aW9uRnJhbWUud2lkdGgsIHNvdXJjZUZyYW1lLnkgLyBkZXN0aW5hdGlvbkZyYW1lLmhlaWdodCk7XG5cbiAgICAgICAgICAgIGNvbnN0IHRyYW5zbGF0ZVNjYWxlWCA9IChkZXN0aW5hdGlvbkZyYW1lLndpZHRoIC8gc291cmNlRnJhbWUud2lkdGgpO1xuICAgICAgICAgICAgY29uc3QgdHJhbnNsYXRlU2NhbGVZID0gKGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0IC8gc291cmNlRnJhbWUuaGVpZ2h0KTtcblxuICAgICAgICAgICAgbWFwcGVkTWF0cml4LnNjYWxlKHRyYW5zbGF0ZVNjYWxlWCwgdHJhbnNsYXRlU2NhbGVZKTtcblxuICAgICAgICAgICAgcmV0dXJuIG1hcHBlZE1hdHJpeDtcbiAgICAgICAgfSxcbiAgICB9KTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFBJWEkuUmVuZGVyVGV4dHVyZS5wcm90b3R5cGUsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuYW1lIFBJWEkuUmVuZGVyVGV4dHVyZSNzb3VyY2VGcmFtZVxuICAgICAgICAgKiBAdHlwZSB7UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgc291cmNlRnJhbWU6IHtcbiAgICAgICAgICAgIGdldCh0aGlzOiBSZW5kZXJUZXh0dXJlKTogUmVjdGFuZ2xlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLlJlbmRlclRleHR1cmUuc291cmNlRnJhbWUgcHJvcGVydHkgaGFzIGJlZW4gcmVtb3ZlZCcpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmlsdGVyRnJhbWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQG5hbWUgUElYSS5SZW5kZXJUZXh0dXJlI3NpemVcbiAgICAgICAgICogQHR5cGUge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHNpemU6IHtcbiAgICAgICAgICAgIGdldCh0aGlzOiBSZW5kZXJUZXh0dXJlKTogUmVjdGFuZ2xlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLlJlbmRlclRleHR1cmUuc2l6ZSBwcm9wZXJ0eSBoYXMgYmVlbiByZW1vdmVkJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZnJhbWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQGNsYXNzIEJsdXJYRmlsdGVyXG4gICAgICogQG1lbWJlcm9mIFBJWEkuZmlsdGVyc1xuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQHNlZSBQSVhJLmZpbHRlcnMuQmx1ckZpbHRlclBhc3NcbiAgICAgKi9cbiAgICBjbGFzcyBCbHVyWEZpbHRlciBleHRlbmRzIFBJWEkuZmlsdGVycy5CbHVyRmlsdGVyUGFzc1xuICAgIHtcbiAgICAgICAgY29uc3RydWN0b3Ioc3RyZW5ndGg6IG51bWJlciwgcXVhbGl0eTogbnVtYmVyLCByZXNvbHV0aW9uOiBudW1iZXIsIGtlcm5lbFNpemU6IG51bWJlcilcbiAgICAgICAge1xuICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLmZpbHRlcnMuQmx1clhGaWx0ZXIgY2xhc3MgaXMgZGVwcmVjYXRlZCwgdXNlIFBJWEkuZmlsdGVycy5CbHVyRmlsdGVyUGFzcycpO1xuXG4gICAgICAgICAgICBzdXBlcih0cnVlLCBzdHJlbmd0aCwgcXVhbGl0eSwgcmVzb2x1dGlvbiwga2VybmVsU2l6ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAY2xhc3MgQmx1cllGaWx0ZXJcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5maWx0ZXJzXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkuZmlsdGVycy5CbHVyRmlsdGVyUGFzc1xuICAgICAqL1xuICAgIGNsYXNzIEJsdXJZRmlsdGVyIGV4dGVuZHMgUElYSS5maWx0ZXJzLkJsdXJGaWx0ZXJQYXNzXG4gICAge1xuICAgICAgICBjb25zdHJ1Y3RvcihzdHJlbmd0aDogbnVtYmVyLCBxdWFsaXR5OiBudW1iZXIsIHJlc29sdXRpb246IG51bWJlciwga2VybmVsU2l6ZTogbnVtYmVyKVxuICAgICAgICB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuZmlsdGVycy5CbHVyWUZpbHRlciBjbGFzcyBpcyBkZXByZWNhdGVkLCB1c2UgUElYSS5maWx0ZXJzLkJsdXJGaWx0ZXJQYXNzJyk7XG5cbiAgICAgICAgICAgIHN1cGVyKGZhbHNlLCBzdHJlbmd0aCwgcXVhbGl0eSwgcmVzb2x1dGlvbiwga2VybmVsU2l6ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBPYmplY3QuYXNzaWduKFBJWEkuZmlsdGVycywge1xuICAgICAgICBCbHVyWEZpbHRlcixcbiAgICAgICAgQmx1cllGaWx0ZXIsXG4gICAgfSk7XG5cbiAgICBjb25zdCB7XG4gICAgICAgIFNwcml0ZTogU3ByaXRlQW55LFxuICAgICAgICBUZXh0dXJlOiBUZXh0dXJlQW55LFxuICAgICAgICBHcmFwaGljczogR3JhcGhpY3NBbnkgfSA9IFBJWEk7XG5cbiAgICAvLyBTdXBwb3J0IGZvciBwaXhpLmpzLWxlZ2FjeSBiaWZ1cmNhdGlvblxuICAgIC8vIGdpdmUgdXNlcnMgYSBmcmllbmRseSBhc3Npc3QgdG8gdXNlIGxlZ2FjeVxuICAgIGlmICghR3JhcGhpY3NBbnkucHJvdG90eXBlLmdlbmVyYXRlQ2FudmFzVGV4dHVyZSlcbiAgICB7XG4gICAgICAgIEdyYXBoaWNzQW55LnByb3RvdHlwZS5nZW5lcmF0ZUNhbnZhc1RleHR1cmUgPSBmdW5jdGlvbiBnZW5lcmF0ZUNhbnZhc1RleHR1cmUoKTogdm9pZFxuICAgICAgICB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuR3JhcGhpY3MuZ2VuZXJhdGVDYW52YXNUZXh0dXJlIG1ldGhvZCBpcyBvbmx5IGF2YWlsYWJsZSBpbiBcInBpeGkuanMtbGVnYWN5XCInKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBtZW1iZXIge1BJWEkuR3JhcGhpY3N9IFBJWEkuR3JhcGhpY3MjZ3JhcGhpY3NEYXRhXG4gICAgICogQHNlZSBQSVhJLkdyYXBoaWNzI2dlb21ldHJ5XG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEdyYXBoaWNzQW55LnByb3RvdHlwZSwgJ2dyYXBoaWNzRGF0YScsIHtcbiAgICAgICAgZ2V0KHRoaXM6IEdyYXBoaWNzKTogR3JhcGhpY3NEYXRhW11cbiAgICAgICAge1xuICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkdyYXBoaWNzLmdyYXBoaWNzRGF0YSBwcm9wZXJ0eSBpcyBkZXByZWNhdGVkLCB1c2UgUElYSS5HcmFwaGljcy5nZW9tZXRyeS5ncmFwaGljc0RhdGEnKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2VvbWV0cnkuZ3JhcGhpY3NEYXRhO1xuICAgICAgICB9LFxuICAgIH0pO1xuXG4gICAgLy8gVXNlIHRoZXNlIHRvIGRlcHJlY2F0ZSBhbGwgdGhlIFNwcml0ZSBmcm9tKiBtZXRob2RzXG4gICAgZnVuY3Rpb24gc3ByaXRlRnJvbShuYW1lOiBzdHJpbmcsIHNvdXJjZTogc3RyaW5nLCBjcm9zc29yaWdpbjogc3RyaW5nIHwgYm9vbGVhbiwgc2NhbGVNb2RlOiBudW1iZXIpOiBTcHJpdGVcbiAgICB7XG4gICAgICAgIGRlcHJlY2F0aW9uKHY1LCBgUElYSS5TcHJpdGUuJHtuYW1lfSBtZXRob2QgaXMgZGVwcmVjYXRlZCwgdXNlIFBJWEkuU3ByaXRlLmZyb21gKTtcblxuICAgICAgICByZXR1cm4gU3ByaXRlQW55LmZyb20oc291cmNlLCB7XG4gICAgICAgICAgICByZXNvdXJjZU9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICBzY2FsZTogc2NhbGVNb2RlLFxuICAgICAgICAgICAgICAgIGNyb3Nzb3JpZ2luLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkuU3ByaXRlLmZyb21cbiAgICAgKiBAbWV0aG9kIFBJWEkuU3ByaXRlLmZyb21JbWFnZVxuICAgICAqIEByZXR1cm4ge1BJWEkuU3ByaXRlfVxuICAgICAqL1xuICAgIFNwcml0ZUFueS5mcm9tSW1hZ2UgPSBzcHJpdGVGcm9tLmJpbmQobnVsbCwgJ2Zyb21JbWFnZScpO1xuXG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAbWV0aG9kIFBJWEkuU3ByaXRlLmZyb21TVkdcbiAgICAgKiBAc2VlIFBJWEkuU3ByaXRlLmZyb21cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlNwcml0ZX1cbiAgICAgKi9cbiAgICBTcHJpdGVBbnkuZnJvbVNWRyA9IHNwcml0ZUZyb20uYmluZChudWxsLCAnZnJvbVNWRycpO1xuXG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAbWV0aG9kIFBJWEkuU3ByaXRlLmZyb21DYW52YXNcbiAgICAgKiBAc2VlIFBJWEkuU3ByaXRlLmZyb21cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlNwcml0ZX1cbiAgICAgKi9cbiAgICBTcHJpdGVBbnkuZnJvbUNhbnZhcyA9IHNwcml0ZUZyb20uYmluZChudWxsLCAnZnJvbUNhbnZhcycpO1xuXG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAbWV0aG9kIFBJWEkuU3ByaXRlLmZyb21WaWRlb1xuICAgICAqIEBzZWUgUElYSS5TcHJpdGUuZnJvbVxuICAgICAqIEByZXR1cm4ge1BJWEkuU3ByaXRlfVxuICAgICAqL1xuICAgIFNwcml0ZUFueS5mcm9tVmlkZW8gPSBzcHJpdGVGcm9tLmJpbmQobnVsbCwgJ2Zyb21WaWRlbycpO1xuXG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAbWV0aG9kIFBJWEkuU3ByaXRlLmZyb21GcmFtZVxuICAgICAqIEBzZWUgUElYSS5TcHJpdGUuZnJvbVxuICAgICAqIEByZXR1cm4ge1BJWEkuU3ByaXRlfVxuICAgICAqL1xuICAgIFNwcml0ZUFueS5mcm9tRnJhbWUgPSBzcHJpdGVGcm9tLmJpbmQobnVsbCwgJ2Zyb21GcmFtZScpO1xuXG4gICAgLy8gVXNlIHRoZXNlIHRvIGRlcHJlY2F0ZSBhbGwgdGhlIFRleHR1cmUgZnJvbSogbWV0aG9kc1xuICAgIGZ1bmN0aW9uIHRleHR1cmVGcm9tKG5hbWU6IHN0cmluZywgc291cmNlOiBzdHJpbmcsIGNyb3Nzb3JpZ2luOiBzdHJpbmcgfCBib29sZWFuLCBzY2FsZU1vZGU6IG51bWJlcik6IFRleHR1cmVcbiAgICB7XG4gICAgICAgIGRlcHJlY2F0aW9uKHY1LCBgUElYSS5UZXh0dXJlLiR7bmFtZX0gbWV0aG9kIGlzIGRlcHJlY2F0ZWQsIHVzZSBQSVhJLlRleHR1cmUuZnJvbWApO1xuXG4gICAgICAgIHJldHVybiBUZXh0dXJlQW55LmZyb20oc291cmNlLCB7XG4gICAgICAgICAgICByZXNvdXJjZU9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICBzY2FsZTogc2NhbGVNb2RlLFxuICAgICAgICAgICAgICAgIGNyb3Nzb3JpZ2luLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAbWV0aG9kIFBJWEkuVGV4dHVyZS5mcm9tSW1hZ2VcbiAgICAgKiBAc2VlIFBJWEkuVGV4dHVyZS5mcm9tXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0dXJlfVxuICAgICAqL1xuICAgIFRleHR1cmVBbnkuZnJvbUltYWdlID0gdGV4dHVyZUZyb20uYmluZChudWxsLCAnZnJvbUltYWdlJyk7XG5cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBtZXRob2QgUElYSS5UZXh0dXJlLmZyb21TVkdcbiAgICAgKiBAc2VlIFBJWEkuVGV4dHVyZS5mcm9tXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0dXJlfVxuICAgICAqL1xuICAgIFRleHR1cmVBbnkuZnJvbVNWRyA9IHRleHR1cmVGcm9tLmJpbmQobnVsbCwgJ2Zyb21TVkcnKTtcblxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQG1ldGhvZCBQSVhJLlRleHR1cmUuZnJvbUNhbnZhc1xuICAgICAqIEBzZWUgUElYSS5UZXh0dXJlLmZyb21cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHR1cmV9XG4gICAgICovXG4gICAgVGV4dHVyZUFueS5mcm9tQ2FudmFzID0gdGV4dHVyZUZyb20uYmluZChudWxsLCAnZnJvbUNhbnZhcycpO1xuXG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAbWV0aG9kIFBJWEkuVGV4dHVyZS5mcm9tVmlkZW9cbiAgICAgKiBAc2VlIFBJWEkuVGV4dHVyZS5mcm9tXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0dXJlfVxuICAgICAqL1xuICAgIFRleHR1cmVBbnkuZnJvbVZpZGVvID0gdGV4dHVyZUZyb20uYmluZChudWxsLCAnZnJvbVZpZGVvJyk7XG5cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBtZXRob2QgUElYSS5UZXh0dXJlLmZyb21GcmFtZVxuICAgICAqIEBzZWUgUElYSS5UZXh0dXJlLmZyb21cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHR1cmV9XG4gICAgICovXG4gICAgVGV4dHVyZUFueS5mcm9tRnJhbWUgPSB0ZXh0dXJlRnJvbS5iaW5kKG51bGwsICdmcm9tRnJhbWUnKTtcblxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn0gUElYSS5BYnN0cmFjdFJlbmRlcmVyI2F1dG9SZXNpemVcbiAgICAgKiBAc2VlIFBJWEkuQWJzdHJhY3RSZW5kZXJlciNhdXRvRGVuc2l0eVxuICAgICAqL1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQSVhJLkFic3RyYWN0UmVuZGVyZXIucHJvdG90eXBlLCAnYXV0b1Jlc2l6ZScsIHtcbiAgICAgICAgZ2V0KHRoaXM6IEFic3RyYWN0UmVuZGVyZXIpOiBib29sZWFuXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5BYnN0cmFjdFJlbmRlcmVyLmF1dG9SZXNpemUgcHJvcGVydHkgaXMgZGVwcmVjYXRlZCwgJ1xuICAgICAgICAgICAgICAgICsgJ3VzZSBQSVhJLkFic3RyYWN0UmVuZGVyZXIuYXV0b0RlbnNpdHknKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXV0b0RlbnNpdHk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldCh0aGlzOiBhbnksIHZhbHVlOiBib29sZWFuKTogdm9pZFxuICAgICAgICB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuQWJzdHJhY3RSZW5kZXJlci5hdXRvUmVzaXplIHByb3BlcnR5IGlzIGRlcHJlY2F0ZWQsICdcbiAgICAgICAgICAgICAgICArICd1c2UgUElYSS5BYnN0cmFjdFJlbmRlcmVyLmF1dG9EZW5zaXR5Jyk7XG5cbiAgICAgICAgICAgIHRoaXMuYXV0b0RlbnNpdHkgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQG1lbWJlciB7UElYSS5zeXN0ZW1zLlRleHR1cmVTeXN0ZW19IFBJWEkuUmVuZGVyZXIjdGV4dHVyZU1hbmFnZXJcbiAgICAgKiBAc2VlIFBJWEkuUmVuZGVyZXIjdGV4dHVyZVxuICAgICAqL1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQSVhJLlJlbmRlcmVyLnByb3RvdHlwZSwgJ3RleHR1cmVNYW5hZ2VyJywge1xuICAgICAgICBnZXQodGhpczogUmVuZGVyZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5SZW5kZXJlci50ZXh0dXJlTWFuYWdlciBwcm9wZXJ0eSBpcyBkZXByZWNhdGVkLCB1c2UgUElYSS5SZW5kZXJlci50ZXh0dXJlJyk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRleHR1cmU7XG4gICAgICAgIH0sXG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBAbmFtZXNwYWNlIFBJWEkudXRpbHMubWl4aW5zXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKi9cbiAgICBQSVhJLnV0aWxzLm1peGlucyA9IHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzLm1peGluc1xuICAgICAgICAgKiBAZnVuY3Rpb24gbWl4aW5cbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIG1peGluKCk6IHZvaWRcbiAgICAgICAge1xuICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLnV0aWxzLm1peGlucy5taXhpbiBmdW5jdGlvbiBpcyBubyBsb25nZXIgYXZhaWxhYmxlJyk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS51dGlscy5taXhpbnNcbiAgICAgICAgICogQGZ1bmN0aW9uIGRlbGF5TWl4aW5cbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIGRlbGF5TWl4aW4oKTogdm9pZFxuICAgICAgICB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkudXRpbHMubWl4aW5zLmRlbGF5TWl4aW4gZnVuY3Rpb24gaXMgbm8gbG9uZ2VyIGF2YWlsYWJsZScpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkudXRpbHMubWl4aW5zXG4gICAgICAgICAqIEBmdW5jdGlvbiBwZXJmb3JtTWl4aW5zXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBwZXJmb3JtTWl4aW5zKCk6IHZvaWRcbiAgICAgICAge1xuICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLnV0aWxzLm1peGlucy5wZXJmb3JtTWl4aW5zIGZ1bmN0aW9uIGlzIG5vIGxvbmdlciBhdmFpbGFibGUnKTtcbiAgICAgICAgfSxcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuQml0bWFwVGV4dFxuICAgICAqIEBtZW1iZXIge29iamVjdH0gZm9udFxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMy4wXG4gICAgICovXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFBJWEkuQml0bWFwVGV4dC5wcm90b3R5cGUsICdmb250Jywge1xuICAgICAgICBnZXQodGhpczogQml0bWFwVGV4dCk6IGFueVxuICAgICAgICB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbignNS4zLjAnLCAnUElYSS5CaXRtYXBUZXh0LmZvbnQgcHJvcGVydHkgaXMgZGVwcmVjYXRlZCwgJ1xuICAgICAgICAgICAgICAgICsgJ3VzZSBmb250TmFtZSwgZm9udFNpemUsIHRpbnQgb3IgYWxpZ24gcHJvcGVydGllcycpO1xuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMuX2ZvbnROYW1lLFxuICAgICAgICAgICAgICAgIHNpemU6IHRoaXMuX2ZvbnRTaXplLFxuICAgICAgICAgICAgICAgIHRpbnQ6IHRoaXMuX3RpbnQsXG4gICAgICAgICAgICAgICAgYWxpZ246IHRoaXMuX2FsaWduLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0KHRoaXM6IEJpdG1hcFRleHQsIHZhbHVlOiBhbnkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKCc1LjMuMCcsICdQSVhJLkJpdG1hcFRleHQuZm9udCBwcm9wZXJ0eSBpcyBkZXByZWNhdGVkLCAnXG4gICAgICAgICAgICAgICAgKyAndXNlIGZvbnROYW1lLCBmb250U2l6ZSwgdGludCBvciBhbGlnbiBwcm9wZXJ0aWVzJyk7XG5cbiAgICAgICAgICAgIGlmICghdmFsdWUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBzdHlsZTogYW55ID0geyBmb250OiB2YWx1ZSB9O1xuXG4gICAgICAgICAgICB0aGlzLl91cGdyYWRlU3R5bGUoc3R5bGUpO1xuXG4gICAgICAgICAgICBzdHlsZS5mb250U2l6ZSA9IHN0eWxlLmZvbnRTaXplIHx8IFBJWEkuQml0bWFwRm9udC5hdmFpbGFibGVbc3R5bGUuZm9udE5hbWVdLnNpemU7XG5cbiAgICAgICAgICAgIHRoaXMuX2ZvbnROYW1lID0gc3R5bGUuZm9udE5hbWU7XG4gICAgICAgICAgICB0aGlzLl9mb250U2l6ZSA9IHN0eWxlLmZvbnRTaXplO1xuXG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfSxcbiAgICB9KTtcbn1cbiIsImltcG9ydCB7IE1lc2hHZW9tZXRyeSB9IGZyb20gJ0BwaXhpL21lc2gnO1xuXG5leHBvcnQgY2xhc3MgUGxhbmVHZW9tZXRyeSBleHRlbmRzIE1lc2hHZW9tZXRyeVxue1xuICAgIHB1YmxpYyBzZWdXaWR0aDogbnVtYmVyO1xuICAgIHB1YmxpYyBzZWdIZWlnaHQ6IG51bWJlcjtcbiAgICBwdWJsaWMgd2lkdGg6IG51bWJlcjtcbiAgICBwdWJsaWMgaGVpZ2h0OiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3Rvcih3aWR0aCA9IDEwMCwgaGVpZ2h0ID0gMTAwLCBzZWdXaWR0aCA9IDEwLCBzZWdIZWlnaHQgPSAxMClcbiAgICB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgdGhpcy5zZWdXaWR0aCA9IHNlZ1dpZHRoO1xuICAgICAgICB0aGlzLnNlZ0hlaWdodCA9IHNlZ0hlaWdodDtcblxuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgICAgIHRoaXMuYnVpbGQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZWZyZXNoZXMgcGxhbmUgY29vcmRpbmF0ZXNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGJ1aWxkKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIGNvbnN0IHRvdGFsID0gdGhpcy5zZWdXaWR0aCAqIHRoaXMuc2VnSGVpZ2h0O1xuICAgICAgICBjb25zdCB2ZXJ0cyA9IFtdO1xuICAgICAgICBjb25zdCB1dnMgPSBbXTtcbiAgICAgICAgY29uc3QgaW5kaWNlcyA9IFtdO1xuXG4gICAgICAgIGNvbnN0IHNlZ21lbnRzWCA9IHRoaXMuc2VnV2lkdGggLSAxO1xuICAgICAgICBjb25zdCBzZWdtZW50c1kgPSB0aGlzLnNlZ0hlaWdodCAtIDE7XG5cbiAgICAgICAgY29uc3Qgc2l6ZVggPSAodGhpcy53aWR0aCkgLyBzZWdtZW50c1g7XG4gICAgICAgIGNvbnN0IHNpemVZID0gKHRoaXMuaGVpZ2h0KSAvIHNlZ21lbnRzWTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRvdGFsOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHggPSAoaSAlIHRoaXMuc2VnV2lkdGgpO1xuICAgICAgICAgICAgY29uc3QgeSA9ICgoaSAvIHRoaXMuc2VnV2lkdGgpIHwgMCk7XG5cbiAgICAgICAgICAgIHZlcnRzLnB1c2goeCAqIHNpemVYLCB5ICogc2l6ZVkpO1xuICAgICAgICAgICAgdXZzLnB1c2goeCAvIHNlZ21lbnRzWCwgeSAvIHNlZ21lbnRzWSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB0b3RhbFN1YiA9IHNlZ21lbnRzWCAqIHNlZ21lbnRzWTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRvdGFsU3ViOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHhwb3MgPSBpICUgc2VnbWVudHNYO1xuICAgICAgICAgICAgY29uc3QgeXBvcyA9IChpIC8gc2VnbWVudHNYKSB8IDA7XG5cbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gKHlwb3MgKiB0aGlzLnNlZ1dpZHRoKSArIHhwb3M7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZTIgPSAoeXBvcyAqIHRoaXMuc2VnV2lkdGgpICsgeHBvcyArIDE7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZTMgPSAoKHlwb3MgKyAxKSAqIHRoaXMuc2VnV2lkdGgpICsgeHBvcztcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlNCA9ICgoeXBvcyArIDEpICogdGhpcy5zZWdXaWR0aCkgKyB4cG9zICsgMTtcblxuICAgICAgICAgICAgaW5kaWNlcy5wdXNoKHZhbHVlLCB2YWx1ZTIsIHZhbHVlMyxcbiAgICAgICAgICAgICAgICB2YWx1ZTIsIHZhbHVlNCwgdmFsdWUzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYnVmZmVyc1swXS5kYXRhID0gbmV3IEZsb2F0MzJBcnJheSh2ZXJ0cyk7XG4gICAgICAgIHRoaXMuYnVmZmVyc1sxXS5kYXRhID0gbmV3IEZsb2F0MzJBcnJheSh1dnMpO1xuICAgICAgICB0aGlzLmluZGV4QnVmZmVyLmRhdGEgPSBuZXcgVWludDE2QXJyYXkoaW5kaWNlcyk7XG5cbiAgICAgICAgLy8gZW5zdXJlIHRoYXQgdGhlIGNoYW5nZXMgYXJlIHVwbG9hZGVkXG4gICAgICAgIHRoaXMuYnVmZmVyc1swXS51cGRhdGUoKTtcbiAgICAgICAgdGhpcy5idWZmZXJzWzFdLnVwZGF0ZSgpO1xuICAgICAgICB0aGlzLmluZGV4QnVmZmVyLnVwZGF0ZSgpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IE1lc2hHZW9tZXRyeSB9IGZyb20gJ0BwaXhpL21lc2gnO1xuaW1wb3J0IHR5cGUgeyBJUG9pbnQgfSBmcm9tICdAcGl4aS9tYXRoJztcblxuLyoqXG4gKiBSb3BlR2VvbWV0cnkgYWxsb3dzIHlvdSB0byBkcmF3IGEgZ2VvbWV0cnkgYWNyb3NzIHNldmVyYWwgcG9pbnRzIGFuZCB0aGVuIG1hbmlwdWxhdGUgdGhlc2UgcG9pbnRzLlxuICpcbiAqIGBgYGpzXG4gKiBmb3IgKGxldCBpID0gMDsgaSA8IDIwOyBpKyspIHtcbiAqICAgICBwb2ludHMucHVzaChuZXcgUElYSS5Qb2ludChpICogNTAsIDApKTtcbiAqIH07XG4gKiBjb25zdCByb3BlID0gbmV3IFBJWEkuUm9wZUdlb21ldHJ5KDEwMCwgcG9pbnRzKTtcbiAqIGBgYFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5NZXNoR2VvbWV0cnlcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKlxuICovXG5leHBvcnQgY2xhc3MgUm9wZUdlb21ldHJ5IGV4dGVuZHMgTWVzaEdlb21ldHJ5XG57XG4gICAgcHVibGljIHBvaW50czogSVBvaW50W107XG4gICAgcHVibGljIHJlYWRvbmx5IHRleHR1cmVTY2FsZTogbnVtYmVyO1xuICAgIF93aWR0aDogbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt3aWR0aD0yMDBdIC0gVGhlIHdpZHRoIChpLmUuLCB0aGlja25lc3MpIG9mIHRoZSByb3BlLlxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludFtdfSBbcG9pbnRzXSAtIEFuIGFycmF5IG9mIHtAbGluayBQSVhJLlBvaW50fSBvYmplY3RzIHRvIGNvbnN0cnVjdCB0aGlzIHJvcGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt0ZXh0dXJlU2NhbGU9MF0gLSBCeSBkZWZhdWx0IHRoZSByb3BlIHRleHR1cmUgd2lsbCBiZSBzdHJldGNoZWQgdG8gbWF0Y2hcbiAgICAgKiAgICAgcm9wZSBsZW5ndGguIElmIHRleHR1cmVTY2FsZSBpcyBwb3NpdGl2ZSB0aGlzIHZhbHVlIHdpbGwgYmUgdHJlYXRlZCBhcyBhIHNjYWxpbmdcbiAgICAgKiAgICAgZmFjdG9yIGFuZCB0aGUgdGV4dHVyZSB3aWxsIHByZXNlcnZlIGl0cyBhc3BlY3QgcmF0aW8gaW5zdGVhZC4gVG8gY3JlYXRlIGEgdGlsaW5nIHJvcGVcbiAgICAgKiAgICAgc2V0IGJhc2VUZXh0dXJlLndyYXBNb2RlIHRvIHtAbGluayBQSVhJLldSQVBfTU9ERVMuUkVQRUFUfSBhbmQgdXNlIGEgcG93ZXIgb2YgdHdvIHRleHR1cmUsXG4gICAgICogICAgIHRoZW4gc2V0IHRleHR1cmVTY2FsZT0xIHRvIGtlZXAgdGhlIG9yaWdpbmFsIHRleHR1cmUgcGl4ZWwgc2l6ZS5cbiAgICAgKiAgICAgSW4gb3JkZXIgdG8gcmVkdWNlIGFscGhhIGNoYW5uZWwgYXJ0aWZhY3RzIHByb3ZpZGUgYSBsYXJnZXIgdGV4dHVyZSBhbmQgZG93bnNhbXBsZSAtXG4gICAgICogICAgIGkuZS4gc2V0IHRleHR1cmVTY2FsZT0wLjUgdG8gc2NhbGUgaXQgZG93biB0d2ljZS5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih3aWR0aCA9IDIwMCwgcG9pbnRzOiBJUG9pbnRbXSwgdGV4dHVyZVNjYWxlID0gMClcbiAgICB7XG4gICAgICAgIHN1cGVyKG5ldyBGbG9hdDMyQXJyYXkocG9pbnRzLmxlbmd0aCAqIDQpLFxuICAgICAgICAgICAgbmV3IEZsb2F0MzJBcnJheShwb2ludHMubGVuZ3RoICogNCksXG4gICAgICAgICAgICBuZXcgVWludDE2QXJyYXkoKHBvaW50cy5sZW5ndGggLSAxKSAqIDYpKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQW4gYXJyYXkgb2YgcG9pbnRzIHRoYXQgZGV0ZXJtaW5lIHRoZSByb3BlXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUG9pbnRbXX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucG9pbnRzID0gcG9pbnRzO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggKGkuZS4sIHRoaWNrbmVzcykgb2YgdGhlIHJvcGUuXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRPbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl93aWR0aCA9IHdpZHRoO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSb3BlIHRleHR1cmUgc2NhbGUsIGlmIHplcm8gdGhlbiB0aGUgcm9wZSB0ZXh0dXJlIGlzIHN0cmV0Y2hlZC5cbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZE9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGV4dHVyZVNjYWxlID0gdGV4dHVyZVNjYWxlO1xuXG4gICAgICAgIHRoaXMuYnVpbGQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgd2lkdGggKGkuZS4sIHRoaWNrbmVzcykgb2YgdGhlIHJvcGUuXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEByZWFkT25seVxuICAgICAqL1xuICAgIGdldCB3aWR0aCgpOiBudW1iZXJcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl93aWR0aDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZWZyZXNoZXMgUm9wZSBpbmRpY2VzIGFuZCB1dnNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHByaXZhdGUgYnVpbGQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgY29uc3QgcG9pbnRzID0gdGhpcy5wb2ludHM7XG5cbiAgICAgICAgaWYgKCFwb2ludHMpIHJldHVybjtcblxuICAgICAgICBjb25zdCB2ZXJ0ZXhCdWZmZXIgPSB0aGlzLmdldEJ1ZmZlcignYVZlcnRleFBvc2l0aW9uJyk7XG4gICAgICAgIGNvbnN0IHV2QnVmZmVyID0gdGhpcy5nZXRCdWZmZXIoJ2FUZXh0dXJlQ29vcmQnKTtcbiAgICAgICAgY29uc3QgaW5kZXhCdWZmZXIgPSB0aGlzLmdldEluZGV4KCk7XG5cbiAgICAgICAgLy8gaWYgdG9vIGxpdHRsZSBwb2ludHMsIG9yIHRleHR1cmUgaGFzbid0IGdvdCBVVnMgc2V0IHlldCBqdXN0IG1vdmUgb24uXG4gICAgICAgIGlmIChwb2ludHMubGVuZ3RoIDwgMSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaWYgdGhlIG51bWJlciBvZiBwb2ludHMgaGFzIGNoYW5nZWQgd2Ugd2lsbCBuZWVkIHRvIHJlY3JlYXRlIHRoZSBhcnJheWJ1ZmZlcnNcbiAgICAgICAgaWYgKHZlcnRleEJ1ZmZlci5kYXRhLmxlbmd0aCAvIDQgIT09IHBvaW50cy5sZW5ndGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZlcnRleEJ1ZmZlci5kYXRhID0gbmV3IEZsb2F0MzJBcnJheShwb2ludHMubGVuZ3RoICogNCk7XG4gICAgICAgICAgICB1dkJ1ZmZlci5kYXRhID0gbmV3IEZsb2F0MzJBcnJheShwb2ludHMubGVuZ3RoICogNCk7XG4gICAgICAgICAgICBpbmRleEJ1ZmZlci5kYXRhID0gbmV3IFVpbnQxNkFycmF5KChwb2ludHMubGVuZ3RoIC0gMSkgKiA2KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHV2cyA9IHV2QnVmZmVyLmRhdGE7XG4gICAgICAgIGNvbnN0IGluZGljZXMgPSBpbmRleEJ1ZmZlci5kYXRhO1xuXG4gICAgICAgIHV2c1swXSA9IDA7XG4gICAgICAgIHV2c1sxXSA9IDA7XG4gICAgICAgIHV2c1syXSA9IDA7XG4gICAgICAgIHV2c1szXSA9IDE7XG5cbiAgICAgICAgbGV0IGFtb3VudCA9IDA7XG4gICAgICAgIGxldCBwcmV2ID0gcG9pbnRzWzBdO1xuICAgICAgICBjb25zdCB0ZXh0dXJlV2lkdGggPSB0aGlzLl93aWR0aCAqIHRoaXMudGV4dHVyZVNjYWxlO1xuICAgICAgICBjb25zdCB0b3RhbCA9IHBvaW50cy5sZW5ndGg7IC8vIC0gMTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRvdGFsOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIHRpbWUgdG8gZG8gc29tZSBzbWFydCBkcmF3aW5nIVxuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBpICogNDtcblxuICAgICAgICAgICAgaWYgKHRoaXMudGV4dHVyZVNjYWxlID4gMClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBjYWxjdWxhdGUgcGl4ZWwgZGlzdGFuY2UgZnJvbSBwcmV2aW91cyBwb2ludFxuICAgICAgICAgICAgICAgIGNvbnN0IGR4ID0gcHJldi54IC0gcG9pbnRzW2ldLng7XG4gICAgICAgICAgICAgICAgY29uc3QgZHkgPSBwcmV2LnkgLSBwb2ludHNbaV0ueTtcbiAgICAgICAgICAgICAgICBjb25zdCBkaXN0YW5jZSA9IE1hdGguc3FydCgoZHggKiBkeCkgKyAoZHkgKiBkeSkpO1xuXG4gICAgICAgICAgICAgICAgcHJldiA9IHBvaW50c1tpXTtcbiAgICAgICAgICAgICAgICBhbW91bnQgKz0gZGlzdGFuY2UgLyB0ZXh0dXJlV2lkdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gc3RyZXRjaCB0ZXh0dXJlXG4gICAgICAgICAgICAgICAgYW1vdW50ID0gaSAvICh0b3RhbCAtIDEpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB1dnNbaW5kZXhdID0gYW1vdW50O1xuICAgICAgICAgICAgdXZzW2luZGV4ICsgMV0gPSAwO1xuXG4gICAgICAgICAgICB1dnNbaW5kZXggKyAyXSA9IGFtb3VudDtcbiAgICAgICAgICAgIHV2c1tpbmRleCArIDNdID0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBpbmRleENvdW50ID0gMDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRvdGFsIC0gMTsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IGkgKiAyO1xuXG4gICAgICAgICAgICBpbmRpY2VzW2luZGV4Q291bnQrK10gPSBpbmRleDtcbiAgICAgICAgICAgIGluZGljZXNbaW5kZXhDb3VudCsrXSA9IGluZGV4ICsgMTtcbiAgICAgICAgICAgIGluZGljZXNbaW5kZXhDb3VudCsrXSA9IGluZGV4ICsgMjtcblxuICAgICAgICAgICAgaW5kaWNlc1tpbmRleENvdW50KytdID0gaW5kZXggKyAyO1xuICAgICAgICAgICAgaW5kaWNlc1tpbmRleENvdW50KytdID0gaW5kZXggKyAxO1xuICAgICAgICAgICAgaW5kaWNlc1tpbmRleENvdW50KytdID0gaW5kZXggKyAzO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZW5zdXJlIHRoYXQgdGhlIGNoYW5nZXMgYXJlIHVwbG9hZGVkXG4gICAgICAgIHV2QnVmZmVyLnVwZGF0ZSgpO1xuICAgICAgICBpbmRleEJ1ZmZlci51cGRhdGUoKTtcblxuICAgICAgICB0aGlzLnVwZGF0ZVZlcnRpY2VzKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogcmVmcmVzaGVzIHZlcnRpY2VzIG9mIFJvcGUgbWVzaFxuICAgICAqL1xuICAgIHB1YmxpYyB1cGRhdGVWZXJ0aWNlcygpOiB2b2lkXG4gICAge1xuICAgICAgICBjb25zdCBwb2ludHMgPSB0aGlzLnBvaW50cztcblxuICAgICAgICBpZiAocG9pbnRzLmxlbmd0aCA8IDEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBsYXN0UG9pbnQgPSBwb2ludHNbMF07XG4gICAgICAgIGxldCBuZXh0UG9pbnQ7XG4gICAgICAgIGxldCBwZXJwWCA9IDA7XG4gICAgICAgIGxldCBwZXJwWSA9IDA7XG5cbiAgICAgICAgY29uc3QgdmVydGljZXMgPSB0aGlzLmJ1ZmZlcnNbMF0uZGF0YTtcbiAgICAgICAgY29uc3QgdG90YWwgPSBwb2ludHMubGVuZ3RoO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdG90YWw7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgcG9pbnQgPSBwb2ludHNbaV07XG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IGkgKiA0O1xuXG4gICAgICAgICAgICBpZiAoaSA8IHBvaW50cy5sZW5ndGggLSAxKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5leHRQb2ludCA9IHBvaW50c1tpICsgMV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmV4dFBvaW50ID0gcG9pbnQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHBlcnBZID0gLShuZXh0UG9pbnQueCAtIGxhc3RQb2ludC54KTtcbiAgICAgICAgICAgIHBlcnBYID0gbmV4dFBvaW50LnkgLSBsYXN0UG9pbnQueTtcblxuICAgICAgICAgICAgbGV0IHJhdGlvID0gKDEgLSAoaSAvICh0b3RhbCAtIDEpKSkgKiAxMDtcblxuICAgICAgICAgICAgaWYgKHJhdGlvID4gMSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByYXRpbyA9IDE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHBlcnBMZW5ndGggPSBNYXRoLnNxcnQoKHBlcnBYICogcGVycFgpICsgKHBlcnBZICogcGVycFkpKTtcbiAgICAgICAgICAgIGNvbnN0IG51bSA9IHRoaXMudGV4dHVyZVNjYWxlID4gMCA/IHRoaXMudGV4dHVyZVNjYWxlICogdGhpcy5fd2lkdGggLyAyIDogdGhpcy5fd2lkdGggLyAyO1xuXG4gICAgICAgICAgICBwZXJwWCAvPSBwZXJwTGVuZ3RoO1xuICAgICAgICAgICAgcGVycFkgLz0gcGVycExlbmd0aDtcblxuICAgICAgICAgICAgcGVycFggKj0gbnVtO1xuICAgICAgICAgICAgcGVycFkgKj0gbnVtO1xuXG4gICAgICAgICAgICB2ZXJ0aWNlc1tpbmRleF0gPSBwb2ludC54ICsgcGVycFg7XG4gICAgICAgICAgICB2ZXJ0aWNlc1tpbmRleCArIDFdID0gcG9pbnQueSArIHBlcnBZO1xuICAgICAgICAgICAgdmVydGljZXNbaW5kZXggKyAyXSA9IHBvaW50LnggLSBwZXJwWDtcbiAgICAgICAgICAgIHZlcnRpY2VzW2luZGV4ICsgM10gPSBwb2ludC55IC0gcGVycFk7XG5cbiAgICAgICAgICAgIGxhc3RQb2ludCA9IHBvaW50O1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5idWZmZXJzWzBdLnVwZGF0ZSgpO1xuICAgIH1cblxuICAgIHB1YmxpYyB1cGRhdGUoKTogdm9pZFxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMudGV4dHVyZVNjYWxlID4gMClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5idWlsZCgpOyAvLyB3ZSBuZWVkIHRvIHVwZGF0ZSBVVnNcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVmVydGljZXMoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7IE1lc2gsIE1lc2hNYXRlcmlhbCB9IGZyb20gJ0BwaXhpL21lc2gnO1xuaW1wb3J0IHsgV1JBUF9NT0RFUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBSb3BlR2VvbWV0cnkgfSBmcm9tICcuL2dlb21ldHJ5L1JvcGVHZW9tZXRyeSc7XG5cbmltcG9ydCB0eXBlIHsgVGV4dHVyZSwgUmVuZGVyZXIgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB0eXBlIHsgSVBvaW50IH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5cbi8qKlxuICogVGhlIHJvcGUgYWxsb3dzIHlvdSB0byBkcmF3IGEgdGV4dHVyZSBhY3Jvc3Mgc2V2ZXJhbCBwb2ludHMgYW5kIHRoZW4gbWFuaXB1bGF0ZSB0aGVzZSBwb2ludHNcbiAqXG4gKmBgYGpzXG4gKiBmb3IgKGxldCBpID0gMDsgaSA8IDIwOyBpKyspIHtcbiAqICAgICBwb2ludHMucHVzaChuZXcgUElYSS5Qb2ludChpICogNTAsIDApKTtcbiAqIH07XG4gKiBsZXQgcm9wZSA9IG5ldyBQSVhJLlNpbXBsZVJvcGUoUElYSS5UZXh0dXJlLmZyb20oXCJzbmFrZS5wbmdcIiksIHBvaW50cyk7XG4gKiAgYGBgXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLk1lc2hcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKlxuICovXG5leHBvcnQgY2xhc3MgU2ltcGxlUm9wZSBleHRlbmRzIE1lc2hcbntcbiAgICBwdWJsaWMgYXV0b1VwZGF0ZTogYm9vbGVhbjtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gVGhlIHRleHR1cmUgdG8gdXNlIG9uIHRoZSByb3BlLlxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludFtdfSBwb2ludHMgLSBBbiBhcnJheSBvZiB7QGxpbmsgUElYSS5Qb2ludH0gb2JqZWN0cyB0byBjb25zdHJ1Y3QgdGhpcyByb3BlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbdGV4dHVyZVNjYWxlPTBdIC0gT3B0aW9uYWwuIFBvc2l0aXZlIHZhbHVlcyBzY2FsZSByb3BlIHRleHR1cmVcbiAgICAgKiBrZWVwaW5nIGl0cyBhc3BlY3QgcmF0aW8uIFlvdSBjYW4gcmVkdWNlIGFscGhhIGNoYW5uZWwgYXJ0aWZhY3RzIGJ5IHByb3ZpZGluZyBhIGxhcmdlciB0ZXh0dXJlXG4gICAgICogYW5kIGRvd25zYW1wbGluZyBoZXJlLiBJZiBzZXQgdG8gemVybywgdGV4dHVyZSB3aWxsIGJlIHN0cmVjaGVkIGluc3RlYWQuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IodGV4dHVyZTogVGV4dHVyZSwgcG9pbnRzOiBJUG9pbnRbXSwgdGV4dHVyZVNjYWxlID0gMClcbiAgICB7XG4gICAgICAgIGNvbnN0IHJvcGVHZW9tZXRyeSA9IG5ldyBSb3BlR2VvbWV0cnkodGV4dHVyZS5oZWlnaHQsIHBvaW50cywgdGV4dHVyZVNjYWxlKTtcbiAgICAgICAgY29uc3QgbWVzaE1hdGVyaWFsID0gbmV3IE1lc2hNYXRlcmlhbCh0ZXh0dXJlKTtcblxuICAgICAgICBpZiAodGV4dHVyZVNjYWxlID4gMClcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gYXR0ZW1wdCB0byBzZXQgVVYgd3JhcHBpbmcsIHdpbGwgZmFpbCBvbiBub24tcG93ZXIgb2YgdHdvIHRleHR1cmVzXG4gICAgICAgICAgICB0ZXh0dXJlLmJhc2VUZXh0dXJlLndyYXBNb2RlID0gV1JBUF9NT0RFUy5SRVBFQVQ7XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIocm9wZUdlb21ldHJ5LCBtZXNoTWF0ZXJpYWwpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiByZS1jYWxjdWxhdGUgdmVydGljZXMgYnkgcm9wZSBwb2ludHMgZWFjaCBmcmFtZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hdXRvVXBkYXRlID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBfcmVuZGVyKHJlbmRlcmVyOiBSZW5kZXJlcik6IHZvaWRcbiAgICB7XG4gICAgICAgIGNvbnN0IGdlb21ldHJ5OiBSb3BlR2VvbWV0cnkgPSB0aGlzLmdlb21ldHJ5IGFzIGFueTtcblxuICAgICAgICBpZiAodGhpcy5hdXRvVXBkYXRlIHx8IGdlb21ldHJ5Ll93aWR0aCAhPT0gdGhpcy5zaGFkZXIudGV4dHVyZS5oZWlnaHQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdlb21ldHJ5Ll93aWR0aCA9IHRoaXMuc2hhZGVyLnRleHR1cmUuaGVpZ2h0O1xuICAgICAgICAgICAgZ2VvbWV0cnkudXBkYXRlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBzdXBlci5fcmVuZGVyKHJlbmRlcmVyKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBUZXh0dXJlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBNZXNoLCBNZXNoTWF0ZXJpYWwgfSBmcm9tICdAcGl4aS9tZXNoJztcbmltcG9ydCB7IFBsYW5lR2VvbWV0cnkgfSBmcm9tICcuL2dlb21ldHJ5L1BsYW5lR2VvbWV0cnknO1xuXG5pbXBvcnQgdHlwZXsgUmVuZGVyZXIgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB0eXBlIHsgSURlc3Ryb3lPcHRpb25zIH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5cbi8qKlxuICogVGhlIFNpbXBsZVBsYW5lIGFsbG93cyB5b3UgdG8gZHJhdyBhIHRleHR1cmUgYWNyb3NzIHNldmVyYWwgcG9pbnRzIGFuZCB0aGVuIG1hbmlwdWxhdGUgdGhlc2UgcG9pbnRzXG4gKlxuICpgYGBqc1xuICogZm9yIChsZXQgaSA9IDA7IGkgPCAyMDsgaSsrKSB7XG4gKiAgICAgcG9pbnRzLnB1c2gobmV3IFBJWEkuUG9pbnQoaSAqIDUwLCAwKSk7XG4gKiB9O1xuICogbGV0IFNpbXBsZVBsYW5lID0gbmV3IFBJWEkuU2ltcGxlUGxhbmUoUElYSS5UZXh0dXJlLmZyb20oXCJzbmFrZS5wbmdcIiksIHBvaW50cyk7XG4gKiAgYGBgXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLk1lc2hcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKlxuICovXG5leHBvcnQgY2xhc3MgU2ltcGxlUGxhbmUgZXh0ZW5kcyBNZXNoXG57XG4gICAgcHJvdGVjdGVkIF90ZXh0dXJlSUQ6IG51bWJlcjtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gVGhlIHRleHR1cmUgdG8gdXNlIG9uIHRoZSBTaW1wbGVQbGFuZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdmVydGljZXNYIC0gVGhlIG51bWJlciBvZiB2ZXJ0aWNlcyBpbiB0aGUgeC1heGlzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHZlcnRpY2VzWSAtIFRoZSBudW1iZXIgb2YgdmVydGljZXMgaW4gdGhlIHktYXhpc1xuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHRleHR1cmU6IFRleHR1cmUsIHZlcnRpY2VzWDogbnVtYmVyLCB2ZXJ0aWNlc1k6IG51bWJlcilcbiAgICB7XG4gICAgICAgIGNvbnN0IHBsYW5lR2VvbWV0cnkgPSBuZXcgUGxhbmVHZW9tZXRyeSh0ZXh0dXJlLndpZHRoLCB0ZXh0dXJlLmhlaWdodCwgdmVydGljZXNYLCB2ZXJ0aWNlc1kpO1xuICAgICAgICBjb25zdCBtZXNoTWF0ZXJpYWwgPSBuZXcgTWVzaE1hdGVyaWFsKFRleHR1cmUuV0hJVEUpO1xuXG4gICAgICAgIHN1cGVyKHBsYW5lR2VvbWV0cnksIG1lc2hNYXRlcmlhbCk7XG5cbiAgICAgICAgLy8gbGV0cyBjYWxsIHRoZSBzZXR0ZXIgdG8gZW5zdXJlIGFsbCBuZWNlc3NhcnkgdXBkYXRlcyBhcmUgcGVyZm9ybWVkXG4gICAgICAgIHRoaXMudGV4dHVyZSA9IHRleHR1cmU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTWV0aG9kIHVzZWQgZm9yIG92ZXJyaWRlcywgdG8gZG8gc29tZXRoaW5nIGluIGNhc2UgdGV4dHVyZSBmcmFtZSB3YXMgY2hhbmdlZC5cbiAgICAgKiBNZXNoZXMgYmFzZWQgb24gcGxhbmUgY2FuIG92ZXJyaWRlIGl0IGFuZCBjaGFuZ2UgbW9yZSBkZXRhaWxzIGJhc2VkIG9uIHRleHR1cmUuXG4gICAgICovXG4gICAgcHVibGljIHRleHR1cmVVcGRhdGVkKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHRoaXMuX3RleHR1cmVJRCA9IHRoaXMuc2hhZGVyLnRleHR1cmUuX3VwZGF0ZUlEO1xuXG4gICAgICAgIGNvbnN0IGdlb21ldHJ5OiBQbGFuZUdlb21ldHJ5ID0gdGhpcy5nZW9tZXRyeSBhcyBhbnk7XG5cbiAgICAgICAgZ2VvbWV0cnkud2lkdGggPSB0aGlzLnNoYWRlci50ZXh0dXJlLndpZHRoO1xuICAgICAgICBnZW9tZXRyeS5oZWlnaHQgPSB0aGlzLnNoYWRlci50ZXh0dXJlLmhlaWdodDtcblxuICAgICAgICBnZW9tZXRyeS5idWlsZCgpO1xuICAgIH1cblxuICAgIHNldCB0ZXh0dXJlKHZhbHVlOiBUZXh0dXJlKVxuICAgIHtcbiAgICAgICAgLy8gVHJhY2sgdGV4dHVyZSBzYW1lIHdheSBzcHJpdGUgZG9lcy5cbiAgICAgICAgLy8gRm9yIGdlbmVyYXRlZCBtZXNoZXMgbGlrZSBOaW5lU2xpY2VQbGFuZSBpdCBjYW4gY2hhbmdlIHRoZSBnZW9tZXRyeS5cbiAgICAgICAgLy8gVW5mb3J0dW5hdGVseSwgdGhpcyBtZXRob2QgbWlnaHQgbm90IHdvcmsgaWYgeW91IGRpcmVjdGx5IGNoYW5nZSB0ZXh0dXJlIGluIG1hdGVyaWFsLlxuXG4gICAgICAgIGlmICh0aGlzLnNoYWRlci50ZXh0dXJlID09PSB2YWx1ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zaGFkZXIudGV4dHVyZSA9IHZhbHVlO1xuICAgICAgICB0aGlzLl90ZXh0dXJlSUQgPSAtMTtcblxuICAgICAgICBpZiAodmFsdWUuYmFzZVRleHR1cmUudmFsaWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudGV4dHVyZVVwZGF0ZWQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhbHVlLm9uY2UoJ3VwZGF0ZScsIHRoaXMudGV4dHVyZVVwZGF0ZWQsIHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0IHRleHR1cmUoKTogVGV4dHVyZVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2hhZGVyLnRleHR1cmU7XG4gICAgfVxuXG4gICAgX3JlbmRlcihyZW5kZXJlcjogUmVuZGVyZXIpOiB2b2lkXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fdGV4dHVyZUlEICE9PSB0aGlzLnNoYWRlci50ZXh0dXJlLl91cGRhdGVJRClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy50ZXh0dXJlVXBkYXRlZCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3VwZXIuX3JlbmRlcihyZW5kZXJlcik7XG4gICAgfVxuXG4gICAgcHVibGljIGRlc3Ryb3kob3B0aW9uczogSURlc3Ryb3lPcHRpb25zfGJvb2xlYW4pOiB2b2lkXG4gICAge1xuICAgICAgICB0aGlzLnNoYWRlci50ZXh0dXJlLm9mZigndXBkYXRlJywgdGhpcy50ZXh0dXJlVXBkYXRlZCwgdGhpcyk7XG4gICAgICAgIHN1cGVyLmRlc3Ryb3kob3B0aW9ucyk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgTWVzaCwgTWVzaEdlb21ldHJ5LCBNZXNoTWF0ZXJpYWwgfSBmcm9tICdAcGl4aS9tZXNoJztcbmltcG9ydCB7IFRleHR1cmUgfSBmcm9tICdAcGl4aS9jb3JlJztcblxuaW1wb3J0IHR5cGUgeyBJVHlwZWRBcnJheSwgSUFycmF5QnVmZmVyLCBSZW5kZXJlciB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHR5cGUgeyBEUkFXX01PREVTIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcblxuLyoqXG4gKiBUaGUgU2ltcGxlIE1lc2ggY2xhc3MgbWltaWNzIE1lc2ggaW4gUGl4aUpTIHY0LCBwcm92aWRpbmcgZWFzeS10by11c2UgY29uc3RydWN0b3IgYXJndW1lbnRzLlxuICogRm9yIG1vcmUgcm9idXN0IGN1c3RvbWl6YXRpb24sIHVzZSB7QGxpbmsgUElYSS5NZXNofS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuTWVzaFxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGNsYXNzIFNpbXBsZU1lc2ggZXh0ZW5kcyBNZXNoXG57XG4gICAgcHVibGljIGF1dG9VcGRhdGU6IGJvb2xlYW47XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gW3RleHR1cmU9VGV4dHVyZS5FTVBUWV0gLSBUaGUgdGV4dHVyZSB0byB1c2VcbiAgICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheX0gW3ZlcnRpY2VzXSAtIGlmIHlvdSB3YW50IHRvIHNwZWNpZnkgdGhlIHZlcnRpY2VzXG4gICAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IFt1dnNdIC0gaWYgeW91IHdhbnQgdG8gc3BlY2lmeSB0aGUgdXZzXG4gICAgICogQHBhcmFtIHtVaW50MTZBcnJheX0gW2luZGljZXNdIC0gaWYgeW91IHdhbnQgdG8gc3BlY2lmeSB0aGUgaW5kaWNlc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZHJhd01vZGVdIC0gdGhlIGRyYXdNb2RlLCBjYW4gYmUgYW55IG9mIHRoZSBNZXNoLkRSQVdfTU9ERVMgY29uc3RzXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHRleHR1cmUgPSBUZXh0dXJlLkVNUFRZLFxuICAgICAgICB2ZXJ0aWNlcz86IElBcnJheUJ1ZmZlcixcbiAgICAgICAgdXZzPzogSUFycmF5QnVmZmVyLFxuICAgICAgICBpbmRpY2VzPzogSUFycmF5QnVmZmVyLFxuICAgICAgICBkcmF3TW9kZT86IERSQVdfTU9ERVNcbiAgICApXG4gICAge1xuICAgICAgICBjb25zdCBnZW9tZXRyeSA9IG5ldyBNZXNoR2VvbWV0cnkodmVydGljZXMsIHV2cywgaW5kaWNlcyk7XG5cbiAgICAgICAgZ2VvbWV0cnkuZ2V0QnVmZmVyKCdhVmVydGV4UG9zaXRpb24nKS5zdGF0aWMgPSBmYWxzZTtcblxuICAgICAgICBjb25zdCBtZXNoTWF0ZXJpYWwgPSBuZXcgTWVzaE1hdGVyaWFsKHRleHR1cmUpO1xuXG4gICAgICAgIHN1cGVyKGdlb21ldHJ5LCBtZXNoTWF0ZXJpYWwsIG51bGwsIGRyYXdNb2RlKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogdXBsb2FkIHZlcnRpY2VzIGJ1ZmZlciBlYWNoIGZyYW1lXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmF1dG9VcGRhdGUgPSB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbGxlY3Rpb24gb2YgdmVydGljZXMgZGF0YS5cbiAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICovXG4gICAgZ2V0IHZlcnRpY2VzKCk6IElUeXBlZEFycmF5XG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5nZW9tZXRyeS5nZXRCdWZmZXIoJ2FWZXJ0ZXhQb3NpdGlvbicpLmRhdGE7XG4gICAgfVxuICAgIHNldCB2ZXJ0aWNlcyh2YWx1ZTogSVR5cGVkQXJyYXkpXG4gICAge1xuICAgICAgICB0aGlzLmdlb21ldHJ5LmdldEJ1ZmZlcignYVZlcnRleFBvc2l0aW9uJykuZGF0YSA9IHZhbHVlO1xuICAgIH1cblxuICAgIF9yZW5kZXIocmVuZGVyZXI6IFJlbmRlcmVyKTogdm9pZFxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuYXV0b1VwZGF0ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5nZW9tZXRyeS5nZXRCdWZmZXIoJ2FWZXJ0ZXhQb3NpdGlvbicpLnVwZGF0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3VwZXIuX3JlbmRlcihyZW5kZXJlcik7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgVGV4dHVyZSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgU2ltcGxlUGxhbmUgfSBmcm9tICcuL1NpbXBsZVBsYW5lJztcblxuaW1wb3J0IHR5cGUgeyBJVHlwZWRBcnJheSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuXG5jb25zdCBERUZBVUxUX0JPUkRFUl9TSVpFID0gMTA7XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZW1wdHktaW50ZXJmYWNlXG5leHBvcnQgaW50ZXJmYWNlIE5pbmVTbGljZVBsYW5lIGV4dGVuZHMgR2xvYmFsTWl4aW5zLk5pbmVTbGljZVBsYW5lIHt9XG5cbi8qKlxuICogVGhlIE5pbmVTbGljZVBsYW5lIGFsbG93cyB5b3UgdG8gc3RyZXRjaCBhIHRleHR1cmUgdXNpbmcgOS1zbGljZSBzY2FsaW5nLiBUaGUgY29ybmVycyB3aWxsIHJlbWFpbiB1bnNjYWxlZCAodXNlZnVsXG4gKiBmb3IgYnV0dG9ucyB3aXRoIHJvdW5kZWQgY29ybmVycyBmb3IgZXhhbXBsZSkgYW5kIHRoZSBvdGhlciBhcmVhcyB3aWxsIGJlIHNjYWxlZCBob3Jpem9udGFsbHkgYW5kIG9yIHZlcnRpY2FsbHlcbiAqXG4gKmBgYGpzXG4gKiBsZXQgUGxhbmU5ID0gbmV3IFBJWEkuTmluZVNsaWNlUGxhbmUoUElYSS5UZXh0dXJlLmZyb20oJ0JveFdpdGhSb3VuZGVkQ29ybmVycy5wbmcnKSwgMTUsIDE1LCAxNSwgMTUpO1xuICogIGBgYFxuICogPHByZT5cbiAqICAgICAgQSAgICAgICAgICAgICAgICAgICAgICAgICAgQlxuICogICAgKy0tLSstLS0tLS0tLS0tLS0tLS0tLS0tLS0tKy0tLStcbiAqICBDIHwgMSB8ICAgICAgICAgIDIgICAgICAgICAgIHwgMyB8XG4gKiAgICArLS0tKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rLS0tK1xuICogICAgfCAgIHwgICAgICAgICAgICAgICAgICAgICAgfCAgIHxcbiAqICAgIHwgNCB8ICAgICAgICAgIDUgICAgICAgICAgIHwgNiB8XG4gKiAgICB8ICAgfCAgICAgICAgICAgICAgICAgICAgICB8ICAgfFxuICogICAgKy0tLSstLS0tLS0tLS0tLS0tLS0tLS0tLS0tKy0tLStcbiAqICBEIHwgNyB8ICAgICAgICAgIDggICAgICAgICAgIHwgOSB8XG4gKiAgICArLS0tKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rLS0tK1xuXG4gKiAgV2hlbiBjaGFuZ2luZyB0aGlzIG9iamVjdHMgd2lkdGggYW5kL29yIGhlaWdodDpcbiAqICAgICBhcmVhcyAxIDMgNyBhbmQgOSB3aWxsIHJlbWFpbiB1bnNjYWxlZC5cbiAqICAgICBhcmVhcyAyIGFuZCA4IHdpbGwgYmUgc3RyZXRjaGVkIGhvcml6b250YWxseVxuICogICAgIGFyZWFzIDQgYW5kIDYgd2lsbCBiZSBzdHJldGNoZWQgdmVydGljYWxseVxuICogICAgIGFyZWEgNSB3aWxsIGJlIHN0cmV0Y2hlZCBib3RoIGhvcml6b250YWxseSBhbmQgdmVydGljYWxseVxuICogPC9wcmU+XG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlNpbXBsZVBsYW5lXG4gKiBAbWVtYmVyb2YgUElYSVxuICpcbiAqL1xuZXhwb3J0IGNsYXNzIE5pbmVTbGljZVBsYW5lIGV4dGVuZHMgU2ltcGxlUGxhbmVcbntcbiAgICBwcml2YXRlIF9vcmlnV2lkdGg6IG51bWJlcjtcbiAgICBwcml2YXRlIF9vcmlnSGVpZ2h0OiBudW1iZXI7XG4gICAgX2xlZnRXaWR0aDogbnVtYmVyO1xuICAgIF9yaWdodFdpZHRoOiBudW1iZXI7XG4gICAgX3RvcEhlaWdodDogbnVtYmVyO1xuICAgIF9ib3R0b21IZWlnaHQ6IG51bWJlcjtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gVGhlIHRleHR1cmUgdG8gdXNlIG9uIHRoZSBOaW5lU2xpY2VQbGFuZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xlZnRXaWR0aD0xMF0gLSBzaXplIG9mIHRoZSBsZWZ0IHZlcnRpY2FsIGJhciAoQSlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3RvcEhlaWdodD0xMF0gLSBzaXplIG9mIHRoZSB0b3AgaG9yaXpvbnRhbCBiYXIgKEMpXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyaWdodFdpZHRoPTEwXSAtIHNpemUgb2YgdGhlIHJpZ2h0IHZlcnRpY2FsIGJhciAoQilcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2JvdHRvbUhlaWdodD0xMF0gLSBzaXplIG9mIHRoZSBib3R0b20gaG9yaXpvbnRhbCBiYXIgKEQpXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHRleHR1cmU6IFRleHR1cmUsXG4gICAgICAgIGxlZnRXaWR0aCA9IERFRkFVTFRfQk9SREVSX1NJWkUsXG4gICAgICAgIHRvcEhlaWdodCA9IERFRkFVTFRfQk9SREVSX1NJWkUsXG4gICAgICAgIHJpZ2h0V2lkdGggPSBERUZBVUxUX0JPUkRFUl9TSVpFLFxuICAgICAgICBib3R0b21IZWlnaHQgPSBERUZBVUxUX0JPUkRFUl9TSVpFXG4gICAgKVxuICAgIHtcbiAgICAgICAgc3VwZXIoVGV4dHVyZS5XSElURSwgNCwgNCk7XG5cbiAgICAgICAgdGhpcy5fb3JpZ1dpZHRoID0gdGV4dHVyZS5vcmlnLndpZHRoO1xuICAgICAgICB0aGlzLl9vcmlnSGVpZ2h0ID0gdGV4dHVyZS5vcmlnLmhlaWdodDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoIG9mIHRoZSBOaW5lU2xpY2VQbGFuZSwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSB2ZXJ0aWNlcyBhbmQgVVYncyBvZiB0aGlzIHBsYW5lXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQG92ZXJyaWRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl93aWR0aCA9IHRoaXMuX29yaWdXaWR0aDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhlaWdodCBvZiB0aGUgTmluZVNsaWNlUGxhbmUsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgdmVydGljZXMgYW5kIFVWJ3Mgb2YgdGhpcyBwbGFuZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBvdmVycmlkZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5faGVpZ2h0ID0gdGhpcy5fb3JpZ0hlaWdodDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoIG9mIHRoZSBsZWZ0IGNvbHVtbiAoYSlcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fbGVmdFdpZHRoID0gbGVmdFdpZHRoO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIHJpZ2h0IGNvbHVtbiAoYilcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fcmlnaHRXaWR0aCA9IHJpZ2h0V2lkdGg7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIHRvcCByb3cgKGMpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3RvcEhlaWdodCA9IHRvcEhlaWdodDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhlaWdodCBvZiB0aGUgYm90dG9tIHJvdyAoZClcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYm90dG9tSGVpZ2h0ID0gYm90dG9tSGVpZ2h0O1xuXG4gICAgICAgIC8vIGxldHMgY2FsbCB0aGUgc2V0dGVyIHRvIGVuc3VyZSBhbGwgbmVjZXNzYXJ5IHVwZGF0ZXMgYXJlIHBlcmZvcm1lZFxuICAgICAgICB0aGlzLnRleHR1cmUgPSB0ZXh0dXJlO1xuICAgIH1cblxuICAgIHB1YmxpYyB0ZXh0dXJlVXBkYXRlZCgpOiB2b2lkXG4gICAge1xuICAgICAgICB0aGlzLl90ZXh0dXJlSUQgPSB0aGlzLnNoYWRlci50ZXh0dXJlLl91cGRhdGVJRDtcbiAgICAgICAgdGhpcy5fcmVmcmVzaCgpO1xuICAgIH1cblxuICAgIGdldCB2ZXJ0aWNlcygpOiBJVHlwZWRBcnJheVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2VvbWV0cnkuZ2V0QnVmZmVyKCdhVmVydGV4UG9zaXRpb24nKS5kYXRhO1xuICAgIH1cblxuICAgIHNldCB2ZXJ0aWNlcyh2YWx1ZTogSVR5cGVkQXJyYXkpXG4gICAge1xuICAgICAgICB0aGlzLmdlb21ldHJ5LmdldEJ1ZmZlcignYVZlcnRleFBvc2l0aW9uJykuZGF0YSA9IHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGhvcml6b250YWwgdmVydGljZXMuXG4gICAgICpcbiAgICAgKi9cbiAgICBwdWJsaWMgdXBkYXRlSG9yaXpvbnRhbFZlcnRpY2VzKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIGNvbnN0IHZlcnRpY2VzID0gdGhpcy52ZXJ0aWNlcztcblxuICAgICAgICBjb25zdCBzY2FsZSA9IHRoaXMuX2dldE1pblNjYWxlKCk7XG5cbiAgICAgICAgdmVydGljZXNbOV0gPSB2ZXJ0aWNlc1sxMV0gPSB2ZXJ0aWNlc1sxM10gPSB2ZXJ0aWNlc1sxNV0gPSB0aGlzLl90b3BIZWlnaHQgKiBzY2FsZTtcbiAgICAgICAgdmVydGljZXNbMTddID0gdmVydGljZXNbMTldID0gdmVydGljZXNbMjFdID0gdmVydGljZXNbMjNdID0gdGhpcy5faGVpZ2h0IC0gKHRoaXMuX2JvdHRvbUhlaWdodCAqIHNjYWxlKTtcbiAgICAgICAgdmVydGljZXNbMjVdID0gdmVydGljZXNbMjddID0gdmVydGljZXNbMjldID0gdmVydGljZXNbMzFdID0gdGhpcy5faGVpZ2h0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIHZlcnRpY2FsIHZlcnRpY2VzLlxuICAgICAqXG4gICAgICovXG4gICAgcHVibGljIHVwZGF0ZVZlcnRpY2FsVmVydGljZXMoKTogdm9pZFxuICAgIHtcbiAgICAgICAgY29uc3QgdmVydGljZXMgPSB0aGlzLnZlcnRpY2VzO1xuXG4gICAgICAgIGNvbnN0IHNjYWxlID0gdGhpcy5fZ2V0TWluU2NhbGUoKTtcblxuICAgICAgICB2ZXJ0aWNlc1syXSA9IHZlcnRpY2VzWzEwXSA9IHZlcnRpY2VzWzE4XSA9IHZlcnRpY2VzWzI2XSA9IHRoaXMuX2xlZnRXaWR0aCAqIHNjYWxlO1xuICAgICAgICB2ZXJ0aWNlc1s0XSA9IHZlcnRpY2VzWzEyXSA9IHZlcnRpY2VzWzIwXSA9IHZlcnRpY2VzWzI4XSA9IHRoaXMuX3dpZHRoIC0gKHRoaXMuX3JpZ2h0V2lkdGggKiBzY2FsZSk7XG4gICAgICAgIHZlcnRpY2VzWzZdID0gdmVydGljZXNbMTRdID0gdmVydGljZXNbMjJdID0gdmVydGljZXNbMzBdID0gdGhpcy5fd2lkdGg7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgc21hbGxlciBvZiBhIHNldCBvZiB2ZXJ0aWNhbCBhbmQgaG9yaXpvbnRhbCBzY2FsZSBvZiBuaW5lIHNsaWNlIGNvcm5lcnMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFNtYWxsZXIgbnVtYmVyIG9mIHZlcnRpY2FsIGFuZCBob3Jpem9udGFsIHNjYWxlLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgcHJpdmF0ZSBfZ2V0TWluU2NhbGUoKTogbnVtYmVyXG4gICAge1xuICAgICAgICBjb25zdCB3ID0gdGhpcy5fbGVmdFdpZHRoICsgdGhpcy5fcmlnaHRXaWR0aDtcbiAgICAgICAgY29uc3Qgc2NhbGVXID0gdGhpcy5fd2lkdGggPiB3ID8gMS4wIDogdGhpcy5fd2lkdGggLyB3O1xuXG4gICAgICAgIGNvbnN0IGggPSB0aGlzLl90b3BIZWlnaHQgKyB0aGlzLl9ib3R0b21IZWlnaHQ7XG4gICAgICAgIGNvbnN0IHNjYWxlSCA9IHRoaXMuX2hlaWdodCA+IGggPyAxLjAgOiB0aGlzLl9oZWlnaHQgLyBoO1xuXG4gICAgICAgIGNvbnN0IHNjYWxlID0gTWF0aC5taW4oc2NhbGVXLCBzY2FsZUgpO1xuXG4gICAgICAgIHJldHVybiBzY2FsZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgd2lkdGggb2YgdGhlIE5pbmVTbGljZVBsYW5lLCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHZlcnRpY2VzIGFuZCBVVidzIG9mIHRoaXMgcGxhbmVcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgd2lkdGgoKTogbnVtYmVyXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fd2lkdGg7XG4gICAgfVxuXG4gICAgc2V0IHdpZHRoKHZhbHVlOiBudW1iZXIpXG4gICAge1xuICAgICAgICB0aGlzLl93aWR0aCA9IHZhbHVlO1xuICAgICAgICB0aGlzLl9yZWZyZXNoKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGhlaWdodCBvZiB0aGUgTmluZVNsaWNlUGxhbmUsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgdmVydGljZXMgYW5kIFVWJ3Mgb2YgdGhpcyBwbGFuZVxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIGdldCBoZWlnaHQoKTogbnVtYmVyXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5faGVpZ2h0O1xuICAgIH1cblxuICAgIHNldCBoZWlnaHQodmFsdWU6IG51bWJlcilcbiAgICB7XG4gICAgICAgIHRoaXMuX2hlaWdodCA9IHZhbHVlO1xuICAgICAgICB0aGlzLl9yZWZyZXNoKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIHdpZHRoIG9mIHRoZSBsZWZ0IGNvbHVtblxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIGdldCBsZWZ0V2lkdGgoKTogbnVtYmVyXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fbGVmdFdpZHRoO1xuICAgIH1cblxuICAgIHNldCBsZWZ0V2lkdGgodmFsdWU6IG51bWJlcilcbiAgICB7XG4gICAgICAgIHRoaXMuX2xlZnRXaWR0aCA9IHZhbHVlO1xuICAgICAgICB0aGlzLl9yZWZyZXNoKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIHdpZHRoIG9mIHRoZSByaWdodCBjb2x1bW5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgcmlnaHRXaWR0aCgpOiBudW1iZXJcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yaWdodFdpZHRoO1xuICAgIH1cblxuICAgIHNldCByaWdodFdpZHRoKHZhbHVlOiBudW1iZXIpXG4gICAge1xuICAgICAgICB0aGlzLl9yaWdodFdpZHRoID0gdmFsdWU7XG4gICAgICAgIHRoaXMuX3JlZnJlc2goKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSB0b3Agcm93XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IHRvcEhlaWdodCgpOiBudW1iZXJcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl90b3BIZWlnaHQ7XG4gICAgfVxuXG4gICAgc2V0IHRvcEhlaWdodCh2YWx1ZTogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgdGhpcy5fdG9wSGVpZ2h0ID0gdmFsdWU7XG4gICAgICAgIHRoaXMuX3JlZnJlc2goKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBib3R0b20gcm93XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IGJvdHRvbUhlaWdodCgpOiBudW1iZXJcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9ib3R0b21IZWlnaHQ7XG4gICAgfVxuXG4gICAgc2V0IGJvdHRvbUhlaWdodCh2YWx1ZTogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgdGhpcy5fYm90dG9tSGVpZ2h0ID0gdmFsdWU7XG4gICAgICAgIHRoaXMuX3JlZnJlc2goKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZWZyZXNoZXMgTmluZVNsaWNlUGxhbmUgY29vcmRzLiBBbGwgb2YgdGhlbS5cbiAgICAgKi9cbiAgICBwcml2YXRlIF9yZWZyZXNoKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIGNvbnN0IHRleHR1cmUgPSB0aGlzLnRleHR1cmU7XG5cbiAgICAgICAgY29uc3QgdXZzID0gdGhpcy5nZW9tZXRyeS5idWZmZXJzWzFdLmRhdGE7XG5cbiAgICAgICAgdGhpcy5fb3JpZ1dpZHRoID0gdGV4dHVyZS5vcmlnLndpZHRoO1xuICAgICAgICB0aGlzLl9vcmlnSGVpZ2h0ID0gdGV4dHVyZS5vcmlnLmhlaWdodDtcblxuICAgICAgICBjb25zdCBfdXZ3ID0gMS4wIC8gdGhpcy5fb3JpZ1dpZHRoO1xuICAgICAgICBjb25zdCBfdXZoID0gMS4wIC8gdGhpcy5fb3JpZ0hlaWdodDtcblxuICAgICAgICB1dnNbMF0gPSB1dnNbOF0gPSB1dnNbMTZdID0gdXZzWzI0XSA9IDA7XG4gICAgICAgIHV2c1sxXSA9IHV2c1szXSA9IHV2c1s1XSA9IHV2c1s3XSA9IDA7XG4gICAgICAgIHV2c1s2XSA9IHV2c1sxNF0gPSB1dnNbMjJdID0gdXZzWzMwXSA9IDE7XG4gICAgICAgIHV2c1syNV0gPSB1dnNbMjddID0gdXZzWzI5XSA9IHV2c1szMV0gPSAxO1xuXG4gICAgICAgIHV2c1syXSA9IHV2c1sxMF0gPSB1dnNbMThdID0gdXZzWzI2XSA9IF91dncgKiB0aGlzLl9sZWZ0V2lkdGg7XG4gICAgICAgIHV2c1s0XSA9IHV2c1sxMl0gPSB1dnNbMjBdID0gdXZzWzI4XSA9IDEgLSAoX3V2dyAqIHRoaXMuX3JpZ2h0V2lkdGgpO1xuICAgICAgICB1dnNbOV0gPSB1dnNbMTFdID0gdXZzWzEzXSA9IHV2c1sxNV0gPSBfdXZoICogdGhpcy5fdG9wSGVpZ2h0O1xuICAgICAgICB1dnNbMTddID0gdXZzWzE5XSA9IHV2c1syMV0gPSB1dnNbMjNdID0gMSAtIChfdXZoICogdGhpcy5fYm90dG9tSGVpZ2h0KTtcblxuICAgICAgICB0aGlzLnVwZGF0ZUhvcml6b250YWxWZXJ0aWNlcygpO1xuICAgICAgICB0aGlzLnVwZGF0ZVZlcnRpY2FsVmVydGljZXMoKTtcblxuICAgICAgICB0aGlzLmdlb21ldHJ5LmJ1ZmZlcnNbMF0udXBkYXRlKCk7XG4gICAgICAgIHRoaXMuZ2VvbWV0cnkuYnVmZmVyc1sxXS51cGRhdGUoKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBUZXh0dXJlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBTcHJpdGUgfSBmcm9tICdAcGl4aS9zcHJpdGUnO1xuaW1wb3J0IHsgVGlja2VyLCBVUERBVEVfUFJJT1JJVFkgfSBmcm9tICdAcGl4aS90aWNrZXInO1xuaW1wb3J0IHR5cGUgeyBJRGVzdHJveU9wdGlvbnMgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcblxuLyoqXG4gKiBBbiBBbmltYXRlZFNwcml0ZSBpcyBhIHNpbXBsZSB3YXkgdG8gZGlzcGxheSBhbiBhbmltYXRpb24gZGVwaWN0ZWQgYnkgYSBsaXN0IG9mIHRleHR1cmVzLlxuICpcbiAqIGBgYGpzXG4gKiBsZXQgYWxpZW5JbWFnZXMgPSBbXCJpbWFnZV9zZXF1ZW5jZV8wMS5wbmdcIixcImltYWdlX3NlcXVlbmNlXzAyLnBuZ1wiLFwiaW1hZ2Vfc2VxdWVuY2VfMDMucG5nXCIsXCJpbWFnZV9zZXF1ZW5jZV8wNC5wbmdcIl07XG4gKiBsZXQgdGV4dHVyZUFycmF5ID0gW107XG4gKlxuICogZm9yIChsZXQgaT0wOyBpIDwgNDsgaSsrKVxuICoge1xuICogICAgICBsZXQgdGV4dHVyZSA9IFBJWEkuVGV4dHVyZS5mcm9tKGFsaWVuSW1hZ2VzW2ldKTtcbiAqICAgICAgdGV4dHVyZUFycmF5LnB1c2godGV4dHVyZSk7XG4gKiB9O1xuICpcbiAqIGxldCBhbmltYXRlZFNwcml0ZSA9IG5ldyBQSVhJLkFuaW1hdGVkU3ByaXRlKHRleHR1cmVBcnJheSk7XG4gKiBgYGBcbiAqXG4gKiBUaGUgbW9yZSBlZmZpY2llbnQgYW5kIHNpbXBsZXIgd2F5IHRvIGNyZWF0ZSBhbiBhbmltYXRlZCBzcHJpdGUgaXMgdXNpbmcgYSB7QGxpbmsgUElYSS5TcHJpdGVzaGVldH1cbiAqIGNvbnRhaW5pbmcgdGhlIGFuaW1hdGlvbiBkZWZpbml0aW9uczpcbiAqXG4gKiBgYGBqc1xuICogUElYSS5Mb2FkZXIuc2hhcmVkLmFkZChcImFzc2V0cy9zcHJpdGVzaGVldC5qc29uXCIpLmxvYWQoc2V0dXApO1xuICpcbiAqIGZ1bmN0aW9uIHNldHVwKCkge1xuICogICBsZXQgc2hlZXQgPSBQSVhJLkxvYWRlci5zaGFyZWQucmVzb3VyY2VzW1wiYXNzZXRzL3Nwcml0ZXNoZWV0Lmpzb25cIl0uc3ByaXRlc2hlZXQ7XG4gKiAgIGFuaW1hdGVkU3ByaXRlID0gbmV3IFBJWEkuQW5pbWF0ZWRTcHJpdGUoc2hlZXQuYW5pbWF0aW9uc1tcImltYWdlX3NlcXVlbmNlXCJdKTtcbiAqICAgLi4uXG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3ByaXRlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgY2xhc3MgQW5pbWF0ZWRTcHJpdGUgZXh0ZW5kcyBTcHJpdGVcbntcbiAgICBwdWJsaWMgYW5pbWF0aW9uU3BlZWQ6IG51bWJlcjtcbiAgICBwdWJsaWMgbG9vcDogYm9vbGVhbjtcbiAgICBwdWJsaWMgdXBkYXRlQW5jaG9yOiBib29sZWFuO1xuICAgIHB1YmxpYyBvbkNvbXBsZXRlOiAoKSA9PiB2b2lkO1xuICAgIHB1YmxpYyBvbkZyYW1lQ2hhbmdlOiAoY3VycmVudEZyYW1lOiBudW1iZXIpID0+IHZvaWQ7XG4gICAgcHVibGljIG9uTG9vcDogKCkgPT4gdm9pZDtcblxuICAgIHByaXZhdGUgX3BsYXlpbmc6IGJvb2xlYW47XG4gICAgcHJpdmF0ZSBfdGV4dHVyZXM6IFRleHR1cmVbXTtcbiAgICBwcml2YXRlIF9kdXJhdGlvbnM6IG51bWJlcltdO1xuICAgIHByaXZhdGUgX2F1dG9VcGRhdGU6IGJvb2xlYW47XG4gICAgcHJpdmF0ZSBfaXNDb25uZWN0ZWRUb1RpY2tlcjogYm9vbGVhbjtcbiAgICBwcml2YXRlIF9jdXJyZW50VGltZTogbnVtYmVyO1xuICAgIHByaXZhdGUgX3ByZXZpb3VzRnJhbWU6IG51bWJlcjtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlW118UElYSS5BbmltYXRlZFNwcml0ZS5GcmFtZU9iamVjdFtdfSB0ZXh0dXJlcyAtIEFuIGFycmF5IG9mIHtAbGluayBQSVhJLlRleHR1cmV9IG9yIGZyYW1lXG4gICAgICogIG9iamVjdHMgdGhhdCBtYWtlIHVwIHRoZSBhbmltYXRpb24uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbYXV0b1VwZGF0ZT10cnVlXSAtIFdoZXRoZXIgdG8gdXNlIFBJWEkuVGlja2VyLnNoYXJlZCB0byBhdXRvIHVwZGF0ZSBhbmltYXRpb24gdGltZS5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih0ZXh0dXJlczogVGV4dHVyZVtdfEZyYW1lT2JqZWN0W10sIGF1dG9VcGRhdGUgPSB0cnVlKVxuICAgIHtcbiAgICAgICAgc3VwZXIodGV4dHVyZXNbMF0gaW5zdGFuY2VvZiBUZXh0dXJlID8gdGV4dHVyZXNbMF0gOiB0ZXh0dXJlc1swXS50ZXh0dXJlKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge1BJWEkuVGV4dHVyZVtdfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdGV4dHVyZXMgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyW119XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9kdXJhdGlvbnMgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBgdHJ1ZWAgdXNlcyBQSVhJLlRpY2tlci5zaGFyZWQgdG8gYXV0byB1cGRhdGUgYW5pbWF0aW9uIHRpbWUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9hdXRvVXBkYXRlID0gYXV0b1VwZGF0ZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogYHRydWVgIGlmIHRoZSBpbnN0YW5jZSBpcyBjdXJyZW50bHkgY29ubmVjdGVkIHRvIFBJWEkuVGlja2VyLnNoYXJlZCB0byBhdXRvIHVwZGF0ZSBhbmltYXRpb24gdGltZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9pc0Nvbm5lY3RlZFRvVGlja2VyID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzcGVlZCB0aGF0IHRoZSBBbmltYXRlZFNwcml0ZSB3aWxsIHBsYXkgYXQuIEhpZ2hlciBpcyBmYXN0ZXIsIGxvd2VyIGlzIHNsb3dlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmFuaW1hdGlvblNwZWVkID0gMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciBvciBub3QgdGhlIGFuaW1hdGUgc3ByaXRlIHJlcGVhdHMgYWZ0ZXIgcGxheWluZy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5sb29wID0gdHJ1ZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVXBkYXRlIGFuY2hvciB0byBbVGV4dHVyZSdzIGRlZmF1bHRBbmNob3Jde0BsaW5rIFBJWEkuVGV4dHVyZSNkZWZhdWx0QW5jaG9yfSB3aGVuIGZyYW1lIGNoYW5nZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIFVzZWZ1bCB3aXRoIFtzcHJpdGUgc2hlZXQgYW5pbWF0aW9uc117QGxpbmsgUElYSS5TcHJpdGVzaGVldCNhbmltYXRpb25zfSBjcmVhdGVkIHdpdGggdG9vbHMuXG4gICAgICAgICAqIENoYW5naW5nIGFuY2hvciBmb3IgZWFjaCBmcmFtZSBhbGxvd3MgdG8gcGluIHNwcml0ZSBvcmlnaW4gdG8gY2VydGFpbiBtb3ZpbmcgZmVhdHVyZVxuICAgICAgICAgKiBvZiB0aGUgZnJhbWUgKGUuZy4gbGVmdCBmb290KS5cbiAgICAgICAgICpcbiAgICAgICAgICogTm90ZTogRW5hYmxpbmcgdGhpcyB3aWxsIG92ZXJyaWRlIGFueSBwcmV2aW91c2x5IHNldCBgYW5jaG9yYCBvbiBlYWNoIGZyYW1lIGNoYW5nZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudXBkYXRlQW5jaG9yID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZXItYXNzaWduZWQgZnVuY3Rpb24gdG8gY2FsbCB3aGVuIGFuIEFuaW1hdGVkU3ByaXRlIGZpbmlzaGVzIHBsYXlpbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIGFuaW1hdGlvbi5vbkNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgKiAgIC8vIGZpbmlzaGVkIVxuICAgICAgICAgKiB9O1xuICAgICAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25Db21wbGV0ZSA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZXItYXNzaWduZWQgZnVuY3Rpb24gdG8gY2FsbCB3aGVuIGFuIEFuaW1hdGVkU3ByaXRlIGNoYW5nZXMgd2hpY2ggdGV4dHVyZSBpcyBiZWluZyByZW5kZXJlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogYW5pbWF0aW9uLm9uRnJhbWVDaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAqICAgLy8gdXBkYXRlZCFcbiAgICAgICAgICogfTtcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uRnJhbWVDaGFuZ2UgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2VyLWFzc2lnbmVkIGZ1bmN0aW9uIHRvIGNhbGwgd2hlbiBgbG9vcGAgaXMgdHJ1ZSwgYW5kIGFuIEFuaW1hdGVkU3ByaXRlIGlzIHBsYXllZCBhbmRcbiAgICAgICAgICogbG9vcHMgYXJvdW5kIHRvIHN0YXJ0IGFnYWluLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiBhbmltYXRpb24ub25Mb29wID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgKiAgIC8vIGxvb3BlZCFcbiAgICAgICAgICogfTtcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uTG9vcCA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEVsYXBzZWQgdGltZSBzaW5jZSBhbmltYXRpb24gaGFzIGJlZW4gc3RhcnRlZCwgdXNlZCBpbnRlcm5hbGx5IHRvIGRpc3BsYXkgY3VycmVudCB0ZXh0dXJlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9jdXJyZW50VGltZSA9IDA7XG5cbiAgICAgICAgdGhpcy5fcGxheWluZyA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGV4dHVyZSBpbmRleCB0aGF0IHdhcyBkaXNwbGF5ZWQgbGFzdCB0aW1lXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3ByZXZpb3VzRnJhbWUgPSBudWxsO1xuXG4gICAgICAgIHRoaXMudGV4dHVyZXMgPSB0ZXh0dXJlcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTdG9wcyB0aGUgQW5pbWF0ZWRTcHJpdGUuXG4gICAgICpcbiAgICAgKi9cbiAgICBwdWJsaWMgc3RvcCgpOiB2b2lkXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMuX3BsYXlpbmcpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3BsYXlpbmcgPSBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMuX2F1dG9VcGRhdGUgJiYgdGhpcy5faXNDb25uZWN0ZWRUb1RpY2tlcilcbiAgICAgICAge1xuICAgICAgICAgICAgVGlja2VyLnNoYXJlZC5yZW1vdmUodGhpcy51cGRhdGUsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5faXNDb25uZWN0ZWRUb1RpY2tlciA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGxheXMgdGhlIEFuaW1hdGVkU3ByaXRlLlxuICAgICAqXG4gICAgICovXG4gICAgcHVibGljIHBsYXkoKTogdm9pZFxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX3BsYXlpbmcpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3BsYXlpbmcgPSB0cnVlO1xuICAgICAgICBpZiAodGhpcy5fYXV0b1VwZGF0ZSAmJiAhdGhpcy5faXNDb25uZWN0ZWRUb1RpY2tlcilcbiAgICAgICAge1xuICAgICAgICAgICAgVGlja2VyLnNoYXJlZC5hZGQodGhpcy51cGRhdGUsIHRoaXMsIFVQREFURV9QUklPUklUWS5ISUdIKTtcbiAgICAgICAgICAgIHRoaXMuX2lzQ29ubmVjdGVkVG9UaWNrZXIgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU3RvcHMgdGhlIEFuaW1hdGVkU3ByaXRlIGFuZCBnb2VzIHRvIGEgc3BlY2lmaWMgZnJhbWUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZnJhbWVOdW1iZXIgLSBGcmFtZSBpbmRleCB0byBzdG9wIGF0LlxuICAgICAqL1xuICAgIHB1YmxpYyBnb3RvQW5kU3RvcChmcmFtZU51bWJlcjogbnVtYmVyKTogdm9pZFxuICAgIHtcbiAgICAgICAgdGhpcy5zdG9wKCk7XG5cbiAgICAgICAgY29uc3QgcHJldmlvdXNGcmFtZSA9IHRoaXMuY3VycmVudEZyYW1lO1xuXG4gICAgICAgIHRoaXMuX2N1cnJlbnRUaW1lID0gZnJhbWVOdW1iZXI7XG5cbiAgICAgICAgaWYgKHByZXZpb3VzRnJhbWUgIT09IHRoaXMuY3VycmVudEZyYW1lKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRleHR1cmUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdvZXMgdG8gYSBzcGVjaWZpYyBmcmFtZSBhbmQgYmVnaW5zIHBsYXlpbmcgdGhlIEFuaW1hdGVkU3ByaXRlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGZyYW1lTnVtYmVyIC0gRnJhbWUgaW5kZXggdG8gc3RhcnQgYXQuXG4gICAgICovXG4gICAgcHVibGljIGdvdG9BbmRQbGF5KGZyYW1lTnVtYmVyOiBudW1iZXIpOiB2b2lkXG4gICAge1xuICAgICAgICBjb25zdCBwcmV2aW91c0ZyYW1lID0gdGhpcy5jdXJyZW50RnJhbWU7XG5cbiAgICAgICAgdGhpcy5fY3VycmVudFRpbWUgPSBmcmFtZU51bWJlcjtcblxuICAgICAgICBpZiAocHJldmlvdXNGcmFtZSAhPT0gdGhpcy5jdXJyZW50RnJhbWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGV4dHVyZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5wbGF5KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgb2JqZWN0IHRyYW5zZm9ybSBmb3IgcmVuZGVyaW5nLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRlbHRhVGltZSAtIFRpbWUgc2luY2UgbGFzdCB0aWNrLlxuICAgICAqL1xuICAgIHVwZGF0ZShkZWx0YVRpbWU6IG51bWJlcik6IHZvaWRcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5fcGxheWluZylcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZWxhcHNlZCA9IHRoaXMuYW5pbWF0aW9uU3BlZWQgKiBkZWx0YVRpbWU7XG4gICAgICAgIGNvbnN0IHByZXZpb3VzRnJhbWUgPSB0aGlzLmN1cnJlbnRGcmFtZTtcblxuICAgICAgICBpZiAodGhpcy5fZHVyYXRpb25zICE9PSBudWxsKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgbGFnID0gdGhpcy5fY3VycmVudFRpbWUgJSAxICogdGhpcy5fZHVyYXRpb25zW3RoaXMuY3VycmVudEZyYW1lXTtcblxuICAgICAgICAgICAgbGFnICs9IGVsYXBzZWQgLyA2MCAqIDEwMDA7XG5cbiAgICAgICAgICAgIHdoaWxlIChsYWcgPCAwKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRUaW1lLS07XG4gICAgICAgICAgICAgICAgbGFnICs9IHRoaXMuX2R1cmF0aW9uc1t0aGlzLmN1cnJlbnRGcmFtZV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHNpZ24gPSBNYXRoLnNpZ24odGhpcy5hbmltYXRpb25TcGVlZCAqIGRlbHRhVGltZSk7XG5cbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRUaW1lID0gTWF0aC5mbG9vcih0aGlzLl9jdXJyZW50VGltZSk7XG5cbiAgICAgICAgICAgIHdoaWxlIChsYWcgPj0gdGhpcy5fZHVyYXRpb25zW3RoaXMuY3VycmVudEZyYW1lXSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsYWcgLT0gdGhpcy5fZHVyYXRpb25zW3RoaXMuY3VycmVudEZyYW1lXSAqIHNpZ247XG4gICAgICAgICAgICAgICAgdGhpcy5fY3VycmVudFRpbWUgKz0gc2lnbjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fY3VycmVudFRpbWUgKz0gbGFnIC8gdGhpcy5fZHVyYXRpb25zW3RoaXMuY3VycmVudEZyYW1lXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRUaW1lICs9IGVsYXBzZWQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fY3VycmVudFRpbWUgPCAwICYmICF0aGlzLmxvb3ApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZ290b0FuZFN0b3AoMCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLm9uQ29tcGxldGUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5fY3VycmVudFRpbWUgPj0gdGhpcy5fdGV4dHVyZXMubGVuZ3RoICYmICF0aGlzLmxvb3ApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZ290b0FuZFN0b3AodGhpcy5fdGV4dHVyZXMubGVuZ3RoIC0gMSk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLm9uQ29tcGxldGUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocHJldmlvdXNGcmFtZSAhPT0gdGhpcy5jdXJyZW50RnJhbWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmxvb3AgJiYgdGhpcy5vbkxvb3ApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYW5pbWF0aW9uU3BlZWQgPiAwICYmIHRoaXMuY3VycmVudEZyYW1lIDwgcHJldmlvdXNGcmFtZSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25Mb29wKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuYW5pbWF0aW9uU3BlZWQgPCAwICYmIHRoaXMuY3VycmVudEZyYW1lID4gcHJldmlvdXNGcmFtZSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25Mb29wKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRleHR1cmUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGRpc3BsYXllZCB0ZXh0dXJlIHRvIG1hdGNoIHRoZSBjdXJyZW50IGZyYW1lIGluZGV4LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBwcml2YXRlIHVwZGF0ZVRleHR1cmUoKTogdm9pZFxuICAgIHtcbiAgICAgICAgY29uc3QgY3VycmVudEZyYW1lID0gdGhpcy5jdXJyZW50RnJhbWU7XG5cbiAgICAgICAgaWYgKHRoaXMuX3ByZXZpb3VzRnJhbWUgPT09IGN1cnJlbnRGcmFtZSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fcHJldmlvdXNGcmFtZSA9IGN1cnJlbnRGcmFtZTtcblxuICAgICAgICB0aGlzLl90ZXh0dXJlID0gdGhpcy5fdGV4dHVyZXNbY3VycmVudEZyYW1lXTtcbiAgICAgICAgdGhpcy5fdGV4dHVyZUlEID0gLTE7XG4gICAgICAgIHRoaXMuX3RleHR1cmVUcmltbWVkSUQgPSAtMTtcbiAgICAgICAgdGhpcy5fY2FjaGVkVGludCA9IDB4RkZGRkZGO1xuICAgICAgICB0aGlzLnV2cyA9IHRoaXMuX3RleHR1cmUuX3V2cy51dnNGbG9hdDMyO1xuXG4gICAgICAgIGlmICh0aGlzLnVwZGF0ZUFuY2hvcilcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fYW5jaG9yLmNvcHlGcm9tKHRoaXMuX3RleHR1cmUuZGVmYXVsdEFuY2hvcik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5vbkZyYW1lQ2hhbmdlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLm9uRnJhbWVDaGFuZ2UodGhpcy5jdXJyZW50RnJhbWUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU3RvcHMgdGhlIEFuaW1hdGVkU3ByaXRlIGFuZCBkZXN0cm95cyBpdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fGJvb2xlYW59IFtvcHRpb25zXSAtIE9wdGlvbnMgcGFyYW1ldGVyLiBBIGJvb2xlYW4gd2lsbCBhY3QgYXMgaWYgYWxsIG9wdGlvbnNcbiAgICAgKiAgaGF2ZSBiZWVuIHNldCB0byB0aGF0IHZhbHVlLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2hpbGRyZW49ZmFsc2VdIC0gSWYgc2V0IHRvIHRydWUsIGFsbCB0aGUgY2hpbGRyZW4gd2lsbCBoYXZlIHRoZWlyIGRlc3Ryb3lcbiAgICAgKiAgICAgIG1ldGhvZCBjYWxsZWQgYXMgd2VsbC4gJ29wdGlvbnMnIHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRob3NlIGNhbGxzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudGV4dHVyZT1mYWxzZV0gLSBTaG91bGQgaXQgZGVzdHJveSB0aGUgY3VycmVudCB0ZXh0dXJlIG9mIHRoZSBzcHJpdGUgYXMgd2VsbC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmJhc2VUZXh0dXJlPWZhbHNlXSAtIFNob3VsZCBpdCBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgb2YgdGhlIHNwcml0ZSBhcyB3ZWxsLlxuICAgICAqL1xuICAgIHB1YmxpYyBkZXN0cm95KG9wdGlvbnM6IElEZXN0cm95T3B0aW9uc3xib29sZWFuKTogdm9pZFxuICAgIHtcbiAgICAgICAgdGhpcy5zdG9wKCk7XG4gICAgICAgIHN1cGVyLmRlc3Ryb3kob3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy5vbkNvbXBsZXRlID0gbnVsbDtcbiAgICAgICAgdGhpcy5vbkZyYW1lQ2hhbmdlID0gbnVsbDtcbiAgICAgICAgdGhpcy5vbkxvb3AgPSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc2hvcnQgaGFuZCB3YXkgb2YgY3JlYXRpbmcgYW4gQW5pbWF0ZWRTcHJpdGUgZnJvbSBhbiBhcnJheSBvZiBmcmFtZSBpZHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gZnJhbWVzIC0gVGhlIGFycmF5IG9mIGZyYW1lcyBpZHMgdGhlIEFuaW1hdGVkU3ByaXRlIHdpbGwgdXNlIGFzIGl0cyB0ZXh0dXJlIGZyYW1lcy5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkFuaW1hdGVkU3ByaXRlfSBUaGUgbmV3IGFuaW1hdGVkIHNwcml0ZSB3aXRoIHRoZSBzcGVjaWZpZWQgZnJhbWVzLlxuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgZnJvbUZyYW1lcyhmcmFtZXM6IHN0cmluZ1tdKTogQW5pbWF0ZWRTcHJpdGVcbiAgICB7XG4gICAgICAgIGNvbnN0IHRleHR1cmVzID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmcmFtZXMubGVuZ3RoOyArK2kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRleHR1cmVzLnB1c2goVGV4dHVyZS5mcm9tKGZyYW1lc1tpXSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBBbmltYXRlZFNwcml0ZSh0ZXh0dXJlcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzaG9ydCBoYW5kIHdheSBvZiBjcmVhdGluZyBhbiBBbmltYXRlZFNwcml0ZSBmcm9tIGFuIGFycmF5IG9mIGltYWdlIGlkcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBpbWFnZXMgLSBUaGUgYXJyYXkgb2YgaW1hZ2UgdXJscyB0aGUgQW5pbWF0ZWRTcHJpdGUgd2lsbCB1c2UgYXMgaXRzIHRleHR1cmUgZnJhbWVzLlxuICAgICAqIEByZXR1cm4ge1BJWEkuQW5pbWF0ZWRTcHJpdGV9IFRoZSBuZXcgYW5pbWF0ZSBzcHJpdGUgd2l0aCB0aGUgc3BlY2lmaWVkIGltYWdlcyBhcyBmcmFtZXMuXG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyBmcm9tSW1hZ2VzKGltYWdlczogc3RyaW5nW10pOiBBbmltYXRlZFNwcml0ZVxuICAgIHtcbiAgICAgICAgY29uc3QgdGV4dHVyZXMgPSBbXTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGltYWdlcy5sZW5ndGg7ICsraSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGV4dHVyZXMucHVzaChUZXh0dXJlLmZyb20oaW1hZ2VzW2ldKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IEFuaW1hdGVkU3ByaXRlKHRleHR1cmVzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdG90YWwgbnVtYmVyIG9mIGZyYW1lcyBpbiB0aGUgQW5pbWF0ZWRTcHJpdGUuIFRoaXMgaXMgdGhlIHNhbWUgYXMgbnVtYmVyIG9mIHRleHR1cmVzXG4gICAgICogYXNzaWduZWQgdG8gdGhlIEFuaW1hdGVkU3ByaXRlLlxuICAgICAqXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cbiAgICBnZXQgdG90YWxGcmFtZXMoKTogbnVtYmVyXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGV4dHVyZXMubGVuZ3RoO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBhcnJheSBvZiB0ZXh0dXJlcyB1c2VkIGZvciB0aGlzIEFuaW1hdGVkU3ByaXRlLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlW118UElYSS5BbmltYXRlZFNwcml0ZS5GcmFtZU9iamVjdFtdfVxuICAgICAqL1xuICAgIGdldCB0ZXh0dXJlcygpOiBUZXh0dXJlW118RnJhbWVPYmplY3RbXVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RleHR1cmVzO1xuICAgIH1cblxuICAgIHNldCB0ZXh0dXJlcyh2YWx1ZTogVGV4dHVyZVtdfEZyYW1lT2JqZWN0W10pXG4gICAge1xuICAgICAgICBpZiAodmFsdWVbMF0gaW5zdGFuY2VvZiBUZXh0dXJlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlcyA9IHZhbHVlIGFzIFRleHR1cmVbXTtcbiAgICAgICAgICAgIHRoaXMuX2R1cmF0aW9ucyA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlcyA9IFtdO1xuICAgICAgICAgICAgdGhpcy5fZHVyYXRpb25zID0gW107XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdGV4dHVyZXMucHVzaCgodmFsdWVbaV0gYXMgRnJhbWVPYmplY3QpLnRleHR1cmUpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2R1cmF0aW9ucy5wdXNoKCh2YWx1ZVtpXSBhcyBGcmFtZU9iamVjdCkudGltZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcHJldmlvdXNGcmFtZSA9IG51bGw7XG4gICAgICAgIHRoaXMuZ290b0FuZFN0b3AoMCk7XG4gICAgICAgIHRoaXMudXBkYXRlVGV4dHVyZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICogVGhlIEFuaW1hdGVkU3ByaXRlcyBjdXJyZW50IGZyYW1lIGluZGV4LlxuICAgICpcbiAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAqIEByZWFkb25seVxuICAgICovXG4gICAgZ2V0IGN1cnJlbnRGcmFtZSgpOiBudW1iZXJcbiAgICB7XG4gICAgICAgIGxldCBjdXJyZW50RnJhbWUgPSBNYXRoLmZsb29yKHRoaXMuX2N1cnJlbnRUaW1lKSAlIHRoaXMuX3RleHR1cmVzLmxlbmd0aDtcblxuICAgICAgICBpZiAoY3VycmVudEZyYW1lIDwgMClcbiAgICAgICAge1xuICAgICAgICAgICAgY3VycmVudEZyYW1lICs9IHRoaXMuX3RleHR1cmVzLmxlbmd0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjdXJyZW50RnJhbWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIGlmIHRoZSBBbmltYXRlZFNwcml0ZSBpcyBjdXJyZW50bHkgcGxheWluZy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgZ2V0IHBsYXlpbmcoKTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BsYXlpbmc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogV2hldGhlciB0byB1c2UgUElYSS5UaWNrZXIuc2hhcmVkIHRvIGF1dG8gdXBkYXRlIGFuaW1hdGlvbiB0aW1lXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqL1xuICAgIGdldCBhdXRvVXBkYXRlKCk6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hdXRvVXBkYXRlO1xuICAgIH1cblxuICAgIHNldCBhdXRvVXBkYXRlKHZhbHVlOiBib29sZWFuKVxuICAgIHtcbiAgICAgICAgaWYgKHZhbHVlICE9PSB0aGlzLl9hdXRvVXBkYXRlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9hdXRvVXBkYXRlID0gdmFsdWU7XG5cbiAgICAgICAgICAgIGlmICghdGhpcy5fYXV0b1VwZGF0ZSAmJiB0aGlzLl9pc0Nvbm5lY3RlZFRvVGlja2VyKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFRpY2tlci5zaGFyZWQucmVtb3ZlKHRoaXMudXBkYXRlLCB0aGlzKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9pc0Nvbm5lY3RlZFRvVGlja2VyID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLl9hdXRvVXBkYXRlICYmICF0aGlzLl9pc0Nvbm5lY3RlZFRvVGlja2VyICYmIHRoaXMuX3BsYXlpbmcpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgVGlja2VyLnNoYXJlZC5hZGQodGhpcy51cGRhdGUsIHRoaXMpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2lzQ29ubmVjdGVkVG9UaWNrZXIgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEZyYW1lT2JqZWN0IHtcbiAgICB0ZXh0dXJlOiBUZXh0dXJlO1xuICAgIHRpbWU6IG51bWJlcjtcbn1cblxuLyoqXG4gKiBAbWVtYmVyb2YgUElYSS5BbmltYXRlZFNwcml0ZVxuICogQHR5cGVkZWYge29iamVjdH0gRnJhbWVPYmplY3RcbiAqIEB0eXBlIHtvYmplY3R9XG4gKiBAcHJvcGVydHkge1BJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIFRoZSB7QGxpbmsgUElYSS5UZXh0dXJlfSBvZiB0aGUgZnJhbWVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB0aW1lIC0gdGhlIGR1cmF0aW9uIG9mIHRoZSBmcmFtZSBpbiBtc1xuICovXG4iLCJpbXBvcnQgJ0BwaXhpL3BvbHlmaWxsJztcblxuaW1wb3J0ICogYXMgdXRpbHMgZnJvbSAnQHBpeGkvdXRpbHMnO1xuaW1wb3J0IHsgQWNjZXNzaWJpbGl0eU1hbmFnZXIgfSBmcm9tICdAcGl4aS9hY2Nlc3NpYmlsaXR5JztcbmltcG9ydCB7IEludGVyYWN0aW9uTWFuYWdlciB9IGZyb20gJ0BwaXhpL2ludGVyYWN0aW9uJztcbmltcG9ydCB7IEFwcGxpY2F0aW9uIH0gZnJvbSAnQHBpeGkvYXBwJztcbmltcG9ydCB7IFJlbmRlcmVyLCBCYXRjaFJlbmRlcmVyIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBFeHRyYWN0IH0gZnJvbSAnQHBpeGkvZXh0cmFjdCc7XG5pbXBvcnQgeyBMb2FkZXIsIEFwcExvYWRlclBsdWdpbiB9IGZyb20gJ0BwaXhpL2xvYWRlcnMnO1xuaW1wb3J0IHsgUGFydGljbGVSZW5kZXJlciB9IGZyb20gJ0BwaXhpL3BhcnRpY2xlcyc7XG5pbXBvcnQgeyBQcmVwYXJlIH0gZnJvbSAnQHBpeGkvcHJlcGFyZSc7XG5pbXBvcnQgeyBTcHJpdGVzaGVldExvYWRlciB9IGZyb20gJ0BwaXhpL3Nwcml0ZXNoZWV0JztcbmltcG9ydCB7IFRpbGluZ1Nwcml0ZVJlbmRlcmVyIH0gZnJvbSAnQHBpeGkvc3ByaXRlLXRpbGluZyc7XG5pbXBvcnQgeyBCaXRtYXBGb250TG9hZGVyIH0gZnJvbSAnQHBpeGkvdGV4dC1iaXRtYXAnO1xuaW1wb3J0IHsgVGlja2VyUGx1Z2luIH0gZnJvbSAnQHBpeGkvdGlja2VyJztcbmltcG9ydCB7IEFscGhhRmlsdGVyIH0gZnJvbSAnQHBpeGkvZmlsdGVyLWFscGhhJztcbmltcG9ydCB7IEJsdXJGaWx0ZXIsIEJsdXJGaWx0ZXJQYXNzIH0gZnJvbSAnQHBpeGkvZmlsdGVyLWJsdXInO1xuaW1wb3J0IHsgQ29sb3JNYXRyaXhGaWx0ZXIgfSBmcm9tICdAcGl4aS9maWx0ZXItY29sb3ItbWF0cml4JztcbmltcG9ydCB7IERpc3BsYWNlbWVudEZpbHRlciB9IGZyb20gJ0BwaXhpL2ZpbHRlci1kaXNwbGFjZW1lbnQnO1xuaW1wb3J0IHsgRlhBQUZpbHRlciB9IGZyb20gJ0BwaXhpL2ZpbHRlci1meGFhJztcbmltcG9ydCB7IE5vaXNlRmlsdGVyIH0gZnJvbSAnQHBpeGkvZmlsdGVyLW5vaXNlJztcbmltcG9ydCAnQHBpeGkvbWl4aW4tY2FjaGUtYXMtYml0bWFwJztcbmltcG9ydCAnQHBpeGkvbWl4aW4tZ2V0LWNoaWxkLWJ5LW5hbWUnO1xuaW1wb3J0ICdAcGl4aS9taXhpbi1nZXQtZ2xvYmFsLXBvc2l0aW9uJztcblxuLy8gRXhwb3J0IGRlcHJlY2F0aW9ucyBzbyBSb2xsdXAgY2FuIGNhbGwgaXRcbi8vIGluIHRoZSBmb290ZXIgYWZ0ZXIgZ2xvYmFsIGlzIGRlZmluZWRcbi8vIG90aGVyIG1vZHVsZSBtdXN0IGNhbGwgdGhpcyBtYW51YWxseVxuaW1wb3J0IHsgdXNlRGVwcmVjYXRlZCB9IGZyb20gJy4vdXNlRGVwcmVjYXRlZCc7XG5cbi8vIEluc3RhbGwgcmVuZGVyZXIgcGx1Z2luc1xuUmVuZGVyZXIucmVnaXN0ZXJQbHVnaW4oJ2FjY2Vzc2liaWxpdHknLCBBY2Nlc3NpYmlsaXR5TWFuYWdlcik7XG5SZW5kZXJlci5yZWdpc3RlclBsdWdpbignZXh0cmFjdCcsIEV4dHJhY3QpO1xuUmVuZGVyZXIucmVnaXN0ZXJQbHVnaW4oJ2ludGVyYWN0aW9uJywgSW50ZXJhY3Rpb25NYW5hZ2VyKTtcblJlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luKCdwYXJ0aWNsZScsIFBhcnRpY2xlUmVuZGVyZXIpO1xuUmVuZGVyZXIucmVnaXN0ZXJQbHVnaW4oJ3ByZXBhcmUnLCBQcmVwYXJlKTtcblJlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luKCdiYXRjaCcsIEJhdGNoUmVuZGVyZXIpO1xuUmVuZGVyZXIucmVnaXN0ZXJQbHVnaW4oJ3RpbGluZ1Nwcml0ZScsIFRpbGluZ1Nwcml0ZVJlbmRlcmVyKTtcblxuTG9hZGVyLnJlZ2lzdGVyUGx1Z2luKEJpdG1hcEZvbnRMb2FkZXIpO1xuTG9hZGVyLnJlZ2lzdGVyUGx1Z2luKFNwcml0ZXNoZWV0TG9hZGVyKTtcblxuQXBwbGljYXRpb24ucmVnaXN0ZXJQbHVnaW4oVGlja2VyUGx1Z2luKTtcbkFwcGxpY2F0aW9uLnJlZ2lzdGVyUGx1Z2luKEFwcExvYWRlclBsdWdpbik7XG5cbi8qKlxuICogU3RyaW5nIG9mIHRoZSBjdXJyZW50IFBJWEkgdmVyc2lvbi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAbmFtZSBWRVJTSU9OXG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG5leHBvcnQgY29uc3QgVkVSU0lPTiA9ICdfX1ZFUlNJT05fXyc7XG5cbi8qKlxuICogQG5hbWVzcGFjZSBQSVhJXG4gKi9cblxuLyoqXG4gKiBUaGlzIG5hbWVzcGFjZSBjb250YWlucyBXZWJHTC1vbmx5IGRpc3BsYXkgZmlsdGVycyB0aGF0IGNhbiBiZSBhcHBsaWVkXG4gKiB0byBEaXNwbGF5T2JqZWN0cyB1c2luZyB0aGUge0BsaW5rIFBJWEkuRGlzcGxheU9iamVjdCNmaWx0ZXJzIGZpbHRlcnN9IHByb3BlcnR5LlxuICpcbiAqIFNpbmNlIFBpeGlKUyBvbmx5IGhhZCBhIGhhbmRmdWwgb2YgYnVpbHQtaW4gZmlsdGVycywgYWRkaXRpb25hbCBmaWx0ZXJzXG4gKiBjYW4gYmUgZG93bmxvYWRlZCB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL3BpeGlqcy9waXhpLWZpbHRlcnMgaGVyZX0gZnJvbSB0aGVcbiAqIFBpeGlKUyBGaWx0ZXJzIHJlcG9zaXRvcnkuXG4gKlxuICogQWxsIGZpbHRlcnMgbXVzdCBleHRlbmQge0BsaW5rIFBJWEkuRmlsdGVyfS5cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gQ3JlYXRlIGEgbmV3IGFwcGxpY2F0aW9uXG4gKiBjb25zdCBhcHAgPSBuZXcgUElYSS5BcHBsaWNhdGlvbigpO1xuICpcbiAqIC8vIERyYXcgYSBncmVlbiByZWN0YW5nbGVcbiAqIGNvbnN0IHJlY3QgPSBuZXcgUElYSS5HcmFwaGljcygpXG4gKiAgICAgLmJlZ2luRmlsbCgweDAwZmYwMClcbiAqICAgICAuZHJhd1JlY3QoNDAsIDQwLCAyMDAsIDIwMCk7XG4gKlxuICogLy8gQWRkIGEgYmx1ciBmaWx0ZXJcbiAqIHJlY3QuZmlsdGVycyA9IFtuZXcgUElYSS5maWx0ZXJzLkJsdXJGaWx0ZXIoKV07XG4gKlxuICogLy8gRGlzcGxheSByZWN0YW5nbGVcbiAqIGFwcC5zdGFnZS5hZGRDaGlsZChyZWN0KTtcbiAqIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYXBwLnZpZXcpO1xuICogQG5hbWVzcGFjZSBQSVhJLmZpbHRlcnNcbiAqL1xuZXhwb3J0IGNvbnN0IGZpbHRlcnMgPSB7XG4gICAgQWxwaGFGaWx0ZXIsXG4gICAgQmx1ckZpbHRlcixcbiAgICBCbHVyRmlsdGVyUGFzcyxcbiAgICBDb2xvck1hdHJpeEZpbHRlcixcbiAgICBEaXNwbGFjZW1lbnRGaWx0ZXIsXG4gICAgRlhBQUZpbHRlcixcbiAgICBOb2lzZUZpbHRlcixcbn07XG5cbi8vIEV4cG9ydCBFUyBmb3IgdGhvc2UgaW1wb3J0aW5nIHNwZWNpZmljYWxseSBieSBuYW1lLFxuZXhwb3J0ICogZnJvbSAnQHBpeGkvYWNjZXNzaWJpbGl0eSc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9hcHAnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL2NvcmUnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9leHRyYWN0JztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL2dyYXBoaWNzJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL2xvYWRlcnMnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvaW50ZXJhY3Rpb24nO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvbWF0aCc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9tZXNoJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL21lc2gtZXh0cmFzJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL3BhcnRpY2xlcyc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9wcmVwYXJlJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL3J1bm5lcic7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9zcHJpdGUnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvc3ByaXRlc2hlZXQnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvc3ByaXRlLWFuaW1hdGVkJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL3Nwcml0ZS10aWxpbmcnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvdGV4dCc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS90ZXh0LWJpdG1hcCc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS90aWNrZXInO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuZXhwb3J0IHtcbiAgICB1dGlscyxcbiAgICB1c2VEZXByZWNhdGVkLFxufTtcbiIsIi8qXG4gKiBhbmltZS5qcyB2My4yLjJcbiAqIChjKSAyMDIzIEp1bGlhbiBHYXJuaWVyXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2VcbiAqIGFuaW1lanMuY29tXG4gKi9cblxuIWZ1bmN0aW9uKG4sZSl7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9ZSgpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoZSk6bi5hbmltZT1lKCl9KHRoaXMsZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjt2YXIgaT17dXBkYXRlOm51bGwsYmVnaW46bnVsbCxsb29wQmVnaW46bnVsbCxjaGFuZ2VCZWdpbjpudWxsLGNoYW5nZTpudWxsLGNoYW5nZUNvbXBsZXRlOm51bGwsbG9vcENvbXBsZXRlOm51bGwsY29tcGxldGU6bnVsbCxsb29wOjEsZGlyZWN0aW9uOlwibm9ybWFsXCIsYXV0b3BsYXk6ITAsdGltZWxpbmVPZmZzZXQ6MH0sTT17ZHVyYXRpb246MWUzLGRlbGF5OjAsZW5kRGVsYXk6MCxlYXNpbmc6XCJlYXNlT3V0RWxhc3RpYygxLCAuNSlcIixyb3VuZDowfSxqPVtcInRyYW5zbGF0ZVhcIixcInRyYW5zbGF0ZVlcIixcInRyYW5zbGF0ZVpcIixcInJvdGF0ZVwiLFwicm90YXRlWFwiLFwicm90YXRlWVwiLFwicm90YXRlWlwiLFwic2NhbGVcIixcInNjYWxlWFwiLFwic2NhbGVZXCIsXCJzY2FsZVpcIixcInNrZXdcIixcInNrZXdYXCIsXCJza2V3WVwiLFwicGVyc3BlY3RpdmVcIixcIm1hdHJpeFwiLFwibWF0cml4M2RcIl0sbD17Q1NTOnt9LHNwcmluZ3M6e319O2Z1bmN0aW9uIEMobixlLHQpe3JldHVybiBNYXRoLm1pbihNYXRoLm1heChuLGUpLHQpfWZ1bmN0aW9uIHUobixlKXtyZXR1cm4tMTxuLmluZGV4T2YoZSl9ZnVuY3Rpb24gbyhuLGUpe3JldHVybiBuLmFwcGx5KG51bGwsZSl9dmFyIHc9e2FycjpmdW5jdGlvbihuKXtyZXR1cm4gQXJyYXkuaXNBcnJheShuKX0sb2JqOmZ1bmN0aW9uKG4pe3JldHVybiB1KE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuKSxcIk9iamVjdFwiKX0scHRoOmZ1bmN0aW9uKG4pe3JldHVybiB3Lm9iaihuKSYmbi5oYXNPd25Qcm9wZXJ0eShcInRvdGFsTGVuZ3RoXCIpfSxzdmc6ZnVuY3Rpb24obil7cmV0dXJuIG4gaW5zdGFuY2VvZiBTVkdFbGVtZW50fSxpbnA6ZnVuY3Rpb24obil7cmV0dXJuIG4gaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50fSxkb206ZnVuY3Rpb24obil7cmV0dXJuIG4ubm9kZVR5cGV8fHcuc3ZnKG4pfSxzdHI6ZnVuY3Rpb24obil7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIG59LGZuYzpmdW5jdGlvbihuKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBufSx1bmQ6ZnVuY3Rpb24obil7cmV0dXJuIHZvaWQgMD09PW59LG5pbDpmdW5jdGlvbihuKXtyZXR1cm4gdy51bmQobil8fG51bGw9PT1ufSxoZXg6ZnVuY3Rpb24obil7cmV0dXJuLyheI1swLTlBLUZdezZ9JCl8KF4jWzAtOUEtRl17M30kKS9pLnRlc3Qobil9LHJnYjpmdW5jdGlvbihuKXtyZXR1cm4vXnJnYi8udGVzdChuKX0saHNsOmZ1bmN0aW9uKG4pe3JldHVybi9eaHNsLy50ZXN0KG4pfSxjb2w6ZnVuY3Rpb24obil7cmV0dXJuIHcuaGV4KG4pfHx3LnJnYihuKXx8dy5oc2wobil9LGtleTpmdW5jdGlvbihuKXtyZXR1cm4haS5oYXNPd25Qcm9wZXJ0eShuKSYmIU0uaGFzT3duUHJvcGVydHkobikmJlwidGFyZ2V0c1wiIT09biYmXCJrZXlmcmFtZXNcIiE9PW59fTtmdW5jdGlvbiBkKG4pe249L1xcKChbXildKylcXCkvLmV4ZWMobik7cmV0dXJuIG4/blsxXS5zcGxpdChcIixcIikubWFwKGZ1bmN0aW9uKG4pe3JldHVybiBwYXJzZUZsb2F0KG4pfSk6W119ZnVuY3Rpb24gYyhyLHQpe3ZhciBuPWQociksZT1DKHcudW5kKG5bMF0pPzE6blswXSwuMSwxMDApLGE9Qyh3LnVuZChuWzFdKT8xMDA6blsxXSwuMSwxMDApLG89Qyh3LnVuZChuWzJdKT8xMDpuWzJdLC4xLDEwMCksbj1DKHcudW5kKG5bM10pPzA6blszXSwuMSwxMDApLHU9TWF0aC5zcXJ0KGEvZSksaT1vLygyKk1hdGguc3FydChhKmUpKSxjPWk8MT91Kk1hdGguc3FydCgxLWkqaSk6MCxzPWk8MT8oaSp1LW4pL2M6LW4rdTtmdW5jdGlvbiBmKG4pe3ZhciBlPXQ/dCpuLzFlMzpuLGU9aTwxP01hdGguZXhwKC1lKmkqdSkqKCtNYXRoLmNvcyhjKmUpK3MqTWF0aC5zaW4oYyplKSk6KDErcyplKSpNYXRoLmV4cCgtZSp1KTtyZXR1cm4gMD09PW58fDE9PT1uP246MS1lfXJldHVybiB0P2Y6ZnVuY3Rpb24oKXt2YXIgbj1sLnNwcmluZ3Nbcl07aWYobilyZXR1cm4gbjtmb3IodmFyIGU9MCx0PTA7OylpZigxPT09ZihlKz0xLzYpKXtpZigxNjw9Kyt0KWJyZWFrfWVsc2UgdD0wO3JldHVybiBuPWUqKDEvNikqMWUzLGwuc3ByaW5nc1tyXT1ufX1mdW5jdGlvbiBxKGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT0xMCksZnVuY3Rpb24obil7cmV0dXJuIE1hdGguY2VpbChDKG4sMWUtNiwxKSplKSooMS9lKX19dmFyIEg9ZnVuY3Rpb24oYixlLE0sdCl7aWYoMDw9YiYmYjw9MSYmMDw9TSYmTTw9MSl7dmFyIHg9bmV3IEZsb2F0MzJBcnJheSgxMSk7aWYoYiE9PWV8fE0hPT10KWZvcih2YXIgbj0wO248MTE7KytuKXhbbl09ayguMSpuLGIsTSk7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiBiPT09ZSYmTT09PXR8fDA9PT1ufHwxPT09bj9uOmsocihuKSxlLHQpfX1mdW5jdGlvbiByKG4pe2Zvcih2YXIgZT0wLHQ9MTsxMCE9PXQmJnhbdF08PW47Kyt0KWUrPS4xO3ZhciByPWUrLjEqKChuLXhbLS10XSkvKHhbdCsxXS14W3RdKSksYT1PKHIsYixNKTtpZiguMDAxPD1hKXtmb3IodmFyIG89bix1PXIsaT1iLGM9TSxzPTA7czw0Oysrcyl7dmFyIGY9Tyh1LGksYyk7aWYoMD09PWYpcmV0dXJuIHU7dS09KGsodSxpLGMpLW8pL2Z9cmV0dXJuIHV9aWYoMD09PWEpcmV0dXJuIHI7Zm9yKHZhciBsLGQscD1uLGg9ZSxnPWUrLjEsbT1iLHY9TSx5PTA7MDwobD1rKGQ9aCsoZy1oKS8yLG0sdiktcCk/Zz1kOmg9ZCwxZS03PE1hdGguYWJzKGwpJiYrK3k8MTA7KTtyZXR1cm4gZH19O2Z1bmN0aW9uIHIobixlKXtyZXR1cm4gMS0zKmUrMypufWZ1bmN0aW9uIGsobixlLHQpe3JldHVybigocihlLHQpKm4rKDMqdC02KmUpKSpuKzMqZSkqbn1mdW5jdGlvbiBPKG4sZSx0KXtyZXR1cm4gMypyKGUsdCkqbipuKzIqKDMqdC02KmUpKm4rMyplfWU9e2xpbmVhcjpmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gbn19fSx0PXtTaW5lOmZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiAxLU1hdGguY29zKG4qTWF0aC5QSS8yKX19LEV4cG86ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIG4/TWF0aC5wb3coMiwxMCpuLTEwKTowfX0sQ2lyYzpmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gMS1NYXRoLnNxcnQoMS1uKm4pfX0sQmFjazpmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gbipuKigzKm4tMil9fSxCb3VuY2U6ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24obil7Zm9yKHZhciBlLHQ9NDtuPCgoZT1NYXRoLnBvdygyLC0tdCkpLTEpLzExOyk7cmV0dXJuIDEvTWF0aC5wb3coNCwzLXQpLTcuNTYyNSpNYXRoLnBvdygoMyplLTIpLzIyLW4sMil9fSxFbGFzdGljOmZ1bmN0aW9uKG4sZSl7dm9pZCAwPT09ZSYmKGU9LjUpO3ZhciB0PUMobj12b2lkIDA9PT1uPzE6biwxLDEwKSxyPUMoZSwuMSwyKTtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIDA9PT1ufHwxPT09bj9uOi10Kk1hdGgucG93KDIsMTAqKG4tMSkpKk1hdGguc2luKChuLTEtci8oMipNYXRoLlBJKSpNYXRoLmFzaW4oMS90KSkqKDIqTWF0aC5QSSkvcil9fX0sW1wiUXVhZFwiLFwiQ3ViaWNcIixcIlF1YXJ0XCIsXCJRdWludFwiXS5mb3JFYWNoKGZ1bmN0aW9uKG4sZSl7dFtuXT1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gTWF0aC5wb3cobixlKzIpfX19KSxPYmplY3Qua2V5cyh0KS5mb3JFYWNoKGZ1bmN0aW9uKG4pe3ZhciByPXRbbl07ZVtcImVhc2VJblwiK25dPXIsZVtcImVhc2VPdXRcIituXT1mdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gMS1yKGUsdCkoMS1uKX19LGVbXCJlYXNlSW5PdXRcIituXT1mdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gbjwuNT9yKGUsdCkoMipuKS8yOjEtcihlLHQpKC0yKm4rMikvMn19LGVbXCJlYXNlT3V0SW5cIituXT1mdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gbjwuNT8oMS1yKGUsdCkoMS0yKm4pKS8yOihyKGUsdCkoMipuLTEpKzEpLzJ9fX0pO3ZhciBlLHQscz1lO2Z1bmN0aW9uIFAobixlKXtpZih3LmZuYyhuKSlyZXR1cm4gbjt2YXIgdD1uLnNwbGl0KFwiKFwiKVswXSxyPXNbdF0sYT1kKG4pO3N3aXRjaCh0KXtjYXNlXCJzcHJpbmdcIjpyZXR1cm4gYyhuLGUpO2Nhc2VcImN1YmljQmV6aWVyXCI6cmV0dXJuIG8oSCxhKTtjYXNlXCJzdGVwc1wiOnJldHVybiBvKHEsYSk7ZGVmYXVsdDpyZXR1cm4gbyhyLGEpfX1mdW5jdGlvbiBhKG4pe3RyeXtyZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChuKX1jYXRjaChuKXt9fWZ1bmN0aW9uIEkobixlKXtmb3IodmFyIHQscj1uLmxlbmd0aCxhPTI8PWFyZ3VtZW50cy5sZW5ndGg/ZTp2b2lkIDAsbz1bXSx1PTA7dTxyO3UrKyl1IGluIG4mJih0PW5bdV0sZS5jYWxsKGEsdCx1LG4pKSYmby5wdXNoKHQpO3JldHVybiBvfWZ1bmN0aW9uIGYobil7cmV0dXJuIG4ucmVkdWNlKGZ1bmN0aW9uKG4sZSl7cmV0dXJuIG4uY29uY2F0KHcuYXJyKGUpP2YoZSk6ZSl9LFtdKX1mdW5jdGlvbiBwKG4pe3JldHVybiB3LmFycihuKT9uOihuPXcuc3RyKG4pP2Eobil8fG46bilpbnN0YW5jZW9mIE5vZGVMaXN0fHxuIGluc3RhbmNlb2YgSFRNTENvbGxlY3Rpb24/W10uc2xpY2UuY2FsbChuKTpbbl19ZnVuY3Rpb24gaChuLGUpe3JldHVybiBuLnNvbWUoZnVuY3Rpb24obil7cmV0dXJuIG49PT1lfSl9ZnVuY3Rpb24gZyhuKXt2YXIgZSx0PXt9O2ZvcihlIGluIG4pdFtlXT1uW2VdO3JldHVybiB0fWZ1bmN0aW9uIHgobixlKXt2YXIgdCxyPWcobik7Zm9yKHQgaW4gbilyW3RdPShlLmhhc093blByb3BlcnR5KHQpP2U6bilbdF07cmV0dXJuIHJ9ZnVuY3Rpb24gRChuLGUpe3ZhciB0LHI9ZyhuKTtmb3IodCBpbiBlKXJbdF09KHcudW5kKG5bdF0pP2U6bilbdF07cmV0dXJuIHJ9ZnVuY3Rpb24gVihuKXt2YXIgZSx0LHIsYSxvLHUsaTtyZXR1cm4gdy5yZ2Iobik/KGU9L3JnYlxcKChcXGQrLFxccypbXFxkXSssXFxzKltcXGRdKylcXCkvZy5leGVjKHQ9bikpP1wicmdiYShcIitlWzFdK1wiLDEpXCI6dDp3LmhleChuKT8oZT0oZT1uKS5yZXBsYWNlKC9eIz8oW2EtZlxcZF0pKFthLWZcXGRdKShbYS1mXFxkXSkkL2ksZnVuY3Rpb24obixlLHQscil7cmV0dXJuIGUrZSt0K3QrcityfSksZT0vXiM/KFthLWZcXGRdezJ9KShbYS1mXFxkXXsyfSkoW2EtZlxcZF17Mn0pJC9pLmV4ZWMoZSksXCJyZ2JhKFwiK3BhcnNlSW50KGVbMV0sMTYpK1wiLFwiK3BhcnNlSW50KGVbMl0sMTYpK1wiLFwiK3BhcnNlSW50KGVbM10sMTYpK1wiLDEpXCIpOncuaHNsKG4pPyh0PS9oc2xcXCgoXFxkKyksXFxzKihbXFxkLl0rKSUsXFxzKihbXFxkLl0rKSVcXCkvZy5leGVjKHQ9bil8fC9oc2xhXFwoKFxcZCspLFxccyooW1xcZC5dKyklLFxccyooW1xcZC5dKyklLFxccyooW1xcZC5dKylcXCkvZy5leGVjKHQpLG49cGFyc2VJbnQodFsxXSwxMCkvMzYwLHU9cGFyc2VJbnQodFsyXSwxMCkvMTAwLGk9cGFyc2VJbnQodFszXSwxMCkvMTAwLHQ9dFs0XXx8MSwwPT11P3I9YT1vPWk6KHI9Yyh1PTIqaS0oaT1pPC41P2kqKDErdSk6aSt1LWkqdSksaSxuKzEvMyksYT1jKHUsaSxuKSxvPWModSxpLG4tMS8zKSksXCJyZ2JhKFwiKzI1NSpyK1wiLFwiKzI1NSphK1wiLFwiKzI1NSpvK1wiLFwiK3QrXCIpXCIpOnZvaWQgMDtmdW5jdGlvbiBjKG4sZSx0KXtyZXR1cm4gdDwwJiYodCs9MSksMTx0JiYtLXQsdDwxLzY/bis2KihlLW4pKnQ6dDwuNT9lOnQ8Mi8zP24rKGUtbikqKDIvMy10KSo2Om59fWZ1bmN0aW9uIEIobil7bj0vWystXT9cXGQqXFwuP1xcZCsoPzpcXC5cXGQrKT8oPzpbZUVdWystXT9cXGQrKT8oJXxweHxwdHxlbXxyZW18aW58Y218bW18ZXh8Y2h8cGN8dnd8dmh8dm1pbnx2bWF4fGRlZ3xyYWR8dHVybik/JC8uZXhlYyhuKTtpZihuKXJldHVybiBuWzFdfWZ1bmN0aW9uIG0obixlKXtyZXR1cm4gdy5mbmMobik/bihlLnRhcmdldCxlLmlkLGUudG90YWwpOm59ZnVuY3Rpb24gdihuLGUpe3JldHVybiBuLmdldEF0dHJpYnV0ZShlKX1mdW5jdGlvbiB5KG4sZSx0KXt2YXIgcixhLG87cmV0dXJuIGgoW3QsXCJkZWdcIixcInJhZFwiLFwidHVyblwiXSxCKGUpKT9lOihyPWwuQ1NTW2UrdF0sdy51bmQocik/KGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChuLnRhZ05hbWUpLChuPW4ucGFyZW50Tm9kZSYmbi5wYXJlbnROb2RlIT09ZG9jdW1lbnQ/bi5wYXJlbnROb2RlOmRvY3VtZW50LmJvZHkpLmFwcGVuZENoaWxkKGEpLGEuc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLGEuc3R5bGUud2lkdGg9MTAwK3Qsbz0xMDAvYS5vZmZzZXRXaWR0aCxuLnJlbW92ZUNoaWxkKGEpLG49bypwYXJzZUZsb2F0KGUpLGwuQ1NTW2UrdF09bik6cil9ZnVuY3Rpb24gJChuLGUsdCl7dmFyIHI7aWYoZSBpbiBuLnN0eWxlKXJldHVybiByPWUucmVwbGFjZSgvKFthLXpdKShbQS1aXSkvZyxcIiQxLSQyXCIpLnRvTG93ZXJDYXNlKCksZT1uLnN0eWxlW2VdfHxnZXRDb21wdXRlZFN0eWxlKG4pLmdldFByb3BlcnR5VmFsdWUocil8fFwiMFwiLHQ/eShuLGUsdCk6ZX1mdW5jdGlvbiBiKG4sZSl7cmV0dXJuIHcuZG9tKG4pJiYhdy5pbnAobikmJighdy5uaWwodihuLGUpKXx8dy5zdmcobikmJm5bZV0pP1wiYXR0cmlidXRlXCI6dy5kb20obikmJmgoaixlKT9cInRyYW5zZm9ybVwiOncuZG9tKG4pJiZcInRyYW5zZm9ybVwiIT09ZSYmJChuLGUpP1wiY3NzXCI6bnVsbCE9bltlXT9cIm9iamVjdFwiOnZvaWQgMH1mdW5jdGlvbiBXKG4pe2lmKHcuZG9tKG4pKXtmb3IodmFyIGUsdD1uLnN0eWxlLnRyYW5zZm9ybXx8XCJcIixyPS8oXFx3KylcXCgoW14pXSopXFwpL2csYT1uZXcgTWFwO2U9ci5leGVjKHQpOylhLnNldChlWzFdLGVbMl0pO3JldHVybiBhfX1mdW5jdGlvbiBYKG4sZSx0LHIpe3ZhciBhPXUoZSxcInNjYWxlXCIpPzE6MCsodShhPWUsXCJ0cmFuc2xhdGVcIil8fFwicGVyc3BlY3RpdmVcIj09PWE/XCJweFwiOnUoYSxcInJvdGF0ZVwiKXx8dShhLFwic2tld1wiKT9cImRlZ1wiOnZvaWQgMCksbz1XKG4pLmdldChlKXx8YTtyZXR1cm4gdCYmKHQudHJhbnNmb3Jtcy5saXN0LnNldChlLG8pLHQudHJhbnNmb3Jtcy5sYXN0PWUpLHI/eShuLG8scik6b31mdW5jdGlvbiBUKG4sZSx0LHIpe3N3aXRjaChiKG4sZSkpe2Nhc2VcInRyYW5zZm9ybVwiOnJldHVybiBYKG4sZSxyLHQpO2Nhc2VcImNzc1wiOnJldHVybiAkKG4sZSx0KTtjYXNlXCJhdHRyaWJ1dGVcIjpyZXR1cm4gdihuLGUpO2RlZmF1bHQ6cmV0dXJuIG5bZV18fDB9fWZ1bmN0aW9uIEUobixlKXt2YXIgdD0vXihcXCo9fFxcKz18LT0pLy5leGVjKG4pO2lmKCF0KXJldHVybiBuO3ZhciByPUIobil8fDAsYT1wYXJzZUZsb2F0KGUpLG89cGFyc2VGbG9hdChuLnJlcGxhY2UodFswXSxcIlwiKSk7c3dpdGNoKHRbMF1bMF0pe2Nhc2VcIitcIjpyZXR1cm4gYStvK3I7Y2FzZVwiLVwiOnJldHVybiBhLW8rcjtjYXNlXCIqXCI6cmV0dXJuIGEqbytyfX1mdW5jdGlvbiBZKG4sZSl7dmFyIHQ7cmV0dXJuIHcuY29sKG4pP1Yobik6L1xccy9nLnRlc3Qobik/bjoodD0odD1CKG4pKT9uLnN1YnN0cigwLG4ubGVuZ3RoLXQubGVuZ3RoKTpuLGU/dCtlOnQpfWZ1bmN0aW9uIEYobixlKXtyZXR1cm4gTWF0aC5zcXJ0KE1hdGgucG93KGUueC1uLngsMikrTWF0aC5wb3coZS55LW4ueSwyKSl9ZnVuY3Rpb24gWihuKXtmb3IodmFyIGUsdD1uLnBvaW50cyxyPTAsYT0wO2E8dC5udW1iZXJPZkl0ZW1zO2ErKyl7dmFyIG89dC5nZXRJdGVtKGEpOzA8YSYmKHIrPUYoZSxvKSksZT1vfXJldHVybiByfWZ1bmN0aW9uIEcobil7aWYobi5nZXRUb3RhbExlbmd0aClyZXR1cm4gbi5nZXRUb3RhbExlbmd0aCgpO3N3aXRjaChuLnRhZ05hbWUudG9Mb3dlckNhc2UoKSl7Y2FzZVwiY2lyY2xlXCI6cmV0dXJuIDIqTWF0aC5QSSp2KG4sXCJyXCIpO2Nhc2VcInJlY3RcIjpyZXR1cm4gMip2KHQ9bixcIndpZHRoXCIpKzIqdih0LFwiaGVpZ2h0XCIpO2Nhc2VcImxpbmVcIjpyZXR1cm4gRih7eDp2KHQ9bixcIngxXCIpLHk6dih0LFwieTFcIil9LHt4OnYodCxcIngyXCIpLHk6dih0LFwieTJcIil9KTtjYXNlXCJwb2x5bGluZVwiOnJldHVybiBaKG4pO2Nhc2VcInBvbHlnb25cIjpyZXR1cm4gZT1uLnBvaW50cyxaKG4pK0YoZS5nZXRJdGVtKGUubnVtYmVyT2ZJdGVtcy0xKSxlLmdldEl0ZW0oMCkpfXZhciBlLHR9ZnVuY3Rpb24gUShuLGUpe3ZhciBlPWV8fHt9LG49ZS5lbHx8ZnVuY3Rpb24obil7Zm9yKHZhciBlPW4ucGFyZW50Tm9kZTt3LnN2ZyhlKSYmdy5zdmcoZS5wYXJlbnROb2RlKTspZT1lLnBhcmVudE5vZGU7cmV0dXJuIGV9KG4pLHQ9bi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxyPXYobixcInZpZXdCb3hcIiksYT10LndpZHRoLHQ9dC5oZWlnaHQsZT1lLnZpZXdCb3h8fChyP3Iuc3BsaXQoXCIgXCIpOlswLDAsYSx0XSk7cmV0dXJue2VsOm4sdmlld0JveDplLHg6K2VbMF0seTorZVsxXSx3OmEsaDp0LHZXOmVbMl0sdkg6ZVszXX19ZnVuY3Rpb24geihuLGUpe3ZhciB0PS9bKy1dP1xcZCpcXC4/XFxkKyg/OlxcLlxcZCspPyg/OltlRV1bKy1dP1xcZCspPy9nLHI9WSh3LnB0aChuKT9uLnRvdGFsTGVuZ3RoOm4sZSkrXCJcIjtyZXR1cm57b3JpZ2luYWw6cixudW1iZXJzOnIubWF0Y2godCk/ci5tYXRjaCh0KS5tYXAoTnVtYmVyKTpbMF0sc3RyaW5nczp3LnN0cihuKXx8ZT9yLnNwbGl0KHQpOltdfX1mdW5jdGlvbiBBKG4pe3JldHVybiBJKG4/Zih3LmFycihuKT9uLm1hcChwKTpwKG4pKTpbXSxmdW5jdGlvbihuLGUsdCl7cmV0dXJuIHQuaW5kZXhPZihuKT09PWV9KX1mdW5jdGlvbiBfKG4pe3ZhciB0PUEobik7cmV0dXJuIHQubWFwKGZ1bmN0aW9uKG4sZSl7cmV0dXJue3RhcmdldDpuLGlkOmUsdG90YWw6dC5sZW5ndGgsdHJhbnNmb3Jtczp7bGlzdDpXKG4pfX19KX1mdW5jdGlvbiBSKGUpe2Zvcih2YXIgdD1JKGYoZS5tYXAoZnVuY3Rpb24obil7cmV0dXJuIE9iamVjdC5rZXlzKG4pfSkpLGZ1bmN0aW9uKG4pe3JldHVybiB3LmtleShuKX0pLnJlZHVjZShmdW5jdGlvbihuLGUpe3JldHVybiBuLmluZGV4T2YoZSk8MCYmbi5wdXNoKGUpLG59LFtdKSxhPXt9LG49MDtuPHQubGVuZ3RoO24rKykhZnVuY3Rpb24obil7dmFyIHI9dFtuXTthW3JdPWUubWFwKGZ1bmN0aW9uKG4pe3ZhciBlLHQ9e307Zm9yKGUgaW4gbil3LmtleShlKT9lPT1yJiYodC52YWx1ZT1uW2VdKTp0W2VdPW5bZV07cmV0dXJuIHR9KX0obik7cmV0dXJuIGF9ZnVuY3Rpb24gSihuLGUpe3ZhciB0LHI9W10sYT1lLmtleWZyYW1lcztmb3IodCBpbiBlPWE/RChSKGEpLGUpOmUpdy5rZXkodCkmJnIucHVzaCh7bmFtZTp0LHR3ZWVuczpmdW5jdGlvbihuLHQpe3ZhciBlLHI9Zyh0KSxhPSgvXnNwcmluZy8udGVzdChyLmVhc2luZykmJihyLmR1cmF0aW9uPWMoci5lYXNpbmcpKSx3LmFycihuKSYmKDI9PT0oZT1uLmxlbmd0aCkmJiF3Lm9iaihuWzBdKT9uPXt2YWx1ZTpufTp3LmZuYyh0LmR1cmF0aW9uKXx8KHIuZHVyYXRpb249dC5kdXJhdGlvbi9lKSksdy5hcnIobik/bjpbbl0pO3JldHVybiBhLm1hcChmdW5jdGlvbihuLGUpe249dy5vYmoobikmJiF3LnB0aChuKT9uOnt2YWx1ZTpufTtyZXR1cm4gdy51bmQobi5kZWxheSkmJihuLmRlbGF5PWU/MDp0LmRlbGF5KSx3LnVuZChuLmVuZERlbGF5KSYmKG4uZW5kRGVsYXk9ZT09PWEubGVuZ3RoLTE/dC5lbmREZWxheTowKSxufSkubWFwKGZ1bmN0aW9uKG4pe3JldHVybiBEKG4scil9KX0oZVt0XSxuKX0pO3JldHVybiByfWZ1bmN0aW9uIEsoaSxjKXt2YXIgcztyZXR1cm4gaS50d2VlbnMubWFwKGZ1bmN0aW9uKG4pe3ZhciBuPWZ1bmN0aW9uKG4sZSl7dmFyIHQscj17fTtmb3IodCBpbiBuKXt2YXIgYT1tKG5bdF0sZSk7dy5hcnIoYSkmJjE9PT0oYT1hLm1hcChmdW5jdGlvbihuKXtyZXR1cm4gbShuLGUpfSkpLmxlbmd0aCYmKGE9YVswXSksclt0XT1hfXJldHVybiByLmR1cmF0aW9uPXBhcnNlRmxvYXQoci5kdXJhdGlvbiksci5kZWxheT1wYXJzZUZsb2F0KHIuZGVsYXkpLHJ9KG4sYyksZT1uLnZhbHVlLHQ9dy5hcnIoZSk/ZVsxXTplLHI9Qih0KSxhPVQoYy50YXJnZXQsaS5uYW1lLHIsYyksbz1zP3MudG8ub3JpZ2luYWw6YSx1PXcuYXJyKGUpP2VbMF06byxhPUIodSl8fEIoYSkscj1yfHxhO3JldHVybiB3LnVuZCh0KSYmKHQ9byksbi5mcm9tPXoodSxyKSxuLnRvPXooRSh0LHUpLHIpLG4uc3RhcnQ9cz9zLmVuZDowLG4uZW5kPW4uc3RhcnQrbi5kZWxheStuLmR1cmF0aW9uK24uZW5kRGVsYXksbi5lYXNpbmc9UChuLmVhc2luZyxuLmR1cmF0aW9uKSxuLmlzUGF0aD13LnB0aChlKSxuLmlzUGF0aFRhcmdldEluc2lkZVNWRz1uLmlzUGF0aCYmdy5zdmcoYy50YXJnZXQpLG4uaXNDb2xvcj13LmNvbChuLmZyb20ub3JpZ2luYWwpLG4uaXNDb2xvciYmKG4ucm91bmQ9MSkscz1ufSl9dmFyIFU9e2NzczpmdW5jdGlvbihuLGUsdCl7cmV0dXJuIG4uc3R5bGVbZV09dH0sYXR0cmlidXRlOmZ1bmN0aW9uKG4sZSx0KXtyZXR1cm4gbi5zZXRBdHRyaWJ1dGUoZSx0KX0sb2JqZWN0OmZ1bmN0aW9uKG4sZSx0KXtyZXR1cm4gbltlXT10fSx0cmFuc2Zvcm06ZnVuY3Rpb24obixlLHQscixhKXt2YXIgbztyLmxpc3Quc2V0KGUsdCksZSE9PXIubGFzdCYmIWF8fChvPVwiXCIsci5saXN0LmZvckVhY2goZnVuY3Rpb24obixlKXtvKz1lK1wiKFwiK24rXCIpIFwifSksbi5zdHlsZS50cmFuc2Zvcm09byl9fTtmdW5jdGlvbiBubihuLHUpe18obikuZm9yRWFjaChmdW5jdGlvbihuKXtmb3IodmFyIGUgaW4gdSl7dmFyIHQ9bSh1W2VdLG4pLHI9bi50YXJnZXQsYT1CKHQpLG89VChyLGUsYSxuKSx0PUUoWSh0LGF8fEIobykpLG8pLGE9YihyLGUpO1VbYV0ocixlLHQsbi50cmFuc2Zvcm1zLCEwKX19KX1mdW5jdGlvbiBlbihuLGUpe3JldHVybiBJKGYobi5tYXAoZnVuY3Rpb24obyl7cmV0dXJuIGUubWFwKGZ1bmN0aW9uKG4pe3ZhciBlLHQscj1vLGE9YihyLnRhcmdldCxuLm5hbWUpO2lmKGEpcmV0dXJuIHQ9KGU9SyhuLHIpKVtlLmxlbmd0aC0xXSx7dHlwZTphLHByb3BlcnR5Om4ubmFtZSxhbmltYXRhYmxlOnIsdHdlZW5zOmUsZHVyYXRpb246dC5lbmQsZGVsYXk6ZVswXS5kZWxheSxlbmREZWxheTp0LmVuZERlbGF5fX0pfSkpLGZ1bmN0aW9uKG4pe3JldHVybiF3LnVuZChuKX0pfWZ1bmN0aW9uIHRuKG4sZSl7ZnVuY3Rpb24gdChuKXtyZXR1cm4gbi50aW1lbGluZU9mZnNldHx8MH12YXIgcj1uLmxlbmd0aCxhPXt9O3JldHVybiBhLmR1cmF0aW9uPXI/TWF0aC5tYXguYXBwbHkoTWF0aCxuLm1hcChmdW5jdGlvbihuKXtyZXR1cm4gdChuKStuLmR1cmF0aW9ufSkpOmUuZHVyYXRpb24sYS5kZWxheT1yP01hdGgubWluLmFwcGx5KE1hdGgsbi5tYXAoZnVuY3Rpb24obil7cmV0dXJuIHQobikrbi5kZWxheX0pKTplLmRlbGF5LGEuZW5kRGVsYXk9cj9hLmR1cmF0aW9uLU1hdGgubWF4LmFwcGx5KE1hdGgsbi5tYXAoZnVuY3Rpb24obil7cmV0dXJuIHQobikrbi5kdXJhdGlvbi1uLmVuZERlbGF5fSkpOmUuZW5kRGVsYXksYX12YXIgcm49MDt2YXIgTixTPVtdLGFuPShcInVuZGVmaW5lZFwiIT10eXBlb2YgZG9jdW1lbnQmJmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsZnVuY3Rpb24oKXtMLnN1c3BlbmRXaGVuRG9jdW1lbnRIaWRkZW4mJihuKCk/Tj1jYW5jZWxBbmltYXRpb25GcmFtZShOKTooUy5mb3JFYWNoKGZ1bmN0aW9uKG4pe3JldHVybiBuLl9vbkRvY3VtZW50VmlzaWJpbGl0eSgpfSksYW4oKSkpfSksZnVuY3Rpb24oKXshKE58fG4oKSYmTC5zdXNwZW5kV2hlbkRvY3VtZW50SGlkZGVuKSYmMDxTLmxlbmd0aCYmKE49cmVxdWVzdEFuaW1hdGlvbkZyYW1lKG9uKSl9KTtmdW5jdGlvbiBvbihuKXtmb3IodmFyIGU9Uy5sZW5ndGgsdD0wO3Q8ZTspe3ZhciByPVNbdF07ci5wYXVzZWQ/KFMuc3BsaWNlKHQsMSksZS0tKTooci50aWNrKG4pLHQrKyl9Tj0wPHQ/cmVxdWVzdEFuaW1hdGlvbkZyYW1lKG9uKTp2b2lkIDB9ZnVuY3Rpb24gbigpe3JldHVybiBkb2N1bWVudCYmZG9jdW1lbnQuaGlkZGVufWZ1bmN0aW9uIEwobil7dmFyIGMscz0wLGY9MCxsPTAsZD0wLHA9bnVsbDtmdW5jdGlvbiBoKG4pe3ZhciBlPXdpbmRvdy5Qcm9taXNlJiZuZXcgUHJvbWlzZShmdW5jdGlvbihuKXtyZXR1cm4gcD1ufSk7cmV0dXJuIG4uZmluaXNoZWQ9ZX1lPXgoaSxuPW49dm9pZCAwPT09bj97fTpuKSx0PUoocj14KE0sbiksbiksbj1fKG4udGFyZ2V0cykscj10bih0PWVuKG4sdCksciksYT1ybixybisrO3ZhciBlLHQscixhLGs9RChlLHtpZDphLGNoaWxkcmVuOltdLGFuaW1hdGFibGVzOm4sYW5pbWF0aW9uczp0LGR1cmF0aW9uOnIuZHVyYXRpb24sZGVsYXk6ci5kZWxheSxlbmREZWxheTpyLmVuZERlbGF5fSk7aChrKTtmdW5jdGlvbiBnKCl7dmFyIG49ay5kaXJlY3Rpb247XCJhbHRlcm5hdGVcIiE9PW4mJihrLmRpcmVjdGlvbj1cIm5vcm1hbFwiIT09bj9cIm5vcm1hbFwiOlwicmV2ZXJzZVwiKSxrLnJldmVyc2VkPSFrLnJldmVyc2VkLGMuZm9yRWFjaChmdW5jdGlvbihuKXtyZXR1cm4gbi5yZXZlcnNlZD1rLnJldmVyc2VkfSl9ZnVuY3Rpb24gbShuKXtyZXR1cm4gay5yZXZlcnNlZD9rLmR1cmF0aW9uLW46bn1mdW5jdGlvbiBvKCl7cz0wLGY9bShrLmN1cnJlbnRUaW1lKSooMS9MLnNwZWVkKX1mdW5jdGlvbiB2KG4sZSl7ZSYmZS5zZWVrKG4tZS50aW1lbGluZU9mZnNldCl9ZnVuY3Rpb24geShlKXtmb3IodmFyIG49MCx0PWsuYW5pbWF0aW9ucyxyPXQubGVuZ3RoO248cjspe2Zvcih2YXIgYT10W25dLG89YS5hbmltYXRhYmxlLHU9YS50d2VlbnMsaT11Lmxlbmd0aC0xLGM9dVtpXSxpPShpJiYoYz1JKHUsZnVuY3Rpb24obil7cmV0dXJuIGU8bi5lbmR9KVswXXx8YyksQyhlLWMuc3RhcnQtYy5kZWxheSwwLGMuZHVyYXRpb24pL2MuZHVyYXRpb24pLHM9aXNOYU4oaSk/MTpjLmVhc2luZyhpKSxmPWMudG8uc3RyaW5ncyxsPWMucm91bmQsZD1bXSxwPWMudG8ubnVtYmVycy5sZW5ndGgsaD12b2lkIDAsZz0wO2c8cDtnKyspe3ZhciBtPXZvaWQgMCx2PWMudG8ubnVtYmVyc1tnXSx5PWMuZnJvbS5udW1iZXJzW2ddfHwwLG09Yy5pc1BhdGg/ZnVuY3Rpb24oZSx0LG4pe2Z1bmN0aW9uIHIobil7cmV0dXJuIGUuZWwuZ2V0UG9pbnRBdExlbmd0aCgxPD10KyhuPXZvaWQgMD09PW4/MDpuKT90K246MCl9dmFyIGE9UShlLmVsLGUuc3ZnKSxvPXIoKSx1PXIoLTEpLGk9cigxKSxjPW4/MTphLncvYS52VyxzPW4/MTphLmgvYS52SDtzd2l0Y2goZS5wcm9wZXJ0eSl7Y2FzZVwieFwiOnJldHVybihvLngtYS54KSpjO2Nhc2VcInlcIjpyZXR1cm4oby55LWEueSkqcztjYXNlXCJhbmdsZVwiOnJldHVybiAxODAqTWF0aC5hdGFuMihpLnktdS55LGkueC11LngpL01hdGguUEl9fShjLnZhbHVlLHMqdixjLmlzUGF0aFRhcmdldEluc2lkZVNWRyk6eStzKih2LXkpOyFsfHxjLmlzQ29sb3ImJjI8Z3x8KG09TWF0aC5yb3VuZChtKmwpL2wpLGQucHVzaChtKX12YXIgYj1mLmxlbmd0aDtpZihiKWZvcih2YXIgaD1mWzBdLE09MDtNPGI7TSsrKXtmW01dO3ZhciB4PWZbTSsxXSx3PWRbTV07aXNOYU4odyl8fChoKz14P3creDp3K1wiIFwiKX1lbHNlIGg9ZFswXTtVW2EudHlwZV0oby50YXJnZXQsYS5wcm9wZXJ0eSxoLG8udHJhbnNmb3JtcyksYS5jdXJyZW50VmFsdWU9aCxuKyt9fWZ1bmN0aW9uIGIobil7a1tuXSYmIWsucGFzc1Rocm91Z2gmJmtbbl0oayl9ZnVuY3Rpb24gdShuKXt2YXIgZT1rLmR1cmF0aW9uLHQ9ay5kZWxheSxyPWUtay5lbmREZWxheSxhPW0obik7aWYoay5wcm9ncmVzcz1DKGEvZSoxMDAsMCwxMDApLGsucmV2ZXJzZVBsYXliYWNrPWE8ay5jdXJyZW50VGltZSxjKXt2YXIgbz1hO2lmKGsucmV2ZXJzZVBsYXliYWNrKWZvcih2YXIgdT1kO3UtLTspdihvLGNbdV0pO2Vsc2UgZm9yKHZhciBpPTA7aTxkO2krKyl2KG8sY1tpXSl9IWsuYmVnYW4mJjA8ay5jdXJyZW50VGltZSYmKGsuYmVnYW49ITAsYihcImJlZ2luXCIpKSwhay5sb29wQmVnYW4mJjA8ay5jdXJyZW50VGltZSYmKGsubG9vcEJlZ2FuPSEwLGIoXCJsb29wQmVnaW5cIikpLGE8PXQmJjAhPT1rLmN1cnJlbnRUaW1lJiZ5KDApLChyPD1hJiZrLmN1cnJlbnRUaW1lIT09ZXx8IWUpJiZ5KGUpLHQ8YSYmYTxyPyhrLmNoYW5nZUJlZ2FufHwoay5jaGFuZ2VCZWdhbj0hMCxrLmNoYW5nZUNvbXBsZXRlZD0hMSxiKFwiY2hhbmdlQmVnaW5cIikpLGIoXCJjaGFuZ2VcIikseShhKSk6ay5jaGFuZ2VCZWdhbiYmKGsuY2hhbmdlQ29tcGxldGVkPSEwLGsuY2hhbmdlQmVnYW49ITEsYihcImNoYW5nZUNvbXBsZXRlXCIpKSxrLmN1cnJlbnRUaW1lPUMoYSwwLGUpLGsuYmVnYW4mJmIoXCJ1cGRhdGVcIiksZTw9biYmKGY9MCxrLnJlbWFpbmluZyYmITAhPT1rLnJlbWFpbmluZyYmay5yZW1haW5pbmctLSxrLnJlbWFpbmluZz8ocz1sLGIoXCJsb29wQ29tcGxldGVcIiksay5sb29wQmVnYW49ITEsXCJhbHRlcm5hdGVcIj09PWsuZGlyZWN0aW9uJiZnKCkpOihrLnBhdXNlZD0hMCxrLmNvbXBsZXRlZHx8KGsuY29tcGxldGVkPSEwLGIoXCJsb29wQ29tcGxldGVcIiksYihcImNvbXBsZXRlXCIpLCFrLnBhc3NUaHJvdWdoJiZcIlByb21pc2VcImluIHdpbmRvdyYmKHAoKSxoKGspKSkpKX1yZXR1cm4gay5yZXNldD1mdW5jdGlvbigpe3ZhciBuPWsuZGlyZWN0aW9uO2sucGFzc1Rocm91Z2g9ITEsay5jdXJyZW50VGltZT0wLGsucHJvZ3Jlc3M9MCxrLnBhdXNlZD0hMCxrLmJlZ2FuPSExLGsubG9vcEJlZ2FuPSExLGsuY2hhbmdlQmVnYW49ITEsay5jb21wbGV0ZWQ9ITEsay5jaGFuZ2VDb21wbGV0ZWQ9ITEsay5yZXZlcnNlUGxheWJhY2s9ITEsay5yZXZlcnNlZD1cInJldmVyc2VcIj09PW4say5yZW1haW5pbmc9ay5sb29wLGM9ay5jaGlsZHJlbjtmb3IodmFyIGU9ZD1jLmxlbmd0aDtlLS07KWsuY2hpbGRyZW5bZV0ucmVzZXQoKTsoay5yZXZlcnNlZCYmITAhPT1rLmxvb3B8fFwiYWx0ZXJuYXRlXCI9PT1uJiYxPT09ay5sb29wKSYmay5yZW1haW5pbmcrKyx5KGsucmV2ZXJzZWQ/ay5kdXJhdGlvbjowKX0say5fb25Eb2N1bWVudFZpc2liaWxpdHk9byxrLnNldD1mdW5jdGlvbihuLGUpe3JldHVybiBubihuLGUpLGt9LGsudGljaz1mdW5jdGlvbihuKXt1KCgobD1uKSsoZi0ocz1zfHxsKSkpKkwuc3BlZWQpfSxrLnNlZWs9ZnVuY3Rpb24obil7dShtKG4pKX0say5wYXVzZT1mdW5jdGlvbigpe2sucGF1c2VkPSEwLG8oKX0say5wbGF5PWZ1bmN0aW9uKCl7ay5wYXVzZWQmJihrLmNvbXBsZXRlZCYmay5yZXNldCgpLGsucGF1c2VkPSExLFMucHVzaChrKSxvKCksYW4oKSl9LGsucmV2ZXJzZT1mdW5jdGlvbigpe2coKSxrLmNvbXBsZXRlZD0hay5yZXZlcnNlZCxvKCl9LGsucmVzdGFydD1mdW5jdGlvbigpe2sucmVzZXQoKSxrLnBsYXkoKX0say5yZW1vdmU9ZnVuY3Rpb24obil7Y24oQShuKSxrKX0say5yZXNldCgpLGsuYXV0b3BsYXkmJmsucGxheSgpLGt9ZnVuY3Rpb24gdW4obixlKXtmb3IodmFyIHQ9ZS5sZW5ndGg7dC0tOyloKG4sZVt0XS5hbmltYXRhYmxlLnRhcmdldCkmJmUuc3BsaWNlKHQsMSl9ZnVuY3Rpb24gY24obixlKXt2YXIgdD1lLmFuaW1hdGlvbnMscj1lLmNoaWxkcmVuO3VuKG4sdCk7Zm9yKHZhciBhPXIubGVuZ3RoO2EtLTspe3ZhciBvPXJbYV0sdT1vLmFuaW1hdGlvbnM7dW4obix1KSx1Lmxlbmd0aHx8by5jaGlsZHJlbi5sZW5ndGh8fHIuc3BsaWNlKGEsMSl9dC5sZW5ndGh8fHIubGVuZ3RofHxlLnBhdXNlKCl9cmV0dXJuIEwudmVyc2lvbj1cIjMuMi4xXCIsTC5zcGVlZD0xLEwuc3VzcGVuZFdoZW5Eb2N1bWVudEhpZGRlbj0hMCxMLnJ1bm5pbmc9UyxMLnJlbW92ZT1mdW5jdGlvbihuKXtmb3IodmFyIGU9QShuKSx0PVMubGVuZ3RoO3QtLTspY24oZSxTW3RdKX0sTC5nZXQ9VCxMLnNldD1ubixMLmNvbnZlcnRQeD15LEwucGF0aD1mdW5jdGlvbihuLGUpe3ZhciB0PXcuc3RyKG4pP2EobilbMF06bixyPWV8fDEwMDtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJue3Byb3BlcnR5Om4sZWw6dCxzdmc6USh0KSx0b3RhbExlbmd0aDpHKHQpKihyLzEwMCl9fX0sTC5zZXREYXNob2Zmc2V0PWZ1bmN0aW9uKG4pe3ZhciBlPUcobik7cmV0dXJuIG4uc2V0QXR0cmlidXRlKFwic3Ryb2tlLWRhc2hhcnJheVwiLGUpLGV9LEwuc3RhZ2dlcj1mdW5jdGlvbihuLGUpe3ZhciBpPShlPXZvaWQgMD09PWU/e306ZSkuZGlyZWN0aW9ufHxcIm5vcm1hbFwiLGM9ZS5lYXNpbmc/UChlLmVhc2luZyk6bnVsbCxzPWUuZ3JpZCxmPWUuYXhpcyxsPWUuZnJvbXx8MCxkPVwiZmlyc3RcIj09PWwscD1cImNlbnRlclwiPT09bCxoPVwibGFzdFwiPT09bCxnPXcuYXJyKG4pLG09Zz9wYXJzZUZsb2F0KG5bMF0pOnBhcnNlRmxvYXQobiksdj1nP3BhcnNlRmxvYXQoblsxXSk6MCx5PUIoZz9uWzFdOm4pfHwwLGI9ZS5zdGFydHx8MCsoZz9tOjApLE09W10seD0wO3JldHVybiBmdW5jdGlvbihuLGUsdCl7aWYoZCYmKGw9MCkscCYmKGw9KHQtMSkvMiksaCYmKGw9dC0xKSwhTS5sZW5ndGgpe2Zvcih2YXIgcixhLG8sdT0wO3U8dDt1Kyspcz8ocj1wPyhzWzBdLTEpLzI6bCVzWzBdLGE9cD8oc1sxXS0xKS8yOk1hdGguZmxvb3IobC9zWzBdKSxyPXItdSVzWzBdLGE9YS1NYXRoLmZsb29yKHUvc1swXSksbz1NYXRoLnNxcnQocipyK2EqYSksXCJ4XCI9PT1mJiYobz0tciksTS5wdXNoKG89XCJ5XCI9PT1mPy1hOm8pKTpNLnB1c2goTWF0aC5hYnMobC11KSkseD1NYXRoLm1heC5hcHBseShNYXRoLE0pO2MmJihNPU0ubWFwKGZ1bmN0aW9uKG4pe3JldHVybiBjKG4veCkqeH0pKSxcInJldmVyc2VcIj09PWkmJihNPU0ubWFwKGZ1bmN0aW9uKG4pe3JldHVybiBmP248MD8tMSpuOi1uOk1hdGguYWJzKHgtbil9KSl9cmV0dXJuIGIrKGc/KHYtbSkveDptKSooTWF0aC5yb3VuZCgxMDAqTVtlXSkvMTAwKSt5fX0sTC50aW1lbGluZT1mdW5jdGlvbih1KXt2YXIgaT1MKHU9dm9pZCAwPT09dT97fTp1KTtyZXR1cm4gaS5kdXJhdGlvbj0wLGkuYWRkPWZ1bmN0aW9uKG4sZSl7dmFyIHQ9Uy5pbmRleE9mKGkpLHI9aS5jaGlsZHJlbjtmdW5jdGlvbiBhKG4pe24ucGFzc1Rocm91Z2g9ITB9LTE8dCYmUy5zcGxpY2UodCwxKTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylhKHJbb10pO3Q9RChuLHgoTSx1KSksdC50YXJnZXRzPXQudGFyZ2V0c3x8dS50YXJnZXRzLG49aS5kdXJhdGlvbix0LmF1dG9wbGF5PSExLHQuZGlyZWN0aW9uPWkuZGlyZWN0aW9uLHQudGltZWxpbmVPZmZzZXQ9dy51bmQoZSk/bjpFKGUsbiksYShpKSxpLnNlZWsodC50aW1lbGluZU9mZnNldCksZT1MKHQpLGEoZSksci5wdXNoKGUpLG49dG4ocix1KTtyZXR1cm4gaS5kZWxheT1uLmRlbGF5LGkuZW5kRGVsYXk9bi5lbmREZWxheSxpLmR1cmF0aW9uPW4uZHVyYXRpb24saS5zZWVrKDApLGkucmVzZXQoKSxpLmF1dG9wbGF5JiZpLnBsYXkoKSxpfSxpfSxMLmVhc2luZz1QLEwucGVubmVyPXMsTC5yYW5kb209ZnVuY3Rpb24obixlKXtyZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKihlLW4rMSkpK259LEx9KTsiLCIvKipcbiAqIFJlcHJlc2VudHMgYSBTbG90IE1hY2hpbmUgZ2FtZS5cbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtPYmplY3R9IHBhcmFtcyAtIFRoZSBwYXJhbWV0ZXJzIHJlcXVpcmVkIHRvIGNyZWF0ZSBhIGdhbWUsIHN1Y2ggYXMgcmVzb3VyY2VzLCBzZXR0aW5ncywgZXRjLlxuICogQHBhcmFtIHtudW1iZXJ9IGdhbWVXaWR0aCAtIFRoZSB3aWR0aCBvZiB0aGUgZ2FtZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBnYW1lSGVpZ2h0IC0gVGhlIGhlaWdodCBvZiB0aGUgZ2FtZS5cbiAqIEBleGFtcGxlXG4gKiBsZXQgZ2FtZSA9IG5ldyBTbG90KHtcbiAqICBjb250YWluZXI6ICcuZ2FtZS1jb250YWluZXInLFxuICogfSwgMTAwLCAxMDApO1xuICovXG52YXIgU2xvdCA9IGZ1bmN0aW9uKHBhcmFtcywgZ2FtZVdpZHRoLCBnYW1lSGVpZ2h0KSB7XG4gIHRoaXMuVkVSU0lPTiA9ICcwLjEnO1xuICB0aGlzLmVuZ2luZSA9IG5ldyBTbG90LkdhbWUoZ2FtZVdpZHRoLCBnYW1lSGVpZ2h0KTtcbiAgdGhpcy5lbmdpbmUuZ2FtZSA9IHRoaXM7XG4gIHRoaXMucmVlbHMgPSBuZXcgU2xvdC5SZWVsc0NvbnRyb2xsZXIodGhpcyk7XG4gIHRoaXMuZXZlbnRzID0ge1xuICAgIHN0YXJ0OiBbXSxcbiAgICBzdG9wOiBbXSxcbiAgfTtcbiAgdGhpcy5zZXR0aW5ncyA9IHtcbiAgICBzcGVlZDogMC4yLFxuICAgIHNwaW5UaW1lOiA0NTAsXG4gICAgc3BpblRpbWVCZXR3ZWVuUmVlbHM6IDEyMCxcbiAgICByZWVsQm91bmNlRHVyYXRpb246IDMwMCxcbiAgICBuZXR3b3JrOiBmYWxzZSxcbiAgfTtcbiAgdGhpcy53YWl0Rm9yUmVzdWx0ID0gZmFsc2U7XG4gIHRoaXMuZm9yY2VTdG9wUGVuZGluZyA9IGZhbHNlO1xuXG4gIHRoaXMucmVlbHMub25TdGFydChmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5zZXR0aW5ncy5uZXR3b3JrKSB7XG4gICAgICB0aGlzLndhaXRGb3JSZXN1bHQgPSB0cnVlO1xuICAgIH1cbiAgICB0aGlzLmV2ZW50cy5zdGFydC5mb3JFYWNoKGZ1bmN0aW9uKGZuKSB7XG4gICAgICBmbigpO1xuICAgIH0pO1xuICB9LmJpbmQodGhpcykpO1xuXG4gIHRoaXMucmVlbHMub25TdG9wKGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuZXZlbnRzLnN0b3AuZm9yRWFjaChmdW5jdGlvbihmbikge1xuICAgICAgZm4oKTtcbiAgICB9KTtcbiAgfS5iaW5kKHRoaXMpKTtcblxuICBwYXJhbXMgPSBwYXJhbXMgfHwge307XG4gIGlmIChwYXJhbXMuY29udGFpbmVyKSB7XG4gICAgdmFyIGNvbnRhaW5lckVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihwYXJhbXMuY29udGFpbmVyKTtcbiAgICBpZiAoY29udGFpbmVyRWwpIHtcbiAgICAgIGNvbnRhaW5lckVsLmFwcGVuZENoaWxkKHRoaXMuZW5naW5lLnJlbmRlcmVyLnZpZXcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiSW52YWxpZCBjb250YWluZXJcIik7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5lbmdpbmUucmVuZGVyZXIudmlldyk7XG4gIH1cbiAgXG4gIGZ1bmN0aW9uIG9uUmVzaXplKCkge1xuICAgIHZhciByYXRpbyA9IGdhbWVXaWR0aCAvIGdhbWVIZWlnaHQ7XG4gICAgdmFyIHZpZXcgPSB0aGlzLmVuZ2luZS5yZW5kZXJlci52aWV3O1xuICAgIHZhciB3aWR0aCA9IHZpZXcucGFyZW50Tm9kZS5vZmZzZXRXaWR0aDtcbiAgICB2YXIgaGVpZ2h0ID0gd2lkdGggLyByYXRpbztcbiAgICBpZiAoaGVpZ2h0ID4gdmlldy5wYXJlbnROb2RlLm9mZnNldEhlaWdodCkge1xuICAgICAgaGVpZ2h0ID0gdmlldy5wYXJlbnROb2RlLm9mZnNldEhlaWdodDtcbiAgICAgIHdpZHRoID0gcmF0aW8gKiBoZWlnaHQ7XG4gICAgfVxuICAgIHRoaXMuZW5naW5lLnJlbmRlcmVyLnJlc2l6ZSh3aWR0aCwgaGVpZ2h0KTtcbiAgfVxuICBvblJlc2l6ZS5iaW5kKHRoaXMpKCk7XG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBvblJlc2l6ZS5iaW5kKHRoaXMpKTtcblxuICB2YXIgX3RoaXMgPSB0aGlzO1xuICBcbiAgaWYgKCdyZXNvdXJjZXMnIGluIHBhcmFtcykge1xuICAgIHBhcmFtcy5yZXNvdXJjZXMuZm9yRWFjaChmdW5jdGlvbihyZXNvdXJjZSkge1xuICAgICAgaWYgKHJlc291cmNlLmxlbmd0aCkge1xuICAgICAgICBQSVhJLkxvYWRlci5zaGFyZWQuYWRkKHJlc291cmNlWzBdLCByZXNvdXJjZVsxXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBQSVhJLkxvYWRlci5zaGFyZWQuYWRkKHJlc291cmNlLmtleSwgcmVzb3VyY2UudmFsdWUpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgaWYgKCdpbml0JyBpbiBwYXJhbXMpIHtcbiAgICBQSVhJLkxvYWRlci5zaGFyZWQubG9hZChmdW5jdGlvbigpIHtcbiAgICAgIHBhcmFtcy5pbml0LmJpbmQoX3RoaXMpKF90aGlzKTtcbiAgICB9KTtcbiAgfVxuXG4gIGlmICgnc2V0dGluZ3MnIGluIHBhcmFtcykge1xuICAgIGZvciAodmFyIGtleSBpbiBwYXJhbXMuc2V0dGluZ3MpIHtcbiAgICAgIHRoaXMuc2V0dGluZ3Nba2V5XSA9IHBhcmFtcy5zZXR0aW5nc1trZXldO1xuICAgIH1cbiAgICB0aGlzLnJlZWxzLnNwaW5UaW1lID0gdGhpcy5zZXR0aW5ncy5zcGluVGltZTtcbiAgICB0aGlzLnJlZWxzLnNwaW5UaW1lQmV0d2VlblJlZWxzID0gdGhpcy5zZXR0aW5ncy5zcGluVGltZUJldHdlZW5SZWVscztcbiAgfVxufTtcblxuLyoqXG4gKiBUaGlzIGlzIHRoZSBsb2FkIHJlc291cmNlcyBtZXRob2QgdXNlZCB0byBhZGQgcmVzb3VyY2VzIHRvIHRoZSBnYW1lLlxuICogQHBhcmFtIHtBcnJheX0gY29uZmlnIC0gQXJyYXkgd2l0aCByZXNvdXJjZXMga2V5IGFuZCBzb3VyY2UgcGF0aC5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IG9uQ29tcGxldGUgLSBDb21wbGV0ZSBtZXRob2Qgd2hpY2ggcnVucyBhZnRlciBsb2FkaW5nIGlzIGZpbmlzaGVkLlxuICovXG5TbG90LnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24oY29uZmlnLCBvbkNvbXBsZXRlKSB7XG4gIGNvbmZpZy5mb3JFYWNoKGZ1bmN0aW9uKHJlc291cmNlKSB7XG4gICAgaWYgKHJlc291cmNlLmxlbmd0aCkge1xuICAgICAgUElYSS5Mb2FkZXIuc2hhcmVkLmFkZChyZXNvdXJjZVswXSwgcmVzb3VyY2VbMV0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBQSVhJLkxvYWRlci5zaGFyZWQuYWRkKHJlc291cmNlLmtleSwgcmVzb3VyY2UudmFsdWUpO1xuICAgIH1cbiAgfSk7XG4gIFBJWEkuTG9hZGVyLnNoYXJlZC5sb2FkKG9uQ29tcGxldGUpO1xufTtcbi8qKlxuICogVGhlIG1haW4gcGxheSBtZXRob2QgdXNlZCB0byBzdGFydCBvciBzdG9wIHRoZSByZWVscy5cbiAqL1xuU2xvdC5wcm90b3R5cGUucGxheSA9IGZ1bmN0aW9uKCkge1xuICBpZiAoIXRoaXMud2FpdEZvclJlc3VsdCkge1xuICAgIGlmICghdGhpcy5yZWVscy5yb2xsaW5nKSB7XG4gICAgICB0aGlzLnJlZWxzLnN0YXJ0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucmVlbHMuc3RvcCgpO1xuICAgIH1cbiAgfVxuICBpZiAodGhpcy5yZWVscy5yb2xsaW5nKSB7XG4gICAgdGhpcy5mb3JjZVN0b3BQZW5kaW5nID0gdHJ1ZTtcbiAgfVxufTtcbi8qKlxuICogVGhlIHJlc3VsdCBtZXRob2QgaXMgdXNlZCB0byBzZXQgYSByZXN1bHQgYW5kIHN0b3AgdGhlIHJlZWxzLlxuICogQHBhcmFtIHtBcnJheX0gcmVzdWx0IC0gVGhlIGFycmF5IGNvbnRhaW5pbmcgdGhlIHJlc3VsdCBmb3IgZWFjaCByZWVsLlxuICovXG5TbG90LnByb3RvdHlwZS5yZXN1bHQgPSBmdW5jdGlvbihyZXN1bHQpIHtcbiAgdGhpcy5yZWVscy5yZWVscy5mb3JFYWNoKGZ1bmN0aW9uKHJlZWwsIHJlZWxJbmRleCkge1xuICAgIHJlZWwuc3RvcFZhbHVlcyA9IHJlc3VsdFtyZWVsSW5kZXhdO1xuICB9KTtcbiAgaWYgKHRoaXMuZm9yY2VTdG9wUGVuZGluZykge1xuICAgIHRoaXMucmVlbHMuc3RvcCgpO1xuICAgIHRoaXMuZm9yY2VTdG9wUGVuZGluZyA9IGZhbHNlO1xuICB9XG4gIHRoaXMud2FpdEZvclJlc3VsdCA9IGZhbHNlO1xufTtcbi8qKlxuICogVGhlIG1ldGhvZCB0byBhdHRhY2ggZXZlbnQgaGFuZGxlcnMgb24gZ2FtZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgZXZlbnQuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBmbiAtIFRoZSBldmVudCBjYWxsYmFjay5cbiAqL1xuU2xvdC5wcm90b3R5cGUub24gPSBmdW5jdGlvbihldmVudE5hbWUsIGZuKSB7XG4gIGlmIChldmVudE5hbWUgaW4gdGhpcy5ldmVudHMpIHtcbiAgICB0aGlzLmV2ZW50c1tldmVudE5hbWVdLnB1c2goZm4pO1xuICB9XG59O1xuLyoqXG4gKiBUaGUgbWV0aG9kIHRvIGFkZCBhIHNwcml0ZSBpbiB0aGUgZ2FtZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSByZXNvdXJjZUtleSAtIFRoZSBuYW1lIG9mIHRoZSByZXNvdXJjZSwgd2hpY2ggbXVzdCBoYXZlIGJlZW4gc2V0IG9uIGxvYWRpbmcncyBjb25maWd1cmF0aW9uLlxuICovXG5TbG90LnByb3RvdHlwZS5zcHJpdGUgPSBmdW5jdGlvbihyZXNvdXJjZUtleSkge1xuICB2YXIgc3ByaXRlID0gbmV3IFNsb3QuU3ByaXRlKHJlc291cmNlS2V5LCB0aGlzLmVuZ2luZSk7XG4gIHJldHVybiBzcHJpdGU7XG59O1xuLyoqXG4gKiBEZXNjcmliZXMgZ2FtZSBhY3Rpb25zLiBDYW4gYmUgYXR0YWNoZWQgdG8gc3ByaXRlcy5cbiAqIEBleGFtcGxlXG4gKiBsZXQgYnV0dG9uUGxheSA9IGdhbWUuc3ByaXRlKCdidG4tcGxheScpO1xuICogYnV0dG9uUGxheS5hY3Rpb24gPSBTbG90LkFDVElPTi5QTEFZO1xuICovXG5TbG90LkFDVElPTiA9IHtcbiAgTk9fQUNUSU9OOiAwLFxuICBQTEFZOiAxLFxufTsiLCJTbG90LkdhbWUgPSBmdW5jdGlvbih3aWR0aCwgaGVpZ2h0KSB7XG4gIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gIFBJWEkudXRpbHMuc2tpcEhlbGxvKCk7XG4gIHRoaXMucmVuZGVyZXIgPSBuZXcgUElYSS5hdXRvRGV0ZWN0UmVuZGVyZXIoe1xuICAgIHdpZHRoOiA4MDAsXG4gICAgaGVpZ2h0OiA2MDAsXG4gICAgdHJhbnNwYXJlbnQ6IGZhbHNlLFxuICB9KTtcbiAgdGhpcy5zdGFnZSA9IG5ldyBQSVhJLkNvbnRhaW5lcigpO1xuXG4gIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgUElYSS5UaWNrZXIuc2hhcmVkLmFkZChmdW5jdGlvbigpIHtcbiAgICBfdGhpcy5yZW5kZXJlci5yZW5kZXIoX3RoaXMuc3RhZ2UpO1xuICB9LCBQSVhJLlVQREFURV9QUklPUklUWS5OT1JNQUwpO1xufTsiLCJTbG90LlJlZWxzQ29udHJvbGxlciA9IGZ1bmN0aW9uKGdhbWUpIHtcbiAgdGhpcy5yZWVscyA9IFtdO1xuICB0aGlzLmVuZ2luZSA9IGdhbWUuZW5naW5lO1xuICB0aGlzLmdhbWUgPSBnYW1lO1xuICB0aGlzLnggPSAwO1xuICB0aGlzLnkgPSAwO1xuICB0aGlzLmV2ZW50cyA9IHtcbiAgICBvblN0YXJ0OiBbXSxcbiAgICBvblN0b3A6IFtdLFxuICB9O1xuICB0aGlzLnJvbGxpbmcgPSBmYWxzZTtcblxuICB2YXIgX3RoaXMgPSB0aGlzO1xuICBmdW5jdGlvbiByZXNpemVBbmRQb3NpdGlvbigpIHtcbiAgICBfdGhpcy5yZWVscy5mb3JFYWNoKGZ1bmN0aW9uKHJlZWwsIHJlZWxJbmRleCkge1xuICAgICAgcmVlbC5jb250YWluZXIueCA9IChyZWVsLnggKiBnYW1lLmVuZ2luZS5yZW5kZXJlci52aWV3LndpZHRoKSAvIGdhbWUuZW5naW5lLndpZHRoO1xuICAgICAgcmVlbC5jb250YWluZXIueSA9IChyZWVsLnkgKiBnYW1lLmVuZ2luZS5yZW5kZXJlci52aWV3LmhlaWdodCkgLyBnYW1lLmVuZ2luZS5oZWlnaHQ7XG4gICAgICByZWVsLnN5bWJvbHMuZm9yRWFjaChmdW5jdGlvbihzeW1ib2wpIHtcbiAgICAgICAgc3ltYm9sLnNjYWxlLnggPSBnYW1lLmVuZ2luZS5yZW5kZXJlci52aWV3LndpZHRoIC8gZ2FtZS5lbmdpbmUud2lkdGg7XG4gICAgICAgIHN5bWJvbC5zY2FsZS55ID0gZ2FtZS5lbmdpbmUucmVuZGVyZXIudmlldy5oZWlnaHQgLyBnYW1lLmVuZ2luZS5oZWlnaHQ7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuICByZXNpemVBbmRQb3NpdGlvbigpO1xuICB2YXIgcm9sbGluZ1RpbWUgPSAwO1xuICBQSVhJLlRpY2tlci5zaGFyZWQuYWRkKGZ1bmN0aW9uKGRlbHRhKSB7XG4gICAgdmFyIGFjdGl2ZSA9IGZhbHNlO1xuICAgIF90aGlzLnJlZWxzLmZvckVhY2goZnVuY3Rpb24ocmVlbCwgcmVlbEluZGV4KSB7XG4gICAgICByZXNpemVBbmRQb3NpdGlvbigpO1xuICAgICAgXG4gICAgICByZWVsLnJlbmRlcihnYW1lLnNldHRpbmdzLnNwZWVkLCBnYW1lLnNldHRpbmdzLnJlZWxCb3VuY2VEdXJhdGlvbiwgcmVlbEluZGV4KTtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZWVsLnN5bWJvbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHN5bWJvbCA9IHJlZWwuc3ltYm9sc1tpXTtcbiAgICAgICAgc3ltYm9sLnkgPSAoc3ltYm9sLmhlaWdodCAqIChpIC0gMSkpICsgKDAgKyByZWVsLm9mZnNldCk7XG4gICAgICAgIGlmIChyZWVsLnZhbHVlc1tpXSkge1xuICAgICAgICAgIGlmICgnc3ltYm9sLScgKyByZWVsLnZhbHVlc1tpXSBpbiBQSVhJLkxvYWRlci5zaGFyZWQucmVzb3VyY2VzKSB7XG4gICAgICAgICAgICBzeW1ib2wudGV4dHVyZSA9IFBJWEkuTG9hZGVyLnNoYXJlZC5yZXNvdXJjZXNbJ3N5bWJvbC0nICsgcmVlbC52YWx1ZXNbaV1dLnRleHR1cmU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN5bWJvbC50ZXh0dXJlID0gUElYSS5UZXh0dXJlLkVNUFRZO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzeW1ib2wudGV4dHVyZSA9IFBJWEkuVGV4dHVyZS5FTVBUWTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICB2YXIgbSA9IHJlZWwubWFzaztcbiAgICAgIG0ueCA9IHJlZWwuY29udGFpbmVyLng7XG4gICAgICBtLnkgPSByZWVsLmNvbnRhaW5lci55O1xuICAgICAgbS5jbGVhcigpO1xuICAgICAgbS5iZWdpbkZpbGwoMHgwMDAwMDApO1xuICAgICAgbS5kcmF3UmVjdCgwLCAwLCByZWVsLnN5bWJvbHNbMF0ud2lkdGgsIHJlZWwuc3ltYm9sc1swXS5oZWlnaHQgKiByZWVsLnBvc2l0aW9ucyk7XG4gICAgICBtLmVuZEZpbGwoKTtcblxuICAgICAgYWN0aXZlID0gcmVlbC5yb2xsaW5nID09IHRydWUgfHwgIWlzTmFOKHBhcnNlSW50KHJlZWwuc3RvcHBpbmcpKTtcblxuICAgICAgaWYgKGFjdGl2ZSkge1xuICAgICAgICB2YXIgcmVlbFN0b3BUaW1lID0gZ2FtZS5zZXR0aW5ncy5zcGluVGltZSArIChyZWVsSW5kZXggKiBnYW1lLnNldHRpbmdzLnNwaW5UaW1lQmV0d2VlblJlZWxzKTtcbiAgICAgICAgaWYgKHJvbGxpbmdUaW1lID4gcmVlbFN0b3BUaW1lKSB7XG4gICAgICAgICAgcmVlbC5zdG9wKCk7IC8vIEZJWE1FOiBkb24ndCBjYWxsIHN0b3AgbXVsdGlwbGUgdGltZXNcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKCFfdGhpcy5yb2xsaW5nICYmIGFjdGl2ZSkge1xuICAgICAgX3RoaXMucm9sbGluZyA9IHRydWU7XG4gICAgICBfdGhpcy5ldmVudHMub25TdGFydC5mb3JFYWNoKGZ1bmN0aW9uKGZuKSB7XG4gICAgICAgIGZuKCk7XG4gICAgICB9KTsgXG4gICAgfSBlbHNlIGlmIChfdGhpcy5yb2xsaW5nICYmICFhY3RpdmUpIHtcbiAgICAgIF90aGlzLnJvbGxpbmcgPSBmYWxzZTtcbiAgICAgIHJvbGxpbmdUaW1lID0gMDtcbiAgICAgIF90aGlzLmV2ZW50cy5vblN0b3AuZm9yRWFjaChmdW5jdGlvbihmbikge1xuICAgICAgICBmbigpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKGFjdGl2ZSAmJiAhZ2FtZS53YWl0Rm9yUmVzdWx0KSB7XG4gICAgICByb2xsaW5nVGltZSArPSBkZWx0YSAqIDE2LjY2NztcbiAgICB9XG4gIH0sIFBJWEkuVVBEQVRFX1BSSU9SSVRZLkhJR0gpO1xufTtcblxuU2xvdC5SZWVsc0NvbnRyb2xsZXIucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uKHBvc2l0aW9ucywgc3ltYm9sQ291bnQsIHN5bWJvbFdpZHRoLCBzeW1ib2xIZWlnaHQpIHtcbiAgdmFyIHJlZWwgPSBuZXcgU2xvdC5SZWVsKHBvc2l0aW9ucywgc3ltYm9sQ291bnQsIHN5bWJvbFdpZHRoLCBzeW1ib2xIZWlnaHQpO1xuICB0aGlzLmVuZ2luZS5zdGFnZS5hZGRDaGlsZChyZWVsLmNvbnRhaW5lcik7XG4gIHRoaXMuZW5naW5lLnN0YWdlLmFkZENoaWxkKHJlZWwubWFzayk7XG4gIHRoaXMucmVlbHMucHVzaChyZWVsKTtcbiAgcmV0dXJuIHJlZWw7XG59O1xuXG5TbG90LlJlZWxzQ29udHJvbGxlci5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24oaW5kZXgpIHtcbiAgcmV0dXJuIHRoaXMucmVlbHNbaW5kZXhdO1xufTtcblxuU2xvdC5SZWVsc0NvbnRyb2xsZXIucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMucmVlbHMuZm9yRWFjaChmdW5jdGlvbihyZWVsKSB7XG4gICAgcmVlbC5yb2xsKCk7XG4gIH0pO1xufTtcblxuU2xvdC5SZWVsc0NvbnRyb2xsZXIucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5yZWVscy5mb3JFYWNoKGZ1bmN0aW9uKHJlZWwpIHtcbiAgICByZWVsLnN0b3AoKTtcbiAgfSk7XG59O1xuXG5TbG90LlJlZWxzQ29udHJvbGxlci5wcm90b3R5cGUub25TdGFydCA9IGZ1bmN0aW9uKGZuKSB7XG4gIHRoaXMuZXZlbnRzLm9uU3RhcnQucHVzaChmbik7XG59O1xuXG5TbG90LlJlZWxzQ29udHJvbGxlci5wcm90b3R5cGUub25TdG9wID0gZnVuY3Rpb24oZm4pIHtcbiAgdGhpcy5ldmVudHMub25TdG9wLnB1c2goZm4pO1xufTsiLCIvKipcbiAqIFJlcHJlc2VudHMgYSByZWVsIGluIHRoZSBnYW1lLlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge251bWJlcn0gcG9zaXRpb25zIC0gTnVtYmVyIG9mIHJlZWwgcG9zaXRpb25zLlxuICovXG5TbG90LlJlZWwgPSBmdW5jdGlvbihwb3NpdGlvbnMpIHtcbiAgdGhpcy5wb3NpdGlvbnMgPSBwb3NpdGlvbnM7XG4gIHRoaXMudmFsdWVzID0gW107XG4gIHRoaXMuc3BpblZhbHVlcyA9IFtdO1xuICB0aGlzLnN0b3BWYWx1ZXMgPSBbXTtcbiAgdGhpcy5zeW1ib2xzID0gW107XG4gIHRoaXMuY29udGFpbmVyID0gbmV3IFBJWEkuQ29udGFpbmVyKCk7XG4gIHRoaXMubWFzayA9IG5ldyBQSVhJLkdyYXBoaWNzKCk7XG4gIHRoaXMub2Zmc2V0ID0gMDtcbiAgdGhpcy5yb2xsaW5nID0gZmFsc2U7XG4gIHRoaXMuc3RvcHBpbmcgPSBmYWxzZTtcblxuICB0aGlzLmNvbnRhaW5lci5tYXNrID0gdGhpcy5tYXNrO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcG9zaXRpb25zICsgMTsgaSsrKSB7XG4gICAgdmFyIHN5bWJvbCA9IG5ldyBQSVhJLlNwcml0ZShQSVhJLlRleHR1cmUuRU1QVFkpO1xuICAgIHRoaXMuY29udGFpbmVyLmFkZENoaWxkKHN5bWJvbCk7XG4gICAgdGhpcy5zeW1ib2xzLnB1c2goc3ltYm9sKTtcbiAgfVxufTtcblxuU2xvdC5SZWVsLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbihzcGVlZCwgYm91bmNlRHVyYXRpb24sIHJlZWxJbmRleCkge1xuICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gIGlmICh0aGlzLnJvbGxpbmcpIHtcbiAgICB0aGlzLm9mZnNldCArPSB0aGlzLnN5bWJvbHNbMF0uaGVpZ2h0ICogc3BlZWQ7XG4gICAgXG4gICAgaWYgKHRoaXMub2Zmc2V0ID49IHRoaXMuc3ltYm9sc1swXS5oZWlnaHQpIHtcbiAgICAgIHRoaXMub2Zmc2V0ID0gMDtcbiAgICAgIGlmICghaXNOYU4ocGFyc2VJbnQodGhpcy5zdG9wcGluZykpKSB7XG4gICAgICAgIGlmICghdGhpcy5zdG9wVmFsdWVzLmxlbmd0aCkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ05vIHN0b3AgdmFsdWVzIGhhdmUgYmVlbiBzZXQgZm9yIHJlZWw6ICcgKyByZWVsSW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudmFsdWVzLnVuc2hpZnQodGhpcy5zdG9wVmFsdWVzLnBvcCgpKTtcbiAgICAgICAgdGhpcy5zdG9wcGluZysrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy52YWx1ZXMudW5zaGlmdCh0aGlzLnNwaW5WYWx1ZXMucG9wKCkpO1xuICAgICAgfVxuICAgICAgdGhpcy52YWx1ZXMuc3BsaWNlKC0xLCAxKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5zdG9wcGluZyA9PSB0aGlzLnBvc2l0aW9ucyArIDEpIHtcbiAgICAgIHRoaXMucm9sbGluZyA9IGZhbHNlO1xuICAgICAgdGhpcy5zdG9wcGluZysrO1xuICAgICAgdmFyIG8gPSB7XG4gICAgICAgIG9mZnNldDogX3RoaXMuc3ltYm9sc1swXS5oZWlnaHQgKiBzcGVlZCxcbiAgICAgIH07XG4gICAgICB0aGlzLm9mZnNldCA9IG8ub2Zmc2V0O1xuICAgICAgYW5pbWUoe1xuICAgICAgICB0YXJnZXRzOiBvLFxuICAgICAgICBvZmZzZXQ6IDAsXG4gICAgICAgIHJvdW5kOiAxLFxuICAgICAgICBkdXJhdGlvbjogYm91bmNlRHVyYXRpb24sXG4gICAgICAgIGVhc2luZzogJ2Vhc2VPdXRRdWludCcsXG4gICAgICAgIHVwZGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgX3RoaXMub2Zmc2V0ID0gby5vZmZzZXQ7XG4gICAgICAgIH0sXG4gICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBfdGhpcy5zdG9wcGluZyA9IGZhbHNlO1xuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgfVxuICB9XG59O1xuLyoqXG4gKiBTdGFydHMgcmVlbCBzcGlubmluZy5cbiAqL1xuU2xvdC5SZWVsLnByb3RvdHlwZS5yb2xsID0gZnVuY3Rpb24oKSB7XG4gIGlmICghdGhpcy5yb2xsaW5nICYmIHRoaXMuc3RvcHBpbmcgPT09IGZhbHNlKSB7XG4gICAgdGhpcy5yb2xsaW5nID0gdHJ1ZTtcbiAgfVxufTtcbi8qKlxuICogU3RvcHMgcmVlbCBmcm9tIHNwaW5uaW5nLlxuICovXG5TbG90LlJlZWwucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbigpIHtcbiAgaWYgKHRoaXMucm9sbGluZyAmJiB0aGlzLnN0b3BwaW5nID09PSBmYWxzZSkge1xuICAgIHRoaXMuc3RvcHBpbmcgPSAwO1xuICB9XG59O1xuIiwiU2xvdC5TcHJpdGUgPSBmdW5jdGlvbihyZXNvdXJjZUtleSwgZW5naW5lKSB7XG4gIHRoaXMuaW5zdGFuY2UgPSBuZXcgUElYSS5TcHJpdGUoUElYSS5Mb2FkZXIuc2hhcmVkLnJlc291cmNlc1tyZXNvdXJjZUtleV0udGV4dHVyZSk7XG4gIHRoaXMueCA9IDA7XG4gIHRoaXMueSA9IDA7XG4gIFxuICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLCB7XG4gICAgYWN0aW9uOiB7XG4gICAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuaW5zdGFuY2UuaW50ZXJhY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pbnN0YW5jZS5vZmYoJ3BvaW50ZXJkb3duJyk7XG4gICAgICAgIHN3aXRjaCAodmFsdWUpIHtcbiAgICAgICAgICBjYXNlIFNsb3QuQUNUSU9OLlBMQVk6XG4gICAgICAgICAgICB0aGlzLmluc3RhbmNlLmludGVyYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuaW5zdGFuY2Uub24oJ3BvaW50ZXJkb3duJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIGVuZ2luZS5nYW1lLnBsYXkoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH07XG4gICAgICB9LFxuICAgIH0sXG4gICAgdmlzaWJsZToge1xuICAgICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICB0aGlzLmluc3RhbmNlLnZpc2libGUgPSB2YWx1ZTtcbiAgICAgIH0sXG4gICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbnN0YW5jZS52aXNpYmxlO1xuICAgICAgfSxcbiAgICB9LFxuICB9KTtcblxuICB2YXIgX3RoaXMgPSB0aGlzO1xuICBmdW5jdGlvbiByZXNpemVBbmRQb3NpdGlvbigpIHtcbiAgICB2YXIgcGl4aVNwcml0ZSA9IF90aGlzLmluc3RhbmNlO1xuICAgIHBpeGlTcHJpdGUuc2NhbGUueCA9IGVuZ2luZS5yZW5kZXJlci52aWV3LndpZHRoIC8gZW5naW5lLndpZHRoO1xuICAgIHBpeGlTcHJpdGUuc2NhbGUueSA9IGVuZ2luZS5yZW5kZXJlci52aWV3LmhlaWdodCAvIGVuZ2luZS5oZWlnaHQ7XG4gICAgcGl4aVNwcml0ZS54ID0gKF90aGlzLnggKiBlbmdpbmUucmVuZGVyZXIudmlldy53aWR0aCkgLyBlbmdpbmUud2lkdGg7XG4gICAgcGl4aVNwcml0ZS55ID0gKF90aGlzLnkgKiBlbmdpbmUucmVuZGVyZXIudmlldy5oZWlnaHQpIC8gZW5naW5lLmhlaWdodDtcbiAgfVxuICByZXNpemVBbmRQb3NpdGlvbigpO1xuICBQSVhJLlRpY2tlci5zaGFyZWQuYWRkKGZ1bmN0aW9uKCkge1xuICAgIHJlc2l6ZUFuZFBvc2l0aW9uKCk7XG4gIH0sIFBJWEkuVVBEQVRFX1BSSU9SSVRZLkhJR0gpO1xuXG4gIGVuZ2luZS5zdGFnZS5hZGRDaGlsZCh0aGlzLmluc3RhbmNlKTtcbn07Il19